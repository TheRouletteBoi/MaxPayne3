void main()
{
    l_U0 = 1;
    l_U1 = 144;
    l_U3 = 0;
    l_U4 = 0;
    l_U5 = 1500;
    StrCopy( ref l_U15, "DEFAULT_SCRIPTED_CAMERA", 32 );
    StrCopy( ref l_U23, "DEFAULT_SPLINE_CAMERA", 32 );
    l_U41 = 0;
    l_U42 = 0;
    l_U79 = 0;
    l_U80 = 0;
    l_U81 = 0;
    StrCopy( ref l_U466, "Room_fav1_cpt_a_01", 32 );
    StrCopy( ref l_U474, "Room_fav1_cpt_a_02", 32 );
    l_U482 = 0;
    l_U578 = 0;
    l_U579 = 0;
    l_U580 = 1;
    l_U581 = 0;
    l_U582 = 1;
    l_U583 = 1;
    l_U584 = 1;
    l_U585 = 0;
    l_U655 = 0;
    l_U688 = 0;
    l_U715 = -1;
    l_U716 = -1;
    l_U717 = 1816820755;
    l_U727 = 1000;
    l_U728 = 1000;
    l_U762 = 1;
    l_U915 = 0;
    l_U1022 = {-40.99000000, -38.51000000, 15.06000000};
    l_U1025 = 15.00000000;
    l_U1026 = {-41.38000000, -37.40000000, 13.79000000};
    l_U1029 = 0;
    l_U1031 = 0;
     /* WRITESCRIPTLOG */ sub_420( "SP", "Script fav1_bridge.sc is starting...", "###" );
    if (l_U79 == 0)
    {
        if (( /* HAS_SAVEFILE_LOADED */ sub_554( ref l_U43 )) == 0)
        {
            if (g_U1048 == 7)
            {
                 /* F_GIVEPEDWEAPON */ sub_3287(  /* PLAYER_PED_ID */ sub_701(), g_U1816, 200, 0, 1 );
            }
        }
        l_U79 = 1;
    }
    g_U782 = 1;
    while (g_U782 == 1)
    {
         /* P_HANDLE_CHECKPOINTS */ sub_5391();
         /* P_HANDLE_EVENTS */ sub_8697();
        WAIT( 0 );
    }
     /* P_CLEANUP_ALL */ sub_7621();
     /* P_UNLOAD_ASSETS */ sub_44914();
    SET_SCRIPT_AS_NO_LONGER_NEEDED( "s_fav1_bridge" );
     /* WRITESCRIPTLOG */ sub_420( "SP", "Script fav1_bridge.sc is terminating...", "###" );
    return;
}

/* WRITESCRIPTLOG */ void sub_420(unknown uParam0, unknown uParam1, string sParam2)
{
    unknown uVar5;

    if (IS_STRING_NULL( sParam2 ))
    {
        sParam2 = "###";
    }
    uVar5 = GET_REAL_GAME_TIMER();
    DISPLAYF( "[{0}][{1}]{3} {2} {3}", 4, 513, uVar5, 1537, uParam0, 1537, uParam1, 1537, sParam2 );
    return;
}

/* HAS_SAVEFILE_LOADED */ int sub_554(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_420( "rw", "HAS_SAVEFILE_LOADED()", 0 );
    if (IS_ARCADE_MODE_ACTIVE())
    {
        return 0;
    }
    if (HAS_LOAD_JUST_OCCURRED())
    {
        if ((GET_CHECKPOINT_SELECTED() == 1) || (GET_CHECKPOINT_SELECTED() == 0))
        {
            return 0;
        }
        else
        {
            l_U0 = 0;
            CHECKPOINT_STORAGE_LOAD( uParam0, l_U1 );
             /* P_RESTORE_PLAYER_DATA_CHECKPOINT */ sub_795( uParam0,  /* PLAYER_PED_ID */ sub_701() );
        }
        if (IS_IN_STORY_MODE())
        {
            START_CONTEXT( "LEVEL" );
        }
        return 1;
    }
    return 0;
}

/* PLAYER_PED_ID */ int sub_701()
{
    if (DOES_MAIN_PLAYER_EXIST())
    {
        return GET_PLAYER_PED(  /* PLAYER_ID */ sub_739() );
    }
    return 0;
}

/* PLAYER_ID */ void sub_739()
{
    return GET_PLAYER_ID();
}

/* P_RESTORE_PLAYER_DATA_CHECKPOINT */ void sub_795(int iParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    int iVar9;
    int iVar10;
    int iVar11;
    unknown uVar12;
    unknown uVar13;

     /* WRITESCRIPTLOG */ sub_420( "GA", "Restoring the player to the checkpoint - Start", 0 );
    if (l_U0)
    {
        INCREMENT_CHECKPOINT_ATTEMPT();
    }
    g_U648 = 0;
    if (iParam0->_fU0 == 0)
    {
        SCRIPT_ASSERT( "ERROR: Trying to restore a checkpoint that hasn't been saved!!!", 0 );
    }
     /* CLOSE_CURRENT_LEVEL_CONTEXT */ sub_1014( iParam0->_fU52 );
    if (SCRIPT_VAR_EXISTS( "SV_LOAD_CNT" ))
    {
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", (SCRIPT_VAR_GET_INT( "SV_LOAD_CNT" )) + 1 );
    }
    else
    {
        SCRIPT_VAR_ADD_INT( "SV_LOAD_CNT" );
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", 1 );
    }
    CLEAR_KILL_STREAK_RECORDS();
    AUDIO_MUSIC_SUSPEND( 0 );
    DEACTIVATE_BULLET_TIME( 1, 0 );
    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
    REMOVE_ALL_ENVIRONMENT_BLOOD();
    RESET_BLOOD_EFFECTS();
    REMOVE_ALL_GLINTS();
    RESET_DESTROYED_COVER();
    RESET_ALL_PTFX();
    uVar4 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam1 )};
    CLEAR_AREA( iParam0->_fU4, 10000.00000000, 1 );
    if (NOT (IS_PED_DEAD( uParam1 )))
    {
        SET_PED_COORDS( uParam1, iParam0->_fU4, 1 );
         /* LOADCOLLISIONFORPED */ sub_2178( uParam1 );
        SET_PED_HEADING( uParam1, iParam0->_fU16 );
    }
    CLEAR_AREA( uVar4, 3.00000000, 1 );
    LOAD_SCENE( iParam0->_fU4 );
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
    iParam0->_fU28 = GET_PED_MAX_HEALTH( uParam1 );
    SET_PED_HEALTH( uParam1, iParam0->_fU28, 0 );
    RESET_PED_GORE( uParam1 );
    RESET_PED_VISIBLE_DAMAGE( uParam1 );
    REMOVE_ALL_PED_WEAPONS( uParam1 );
    if (NOT (iParam0->_fU56 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPONTOHOLSTER */ sub_2492( uParam1, iParam0->_fU56, 0, iParam0->_fU76, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_2971( uVar7, iParam0 + 96, iParam0 + 100 );
    }
    if (NOT (iParam0->_fU60 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPONTOHOLSTER */ sub_2492( uParam1, iParam0->_fU60, 1, iParam0->_fU80, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_2971( uVar7, iParam0 + 104, iParam0 + 108 );
    }
    if (NOT (iParam0->_fU64 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPONTOHOLSTER */ sub_2492( uParam1, iParam0->_fU64, 2, iParam0->_fU84, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_2971( uVar7, iParam0 + 112, iParam0 + 116 );
    }
    if (NOT (iParam0->_fU68 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPON */ sub_3287( uParam1, iParam0->_fU68, iParam0->_fU88, 0, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_2971( uVar7, iParam0 + 120, iParam0 + 124 );
    }
    if (NOT (iParam0->_fU72 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPON */ sub_3287( uParam1, iParam0->_fU72, iParam0->_fU92, 1, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_2971( uVar7, iParam0 + 128, iParam0 + 132 );
    }
    if (l_U0 == 1)
    {
        if ((IS_PED_DEAD( uParam1 )) == 0)
        {
            if (iParam0->_fU68 != -1569615261)
            {
                uVar7 = GET_WEAPON_FROM_HAND( uParam1, 0, 0 );
                if ((GET_DOES_WEAPON_EXIST( uVar7 )) == 1)
                {
                    uVar8 = GET_WEAPON_TYPE( uVar7 );
                    if (( /* F_CAN_GIVE_AMMO_TO_REGULAR_WEAPON_TYPE */ sub_3859( uVar8 )) == 1)
                    {
                        iVar9 = GET_MAX_AMMO_IN_HAND_CLIP_MP( uParam1, 0 );
                        iVar10 = iParam0->_fU88;
                        if (iVar10 < iVar9)
                        {
                            iVar11 = iVar9 - iVar10;
                            ADD_AMMO_TO_PED( uParam1, uVar8, iVar11, 0 );
                            SET_WEAPON_AMMO_IN_CLIP( uVar7, iVar9 );
                        }
                    }
                }
            }
        }
    }
     /* START_NEW_LEVEL_CONTEXT */ sub_4061( iParam0->_fU52 );
    SET_ADRENALINE_AMT( iParam0->_fU32 );
    if (GET_ADRENALINE_AMT() < 0.20000000)
    {
        SET_ADRENALINE_AMT( 0.20000000 );
    }
    SET_PAYNEKILLER_AMT( iParam0->_fU36 );
    SET_PED_DUCKING(  /* PLAYER_PED_ID */ sub_701(), 0 );
    GET_TIME_OF_DAY( ref uVar12, ref uVar13 );
    if (iParam0->_fU140 == 1)
    {
        FREEZE_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    else
    {
        RELEASE_TIME_OF_DAY();
        SET_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    SET_PED_SWEAT( uParam1, iParam0->_fU136, -1.00000000 );
    RESTORE_PICKUPS();
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( iParam0->_fU20, 1065353216, 0 );
    SET_GAMEPLAY_CAM_RELATIVE_PITCH( iParam0->_fU24, 1065353216, 0 );
    HANDLE_CHECKPOINT_RESTART();
    if (l_U0)
    {
        ADJUST_AMMO_ATTEMPTS();
        ADJUST_PAIN_KILLERS_ATTEMPTS();
    }
    l_U0 = 1;
    DISPLAY_HUD( 1 );
    if (IS_DEATH_PANEL_WIPE_ALLOWED())
    {
        if (IS_BULLET_CAMERA_WIPE_STOPPED())
        {
            RESUME_BULLET_CAMERA_WIPE_ON_FADEIN();
        }
    }
     /* WRITESCRIPTLOG */ sub_420( "GA", "Restoring the player to the checkpoint - End", 0 );
    return;
}

/* CLOSE_CURRENT_LEVEL_CONTEXT */ void sub_1014(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    iVar3 = 0;
    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        iVar3 =  /* GET_MISSION_INDEX_FROM_NAME */ sub_1076( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, iVar3, 513, uParam0 );
    END_CONTEXT( ref uVar4 );
    return;
}

/* GET_MISSION_INDEX_FROM_NAME */ int sub_1076(unknown uParam0)
{
    if (ARE_STRINGS_EQUAL( uParam0, "s_air" ))
    {
        return 21;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_beach" ))
    {
        return 22;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_boat" ))
    {
        return 10;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_booze" ))
    {
        return 0;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_busdep" ))
    {
        return 17;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_cemet" ))
    {
        return 15;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_club" ))
    {
        return 5;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_clubride" ))
    {
        return 4;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fashion" ))
    {
        return 3;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav0" ))
    {
        return 13;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav1" ))
    {
        return 14;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav2" ))
    {
        return 16;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fire" ))
    {
        return 12;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_hotel" ))
    {
        return 19;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_intro" ))
    {
        return 1;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_marina" ))
    {
        return 9;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc" ))
    {
        return 7;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc2" ))
    {
        return 8;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_office" ))
    {
        return 11;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_pana" ))
    {
        return 18;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_police" ))
    {
        return 20;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_stad" ))
    {
        return 6;
    }
    else
    {
        PRINTSTRING( uParam0 );
        PRINTSTRING( uParam0 );
        PRINTSTRING( uParam0 );
    };;;;;;;;;;;;;;;;;;;;;;
    return 99;
}

/* LOADCOLLISIONFORPED */ void sub_2178(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
        SET_LOAD_COLLISION_FOR_PED_FLAG( uParam0, 1 );
        SET_PED_COORDS_NO_OFFSET( uParam0, uVar3 );
        FREEZE_PED_POSITION( uParam0, 1 );
        REQUEST_COLLISION_AT_COORD( uVar3 );
        if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
        {
            FREEZE_PED_POSITION( uParam0, 0 );
        }
    }
    return;
}

/* F_GIVEPEDWEAPONTOHOLSTER */ void sub_2492(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's holster MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HOLSTER( uParam0, uParam1, uParam3, uParam2 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
                    DISPLAYF( "[SP]### Waiting for a weapon to exist: {} ###", 1, 513, uParam1 );
                }
            }
        }
    }
    else
    {
         /* WRITE_STRING */ sub_2896( "[SP]### (F_GivePedWeaponToHolster) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

/* WRITE_STRING */ void sub_2896(unknown uParam0)
{
    PRINTSTRING( uParam0 );
    PRINTNL();
    return;
}

/* P_RESTORE_WEAPON_ATTACHMENTS */ void sub_2971(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        if (IS_BIT_SET( (uParam1^), I ))
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, IS_BIT_SET( (uParam2^), I ) );
        }
        else
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
        }
    }
    return;
}

/* F_GIVEPEDWEAPON */ void sub_3287(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's hand MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, uParam2, uParam3 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
                    DISPLAYF( "[SP]### Waiting for a weapon to exist: {} ###", 1, 513, uParam1 );
                }
            }
        }
    }
    else
    {
         /* WRITE_STRING */ sub_2896( "[SP]### (F_GivePedWeapon) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

/* F_CAN_GIVE_AMMO_TO_REGULAR_WEAPON_TYPE */ int sub_3859(unknown uParam0)
{
    int iVar3;

    iVar3 = GET_WEAPONTYPE_AMMO( uParam0 );
    if ((iVar3 == -1383321053) || ((iVar3 == -1295933220) || ((iVar3 == 1138793073) || (iVar3 == -1088031219))))
    {
        return 1;
    }
    return 0;
}

/* START_NEW_LEVEL_CONTEXT */ void sub_4061(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        uVar3 =  /* GET_MISSION_INDEX_FROM_NAME */ sub_1076( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, uParam0 );
     /* CLEAR_GG_CONTEXTS */ sub_4159( uVar3 );
    START_CONTEXT( ref uVar4 );
    return;
}

/* CLEAR_GG_CONTEXTS */ void sub_4159(int iParam0)
{
    if (iParam0 != 3)
    {
        END_CONTEXT( "S_FAS_GG_PT" );
    }
    if (iParam0 != 5)
    {
        END_CONTEXT( "S_CLB_GG_M3" );
        END_CONTEXT( "S_CLB_MS" );
    }
    if (iParam0 != 6)
    {
        END_CONTEXT( "S_STA_GG_M1" );
        END_CONTEXT( "S_STA_GG_M81" );
    }
    if (iParam0 != 7)
    {
        END_CONTEXT( "S_NY1_GG_19" );
    }
    if (iParam0 != 8)
    {
        END_CONTEXT( "S_NY2_GG_40" );
        END_CONTEXT( "S_NY2_GG_M5" );
    }
    if (iParam0 != 9)
    {
        END_CONTEXT( "S_MAR_GG_LM" );
        END_CONTEXT( "S_MAR_GG_9M" );
    }
    if (iParam0 != 11)
    {
        END_CONTEXT( "S_OFF_GG_MD" );
    }
    if (iParam0 != 14)
    {
        END_CONTEXT( "S_FV1_GG_SP" );
        END_CONTEXT( "S_FV1_GG_SA" );
    }
    if (iParam0 != 15)
    {
        END_CONTEXT( "S_NYC_GG_6M" );
        END_CONTEXT( "S_NYC_GG_A9" );
    }
    if (iParam0 != 16)
    {
        END_CONTEXT( "S_FV2_GG_D5" );
        END_CONTEXT( "S_FV2_GG_97" );
    }
    if (iParam0 != 17)
    {
        END_CONTEXT( "S_BUS_GG_M4" );
        END_CONTEXT( "S_BUS_GG_FN" );
    }
    if (iParam0 != 18)
    {
        END_CONTEXT( "S_PAN_GG_AK" );
        END_CONTEXT( "S_PAN_GG_SS" );
    }
    if (iParam0 != 19)
    {
        END_CONTEXT( "S_HOT_GG_G3" );
        END_CONTEXT( "S_HOT_GG_LA" );
    }
    if (iParam0 != 20)
    {
        END_CONTEXT( "S_POL_GG_G6" );
        END_CONTEXT( "S_POL_GG_RP" );
        END_CONTEXT( "S_POL_GG_MP" );
    }
    if (iParam0 != 21)
    {
        END_CONTEXT( "S_AIR_GG_RG" );
        END_CONTEXT( "S_AIR_GG_PD" );
    }
    return;
}

/* P_HANDLE_CHECKPOINTS */ void sub_5391()
{
    if (g_U1049 == 7)
    {
        switch (l_U80)
        {
            case 0:
            if (( /* RESTARTING_CHECKPOINT */ sub_5508()) || (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )))
            {
                l_U80 = 1;
                 /* WRITESCRIPTLOG */ sub_420( "kja", "eFailState = FAIL_WAITING_FOR_PLAYER", 0 );
            }
            break;
            case 1:
            if ( /* IS_RESTART_ACTIVE */ sub_6027())
            {
                l_U80 = 2;
            }
            else if (( /* F_CHECK_QUIT_RETRY */ sub_6087( 0 )) == 1)
            {
                l_U80 = 2;
            }
            break;
            case 2:
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )))
            {
                l_U80 = 3;
                 /* WRITESCRIPTLOG */ sub_420( "kja", "eFailState = FAIL_CLEANUP_ALL", 0 );
            }
            break;
            case 3:
            if ((IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_739() )) == 0)
            {
                SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_739(), 0, 0 );
            }
             /* P_CLEANUP_ALL */ sub_7621();
            l_U80 = 4;
             /* WRITESCRIPTLOG */ sub_420( "kja", "eFailState = FAIL_RESTORE_PLAYER", 0 );
            break;
            case 4:
             /* P_RESTORE_PLAYER_DATA_CHECKPOINT */ sub_795( ref l_U43,  /* PLAYER_PED_ID */ sub_701() );
            l_U80 = 5;
             /* WRITESCRIPTLOG */ sub_420( "kja", "eFailState = FAIL_RESTART_CHECKPOINT", 0 );
            break;
            case 5:
            l_U81 = 0;
            g_U779 = 0;
            l_U1031 = 0;
            l_U80 = 0;
             /* WRITESCRIPTLOG */ sub_420( "kja", "eFailState = FAIL_IDLE", 0 );
            break;
        }
    }
    else if (( /* IS_RESTART_ACTIVE */ sub_6027()) || (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )))
    {
        g_U782 = 0;
        g_U775 = 0;
         /* P_RESET_CHECKPOINT_THREAD */ sub_8627( ref g_U879[7] );
    }
    return;
}

/* RESTARTING_CHECKPOINT */ int sub_5508()
{
    if (HAS_SELECTED_RETRY_CHECKPOINT())
    {
        if (IS_IN_NYMINUTE_MODE())
        {
            SWITCH_TO_LEVEL( GET_INDEX_OF_CURRENT_LEVEL() );
        }
        if (HAS_CUTSCENE_FINISHED() == 0)
        {
            return 0;
        }
        l_U0 = 0;
        g_U648 = 1;
        DO_SCREEN_FADE_OUT( 0 );
        ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 1 );
        TERMINATE_GAME_BULLET_CAMERA();
        if (IS_ANIMATED_CAMERA_PLAYING())
        {
            CAMERA_ANIMATED_STOP( 0, 0 );
        }
        STOP_ALL_SCRIPTED_CONVERSATIONS( 0 );
        DEACTIVATE_BULLET_TIME( 1, 0 );
        END_POSTFX_BLENDER( 0, 0 );
        END_POSTFX_BLENDER( 2, 0 );
        END_POSTFX_BLENDER( 3, 0 );
        END_POSTFX_BLENDER( 4, 0 );
        END_POSTFX_BLENDER( 5, 0 );
        END_POSTFX_BLENDER( 7, 0 );
        END_POSTFX_BLENDER( 9, 0 );
        END_POSTFX_BLENDER( 10, 0 );
        END_POSTFX_BLENDER( 11, 0 );
        END_POSTFX_BLENDER( 12, 0 );
        END_POSTFX_BLENDER( 13, 0 );
        END_POSTFX_BLENDER( 14, 0 );
        END_POSTFX_BLENDER( 15, 0 );
        END_POSTFX_BLENDER( 16, 0 );
        STOP_ALL_IMAGEFX( 0 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )))
        {
            SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_701(), 0 );
            SET_PLAYER_FORCED_AIM(  /* PLAYER_ID */ sub_739(), 0, 0 );
            SET_PLAYER_CAN_USE_SHOOTDODGE(  /* PLAYER_ID */ sub_739(), 1 );
            if ((IS_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_701() )) == 0)
            {
                SET_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_701(), 1 );
            }
        }
        CLEAR_PRINTS();
        CLEAR_HELP();
        SET_INTERACTIONTEXT_VISIBLE( 0 );
        RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
        DESTROY_ALL_CAMS();
        AUDIO_MUSIC_SUSPEND( 500 );
        return 1;
    }
    return 0;
}

/* IS_RESTART_ACTIVE */ void sub_6027()
{
    return g_U648;
}

/* F_CHECK_QUIT_RETRY */ int sub_6087(int iParam0)
{
    iParam0 = 1;
    switch (l_U4)
    {
        case 0:
        if (NOT ( /* HASTIMERBEENACTIVATED */ sub_6165( ref l_U6 )))
        {
            if ((IS_DEATH_PANEL_WIPE_ALLOWED()) AND (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )))
            {
                l_U5 = 2000;
                ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 1 );
            }
             /* CREATETIMER */ sub_6293( ref l_U6, l_U5, 1, 1 );
             /* STARTTIMER */ sub_6441( ref l_U6 );
        }
        if ( /* ISTIMERDONE */ sub_6572( ref l_U6 ))
        {
             /* WRITESCRIPTLOG */ sub_420( "NS", " show fail/retry text", 0 );
            if ((IS_DEATH_PANEL_WIPE_ALLOWED()) AND (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )))
            {
                if ((IS_BULLET_CAMERA_RUNNING( 0 )) == 0)
                {
                    if (IS_SCREEN_FADED_OUT())
                    {
                        DO_SCREEN_FADE_IN( 0 );
                    }
                }
                ENABLE_DEATHHELPERTEXT( 1, 1, 0 );
            }
            else if (IS_SCREEN_FADED_OUT())
            {
                DO_SCREEN_FADE_IN( 0 );
                ENABLE_DEATHHELPERTEXT( 1, iParam0, 0 );
            }
            else
            {
                ENABLE_DEATHHELPERTEXT( 1, iParam0, 0 );
            }
            if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_739() )))
            {
                SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_739(), 0, 0 );
            }
            DISPLAY_HUD( 0 );
            l_U4 = 1;
        }
        break;
        case 1:
        if ((((NOT IS_QUIT_CONFIRMING()) == 1) AND (IS_BUTTON_JUST_PRESSED( 0, 501 ))) || ((N_1855335259()) || (IS_CONTROL_JUST_PRESSED( 2, 82 ))))
        {
            if (IS_QUIT_CONFIRMING() == 1)
            {
                l_U4 = 2;
            }
            else
            {
                l_U4 = 3;
            }
        }
        break;
        case 2:
         /* WRITESCRIPTLOG */ sub_420( "NS", "Player will QUIT", 0 );
         /* P_POSTQUITRETRYCLEANUP */ sub_7067();
        if (iParam0 == 1)
        {
            DO_SCREEN_FADE_OUT( 0 );
        }
        START_PANEL_WIPE( 0, 6 );
        SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
        RETURN_TO_TITLESCREEN( 0 );
        break;
        case 3:
         /* WRITESCRIPTLOG */ sub_420( "NS", "Player will RETRY", 0 );
        if (IS_IN_NYMINUTE_MODE())
        {
            SWITCH_TO_LEVEL( GET_INDEX_OF_CURRENT_LEVEL() );
        }
        if (iParam0 == 1)
        {
            DO_SCREEN_FADE_OUT( 0 );
        }
         /* P_POSTQUITRETRYCLEANUP */ sub_7067();
        return 1;
        break;
    }
    return 0;
}

/* HASTIMERBEENACTIVATED */ int sub_6165(int iParam0)
{
    if (iParam0->_fU20 == 1)
    {
        return 1;
    }
    if (iParam0->_fU16 == 1)
    {
        return 1;
    }
    return 0;
}

/* CREATETIMER */ void sub_6293(int iParam0, unknown uParam1, boolean bParam2, int iParam3)
{
    if (bParam2)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam3 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU12 = uParam1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = bParam2;
    iParam0->_fU32 = iParam3;
    iParam0->_fU8 = 0;
    return;
}

/* STARTTIMER */ void sub_6441(int iParam0)
{
    if (NOT iParam0->_fU20)
    {
        iParam0->_fU20 = 1;
        iParam0->_fU16 = 0;
        if (iParam0->_fU28)
        {
            iParam0->_fU0 = TIMERA();
        }
        else
        {
            iParam0->_fU0 = TIMERB();
        }
        if (iParam0->_fU32 == 1)
        {
            iParam0->_fU0 = TIMERSYSTEM();
        }
        iParam0->_fU4 = iParam0->_fU0;
    }
    return;
}

/* ISTIMERDONE */ int sub_6572(int iParam0)
{
    if (iParam0->_fU16)
    {
        return 0;
    }
    else if (NOT iParam0->_fU20)
    {
        return 0;
    }
    if (iParam0->_fU28)
    {
        iParam0->_fU4 = TIMERA();
    }
    else
    {
        iParam0->_fU4 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU4 = TIMERSYSTEM();
    }
    if ((iParam0->_fU4 - iParam0->_fU0) >= iParam0->_fU12)
    {
        iParam0->_fU16 = 1;
        iParam0->_fU20 = 0;
        return 1;
        break;
    }
    return 0;
}

/* P_POSTQUITRETRYCLEANUP */ void sub_7067()
{
     /* WRITESCRIPTLOG */ sub_420( "NS", "P_PostFailRetryCleanup", 0 );
     /* RESETTIMER */ sub_7140( ref l_U6 );
    ENABLE_DEATHHELPERTEXT( 0, 0, 2000 );
    SET_SCRIPT_CONTROL_RESET_ON_PLAYER_DEATH( 0 );
    if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_739() )))
    {
        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_739(), 1, 0 );
    }
    DISPLAY_HUD( 1 );
    l_U3 = 0;
    l_U3 = l_U3;
    l_U4 = 0;
    return;
}

/* RESETTIMER */ void sub_7140(int iParam0)
{
    if (iParam0->_fU28)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    return;
}

/* P_CLEANUP_ALL */ void sub_7621()
{
     /* WRITESCRIPTLOG */ sub_420( "SP", "P_CLEANUP_ALL", "###" );
    ISEQ_UNREGISTER_ENTITY( -1714429670, "tkpstl1_enemy" );
    ISEQ_UNREGISTER_ENTITY( -1714429670, "tkpstl1_table" );
    ISEQ_TERMINATE( -1714429670 );
    l_U688 = 0;
     /* CLEANPED */ sub_7758( l_U699 );
     /* CLEANOBJECT */ sub_7848( l_U713 );
    if (DOES_SPATIALDATA_COVER_POINT_EXIST( l_U716 ))
    {
        REMOVE_SPATIALDATA_COVER_POINT( l_U716 );
    }
    ISEQ_UNREGISTER_ENTITY( -1286951997, "DUDE" );
    ISEQ_UNREGISTER_ENTITY( -1286951997, "DOOR" );
    ISEQ_TERMINATE( -1286951997 );
    ISEQ_TERMINATE( -1714429670 );
    ISEQ_TERMINATE( -221368695 );
    ISEQ_UNREGISTER_ENTITY( 939658976, "ENEMY" );
    ISEQ_TERMINATE( 939658976 );
     /* CLEANOBJECT */ sub_7848( l_U714 );
     /* CLEANPEDARRAY */ sub_8051( ref l_U651 );
     /* CLEANPEDARRAY */ sub_8051( ref l_U670 );
     /* CLEANPED */ sub_7758( l_U743 );
     /* CLEANPEDARRAY */ sub_8051( ref l_U758 );
     /* CLEANOBJECT */ sub_7848( l_U760 );
     /* CLEANPEDARRAY */ sub_8051( ref l_U777 );
     /* CLEANPEDARRAY */ sub_8051( ref l_U806 );
     /* CLEANPEDARRAY */ sub_8051( ref l_U686 );
     /* CLEANPEDARRAY */ sub_8051( ref g_U876 );
    STOP_SOUND( l_U818, 0 );
     /* CLEANOBJECT */ sub_7848( l_U1030 );
     /* CLEANPLACEMENTARRAY */ sub_8226( ref l_U689 );
     /* CLEANPLACEMENT */ sub_8281( g_U721._fU0 );
    return;
}

/* CLEANPED */ void sub_7758(unknown uParam0)
{
    if (DOES_PED_EXIST( uParam0 ))
    {
        if ((NOT (IS_PED_DEAD( uParam0 ))) || (IS_PED_DEAD( uParam0 )))
        {
            REMOVE_ALL_PED_WEAPONS( uParam0 );
            DELETE_PED( ref uParam0 );
        }
    }
    return;
}

/* CLEANOBJECT */ void sub_7848(unknown uParam0)
{
    if (DOES_OBJECT_EXIST( uParam0 ))
    {
        DELETE_OBJECT( ref uParam0 );
    }
    return;
}

/* CLEANPEDARRAY */ void sub_8051(unknown uParam0)
{
    int I;

    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
         /* CLEANPED */ sub_7758( (uParam0^)[I] );
    }
    return;
}

/* CLEANPLACEMENTARRAY */ void sub_8226(unknown uParam0)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
         /* CLEANPLACEMENT */ sub_8281( (uParam0^)[I] );
    }
    return;
}

/* CLEANPLACEMENT */ void sub_8281(unknown uParam0)
{
    if ((DOES_PLACEMENT_EXIST( uParam0 )) == 1)
    {
        REMOVE_PLACEMENT( uParam0 );
    }
    return;
}

/* P_RESET_CHECKPOINT_THREAD */ void sub_8627(int iParam0)
{
    iParam0->_fU36 = 0;
    iParam0->_fU40 = 0;
    return;
}

/* P_HANDLE_EVENTS */ void sub_8697()
{
    switch (l_U81)
    {
        case 0:
         /* P_REQUEST_ASSETS */ sub_8761();
         /* P_LOAD_H_ASSET */ sub_10085();
         /* P_SETUP_STATIC_DATA */ sub_10131();
         /* P_INITIALIZE_SCRIPT_DATA */ sub_13743();
         /* P_RESET_MAX_CONTEXTUAL_DIALOGUE */ sub_15641();
        if (g_U1049 == 7)
        {
            g_U1049 = 7;
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )))
            {
                if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_739() )))
                {
                    SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_739(), 0, 0 );
                }
                 /* TELEPORTPED */ sub_15840(  /* PLAYER_PED_ID */ sub_701(), g_U1050[7], g_U1174[7] );
                SET_GAMEPLAY_CAM_RELATIVE_HEADING( g_U1216[7], 1065353216, 0 );
                SET_GAMEPLAY_CAM_RELATIVE_PITCH( g_U1258[7], 1065353216, 0 );
                if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )) == 0)
                {
                    FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_701(), 1 );
                }
                LOAD_SCENE( g_U1050[7] );
                if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )) == 0)
                {
                    FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_701(), 0 );
                    SET_PLAYER_FORCED_AIM(  /* PLAYER_ID */ sub_739(), 0, 0 );
                }
            }
        }
        l_U81 = 3;
        break;
        case 3:
        if ( /* F_ARE_ASSETS_LOADED */ sub_16058())
        {
             /* P_START_GAMEPLAY */ sub_17455();
            l_U81 = 4;
        }
        break;
        case 4:
         /* P_HANDLE_GIO_POI */ sub_23047();
        if ( /* F_HANDLE_POI */ sub_24796( ref l_U819 ))
        {
            if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_739() )))
            {
                SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_739(), 0, 0 );
            }
            CAMERA_PLAY_ANIMATED( "LEVEL_S_FAV1_cp_07", "SHRINE_EXPLORATION_ITEM_CAM", 0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0 );
            DISPLAY_HUD( 0 );
            if ((NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_739() ))) AND (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() ))))
            {
                SET_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_701(), 0 );
                SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_739(), 0, 0 );
                FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_701(), 1 );
            }
            if (NOT (HAS_EXPLORATION_ITEM_BEEN_FOUND( "sfav1_Shrine" )))
            {
                FOUND_EXPLORATION_ITEM( "sfav1_Shrine" );
                 /* WRITESCRIPTLOG */ sub_420( "CCB", "Playing SFV1_MEXSCA speech.", 0 );
                 /* KILL_ANY_MISSION_SPEECH */ sub_27305( 0 );
                 /* RESET_SCRIPT_SPEECH_STRUCT */ sub_21334( ref l_U905 );
                if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )))
                {
                     /* WRITESCRIPTLOG */ sub_420( "CCB", "Adding PLAYER_PED_ID ped for sss_SFV1_MEXSCA script speech.", 0 );
                     /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_24516( 0,  /* PLAYER_PED_ID */ sub_701(), "MAX", ref l_U905, 2, 0 );
                }
                 /* PLAY_SINGLE_SPEECH */ sub_21691( "SFV1_MEXSCA", ref l_U905, 7, 1 );
            }
            l_U915 = 1;
        }
        if (l_U915 == 1)
        {
            if (IS_ANIMATED_CAMERA_PLAYING())
            {
                if (CAMERA_ANIMATED_CURRENT_TIME() >= ((CAMERA_ANIMATED_LENGTH( "LEVEL_S_FAV1_cp_07", "SHRINE_EXPLORATION_ITEM_CAM" )) - 200))
                {
                    CAMERA_ANIMATED_STOP( 0, 0 );
                    if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_739() )))
                    {
                        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_739(), 1, 0 );
                    }
                    DISPLAY_HUD( 1 );
                    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )))
                    {
                        SET_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_701(), 1 );
                        FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_701(), 0 );
                    }
                     /* P_ENABLE_POI */ sub_25803( ref l_U819, 1 );
                    l_U915 = 0;
                }
            }
        }
        if (l_U762 == 1)
        {
             /* WRITESCRIPTLOG */ sub_420( "NS", "finding door kick door", 0 );
            l_U761 = FIND_OBJECT_AT_POSITION( "P_f1_wddoor_A", -36.55600000, -51.75400000, 14.89100000, 1.00000000 );
            if (DOES_OBJECT_EXIST( l_U761 ))
            {
                l_U762 = 0;
            }
        }
        if ( /* F_ISPEDINTRIGGERBOXFIRSTTIME */ sub_28618( ref l_U82, g_U876[0], 0 ))
        {
             /* CLEANPEDARRAY */ sub_8051( ref g_U876 );
        }
        if (l_U584 == 1)
        {
            if (IS_PED_DEAD( g_U876[0] ))
            {
                 /* P_ENABLE_BRIDGE_WALLA */ sub_28788();
                l_U584 = 0;
            }
        }
        if (( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_28915( ref l_U103, 0 )) == 1)
        {
            if ((l_U43._fU0 == 0) || (g_U1049 < 7))
            {
                g_U1049 = 7;
                 /* P_SAVE_PLAYER_DATA_CHECKPOINT */ sub_29128( ref l_U43, g_U1049,  /* PLAYER_PED_ID */ sub_701(), g_U1050[7], g_U1174[7], g_U1216[7], g_U1258[7], 1 );
            }
             /* P_LOAD_H_ASSET */ sub_10085();
             /* P_CREATE_PROPANE */ sub_33731();
            if (g_U779 == 0)
            {
                 /* P_SETUP_BRIDGE_STAIRS */ sub_19432();
                 /* P_START_BRIDGE_STAIRS */ sub_22603();
                g_U779 = 1;
            }
        }
        if (l_U655 == 0)
        {
            if (HAS_MODEL_LOADED( -1645666355 ))
            {
                 /* P_SETUP_BRIDGE */ sub_33917();
                 /* P_START_BRIDGE_SHOOTOUT */ sub_34712();
                l_U655 = 1;
            }
        }
        if ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_28915( ref l_U334, 0 ))
        {
             /* WRITESCRIPTLOG */ sub_420( "SA", "FAV_ONE_2", 0 );
            AUDIO_MUSIC_FORCE_TRACK( "FAVELA_ONE_SONG", "FAV_ONE_2", "", 0.00000000, 2000, 6000, -1082130432, 0 );
            AUDIO_MUSIC_REQUEST_ONESHOT( "FAVELA_1_ONESHOT_1", 0 );
        }
        if (l_U484 == 0)
        {
            if (( /* ISTIMERDONE */ sub_6572( ref l_U485 )) == 1)
            {
                l_U484 = 1;
            }
        }
        if (( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_28915( ref l_U124, 0 )) == 1)
        {
             /* P_RELEASE_BRIGE_FIGHT */ sub_35397();
             /* P_SETUP_BRIDGE_BACKUP */ sub_35594();
             /* P_CREATE_PROPANE */ sub_33731();
             /* P_DISABLE_BRIDGE_WALLA */ sub_35900();
             /* WRITESCRIPTLOG */ sub_420( "SA", "FAV_ONE_3_4_5_6", 0 );
            AUDIO_MUSIC_FORCE_TRACK( "FAVELA_ONE_SONG", "FAV_ONE_3_4_5_6", "", 0.00000000, 2000, 0, -1082130432, 0 );
            AUDIO_MUSIC_PLAY_ONESHOT();
            AUDIO_MUSIC_REQUEST_ONESHOT( "FAV1_RAND_ONESHOT", 0 );
             /* CREATETIMER */ sub_6293( ref l_U494, 4000, 1, 0 );
             /* STARTTIMER */ sub_6441( ref l_U494 );
        }
        if ( /* ISTIMERDONE */ sub_6572( ref l_U494 ))
        {
             /* WRITESCRIPTLOG */ sub_420( "SA", "FAV_ONE_1", 0 );
            AUDIO_MUSIC_FORCE_TRACK( "FAVELA_ONE_SONG", "FAV_ONE_1", "", 0.00000000, 5000, 12000, -1082130432, 0 );
        }
        if (( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_28915( ref l_U145, 0 )) == 1)
        {
             /* P_BRIDGE_BACKUP_ACTION */ sub_36278();
        }
        if (l_U483 == 1)
        {
            if ((( /* F_GET_NUM_DEAD_PEDS_IN_ARRAY */ sub_36483( ref l_U670 )) + ( /* F_GET_NUM_DEAD_PEDS_IN_ARRAY */ sub_36483( ref l_U651 ))) == 2)
            {
                 /* WRITESCRIPTLOG */ sub_420( "SA", "FAV1_RAND_ONESHOT", 0 );
                AUDIO_MUSIC_PLAY_ONESHOT();
                l_U483 = 0;
            }
        }
        if ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_28915( ref l_U397, 0 ))
        {
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )))
            {
                 /* WRITESCRIPTLOG */ sub_420( "SA", "Max entered death volume", 0 );
                SET_PED_HEALTH(  /* PLAYER_PED_ID */ sub_701(), 0, 0 );
            }
        }
        if (( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_28915( ref l_U166, 0 )) == 1)
        {
             /* P_SETUP_RELAX_DOOR_TWO */ sub_36775();
             /* P_CREATE_RELAX_ROOM */ sub_37112();
             /* P_SETUP_RELAX_HIDING_ENEMY */ sub_37881();
             /* P_PLAYER_LEAVES_BRIDGE_ALIVE */ sub_38197();
            l_U578 = 0;
            l_U579 = 1;
            AUDIO_MUSIC_REQUEST_ONESHOT( "FAV1_BLUE_DOOR", 0 );
        }
        if (l_U578 == 0)
        {
            if (( /* F_RELAX_ROOM_ENEMIES_ALERT */ sub_38577()) == 1)
            {
                if (((IS_PED_INJURED( l_U699 )) == 0) AND (((IS_PED_DEAD( l_U699 )) == 0) AND ((DOES_PED_EXIST( l_U699 )) == 1)))
                {
                    l_U688 = 1;
                }
                else
                {
                    SET_OBJECT_COLLISION( l_U713, 1 );
                    FREEZE_OBJECT_POSITION( l_U713, 0 );
                }
                l_U578 = 1;
            }
        }
        if (l_U579 == 1)
        {
            if (( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_28915( ref l_U418, 0 )) || (IS_PED_DEAD( l_U699 )))
            {
                 /* P_ACTION_RELAX_ROOM_EXTRAS */ sub_38971();
                l_U579 = 0;
            }
        }
        if ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_28915( ref l_U439, 0 ))
        {
            if (NOT (IS_PED_DEAD( l_U743 )))
            {
                SET_PED_FLAG_LOCK_TO_COVER( l_U743, 0 );
            }
        }
        if (l_U580 == 1)
        {
            if ((( /* P_CHECK_PLAYER__FIRED_AT_DOOR1 */ sub_39281()) == 1) || (( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_28915( ref l_U208, 0 )) == 1))
            {
                 /* WRITESCRIPTLOG */ sub_420( "SA", "FAV_ONE_1_2", 0 );
                AUDIO_MUSIC_FORCE_TRACK( "FAVELA_ONE_SONG", "FAV_ONE_1_2", "", 0.00000000, 2000, 0, -1082130432, 0 );
                 /* P_START_DOOR1_ENEMY1 */ sub_39475();
                 /* P_ENABLE_FOUNTAIN_WALLA */ sub_40311();
                 /* CREATETIMER */ sub_6293( ref l_U809, 500, 1, 0 );
                 /* STARTTIMER */ sub_6441( ref l_U809 );
                l_U580 = 0;
            }
        }
        if ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_28915( ref l_U376, 0 ))
        {
             /* P_DISABLE_FOUNTAIN_WALLA */ sub_40477();
        }
        if (l_U581 == 1)
        {
            if ((PED_GET_ACTION_INTENTION_STATUS( l_U758[0], 47 )) == 3)
            {
                 /* WRITESCRIPTLOG */ sub_420( "NS", "ISEQ_QUERY_STATE(S_FAV1_VIG_22B, eSNS_PLAYING) = FALSE", 0 );
                PED_FINISH_ACTION_INTENTION( l_U758[0], 47 );
                 /* CLEANOBJECT */ sub_7848( l_U760 );
                 /* P_SETDOORMINMAXLIMIT */ sub_22738( ref g_U1601, -110.00000000, 110.00000000 );
                 /* P_OPENDOOR */ sub_40766( ref g_U1601, 1, 1, -0.95000000 );
                if (DOES_OBJECT_EXIST( l_U761 ))
                {
                    SET_OBJECT_VISIBLE( l_U761, 1 );
                    SET_OBJECT_COLLISION( l_U761, 1 );
                }
                l_U581 = 0;
            }
        }
        if (( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_28915( ref l_U229, 0 )) == 1)
        {
             /* P_START_RELAX_DOOR_TWO */ sub_40991();
        }
        if (( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_28915( ref l_U250, 0 )) == 1)
        {
             /* P_SETUP_RELAX_DOOR_THREE */ sub_41202();
             /* P_HOLD_ENEMIES_FROM_BRIDGE */ sub_41594();
            l_U585 = 1;
        }
        if (l_U585)
        {
             /* P_HANDLE_IDLE_MONOLOGUE */ sub_41819();
        }
        if ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_28915( ref l_U292, 0 ))
        {
             /* P_EARLY_CLEANUP */ sub_42129();
        }
        if ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_28915( ref l_U313, 0 ))
        {
            ENABLE_STATIC_EMITTER( "S_FAV1_MIDDLE_FAVELA_ALLEY", 0 );
             /* P_CREATEDOORSTRUCT */ sub_13073( ref l_U561, 596292157, -41.13937000, -35.57273000, 15.08686000, 0.00000000, 0.00000000, 0.00000000 );
             /* P_SETDOORLOCKED */ sub_13142( ref l_U561, 1 );
        }
         /* P_HANDLE_TABLE_KICK_SEQUENCE */ sub_42506();
        if (l_U583 == 1)
        {
            if ( /* F_ASSIGN_BRIDGE_BULLET_CAM */ sub_43696())
            {
                l_U583 = 0;
            }
        }
        if (l_U582 == 1)
        {
            if ( /* F_ENABLE_BRIDGE_EMITTER */ sub_44028())
            {
                l_U582 = 0;
            }
        }
        if (( /* F_GETDOOROPENRATIO */ sub_44215( ref g_U1615 )) > 0.80000000)
        {
             /* P_OPENDOOR */ sub_40766( ref g_U1615, 1, 1, 0.81000000 );
        }
        if ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_28915( ref l_U355, 0 ))
        {
             /* P_CLOSEDOOR */ sub_13954( ref g_U1636, 0 );
            ENABLE_STATIC_EMITTER( "S_FAV1_COKE_PACK_HOUSE_MUSIC", 0 );
        }
        if ( /* F_SHOULD_GIO_POI_BE_AVAILABLE */ sub_23076())
        {
             /* P_HANDLE_MAX_CONTEXTUAL_DIALOGUE */ sub_44409( 1 );
        }
        else if (l_U41 == 1)
        {
             /* P_RESET_MAX_CONTEXTUAL_DIALOGUE */ sub_15641();
        }
        break;
    }
    return;
}

/* P_REQUEST_ASSETS */ void sub_8761()
{
     /* WRITESCRIPTLOG */ sub_420( "SP", "LOAD_ASSETS", "###" );
     /* LOADAUDIOBANK */ sub_8861( "SCRIPT_MISSION\S_FAV1_FIREWORK_LAUNCH", 0 );
     /* LOADAUDIOBANK */ sub_8861( "SCRIPT_MISSION\S_FAV1_TABLE_KICK", 0 );
     /* LOADMODEL */ sub_9065( -502497534, 0 );
     /* LOADMODEL */ sub_9065( g_U761, 0 );
     /* LOADMODEL */ sub_9065( l_U717, 0 );
     /* LOADMODEL */ sub_9065( -1417400376, 0 );
     /* LOADMODEL */ sub_9065( -957257324, 0 );
     /* LOADISEQ */ sub_9360( -1714429670, 0 );
     /* LOADISEQ */ sub_9360( -1286951997, 0 );
     /* LOADANIMDICT */ sub_9686( "LEVEL_S_FAV1_cp_07", 0, 0 );
     /* LOADANIMDICT */ sub_9686( "EXPL_CAM", 0, 0 );
     /* SETUP_SCRIPTED_SPEECH */ sub_9880( "SFV1AUD" );
    if (g_U1049 == 7)
    {
         /* LOADISEQ */ sub_9360( 939658976, 0 );
         /* LOADMODEL */ sub_9065( -1645666355, 0 );
    }
    return;
}

/* LOADAUDIOBANK */ void sub_8861(unknown uParam0, int iParam1)
{
    LOAD_SCRIPT_AUDIO_BANK( uParam0 );
    if (iParam1 == 1)
    {
        while ((IS_SCRIPT_AUDIO_BANK_LOADED( uParam0, 0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for script audio bank to be loaded: {} ###", 1, 1537, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* LOADMODEL */ void sub_9065(unknown uParam0, boolean bParam1)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
         /* WRITE_STRING */ sub_2896( "[SP]### ERROR! (LoadModel) Trying to load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    if (bParam1)
    {
        while ((HAS_MODEL_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* LOADISEQ */ void sub_9360(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to load does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 0)
    {
        ISEQ_REQUEST( uParam0 );
        ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
        if (iParam1 == 1)
        {
            while ((ISEQ_QUERY_STATE( uParam0, 1 )) == 1)
            {
                DISPLAYF( "[SP]### Waiting for interactive sequence to be loaded: {0} {1} ###", 2, 1281, ref uVar4, 513, uParam0 );
                WAIT( 0 );
            }
        }
    }
    return;
}

/* LOADANIMDICT */ void sub_9686(unknown uParam0, unknown uParam1, int iParam2)
{
    REQUEST_ANIM_DICT( uParam0, uParam1 );
    "[doubled result, dropped if not asigned]";
    if (iParam2 == 1)
    {
        while ((HAS_ANIM_DICT_LOADED( uParam0, uParam1 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an animation dictionary to be loaded: {} ###", 1, 1537, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* SETUP_SCRIPTED_SPEECH */ void sub_9880(unknown uParam0)
{
    StrCopy( ref g_U157._fU0, uParam0, 16 );
     /* CLEARPEDCONVERSATIONDATA */ sub_9924();
    return;
}

/* CLEARPEDCONVERSATIONDATA */ void sub_9924()
{
    int I;

    for ( I = 0; I <= 8; I++ )
    {
        g_U157._fU16[I]._fU0 = nil;
        g_U157._fU16[I]._fU4 = 0;
        g_U157._fU92[I] = 0;
    }
    return;
}

/* P_LOAD_H_ASSET */ void sub_10085()
{
     /* LOADMODEL */ sub_9065( -1645666355, 0 );
    return;
}

/* P_SETUP_STATIC_DATA */ void sub_10131()
{
     /* WRITESCRIPTLOG */ sub_420( "SP", "LOAD_ASSETS", "###" );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_10229( ref g_U863, -11.67000000, -50.35000000, 15.49000000, 220.00000000, 1478782890, 4, 1, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_10229( ref l_U611[0], -25.04000000, -48.27000000, 16.82000000, -94.81000000, -149416802, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_10229( ref l_U611[1], -25.66000000, -52.49000000, 16.82000000, -87.58000000, 49030281, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_10229( ref l_U611[2], -26.80000000, -55.17000000, 16.82000000, 18.28000000, -1019227189, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_10229( ref l_U744[0], -35.64000000, -52.32000000, 14.11000000, 90.00000000, 1010418858, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_10229( ref l_U656[0], -27.25000000, -56.50000000, 16.82000000, 29.57000000, -1246204160, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_10229( ref l_U730, -49.94000000, -51.47000000, 13.78000000, -10.44000000, -1133074061, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_10229( ref l_U672[0], -46.51000000, -48.12000000, 13.81000000, 0.00000000, 951026608, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_10229( ref l_U763[0], -32.30000000, -64.49000000, 12.79000000, 90.00000000, 568047916, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_10229( ref l_U779[0], -43.72000000, -77.83000000, 15.78000000, -12.67000000, 758584162, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_10229( ref l_U779[1], -43.95000000, -80.88000000, 15.78000000, -5.24000000, -1732702925, 7, 3, 2, 0, 0 );
     /* P_CREATETRIGGERBOX */ sub_10873( ref l_U82, "tbKillStairs", -16.31000000, -48.69000000, 15.00000000, 6.30000000, 3.00000000, 7.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_10873( ref l_U103, "tbBridgeCp", -5.39000000, -50.77000000, 9.71000000, 10.00000000, 8.00000000, 15.00000000, 0.00000000, 0.00000000, 11.01000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_10873( ref l_U124, "tbStartBridge", -12.21000000, -45.66000000, 15.00000000, 3.00000000, 3.00000000, 7.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_10873( ref l_U145, "tbBridgeBackup", -22.61000000, -49.95000000, 14.00000000, 3.00000000, 3.00000000, 7.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_10873( ref l_U166, "tbSetupRelaxRoom", -29.44000000, -48.77000000, 13.52000000, 2.38000000, 3.25000000, 7.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_10873( ref l_U187, "tbInRelaxRoom", -46.72000000, -38.81000000, 12.55000000, 3.00000000, 6.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_10873( ref l_U208, "tbSetupDoor1Enemies", -43.30000000, -50.62000000, 10.00000000, 3.00000000, 6.00000000, 7.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_10873( ref l_U229, "TRIG_SETUP_RELAX_DOOR2", -40.90000000, -55.02000000, 10.00000000, 3.48000000, 3.00000000, 7.00000000, 0.00000000, 0.00000000, 1.70000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_10873( ref l_U250, "TRIG_SETUP_RELAX_DOOR3", -37.46000000, -68.45000000, 10.00000000, 3.00000000, 3.00000000, 7.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_10873( ref l_U271, "tbFireWorks", -14.65000000, -48.49000000, 15.00000000, 3.00000000, 3.00000000, 7.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_10873( ref l_U292, "tbTrackDowner", -47.04000000, -40.73000000, 12.55000000, 3.00000000, 6.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_10873( ref l_U313, "TBDisableAllyEmitter", -29.23000000, -48.09000000, 13.52000000, 2.38000000, 5.81000000, 3.16000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_10873( ref l_U334, "tbMusicStart1", -11.21000000, -55.75000000, 10.53000000, 5.00000000, 5.00000000, 5.00000000, 0.00000000, 0.00000000, 2.76000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_10873( ref l_U355, "tbCloseLastDoor", -54.61000000, -79.32000000, 13.23000000, 10.00000000, 7.00000000, 7.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_10873( ref l_U376, "tbDisableFountanWalla", -49.08000000, -80.84000000, 11.96000000, 3.00000000, 3.00000000, 7.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_10873( ref l_U397, "tbBridgeFallDeath", -19.13000000, -50.03000000, 7.10000000, 11.00000000, 11.00000000, 7.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_10873( ref l_U418, "tbRelaxRoomExtra", -49.34000000, -41.38000000, 12.55000000, 3.00000000, 11.42000000, 4.00000000, 0.00000000, 0.00000000, 33.33000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_10873( ref l_U439, "tbRelaseCover", -48.47000000, -50.54000000, 10.00000000, 7.00000000, 3.00000000, 7.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_12335( ref l_U460, "TETH_BRIDGE_GUARD", -27.14000000, -52.70000000, 16.20000000, 7.12000000, 13.72000000, 7.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_12335( ref l_U461, "TETH_RELAX_HIDER", -50.25000000, -52.08000000, 12.13000000, 2.00000000, 4.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_12335( ref l_U462, "teDoor3Enemy0", -43.11000000, -78.26000000, 14.88000000, 2.00000000, 2.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_12335( ref l_U463, "teDoor3Enemy1", -43.11000000, -80.92000000, 14.88000000, 2.00000000, 3.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_12335( ref l_U464, "teEnemyChaseMax", -37.47000000, -80.37000000, 11.88000000, 10.00000000, 10.00000000, 7.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATEPEDATTACHEDTETHERBOX */ sub_12785( ref l_U465, "teTetherAttchedToMax",  /* PLAYER_PED_ID */ sub_701(), 0.00000000, 0.00000000, 0.00000000, 6.00000000, 6.00000000, 7.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0 );
     /* P_CREATEDOORSTRUCT */ sub_13073( ref l_U512, 596292157, 11.11237000, -44.78105000, 14.79995000, 0.00000000, 0.00000000, 0.00000000 );
     /* P_SETDOORLOCKED */ sub_13142( ref l_U512, 1 );
     /* P_CREATEDOORSTRUCT */ sub_13073( ref l_U519, 596292157, 12.46959000, -45.43270000, 14.97515000, 0.00000000, 0.00000000, 0.00000000 );
     /* P_SETDOORLOCKED */ sub_13142( ref l_U519, 1 );
     /* P_CREATEDOORSTRUCT */ sub_13073( ref l_U526, 596292157, 13.11632000, -49.23051000, 14.79995000, 0.00000000, 0.00000000, 0.00000000 );
     /* P_SETDOORLOCKED */ sub_13142( ref l_U526, 1 );
     /* P_CREATEDOORSTRUCT */ sub_13073( ref l_U533, 596292157, -3.76780000, -53.82239000, 13.23868000, 0.00000000, 0.00000000, 0.00000000 );
     /* P_SETDOORLOCKED */ sub_13142( ref l_U533, 1 );
     /* P_CREATEDOORSTRUCT */ sub_13073( ref l_U540, 596292157, -4.36208000, -59.70412000, 13.84980000, 0.00000000, 0.00000000, 0.00000000 );
     /* P_SETDOORLOCKED */ sub_13142( ref l_U540, 1 );
     /* P_CREATEDOORSTRUCT */ sub_13073( ref l_U547, 1731037237, -6.14524000, -62.33207000, 13.70421000, 0.00000000, 0.00000000, 0.00000000 );
     /* P_SETDOORLOCKED */ sub_13142( ref l_U547, 1 );
     /* P_CREATEDOORSTRUCT */ sub_13073( ref l_U554, 596292157, -11.24377000, -63.16531000, 13.72920000, 0.00000000, 0.00000000, 0.00000000 );
     /* P_SETDOORLOCKED */ sub_13142( ref l_U554, 1 );
    return;
}

/* P_CREATEPEDSTRUCTWITHNAME */ void sub_10229(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU20 = uParam5;
    iParam0->_fU12 = uParam4;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU16 = GET_SCENE_PED_MODEL( uParam5 );
    iParam0->_fU48 = uParam10;
    return;
}

/* P_CREATETRIGGERBOX */ void sub_10873(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    StrCopy( ref iParam0->_fU0, uParam1, 64 );
    iParam0->_fU64 = 0;
    iParam0->_fU68 = 0;
    iParam0->_fU72 = {uParam2};
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 1, iParam0 + 0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

/* P_CREATETETHERBOX */ void sub_12335(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    iParam0->_fU0 = uParam1;
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 2, iParam0->_fU0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

/* P_CREATEPEDATTACHEDTETHERBOX */ void sub_12785(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13)
{
    iParam0->_fU0 = uParam1;
    if ((DOES_PED_EXIST( uParam2 )) == 1)
    {
        if (((IS_PED_DEAD( uParam2 )) == 0) || ((IS_PED_DEAD( uParam2 )) == 1))
        {
            GAMEPLAY_HELPER_BOX_CREATE_PED_ATTACHED( 2, iParam0->_fU0, uParam2, uParam3, uParam6, uParam7, uParam8, uParam9, uParam12, uParam13 );
        }
    }
    else
    {
        DISPLAYF( "[SP]### ERROR: Trying to attach a ped attached tether to a ped that doesn't exist: {} ###", 1, 1537, iParam0->_fU0 );
    }
    return;
}

/* P_CREATEDOORSTRUCT */ void sub_13073(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7)
{
    iParam0->_fU0 = uParam1;
    iParam0->_fU4 = {uParam2};
    iParam0->_fU16 = {uParam5};
    return;
}

/* P_SETDOORLOCKED */ void sub_13142(int iParam0, int iParam1)
{
    int iVar4;
    float fVar5;

    if (( /* F_DOESDOOREXIST */ sub_13172( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_13256( iParam0 );
    }
    if (iParam1 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, 0.00000000 );
    }
    else
    {
        iVar4 = 0;
        fVar5 = 0.00000000;
        GET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, ref iVar4, ref fVar5 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar5 );
    }
    return;
}

/* F_DOESDOOREXIST */ int sub_13172(int iParam0)
{
    int iVar3;

    iVar3 = DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS( iParam0->_fU4, 1.00000000, iParam0->_fU0 );
    if (iVar3 == 1)
    {
        return 1;
    }
    return 0;
}

/* P_PRINTDOORNOTEXIST */ void sub_13256(unknown uParam0)
{
    (uParam0^) = {(uParam0^)};
    return;
}

/* P_INITIALIZE_SCRIPT_DATA */ void sub_13743()
{
     /* WRITESCRIPTLOG */ sub_420( "SP", "INITIALIZE_SCRIPT_DATA", "###" );
    l_U716 = ADD_SPATIALDATA_COVER_POINT( "CP_Table", -51.34000000, -42.49000000, 13.79000000, 1.00000000, 0.25000000, 0.00000000, 1.13000000, 0, 0 );
    l_U81 = 0;
    l_U578 = 0;
    l_U580 = 1;
    l_U582 = 1;
    l_U583 = 1;
    l_U584 = 1;
    l_U655 = 0;
    l_U581 = 0;
    l_U915 = 0;
    l_U1029 = 0;
    l_U585 = 0;
     /* P_CLOSEDOOR */ sub_13954( ref g_U1615, 1 );
     /* RESETTIMER */ sub_7140( ref l_U718 );
     /* RESETTIMER */ sub_7140( ref l_U809 );
     /* RESETTIMER */ sub_7140( ref l_U485 );
     /* RESETTIMER */ sub_7140( ref l_U494 );
     /* RESETTIMER */ sub_7140( ref l_U586 );
     /* RESETTIMER */ sub_7140( ref l_U503 );
    l_U762 = 1;
    l_U483 = 1;
    l_U818 = GET_SOUND_ID();
    l_U579 = 0;
    g_U782 = 1;
    l_U482 = 0;
     /* P_CREATEPOISTRUCTCOORD */ sub_14255( ref l_U819, 2, 0.00000000, 0.00000000, 0.00000000, -12.88000000, -60.23000000, 12.57000000, -12.88000000, -60.23000000, 12.57000000, 3.00000000, 4.00000000, 1, 1 );
     /* P_ENABLEPOIGLINT */ sub_14862( ref l_U819, 0 );
     /* P_SET_INTERACTIVE_TEXT */ sub_15219( ref l_U819, 30, "POI_F1CLAUDIO" );
     /* P_SET_POI_FORCE_WALK */ sub_15429( ref l_U819, 0 );
     /* P_SET_POI_REUSABLE */ sub_15484( ref l_U819, 1 );
     /* P_CREATEPOISTRUCTCOORD */ sub_14255( ref l_U926, 2, 0.00000000, 0.00000000, 0.00000000, l_U1026, l_U1026, 1069547520, 1077936128, 1, 1 );
     /* P_ENABLEPOIGLINT */ sub_14862( ref l_U926, 0 );
     /* P_SET_INTERACTIVE_TEXT */ sub_15219( ref l_U926, 30, "POI_F1FLY" );
     /* P_SET_POI_FORCE_WALK */ sub_15429( ref l_U926, 0 );
     /* P_SET_POI_REUSABLE */ sub_15484( ref l_U926, 1 );
    return;
}

/* P_CLOSEDOOR */ void sub_13954(int iParam0, int iParam1)
{
    if (( /* F_DOESDOOREXIST */ sub_13172( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_13256( iParam0 );
    }
    if (iParam1 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, 0.00000000 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, 0.00000000 );
    }
    else
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, 0.00000000 );
    }
    return;
}

/* P_CREATEPOISTRUCTCOORD */ void sub_14255(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14)
{
     /* P_CREATEBLANKPOISTRUCT */ sub_14295( iParam0, uParam13 );
    iParam0->_fU4 = uParam1;
    iParam0->_fU100 = {uParam5};
    iParam0->_fU112 = uParam11;
    iParam0->_fU200 = {uParam8};
    iParam0->_fU212 = uParam12;
    iParam0->_fU320 = uParam14;
    iParam0->_fU20 = {uParam2};
     /* P_CREATEPOIGLINT */ sub_14688( iParam0 );
    return;
}

/* P_CREATEBLANKPOISTRUCT */ void sub_14295(int iParam0, unknown uParam1)
{
    iParam0->_fU0 = uParam1;
    iParam0->_fU4 = 0;
    iParam0->_fU8 = 0;
    iParam0->_fU12 = nil;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = {0.00000000, 0.00000000, 0.00000000};
    iParam0->_fU52 = 1;
    iParam0->_fU56 = 1;
    iParam0->_fU60 = 0;
    iParam0->_fU64 = 0;
    iParam0->_fU68 = 0;
    iParam0->_fU72 = 0;
    iParam0->_fU76 = 0;
    iParam0->_fU80 = 0;
    iParam0->_fU84 = 0;
    iParam0->_fU100 = {0.00000000, 0.00000000, 0.00000000};
    iParam0->_fU112 = 0.00000000;
    iParam0->_fU88 = 0;
    iParam0->_fU92 = 0;
    iParam0->_fU96 = 0;
    iParam0->_fU200 = {0.00000000, 0.00000000, 0.00000000};
    iParam0->_fU212 = 0.00000000;
    iParam0->_fU300 = 0;
    iParam0->_fU304 = 1;
    iParam0->_fU308 = 0;
    iParam0->_fU324 = 1;
    iParam0->_fU328 = 0;
    iParam0->_fU340 = 0;
    iParam0->_fU336 = 0.20000000;
    return;
}

/* P_CREATEPOIGLINT */ void sub_14688(int iParam0)
{
    if (iParam0->_fU12 != nil)
    {
        if ((DOES_GLINT_EXIST( iParam0->_fU12 )) == 1)
        {
            REMOVE_GLINT( iParam0->_fU12 );
        }
    }
    iParam0->_fU12 = CREATE_GLINT( iParam0->_fU16, iParam0->_fU20 );
     /* P_INITPOIGLINT */ sub_14786( iParam0 );
    return;
}

/* P_INITPOIGLINT */ void sub_14786(int iParam0)
{
    if (iParam0->_fU0 == 1)
    {
        if (iParam0->_fU320 == 1)
        {
            if ((iParam0->_fU8 > 0) AND (iParam0->_fU4 == 0))
            {
                 /* P_ENABLEPOIGLINT */ sub_14862( iParam0, 1 );
            }
            else if ((iParam0->_fU8 < 2) AND (iParam0->_fU4 == 1))
            {
                 /* P_ENABLEPOIGLINT */ sub_14862( iParam0, 1 );
            }
            else if ((iParam0->_fU8 == 1) AND (iParam0->_fU4 == 2))
            {
                 /* P_ENABLEPOIGLINT */ sub_14862( iParam0, 1 );
            }
            else
            {
                 /* P_ENABLEPOIGLINT */ sub_14862( iParam0, 0 );
            };;;
        }
        else
        {
             /* P_ENABLEPOIGLINT */ sub_14862( iParam0, 0 );
        }
    }
    else
    {
         /* P_ENABLEPOIGLINT */ sub_14862( iParam0, 0 );
    }
    return;
}

/* P_ENABLEPOIGLINT */ void sub_14862(int iParam0, int iParam1)
{
    if (iParam1 == 1)
    {
        if (iParam0->_fU12 != nil)
        {
            if ((DOES_GLINT_EXIST( iParam0->_fU12 )) == 1)
            {
                ENABLE_GLINT( iParam0->_fU12, 1 );
            }
            else
            {
                iParam0->_fU12 = CREATE_GLINT( iParam0->_fU16, iParam0->_fU20 );
            }
        }
        else
        {
            iParam0->_fU12 = CREATE_GLINT( iParam0->_fU16, iParam0->_fU20 );
        }
    }
    else if (iParam0->_fU12 != nil)
    {
        if ((DOES_GLINT_EXIST( iParam0->_fU12 )) == 1)
        {
            ENABLE_GLINT( iParam0->_fU12, 0 );
        }
    }
    return;
}

/* P_SET_INTERACTIVE_TEXT */ void sub_15219(int iParam0, unknown uParam1, unknown uParam2)
{
    StrCopy( ref iParam0->_fU32, uParam2, 16 );
    iParam0->_fU48 = uParam1;
     /* P_INITINTERACTIVETEXT */ sub_15275( iParam0 );
    return;
}

/* P_INITINTERACTIVETEXT */ void sub_15275(int iParam0)
{
    if ((iParam0->_fU8 == 2) AND (iParam0->_fU0 == 1))
    {
        if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
        {
            SET_INTERACTIONTEXT_BUTTON( iParam0->_fU48 );
            SET_INTERACTIONTEXT_TEXT( iParam0 + 32 );
            SET_INTERACTIONTEXT_VISIBLE( 1 );
            SET_INTERACTIONTEXT_BUTTON_VISIBLE( 1 );
            SET_INTERACTIONTEXT_AVAILABLE( 1 );
            iParam0->_fU56 = 1;
        }
    }
    return;
}

/* P_SET_POI_FORCE_WALK */ void sub_15429(int iParam0, unknown uParam1)
{
    iParam0->_fU324 = uParam1;
    return;
}

/* P_SET_POI_REUSABLE */ void sub_15484(int iParam0, unknown uParam1)
{
    iParam0->_fU68 = uParam1;
    return;
}

/* P_RESET_MAX_CONTEXTUAL_DIALOGUE */ void sub_15641()
{
     /* WRITESCRIPTLOG */ sub_420( "NS", "P_RESET_MAX_CONTEXTUAL_DIALOGUE", 0 );
    l_U41 = 0;
    l_U42 = 0;
    return;
}

/* TELEPORTPED */ void sub_15840(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_COORDS( uParam0, uParam1, 1 );
        SET_PED_HEADING( uParam0, uParam4 );
    }
    return;
}

/* F_ARE_ASSETS_LOADED */ int sub_16058()
{
    if (NOT (HAS_MODEL_LOADED( -502497534 )))
    {
         /* WRITESCRIPTLOG */ sub_420( "NS", "Waiting for P_FAV1_PRPTNK_AA_H to load...", 0 );
         /* LOADMODEL */ sub_9065( -502497534, 0 );
        return 0;
    }
    if (NOT (HAS_MODEL_LOADED( g_U761 )))
    {
         /* WRITESCRIPTLOG */ sub_420( "NS", "Waiting for mn_S_FV1_GG_SP_02 to load...", 0 );
         /* LOADMODEL */ sub_9065( g_U761, 0 );
        return 0;
    }
    if (NOT (HAS_MODEL_LOADED( l_U717 )))
    {
         /* WRITESCRIPTLOG */ sub_420( "NS", "Waiting for mnTableKickTable to load...", 0 );
         /* LOADMODEL */ sub_9065( l_U717, 0 );
        return 0;
    }
    if (NOT (HAS_MODEL_LOADED( -1417400376 )))
    {
         /* WRITESCRIPTLOG */ sub_420( "NS", "Waiting for M_F1_MISC_H1 to load...", 0 );
         /* LOADMODEL */ sub_9065( -1417400376, 0 );
        return 0;
    }
    if (NOT (HAS_MODEL_LOADED( -957257324 )))
    {
         /* WRITESCRIPTLOG */ sub_420( "NS", "Waiting for P_f1_wddoor_A to load...", 0 );
         /* LOADMODEL */ sub_9065( -957257324, 0 );
        return 0;
    }
    if (NOT (IS_SCRIPT_AUDIO_BANK_LOADED( "SCRIPT_MISSION\S_FAV1_FIREWORK_LAUNCH", 0 )))
    {
         /* WRITESCRIPTLOG */ sub_420( "NS", "Waiting for SCRIPT_MISSION\S_FAV1_FIREWORK_LAUNCH to load...", 0 );
         /* LOADAUDIOBANK */ sub_8861( "SCRIPT_MISSION\S_FAV1_FIREWORK_LAUNCH", 0 );
        return 0;
    }
    if (NOT (IS_SCRIPT_AUDIO_BANK_LOADED( "SCRIPT_MISSION\S_FAV1_TABLE_KICK", 0 )))
    {
         /* WRITESCRIPTLOG */ sub_420( "NS", "Waiting for SCRIPT_MISSION\S_FAV1_TABLE_KICK to load...", 0 );
         /* LOADAUDIOBANK */ sub_8861( "SCRIPT_MISSION\S_FAV1_TABLE_KICK", 0 );
        return 0;
    }
    if ((NOT (ISEQ_QUERY_STATE( -1714429670, 2 ))) == 1)
    {
         /* WRITESCRIPTLOG */ sub_420( "NS", "Waiting for S_FAV1_BRIDGE_tk_PSTL_1 to load...", 0 );
         /* LOADISEQ */ sub_9360( -1714429670, 0 );
        return 0;
    }
    if ((NOT (ISEQ_QUERY_STATE( -1286951997, 2 ))) == 1)
    {
         /* WRITESCRIPTLOG */ sub_420( "NS", "Waiting for S_FAV1_VIG_22B_BRIDGE to load...", 0 );
         /* LOADISEQ */ sub_9360( -1286951997, 0 );
        return 0;
    }
    if (NOT (HAS_ANIM_DICT_LOADED( "LEVEL_S_FAV1_cp_07", 0 )))
    {
         /* WRITESCRIPTLOG */ sub_420( "NS", "Waiting for LEVEL_S_FAV1_cp_07 to load...", 0 );
         /* LOADANIMDICT */ sub_9686( "LEVEL_S_FAV1_cp_07", 0, 0 );
        return 0;
    }
    if (NOT (HAS_ANIM_DICT_LOADED( "EXPL_CAM", 0 )))
    {
         /* WRITESCRIPTLOG */ sub_420( "NS", "Waiting for EXPL_CAM to load...", 0 );
         /* LOADANIMDICT */ sub_9686( "EXPL_CAM", 0, 0 );
        return 0;
    }
    if (g_U1049 == 7)
    {
        if ((NOT (ISEQ_QUERY_STATE( 939658976, 2 ))) == 1)
        {
             /* WRITESCRIPTLOG */ sub_420( "NS", "Waiting for S_FAV1_VIG_25A to load...", 0 );
             /* LOADISEQ */ sub_9360( 939658976, 0 );
            return 0;
        }
        if (NOT (HAS_MODEL_LOADED( -1645666355 )))
        {
             /* WRITESCRIPTLOG */ sub_420( "NS", "Waiting for M_F1_MISC_H to load...", 0 );
             /* LOADMODEL */ sub_9065( -1645666355, 0 );
            return 0;
        }
    }
    return 1;
}

/* P_START_GAMEPLAY */ void sub_17455()
{
     /* WRITESCRIPTLOG */ sub_420( "SP", "P_START_GAMEPLAY", "###" );
    SET_SCRIPT_CONTROL_RESET_ON_PLAYER_DEATH( 1 );
    SET_WEATHER_TYPE_NOW_PERSIST( "Sunny" );
    FREEZE_TIME_OF_DAY( 12, 0 );
     /* P_CREATE_PILLS */ sub_17552();
     /* P_CREATE_S_FV1_GG_SP_02 */ sub_18550();
    if (g_U1049 == 7)
    {
        AUDIO_MUSIC_FORCE_TRACK( "FAVELA_ONE_SONG", "FAV_ONE_1", "", 0.00000000, 0, 0, -1082130432, 0 );
        if (g_U779 == 0)
        {
             /* P_SETUP_BRIDGE_STAIRS */ sub_19432();
             /* P_START_BRIDGE_STAIRS */ sub_22603();
            g_U779 = 1;
        }
        if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_739() )))
        {
            SET_PLAYER_FORCED_AIM(  /* PLAYER_ID */ sub_739(), 0, 0 );
        }
    }
     /* P_SETDOORMINMAXLIMIT */ sub_22738( ref g_U1601, -110.00000000, 110.00000000 );
     /* P_CLOSEDOOR */ sub_13954( ref g_U1601, 1 );
    if ((IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_739() )) == 0)
    {
        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_739(), 1, 0 );
    }
    if ((IS_DEATH_PANEL_WIPE_ALLOWED()) || (IS_SCREEN_FADED_OUT()))
    {
        DO_SCREEN_FADE_IN( 0 );
    }
    return;
}

/* P_CREATE_PILLS */ void sub_17552()
{
     /* WRITESCRIPTLOG */ sub_420( "NS", "making pills", 0 );
     /* CLEANPLACEMENTARRAY */ sub_8226( ref l_U689 );
    l_U689[1] =  /* CREATEPLACEMENT */ sub_17659( -4072149, -52.47000000, -39.16000000, 14.75000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0, 1119092736 );
    l_U689[2] =  /* CREATEPLACEMENT */ sub_17659( -4072149, -28.46000000, -58.61000000, 16.81000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0, 1119092736 );
    if (DOES_PLACEMENT_EXIST( l_U689[0] ))
    {
        ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( l_U689[0], "Room_fav1_cpt_a_01" );
    }
    if (DOES_PLACEMENT_EXIST( l_U689[1] ))
    {
        ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( l_U689[1], "Room_fav1_cpt_a_01" );
    }
    if (DOES_PLACEMENT_EXIST( l_U689[6] ))
    {
        ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( l_U689[6], "Room_fav1_cpt_a_01" );
    }
    if (DOES_PLACEMENT_EXIST( l_U689[7] ))
    {
        ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( l_U689[7], "Room_fav1_cpt_a_01" );
    }
    if (DOES_PLACEMENT_EXIST( l_U689[8] ))
    {
        ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( l_U689[8], "Room_fav1_cpt_a_01" );
    }
    l_U1030 =  /* CREATEOBJECT */ sub_18204( -304006147, l_U1026, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U1030 ))
    {
        FREEZE_OBJECT_POSITION( l_U1030, 1 );
    }
    return;
}

/* CREATEPLACEMENT */ void sub_17659(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, int iParam8, unknown uParam9, unknown uParam10)
{
    unknown Result;

    Result = CREATE_PLACEMENT_ROTATE( uParam0, uParam1, uParam4, uParam7, 0, uParam9, uParam10 );
    if (iParam8 == 1)
    {
        while ((DOES_PLACEMENT_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for a placement to exist: {} ###", 1, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return Result;
}

/* CREATEOBJECT */ void sub_18204(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_9065( uParam0, 1 );
    }
    Result = CREATE_OBJECT( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an object to exist: {!f1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

/* P_CREATE_S_FV1_GG_SP_02 */ void sub_18550()
{
     /* WRITESCRIPTLOG */ sub_420( "CO", "P_CREATE_S_FV1_GG_SP_02", 0 );
     /* P_CREATECOLLECTIBLESTRUCT */ sub_18676( ref g_U721, g_U761, -802955999, 2128925960, 5.88000000, -49.39000000, 13.62000000, 0.00000000, 0.00000000, 1.00000000, "" );
     /* P_CREATECOLLECTIBLE */ sub_18833( ref g_U721 );
    return;
}

/* P_CREATECOLLECTIBLESTRUCT */ void sub_18676(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    if (NOT IS_ARCADE_MODE_ACTIVE())
    {
        iParam0->_fU4 = uParam1;
        iParam0->_fU8 = uParam2;
        iParam0->_fU12 = uParam3;
        iParam0->_fU16 = {uParam4};
        iParam0->_fU28 = {uParam7};
        StrCopy( ref iParam0->_fU40, uParam10, 32 );
    }
    else
    {
         /* WRITESCRIPTLOG */ sub_420( "CO", "NO GOLDEN GUNS FOR ARCADE", 0 );
    }
    return;
}

/* P_CREATECOLLECTIBLE */ void sub_18833(int iParam0)
{
     /* WRITESCRIPTLOG */ sub_420( "CO", "P_CreateCollectible", 0 );
    if (NOT IS_ARCADE_MODE_ACTIVE())
    {
        if (( /* F_HAS_COLLECTIBLE_BEEN_COLLECTED */ sub_18916( iParam0->_fU12 )) == 1)
        {
             /* WRITESCRIPTLOG */ sub_420( "CO", "HAS BEEN COLLECTED.", 0 );
        }
        else
        {
             /* WRITESCRIPTLOG */ sub_420( "CO", "has never been collected.", 0 );
        }
        if (( /* F_HAS_COLLECTIBLE_BEEN_COLLECTED */ sub_18916( iParam0->_fU12 )) == 0)
        {
             /* CLEANPLACEMENT */ sub_8281( iParam0->_fU0 );
            iParam0->_fU0 =  /* CREATEPLACEMENT */ sub_17659( iParam0->_fU8, iParam0->_fU16, iParam0->_fU28, 1, 0, 0, 1119092736 );
            if (NOT (IS_STRING_NULL( iParam0 + 40 )))
            {
                if ((DOES_PLACEMENT_EXIST( iParam0->_fU0 )) == 1)
                {
                     /* WRITESCRIPTLOG */ sub_420( "CO", "Added collectible to interior", 0 );
                    ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( iParam0->_fU0, iParam0 + 40 );
                }
            }
        }
    }
    else
    {
         /* WRITESCRIPTLOG */ sub_420( "CO", "NO GOLDEN GUNS FOR ARCADE", 0 );
    }
    return;
}

/* F_HAS_COLLECTIBLE_BEEN_COLLECTED */ int sub_18916(unknown uParam0)
{
    unknown uVar3;
    float fVar4;

    if (IS_COLLECTABLE_ENABLED() == 0)
    {
        return 1;
    }
    uVar3 = uParam0;
    fVar4 = STAT_HASH_GET_FLOAT( uVar3 );
    if (ARE_SP_STATS_LOADED() == 1)
    {
        if ((STAT_HASH_EXISTS( uVar3 )) == 1)
        {
            if (fVar4 > 0.00000000)
            {
                return 1;
            }
        }
    }
    return 0;
}

/* P_SETUP_BRIDGE_STAIRS */ void sub_19432()
{
     /* WRITESCRIPTLOG */ sub_420( "SP", "P_SETUP_BRIDGE_STAIRS", "###" );
     /* CLEANPED */ sub_7758( g_U876[0] );
    g_U876[0] =  /* CREATEPED */ sub_19523( ref g_U863 );
    if (((IS_PED_DEAD( g_U876[0] )) == 0) AND ((DOES_PED_EXIST( g_U876[0] )) == 1))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( g_U876[0], 1 );
        SET_PED_NAME_DEBUG( g_U876[0], "piBridgeStairsEnemy" );
        SET_PED_AI_TEMPLATE( g_U876[0], ref g_U1791 );
        SET_PED_AS_ONE_SHOT_KILL( g_U876[0], 1 );
        FREEZE_PED_POSITION( g_U876[0], 1 );
         /* P_QUICK_ADD_PED_TO_GROUP */ sub_20395( g_U876[0], ref l_U605 );
    }
     /* F_GIVEPEDWEAPON */ sub_3287( g_U876[0], g_U1820, 25000, 0, 0 );
    if (NOT (IS_PED_DEAD( g_U876[0] )))
    {
        FREEZE_PED_POSITION( g_U876[0], 0 );
         /* TELEPORTPED */ sub_15840( g_U876[0], g_U863._fU0, g_U863._fU12 );
        ISEQ_REGISTER_ENTITY( 939658976, "ENEMY", g_U876[0], 0 );
        ISEQ_START( 939658976 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( g_U876[0], -14.69000000, -50.51000000, 16.38000000, 3, 20000, 1048576000, 0, 0 );
    }
     /* RESET_SCRIPT_SPEECH_STRUCT */ sub_21334( ref l_U568 );
     /* ADD_PED_FOR_SCRIPT_SPEECH_ENUM */ sub_21447( 1, g_U876[0], 1478782890, ref l_U568, 4, 0 );
     /* PLAY_SINGLE_SPEECH */ sub_21691( "SFV1_VIG25A", ref l_U568, 8, 1 );
    g_U779 = 1;
    return;
}

/* CREATEPED */ void sub_19523(int iParam0)
{
    int iVar3;

    iVar3 = 0;
    if (iParam0->_fU16 == 0)
    {
        if (iParam0->_fU20 != 0)
        {
            iVar3 = GET_SCENE_PED_MODEL( iParam0->_fU20 );
        }
    }
    else
    {
        iVar3 = iParam0->_fU16;
    }
    if ((HAS_MODEL_LOADED( iVar3 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_9065( iParam0->_fU16, 1 );
    }
    iParam0->_fU40 = CREATE_PED( iParam0->_fU24, iParam0->_fU16, iParam0->_fU0, iParam0->_fU12, 1, iParam0->_fU48 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( iParam0->_fU40, 1 );
        SET_PED_COORDS_NO_OFFSET( iParam0->_fU40, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU40 ) );
        SET_PED_HEADING( iParam0->_fU40, iParam0->_fU12 );
        iParam0->_fU44 = 1;
    }
    else
    {
        SCRIPT_ASSERT( "Error: The ped you created doesn't exist or is dead!", 0 );
    }
     /* SETPEDDEFAULTSTATS */ sub_20014( iParam0->_fU40 );
     /* SETPEDDEFAULTTEMPLATE */ sub_20115( iParam0->_fU40 );
    return iParam0->_fU40;
}

/* SETPEDDEFAULTSTATS */ void sub_20014(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_HEALTH( uParam0, 200, 0 );
        SET_PED_ACCURACY( uParam0, -729479261 );
    }
    return;
}

/* SETPEDDEFAULTTEMPLATE */ void sub_20115(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_AI_TEMPLATE( uParam0, "AIT_DEFAULT_GENERIC" );
    }
    return;
}

/* P_QUICK_ADD_PED_TO_GROUP */ void sub_20395(unknown uParam0, int iParam1)
{
    int iVar4;
    unknown uVar5;

    if ((DOES_GROUP_EXIST( iParam1->_fU0 )) == 0)
    {
         /* WRITE_STRING */ sub_2896( "[SP]### Warning!!! Group does not exist. Creating new group specified attributes. ###" );
        if (iParam1->_fU4 > 0)
        {
             /* P_SETUP_AI_GROUP */ sub_20565( iParam1, iParam1->_fU4, 0 );
        }
        else
        {
             /* P_SETUP_AI_GROUP */ sub_20565( iParam1, 1056964608, 0 );
        }
    }
    else
    {
        PRINTSTRING( "[MSWW]### P_QUICK_ADD_PED_TO_GROUP adding ped to group with ID: " );
        PRINTINT( iParam1->_fU0 );
        PRINTNL();
    }
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        GET_GROUP_SIZE( iParam1->_fU0, ref iVar4, ref uVar5 );
        if (iVar4 == 0)
        {
            SET_PED_AS_GROUP_LEADER( uParam0, iParam1->_fU0 );
        }
        else
        {
            SET_PED_AS_GROUP_MEMBER( uParam0, iParam1->_fU0 );
        }
        SET_PED_NEVER_LEAVES_GROUP( uParam0, 1 );
    }
    return;
}

/* P_SETUP_AI_GROUP */ void sub_20565(int iParam0, unknown uParam1, boolean bParam2)
{
    iParam0->_fU4 = uParam1;
    iParam0->_fU0 = CREATE_GROUP( 3, 1 );
    if (bParam2)
    {
        PRINTSTRING( "[MSWW]### P_SETUP_AI_GROUP TOLD TO WAIT FOR GROUP TO EXIST ###" );
        PRINTNL();
        while (NOT (DOES_GROUP_EXIST( iParam0->_fU0 )))
        {
            WAIT( 0 );
            PRINTSTRING( "[MSWW]### GROUP ###" );
            PRINTNL();
        }
        PRINTSTRING( "[MSWW]### P_SETUP_AI_GROUP created group with ID: " );
        PRINTINT( iParam0->_fU0 );
        PRINTNL();
    }
    SET_GROUP_RATIO_FIRING_AT_VISIBLE( iParam0->_fU0, iParam0->_fU4 );
    SET_GROUP_RATIO_FIRING_AT_INVISIBLE( iParam0->_fU0, iParam0->_fU4 );
    if (iParam0->_fU8)
    {
        SET_GROUP_FORMATION( iParam0->_fU0, iParam0->_fU12 );
        SET_GROUP_FORMATION_SPACING( iParam0->_fU0, iParam0->_fU16 );
        SET_GROUP_FORMATION_MAX_MOVE_SPEED( iParam0->_fU0, iParam0->_fU20 );
    }
    return;
}

/* RESET_SCRIPT_SPEECH_STRUCT */ void sub_21334(int iParam0)
{
    iParam0->_fU4 = -1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = 0;
    iParam0->_fU32 = 0;
    iParam0->_fU36 = 0;
    return;
}

/* ADD_PED_FOR_SCRIPT_SPEECH_ENUM */ void sub_21447(int iParam0, unknown uParam1, unknown uParam2, int iParam3, unknown uParam4, unknown uParam5)
{
    if (iParam3->_fU32)
    {
        ;
    }
    else if (iParam3->_fU36 == 0)
    {
        iParam3->_fU36 = 1;
        iParam3->_fU4 = CREATE_NEW_SCRIPTED_CONVERSATION( uParam4 );
        if (iParam3->_fU4 == -1)
        {
            iParam3->_fU32 = 1;
        }
    }
    if ((iParam0 < 9) AND ((iParam0 >= 0) AND ((iParam3->_fU4 < 4) AND (iParam3->_fU4 >= 0))))
    {
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU0 = uParam1;
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU4 = uParam2;
        if (NOT (IS_PED_INJURED( uParam1 )))
        {
            SET_PED_CAN_PLAY_AMBIENT_ANIMS( uParam1, uParam5 );
        }
    }
    return;
}

/* PLAY_SINGLE_SPEECH */ void sub_21691(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return  /* PLAY_SINGLE_SPEECH_FROM_BLOCK */ sub_21736( uParam0, ref g_U157._fU0, uParam1, uParam2, uParam3 );
}

/* PLAY_SINGLE_SPEECH_FROM_BLOCK */ void sub_21736(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    StrCopy( ref cVar11[0], uParam0, 16 );
    StrCopy( ref cVar11[1], "END", 16 );
    return  /* PLAYSPEECHMAIN */ sub_21823( ref cVar11, uParam2, uParam3, 0, 0, 0, 0, ref cVar7, uParam4 );
}

/* PLAYSPEECHMAIN */ int sub_21823(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    int I;
    unknown uVar12;
    unknown uVar13;

    if (iParam1->_fU4 == -1)
    {
        return 0;
    }
    iParam1->_fU0 = uParam2;
    if (NOT ( /* CANTHISSPEECHBEPLAYED */ sub_21875( iParam1 )))
    {
        return 0;
    }
    uVar12 = iParam1->_fU4;
    uVar13 = GET_HASH_KEY( ref (uParam0^)[0] );
    iParam1->_fU16 = uVar13;
    SET_CONVERSATION_CHECK_HASH( uVar12, uVar13 );
    g_U157._fU132 = 0;
    iParam1->_fU24 = 0;
    iParam1->_fU28 = uParam5;
    if (bParam3)
    {
        if (iParam1->_fU20)
        {
            iParam1->_fU20 = 0;
        }
    }
    else
    {
        iParam1->_fU20 = 0;
        if (bParam4)
        {
            iParam1->_fU12 = uParam6;
            iParam1->_fU20 = 0;
        }
        else
        {
            iParam1->_fU12 = 0;
            iParam1->_fU20 = 0;
        }
    }
    iParam1->_fU24 = bParam4;
    for ( I = 0; I <= 24; I++ )
    {
        StrCopy( ref g_U233[uVar12][I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        g_U233[uVar12][I] = {(uParam0^)[I]};
    }
    g_U192[uVar12] = {(iParam1^)};
     /* COPYHIDDENSPEECHSTUCT */ sub_22393( ref g_U16[uVar12], ref g_U157 );
    StrCopy( ref g_U16[uVar12]._fU0, uParam7, 16 );
    g_U16[uVar12]._fU136 = uParam8;
    g_U11[iParam1->_fU4] = 1;
    return 1;
}

/* CANTHISSPEECHBEPLAYED */ int sub_21875(int iParam0)
{
    switch (g_U11[iParam0->_fU4])
    {
        case 1:
        case 2:
        return 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING( iParam0->_fU4 ))
    {
        if (g_U1[iParam0->_fU4] > iParam0->_fU0)
        {
            return 0;
        }
        STOP_SCRIPTED_CONVERSATION( iParam0->_fU4, 0, 0 );
    }
    g_U1[iParam0->_fU4] = iParam0->_fU0;
    g_U6[iParam0->_fU4]++;
    if (g_U6[iParam0->_fU4] > 100000)
    {
        g_U6[iParam0->_fU4] = 1;
    }
    iParam0->_fU8 = g_U6[iParam0->_fU4];
    return 1;
}

/* COPYHIDDENSPEECHSTUCT */ void sub_22393(int iParam0, int iParam1)
{
    int I;

    iParam0->_fU0 = {iParam1->_fU0};
    for ( I = 0; I <= 8; I++ )
    {
        iParam0->_fU92[I] = iParam1->_fU92[I];
    }
    iParam0->_fU132 = iParam1->_fU132;
    iParam0->_fU136 = iParam1->_fU136;
    return;
}

/* P_START_BRIDGE_STAIRS */ void sub_22603()
{
     /* WRITESCRIPTLOG */ sub_420( "SP", "P_START_BRIDGE_STAIRS", "###" );
    return;
}

/* P_SETDOORMINMAXLIMIT */ void sub_22738(int iParam0, float fParam1, float fParam2)
{
    if (( /* F_DOESDOOREXIST */ sub_13172( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_13256( iParam0 );
    }
    if (fParam1 > fParam2)
    {
        PRINTSTRING( "[SP]### Error: Door fMinLimit greater than fMaxLimit (default min:-81.0 max:81.0) ###" );
        PRINTNL();
    }
    else
    {
        DOOR_FIND_CLOSEST_SET_LIMIT_MIN( iParam0->_fU0, iParam0->_fU4, fParam1 );
        DOOR_FIND_CLOSEST_SET_LIMIT_MAX( iParam0->_fU0, iParam0->_fU4, fParam2 );
    }
    return;
}

/* P_HANDLE_GIO_POI */ void sub_23047()
{
    if (( /* F_SHOULD_GIO_POI_BE_AVAILABLE */ sub_23076()) == 1)
    {
        if (( /* F_IS_POI_AVAILABLE */ sub_23650( ref l_U926 )) == 0)
        {
             /* P_SET_POI_AVAILABLE */ sub_23708( ref l_U926, 1 );
        }
    }
    else if (( /* F_IS_POI_AVAILABLE */ sub_23650( ref l_U926 )) == 1)
    {
         /* P_SET_POI_AVAILABLE */ sub_23708( ref l_U926, 0 );
    }
    if (( /* F_POI_CAN_PLAY_UNAVALIABLE_MONO */ sub_24199( ref l_U926 )) == 1)
    {
         /* RESET_SCRIPT_SPEECH_STRUCT */ sub_21334( ref l_U916 );
         /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_24516( 0,  /* PLAYER_PED_ID */ sub_701(), "MAX", ref l_U916, 2, 0 );
         /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_24516( 1,  /* PLAYER_PED_ID */ sub_701(), "MAX", ref l_U916, 2, 0 );
         /* PLAY_SINGLE_SPEECH */ sub_21691( "EXPLORE_ITEM", ref l_U916, 8, 1 );
    }
    if ( /* F_HANDLE_POI */ sub_24796( ref l_U926 ))
    {
        if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_739() )))
        {
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_739(), 0, 0 );
        }
        CAMERA_PLAY_ANIMATED( "EXPL_CAM", "EXPL_CAM_GND_15_F_CAM", 1, l_U1022, l_U1025, 0, 0 );
        DISPLAY_HUD( 0 );
        if ((NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_739() ))) AND (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() ))))
        {
            SET_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_701(), 0 );
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_739(), 0, 0 );
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_701(), 1 );
        }
        if (NOT (HAS_EXPLORATION_ITEM_BEEN_FOUND( "sfav1_Flyer" )))
        {
            FOUND_EXPLORATION_ITEM( "sfav1_Flyer" );
             /* WRITESCRIPTLOG */ sub_420( "CCB", "Playing sss_SFV1_FLNPO speech.", 0 );
             /* KILL_ANY_MISSION_SPEECH */ sub_27305( 0 );
             /* RESET_SCRIPT_SPEECH_STRUCT */ sub_21334( ref l_U1012 );
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )))
            {
                 /* WRITESCRIPTLOG */ sub_420( "CCB", "Adding PLAYER_PED_ID ped for sss_SFV1_FLNPO script speech.", 0 );
                 /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_24516( 0,  /* PLAYER_PED_ID */ sub_701(), "MAX", ref l_U1012, 2, 0 );
            }
             /* PLAY_SINGLE_SPEECH */ sub_21691( "SFV1_FLNPO", ref l_U1012, 7, 1 );
        }
        l_U1029 = 1;
    }
    if (l_U1029 == 1)
    {
        if (IS_ANIMATED_CAMERA_PLAYING())
        {
            if (CAMERA_ANIMATED_CURRENT_TIME() >= 10000)
            {
                CAMERA_ANIMATED_STOP( 0, 0 );
                if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_739() )))
                {
                    SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_739(), 1, 0 );
                }
                DISPLAY_HUD( 1 );
                if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )))
                {
                    SET_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_701(), 1 );
                    FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_701(), 0 );
                }
                 /* P_ENABLE_POI */ sub_25803( ref l_U926, 1 );
                l_U1029 = 0;
            }
        }
    }
    return;
}

/* F_SHOULD_GIO_POI_BE_AVAILABLE */ int sub_23076()
{
    if ((( /* F_IS_DOOR2_ENEMY_ACTIVE */ sub_23531()) == 1) AND ((( /* F_IS_DOOR1_ENEMY_ACTIVE */ sub_23441()) == 1) AND ((( /* F_IS_RELAX_ROOM_DEAD_OR_INACTIVE */ sub_23313()) == 1) AND (( /* F_ARE_BRIDGE_ENEMIES_DEAD */ sub_23118()) == 1))))
    {
        return 1;
    }
    return 0;
}

/* F_ARE_BRIDGE_ENEMIES_DEAD */ int sub_23118()
{
    int iVar2;

    iVar2 =  /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_23160( ref l_U651 );
    iVar2 +=  /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_23160( ref l_U670 );
    if (iVar2 == 0)
    {
        return 1;
    }
    return 0;
}

/* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ void sub_23160(unknown uParam0)
{
    int Result;
    int I;
    int iVar5;

    Result = 0;
    iVar5 = (uParam0^) - 1;
    for ( I = 0; I <= iVar5; I++ )
    {
        if (NOT (IS_PED_DEAD( (uParam0^)[I] )))
        {
            Result++;
        }
    }
    return Result;
}

/* F_IS_RELAX_ROOM_DEAD_OR_INACTIVE */ int sub_23313()
{
    if (l_U578 == 0)
    {
        return 1;
    }
    else if ((IS_PED_DEAD( l_U743 )) AND ((IS_PED_DEAD( l_U686[0] )) AND (IS_PED_DEAD( l_U699 ))))
    {
        return 1;
    }
    return 0;
}

/* F_IS_DOOR1_ENEMY_ACTIVE */ int sub_23441()
{
    if (((IS_PED_VISIBLE( l_U758[0] )) == 0) || (IS_PED_DEAD( l_U758[0] )))
    {
        return 1;
    }
    return 0;
}

/* F_IS_DOOR2_ENEMY_ACTIVE */ int sub_23531()
{
    if (((IS_PED_VISIBLE( l_U777[0] )) == 0) || (IS_PED_DEAD( l_U777[0] )))
    {
        return 1;
    }
    return 0;
}

/* F_IS_POI_AVAILABLE */ void sub_23650(int iParam0)
{
    return iParam0->_fU56;
}

/* P_SET_POI_AVAILABLE */ void sub_23708(int iParam0, int iParam1)
{
    if (iParam1 == 0)
    {
        iParam0->_fU60 = 1;
    }
    else
    {
        iParam0->_fU60 = 0;
    }
     /* P_UPDATEINTERACTIONTEXTAVAILABLE */ sub_23772( iParam0 );
    return;
}

/* P_UPDATEINTERACTIONTEXTAVAILABLE */ void sub_23772(int iParam0)
{
    if (iParam0->_fU60 == 1)
    {
        SET_INTERACTIONTEXT_AVAILABLE( 0 );
        iParam0->_fU56 = 0;
    }
    else if (iParam0->_fU56 == 1)
    {
        if (( /* F_ISACTIONINGAVAILABLE */ sub_23868( iParam0 )) == 0)
        {
            SET_INTERACTIONTEXT_AVAILABLE( 0 );
            iParam0->_fU56 = 0;
        }
    }
    else if (( /* F_ISACTIONINGAVAILABLE */ sub_23868( iParam0 )) == 1)
    {
        SET_INTERACTIONTEXT_AVAILABLE( 1 );
        iParam0->_fU56 = 1;
    };;;
    return;
}

/* F_ISACTIONINGAVAILABLE */ int sub_23868(int iParam0)
{
    if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )) == 0) AND ((IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_739() )) == 0))
    {
        if (((IS_PED_RELOADING(  /* PLAYER_PED_ID */ sub_701() )) == 1) || (((IS_PED_GETTING_UP(  /* PLAYER_PED_ID */ sub_701() )) == 1) || (((IS_PED_PICKING_UP_PICKUP(  /* PLAYER_PED_ID */ sub_701() )) == 1) || (((IS_PED_IN_COVER(  /* PLAYER_PED_ID */ sub_701() )) == 1) || (((IS_PED_DUCKING(  /* PLAYER_PED_ID */ sub_701() )) == 1) || (IS_PLAYER_SHOOTDODGING() == 1))))))
        {
            return 0;
        }
        if (iParam0->_fU304 == 0)
        {
            if ((IS_MONOLOGUE_PLAYING() == 1) || ((IS_ANY_SPEECH_PLAYING(  /* PLAYER_PED_ID */ sub_701() )) == 1))
            {
                return 0;
            }
        }
        return 1;
    }
    return 0;
}

/* F_POI_CAN_PLAY_UNAVALIABLE_MONO */ int sub_24199(int iParam0)
{
    if ((iParam0->_fU8 == 2) AND ((iParam0->_fU76 == 0) AND (( /* F_IS_POI_AVAILABLE */ sub_23650( iParam0 )) == 0)))
    {
        if ((( /* F_HASACTIONBEENPRESSED */ sub_24389()) == 1) AND (((IS_PED_RELOADING(  /* PLAYER_PED_ID */ sub_701() )) == 0) AND (((IS_PED_GETTING_UP(  /* PLAYER_PED_ID */ sub_701() )) == 0) AND (((IS_PED_PICKING_UP_PICKUP(  /* PLAYER_PED_ID */ sub_701() )) == 0) AND (((IS_PED_IN_COVER(  /* PLAYER_PED_ID */ sub_701() )) == 0) AND (((IS_PED_DUCKING(  /* PLAYER_PED_ID */ sub_701() )) == 0) AND ((IS_PLAYER_SHOOTDODGING() == 0) AND ((IS_MONOLOGUE_PLAYING() == 0) AND ((IS_INTERACTIONTEXT_AVAILABLE() == 0) AND (IS_INTERACTIONTEXT_ONSCREEN() == 1))))))))))
        {
            iParam0->_fU76 = 1;
            return 1;
        }
    }
    return 0;
}

/* F_HASACTIONBEENPRESSED */ int sub_24389()
{
    if ((IS_CONTROL_JUST_PRESSED( 0, 30 )) == 1)
    {
        return 1;
    }
    return 0;
}

/* ADD_PED_FOR_SCRIPT_SPEECH */ void sub_24516(int iParam0, unknown uParam1, unknown uParam2, int iParam3, unknown uParam4, unknown uParam5)
{
    if (iParam3->_fU32)
    {
        ;
    }
    else if (iParam3->_fU36 == 0)
    {
        iParam3->_fU36 = 1;
        iParam3->_fU4 = CREATE_NEW_SCRIPTED_CONVERSATION( uParam4 );
        if (iParam3->_fU4 == -1)
        {
            iParam3->_fU32 = 1;
        }
    }
    if ((iParam0 < 9) AND ((iParam0 >= 0) AND ((iParam3->_fU4 < 4) AND (iParam3->_fU4 >= 0))))
    {
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU0 = uParam1;
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU4 = GET_HASH_KEY( uParam2 );
        if (NOT (IS_PED_INJURED( uParam1 )))
        {
            SET_PED_CAN_PLAY_AMBIENT_ANIMS( uParam1, uParam5 );
        }
    }
    return;
}

/* F_HANDLE_POI */ int sub_24796(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    int iVar6;
    int iVar7;
    int iVar8;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )) == 0)
    {
        if (iParam0->_fU0 == 1)
        {
            uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS(  /* PLAYER_PED_ID */ sub_701() )};
            iVar6 = 0;
            if (iParam0->_fU80 == 1)
            {
                if (( /* F_ISPEDINTRIGGERBOX */ sub_24897(  /* PLAYER_PED_ID */ sub_701(), iParam0->_fU116 )) == 1)
                {
                    if (iParam0->_fU300 == 1)
                    {
                        if (((IS_OBJECT_ON_SCREEN( iParam0->_fU312 )) == 1) AND ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1))
                        {
                            iVar6 = 1;
                        }
                    }
                    else
                    {
                        iVar6 = 1;
                    }
                }
            }
            else if ((iParam0->_fU308 == 1) AND (iParam0->_fU84 == 1))
            {
                if ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_OBJECT_COORDS( iParam0->_fU312 ), 1 )) <= iParam0->_fU112)
                    {
                        if (iParam0->_fU300 == 1)
                        {
                            if ((IS_OBJECT_ON_SCREEN( iParam0->_fU312 )) == 1)
                            {
                                iVar6 = 1;
                            }
                        }
                        else
                        {
                            iVar6 = 1;
                        }
                    }
                }
            }
            else if (iParam0->_fU96 == 1)
            {
                if ((DOES_PED_EXIST( iParam0->_fU316 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU316 ), 1 )) <= iParam0->_fU112)
                    {
                        if (iParam0->_fU300 == 1)
                        {
                            if ((IS_PED_ON_SCREEN( iParam0->_fU316, 0 )) == 1)
                            {
                                iVar6 = 1;
                            }
                        }
                        else
                        {
                            iVar6 = 1;
                        }
                    }
                }
            }
            else if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, iParam0->_fU100, 1 )) <= iParam0->_fU112)
            {
                if (iParam0->_fU300 == 1)
                {
                    if (((IS_OBJECT_ON_SCREEN( iParam0->_fU312 )) == 1) AND ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1))
                    {
                        iVar6 = 1;
                    }
                }
                else
                {
                    iVar6 = 1;
                }
            };;;;
            iVar7 = 0;
            if (iParam0->_fU88 == 1)
            {
                if (( /* F_ISPEDINTRIGGERBOX */ sub_24897(  /* PLAYER_PED_ID */ sub_701(), iParam0->_fU216 )) == 1)
                {
                    iVar7 = 1;
                }
            }
            else if ((iParam0->_fU308 == 1) AND (iParam0->_fU92 == 1))
            {
                if ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_OBJECT_COORDS( iParam0->_fU312 ), 1 )) <= iParam0->_fU212)
                    {
                        iVar7 = 1;
                    }
                }
            }
            else if (iParam0->_fU96 == 1)
            {
                if ((DOES_PED_EXIST( iParam0->_fU316 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU316 ), 1 )) <= iParam0->_fU212)
                    {
                        iVar7 = 1;
                    }
                }
            }
            else if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, iParam0->_fU200, 1 )) <= iParam0->_fU212)
            {
                iVar7 = 1;
            };;;;
            if (iVar6 == 1)
            {
                if ((iParam0->_fU4 != 3) AND (iParam0->_fU52 == 1))
                {
                    if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                    {
                         /* P_UPDATEINTERACTIONTEXTAVAILABLE */ sub_23772( iParam0 );
                    }
                    iVar8 = 0;
                    if ((IS_WEAPON_PICKUP_VISIBLE() == 0) AND ((iParam0->_fU60 == 0) AND (( /* F_ISACTIONINGAVAILABLE */ sub_23868( iParam0 )) == 1)))
                    {
                        SET_ACTION_CONSUMED( 0, 1 );
                        if (( /* F_HASACTIONBEENPRESSED */ sub_24389()) == 1)
                        {
                            iVar8 = 1;
                        }
                    }
                    if (iVar8 == 1)
                    {
                        if (iParam0->_fU332 == 0)
                        {
                             /* P_ENABLE_POI */ sub_25803( iParam0, 0 );
                            iParam0->_fU64 = 1;
                        }
                        if (iParam0->_fU68 == 1)
                        {
                            iParam0->_fU72 = 0;
                        }
                        return 1;
                    }
                    else if (iParam0->_fU8 != 2)
                    {
                        if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                        {
                             /* P_ENABLEPOIGLINT */ sub_14862( iParam0, 0 );
                             /* P_ENABLEPOIINTERACTIONTEXT */ sub_25889( iParam0, 1 );
                        }
                        else if (iParam0->_fU320 == 1)
                        {
                             /* P_ENABLEPOIGLINT */ sub_14862( iParam0, 1 );
                        }
                        iParam0->_fU8 = 2;
                    }
                    if ((iParam0->_fU328 == 0) AND (iParam0->_fU324 == 1))
                    {
                        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )) == 0)
                        {
                            SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_701(), 1 );
                            iParam0->_fU328 = 1;
                        }
                    }
                }
            }
            else if (iVar7 == 1)
            {
                if (iParam0->_fU8 != 1)
                {
                    if ((iParam0->_fU4 != 3) AND (iParam0->_fU320 == 1))
                    {
                         /* P_ENABLEPOIGLINT */ sub_14862( iParam0, 1 );
                    }
                    if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                    {
                         /* P_ENABLEPOIINTERACTIONTEXT */ sub_25889( iParam0, 0 );
                    }
                    if (iParam0->_fU96 == 1)
                    {
                        if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )) == 0) AND ((((IS_PED_DEAD( iParam0->_fU316 )) == 1) || ((IS_PED_DEAD( iParam0->_fU316 )) == 0)) AND ((DOES_PED_EXIST( iParam0->_fU316 )) == 1)))
                        {
                            TASK_LOOK_AT_PED(  /* PLAYER_PED_ID */ sub_701(), iParam0->_fU316, -1, 0 );
                        }
                    }
                    else if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )) == 0)
                    {
                        TASK_LOOK_AT_COORD(  /* PLAYER_PED_ID */ sub_701(), iParam0->_fU100, -1, 0 );
                    }
                    iParam0->_fU340 = 1;
                    if ((iParam0->_fU72 == 0) AND ((iParam0->_fU68 == 1) AND ((iParam0->_fU64 == 1) AND (iParam0->_fU8 == 2))))
                    {
                        iParam0->_fU72 = 1;
                    }
                    iParam0->_fU8 = 1;
                }
                if ((iParam0->_fU328 == 0) AND (iParam0->_fU324 == 1))
                {
                    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )) == 0)
                    {
                        SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_701(), 1 );
                        iParam0->_fU328 = 1;
                    }
                }
            }
            else if ((iParam0->_fU4 == 1) || (iParam0->_fU4 == 3))
            {
                ;
            }
            else if (iParam0->_fU8 != 0)
            {
                if (iParam0->_fU320 == 1)
                {
                     /* P_ENABLEPOIGLINT */ sub_14862( iParam0, 0 );
                }
            }
            if (iParam0->_fU8 == 2)
            {
                if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                {
                     /* P_ENABLEPOIINTERACTIONTEXT */ sub_25889( iParam0, 0 );
                }
            }
            if (iParam0->_fU340)
            {
                if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )) == 0)
                {
                    TASK_CLEAR_LOOK_AT(  /* PLAYER_PED_ID */ sub_701() );
                    iParam0->_fU340 = 0;
                }
            }
            if ((iParam0->_fU328 == 1) AND (iParam0->_fU324 == 1))
            {
                if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )) == 0)
                {
                    SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_701(), 0 );
                    iParam0->_fU328 = 0;
                }
            }
            if (iParam0->_fU332 == 1)
            {
                 /* P_ENABLEPOIINTERACTIONTEXT */ sub_25889( iParam0, 0 );
            }
            iParam0->_fU8 = 0;;;
        }
    }
    return 0;
}

/* F_ISPEDINTRIGGERBOX */ int sub_24897(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        return IS_PED_IN_GAMEPLAY_HELPER_BOX( uParam0, ref uParam1._fU0 );
    }
    return 0;
}

/* P_ENABLE_POI */ void sub_25803(int iParam0, int iParam1)
{
    if (iParam1 == 1)
    {
        if ((iParam0->_fU4 == 1) AND (iParam0->_fU320 == 1))
        {
             /* P_ENABLEPOIGLINT */ sub_14862( iParam0, 1 );
        }
        iParam0->_fU0 = 1;
    }
    else
    {
         /* P_ENABLEPOIGLINT */ sub_14862( iParam0, 0 );
         /* P_ENABLEPOIINTERACTIONTEXT */ sub_25889( iParam0, 0 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )) == 0)
        {
            TASK_CLEAR_LOOK_AT(  /* PLAYER_PED_ID */ sub_701() );
            if ((iParam0->_fU328 == 1) AND (iParam0->_fU324 == 1))
            {
                SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_701(), 0 );
                iParam0->_fU328 = 0;
            }
        }
        iParam0->_fU8 = 0;
        iParam0->_fU0 = 0;
    }
    return;
}

/* P_ENABLEPOIINTERACTIONTEXT */ void sub_25889(int iParam0, int iParam1)
{
    if (iParam1 == 1)
    {
        SET_INTERACTIONTEXT_TEXT( iParam0 + 32 );
        SET_INTERACTIONTEXT_BUTTON( iParam0->_fU48 );
        if ((iParam0->_fU72 == 0) AND ((iParam0->_fU64 == 1) AND (iParam0->_fU68 == 1)))
        {
            SET_INTERACTIONTEXT_VISIBLE( 0 );
            SET_INTERACTIONTEXT_BUTTON_VISIBLE( 0 );
            SET_INTERACTIONTEXT_AVAILABLE( 0 );
            iParam0->_fU56 = 0;
        }
        else
        {
            SET_INTERACTIONTEXT_VISIBLE( 1 );
            SET_INTERACTIONTEXT_BUTTON_VISIBLE( 1 );
            SET_INTERACTIONTEXT_AVAILABLE( 1 );
            iParam0->_fU56 = 1;
        }
         /* P_UPDATEINTERACTIONTEXTAVAILABLE */ sub_23772( iParam0 );
        if (iParam0->_fU332 == 1)
        {
            SET_INTERACTIONTEXT_PULSE( 1 );
            SET_INTERACTIONTEXT_PULSE_PERIOD( iParam0->_fU336 );
        }
    }
    else
    {
        SET_INTERACTIONTEXT_VISIBLE( 0 );
        SET_INTERACTIONTEXT_BUTTON_VISIBLE( 0 );
    }
    return;
}

/* KILL_ANY_MISSION_SPEECH */ void sub_27305(unknown uParam0)
{
    int I;

    for ( I = 0; I <= 3; I++ )
    {
        PRINTSTRING( "\n KILL_ANY_MISSION_SPEECH CALLED***************************************" );
        if (IS_SCRIPTED_CONVERSATION_ONGOING( I ))
        {
            if ((g_U1[I] <= 8) AND (g_U1[I] >= 4))
            {
                STOP_SCRIPTED_CONVERSATION( I, uParam0, 0 );
            }
        }
    }
    return;
}

/* F_ISPEDINTRIGGERBOXFIRSTTIME */ void sub_28618(int iParam0, unknown uParam1, unknown uParam2)
{
    if (iParam0->_fU68 == 1)
    {
        return 0;
    }
    else
    {
        iParam0->_fU68 =  /* F_ISPEDINTRIGGERBOX */ sub_24897( uParam1, (iParam0^) );
        if ((iParam0->_fU68) AND (uParam2))
        {
            GAMEPLAY_HELPER_BOX_SET_ENABLED( iParam0 + 0, 0 );
        }
    }
    return iParam0->_fU68;
}

/* P_ENABLE_BRIDGE_WALLA */ void sub_28788()
{
     /* WRITESCRIPTLOG */ sub_420( "NS", "P_ENABLE_BRIDGE_WALLA()", 0 );
    ENABLE_WALLA_ZONE( "S_FAV1_WZ_GET_READY_BRIDGE", 1 );
    return;
}

/* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ void sub_28915(int iParam0, unknown uParam1)
{
    if (iParam0->_fU64 == 1)
    {
        return 0;
    }
    else
    {
        iParam0->_fU64 =  /* F_ISPEDINTRIGGERBOX */ sub_24897(  /* PLAYER_PED_ID */ sub_701(), (iParam0^) );
        if ((iParam0->_fU64) AND (uParam1))
        {
            GAMEPLAY_HELPER_BOX_SET_ENABLED( iParam0 + 0, 0 );
        }
    }
    return iParam0->_fU64;
}

/* P_SAVE_PLAYER_DATA_CHECKPOINT */ void sub_29128(int iParam0, int iParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, int iParam9)
{
    int iVar12;
    int iVar13;
    int iVar14;
    int iVar15;
    int iVar16;

     /* WRITESCRIPTLOG */ sub_420( "GA", "Saving the player data for checkpoint - Start", 0 );
    if ((IS_PED_DEAD( uParam2 )) == 0)
    {
         /* WRITESCRIPTLOG */ sub_420( "SP", "Saving to scripted data...", 0 );
        RESET_CHECKPOINT_ATTEMPTS();
        if (SCRIPT_VAR_EXISTS( "SV_SAVE_CNT" ))
        {
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", (SCRIPT_VAR_GET_INT( "SV_SAVE_CNT" )) + 1 );
        }
        else
        {
            SCRIPT_VAR_ADD_INT( "SV_SAVE_CNT" );
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", 1 );
        }
         /* START_NEW_LEVEL_CONTEXT */ sub_4061( iParam1 );
         /* CLOSE_OLD_LEVEL_CONTEXT */ sub_29419( iParam1 );
        iParam0->_fU52 = iParam1;
        iParam0->_fU4 = {uParam3};
        iParam0->_fU16 = uParam6;
        iParam0->_fU20 = uParam7;
        iParam0->_fU24 = uParam8;
        iParam0->_fU28 = GET_PED_HEALTH( uParam2 );
        iParam0->_fU56 = -1569615261;
        iParam0->_fU60 = -1569615261;
        iParam0->_fU64 = -1569615261;
        iParam0->_fU68 = -1569615261;
        iParam0->_fU72 = -1569615261;
        iParam0->_fU76 = 0;
        iParam0->_fU80 = 0;
        iParam0->_fU84 = 0;
        iParam0->_fU88 = 0;
        iParam0->_fU92 = 0;
        iVar12 = GET_WEAPON_FROM_HAND( uParam2, 0, 0 );
        iVar13 = GET_WEAPON_FROM_HAND( uParam2, 1, 0 );
        iVar14 = GET_WEAPON_FROM_HOLSTER( uParam2, 0 );
        iVar15 = GET_WEAPON_FROM_HOLSTER( uParam2, 1 );
        iVar16 = GET_WEAPON_FROM_HOLSTER( uParam2, 2 );
        if (GET_DOES_WEAPON_EXIST( iVar12 ))
        {
            iParam0->_fU68 = GET_WEAPON_TYPE( iVar12 );
            iParam0->_fU88 = (GET_WEAPON_AMMO( iVar12 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar12 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_29896( iVar12, iParam0 + 120, iParam0 + 124 );
        }
        if (GET_DOES_WEAPON_EXIST( iVar13 ))
        {
            iParam0->_fU72 = GET_WEAPON_TYPE( iVar13 );
            iParam0->_fU92 = (GET_WEAPON_AMMO( iVar13 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar13 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_29896( iVar13, iParam0 + 128, iParam0 + 132 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_30156( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar13 ) ))
                {
                    iParam0->_fU92 = GET_WEAPON_AMMO_IN_CLIP( iVar12 );
                }
            }
        }
        if ((iVar14 != iVar13) AND ((iVar14 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar14 ))))
        {
            iParam0->_fU56 = GET_WEAPON_TYPE( iVar14 );
            iParam0->_fU76 = (GET_WEAPON_AMMO( iVar14 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar14 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_29896( iVar14, iParam0 + 96, iParam0 + 100 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_30156( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_30156( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
        }
        if ((iVar15 != iVar13) AND ((iVar15 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar15 ))))
        {
            iParam0->_fU60 = GET_WEAPON_TYPE( iVar15 );
            iParam0->_fU80 = (GET_WEAPON_AMMO( iVar15 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar15 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_29896( iVar15, iParam0 + 104, iParam0 + 108 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_30156( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_30156( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_30156( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
        }
        if ((iVar16 != iVar13) AND ((iVar16 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar16 ))))
        {
            iParam0->_fU64 = GET_WEAPON_TYPE( iVar16 );
            iParam0->_fU84 = (GET_WEAPON_AMMO( iVar16 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar16 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_29896( iVar16, iParam0 + 112, iParam0 + 116 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_30156( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_30156( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_30156( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar15 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_30156( GET_WEAPON_TYPE( iVar15 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
        }
        SAVE_PICKUPS();
        iParam0->_fU32 = GET_ADRENALINE_AMT();
        iParam0->_fU36 = GET_PAYNEKILLER_AMT();
        GET_TIME_OF_DAY( iParam0 + 40, iParam0 + 44 );
        iParam0->_fU140 = IS_TIME_OF_DAY_FROZEN();
        iParam0->_fU136 = GET_PED_SWEAT( uParam2 );
        if (iParam9 == 1)
        {
            if (IS_MAGDEMO() == 0)
            {
                ENABLE_CHECKPOINT_ICON();
            }
        }
        if (iParam1 >= 0)
        {
             /* P_PRINT_CHECKPOINT_DATA */ sub_31736( iParam0 );
            iParam0->_fU0 = 1;
            if (IS_ARCADE_MODE_ACTIVE() == 0)
            {
                CHECKPOINT_STORAGE_SAVE( iParam0, l_U1, iParam0->_fU52 );
                REQUEST_SAVE();
            }
        }
        if (IS_ARCADE_MODE_ACTIVE())
        {
            UPDATE_ARCADE_CHECK_POINT( iParam0->_fU52 );
        }
    }
    else
    {
        SCRIPT_ASSERT( "Error: Player is dead while saving a checkpoint!!!", 0 );
    }
     /* WRITESCRIPTLOG */ sub_420( "GA", "Saving the player data for checkpoint - End", 0 );
    return;
}

/* CLOSE_OLD_LEVEL_CONTEXT */ void sub_29419(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (iParam0 >= 0)
    {
        if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
        {
            uVar3 =  /* GET_MISSION_INDEX_FROM_NAME */ sub_1076( ref uVar20 );
        }
        STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, iParam0 - 1 );
         /* WRITESCRIPTLOG */ sub_420( "TEH", "Ending context", 0 );
         /* WRITESCRIPTLOG */ sub_420( "TEH", "Ending context", 0 );
        END_CONTEXT( ref uVar4 );
    }
    return;
}

/* P_SAVE_WEAPON_ATTACHMENTS */ void sub_29896(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        CLEAR_BIT( uParam1, I );
        CLEAR_BIT( uParam2, I );
        if (IS_WEAPON_ATTACHMENT_ENABLED( uParam0, I ))
        {
            SET_BIT( uParam1, I );
            if (IS_WEAPON_ATTACHMENT_TOGGLED( uParam0, I ))
            {
                SET_BIT( uParam2, I );
            }
        }
    }
    return;
}

/* F_WEAPONS_SAME_AMMO */ void sub_30156(int iParam0, int iParam1)
{
    int Result;

    Result = 0;
    if ((iParam0 == -612753081) || ((iParam0 == 68019059) || ((iParam0 == 456708483) || ((iParam0 == -862236369) || (iParam0 == 406496141)))))
    {
        if ((iParam1 == -612753081) || ((iParam1 == 68019059) || ((iParam1 == 456708483) || ((iParam1 == -862236369) || (iParam1 == 406496141)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 724901397) || ((iParam0 == 57534114) || ((iParam0 == 1308526797) || ((iParam0 == -1074756423) || (iParam0 == -1013714740)))))
    {
        if ((iParam1 == 724901397) || ((iParam1 == 57534114) || ((iParam1 == 1308526797) || ((iParam1 == -1074756423) || (iParam1 == -1013714740)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 514118749) || ((iParam0 == -184942895) || ((iParam0 == -168327769) || ((iParam0 == 1845102363) || (iParam0 == 434544317)))))
    {
        if ((iParam1 == 514118749) || ((iParam1 == -184942895) || ((iParam1 == -168327769) || ((iParam1 == 1845102363) || (iParam1 == 434544317)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -110877124) || (iParam0 == 319712764))
    {
        if ((iParam1 == -110877124) || (iParam1 == 319712764))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -1464892298) || ((iParam0 == 1194438308) || ((iParam0 == -1404433099) || ((iParam0 == 1478009203) || ((iParam0 == -691403429) || (iParam0 == 1964270085))))))
    {
        if ((iParam1 == -1464892298) || ((iParam1 == 1194438308) || ((iParam1 == -1404433099) || ((iParam1 == 1478009203) || ((iParam1 == -691403429) || (iParam1 == 1964270085))))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 10648147) || (iParam0 == 1224272620))
    {
        if ((iParam1 == 10648147) || (iParam1 == 1224272620))
        {
            Result = 1;
        }
    };;;;;;
    return Result;
}

/* P_PRINT_CHECKPOINT_DATA */ void sub_31736(int iParam0)
{
     /* WRITE_STRING */ sub_2896( "CHECKPOINT DATA" );
    PRINTSTRING( "---Position: " );
     /* WRITE_VECTOR */ sub_31824( iParam0->_fU4 );
    PRINTSTRING( "---Heading: " );
     /* WRITE_FLOAT */ sub_31901( iParam0->_fU16 );
    PRINTSTRING( "---fRelativeGameCamHeading: " );
     /* WRITE_FLOAT */ sub_31901( iParam0->_fU20 );
    PRINTSTRING( "---fRelativeGameCamPitch: " );
     /* WRITE_FLOAT */ sub_31901( iParam0->_fU24 );
    PRINTSTRING( "---nHealth: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU28 );
    PRINTSTRING( "---wtRightHolster: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU56 );
    PRINTSTRING( "---wtLeftHolster: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU60 );
    PRINTSTRING( "---wtRifleHolster: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU64 );
    PRINTSTRING( "---wtRightHand: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU68 );
    PRINTSTRING( "---wtLeftHand: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU72 );
    PRINTSTRING( "---nWeaponRightHolsterAmmo: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU76 );
    PRINTSTRING( "---nWeaponLeftHolsterAmmo: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU80 );
    PRINTSTRING( "---nWeaponRifleHolsterAmmo: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU84 );
    PRINTSTRING( "---nWeaponRightHandAmmo: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU88 );
    PRINTSTRING( "---nWeaponLeftHandAmmo: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU92 );
    PRINTSTRING( "---fAdrenaline: " );
     /* WRITE_FLOAT */ sub_31901( iParam0->_fU32 );
    PRINTSTRING( "---nPayneKillers: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU36 );
    PRINTSTRING( "---nHour: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU40 );
    PRINTSTRING( "---nMinute: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU44 );
    PRINTSTRING( "---fSweatAmount: " );
     /* WRITE_FLOAT */ sub_31901( iParam0->_fU136 );
    PRINTSTRING( "---bTimeFrozen: " );
     /* WRITE_BOOL */ sub_32771( iParam0->_fU140 );
    PRINTSTRING( "---checkpointIndex: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU52 );
     /* WRITE_STRING */ sub_2896( "---nRightHolsterAttachmentEnabled: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU96 );
     /* WRITE_STRING */ sub_2896( "---nRightHolsterAttachmentToggled: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU100 );
     /* WRITE_STRING */ sub_2896( "---nLeftHolsterAttachmentEnabled: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU104 );
     /* WRITE_STRING */ sub_2896( "---nLeftHolsterAttachmentToggled: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU108 );
     /* WRITE_STRING */ sub_2896( "---nRifleHolsterAttachmentEnabled: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU112 );
     /* WRITE_STRING */ sub_2896( "---nRifleHolsterAttachmentToggled: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU116 );
     /* WRITE_STRING */ sub_2896( "---nRightHandAttachmentEnabled: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU120 );
     /* WRITE_STRING */ sub_2896( "---nRightHandAttachmentToggled: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU124 );
     /* WRITE_STRING */ sub_2896( "---nLeftHandAttachmentEnabled: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU128 );
     /* WRITE_STRING */ sub_2896( "---nLeftHandAttachmentToggled: " );
     /* WRITE_INT */ sub_32070( iParam0->_fU132 );
    PRINTSTRING( "[CHECKPOINT DATA SIZE]: " );
     /* WRITE_INT */ sub_32070( l_U1 );
    PRINTSTRING( "[CHECKPOINT DATA REF SIZE]: " );
     /* WRITE_INT */ sub_32070( 144 );
    return;
}

/* WRITE_VECTOR */ void sub_31824(unknown uParam0, unknown uParam1, unknown uParam2)
{
    PRINTVECTOR( uParam0 );
    PRINTNL();
    return;
}

/* WRITE_FLOAT */ void sub_31901(unknown uParam0)
{
    PRINTFLOAT( uParam0 );
    PRINTNL();
    return;
}

/* WRITE_INT */ void sub_32070(unknown uParam0)
{
    PRINTINT( uParam0 );
    PRINTNL();
    return;
}

/* WRITE_BOOL */ void sub_32771(boolean bParam0)
{
    if (bParam0)
    {
        PRINTSTRING( "TRUE" );
    }
    else
    {
        PRINTSTRING( "FALSE" );
    }
    PRINTNL();
    return;
}

/* P_CREATE_PROPANE */ void sub_33731()
{
     /* WRITESCRIPTLOG */ sub_420( "NS", "P_CREATE_PROPANE()", 0 );
     /* CLEANOBJECT */ sub_7848( l_U714 );
    l_U714 =  /* CREATEOBJECT */ sub_18204( -502497534, -27.49000000, -47.22000000, 16.81000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    return;
}

/* P_SETUP_BRIDGE */ void sub_33917()
{
    int I;

     /* WRITESCRIPTLOG */ sub_420( "SP", "P_SETUP_BRIDGE", "###" );
    for ( I = 0; I <= 2; I++ )
    {
         /* CLEANPED */ sub_7758( l_U651[I] );
        l_U651[I] =  /* CREATEPED */ sub_19523( ref l_U611[I] );
        if (((IS_PED_DEAD( l_U651[I] )) == 0) AND ((DOES_PED_EXIST( l_U651[I] )) == 1))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U651[I], 1 );
            SET_PED_PROOFS( l_U651[I], 1, 0, 0, 0, 0 );
            SET_PED_AI_TEMPLATE( l_U651[I], ref g_U1791 );
            SET_PED_ALERTNESS( l_U651[I], 4 );
            SET_PED_PATH_CAN_DROP_FROM_HEIGHT( l_U651[I], 1 );
             /* P_QUICK_ADD_PED_TO_GROUP */ sub_20395( l_U651[I], ref l_U605 );
        }
         /* P_TETHERPED */ sub_34191( ref l_U460, l_U651[I], 1 );
    }
     /* F_GIVEPEDWEAPON */ sub_3287( l_U651[0], g_U1820, 25000, 0, 0 );
     /* F_GIVEPEDWEAPON */ sub_3287( l_U651[1], g_U1820, 25000, 0, 0 );
     /* F_GIVEPEDWEAPON */ sub_3287( l_U651[2], g_U1817, 25000, 0, 0 );
     /* P_DEACTIVATEPEDARRAY */ sub_34363( ref l_U651 );
     /* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ sub_34574( ref l_U651, "piBridgeEnemies_" );
    return;
}

/* P_TETHERPED */ void sub_34191(int iParam0, unknown uParam1, unknown uParam2)
{
    if (((IS_PED_DEAD( uParam1 )) == 0) AND ((DOES_PED_EXIST( uParam1 )) == 1))
    {
        SET_PED_TETHERING_ADD_BOX( uParam1, iParam0->_fU0 );
        SET_PED_TETHERING_OPTION( uParam1, uParam2 );
    }
    return;
}

/* P_DEACTIVATEPEDARRAY */ void sub_34363(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
         /* P_DEACTIVATEPED */ sub_34417( (uParam0^)[I] );
    }
    return;
}

/* P_DEACTIVATEPED */ void sub_34417(unknown uParam0)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_FREEZE_PROCESSING( uParam0, 1 );
        SET_PED_VISIBLE( uParam0, 0 );
        SET_PED_VISIBLE_DURING_SEQUENCE( uParam0, 0 );
        FREEZE_PED_POSITION( uParam0, 1 );
        SET_PED_COLLISION( uParam0, 0 );
        SET_PED_PROOFS( uParam0, 1, 1, 1, 1, 1 );
    }
    return;
}

/* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ void sub_34574(unknown uParam0, unknown uParam1)
{
    int I;
    char[32] cVar5;

    for ( I = 0; I < (uParam0^); I++ )
    {
        if (DOES_PED_EXIST( (uParam0^)[I] ))
        {
            StrCopy( ref cVar5, uParam1, 32 );
            ConcatString(ref cVar5, " ", 32);
            ConcatString(ref cVar5, I, 32);
            SET_PED_NAME_DEBUG( (uParam0^)[I], ref cVar5 );
        }
    }
    return;
}

/* P_START_BRIDGE_SHOOTOUT */ void sub_34712()
{
    int I;

     /* WRITESCRIPTLOG */ sub_420( "SP", "P_START_BRIDGE_SHOOTOUT", "###" );
    for ( I = 0; I <= 2; I++ )
    {
        if (((IS_PED_DEAD( l_U651[I] )) == 0) AND ((DOES_PED_EXIST( l_U651[I] )) == 1))
        {
             /* P_ACTIVATEPED */ sub_34853( l_U651[I] );
            SET_PED_PROOFS( l_U651[I], 0, 0, 0, 0, 0 );
            if (I == 0)
            {
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U651[I], 0 );
                SET_PED_FLAG_LOCK_TO_COVER( l_U651[I], 1 );
                TASK_COMBAT_SNAP_TO_COVER_AMBUSH( l_U651[I], "GenCover", "233FA02F_5116CF77_Popover1", 0, -1, 0 );
            }
            else if (I == 1)
            {
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U651[I], 0 );
                SET_PED_FLAG_LOCK_TO_COVER( l_U651[I], 1 );
                TASK_COMBAT_SNAP_TO_COVER_AMBUSH( l_U651[I], "GenCover", "233FA02F_9C79663B_Popover2", 0, -1, 0 );
            }
        }
    }
    return;
}

/* P_ACTIVATEPED */ void sub_34853(unknown uParam0)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_FREEZE_PROCESSING( uParam0, 0 );
        SET_PED_VISIBLE( uParam0, 1 );
        SET_PED_VISIBLE_DURING_SEQUENCE( uParam0, 1 );
        FREEZE_PED_POSITION( uParam0, 0 );
        SET_PED_COLLISION( uParam0, 1 );
        SET_PED_PROOFS( uParam0, 0, 0, 0, 0, 0 );
    }
    return;
}

/* P_RELEASE_BRIGE_FIGHT */ void sub_35397()
{
    int I;

     /* WRITESCRIPTLOG */ sub_420( "NS", "P_RELEASE_BRIGE_FIGHT()", 0 );
    for ( I = 0; I < 3; I++ )
    {
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )))
        {
            if (NOT (IS_PED_DEAD( l_U651[I] )))
            {
                SET_PED_FLAG_LOCK_TO_COVER( l_U651[I], 0 );
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U651[I], 0 );
                TASK_COMBAT_PED( l_U651[I],  /* PLAYER_PED_ID */ sub_701() );
            }
        }
    }
    return;
}

/* P_SETUP_BRIDGE_BACKUP */ void sub_35594()
{
    int I;
    unknown uVar3;

     /* WRITESCRIPTLOG */ sub_420( "SP", "P_SETUP_BRIDGE_BACKUP", "###" );
    for ( I = 0; I < 1; I++ )
    {
         /* CLEANPED */ sub_7758( l_U670[I] );
        l_U670[I] =  /* CREATEPED */ sub_19523( ref l_U656[I] );
         /* P_QUICK_ADD_PED_TO_GROUP */ sub_20395( l_U670[I], ref l_U605 );
         /* P_TETHERPED */ sub_34191( ref l_U460, l_U670[I], 1 );
        uVar3 =  /* F_GIVEPEDWEAPON */ sub_3287( l_U670[I], g_U1818, 25000, 0, 0 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U670[I], 1 );
        SET_PED_AI_TEMPLATE( l_U670[I], ref g_U1791 );
        SET_PED_ALERTNESS( l_U670[I], 2 );
    }
     /* P_DEACTIVATEPEDARRAY */ sub_34363( ref l_U670 );
     /* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ sub_34574( ref l_U670, "piBridgeBackupEnemies_" );
    return;
}

/* P_DISABLE_BRIDGE_WALLA */ void sub_35900()
{
     /* WRITESCRIPTLOG */ sub_420( "NS", "P_DISABLE_BRIDGE_WALLA()", 0 );
    ENABLE_WALLA_ZONE( "S_FAV1_WZ_GET_READY_BRIDGE", 0 );
    return;
}

/* P_BRIDGE_BACKUP_ACTION */ void sub_36278()
{
    if (((IS_PED_DEAD( l_U670[0] )) == 0) AND ((DOES_PED_EXIST( l_U670[0] )) == 1))
    {
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )))
        {
             /* P_ACTIVATEPED */ sub_34853( l_U670[0] );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U670[0], 0 );
            TASK_COMBAT_MOVE_TO_COVER( l_U670[0], "GenCover", "233FA02F_CC4AAE4_Popover2",  /* PLAYER_PED_ID */ sub_701() );
        }
    }
    return;
}

/* F_GET_NUM_DEAD_PEDS_IN_ARRAY */ void sub_36483(unknown uParam0)
{
    int Result;
    int I;
    int iVar5;

    Result = 0;
    iVar5 = (uParam0^) - 1;
    for ( I = 0; I <= iVar5; I++ )
    {
        if (DOES_PED_EXIST( (uParam0^)[I] ))
        {
            if (IS_PED_DEAD( (uParam0^)[I] ))
            {
                Result++;
            }
        }
    }
    return Result;
}

/* P_SETUP_RELAX_DOOR_TWO */ void sub_36775()
{
    int I;

     /* WRITESCRIPTLOG */ sub_420( "SP", "P_SETUP_RELAX_DOOR_TWO", "###" );
    for ( I = 0; I <= 0; I++ )
    {
         /* CLEANPED */ sub_7758( l_U777[I] );
        l_U777[I] =  /* CREATEPED */ sub_19523( ref l_U763[I] );
         /* F_GIVEPEDWEAPON */ sub_3287( l_U777[I], g_U1818, 25000, 0, 0 );
         /* P_QUICK_ADD_PED_TO_GROUP */ sub_20395( l_U777[I], ref l_U605 );
        if (NOT (IS_PED_DEAD( l_U777[I] )))
        {
            SET_PED_AI_TEMPLATE( l_U777[I], ref g_U1791 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U777[I], 1 );
            SET_PED_ALERTNESS( l_U777[I], 4 );
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )))
            {
                REGISTER_TARGET( l_U777[I],  /* PLAYER_PED_ID */ sub_701() );
            }
        }
    }
     /* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ sub_34574( ref l_U777, "piDoor2Enemies_" );
     /* P_DEACTIVATEPEDARRAY */ sub_34363( ref l_U777 );
    return;
}

/* P_CREATE_RELAX_ROOM */ void sub_37112()
{
    vector vVar2;
    float fVar5;
    vector vVar6;
    vector vVar9;
    vector vVar12;
    float fVar15;
    vector vVar16;
    vector vVar19;
    unknown uVar22;
    unknown uVar23;

     /* WRITESCRIPTLOG */ sub_420( "SP", "P_CREATE_RELAX_ROOM", "###" );
    vVar2 = {-53.78000000, -42.63000000, 13.79000000};
    fVar5 = -69.56000000;
    vVar6 = {-52.34000000, -42.10000000, 13.79000000};
    vVar9 = {0.00000000, 0.00000000, -70.00000000};
    vVar12 = {-53.54000000, -42.67000000, 13.79000000};
    fVar15 = -135.00000000;
    vVar16 = {-53.95000000, -40.74000000, 13.75000000};
    vVar19 = {0.00000000, 0.00000000, -120.00000000};
     /* CLEANPED */ sub_7758( l_U699 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_10229( ref l_U700, vVar2, fVar5, 365972843, 7, 3, 2, 0, 0 );
    l_U699 =  /* CREATEPED */ sub_19523( ref l_U700 );
    if (((IS_PED_DEAD( l_U699 )) == 0) AND ((DOES_PED_EXIST( l_U699 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U699, "piTableKickEnemy" );
        FREEZE_PED_POSITION( l_U699, 1 );
        SET_PED_AI_TEMPLATE( l_U699, ref g_U1791 );
        SET_PED_COLLISION( l_U699, 0 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U699, 1 );
        CLEAR_PED_TASKS( l_U699 );
        uVar22 =  /* F_GIVEPEDWEAPON */ sub_3287( l_U699, g_U1817, 25000, 0, 0 );
        SET_PED_ALERTNESS( l_U699, 3 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )) == 0)
        {
            REGISTER_TARGET( l_U699,  /* PLAYER_PED_ID */ sub_701() );
            CLEAR_PED_DEFAULT_AIM( l_U699 );
            SET_PED_DEFAULT_AIM_AT_PED( l_U699,  /* PLAYER_PED_ID */ sub_701() );
        }
    }
     /* CLEANOBJECT */ sub_7848( l_U713 );
    l_U713 =  /* CREATEOBJECT */ sub_18204( l_U717, vVar6, vVar9, 0, 1, 0 );
    if ((DOES_OBJECT_EXIST( l_U713 )) == 1)
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U713, ref l_U466 );
        FREEZE_OBJECT_POSITION( l_U713, 1 );
        SET_OBJECT_COLLISION( l_U713, 0 );
        SET_OBJECT_AS_FLIPPABLE_TABLE( l_U713, 1 );
    }
     /* CLEANPEDARRAY */ sub_8051( ref l_U686 );
    l_U686[0] =  /* CREATEPED */ sub_19523( ref l_U672[0] );
     /* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ sub_34574( ref l_U686, "piRelaxRoomExtra" );
    if (NOT (IS_PED_DEAD( l_U686[0] )))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U686[0], 1 );
        SET_PED_AI_TEMPLATE( l_U686[0], ref g_U1791 );
         /* F_GIVEPEDWEAPON */ sub_3287( l_U686[0], g_U1819, 25000, 0, 0 );
    }
    uVar23 = GET_INTERIOR_AT_COORDS( vVar2 );
    SET_INTERIOR_ACTIVE( uVar23, 1, 0 );
    return;
}

/* P_SETUP_RELAX_HIDING_ENEMY */ void sub_37881()
{
    unknown uVar2;

     /* WRITESCRIPTLOG */ sub_420( "SP", "P_SETUP_RELAX_HIDING_ENEMY", "###" );
     /* CLEANPED */ sub_7758( l_U743 );
    l_U743 =  /* CREATEPED */ sub_19523( ref l_U730 );
    if (((IS_PED_DEAD( l_U743 )) == 0) AND ((DOES_PED_EXIST( l_U743 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U743, "piRelaxHidingEnemy" );
        SET_ROOM_FOR_PED_BY_NAME( l_U743, ref l_U474 );
         /* P_QUICK_ADD_PED_TO_GROUP */ sub_20395( l_U743, ref l_U605 );
        SET_PED_AI_TEMPLATE( l_U743, ref g_U1791 );
        uVar2 =  /* F_GIVEPEDWEAPON */ sub_3287( l_U743, g_U1820, 200, 0, 0 );
        TASK_COMBAT_SNAP_TO_COVER( l_U743, "GenCover", "220971D_C1E3B113_Popover1", 0 );
        SET_PED_FLAG_LOCK_TO_COVER( l_U743, 1 );
    }
    return;
}

/* P_PLAYER_LEAVES_BRIDGE_ALIVE */ void sub_38197()
{
    int I;

     /* WRITESCRIPTLOG */ sub_420( "NS", "P_PLAYER_LEAVES_BRIDGE_ALIVE()", 0 );
    for ( I = 0; I < 3; I++ )
    {
        if (l_U482 < 2)
        {
            if (NOT (IS_PED_DEAD( l_U651[I] )))
            {
                 /* P_REMOVEALLTETHERSFROMPED */ sub_38337( l_U651[I] );
                 /* P_TETHERPED */ sub_34191( ref l_U465, l_U651[I], 1 );
                SET_PED_COMBAT_ATTRIBUTES( l_U651[I], 1, 0 );
                l_U482++;
            }
        }
    }
    ENABLE_STATIC_EMITTER( "S_FAV1_COKE_PACK_HOUSE_MUSIC", 1 );
    return;
}

/* P_REMOVEALLTETHERSFROMPED */ void sub_38337(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        RESET_PED_TETHERING( uParam0 );
    }
    return;
}

/* F_RELAX_ROOM_ENEMIES_ALERT */ int sub_38577()
{
    unknown uVar2;

    if (( /* F_ISPLAYERINTRIGGERBOX */ sub_38622( l_U187 )) == 1)
    {
        return 1;
    }
    if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )) == 0) AND (((IS_PED_DEAD( l_U699 )) == 0) AND ((DOES_PED_EXIST( l_U699 )) == 1)))
    {
        if ((HAS_PED_CLEAR_LOS_TO_PED( l_U699,  /* PLAYER_PED_ID */ sub_701() )) == 1)
        {
            return 1;
        }
    }
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )))
    {
        if (HAS_BULLET_IMPACTED_IN_AREA( -45.32000000, -39.75000000, 14.88000000, 2.00000000, ref uVar2 ))
        {
            return 1;
        }
    }
    return 0;
}

/* F_ISPLAYERINTRIGGERBOX */ void sub_38622(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20)
{
    return  /* F_ISPEDINTRIGGERBOX */ sub_24897(  /* PLAYER_PED_ID */ sub_701(), uParam0 );
}

/* P_ACTION_RELAX_ROOM_EXTRAS */ void sub_38971()
{
     /* WRITESCRIPTLOG */ sub_420( "NS", "P_Action_Relax_Room_Extras()", 0 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )))
    {
        if (NOT (IS_PED_DEAD( l_U686[0] )))
        {
            OPEN_SEQUENCE_TASK( ref l_U729 );
            TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
            TASK_COMBAT_MOVE_TO_COVER( 0, "cptint", "Corner_Position10",  /* PLAYER_PED_ID */ sub_701() );
            CLOSE_SEQUENCE_TASK( l_U729 );
            TASK_PERFORM_SEQUENCE( l_U686[0], l_U729 );
            CLEAR_SEQUENCE_TASK( l_U729 );
        }
    }
    return;
}

/* P_CHECK_PLAYER__FIRED_AT_DOOR1 */ int sub_39281()
{
    int iVar2;

    if (HAS_BULLET_IMPACTED_IN_AREA( -36.40000000, -52.37000000, 14.89000000, 1.18400000, ref iVar2 ))
    {
        if (iVar2 == ( /* PLAYER_PED_ID */ sub_701()))
        {
            return 1;
        }
    }
    return 0;
}

/* P_START_DOOR1_ENEMY1 */ void sub_39475()
{
     /* P_SETUP_RELAX_DOOR_ONE */ sub_39508();
     /* CLEANOBJECT */ sub_7848( l_U760 );
    if (DOES_OBJECT_EXIST( l_U761 ))
    {
        SET_OBJECT_VISIBLE( l_U761, 0 );
        SET_OBJECT_COLLISION( l_U761, 0 );
    }
    l_U760 = CREATE_OBJECT_NO_OFFSET( -957257324, -36.55674000, -51.75412000, 14.89159000, 1, 0 );
    if (DOES_OBJECT_EXIST( l_U760 ))
    {
        SET_OBJECT_ROTATION( l_U760, 0.00000000, 0.00000000, 90.00000000 );
    }
     /* TELEPORTPED */ sub_15840( l_U758[0], l_U744[0]._fU0, l_U744[0]._fU12 );
    ISEQ_REGISTER_ENTITY( -1286951997, "DUDE", l_U758[0], 0 );
    ISEQ_REGISTER_ENTITY( -1286951997, "DOOR", l_U760, 1 );
    ISEQ_START( -1286951997 );
    if (((IS_PED_DEAD( l_U758[0] )) == 0) AND ((DOES_PED_EXIST( l_U758[0] )) == 1))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U758[0], 0 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )) == 0)
        {
            TASK_ATTACK_MOVE( l_U758[0], -37.86000000, -52.36000000, 13.79000000, 1092616192, 1101004800, -1082130432, 3 );
        }
    }
    l_U581 = 1;
    return;
}

/* P_SETUP_RELAX_DOOR_ONE */ void sub_39508()
{
    int I;

     /* WRITESCRIPTLOG */ sub_420( "SP", "P_SETUP_RELAX_DOOR_ONE", "###" );
    if (((IS_PED_DEAD( l_U743 )) == 0) AND ((DOES_PED_EXIST( l_U743 )) == 1))
    {
         /* P_REMOVETETHERFROMPED */ sub_39627( ref l_U461, l_U743 );
    }
    for ( I = 0; I <= 0; I++ )
    {
         /* CLEANPED */ sub_7758( l_U758[I] );
        l_U758[I] =  /* CREATEPED */ sub_19523( ref l_U744[I] );
         /* P_QUICK_ADD_PED_TO_GROUP */ sub_20395( l_U758[I], ref l_U605 );
        SET_PED_AI_TEMPLATE( l_U758[I], ref g_U1791 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U758[I], 1 );
        SET_PED_ALERTNESS( l_U758[I], 4 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )))
        {
            REGISTER_TARGET( l_U758[I],  /* PLAYER_PED_ID */ sub_701() );
        }
    }
     /* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ sub_34574( ref l_U758, "piDoor1Enemies_" );
     /* F_GIVEPEDWEAPON */ sub_3287( l_U758[0], g_U1818, 25000, 0, 0 );
    return;
}

/* P_REMOVETETHERFROMPED */ void sub_39627(int iParam0, unknown uParam1)
{
    if (((IS_PED_DEAD( uParam1 )) == 0) AND ((DOES_PED_EXIST( uParam1 )) == 1))
    {
        SET_PED_TETHERING_REMOVE_BOX( uParam1, iParam0->_fU0 );
    }
    return;
}

/* P_ENABLE_FOUNTAIN_WALLA */ void sub_40311()
{
     /* WRITESCRIPTLOG */ sub_420( "NS", "P_ENABLE_FOUNTAIN_WALLA()", 0 );
    ENABLE_WALLA_ZONE( "S_FAV1_WZ_GET_READY_FOUNTAIN", 1 );
    return;
}

/* P_DISABLE_FOUNTAIN_WALLA */ void sub_40477()
{
     /* WRITESCRIPTLOG */ sub_420( "NS", "P_DISABLE_FOUNTAIN_WALLA()", 0 );
    ENABLE_WALLA_ZONE( "S_FAV1_WZ_GET_READY_FOUNTAIN", 0 );
    return;
}

/* P_OPENDOOR */ void sub_40766(int iParam0, int iParam1, int iParam2, unknown uParam3)
{
    float fVar6;

    if (( /* F_DOESDOOREXIST */ sub_13172( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_13256( iParam0 );
    }
    fVar6 = 0.00000000;
    if (iParam1 == 1)
    {
        fVar6 = uParam3;
    }
    else
    {
        fVar6 = -uParam3;
    }
    if (iParam2 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, fVar6 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar6 );
    }
    else
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar6 );
    }
    return;
}

/* P_START_RELAX_DOOR_TWO */ void sub_40991()
{
    int I;

    for ( I = 0; I < 1; I++ )
    {
        if (((IS_PED_DEAD( l_U777[I] )) == 0) AND ((DOES_PED_EXIST( l_U777[I] )) == 1))
        {
             /* P_ACTIVATEPED */ sub_34853( l_U777[I] );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U777[I], 0 );
            TASK_ATTACK_MOVE_WHILE_AIMING_AT_PED( l_U777[I], -38.82000000, -60.44000000, 12.77000000,  /* PLAYER_PED_ID */ sub_701(), 1, 0.00000000, 1101004800, -1082130432, 3 );
        }
    }
    return;
}

/* P_SETUP_RELAX_DOOR_THREE */ void sub_41202()
{
    int I;

     /* WRITESCRIPTLOG */ sub_420( "SP", "P_SETUP_RELAX_DOOR_THREE", "###" );
    for ( I = 0; I <= 1; I++ )
    {
         /* CLEANPED */ sub_7758( l_U806[I] );
        l_U806[I] =  /* CREATEPED */ sub_19523( ref l_U779[I] );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )) == 0)
        {
            SET_PED_AI_TEMPLATE( l_U806[I], ref g_U1791 );
            TASK_COMBAT_PED( l_U806[I],  /* PLAYER_PED_ID */ sub_701() );
            SET_PED_ALERTNESS( l_U806[I], 4 );
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )))
            {
                REGISTER_TARGET( l_U806[I],  /* PLAYER_PED_ID */ sub_701() );
            }
        }
         /* P_QUICK_ADD_PED_TO_GROUP */ sub_20395( l_U806[I], ref l_U605 );
    }
     /* P_TETHERPED */ sub_34191( ref l_U462, l_U806[0], 1 );
     /* P_TETHERPED */ sub_34191( ref l_U463, l_U806[1], 1 );
     /* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ sub_34574( ref l_U806, "piDoor3Enemies_" );
     /* F_GIVEPEDWEAPON */ sub_3287( l_U806[0], g_U1820, 25000, 0, 0 );
     /* F_GIVEPEDWEAPON */ sub_3287( l_U806[1], g_U1819, 25000, 0, 0 );
    return;
}

/* P_HOLD_ENEMIES_FROM_BRIDGE */ void sub_41594()
{
    int I;

     /* WRITESCRIPTLOG */ sub_420( "ns", "P_Hold_Enemies_From_Bridge()", 0 );
    for ( I = 0; I < 3; I++ )
    {
        if (l_U482 < 2)
        {
            if (NOT (IS_PED_DEAD( l_U651[I] )))
            {
                 /* P_REMOVEALLTETHERSFROMPED */ sub_38337( l_U651[I] );
                 /* P_TETHERPED */ sub_34191( ref l_U464, l_U651[I], 1 );
                SET_PED_COMBAT_ATTRIBUTES( l_U651[I], 1, 0 );
                l_U482++;
            }
        }
    }
    return;
}

/* P_HANDLE_IDLE_MONOLOGUE */ void sub_41819()
{
    if ((NOT l_U586._fU16) AND (NOT l_U586._fU20))
    {
        if ((IS_PED_DEAD( l_U743 )) AND ((IS_PED_DEAD( l_U699 )) AND ((( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_23160( ref l_U806 )) == 0) AND ((( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_23160( ref l_U777 )) == 0) AND ((( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_23160( ref l_U758 )) == 0) AND (( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_23160( ref l_U686 )) == 0))))))
        {
             /* WRITESCRIPTLOG */ sub_420( "SA", "Starting idle timer", 0 );
             /* CREATETIMER */ sub_6293( ref l_U586, 20000, 1, 0 );
             /* STARTTIMER */ sub_6441( ref l_U586 );
        }
    }
    if ( /* ISTIMERDONE */ sub_6572( ref l_U586 ))
    {
         /* RESET_SCRIPT_SPEECH_STRUCT */ sub_21334( ref l_U595 );
         /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_24516( 0,  /* PLAYER_PED_ID */ sub_701(), "MAX", ref l_U595, 2, 0 );
         /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_24516( 1,  /* PLAYER_PED_ID */ sub_701(), "MAX", ref l_U595, 2, 0 );
         /* PLAY_SINGLE_SPEECH */ sub_21691( "SFV1_PLSVTA", ref l_U595, 2, 1 );
    }
    return;
}

/* P_EARLY_CLEANUP */ void sub_42129()
{
     /* WRITESCRIPTLOG */ sub_420( "kja", "Just cleaning up a few thing early for memory", 0 );
     /* CLEANPEDARRAY */ sub_8051( ref g_U876 );
     /* CLEANPEDARRAY */ sub_8051( ref l_U651 );
     /* UNLOADMODEL */ sub_42240( -1417400376 );
    return;
}

/* UNLOADMODEL */ void sub_42240(unknown uParam0)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 1)
    {
        SET_MODEL_AS_NO_LONGER_NEEDED( uParam0 );
    }
    else
    {
         /* WRITE_STRING */ sub_2896( "[SP]### ERROR! (UnloadModel) Trying to unload a model that isn't in the img! ###" );
    }
    return;
}

/* P_HANDLE_TABLE_KICK_SEQUENCE */ void sub_42506()
{
    vector vVar2;
    float fVar5;
    vector vVar6;
    vector vVar9;
    vector vVar12;
    vector vVar15;
    vector vVar18;

    vVar2 = {-53.78000000, -42.63000000, 13.79000000};
    fVar5 = -69.56000000;
    vVar6 = {-52.34000000, -42.10000000, 13.79000000};
    vVar9 = {0.00000000, 0.00000000, -70.00000000};
    vVar12 = {0.00000000, 0.00000000, 0.00000000};
    vVar15 = {0.00000000, 0.00000000, 0.00000000};
    vVar18 = {0.00000000, 0.00000000, 0.00000000};
    switch (l_U688)
    {
        case 0: break;
        case 1:
         /* WRITESCRIPTLOG */ sub_420( "SP", "issTableKickState = ISS_LOADING", "###" );
        if (((IS_PED_DEAD( l_U699 )) == 0) AND ((DOES_PED_EXIST( l_U699 )) == 1))
        {
            FREEZE_PED_POSITION( l_U699, 0 );
            SET_PED_COLLISION( l_U699, 1 );
        }
        if ((DOES_OBJECT_EXIST( l_U713 )) == 1)
        {
            SET_OBJECT_COORDS( l_U713, vVar6 );
            SET_OBJECT_ROTATION( l_U713, vVar9 );
            SET_OBJECT_COLLISION( l_U713, 1 );
            FREEZE_OBJECT_POSITION( l_U713, 0 );
        }
        if (((IS_PED_DEAD( l_U699 )) == 0) AND ((DOES_PED_EXIST( l_U699 )) == 1))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U699, 0 );
        }
        ISEQ_REGISTER_ENTITY( -1714429670, "tkpstl1_enemy", l_U699, 0 );
        ISEQ_REGISTER_ENTITY( -1714429670, "tkpstl1_table", l_U713, 1 );
        ISEQ_START( -1714429670 );
         /* WRITESCRIPTLOG */ sub_420( "SA", "FAV_ONE_1", 0 );
         /* WRITESCRIPTLOG */ sub_420( "SA", "FAV1_BLUE_DOOR", 0 );
        AUDIO_MUSIC_FORCE_TRACK( "FAVELA_ONE_SONG", "FAV_ONE_1", "", 0.00000000, 0, 0, -1082130432, 0 );
        AUDIO_MUSIC_PLAY_ONESHOT();
         /* CREATETIMER */ sub_6293( ref l_U718, 0, 1, 0 );
         /* STARTTIMER */ sub_6441( ref l_U718 );
         /* CREATETIMER */ sub_6293( ref l_U503, 500, 1, 0 );
         /* STARTTIMER */ sub_6441( ref l_U503 );
        l_U688 = 2;
         /* WRITESCRIPTLOG */ sub_420( "SP", "issTableKickState = ISS_PLAYING", "###" );
        break;
        case 2:
        if (((ISEQ_QUERY_ENTITY_STATE( -1714429670, "tkpstl1_enemy", 6 )) == 1) || (((ISEQ_QUERY_STATE( -1714429670, 3 )) == 0) || ((ISEQ_IS_LOADED( -1714429670 )) == 0)))
        {
            l_U688 = 3;
        }
        break;
        case 3:
         /* WRITESCRIPTLOG */ sub_420( "SP", "issTableKickState = ISS_FINISHED", "###" );
        FORCE_UPDATE_OBJECT_PHYSICAL_STATE( l_U713 );
        l_U688 = 0;
        break;
    }
    if ((ISEQ_QUERY_ENTITY_STATE( -1714429670, "tkpstl1_enemy", 6 )) == 1)
    {
        if (DOES_SPATIALDATA_COVER_POINT_EXIST( l_U716 ))
        {
            if (HAS_OBJECT_BEEN_DAMAGED( l_U713 ))
            {
                REMOVE_SPATIALDATA_COVER_POINT( l_U716 );
            }
        }
    }
    if (( /* ISTIMERDONE */ sub_6572( ref l_U718 )) == 1)
    {
         /* WRITESCRIPTLOG */ sub_420( "SP", "Giving Table Flip Enemy his task", "###" );
        FORCE_UPDATE_OBJECT_PHYSICAL_STATE( l_U713 );
    }
    if (( /* ISTIMERDONE */ sub_6572( ref l_U503 )) == 1)
    {
         /* WRITESCRIPTLOG */ sub_420( "kja", "S_FAV1_BRIDGE_TABLE_KICK IS PLAYING", 0 );
        PLAY_SOUND_FROM_COORD( -1, "S_FAV1_TABLE_KICK", -50.42410000, -41.73033000, 13.79129000 );
    }
    return;
}

/* F_ASSIGN_BRIDGE_BULLET_CAM */ int sub_43696()
{
    if ((( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_23160( ref l_U670 )) + ( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_23160( ref l_U651 ))) == 1)
    {
         /* WRITESCRIPTLOG */ sub_420( "NS", "giving last living ped a bullet cam", 0 );
         /* F_ASSIGN_BULLET_CAM_TO_LAST_LIVING_PED */ sub_43814( ref l_U670 );
         /* F_ASSIGN_BULLET_CAM_TO_LAST_LIVING_PED */ sub_43814( ref l_U651 );
        return 1;
    }
    return 0;
}

/* F_ASSIGN_BULLET_CAM_TO_LAST_LIVING_PED */ void sub_43814(unknown uParam0)
{
    int I;

    if (( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_23160( uParam0 )) == 1)
    {
        for ( I = 0; I <= ((uParam0^) - 1); I++ )
        {
            if (NOT (IS_PED_DEAD( (uParam0^)[I] )))
            {
                if (NOT (GET_PED_CAN_TRIGGER_BULLET_CAM( (uParam0^)[I] )))
                {
                    SET_PED_CAN_TRIGGER_BULLET_CAM( (uParam0^)[I], 1 );
                    return (uParam0^)[I];
                }
            }
        }
    }
    return nil;
}

/* F_ENABLE_BRIDGE_EMITTER */ int sub_44028()
{
    if ((( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_23160( ref l_U670 )) + ( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_23160( ref l_U651 ))) == 0)
    {
         /* WRITESCRIPTLOG */ sub_420( "NS", "Enabled emitter S_FAV1_COKE_PACK_HOUSE_MUSIC", 0 );
        ENABLE_STATIC_EMITTER( "S_FAV1_COKE_PACK_HOUSE_MUSIC", 1 );
        return 1;
    }
    return 0;
}

/* F_GETDOOROPENRATIO */ void sub_44215(int iParam0)
{
    int iVar3;
    float Result;

    if (( /* F_DOESDOOREXIST */ sub_13172( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_13256( iParam0 );
    }
    iVar3 = 0;
    Result = 0.00000000;
    GET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, ref iVar3, ref Result );
    return Result;
}

/* P_HANDLE_MAX_CONTEXTUAL_DIALOGUE */ void sub_44409(int iParam0)
{
    if (l_U41 == 0)
    {
        l_U42 = GET_PAYNEKILLER_AMT();
        l_U41 = 1;
    }
    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_701() )) == 0)
    {
        if ((IS_LAST_MAN_STANDING_ACTIVE() == 0) AND ((IS_BULLET_CAMERA_RUNNING( 0 )) == 0))
        {
            if ((TIME_SINCE_LAST_MONOLOGUE() > 5000) AND ((IS_MONOLOGUE_PLAYING() == 0) AND (( /* IS_ANY_SPEECH_CURRENTLY_PLAYING */ sub_44528()) == 0)))
            {
                if ((iParam0 == 1) AND (l_U42 < GET_PAYNEKILLER_AMT()))
                {
                    if (g_U789 < 5)
                    {
                        if (((g_U788 mod 3) == 0) || (g_U788 == 0))
                        {
                             /* WRITESCRIPTLOG */ sub_420( "NS", "Playing Pills Monologue", 0 );
                             /* RESET_SCRIPT_SPEECH_STRUCT */ sub_21334( ref l_U31 );
                             /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_24516( 0,  /* PLAYER_PED_ID */ sub_701(), "MAX", ref l_U31, 2, 0 );
                             /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_24516( 1,  /* PLAYER_PED_ID */ sub_701(), "MAX", ref l_U31, 2, 0 );
                             /* PLAY_SINGLE_SPEECH */ sub_21691( "SFV1_MFPLS", ref l_U31, 7, 1 );
                            g_U789++;
                        }
                        g_U788++;
                    }
                }
            }
            l_U42 = GET_PAYNEKILLER_AMT();
        }
    }
    return;
}

/* IS_ANY_SPEECH_CURRENTLY_PLAYING */ void sub_44528()
{
    int Result;
    int I;

    Result = 0;
    for ( I = 0; I <= 3; I++ )
    {
        Result = (IS_SCRIPTED_CONVERSATION_ONGOING( I )) || (Result);
    }
    return Result;
}

/* P_UNLOAD_ASSETS */ void sub_44914()
{
     /* WRITESCRIPTLOG */ sub_420( "SP", "P_UNLOAD_ASSETS", "###" );
     /* UNLOADMODEL */ sub_42240( g_U761 );
     /* UNLOADMODEL */ sub_42240( l_U717 );
     /* UNLOADMODEL */ sub_42240( -1645666355 );
     /* UNLOADMODEL */ sub_42240( -1417400376 );
     /* UNLOADMODEL */ sub_42240( -502497534 );
     /* UNLOADMODEL */ sub_42240( -957257324 );
     /* UNLOADMODEL */ sub_42240( -304006147 );
     /* UNLOADANIMDICT */ sub_45067( "LEVEL_S_FAV1_cp_07" );
     /* UNLOADANIMDICT */ sub_45067( "EXPL_CAM" );
    RELEASE_SCRIPT_AUDIO_BANK();
    GAMEPLAY_HELPER_BOX_DESTROY( ref l_U82._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( ref l_U103._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( ref l_U124._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( ref l_U145._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( ref l_U166._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( ref l_U187._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( ref l_U208._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( ref l_U229._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( ref l_U250._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( ref l_U271._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( ref l_U292._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( ref l_U313._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( ref l_U334._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( ref l_U355._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( ref l_U376._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( l_U460._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( l_U461._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( l_U462._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( l_U463._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( l_U464._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( l_U465._fU0 );
    return;
}

/* UNLOADANIMDICT */ void sub_45067(unknown uParam0)
{
    REMOVE_ANIM_DICT( uParam0, 0 );
    return;
}

