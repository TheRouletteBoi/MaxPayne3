void main()
{
    unknown uVar2;

    l_U0 = 1;
    l_U1 = 144;
    l_U2 = 0;
    l_U3 = 0;
    l_U4 = 0;
    l_U5 = 0;
    l_U6 = 0;
    l_U7 = 0;
    l_U8 = 0;
    l_U9 = 0;
    l_U10 = 0;
    l_U11 = 0;
    l_U12 = 0;
    l_U13 = 0;
    l_U14 = 0;
    l_U15 = 0;
    l_U16 = 0;
    l_U17 = 0;
    l_U18 = 0;
    l_U19 = 0;
    l_U20 = 0;
    l_U21 = 0;
    l_U22 = 0;
    l_U23 = 0;
    l_U24 = 0;
    l_U25 = 0;
    l_U606 = 0;
    l_U1159 = 0;
    l_U1160 = 0;
    l_U1161 = 0;
    l_U1162 = 0;
    l_U1165 = 0;
     /* WRITESCRIPTLOG */ sub_213( "SK", "Script s_Fav1_bCamTest is starting...", "###" );
     /* P_SETUP_STATIC_DATA */ sub_331();
    LOAD_SCENE( g_U1050[37] );
    SET_PLAYER_INVINCIBLE(  /* PLAYER_ID */ sub_1884(), 1 );
    SET_ADRENALINE_AMT( 100.00000000 );
    uVar2 =  /* F_GIVEPEDWEAPON */ sub_2013(  /* PLAYER_PED_ID */ sub_1941(), 456708483, 25000, 0, 1 );
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( g_U1216[37], 1065353216, 0 );
    SET_GAMEPLAY_CAM_RELATIVE_PITCH( g_U1258[37], 1065353216, 0 );
    while (true)
    {
         /* P_HANDLE_BULLET_CAM_TEST_WIDGET */ sub_2467();
         /* P_HANDLE_BUTTONS */ sub_21855();
        WAIT( 0 );
    }
     /* WRITESCRIPTLOG */ sub_213( "SK", "Script s_Fav1_bCamTest is terminating...", "###" );
    return;
}

/* WRITESCRIPTLOG */ void sub_213(unknown uParam0, unknown uParam1, string sParam2)
{
    unknown uVar5;

    if (IS_STRING_NULL( sParam2 ))
    {
        sParam2 = "###";
    }
    uVar5 = GET_REAL_GAME_TIMER();
    DISPLAYF( "[{0}][{1}]{3} {2} {3}", 4, 513, uVar5, 1537, uParam0, 1537, uParam1, 1537, sParam2 );
    return;
}

/* P_SETUP_STATIC_DATA */ void sub_331()
{
    int I;

     /* P_CREATETRIGGERBOX */ sub_435( ref l_U49, "TRIG_START_BRIDGE", -11.68000000, -46.71000000, 15.00000000, 3.00000000, 3.00000000, 7.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_435( ref l_U112, "TRIG_SETUP_FOUNTAIN", -49.17000000, -79.32000000, 13.78000000, 10.00000000, 7.00000000, 7.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_435( ref l_U70, "TRIG_FOUNTAIN_ACTION", -54.53000000, -78.65000000, 12.00000000, 10.00000000, 3.00000000, 5.00000000, 0.00000000, 0.00000000, 17.31000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_435( ref l_U91, "TRIG_FOUNTAIN_BACKUP", -55.71000000, -71.20000000, 11.33000000, 12.00000000, 4.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_848( ref l_U343, "TETH_BRIDGE_GUARD", -24.57000000, -49.08000000, 16.20000000, 10.69000000, 10.16000000, 7.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_848( ref l_U344, "TETH_ROOF_ENEMY_01", -58.69000000, -58.39000000, 16.51000000, 8.00000000, 3.00000000, 3.00000000, 21.83310000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_848( ref l_U345, "TETH_ROOF_ENEMY_02", -63.86000000, -57.08000000, 17.01000000, 6.00000000, 6.00000000, 3.00000000, 21.83230000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_848( ref l_U346, "TETH_FOUNTAIN_HOUSE_WINDOWS", -59.00000000, -58.28000000, 12.52000000, 4.00000000, 3.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_848( ref l_U347, "TETH_FOUNTAIN_HOUSE_BACK", -59.38000000, -52.13000000, 13.03000000, 13.70000000, 3.80000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    GAMEPLAY_HELPER_BOX_SET_ENABLED( "TRIG_SETUP_FOUNTAIN", 0 );
    GAMEPLAY_HELPER_BOX_SET_ENABLED( "TRIG_FOUNTAIN_ACTION", 0 );
    GAMEPLAY_HELPER_BOX_SET_ENABLED( "TRIG_FOUNTAIN_BACKUP", 0 );
    l_U602[0] = -2139704145;
    l_U602[1] = -8807395;
    l_U602[2] = -892639963;
    for ( I = 0; I <= 2; I++ )
    {
         /* BLOCKLOADMODEL */ sub_1401( l_U602[I] );
    }
    return;
}

/* P_CREATETRIGGERBOX */ void sub_435(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    StrCopy( ref iParam0->_fU0, uParam1, 64 );
    iParam0->_fU64 = 0;
    iParam0->_fU68 = 0;
    iParam0->_fU72 = {uParam2};
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 1, iParam0 + 0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

/* P_CREATETETHERBOX */ void sub_848(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    iParam0->_fU0 = uParam1;
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 2, iParam0->_fU0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

/* BLOCKLOADMODEL */ void sub_1401(unknown uParam0)
{
    DISPLAYF( "[MSWW]### Trying to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
         /* WRITE_STRING */ sub_1603( "[SP]### ERROR! (BlockLoadModel) Trying to block load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    LOAD_ALL_OBJECTS_NOW();
    while ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        LOAD_ALL_OBJECTS_NOW();
        DISPLAYF( "[SP]### Waiting to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
        WAIT( 0 );
    }
    DISPLAYF( "[MSWW]### Has loaded model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
    return;
}

/* WRITE_STRING */ void sub_1603(unknown uParam0)
{
    PRINTSTRING( uParam0 );
    PRINTNL();
    return;
}

/* PLAYER_ID */ void sub_1884()
{
    return GET_PLAYER_ID();
}

/* PLAYER_PED_ID */ int sub_1941()
{
    if (DOES_MAIN_PLAYER_EXIST())
    {
        return GET_PLAYER_PED(  /* PLAYER_ID */ sub_1884() );
    }
    return 0;
}

/* F_GIVEPEDWEAPON */ void sub_2013(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's hand MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, uParam2, uParam3 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
                    DISPLAYF( "[SP]### Waiting for a weapon to exist: {} ###", 1, 513, uParam1 );
                }
            }
        }
    }
    else
    {
         /* WRITE_STRING */ sub_1603( "[SP]### (F_GivePedWeapon) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

/* P_HANDLE_BULLET_CAM_TEST_WIDGET */ void sub_2467()
{
    int I;
    unknown uVar3;

    if (l_U1165 == 0)
    {
         /* WRITESCRIPTLOG */ sub_213( "Sk", "CREATE BULLET CAM TEST WIDGET", "###" );
        l_U870[0]._fU0 = 456708483;
        StrCopy( ref l_U870[0]._fU4, "pistol - DESERT EAGLE", 32 );
        l_U870[1]._fU0 = -612753081;
        StrCopy( ref l_U870[1]._fU4, "pistol - TAURUS .357", 32 );
        l_U870[2]._fU0 = 68019059;
        StrCopy( ref l_U870[2]._fU4, "pistol - TAURUS PT92", 32 );
        l_U870[3]._fU0 = -862236369;
        StrCopy( ref l_U870[3]._fU4, "pistol - COLT 1911 A1", 32 );
        l_U870[4]._fU0 = -1464892298;
        StrCopy( ref l_U870[4]._fU4, "pistol - GLOCK 18C", 32 );
        l_U870[5]._fU0 = 406496141;
        StrCopy( ref l_U870[5]._fU4, "pistol - .38 REVOLVER", 32 );
        l_U870[6]._fU0 = -168327769;
        StrCopy( ref l_U870[6]._fU4, "shotgun - MOSSBERG 590", 32 );
        l_U870[7]._fU0 = 434544317;
        StrCopy( ref l_U870[7]._fU4, "shotgun - BENELLI SUPER90", 32 );
        l_U870[8]._fU0 = 514118749;
        StrCopy( ref l_U870[8]._fU4, "shotgun - WINCHESTER SX3", 32 );
        l_U870[9]._fU0 = -184942895;
        StrCopy( ref l_U870[9]._fU4, "shotgun - SPAS15", 32 );
        l_U870[10]._fU0 = 1845102363;
        StrCopy( ref l_U870[10]._fU4, "shotgun - DOUBLE BARREL SHOTGUN", 32 );
        l_U870[11]._fU0 = 1194438308;
        StrCopy( ref l_U870[11]._fU4, "SMG - MINI UZI", 32 );
        l_U870[12]._fU0 = -691403429;
        StrCopy( ref l_U870[12]._fU4, "SMG - MAC10", 32 );
        l_U870[13]._fU0 = -1404433099;
        StrCopy( ref l_U870[13]._fU4, "SMG - BERRETTA PM12", 32 );
        l_U870[14]._fU0 = 1478009203;
        StrCopy( ref l_U870[14]._fU4, "SMG - H&K MP5", 32 );
        l_U870[15]._fU0 = -1074756423;
        StrCopy( ref l_U870[15]._fU4, "ASLT RIFLE - AK-47", 32 );
        l_U870[16]._fU0 = 1308526797;
        StrCopy( ref l_U870[16]._fU4, "ASLT RIFLE - FAL", 32 );
        l_U870[17]._fU0 = -1013714740;
        StrCopy( ref l_U870[17]._fU4, "ASLT RIFLE - MD-97LC", 32 );
        l_U870[18]._fU0 = 57534114;
        StrCopy( ref l_U870[18]._fU4, "ASLT RIFLE - G36K", 32 );
        l_U870[19]._fU0 = 57534114;
        StrCopy( ref l_U870[19]._fU4, "ASLT RIFLE - MT40 - missing", 32 );
        l_U870[20]._fU0 = 724901397;
        StrCopy( ref l_U870[20]._fU4, "RIFLE - MINI-30", 32 );
        l_U870[21]._fU0 = -110877124;
        StrCopy( ref l_U870[21]._fU4, "MACHINE GUN - RPD", 32 );
        l_U870[22]._fU0 = 319712764;
        StrCopy( ref l_U870[22]._fU4, "MACHINE GUN - 21E", 32 );
        l_U870[23]._fU0 = 10648147;
        StrCopy( ref l_U870[23]._fU4, "SNIPER RILFE - SG1", 32 );
        l_U870[24]._fU0 = 1224272620;
        StrCopy( ref l_U870[24]._fU4, "SNIPER RILFE - M82", 32 );
        l_U870[25]._fU0 = -1312131151;
        StrCopy( ref l_U870[25]._fU4, "EXPLOSIVE - RPG", 32 );
        l_U870[26]._fU0 = -1659006841;
        StrCopy( ref l_U870[26]._fU4, "SNIPER RILFE - M82", 32 );
        l_U870[27]._fU0 = 1545805694;
        StrCopy( ref l_U870[27]._fU4, "THROWN - MOLOTOV", 32 );
        l_U870[28]._fU0 = -378310276;
        StrCopy( ref l_U870[28]._fU4, "THROWN - FRAG GRENADE", 32 );
        l_U870[29]._fU0 = -1986694060;
        StrCopy( ref l_U870[29]._fU4, "THROWN - SMOKE GRENADE", 32 );
        l_U870[30]._fU0 = -1629340685;
        StrCopy( ref l_U870[30]._fU4, "THROWN - TEAR GAS", 32 );
        l_U870[31]._fU0 = -1258125182;
        StrCopy( ref l_U870[31]._fU4, "THROWN - FLASH GRENADE", 32 );
        START_WIDGET_GROUP( "Bullet Cam Testing" );
        START_WIDGET_GROUP( "Player" );
        START_NEW_WIDGET_COMBO();
        for ( I = 0; I <= 31; I++ )
        {
            ADD_TO_WIDGET_COMBO( ref l_U870[I]._fU4 );
        }
        STOP_WIDGET_COMBO( "Player Weapon", ref l_U1162 );
        ADD_WIDGET_BOOL( "Give Player Weapon", ref l_U2 );
        START_WIDGET_GROUP( "TELEPORT PLAYER" );
        ADD_WIDGET_BOOL( "TELEPORT TO BRIDGE & STAIRS", ref l_U3 );
        ADD_WIDGET_BOOL( "TELEPORT TO FOUNTAIN AERA", ref l_U4 );
        ADD_WIDGET_BOOL( "TELEPORT TO HOGAN'S ALLEY", ref l_U5 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Ped Control" );
        ADD_WIDGET_BOOL( "Clean Peds", ref l_U11 );
        START_NEW_WIDGET_COMBO();
        ADD_TO_WIDGET_COMBO( "AIT_NOVICE" );
        ADD_TO_WIDGET_COMBO( "AIT_NORMAL" );
        ADD_TO_WIDGET_COMBO( "AIT_EXPERT" );
        l_U351 = STOP_WIDGET_COMBO( "AI Template:", ref l_U1166 );
        ADD_WIDGET_BOOL( "SET AITemplate", ref l_U10 );
        START_WIDGET_GROUP( "Bridge and Stairs Ped Control" );
        ADD_WIDGET_BOOL( "Spawn Upper Bridge Peds", ref l_U13 );
        ADD_WIDGET_BOOL( "Spawn Downer Bridge Peds", ref l_U14 );
        ADD_WIDGET_BOOL( "Upstairs Ped Shoots", ref l_U15 );
        ADD_WIDGET_BOOL( "Downstair Ped Shoots", ref l_U16 );
        ADD_WIDGET_BOOL( "Spawn In-Game Peds", ref l_U17 );
        ADD_WIDGET_BOOL( "Show Time Stairs Ped", ref l_U18 );
        ADD_WIDGET_BOOL( "Show Time Bridge Peds", ref l_U19 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Fountain Ped Control" );
        ADD_WIDGET_BOOL( "Spawn Peds", ref l_U20 );
        ADD_WIDGET_BOOL( "Spawn Interiour Peds", ref l_U23 );
        ADD_WIDGET_BOOL( "Fountain Peds Show Time", ref l_U22 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        l_U6 = 1;
        l_U1165 = 1;
    }
     /* P_BRIDGE */ sub_5024();
     /* P_FOUNTAIN */ sub_11544();
     /* P_LOWERFAV */ sub_17737();
    if (l_U2 == 1)
    {
        uVar3 =  /* F_GIVEPEDWEAPON */ sub_2013(  /* PLAYER_PED_ID */ sub_1941(), l_U870[l_U1162]._fU0, 25000, 0, 0 );
        l_U2 = 0;
    }
    if (l_U11 == 1)
    {
         /* P_CLEAN_ALL */ sub_7022();
        l_U11 = 0;
    }
    return;
}

/* P_BRIDGE */ void sub_5024()
{
    if (l_U3 == 1)
    {
         /* WRITESCRIPTLOG */ sub_213( "SK", "Teleporting player to Bridge and Stairs section", "###" );
        FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_1941(), 1 );
         /* P_FADE_OUT_AND_WAIT */ sub_5137( 1000 );
        CLEAR_PED_TASKS_IMMEDIATELY(  /* PLAYER_PED_ID */ sub_1941() );
         /* TELEPORTPED */ sub_5331(  /* PLAYER_PED_ID */ sub_1941(), g_U1050[37], g_U1174[37] );
        LOAD_SCENE( g_U1050[37] );
        if (l_U6 == 0)
        {
            WAIT( 2500 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( g_U1216[37], 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( g_U1258[37], 1065353216, 0 );
        GAMEPLAY_HELPER_BOX_SET_ENABLED( "TRIG_START_BRIDGE", 0 );
        GAMEPLAY_HELPER_BOX_SET_ENABLED( "TRIG_START_BRIDGE", 1 );
         /* P_FADE_IN_AND_WAIT */ sub_5545( 1000 );
        l_U3 = 0;
        l_U6 = 1;
        l_U7 = 0;
        l_U8 = 0;
        FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_1941(), 0 );
    }
    if (l_U6 == 1)
    {
        if ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_5743( ref l_U49, 0 ))
        {
             /* P_START_BRIDGE_SHOOTOUT */ sub_5945();
        }
        if (l_U9 == 1)
        {
            GAMEPLAY_HELPER_BOX_SET_ENABLED( "TRIG_START_BRIDGE", 0 );
            GAMEPLAY_HELPER_BOX_SET_ENABLED( "TRIG_START_BRIDGE", 1 );
             /* P_BRIDGE_DOWN */ sub_6751( 0 );
             /* P_BRIDGE_DOWN_SHOOT */ sub_8927();
             /* P_BRIDGE_LIVE */ sub_9152( 0 );
             /* P_START_BRIDGE_STAIRS */ sub_10149();
            l_U9 = 0;
        }
        if (l_U13 == 1)
        {
             /* P_BRIDGE_UP */ sub_10469( 1 );
            l_U13 = 0;
        }
        if (l_U15 == 1)
        {
             /* P_BRIDGE_UP */ sub_10469( 1 );
             /* P_BRIDGE_UP_SHOOT */ sub_11057();
            l_U15 = 0;
        }
        if (l_U14 == 1)
        {
             /* P_BRIDGE_DOWN */ sub_6751( 1 );
            l_U14 = 0;
        }
        if (l_U16 == 1)
        {
             /* P_BRIDGE_DOWN */ sub_6751( 1 );
             /* P_BRIDGE_DOWN_SHOOT */ sub_8927();
            l_U16 = 0;
        }
        if (l_U17 == 1)
        {
             /* P_BRIDGE_LIVE */ sub_9152( 1 );
            l_U17 = 0;
        }
        if (l_U18 == 1)
        {
             /* P_START_BRIDGE_STAIRS */ sub_10149();
            l_U18 = 0;
        }
        if (l_U19 == 1)
        {
             /* P_START_BRIDGE_SHOOTOUT */ sub_5945();
            l_U19 = 0;
        }
        if (l_U12 == 1)
        {
             /* P_SET_BULLET_CAM_ARRAY */ sub_8545( ref l_U478 );
             /* P_SET_BULLET_CAM_ARRAY */ sub_8545( ref l_U446 );
             /* P_SET_BULLET_CAM_ARRAY */ sub_8545( ref g_U876 );
             /* P_SET_BULLET_CAM_ARRAY */ sub_8545( ref l_U361 );
             /* P_SET_BULLET_CAM_ARRAY */ sub_8545( ref l_U377 );
            l_U12 = 0;
        }
        if (l_U10 == 1)
        {
             /* P_AI_BRAIN */ sub_6027( ref l_U478 );
             /* P_AI_BRAIN */ sub_6027( ref l_U446 );
             /* P_AI_BRAIN */ sub_6027( ref g_U876 );
             /* P_AI_BRAIN */ sub_6027( ref l_U361 );
             /* P_AI_BRAIN */ sub_6027( ref l_U377 );
            l_U10 = 0;
        }
        if (l_U15 == 1)
        {
             /* P_BRIDGE_UP */ sub_10469( 1 );
             /* P_BRIDGE_UP_SHOOT */ sub_11057();
            l_U15 = 0;
        }
        if (l_U16 == 1)
        {
             /* P_BRIDGE_DOWN */ sub_6751( 1 );
             /* P_BRIDGE_DOWN_SHOOT */ sub_8927();
            l_U16 = 0;
        }
    }
    return;
}

/* P_FADE_OUT_AND_WAIT */ void sub_5137(unknown uParam0)
{
    if ((IS_SCREEN_FADING_OUT() == 0) AND (IS_SCREEN_FADED_OUT() == 0))
    {
        DO_SCREEN_FADE_OUT( uParam0 );
        while (IS_SCREEN_FADED_OUT() == 0)
        {
            DISPLAYF( "[SP]### Waiting for screen to fade out... ###", 0 );
            WAIT( 0 );
        }
    }
    return;
}

/* TELEPORTPED */ void sub_5331(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_COORDS( uParam0, uParam1, 1 );
        SET_PED_HEADING( uParam0, uParam4 );
    }
    return;
}

/* P_FADE_IN_AND_WAIT */ void sub_5545(unknown uParam0)
{
    if ((IS_SCREEN_FADING_IN() == 0) AND (IS_SCREEN_FADED_IN() == 0))
    {
        DO_SCREEN_FADE_IN( uParam0 );
        while (IS_SCREEN_FADED_IN() == 0)
        {
            DISPLAYF( "[SP]### Waiting for screen to fade in... ###", 0 );
            WAIT( 0 );
        }
    }
    return;
}

/* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ void sub_5743(int iParam0, unknown uParam1)
{
    if (iParam0->_fU64 == 1)
    {
        return 0;
    }
    else
    {
        iParam0->_fU64 =  /* F_ISPEDINTRIGGERBOX */ sub_5819(  /* PLAYER_PED_ID */ sub_1941(), (iParam0^) );
        if ((iParam0->_fU64) AND (uParam1))
        {
            GAMEPLAY_HELPER_BOX_SET_ENABLED( iParam0 + 0, 0 );
        }
    }
    return iParam0->_fU64;
}

/* F_ISPEDINTRIGGERBOX */ int sub_5819(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        return IS_PED_IN_GAMEPLAY_HELPER_BOX( uParam0, ref uParam1._fU0 );
    }
    return 0;
}

/* P_START_BRIDGE_SHOOTOUT */ void sub_5945()
{
    int I;

     /* WRITESCRIPTLOG */ sub_213( "SP", "P_START_BRIDGE_SHOOTOUT", "###" );
     /* P_AI_BRAIN */ sub_6027( ref l_U446 );
    for ( I = 0; I <= 3; I++ )
    {
        if (((IS_PED_DEAD( l_U446[I] )) == 0) AND ((DOES_PED_EXIST( l_U446[I] )) == 1))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U446[I], 0 );
            SET_PED_PROOFS( l_U446[I], 0, 0, 0, 0, 0 );
            TASK_COMBAT_PED( l_U446[I],  /* PLAYER_PED_ID */ sub_1941() );
        }
    }
    if (((IS_PED_DEAD( l_U446[2] )) == 0) AND ((DOES_PED_EXIST( l_U446[2] )) == 1))
    {
        OPEN_SEQUENCE_TASK( ref l_U360 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )) == 0)
        {
            TASK_GO_TO_COORD_WHILE_AIMING_AT_PED( 0, -19.23000000, -50.23000000, 16.53000000,  /* PLAYER_PED_ID */ sub_1941(), 3, 1, 1056964608, 0, 1, 0 );
            TASK_SHOOT_AT_PED( 0,  /* PLAYER_PED_ID */ sub_1941(), 4000, 0, 0, 0, 0 );
        }
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        CLOSE_SEQUENCE_TASK( l_U360 );
        TASK_PERFORM_SEQUENCE( l_U446[2], l_U360 );
        CLEAR_SEQUENCE_TASK( l_U360 );
    }
    if (((IS_PED_DEAD( l_U446[1] )) == 0) AND ((DOES_PED_EXIST( l_U446[1] )) == 1))
    {
        OPEN_SEQUENCE_TASK( ref l_U360 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
        TASK_STAND_STILL( 0, 1500 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )) == 0)
        {
            TASK_GO_TO_COORD_WHILE_AIMING_AT_PED( 0, -21.73000000, -49.89000000, 16.68000000,  /* PLAYER_PED_ID */ sub_1941(), 3, 1, 1056964608, 0, 1, 0 );
            TASK_SHOOT_AT_PED( 0,  /* PLAYER_PED_ID */ sub_1941(), 2000, 0, 0, 0, 0 );
        }
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        CLOSE_SEQUENCE_TASK( l_U360 );
        TASK_PERFORM_SEQUENCE( l_U446[1], l_U360 );
        CLEAR_SEQUENCE_TASK( l_U360 );
    }
    return;
}

/* P_AI_BRAIN */ void sub_6027(unknown uParam0)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        if ((DOES_PED_EXIST( (uParam0^)[I] )) AND (NOT (IS_PED_DEAD( (uParam0^)[I] ))))
        {
            GET_CONTENTS_OF_COMBO_WIDGET_SELECTION( 32, ref l_U352, l_U351 );
            SET_PED_AI_TEMPLATE( (uParam0^)[I], ref l_U352 );
        }
    }
    return;
}

/* P_BRIDGE_DOWN */ void sub_6751(int iParam0)
{
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U379[0], -11.80000000, -55.71000000, 12.48000000, 0.00000000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
    if (iParam0 == 1)
    {
         /* P_CLEAN_ALL */ sub_7022();
    }
     /* CLEANPED */ sub_7161( l_U377[0] );
    l_U377[0] =  /* CREATEPED */ sub_7425( ref l_U379[0] );
    if ((IS_PED_DEAD( l_U377[0] )) AND (DOES_PED_EXIST( l_U377[0] )))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U377[0], 1 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U377[0], 1 );
        SET_PED_ALERTNESS( l_U377[0], 1 );
        SET_PED_EMOTION_STATE( l_U377[0], 8 );
        SET_PED_COMBAT_RANGE_MIN( l_U377[0], 1.00000000 );
        SET_PED_COMBAT_RANGE_MAX( l_U377[0], 25.00000000 );
        SET_PED_ACCURACY( l_U377[0], -1467320974 );
    }
     /* P_SET_BULLET_CAM_ARRAY */ sub_8545( ref l_U377 );
     /* P_BRIDGE_DOWN_ACTION */ sub_8669();
     /* P_AI_BRAIN */ sub_6027( ref l_U377 );
     /* F_GIVEPEDWEAPON */ sub_2013( l_U377[0], 68019059, 25000, 0, 0 );
    return;
}

/* F_GETRANDOMBULLETENEMY */ void sub_6806()
{
    unknown Result;

    Result = l_U602[l_U606];
    l_U606++;
    if (l_U606 >= 1)
    {
        l_U606 = 0;
    }
    return Result;
}

/* P_CREATEPEDSTRUCT */ void sub_6900(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU12 = uParam4;
    iParam0->_fU16 = uParam5;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU48 = uParam10;
    return;
}

/* P_CLEAN_ALL */ void sub_7022()
{
     /* WRITESCRIPTLOG */ sub_213( "SK", "CLEANING EVVVVVVERYTHING UP!!!", "###" );
    SET_ADRENALINE_AMT( 100.00000000 );
     /* CLEANPEDARRAY */ sub_7111( ref l_U377 );
     /* CLEANPEDARRAY */ sub_7111( ref l_U361 );
     /* CLEANPEDARRAY */ sub_7111( ref l_U446 );
     /* CLEANPEDARRAY */ sub_7111( ref l_U478 );
     /* CLEANPEDARRAY */ sub_7111( ref g_U876 );
     /* CLEANPED */ sub_7161( l_U662 );
     /* CLEANPED */ sub_7161( l_U676 );
     /* CLEANPED */ sub_7161( l_U696 );
     /* CLEANPED */ sub_7161( l_U710 );
     /* CLEANPED */ sub_7161( l_U724 );
     /* CLEANPED */ sub_7161( l_U738 );
     /* CLEANPEDARRAY */ sub_7111( ref l_U792 );
     /* CLEANPEDARRAY */ sub_7111( ref l_U481 );
     /* CLEANPEDARRAY */ sub_7111( ref l_U511 );
     /* CLEANPEDARRAY */ sub_7111( ref l_U555 );
    return;
}

/* CLEANPEDARRAY */ void sub_7111(unknown uParam0)
{
    int I;

    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
         /* CLEANPED */ sub_7161( (uParam0^)[I] );
    }
    return;
}

/* CLEANPED */ void sub_7161(unknown uParam0)
{
    if (DOES_PED_EXIST( uParam0 ))
    {
        if ((NOT (IS_PED_DEAD( uParam0 ))) || (IS_PED_DEAD( uParam0 )))
        {
            REMOVE_ALL_PED_WEAPONS( uParam0 );
            DELETE_PED( ref uParam0 );
        }
    }
    return;
}

/* CREATEPED */ void sub_7425(int iParam0)
{
    int iVar3;

    iVar3 = 0;
    if (iParam0->_fU16 == 0)
    {
        if (iParam0->_fU20 != 0)
        {
            iVar3 = GET_SCENE_PED_MODEL( iParam0->_fU20 );
        }
    }
    else
    {
        iVar3 = iParam0->_fU16;
    }
    if ((HAS_MODEL_LOADED( iVar3 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_7607( iParam0->_fU16, 1 );
    }
    iParam0->_fU40 = CREATE_PED( iParam0->_fU24, iParam0->_fU16, iParam0->_fU0, iParam0->_fU12, 1, iParam0->_fU48 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( iParam0->_fU40, 1 );
        SET_PED_COORDS_NO_OFFSET( iParam0->_fU40, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU40 ) );
        SET_PED_HEADING( iParam0->_fU40, iParam0->_fU12 );
        iParam0->_fU44 = 1;
    }
    else
    {
        SCRIPT_ASSERT( "Error: The ped you created doesn't exist or is dead!", 0 );
    }
     /* SETPEDDEFAULTSTATS */ sub_8156( iParam0->_fU40 );
     /* SETPEDDEFAULTTEMPLATE */ sub_8257( iParam0->_fU40 );
    return iParam0->_fU40;
}

/* LOADMODEL */ void sub_7607(unknown uParam0, boolean bParam1)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
         /* WRITE_STRING */ sub_1603( "[SP]### ERROR! (LoadModel) Trying to load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    if (bParam1)
    {
        while ((HAS_MODEL_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* SETPEDDEFAULTSTATS */ void sub_8156(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_HEALTH( uParam0, 200, 0 );
        SET_PED_ACCURACY( uParam0, -729479261 );
    }
    return;
}

/* SETPEDDEFAULTTEMPLATE */ void sub_8257(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_AI_TEMPLATE( uParam0, "AIT_DEFAULT_GENERIC" );
    }
    return;
}

/* P_SET_BULLET_CAM_ARRAY */ void sub_8545(unknown uParam0)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        if ((DOES_PED_EXIST( (uParam0^)[I] )) AND (NOT (IS_PED_DEAD( (uParam0^)[I] ))))
        {
            SET_PED_CAN_TRIGGER_BULLET_CAM( (uParam0^)[I], 1 );
        }
    }
    l_U12 = 0;
    return;
}

/* P_BRIDGE_DOWN_ACTION */ void sub_8669()
{
     /* P_AI_BRAIN */ sub_6027( ref l_U377 );
    if (((IS_PED_DEAD( l_U377[0] )) == 0) AND ((DOES_PED_EXIST( l_U377[0] )) == 1))
    {
        OPEN_SEQUENCE_TASK( ref l_U360 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )))
        {
            TASK_FOLLOW_NAV_MESH_TO_COORD( 0, -11.70000000, -46.98000000, 16.50000000, 3, 20000, 1048576000, 0, 0 );
        }
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        CLOSE_SEQUENCE_TASK( l_U360 );
        TASK_PERFORM_SEQUENCE( l_U377[0], l_U360 );
        CLEAR_SEQUENCE_TASK( l_U360 );
    }
    return;
}

/* P_BRIDGE_DOWN_SHOOT */ void sub_8927()
{
     /* P_AI_BRAIN */ sub_6027( ref l_U377 );
    if (((IS_PED_DEAD( l_U377[0] )) == 0) AND ((DOES_PED_EXIST( l_U377[0] )) == 1))
    {
        OPEN_SEQUENCE_TASK( ref l_U360 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )))
        {
            TASK_GO_TO_COORD_WHILE_AIMING_AT_PED( 0, -11.70000000, -46.98000000, 16.50000000,  /* PLAYER_PED_ID */ sub_1941(), 2, 1, 0.00000000, 0.00000000, 1, 0 );
        }
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        CLOSE_SEQUENCE_TASK( l_U360 );
        TASK_PERFORM_SEQUENCE( l_U377[0], l_U360 );
        CLEAR_SEQUENCE_TASK( l_U360 );
    }
    return;
}

/* P_BRIDGE_LIVE */ void sub_9152(int iParam0)
{
    int I;

    SET_ADRENALINE_AMT( 100.00000000 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref g_U863, -11.63000000, -64.47000000, 12.50000000, -1.41000000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U393[0], -25.04000000, -48.27000000, 16.82000000, -94.81000000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U393[1], -27.38000000, -55.01000000, 16.82000000, 55.32000000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U393[2], -28.61000000, -55.17000000, 16.82000000, 18.28000000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U393[3], -28.43000000, -56.80000000, 16.82000000, 42.06000000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U451[0], -27.25000000, -56.50000000, 16.82000000, 29.57000000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
    if (iParam0 == 1)
    {
         /* P_CLEAN_ALL */ sub_7022();
    }
     /* CLEANPED */ sub_7161( g_U876[0] );
    g_U876[0] =  /* CREATEPED */ sub_7425( ref g_U863 );
    if (((IS_PED_DEAD( g_U876[0] )) == 0) AND ((DOES_PED_EXIST( g_U876[0] )) == 1))
    {
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( g_U876[0], 1 );
        SET_PED_NAME_DEBUG( g_U876[0], "piBridgeStairsEnemy" );
        SET_PED_CAN_TRIGGER_BULLET_CAM( g_U876[0], 1 );
         /* P_SET_BULLET_CAM_ARRAY */ sub_8545( ref g_U876 );
    }
    for ( I = 0; I <= 3; I++ )
    {
         /* CLEANPED */ sub_7161( l_U446[I] );
        l_U446[I] =  /* CREATEPED */ sub_7425( ref l_U393[I] );
        if (((IS_PED_DEAD( l_U446[I] )) == 0) AND ((DOES_PED_EXIST( l_U446[I] )) == 1))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U446[I], 1 );
            SET_PED_CAN_TRIGGER_BULLET_CAM( l_U446[I], 1 );
        }
         /* P_TETHERPED */ sub_9753( ref l_U343, l_U446[I], 1 );
    }
     /* P_SET_BULLET_CAM_ARRAY */ sub_8545( ref l_U446 );
     /* F_GIVEPEDWEAPON */ sub_2013( l_U446[0], 1194438308, 25000, 0, 0 );
     /* F_GIVEPEDWEAPON */ sub_2013( l_U446[1], 1194438308, 25000, 0, 0 );
     /* F_GIVEPEDWEAPON */ sub_2013( l_U446[2], -862236369, 25000, 0, 0 );
     /* F_GIVEPEDWEAPON */ sub_2013( l_U446[3], 1845102363, 25000, 0, 0 );
     /* F_GIVEPEDWEAPON */ sub_2013( g_U876[0], 1194438308, 25000, 0, 0 );
     /* P_AI_BRAIN */ sub_6027( ref g_U876 );
     /* P_AI_BRAIN */ sub_6027( ref l_U446 );
     /* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ sub_10019( ref l_U446, "piBridgeEnemies_" );
     /* P_START_BRIDGE_STAIRS */ sub_10149();
    return;
}

/* P_TETHERPED */ void sub_9753(int iParam0, unknown uParam1, unknown uParam2)
{
    if (((IS_PED_DEAD( uParam1 )) == 0) AND ((DOES_PED_EXIST( uParam1 )) == 1))
    {
        SET_PED_TETHERING_ADD_BOX( uParam1, iParam0->_fU0 );
        SET_PED_TETHERING_OPTION( uParam1, uParam2 );
    }
    return;
}

/* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ void sub_10019(unknown uParam0, unknown uParam1)
{
    int I;
    char[32] cVar5;

    for ( I = 0; I < (uParam0^); I++ )
    {
        if (DOES_PED_EXIST( (uParam0^)[I] ))
        {
            StrCopy( ref cVar5, uParam1, 32 );
            ConcatString(ref cVar5, " ", 32);
            ConcatString(ref cVar5, I, 32);
            SET_PED_NAME_DEBUG( (uParam0^)[I], ref cVar5 );
        }
    }
    return;
}

/* P_START_BRIDGE_STAIRS */ void sub_10149()
{
     /* WRITESCRIPTLOG */ sub_213( "SP", "P_START_BRIDGE_STAIRS", "###" );
     /* P_AI_BRAIN */ sub_6027( ref g_U876 );
    if (((IS_PED_DEAD( g_U876[0] )) == 0) AND ((DOES_PED_EXIST( g_U876[0] )) == 1))
    {
        OPEN_SEQUENCE_TASK( ref l_U360 );
        TASK_STAND_STILL( 0, 1000 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )))
        {
            TASK_FOLLOW_NAV_MESH_TO_COORD( 0, -15.05000000, -49.91000000, 16.50000000, 3, 20000, 1048576000, 0, 0 );
        }
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )) == 0)
        {
            TASK_COMBAT_PED( 0,  /* PLAYER_PED_ID */ sub_1941() );
        }
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        CLOSE_SEQUENCE_TASK( l_U360 );
        TASK_PERFORM_SEQUENCE( g_U876[0], l_U360 );
        CLEAR_SEQUENCE_TASK( l_U360 );
    }
    return;
}

/* P_BRIDGE_UP */ void sub_10469(int iParam0)
{
    SET_ADRENALINE_AMT( 100.00000000 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U363[0], -11.70000000, -46.98000000, 16.50000000, 0.00000000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
    if (iParam0 == 1)
    {
         /* P_CLEAN_ALL */ sub_7022();
    }
     /* CLEANPED */ sub_7161( l_U361[0] );
    l_U361[0] =  /* CREATEPED */ sub_7425( ref l_U363[0] );
    if ((IS_PED_DEAD( l_U361[0] )) AND (DOES_PED_EXIST( l_U361[0] )))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U361[0], 1 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U361[0], 1 );
        SET_PED_ALERTNESS( l_U361[0], 1 );
        SET_PED_EMOTION_STATE( l_U361[0], 1 );
        SET_PED_COMBAT_RANGE_MIN( l_U361[0], 1.00000000 );
        SET_PED_COMBAT_RANGE_MAX( l_U361[0], 25.00000000 );
        SET_PED_ACCURACY( l_U361[0], -1467320974 );
        SET_PED_CAN_TRIGGER_BULLET_CAM( l_U361[0], 1 );
    }
     /* P_SET_BULLET_CAM_ARRAY */ sub_8545( ref l_U361 );
     /* P_BRIDGE_UP_ACTION */ sub_10781();
     /* F_GIVEPEDWEAPON */ sub_2013( l_U361[0], 68019059, 25000, 0, 0 );
     /* P_AI_BRAIN */ sub_6027( ref l_U361 );
    return;
}

/* P_BRIDGE_UP_ACTION */ void sub_10781()
{
     /* P_AI_BRAIN */ sub_6027( ref l_U361 );
    if (((IS_PED_DEAD( l_U361[0] )) == 0) AND ((DOES_PED_EXIST( l_U361[0] )) == 1))
    {
        OPEN_SEQUENCE_TASK( ref l_U360 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )))
        {
            TASK_FOLLOW_NAV_MESH_TO_COORD( 0, -11.80000000, -55.71000000, 12.48000000, 3, 20000, 1048576000, 0, 0 );
        }
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        CLOSE_SEQUENCE_TASK( l_U360 );
        TASK_PERFORM_SEQUENCE( l_U361[0], l_U360 );
        CLEAR_SEQUENCE_TASK( l_U360 );
    }
    return;
}

/* P_BRIDGE_UP_SHOOT */ void sub_11057()
{
     /* P_AI_BRAIN */ sub_6027( ref l_U361 );
    if (((IS_PED_DEAD( l_U361[0] )) == 0) AND ((DOES_PED_EXIST( l_U361[0] )) == 1))
    {
        OPEN_SEQUENCE_TASK( ref l_U360 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
        TASK_GO_TO_COORD_WHILE_AIMING_AT_PED( 0, -11.80000000, -55.71000000, 12.48000000,  /* PLAYER_PED_ID */ sub_1941(), 2, 1, 0.00000000, 0.00000000, 1, 0 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        CLOSE_SEQUENCE_TASK( l_U360 );
        TASK_PERFORM_SEQUENCE( l_U361[0], l_U360 );
        CLEAR_SEQUENCE_TASK( l_U360 );
    }
    return;
}

/* P_FOUNTAIN */ void sub_11544()
{
    if (l_U4 == 1)
    {
         /* WRITESCRIPTLOG */ sub_213( "SK", "Teleporting player to Fountain section", "###" );
        FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_1941(), 1 );
         /* P_FADE_OUT_AND_WAIT */ sub_5137( 1000 );
         /* P_CLEAN_ALL */ sub_7022();
        CLEAR_PED_TASKS_IMMEDIATELY(  /* PLAYER_PED_ID */ sub_1941() );
         /* TELEPORTPED */ sub_5331(  /* PLAYER_PED_ID */ sub_1941(), g_U1050[8], g_U1174[8] );
        if (l_U7 == 0)
        {
            LOAD_SCENE( g_U1050[8] );
            WAIT( 2500 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( g_U1216[8], 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( g_U1258[8], 1065353216, 0 );
        SET_PLAYER_USING_COVER(  /* PLAYER_ID */ sub_1884(), 0 );
         /* P_FADE_IN_AND_WAIT */ sub_5545( 1000 );
        l_U4 = 0;
        l_U7 = 1;
        l_U6 = 0;
        l_U8 = 0;
        FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_1941(), 0 );
    }
    if (l_U7 == 1)
    {
        if (l_U22 == 1)
        {
            if (l_U25 == 0)
            {
                 /* P_CLEAN_ALL */ sub_7022();
                 /* P_INITIALIZE_SCRIPT_DATA */ sub_11862();
                 /* P_FOUNTAIN_SPAWN */ sub_12399();
                 /* P_SETUP_FOUNTAIN_ENEMIES */ sub_12682();
                 /* P_SETUP_ROOF_ENEMY_01 */ sub_13895();
                 /* P_SETUP_ROOF_ENEMY_02 */ sub_14240();
                 /* P_ACTIVATE_FOUNTAIN_ENEMIES */ sub_14585();
                 /* P_SETUP_FOUNTAIN_BACKUP */ sub_15030();
                l_U25 = 1;
            }
            if (( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_5743( ref l_U112, 0 )) == 1)
            {
                 /* P_SETUP_FOUNTAIN_ENEMIES */ sub_12682();
            }
            if (( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_5743( ref l_U70, 0 )) == 1)
            {
                 /* P_ACTIVATE_FOUNTAIN_ENEMIES */ sub_14585();
                 /* P_SETUP_ROOF_ENEMY_01 */ sub_13895();
                 /* CREATETIMER */ sub_15739( ref l_U31, 5000, 1, 0 );
                 /* STARTTIMER */ sub_15887( ref l_U31 );
                 /* CREATETIMER */ sub_15739( ref l_U40, 10000, 1, 0 );
                 /* STARTTIMER */ sub_15887( ref l_U40 );
            }
            if (( /* ISTIMERDONE */ sub_16041( ref l_U31 )) == 1)
            {
                 /* P_SETUP_ROOF_ENEMY_02 */ sub_14240();
            }
            if (l_U24 == 0)
            {
                if ((( /* F_ISPLAYERINTRIGGERBOX */ sub_16255( l_U91 )) == 1) || (( /* ISTIMERDONE */ sub_16041( ref l_U40 )) == 1))
                {
                     /* P_SETUP_FOUNTAIN_BACKUP */ sub_15030();
                    l_U24 = 1;
                }
            }
        }
        if (l_U23 == 1)
        {
             /* P_FOUNTAIN_INTERIOUR_SPAWN */ sub_16338();
             /* P_FOUNTAIN_INTERIOUR_SHOOT */ sub_16815();
            l_U23 = 0;
        }
        if (l_U9 == 1)
        {
             /* P_INITIALIZE_SCRIPT_DATA */ sub_11862();
             /* P_FOUNTAIN_SPAWN */ sub_12399();
             /* P_SETUP_FOUNTAIN_ENEMIES */ sub_12682();
             /* P_SETUP_ROOF_ENEMY_01 */ sub_13895();
             /* P_SETUP_ROOF_ENEMY_02 */ sub_14240();
             /* P_ACTIVATE_FOUNTAIN_ENEMIES */ sub_14585();
             /* P_SETUP_FOUNTAIN_BACKUP */ sub_15030();
            l_U22 = 1;
            l_U9 = 0;
        }
        if (l_U20 == 1)
        {
             /* P_FOUNTAIN_SPAWN */ sub_12399();
             /* P_SETUP_FOUNTAIN_ENEMIES */ sub_12682();
             /* P_SETUP_ROOF_ENEMY_01 */ sub_13895();
             /* P_SETUP_ROOF_ENEMY_02 */ sub_14240();
             /* P_ACTIVATE_FOUNTAIN_ENEMIES */ sub_14585();
             /* P_SETUP_FOUNTAIN_BACKUP */ sub_15030();
            l_U20 = 0;
        }
        if (l_U12 == 1)
        {
             /* P_SET_BULLET_CAM */ sub_13662( l_U738 );
             /* P_SET_BULLET_CAM */ sub_13662( l_U724 );
             /* P_SET_BULLET_CAM */ sub_13662( l_U710 );
             /* P_SET_BULLET_CAM */ sub_13662( l_U696 );
             /* P_SET_BULLET_CAM */ sub_13662( l_U662 );
             /* P_SET_BULLET_CAM */ sub_13662( l_U676 );
            l_U12 = 0;
        }
    }
    return;
}

/* P_INITIALIZE_SCRIPT_DATA */ void sub_11862()
{
     /* WRITESCRIPTLOG */ sub_213( "SP", "INITIALIZE_SCRIPT_DATA", "###" );
    l_U24 = 0;
     /* RESETTIMER */ sub_11946( ref l_U31 );
     /* RESETTIMER */ sub_11946( ref l_U40 );
    GAMEPLAY_HELPER_BOX_SET_ENABLED( "TRIG_SETUP_FOUNTAIN", 0 );
    GAMEPLAY_HELPER_BOX_SET_ENABLED( "TRIG_FOUNTAIN_ACTION", 0 );
    GAMEPLAY_HELPER_BOX_SET_ENABLED( "TRIG_FOUNTAIN_BACKUP", 0 );
    l_U26 = 0;
    l_U27 = 0;
    l_U28 = 0;
    l_U29 = 0;
    l_U30 = 0;
    l_U599 = {89.65000000, -163.59000000, 1.01000000};
    l_U607[0] = {90.16000000, -164.90000000, -2.62000000};
    l_U607[1] = {91.51000000, -160.84000000, 1.57000000};
    l_U614[0] = {114.20000000, -161.91000000, -2.07000000};
    l_U614[1] = {111.15000000, -165.06000000, -2.26000000};
    l_U621[0] = {118.42000000, -164.82000000, 1.39000000};
    l_U621[1] = {122.92000000, -163.57000000, 3.92000000};
    l_U621[2] = {122.11000000, -152.36000000, 2.41000000};
    return;
}

/* RESETTIMER */ void sub_11946(int iParam0)
{
    if (iParam0->_fU28)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    return;
}

/* P_FOUNTAIN_SPAWN */ void sub_12399()
{
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U649, -57.38605000, -48.19279000, 18.69818000, 177.49620000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U663, -60.11547000, -47.77013000, 18.69830000, 178.75840000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U683, -67.94984000, -70.19060000, 12.47122000, 278.70210000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U697, -48.82462000, -61.74516000, 13.83007000, 180.86850000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U711, -55.98311000, -52.51805000, 13.83007000, 88.97557000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U725, -70.78747000, -47.65159000, 13.63540000, 180.04260000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
    return;
}

/* P_SETUP_FOUNTAIN_ENEMIES */ void sub_12682()
{
    unknown uVar2;
    unknown uVar3;

     /* WRITESCRIPTLOG */ sub_213( "SP", "P_SETUP_FOUNTAIN_ENEMIES", "###" );
     /* CLEANPED */ sub_7161( l_U696 );
    l_U696 =  /* CREATEPED */ sub_7425( ref l_U683 );
     /* P_QUICK_ADD_PED_TO_GROUP */ sub_12795( l_U696, ref l_U677 );
    if (((IS_PED_DEAD( l_U696 )) == 0) AND ((DOES_PED_EXIST( l_U696 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U696, "piFountainEnemy01" );
        uVar2 =  /* F_GIVEPEDWEAPON */ sub_2013( l_U696, 1845102363, 25000, 0, 0 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U696, 1 );
    }
     /* P_SET_BULLET_CAM */ sub_13662( l_U696 );
     /* CLEANPED */ sub_7161( l_U710 );
    l_U710 =  /* CREATEPED */ sub_7425( ref l_U697 );
     /* P_QUICK_ADD_PED_TO_GROUP */ sub_12795( l_U710, ref l_U677 );
    if (((IS_PED_DEAD( l_U710 )) == 0) AND ((DOES_PED_EXIST( l_U710 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U710, "piFountainEnemy02" );
        uVar3 =  /* F_GIVEPEDWEAPON */ sub_2013( l_U710, -862236369, 25000, 0, 0 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U710, 1 );
    }
     /* P_SET_BULLET_CAM */ sub_13662( l_U710 );
    return;
}

/* P_QUICK_ADD_PED_TO_GROUP */ void sub_12795(unknown uParam0, int iParam1)
{
    int iVar4;
    unknown uVar5;

    if ((DOES_GROUP_EXIST( iParam1->_fU0 )) == 0)
    {
         /* WRITE_STRING */ sub_1603( "[SP]### Warning!!! Group does not exist. Creating new group specified attributes. ###" );
        if (iParam1->_fU4 > 0)
        {
             /* P_SETUP_AI_GROUP */ sub_12965( iParam1, iParam1->_fU4, 0 );
        }
        else
        {
             /* P_SETUP_AI_GROUP */ sub_12965( iParam1, 1056964608, 0 );
        }
    }
    else
    {
        PRINTSTRING( "[MSWW]### P_QUICK_ADD_PED_TO_GROUP adding ped to group with ID: " );
        PRINTINT( iParam1->_fU0 );
        PRINTNL();
    }
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        GET_GROUP_SIZE( iParam1->_fU0, ref iVar4, ref uVar5 );
        if (iVar4 == 0)
        {
            SET_PED_AS_GROUP_LEADER( uParam0, iParam1->_fU0 );
        }
        else
        {
            SET_PED_AS_GROUP_MEMBER( uParam0, iParam1->_fU0 );
        }
        SET_PED_NEVER_LEAVES_GROUP( uParam0, 1 );
    }
    return;
}

/* P_SETUP_AI_GROUP */ void sub_12965(int iParam0, unknown uParam1, boolean bParam2)
{
    iParam0->_fU4 = uParam1;
    iParam0->_fU0 = CREATE_GROUP( 3, 1 );
    if (bParam2)
    {
        PRINTSTRING( "[MSWW]### P_SETUP_AI_GROUP TOLD TO WAIT FOR GROUP TO EXIST ###" );
        PRINTNL();
        while (NOT (DOES_GROUP_EXIST( iParam0->_fU0 )))
        {
            WAIT( 0 );
            PRINTSTRING( "[MSWW]### GROUP ###" );
            PRINTNL();
        }
        PRINTSTRING( "[MSWW]### P_SETUP_AI_GROUP created group with ID: " );
        PRINTINT( iParam0->_fU0 );
        PRINTNL();
    }
    SET_GROUP_RATIO_FIRING_AT_VISIBLE( iParam0->_fU0, iParam0->_fU4 );
    SET_GROUP_RATIO_FIRING_AT_INVISIBLE( iParam0->_fU0, iParam0->_fU4 );
    if (iParam0->_fU8)
    {
        SET_GROUP_FORMATION( iParam0->_fU0, iParam0->_fU12 );
        SET_GROUP_FORMATION_SPACING( iParam0->_fU0, iParam0->_fU16 );
        SET_GROUP_FORMATION_MAX_MOVE_SPEED( iParam0->_fU0, iParam0->_fU20 );
    }
    return;
}

/* P_SET_BULLET_CAM */ void sub_13662(unknown uParam0)
{
    if ((DOES_PED_EXIST( uParam0 )) AND (NOT (IS_PED_DEAD( uParam0 ))))
    {
        SET_PED_CAN_TRIGGER_BULLET_CAM( uParam0, 1 );
    }
    l_U12 = 0;
    return;
}

/* P_SETUP_ROOF_ENEMY_01 */ void sub_13895()
{
    vector vVar2;
    unknown uVar5;

     /* WRITESCRIPTLOG */ sub_213( "SP", "P_SETUP_ROOF_ENEMY_01", "###" );
    vVar2 = {-56.61974000, -58.78480000, 18.25486000};
     /* CLEANPED */ sub_7161( l_U662 );
    l_U662 =  /* CREATEPED */ sub_7425( ref l_U649 );
     /* P_TETHERPED */ sub_9753( ref l_U344, l_U662, 3 );
     /* P_TETHERPED */ sub_9753( ref l_U345, l_U662, 3 );
    if (((IS_PED_DEAD( l_U662 )) == 0) AND ((DOES_PED_EXIST( l_U662 )) == 1))
    {
        uVar5 =  /* F_GIVEPEDWEAPON */ sub_2013( l_U662, -1074756423, 25000, 0, 0 );
         /* P_SET_BULLET_CAM */ sub_13662( l_U662 );
         /* P_QUICK_ADD_PED_TO_GROUP */ sub_12795( l_U662, ref l_U631 );
        OPEN_SEQUENCE_TASK( ref l_U360 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, vVar2, 3, -1, 1048576000, 0, 0 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )) == 0)
        {
            ;
        }
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        CLOSE_SEQUENCE_TASK( l_U360 );
        TASK_PERFORM_SEQUENCE( l_U662, l_U360 );
        CLEAR_SEQUENCE_TASK( l_U360 );
    }
    return;
}

/* P_SETUP_ROOF_ENEMY_02 */ void sub_14240()
{
    vector vVar2;
    unknown uVar5;

     /* WRITESCRIPTLOG */ sub_213( "SP", "P_SETUP_ROOF_ENEMY_02", "###" );
    vVar2 = {-64.04620000, -56.75750000, 19.07265000};
     /* CLEANPED */ sub_7161( l_U676 );
    l_U676 =  /* CREATEPED */ sub_7425( ref l_U663 );
     /* P_TETHERPED */ sub_9753( ref l_U344, l_U676, 3 );
     /* P_TETHERPED */ sub_9753( ref l_U345, l_U676, 3 );
    if (((IS_PED_DEAD( l_U676 )) == 0) AND ((DOES_PED_EXIST( l_U676 )) == 1))
    {
        uVar5 =  /* F_GIVEPEDWEAPON */ sub_2013( l_U676, -1074756423, 25000, 0, 0 );
         /* P_SET_BULLET_CAM */ sub_13662( l_U676 );
         /* P_QUICK_ADD_PED_TO_GROUP */ sub_12795( l_U676, ref l_U631 );
        OPEN_SEQUENCE_TASK( ref l_U360 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, vVar2, 3, -1, 1048576000, 0, 0 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )) == 0)
        {
            ;
        }
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        CLOSE_SEQUENCE_TASK( l_U360 );
        TASK_PERFORM_SEQUENCE( l_U676, l_U360 );
        CLEAR_SEQUENCE_TASK( l_U360 );
    }
    return;
}

/* P_ACTIVATE_FOUNTAIN_ENEMIES */ void sub_14585()
{
    vector vVar2;
    vector vVar5;

     /* WRITESCRIPTLOG */ sub_213( "SP", "P_ACTIVATE_FOUNTAIN_ENEMIES", "###" );
    vVar2 = {-67.17210000, -62.39354000, 12.37743000};
    if (((IS_PED_DEAD( l_U696 )) == 0) AND ((DOES_PED_EXIST( l_U696 )) == 1))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U696, 0 );
        OPEN_SEQUENCE_TASK( ref l_U360 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )) == 0)
        {
            TASK_GO_TO_COORD_WHILE_AIMING_AT_PED( 0, vVar2,  /* PLAYER_PED_ID */ sub_1941(), 3, 0, 1056964608, 0, 1, 0 );
        }
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        CLOSE_SEQUENCE_TASK( l_U360 );
        TASK_PERFORM_SEQUENCE( l_U696, l_U360 );
        CLEAR_SEQUENCE_TASK( l_U360 );
    }
    vVar5 = {-56.66655000, -61.69790000, 12.41864000};
    if (((IS_PED_DEAD( l_U710 )) == 0) AND ((DOES_PED_EXIST( l_U710 )) == 1))
    {
        OPEN_SEQUENCE_TASK( ref l_U360 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )) == 0)
        {
            TASK_GO_TO_COORD_WHILE_AIMING_AT_PED( 0, vVar5,  /* PLAYER_PED_ID */ sub_1941(), 3, 1, 1056964608, 0, 1, 0 );
        }
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        CLOSE_SEQUENCE_TASK( l_U360 );
        TASK_PERFORM_SEQUENCE( l_U710, l_U360 );
        CLEAR_SEQUENCE_TASK( l_U360 );
    }
    return;
}

/* P_SETUP_FOUNTAIN_BACKUP */ void sub_15030()
{
    vector vVar2;
    unknown uVar5;
    vector vVar6;
    unknown uVar9;

     /* WRITESCRIPTLOG */ sub_213( "SP", "P_SETUP_FOUNTAIN_BACKUP", "###" );
    vVar2 = {-58.40917000, -58.47328000, 13.81813000};
     /* CLEANPED */ sub_7161( l_U724 );
    l_U724 =  /* CREATEPED */ sub_7425( ref l_U711 );
     /* P_QUICK_ADD_PED_TO_GROUP */ sub_12795( l_U724, ref l_U677 );
     /* P_TETHERPED */ sub_9753( ref l_U346, l_U738, 3 );
    if (((IS_PED_DEAD( l_U724 )) == 0) AND ((DOES_PED_EXIST( l_U724 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U724, "piFountainBackup01" );
        uVar5 =  /* F_GIVEPEDWEAPON */ sub_2013( l_U724, 1194438308, 25000, 0, 0 );
        OPEN_SEQUENCE_TASK( ref l_U360 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, vVar2, 3, -1, 1048576000, 0, 0 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )) == 0)
        {
            ;
        }
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        CLOSE_SEQUENCE_TASK( l_U360 );
        TASK_PERFORM_SEQUENCE( l_U724, l_U360 );
        CLEAR_SEQUENCE_TASK( l_U360 );
    }
     /* P_SET_BULLET_CAM */ sub_13662( l_U724 );
    vVar6 = {-63.72724000, -52.41292000, 13.82744000};
     /* CLEANPED */ sub_7161( l_U738 );
    l_U738 =  /* CREATEPED */ sub_7425( ref l_U725 );
     /* P_QUICK_ADD_PED_TO_GROUP */ sub_12795( l_U738, ref l_U677 );
     /* P_TETHERPED */ sub_9753( ref l_U347, l_U738, 3 );
    if (((IS_PED_DEAD( l_U738 )) == 0) AND ((DOES_PED_EXIST( l_U738 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U738, "piFountainBackup02" );
        uVar9 =  /* F_GIVEPEDWEAPON */ sub_2013( l_U738, 1194438308, 25000, 0, 0 );
        OPEN_SEQUENCE_TASK( ref l_U360 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, vVar6, 3, -1, 1048576000, 0, 0 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )) == 0)
        {
            ;
        }
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        CLOSE_SEQUENCE_TASK( l_U360 );
        TASK_PERFORM_SEQUENCE( l_U738, l_U360 );
        CLEAR_SEQUENCE_TASK( l_U360 );
    }
     /* P_SET_BULLET_CAM */ sub_13662( l_U738 );
    return;
}

/* CREATETIMER */ void sub_15739(int iParam0, unknown uParam1, boolean bParam2, int iParam3)
{
    if (bParam2)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam3 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU12 = uParam1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = bParam2;
    iParam0->_fU32 = iParam3;
    iParam0->_fU8 = 0;
    return;
}

/* STARTTIMER */ void sub_15887(int iParam0)
{
    if (NOT iParam0->_fU20)
    {
        iParam0->_fU20 = 1;
        iParam0->_fU16 = 0;
        if (iParam0->_fU28)
        {
            iParam0->_fU0 = TIMERA();
        }
        else
        {
            iParam0->_fU0 = TIMERB();
        }
        if (iParam0->_fU32 == 1)
        {
            iParam0->_fU0 = TIMERSYSTEM();
        }
        iParam0->_fU4 = iParam0->_fU0;
    }
    return;
}

/* ISTIMERDONE */ int sub_16041(int iParam0)
{
    if (iParam0->_fU16)
    {
        return 0;
    }
    else if (NOT iParam0->_fU20)
    {
        return 0;
    }
    if (iParam0->_fU28)
    {
        iParam0->_fU4 = TIMERA();
    }
    else
    {
        iParam0->_fU4 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU4 = TIMERSYSTEM();
    }
    if ((iParam0->_fU4 - iParam0->_fU0) >= iParam0->_fU12)
    {
        iParam0->_fU16 = 1;
        iParam0->_fU20 = 0;
        return 1;
        break;
    }
    return 0;
}

/* F_ISPLAYERINTRIGGERBOX */ void sub_16255(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20)
{
    return  /* F_ISPEDINTRIGGERBOX */ sub_5819(  /* PLAYER_PED_ID */ sub_1941(), uParam0 );
}

/* P_FOUNTAIN_INTERIOUR_SPAWN */ void sub_16338()
{
    int I;

     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U739[0], -56.36000000, -61.63000000, 12.57000000, -1.41000000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U739[1], -70.99000000, -52.99000000, 13.82000000, -1.41000000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U739[2], -56.09000000, -55.21000000, 14.00000000, -1.41000000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U739[3], -57.18000000, -58.23000000, 13.82000000, -1.41000000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
    for ( I = 0; I <= 3; I++ )
    {
         /* CLEANPED */ sub_7161( l_U792[I] );
        l_U792[I] =  /* CREATEPED */ sub_7425( ref l_U739[I] );
        if (((IS_PED_DEAD( l_U792[I] )) == 0) AND ((DOES_PED_EXIST( l_U792[I] )) == 1))
        {
            SET_PED_COMBAT_RANGE_MIN( l_U792[I], 1.00000000 );
            SET_PED_COMBAT_RANGE_MAX( l_U792[I], 8.00000000 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U792[I], 1 );
            SET_PED_CAN_TRIGGER_BULLET_CAM( l_U792[I], 1 );
             /* F_GIVEPEDWEAPON */ sub_2013( l_U792[I], 1194438308, 25000, 0, 0 );
        }
    }
     /* P_SET_BULLET_CAM_ARRAY */ sub_8545( ref l_U792 );
     /* P_AI_BRAIN */ sub_6027( ref l_U792 );
     /* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ sub_10019( ref l_U792, "piFOUNTAIN_ENEMIES" );
    return;
}

/* P_FOUNTAIN_INTERIOUR_SHOOT */ void sub_16815()
{
    if (((IS_PED_DEAD( l_U792[0] )) == 0) AND ((DOES_PED_EXIST( l_U792[0] )) == 1))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U792[0], 0 );
        OPEN_SEQUENCE_TASK( ref l_U360 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )) == 0)
        {
            TASK_GO_TO_PED_WHILE_AIMING_AT_PED( 0,  /* PLAYER_PED_ID */ sub_1941(),  /* PLAYER_PED_ID */ sub_1941(), 3, 1, 5.00000000, 5.00000000, 1, 1 );
        }
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        CLOSE_SEQUENCE_TASK( l_U360 );
        TASK_PERFORM_SEQUENCE( l_U792[0], l_U360 );
        CLEAR_SEQUENCE_TASK( l_U360 );
    }
    if (((IS_PED_DEAD( l_U792[1] )) == 0) AND ((DOES_PED_EXIST( l_U792[1] )) == 1))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U792[1], 0 );
        OPEN_SEQUENCE_TASK( ref l_U360 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )) == 0)
        {
            TASK_GO_TO_PED_WHILE_AIMING_AT_PED( 0,  /* PLAYER_PED_ID */ sub_1941(),  /* PLAYER_PED_ID */ sub_1941(), 3, 1, 5.00000000, 5.00000000, 1, 1 );
        }
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        CLOSE_SEQUENCE_TASK( l_U360 );
        TASK_PERFORM_SEQUENCE( l_U792[1], l_U360 );
        CLEAR_SEQUENCE_TASK( l_U360 );
    }
    if (((IS_PED_DEAD( l_U792[2] )) == 0) AND ((DOES_PED_EXIST( l_U792[2] )) == 1))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U792[2], 0 );
        OPEN_SEQUENCE_TASK( ref l_U360 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )) == 0)
        {
            TASK_SHOOT_AT_PED( 0,  /* PLAYER_PED_ID */ sub_1941(), 1, 0, 0, 0, 0 );
        }
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        CLOSE_SEQUENCE_TASK( l_U360 );
        TASK_PERFORM_SEQUENCE( l_U792[2], l_U360 );
        CLEAR_SEQUENCE_TASK( l_U360 );
    }
    if (((IS_PED_DEAD( l_U792[3] )) == 0) AND ((DOES_PED_EXIST( l_U792[3] )) == 1))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U792[3], 0 );
        OPEN_SEQUENCE_TASK( ref l_U360 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )) == 0)
        {
            TASK_SHOOT_AT_PED( 0,  /* PLAYER_PED_ID */ sub_1941(), 1, 0, 0, 0, 0 );
        }
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        CLOSE_SEQUENCE_TASK( l_U360 );
        TASK_PERFORM_SEQUENCE( l_U792[3], l_U360 );
        CLEAR_SEQUENCE_TASK( l_U360 );
    }
    return;
}

/* P_LOWERFAV */ void sub_17737()
{
    int I;

    if (l_U5 == 1)
    {
         /* WRITESCRIPTLOG */ sub_213( "SK", "Teleporting player to Lower Favela section", "###" );
        FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_1941(), 1 );
         /* P_FADE_OUT_AND_WAIT */ sub_5137( 1000 );
         /* P_CLEAN_ALL */ sub_7022();
        CLEAR_PED_TASKS_IMMEDIATELY(  /* PLAYER_PED_ID */ sub_1941() );
         /* TELEPORTPED */ sub_5331(  /* PLAYER_PED_ID */ sub_1941(), 92.49310000, -176.32570000, -2.84520700, 119.51290000 );
        if (l_U8 == 0)
        {
            LOAD_SCENE( 92.49310000, -176.32570000, -2.84520700 );
            WAIT( 2500 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 13.94753000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -0.34972000, 1065353216, 0 );
         /* P_FADE_IN_AND_WAIT */ sub_5545( 1000 );
        l_U5 = 0;
        l_U8 = 1;
        l_U7 = 0;
        l_U6 = 0;
        FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_1941(), 0 );
    }
    if (l_U9 == 1)
    {
         /* P_INITIALIZE_SCRIPT_DATA */ sub_11862();
         /* P_HOGAN_SPAWN */ sub_18034();
         /* P_LOWER_SETUP_ENEMIES */ sub_18727();
         /* TELEPORTPED */ sub_5331(  /* PLAYER_PED_ID */ sub_1941(), 92.49310000, -176.32570000, -2.84520700, 119.51290000 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( -54.36062000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -3.80518700, 1065353216, 0 );
        l_U9 = 0;
    }
    if (l_U8 == 1)
    {
        if (l_U12 == 1)
        {
             /* P_SET_BULLET_CAM_ARRAY */ sub_8545( ref l_U481 );
             /* P_SET_BULLET_CAM_ARRAY */ sub_8545( ref l_U511 );
             /* P_SET_BULLET_CAM_ARRAY */ sub_8545( ref l_U555 );
            l_U12 = 0;
        }
        if ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_5743( ref l_U280, 0 ))
        {
             /* WRITESCRIPTLOG */ sub_213( "SA", "Starting Corner Enemy 0", "###" );
            if (NOT (IS_PED_DEAD( l_U481[0] )))
            {
                OPEN_SEQUENCE_TASK( ref l_U360 );
                TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
                if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )))
                {
                    TASK_GO_TO_COORD_WHILE_AIMING_AT_PED( 0, l_U607[I],  /* PLAYER_PED_ID */ sub_1941(), 3, 1, 1056964608, 0, 1, 0 );
                    TASK_COMBAT_PED( 0,  /* PLAYER_PED_ID */ sub_1941() );
                }
                TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
                CLOSE_SEQUENCE_TASK( l_U360 );
                TASK_PERFORM_SEQUENCE( l_U481[0], l_U360 );
                CLEAR_SEQUENCE_TASK( l_U360 );
            }
        }
        if (NOT l_U27)
        {
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )))
            {
                if ((HAS_PED_CLEAR_LOS_TO_SPHERE(  /* PLAYER_PED_ID */ sub_1941(), l_U599, 1.00000000 )) AND ( /* F_ISPLAYERINTRIGGERBOX */ sub_16255( l_U280 )))
                {
                     /* WRITESCRIPTLOG */ sub_213( "SA", "Starting Corner Enemy 1", "###" );
                    OPEN_SEQUENCE_TASK( ref l_U360 );
                    TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
                    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )))
                    {
                        TASK_GO_TO_COORD_WHILE_AIMING_AT_PED( 0, l_U607[1],  /* PLAYER_PED_ID */ sub_1941(), 3, 1, 1056964608, 0, 1, 0 );
                        TASK_SHOOT_AT_PED( 0,  /* PLAYER_PED_ID */ sub_1941(), -1, 0, 0, 0, 0 );
                    }
                    CLOSE_SEQUENCE_TASK( l_U360 );
                    if (NOT (IS_PED_DEAD( l_U481[1] )))
                    {
                        TASK_PERFORM_SEQUENCE( l_U481[1], l_U360 );
                        CLEAR_SEQUENCE_TASK( l_U360 );
                    }
                    l_U27 = 1;
                }
            }
        }
        if ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_5743( ref l_U301, 0 ))
        {
             /* WRITESCRIPTLOG */ sub_213( "SA", "Starting Alley Enemies Wave 1", "###" );
            for ( I = 0; I < 3; I++ )
            {
                OPEN_SEQUENCE_TASK( ref l_U360 );
                switch (I)
                {
                    case 0:
                    case 1:
                    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )))
                    {
                        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
                        TASK_GO_TO_COORD_WHILE_AIMING_AT_PED( 0, l_U614[I],  /* PLAYER_PED_ID */ sub_1941(), 3, 1, 1056964608, 0, 1, 0 );
                        TASK_COMBAT_SNAP_TO_COVER_COORDS( 0, l_U614[I], 0 );
                        TASK_COMBAT_PED( 0,  /* PLAYER_PED_ID */ sub_1941() );
                        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
                    }
                    break;
                    case 2:
                    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )))
                    {
                        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
                        TASK_SHOOT_AT_PED( 0,  /* PLAYER_PED_ID */ sub_1941(), -1, 0, 0, 0, 0 );
                        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
                    }
                    break;
                }
                CLOSE_SEQUENCE_TASK( l_U360 );
                if (NOT (IS_PED_DEAD( l_U511[I] )))
                {
                    TASK_PERFORM_SEQUENCE( l_U511[I], l_U360 );
                    CLEAR_SEQUENCE_TASK( l_U360 );
                }
            }
        }
        if (NOT l_U26)
        {
            if ((( /* F_GET_NUM_DEAD_PEDS_IN_ARRAY */ sub_20783( ref l_U511 )) > 1) || ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_5743( ref l_U322, 0 )))
            {
                 /* WRITESCRIPTLOG */ sub_213( "SA", "Starting Alley Enemies Wave 2", "###" );
                for ( I = 0; I < 3; I++ )
                {
                    OPEN_SEQUENCE_TASK( ref l_U360 );
                    if (I == 0)
                    {
                        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
                        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )))
                        {
                            TASK_GO_TO_COORD_WHILE_AIMING_AT_PED( 0, l_U621[I],  /* PLAYER_PED_ID */ sub_1941(), 3, 1, 1056964608, 0, 1, 0 );
                            TASK_SHOOT_AT_PED( 0,  /* PLAYER_PED_ID */ sub_1941(), -1, 0, 0, 0, 0 );
                        }
                    }
                    else if (I == 1)
                    {
                        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
                        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1941() )))
                        {
                            TASK_GO_TO_PED_WHILE_AIMING_AT_PED( 0,  /* PLAYER_PED_ID */ sub_1941(),  /* PLAYER_PED_ID */ sub_1941(), 3, 1, 1.00000000, 1.00000000, 1, 0 );
                            TASK_MELEE_LITE( 0,  /* PLAYER_PED_ID */ sub_1941(), 1 );
                            TASK_COMBAT_PED( 0,  /* PLAYER_PED_ID */ sub_1941() );
                            TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
                        }
                    }
                    else
                    {
                        SET_PED_VISIBLE( l_U555[I], 1 );
                        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
                        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, l_U621[1], 3, 20000, 1048576000, 0, 0 );
                        TASK_GO_STRAIGHT_TO_COORD( 0, l_U621[2], 3, 20000 );
                    }
                    CLOSE_SEQUENCE_TASK( l_U360 );
                    if (NOT (IS_PED_DEAD( l_U555[I] )))
                    {
                        TASK_PERFORM_SEQUENCE( l_U555[I], l_U360 );
                        CLEAR_SEQUENCE_TASK( l_U360 );
                    }
                }
                l_U26 = 1;
            }
        }
         /* P_HANDLE_COVER_TARGETS */ sub_21349();
    }
    return;
}

/* P_HOGAN_SPAWN */ void sub_18034()
{
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U484[0], 104.76000000, -163.72000000, -1.86000000, 88.04000000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U484[1], 88.61000000, -159.75000000, 1.56000000, -84.05000000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U515[0], 119.96000000, -155.59000000, -0.29000000, 177.35000000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U515[1], 120.08000000, -153.31000000, -0.13000000, 176.55000000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U515[2], 109.40000000, -160.51000000, 1.51000000, 89.55000000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U559[0], 122.99000000, -163.48000000, 1.91000000, 87.07000000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U559[1], 121.50000000, -153.74000000, -0.33000000, 153.49000000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_6900( ref l_U559[2], 120.73000000, -172.05000000, 4.79000000, -3.77999000,  /* F_GETRANDOMBULLETENEMY */ sub_6806(), 7, 3, 2, 0, 0 );
     /* P_CREATETRIGGERBOX */ sub_435( ref l_U280, "TGR_CNR_ENEMIES", 88.95000000, -176.08000000, -9.86000000, 15.00000000, 15.00000000, 5.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_435( ref l_U301, "TGR_ALLEY_ENEMIES_WV_1", 91.77000000, -162.73000000, -3.04000000, 6.00000000, 6.00000000, 6.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_435( ref l_U322, "TGR_ALLEY_ENEMIES_WV_2", 107.76000000, -162.73000000, -3.04000000, 6.00000000, 6.00000000, 6.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_848( ref l_U349, "THR_BALCONY", 119.61000000, -163.51000000, 1.14000000, 6.00000000, 6.00000000, 2.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    return;
}

/* P_LOWER_SETUP_ENEMIES */ void sub_18727()
{
    int I;

     /* WRITESCRIPTLOG */ sub_213( "SA", "P_LOWER_SETUP_ENEMIES", "###" );
    for ( I = 0; I < 2; I++ )
    {
         /* CLEANPED */ sub_7161( l_U481[I] );
        l_U481[I] =  /* CREATEPED */ sub_7425( ref l_U484[I] );
        if (NOT (IS_PED_DEAD( l_U481[I] )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U481[I], 1 );
            SET_PED_CAN_TRIGGER_BULLET_CAM( l_U481[I], 1 );
            SET_PED_AI_TEMPLATE( l_U481[I], "AIT_NORMAL" );
            if (I == 0)
            {
                SET_PED_FLAG_ALWAYS_HIDE_WHEN_IN_COVER( l_U481[I], 0 );
                 /* F_GIVEPEDWEAPON */ sub_2013( l_U481[I], -862236369, 25000, 0, 0 );
            }
            else
            {
                SET_PED_AS_ONE_SHOT_KILL( l_U481[I], 1 );
                SET_PED_COMBAT_MOVEMENT( l_U481[I], 0 );
                 /* F_GIVEPEDWEAPON */ sub_2013( l_U481[I], -1074756423, 25000, 0, 0 );
            }
             /* P_QUICK_ADD_PED_TO_GROUP */ sub_12795( l_U481[I], ref l_U643 );
        }
    }
     /* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ sub_10019( ref l_U481, "EnemyCorner_" );
    for ( I = 0; I < 3; I++ )
    {
         /* CLEANPED */ sub_7161( l_U511[I] );
        l_U511[I] =  /* CREATEPED */ sub_7425( ref l_U515[I] );
        if (NOT (IS_PED_DEAD( l_U511[I] )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U511[I], 1 );
            SET_PED_AI_TEMPLATE( l_U511[I], "AIT_NORMAL" );
            SET_PED_CAN_TRIGGER_BULLET_CAM( l_U511[I], 1 );
            if (I == 1)
            {
                SET_PED_FLAG_ALWAYS_HIDE_WHEN_IN_COVER( l_U511[I], 0 );
                 /* F_GIVEPEDWEAPON */ sub_2013( l_U511[I], -862236369, 25000, 0, 0 );
            }
            else if (I == 2)
            {
                SET_PED_AS_ONE_SHOT_KILL( l_U511[I], 1 );
                SET_PED_COMBAT_MOVEMENT( l_U511[I], 0 );
                 /* F_GIVEPEDWEAPON */ sub_2013( l_U511[I], -1074756423, 25000, 0, 0 );
            }
            else
            {
                 /* F_GIVEPEDWEAPON */ sub_2013( l_U511[I], -862236369, 25000, 0, 0 );
            }
             /* P_QUICK_ADD_PED_TO_GROUP */ sub_12795( l_U511[I], ref l_U643 );
        }
    }
     /* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ sub_10019( ref l_U511, "EnemyAlleyWave1_" );
    for ( I = 0; I < 3; I++ )
    {
         /* CLEANPED */ sub_7161( l_U555[I] );
        l_U555[I] =  /* CREATEPED */ sub_7425( ref l_U559[I] );
        if (NOT (IS_PED_DEAD( l_U555[I] )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U555[I], 1 );
            SET_PED_AI_TEMPLATE( l_U555[I], "AIT_NORMAL" );
            SET_PED_CAN_TRIGGER_BULLET_CAM( l_U555[I], 1 );
            if (I == 0)
            {
                SET_PED_COMBAT_MOVEMENT( l_U555[I], 0 );
                 /* F_GIVEPEDWEAPON */ sub_2013( l_U555[I], -1074756423, 25000, 0, 0 );
                 /* P_TETHERPED */ sub_9753( ref l_U349, l_U555[I], 1 );
            }
            else if (I == 1)
            {
                 /* F_GIVEPEDWEAPON */ sub_2013( l_U555[I], 1194438308, 25000, 0, 0 );
            }
            else
            {
                SET_PED_VISIBLE( l_U555[I], 0 );
                SET_PED_AS_ONE_SHOT_KILL( l_U555[I], 1 );
            }
             /* P_QUICK_ADD_PED_TO_GROUP */ sub_12795( l_U555[I], ref l_U643 );
        }
    }
     /* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ sub_10019( ref l_U555, "EnemyAlleyWave2_" );
    return;
}

/* F_GET_NUM_DEAD_PEDS_IN_ARRAY */ void sub_20783(unknown uParam0)
{
    int Result;
    int I;
    int iVar5;

    Result = 0;
    iVar5 = (uParam0^) - 1;
    for ( I = 0; I <= iVar5; I++ )
    {
        if (DOES_PED_EXIST( (uParam0^)[I] ))
        {
            if (IS_PED_DEAD( (uParam0^)[I] ))
            {
                Result++;
            }
        }
    }
    return Result;
}

/* P_HANDLE_COVER_TARGETS */ void sub_21349()
{
    if (NOT l_U28)
    {
        if (NOT (IS_PED_DEAD( l_U481[0] )))
        {
            if (IS_PED_USING_MP3_COVER_TASK( l_U481[0] ))
            {
                 /* WRITESCRIPTLOG */ sub_213( "SA", "Setting EnemyCorner_0 Target Ped", "###" );
                SET_PED_COVER_TARGET_PED( l_U481[0],  /* PLAYER_PED_ID */ sub_1941() );
                l_U28 = 1;
            }
        }
    }
    if (NOT l_U29)
    {
        if (NOT (IS_PED_DEAD( l_U511[0] )))
        {
            if (IS_PED_USING_MP3_COVER_TASK( l_U511[0] ))
            {
                 /* WRITESCRIPTLOG */ sub_213( "SA", "Setting EnemyAlleyWave1_0 Target Ped", "###" );
                SET_PED_COVER_TARGET_PED( l_U511[0],  /* PLAYER_PED_ID */ sub_1941() );
                l_U29 = 1;
            }
        }
    }
    if (NOT l_U30)
    {
        if (NOT (IS_PED_DEAD( l_U511[1] )))
        {
            if (IS_PED_USING_MP3_COVER_TASK( l_U511[1] ))
            {
                 /* WRITESCRIPTLOG */ sub_213( "SA", "Setting EnemyAlleyWave1_1 Target Ped", "###" );
                SET_PED_COVER_TARGET_PED( l_U511[1],  /* PLAYER_PED_ID */ sub_1941() );
                l_U30 = 1;
            }
        }
    }
    return;
}

/* P_HANDLE_BUTTONS */ void sub_21855()
{
    if (IS_BUTTON_PRESSED( 0, 11 ))
    {
        if (l_U6 == 1)
        {
            l_U4 = 1;
        }
        else if (l_U7 == 1)
        {
            l_U5 = 1;
        }
        else
        {
            l_U3 = 1;
        }
    }
    if (IS_BUTTON_PRESSED( 0, 10 ))
    {
        if (l_U6 == 1)
        {
            l_U5 = 1;
        }
        else if (l_U8 == 1)
        {
            l_U4 = 1;
        }
        else
        {
            l_U3 = 1;
        }
    }
    if ((IS_BUTTON_PRESSED( 0, 19 )) AND (IS_BUTTON_PRESSED( 0, 18 )))
    {
        DEACTIVATE_BULLET_TIME( 1, 0 );
        l_U9 = 1;
    }
    return;
}

