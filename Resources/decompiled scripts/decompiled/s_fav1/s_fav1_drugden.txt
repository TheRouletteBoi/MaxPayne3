void main()
{
    l_U0 = 1;
    l_U1 = 144;
    StrCopy( ref l_U2, "DEFAULT_SCRIPTED_CAMERA", 32 );
    StrCopy( ref l_U10, "DEFAULT_SPLINE_CAMERA", 32 );
    l_U19 = 0;
    l_U20 = 0;
    l_U21 = 1500;
    l_U41 = 0;
    l_U42 = 0;
    l_U79 = 0;
    l_U80 = 0;
    l_U81 = 0;
    l_U82 = 1;
    l_U83 = 0;
    l_U84 = 0;
    l_U85 = 0;
    l_U396 = 1;
    l_U398 = 500;
    l_U436 = {-67.39100000, -26.72700000, 14.91400000};
    l_U439 = {0.00000000, 0.00000000, 0.62800000};
    l_U443 = -1;
    l_U445 = {-67.50000000, -17.60000000, 13.69000000};
    l_U448 = {0.00000000, -1.00000000, 0.00000000};
    l_U452 = {-65.89400000, -20.59400000, 13.77000000};
    l_U455 = {0.10122700, -0.99486300, 0.00000000};
    StrCopy( ref l_U458, "Room_fav1_cpt_a_01", 32 );
    l_U466 = 0;
    l_U467 = 0;
    l_U469 = 1;
    l_U580 = {-62.20000000, -15.66000000, 16.86000000};
    l_U583 = 65441;
    l_U584 = 0;
    l_U629 = 0;
     /* WRITESCRIPTLOG */ sub_452( "SP", "Script s_fav1_DrugDen.sc is starting...", "###" );
     /* P_SETUP_STATIC_DATA */ sub_570();
     /* P_INITIALIZE_SCRIPT_DATA */ sub_3746();
    if (l_U79 == 0)
    {
        if (( /* HAS_SAVEFILE_LOADED */ sub_5870( ref l_U43 )) == 0)
        {
            if (g_U1048 == 9)
            {
                 /* F_GIVEPEDWEAPON */ sub_8514(  /* PLAYER_PED_ID */ sub_3239(), g_U1816, 200, 0, 1 );
            }
        }
        l_U79 = 1;
    }
    g_U770 = 1;
    while (g_U770 == 1)
    {
         /* P_HANDLE_CHECKPOINTS */ sub_10618();
         /* P_HANDLE_EVENTS */ sub_14675();
        WAIT( 0 );
    }
     /* P_CLEANUP_ALL */ sub_13003();
     /* P_UNLOAD_ASSETS */ sub_38888();
    SET_SCRIPT_AS_NO_LONGER_NEEDED( "s_fav1_DrugDen" );
     /* WRITESCRIPTLOG */ sub_452( "SP", "Script s_fav1_DrugDen.sc is terminating...", "###" );
    return;
}

/* WRITESCRIPTLOG */ void sub_452(unknown uParam0, unknown uParam1, string sParam2)
{
    unknown uVar5;

    if (IS_STRING_NULL( sParam2 ))
    {
        sParam2 = "###";
    }
    uVar5 = GET_REAL_GAME_TIMER();
    DISPLAYF( "[{0}][{1}]{3} {2} {3}", 4, 513, uVar5, 1537, uParam0, 1537, uParam1, 1537, sParam2 );
    return;
}

/* P_SETUP_STATIC_DATA */ void sub_570()
{
     /* WRITESCRIPTLOG */ sub_452( "SP", "P_SETUP_STATIC_DATA", "###" );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_680( ref l_U303[0], -67.32000000, -16.03000000, 13.77000000, -179.36000000, -1560780798, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_680( ref l_U303[1], -61.89900000, -15.26000000, 13.77900000, 150.63700000, 963313006, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_680( ref l_U303[2], -66.91900000, -20.10700000, 13.79131000, 90.63700000, -2039799822, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_680( ref l_U303[3], -67.50000000, -17.60000000, 13.77000000, -99.36000000, -1383638755, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_680( ref l_U366[0], -58.67324000, -17.51710000, 13.79131000, 180.00000000, 203197516, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_680( ref l_U366[1], -65.17994000, -9.83975600, 13.79132000, 180.00000000, 950321913, 7, 3, 2, 0, 0 );
     /* P_CREATETRIGGERBOX */ sub_1105( ref l_U105, "tbCocaineWalk", -62.20000000, -10.03000000, 13.23000000, 3.00000000, 3.00000000, 3.00000000, 0.00000000, 0.00000000, -90.04000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_1105( ref l_U126, "tbCocaineEnd", -62.20000000, -9.24000000, 13.23000000, 1.00000000, 1.80000000, 5.00000000, 0.00000000, 0.00000000, -90.04000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_1105( ref l_U147, "tbMID_06B", -68.77000000, -36.60000000, 12.00000000, 2.53000000, 2.00000000, 5.00000000, 0.00000000, 0.00000000, -13.69000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_1105( ref l_U168, "tbReleaseCover", -67.87000000, -24.11000000, 13.23000000, 3.00000000, 9.19000000, 5.00000000, 0.00000000, 0.00000000, -90.04000000, 1 );
     /* P_CREATETETHERBOX */ sub_1491( ref l_U198, "teHangBack", -66.18000000, -15.73000000, 12.00000000, 14.91000000, 6.74000000, 5.00000000, 0.00000000, 0.00000000, -26.75000000, 1 );
     /* P_CREATEPOISTRUCTCOORD */ sub_1633( ref l_U199, 1, -61.72000000, -8.86000000, 14.85000000, -62.20000000, -8.86000000, 14.81000000, -62.20000000, -8.86000000, 14.81000000, 1069547520, 1077936128, 1, 1 );
     /* P_SET_INTERACTIVE_TEXT */ sub_2586( ref l_U199, 30, "POI_OPENDOOR" );
     /* P_ENABLE_POI */ sub_2796( ref l_U199, 0 );
    l_U444 = ADD_SPATIALDATA_COVER_POINT( "CP_Table", l_U445, l_U448, 0.93000000, 0, 0 );
    return;
}

/* P_CREATEPEDSTRUCTWITHNAME */ void sub_680(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU20 = uParam5;
    iParam0->_fU12 = uParam4;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU16 = GET_SCENE_PED_MODEL( uParam5 );
    iParam0->_fU48 = uParam10;
    return;
}

/* P_CREATETRIGGERBOX */ void sub_1105(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    StrCopy( ref iParam0->_fU0, uParam1, 64 );
    iParam0->_fU64 = 0;
    iParam0->_fU68 = 0;
    iParam0->_fU72 = {uParam2};
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 1, iParam0 + 0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

/* P_CREATETETHERBOX */ void sub_1491(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    iParam0->_fU0 = uParam1;
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 2, iParam0->_fU0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

/* P_CREATEPOISTRUCTCOORD */ void sub_1633(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14)
{
     /* P_CREATEBLANKPOISTRUCT */ sub_1673( iParam0, uParam13 );
    iParam0->_fU4 = uParam1;
    iParam0->_fU100 = {uParam5};
    iParam0->_fU112 = uParam11;
    iParam0->_fU200 = {uParam8};
    iParam0->_fU212 = uParam12;
    iParam0->_fU320 = uParam14;
    iParam0->_fU20 = {uParam2};
     /* P_CREATEPOIGLINT */ sub_2066( iParam0 );
    return;
}

/* P_CREATEBLANKPOISTRUCT */ void sub_1673(int iParam0, unknown uParam1)
{
    iParam0->_fU0 = uParam1;
    iParam0->_fU4 = 0;
    iParam0->_fU8 = 0;
    iParam0->_fU12 = nil;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = {0.00000000, 0.00000000, 0.00000000};
    iParam0->_fU52 = 1;
    iParam0->_fU56 = 1;
    iParam0->_fU60 = 0;
    iParam0->_fU64 = 0;
    iParam0->_fU68 = 0;
    iParam0->_fU72 = 0;
    iParam0->_fU76 = 0;
    iParam0->_fU80 = 0;
    iParam0->_fU84 = 0;
    iParam0->_fU100 = {0.00000000, 0.00000000, 0.00000000};
    iParam0->_fU112 = 0.00000000;
    iParam0->_fU88 = 0;
    iParam0->_fU92 = 0;
    iParam0->_fU96 = 0;
    iParam0->_fU200 = {0.00000000, 0.00000000, 0.00000000};
    iParam0->_fU212 = 0.00000000;
    iParam0->_fU300 = 0;
    iParam0->_fU304 = 1;
    iParam0->_fU308 = 0;
    iParam0->_fU324 = 1;
    iParam0->_fU328 = 0;
    iParam0->_fU340 = 0;
    iParam0->_fU336 = 0.20000000;
    return;
}

/* P_CREATEPOIGLINT */ void sub_2066(int iParam0)
{
    if (iParam0->_fU12 != nil)
    {
        if ((DOES_GLINT_EXIST( iParam0->_fU12 )) == 1)
        {
            REMOVE_GLINT( iParam0->_fU12 );
        }
    }
    iParam0->_fU12 = CREATE_GLINT( iParam0->_fU16, iParam0->_fU20 );
     /* P_INITPOIGLINT */ sub_2164( iParam0 );
    return;
}

/* P_INITPOIGLINT */ void sub_2164(int iParam0)
{
    if (iParam0->_fU0 == 1)
    {
        if (iParam0->_fU320 == 1)
        {
            if ((iParam0->_fU8 > 0) AND (iParam0->_fU4 == 0))
            {
                 /* P_ENABLEPOIGLINT */ sub_2240( iParam0, 1 );
            }
            else if ((iParam0->_fU8 < 2) AND (iParam0->_fU4 == 1))
            {
                 /* P_ENABLEPOIGLINT */ sub_2240( iParam0, 1 );
            }
            else if ((iParam0->_fU8 == 1) AND (iParam0->_fU4 == 2))
            {
                 /* P_ENABLEPOIGLINT */ sub_2240( iParam0, 1 );
            }
            else
            {
                 /* P_ENABLEPOIGLINT */ sub_2240( iParam0, 0 );
            };;;
        }
        else
        {
             /* P_ENABLEPOIGLINT */ sub_2240( iParam0, 0 );
        }
    }
    else
    {
         /* P_ENABLEPOIGLINT */ sub_2240( iParam0, 0 );
    }
    return;
}

/* P_ENABLEPOIGLINT */ void sub_2240(int iParam0, int iParam1)
{
    if (iParam1 == 1)
    {
        if (iParam0->_fU12 != nil)
        {
            if ((DOES_GLINT_EXIST( iParam0->_fU12 )) == 1)
            {
                ENABLE_GLINT( iParam0->_fU12, 1 );
            }
            else
            {
                iParam0->_fU12 = CREATE_GLINT( iParam0->_fU16, iParam0->_fU20 );
            }
        }
        else
        {
            iParam0->_fU12 = CREATE_GLINT( iParam0->_fU16, iParam0->_fU20 );
        }
    }
    else if (iParam0->_fU12 != nil)
    {
        if ((DOES_GLINT_EXIST( iParam0->_fU12 )) == 1)
        {
            ENABLE_GLINT( iParam0->_fU12, 0 );
        }
    }
    return;
}

/* P_SET_INTERACTIVE_TEXT */ void sub_2586(int iParam0, unknown uParam1, unknown uParam2)
{
    StrCopy( ref iParam0->_fU32, uParam2, 16 );
    iParam0->_fU48 = uParam1;
     /* P_INITINTERACTIVETEXT */ sub_2642( iParam0 );
    return;
}

/* P_INITINTERACTIVETEXT */ void sub_2642(int iParam0)
{
    if ((iParam0->_fU8 == 2) AND (iParam0->_fU0 == 1))
    {
        if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
        {
            SET_INTERACTIONTEXT_BUTTON( iParam0->_fU48 );
            SET_INTERACTIONTEXT_TEXT( iParam0 + 32 );
            SET_INTERACTIONTEXT_VISIBLE( 1 );
            SET_INTERACTIONTEXT_BUTTON_VISIBLE( 1 );
            SET_INTERACTIONTEXT_AVAILABLE( 1 );
            iParam0->_fU56 = 1;
        }
    }
    return;
}

/* P_ENABLE_POI */ void sub_2796(int iParam0, int iParam1)
{
    if (iParam1 == 1)
    {
        if ((iParam0->_fU4 == 1) AND (iParam0->_fU320 == 1))
        {
             /* P_ENABLEPOIGLINT */ sub_2240( iParam0, 1 );
        }
        iParam0->_fU0 = 1;
    }
    else
    {
         /* P_ENABLEPOIGLINT */ sub_2240( iParam0, 0 );
         /* P_ENABLEPOIINTERACTIONTEXT */ sub_2882( iParam0, 0 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )) == 0)
        {
            TASK_CLEAR_LOOK_AT(  /* PLAYER_PED_ID */ sub_3239() );
            if ((iParam0->_fU328 == 1) AND (iParam0->_fU324 == 1))
            {
                SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_3239(), 0 );
                iParam0->_fU328 = 0;
            }
        }
        iParam0->_fU8 = 0;
        iParam0->_fU0 = 0;
    }
    return;
}

/* P_ENABLEPOIINTERACTIONTEXT */ void sub_2882(int iParam0, int iParam1)
{
    if (iParam1 == 1)
    {
        SET_INTERACTIONTEXT_TEXT( iParam0 + 32 );
        SET_INTERACTIONTEXT_BUTTON( iParam0->_fU48 );
        if ((iParam0->_fU72 == 0) AND ((iParam0->_fU64 == 1) AND (iParam0->_fU68 == 1)))
        {
            SET_INTERACTIONTEXT_VISIBLE( 0 );
            SET_INTERACTIONTEXT_BUTTON_VISIBLE( 0 );
            SET_INTERACTIONTEXT_AVAILABLE( 0 );
            iParam0->_fU56 = 0;
        }
        else
        {
            SET_INTERACTIONTEXT_VISIBLE( 1 );
            SET_INTERACTIONTEXT_BUTTON_VISIBLE( 1 );
            SET_INTERACTIONTEXT_AVAILABLE( 1 );
            iParam0->_fU56 = 1;
        }
         /* P_UPDATEINTERACTIONTEXTAVAILABLE */ sub_3062( iParam0 );
        if (iParam0->_fU332 == 1)
        {
            SET_INTERACTIONTEXT_PULSE( 1 );
            SET_INTERACTIONTEXT_PULSE_PERIOD( iParam0->_fU336 );
        }
    }
    else
    {
        SET_INTERACTIONTEXT_VISIBLE( 0 );
        SET_INTERACTIONTEXT_BUTTON_VISIBLE( 0 );
    }
    return;
}

/* P_UPDATEINTERACTIONTEXTAVAILABLE */ void sub_3062(int iParam0)
{
    if (iParam0->_fU60 == 1)
    {
        SET_INTERACTIONTEXT_AVAILABLE( 0 );
        iParam0->_fU56 = 0;
    }
    else if (iParam0->_fU56 == 1)
    {
        if (( /* F_ISACTIONINGAVAILABLE */ sub_3158( iParam0 )) == 0)
        {
            SET_INTERACTIONTEXT_AVAILABLE( 0 );
            iParam0->_fU56 = 0;
        }
    }
    else if (( /* F_ISACTIONINGAVAILABLE */ sub_3158( iParam0 )) == 1)
    {
        SET_INTERACTIONTEXT_AVAILABLE( 1 );
        iParam0->_fU56 = 1;
    };;;
    return;
}

/* F_ISACTIONINGAVAILABLE */ int sub_3158(int iParam0)
{
    if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )) == 0) AND ((IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_3193() )) == 0))
    {
        if (((IS_PED_RELOADING(  /* PLAYER_PED_ID */ sub_3239() )) == 1) || (((IS_PED_GETTING_UP(  /* PLAYER_PED_ID */ sub_3239() )) == 1) || (((IS_PED_PICKING_UP_PICKUP(  /* PLAYER_PED_ID */ sub_3239() )) == 1) || (((IS_PED_IN_COVER(  /* PLAYER_PED_ID */ sub_3239() )) == 1) || (((IS_PED_DUCKING(  /* PLAYER_PED_ID */ sub_3239() )) == 1) || (IS_PLAYER_SHOOTDODGING() == 1))))))
        {
            return 0;
        }
        if (iParam0->_fU304 == 0)
        {
            if ((IS_MONOLOGUE_PLAYING() == 1) || ((IS_ANY_SPEECH_PLAYING(  /* PLAYER_PED_ID */ sub_3239() )) == 1))
            {
                return 0;
            }
        }
        return 1;
    }
    return 0;
}

/* PLAYER_ID */ void sub_3193()
{
    return GET_PLAYER_ID();
}

/* PLAYER_PED_ID */ int sub_3239()
{
    if (DOES_MAIN_PLAYER_EXIST())
    {
        return GET_PLAYER_PED(  /* PLAYER_ID */ sub_3193() );
    }
    return 0;
}

/* P_INITIALIZE_SCRIPT_DATA */ void sub_3746()
{
     /* WRITESCRIPTLOG */ sub_452( "SP", "INITIALIZE_SCRIPT_DATA", "###" );
    l_U471[0] =  /* CREATEPLACEMENT */ sub_3869( -4072149, -58.16000000, -15.75000000, 14.77000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0, 1119092736 );
    if (DOES_PLACEMENT_EXIST( l_U471[0] ))
    {
        ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( l_U471[0], ref g_U1759 );
    }
    if (DOES_PLACEMENT_EXIST( l_U471[1] ))
    {
        ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( l_U471[1], ref g_U1759 );
    }
     /* P_CLOSEDOOR */ sub_4130( ref g_U1657, 1 );
     /* P_SETDOORLOCKED */ sub_4387( ref g_U1657, 1 );
     /* P_CLOSEDOOR */ sub_4130( ref g_U1678, 1 );
     /* P_SETDOORLOCKED */ sub_4387( ref g_U1678, 1 );
    l_U466 = 0;
    l_U396 = 1;
    l_U467 = 0;
    l_U468 = 1;
    l_U469 = 1;
    l_U584 = 0;
    l_U82 = 1;
    l_U83 = 0;
    l_U84 = 0;
    l_U85 = 0;
    g_U783 = 0;
    l_U80 = 0;
     /* CREATETIMER */ sub_4636( ref l_U399, l_U398, 1, 0 );
     /* CREATETIMER */ sub_4636( ref l_U605, 60000, 1, 0 );
     /* CREATETIMER */ sub_4636( ref l_U614, 25000, 1, 0 );
     /* P_CREATEPOISTRUCTCOORD */ sub_1633( ref l_U484, 2, 0.00000000, 0.00000000, 0.00000000, -60.31000000, -15.57000000, 14.89000000, -60.31000000, -15.57000000, 14.89000000, 1069547520, 1077936128, 1, 1 );
     /* P_ENABLEPOIGLINT */ sub_2240( ref l_U484, 0 );
     /* P_SET_INTERACTIVE_TEXT */ sub_2586( ref l_U484, 30, "POI_F1DRUGS" );
     /* P_SET_POI_FORCE_WALK */ sub_4922( ref l_U484, 0 );
     /* P_SET_POI_AVAILABLE */ sub_4977( ref l_U484, 0 );
     /* P_SET_POI_REUSABLE */ sub_5059( ref l_U484, 1 );
     /* CREATETIMER */ sub_4636( ref l_U408, 2200, 1, 0 );
     /* RESETTIMER */ sub_5125( ref l_U189 );
     /* P_INITIALIZE_SP_CHALLENGES */ sub_5249();
    AUDIO_MUSIC_REQUEST_ONESHOT( "FAVELA_1_ONESHOT_6", 0 );
    return;
}

/* CREATEPLACEMENT */ void sub_3869(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, int iParam8, unknown uParam9, unknown uParam10)
{
    unknown Result;

    Result = CREATE_PLACEMENT_ROTATE( uParam0, uParam1, uParam4, uParam7, 0, uParam9, uParam10 );
    if (iParam8 == 1)
    {
        while ((DOES_PLACEMENT_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for a placement to exist: {} ###", 1, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return Result;
}

/* P_CLOSEDOOR */ void sub_4130(int iParam0, int iParam1)
{
    if (( /* F_DOESDOOREXIST */ sub_4156( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_4240( iParam0 );
    }
    if (iParam1 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, 0.00000000 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, 0.00000000 );
    }
    else
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, 0.00000000 );
    }
    return;
}

/* F_DOESDOOREXIST */ int sub_4156(int iParam0)
{
    int iVar3;

    iVar3 = DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS( iParam0->_fU4, 1.00000000, iParam0->_fU0 );
    if (iVar3 == 1)
    {
        return 1;
    }
    return 0;
}

/* P_PRINTDOORNOTEXIST */ void sub_4240(unknown uParam0)
{
    (uParam0^) = {(uParam0^)};
    return;
}

/* P_SETDOORLOCKED */ void sub_4387(int iParam0, int iParam1)
{
    int iVar4;
    float fVar5;

    if (( /* F_DOESDOOREXIST */ sub_4156( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_4240( iParam0 );
    }
    if (iParam1 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, 0.00000000 );
    }
    else
    {
        iVar4 = 0;
        fVar5 = 0.00000000;
        GET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, ref iVar4, ref fVar5 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar5 );
    }
    return;
}

/* CREATETIMER */ void sub_4636(int iParam0, unknown uParam1, boolean bParam2, int iParam3)
{
    if (bParam2)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam3 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU12 = uParam1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = bParam2;
    iParam0->_fU32 = iParam3;
    iParam0->_fU8 = 0;
    return;
}

/* P_SET_POI_FORCE_WALK */ void sub_4922(int iParam0, unknown uParam1)
{
    iParam0->_fU324 = uParam1;
    return;
}

/* P_SET_POI_AVAILABLE */ void sub_4977(int iParam0, int iParam1)
{
    if (iParam1 == 0)
    {
        iParam0->_fU60 = 1;
    }
    else
    {
        iParam0->_fU60 = 0;
    }
     /* P_UPDATEINTERACTIONTEXTAVAILABLE */ sub_3062( iParam0 );
    return;
}

/* P_SET_POI_REUSABLE */ void sub_5059(int iParam0, unknown uParam1)
{
    iParam0->_fU68 = uParam1;
    return;
}

/* RESETTIMER */ void sub_5125(int iParam0)
{
    if (iParam0->_fU28)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    return;
}

/* P_INITIALIZE_SP_CHALLENGES */ void sub_5249()
{
     /* WRITESCRIPTLOG */ sub_452( "CCB", "P_INITIALIZE_SP_CHALLENGES", 0 );
    l_U623 = 0;
    if (NOT (SCRIPT_VAR_HASH_EXISTS( 33755758 )))
    {
         /* WRITESCRIPTLOG */ sub_452( "CCB", "Creating the TheTurtle script variable...", 0 );
        SCRIPT_VAR_HASH_ADD_INT( 33755758 );
        DISPLAYF( "[CCB] ### The current TheTurtle value is: {} ###", 1, 513, SCRIPT_VAR_HASH_GET_INT( 33755758 ) );
        if (SCRIPT_VAR_HASH_EXISTS( 33755758 ))
        {
             /* WRITESCRIPTLOG */ sub_452( "CCB", "The TheTurtle script variable was successfully created...", 0 );
        }
        else
        {
             /* WRITESCRIPTLOG */ sub_452( "CCB", "The TheTurtle script variable is NOT valid!!!", 0 );
        }
    }
    else
    {
         /* WRITESCRIPTLOG */ sub_452( "CCB", "The TheTurtle script variable was already created...", 0 );
        SCRIPT_VAR_HASH_SET_INT( 33755758, 0 );
        DISPLAYF( "[CCB] ### The current TheTurtle value is: {} ###", 1, 513, SCRIPT_VAR_HASH_GET_INT( 33755758 ) );
    }
    return;
}

/* HAS_SAVEFILE_LOADED */ int sub_5870(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_452( "rw", "HAS_SAVEFILE_LOADED()", 0 );
    if (IS_ARCADE_MODE_ACTIVE())
    {
        return 0;
    }
    if (HAS_LOAD_JUST_OCCURRED())
    {
        if ((GET_CHECKPOINT_SELECTED() == 1) || (GET_CHECKPOINT_SELECTED() == 0))
        {
            return 0;
        }
        else
        {
            l_U0 = 0;
            CHECKPOINT_STORAGE_LOAD( uParam0, l_U1 );
             /* P_RESTORE_PLAYER_DATA_CHECKPOINT */ sub_6022( uParam0,  /* PLAYER_PED_ID */ sub_3239() );
        }
        if (IS_IN_STORY_MODE())
        {
            START_CONTEXT( "LEVEL" );
        }
        return 1;
    }
    return 0;
}

/* P_RESTORE_PLAYER_DATA_CHECKPOINT */ void sub_6022(int iParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    int iVar9;
    int iVar10;
    int iVar11;
    unknown uVar12;
    unknown uVar13;

     /* WRITESCRIPTLOG */ sub_452( "GA", "Restoring the player to the checkpoint - Start", 0 );
    if (l_U0)
    {
        INCREMENT_CHECKPOINT_ATTEMPT();
    }
    g_U648 = 0;
    if (iParam0->_fU0 == 0)
    {
        SCRIPT_ASSERT( "ERROR: Trying to restore a checkpoint that hasn't been saved!!!", 0 );
    }
     /* CLOSE_CURRENT_LEVEL_CONTEXT */ sub_6241( iParam0->_fU52 );
    if (SCRIPT_VAR_EXISTS( "SV_LOAD_CNT" ))
    {
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", (SCRIPT_VAR_GET_INT( "SV_LOAD_CNT" )) + 1 );
    }
    else
    {
        SCRIPT_VAR_ADD_INT( "SV_LOAD_CNT" );
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", 1 );
    }
    CLEAR_KILL_STREAK_RECORDS();
    AUDIO_MUSIC_SUSPEND( 0 );
    DEACTIVATE_BULLET_TIME( 1, 0 );
    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
    REMOVE_ALL_ENVIRONMENT_BLOOD();
    RESET_BLOOD_EFFECTS();
    REMOVE_ALL_GLINTS();
    RESET_DESTROYED_COVER();
    RESET_ALL_PTFX();
    uVar4 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam1 )};
    CLEAR_AREA( iParam0->_fU4, 10000.00000000, 1 );
    if (NOT (IS_PED_DEAD( uParam1 )))
    {
        SET_PED_COORDS( uParam1, iParam0->_fU4, 1 );
         /* LOADCOLLISIONFORPED */ sub_7405( uParam1 );
        SET_PED_HEADING( uParam1, iParam0->_fU16 );
    }
    CLEAR_AREA( uVar4, 3.00000000, 1 );
    LOAD_SCENE( iParam0->_fU4 );
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
    iParam0->_fU28 = GET_PED_MAX_HEALTH( uParam1 );
    SET_PED_HEALTH( uParam1, iParam0->_fU28, 0 );
    RESET_PED_GORE( uParam1 );
    RESET_PED_VISIBLE_DAMAGE( uParam1 );
    REMOVE_ALL_PED_WEAPONS( uParam1 );
    if (NOT (iParam0->_fU56 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPONTOHOLSTER */ sub_7719( uParam1, iParam0->_fU56, 0, iParam0->_fU76, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_8198( uVar7, iParam0 + 96, iParam0 + 100 );
    }
    if (NOT (iParam0->_fU60 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPONTOHOLSTER */ sub_7719( uParam1, iParam0->_fU60, 1, iParam0->_fU80, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_8198( uVar7, iParam0 + 104, iParam0 + 108 );
    }
    if (NOT (iParam0->_fU64 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPONTOHOLSTER */ sub_7719( uParam1, iParam0->_fU64, 2, iParam0->_fU84, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_8198( uVar7, iParam0 + 112, iParam0 + 116 );
    }
    if (NOT (iParam0->_fU68 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPON */ sub_8514( uParam1, iParam0->_fU68, iParam0->_fU88, 0, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_8198( uVar7, iParam0 + 120, iParam0 + 124 );
    }
    if (NOT (iParam0->_fU72 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPON */ sub_8514( uParam1, iParam0->_fU72, iParam0->_fU92, 1, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_8198( uVar7, iParam0 + 128, iParam0 + 132 );
    }
    if (l_U0 == 1)
    {
        if ((IS_PED_DEAD( uParam1 )) == 0)
        {
            if (iParam0->_fU68 != -1569615261)
            {
                uVar7 = GET_WEAPON_FROM_HAND( uParam1, 0, 0 );
                if ((GET_DOES_WEAPON_EXIST( uVar7 )) == 1)
                {
                    uVar8 = GET_WEAPON_TYPE( uVar7 );
                    if (( /* F_CAN_GIVE_AMMO_TO_REGULAR_WEAPON_TYPE */ sub_9086( uVar8 )) == 1)
                    {
                        iVar9 = GET_MAX_AMMO_IN_HAND_CLIP_MP( uParam1, 0 );
                        iVar10 = iParam0->_fU88;
                        if (iVar10 < iVar9)
                        {
                            iVar11 = iVar9 - iVar10;
                            ADD_AMMO_TO_PED( uParam1, uVar8, iVar11, 0 );
                            SET_WEAPON_AMMO_IN_CLIP( uVar7, iVar9 );
                        }
                    }
                }
            }
        }
    }
     /* START_NEW_LEVEL_CONTEXT */ sub_9288( iParam0->_fU52 );
    SET_ADRENALINE_AMT( iParam0->_fU32 );
    if (GET_ADRENALINE_AMT() < 0.20000000)
    {
        SET_ADRENALINE_AMT( 0.20000000 );
    }
    SET_PAYNEKILLER_AMT( iParam0->_fU36 );
    SET_PED_DUCKING(  /* PLAYER_PED_ID */ sub_3239(), 0 );
    GET_TIME_OF_DAY( ref uVar12, ref uVar13 );
    if (iParam0->_fU140 == 1)
    {
        FREEZE_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    else
    {
        RELEASE_TIME_OF_DAY();
        SET_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    SET_PED_SWEAT( uParam1, iParam0->_fU136, -1.00000000 );
    RESTORE_PICKUPS();
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( iParam0->_fU20, 1065353216, 0 );
    SET_GAMEPLAY_CAM_RELATIVE_PITCH( iParam0->_fU24, 1065353216, 0 );
    HANDLE_CHECKPOINT_RESTART();
    if (l_U0)
    {
        ADJUST_AMMO_ATTEMPTS();
        ADJUST_PAIN_KILLERS_ATTEMPTS();
    }
    l_U0 = 1;
    DISPLAY_HUD( 1 );
    if (IS_DEATH_PANEL_WIPE_ALLOWED())
    {
        if (IS_BULLET_CAMERA_WIPE_STOPPED())
        {
            RESUME_BULLET_CAMERA_WIPE_ON_FADEIN();
        }
    }
     /* WRITESCRIPTLOG */ sub_452( "GA", "Restoring the player to the checkpoint - End", 0 );
    return;
}

/* CLOSE_CURRENT_LEVEL_CONTEXT */ void sub_6241(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    iVar3 = 0;
    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        iVar3 =  /* GET_MISSION_INDEX_FROM_NAME */ sub_6303( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, iVar3, 513, uParam0 );
    END_CONTEXT( ref uVar4 );
    return;
}

/* GET_MISSION_INDEX_FROM_NAME */ int sub_6303(unknown uParam0)
{
    if (ARE_STRINGS_EQUAL( uParam0, "s_air" ))
    {
        return 21;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_beach" ))
    {
        return 22;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_boat" ))
    {
        return 10;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_booze" ))
    {
        return 0;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_busdep" ))
    {
        return 17;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_cemet" ))
    {
        return 15;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_club" ))
    {
        return 5;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_clubride" ))
    {
        return 4;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fashion" ))
    {
        return 3;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav0" ))
    {
        return 13;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav1" ))
    {
        return 14;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav2" ))
    {
        return 16;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fire" ))
    {
        return 12;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_hotel" ))
    {
        return 19;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_intro" ))
    {
        return 1;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_marina" ))
    {
        return 9;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc" ))
    {
        return 7;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc2" ))
    {
        return 8;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_office" ))
    {
        return 11;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_pana" ))
    {
        return 18;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_police" ))
    {
        return 20;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_stad" ))
    {
        return 6;
    }
    else
    {
        PRINTSTRING( uParam0 );
        PRINTSTRING( uParam0 );
        PRINTSTRING( uParam0 );
    };;;;;;;;;;;;;;;;;;;;;;
    return 99;
}

/* LOADCOLLISIONFORPED */ void sub_7405(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
        SET_LOAD_COLLISION_FOR_PED_FLAG( uParam0, 1 );
        SET_PED_COORDS_NO_OFFSET( uParam0, uVar3 );
        FREEZE_PED_POSITION( uParam0, 1 );
        REQUEST_COLLISION_AT_COORD( uVar3 );
        if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
        {
            FREEZE_PED_POSITION( uParam0, 0 );
        }
    }
    return;
}

/* F_GIVEPEDWEAPONTOHOLSTER */ void sub_7719(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's holster MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HOLSTER( uParam0, uParam1, uParam3, uParam2 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
                    DISPLAYF( "[SP]### Waiting for a weapon to exist: {} ###", 1, 513, uParam1 );
                }
            }
        }
    }
    else
    {
         /* WRITE_STRING */ sub_8123( "[SP]### (F_GivePedWeaponToHolster) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

/* WRITE_STRING */ void sub_8123(unknown uParam0)
{
    PRINTSTRING( uParam0 );
    PRINTNL();
    return;
}

/* P_RESTORE_WEAPON_ATTACHMENTS */ void sub_8198(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        if (IS_BIT_SET( (uParam1^), I ))
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, IS_BIT_SET( (uParam2^), I ) );
        }
        else
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
        }
    }
    return;
}

/* F_GIVEPEDWEAPON */ void sub_8514(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's hand MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, uParam2, uParam3 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
                    DISPLAYF( "[SP]### Waiting for a weapon to exist: {} ###", 1, 513, uParam1 );
                }
            }
        }
    }
    else
    {
         /* WRITE_STRING */ sub_8123( "[SP]### (F_GivePedWeapon) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

/* F_CAN_GIVE_AMMO_TO_REGULAR_WEAPON_TYPE */ int sub_9086(unknown uParam0)
{
    int iVar3;

    iVar3 = GET_WEAPONTYPE_AMMO( uParam0 );
    if ((iVar3 == -1383321053) || ((iVar3 == -1295933220) || ((iVar3 == 1138793073) || (iVar3 == -1088031219))))
    {
        return 1;
    }
    return 0;
}

/* START_NEW_LEVEL_CONTEXT */ void sub_9288(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        uVar3 =  /* GET_MISSION_INDEX_FROM_NAME */ sub_6303( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, uParam0 );
     /* CLEAR_GG_CONTEXTS */ sub_9386( uVar3 );
    START_CONTEXT( ref uVar4 );
    return;
}

/* CLEAR_GG_CONTEXTS */ void sub_9386(int iParam0)
{
    if (iParam0 != 3)
    {
        END_CONTEXT( "S_FAS_GG_PT" );
    }
    if (iParam0 != 5)
    {
        END_CONTEXT( "S_CLB_GG_M3" );
        END_CONTEXT( "S_CLB_MS" );
    }
    if (iParam0 != 6)
    {
        END_CONTEXT( "S_STA_GG_M1" );
        END_CONTEXT( "S_STA_GG_M81" );
    }
    if (iParam0 != 7)
    {
        END_CONTEXT( "S_NY1_GG_19" );
    }
    if (iParam0 != 8)
    {
        END_CONTEXT( "S_NY2_GG_40" );
        END_CONTEXT( "S_NY2_GG_M5" );
    }
    if (iParam0 != 9)
    {
        END_CONTEXT( "S_MAR_GG_LM" );
        END_CONTEXT( "S_MAR_GG_9M" );
    }
    if (iParam0 != 11)
    {
        END_CONTEXT( "S_OFF_GG_MD" );
    }
    if (iParam0 != 14)
    {
        END_CONTEXT( "S_FV1_GG_SP" );
        END_CONTEXT( "S_FV1_GG_SA" );
    }
    if (iParam0 != 15)
    {
        END_CONTEXT( "S_NYC_GG_6M" );
        END_CONTEXT( "S_NYC_GG_A9" );
    }
    if (iParam0 != 16)
    {
        END_CONTEXT( "S_FV2_GG_D5" );
        END_CONTEXT( "S_FV2_GG_97" );
    }
    if (iParam0 != 17)
    {
        END_CONTEXT( "S_BUS_GG_M4" );
        END_CONTEXT( "S_BUS_GG_FN" );
    }
    if (iParam0 != 18)
    {
        END_CONTEXT( "S_PAN_GG_AK" );
        END_CONTEXT( "S_PAN_GG_SS" );
    }
    if (iParam0 != 19)
    {
        END_CONTEXT( "S_HOT_GG_G3" );
        END_CONTEXT( "S_HOT_GG_LA" );
    }
    if (iParam0 != 20)
    {
        END_CONTEXT( "S_POL_GG_G6" );
        END_CONTEXT( "S_POL_GG_RP" );
        END_CONTEXT( "S_POL_GG_MP" );
    }
    if (iParam0 != 21)
    {
        END_CONTEXT( "S_AIR_GG_RG" );
        END_CONTEXT( "S_AIR_GG_PD" );
    }
    return;
}

/* P_HANDLE_CHECKPOINTS */ void sub_10618()
{
    if (g_U1049 == 9)
    {
        switch (l_U81)
        {
            case 0:
            if (( /* RESTARTING_CHECKPOINT */ sub_10735()) || (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )))
            {
                l_U81 = 1;
                 /* WRITESCRIPTLOG */ sub_452( "kja", "eFailState = FAIL_WAITING_FOR_PLAYER", 0 );
            }
            break;
            case 1:
            if ( /* IS_RESTART_ACTIVE */ sub_11254())
            {
                 /* KILL_ANY_MISSION_SPEECH */ sub_11303( 0 );
                l_U81 = 2;
            }
            else if (( /* F_CHECK_QUIT_RETRY */ sub_11514( 0 )) == 1)
            {
                l_U81 = 2;
            }
            break;
            case 2:
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )))
            {
                l_U81 = 3;
                 /* WRITESCRIPTLOG */ sub_452( "kja", "eFailState = FAIL_CLEANUP_ALL", 0 );
            }
            break;
            case 3:
             /* WRITESCRIPTLOG */ sub_452( "kja", "eFailState = FAIL_CLEANUP_ALL", 0 );
            if ((IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_3193() )) == 0)
            {
                SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3193(), 0, 0 );
            }
            if (IS_DEATH_PANEL_WIPE_ALLOWED() == 0)
            {
                 /* P_FADE_OUT_AND_WAIT */ sub_12847( 0 );
            }
             /* P_CLEANUP_ALL */ sub_13003();
            STOP_SCRIPT_STREAM( 1 );
            l_U81 = 4;
             /* WRITESCRIPTLOG */ sub_452( "kja", "eFailState = FAIL_RESTORE_PLAYER", 0 );
            break;
            case 4:
             /* WRITESCRIPTLOG */ sub_452( "kja", "eFailState = FAIL_RESTORE_PLAYER", 0 );
             /* P_RESTORE_PLAYER_DATA_CHECKPOINT */ sub_6022( ref l_U43,  /* PLAYER_PED_ID */ sub_3239() );
            l_U81 = 5;
             /* WRITESCRIPTLOG */ sub_452( "kja", "eFailState = FAIL_RESTART_CHECKPOINT", 0 );
            break;
            case 5:
             /* WRITESCRIPTLOG */ sub_452( "kja", "eFailState = FAIL_RESTART_CHECKPOINT", 0 );
             /* P_SETUP_STATIC_DATA */ sub_570();
             /* P_INITIALIZE_SCRIPT_DATA */ sub_3746();
            l_U81 = 0;
             /* WRITESCRIPTLOG */ sub_452( "kja", "eFailState = FAIL_IDLE", 0 );
            break;
        }
    }
    return;
}

/* RESTARTING_CHECKPOINT */ int sub_10735()
{
    if (HAS_SELECTED_RETRY_CHECKPOINT())
    {
        if (IS_IN_NYMINUTE_MODE())
        {
            SWITCH_TO_LEVEL( GET_INDEX_OF_CURRENT_LEVEL() );
        }
        if (HAS_CUTSCENE_FINISHED() == 0)
        {
            return 0;
        }
        l_U0 = 0;
        g_U648 = 1;
        DO_SCREEN_FADE_OUT( 0 );
        ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 1 );
        TERMINATE_GAME_BULLET_CAMERA();
        if (IS_ANIMATED_CAMERA_PLAYING())
        {
            CAMERA_ANIMATED_STOP( 0, 0 );
        }
        STOP_ALL_SCRIPTED_CONVERSATIONS( 0 );
        DEACTIVATE_BULLET_TIME( 1, 0 );
        END_POSTFX_BLENDER( 0, 0 );
        END_POSTFX_BLENDER( 2, 0 );
        END_POSTFX_BLENDER( 3, 0 );
        END_POSTFX_BLENDER( 4, 0 );
        END_POSTFX_BLENDER( 5, 0 );
        END_POSTFX_BLENDER( 7, 0 );
        END_POSTFX_BLENDER( 9, 0 );
        END_POSTFX_BLENDER( 10, 0 );
        END_POSTFX_BLENDER( 11, 0 );
        END_POSTFX_BLENDER( 12, 0 );
        END_POSTFX_BLENDER( 13, 0 );
        END_POSTFX_BLENDER( 14, 0 );
        END_POSTFX_BLENDER( 15, 0 );
        END_POSTFX_BLENDER( 16, 0 );
        STOP_ALL_IMAGEFX( 0 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )))
        {
            SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_3239(), 0 );
            SET_PLAYER_FORCED_AIM(  /* PLAYER_ID */ sub_3193(), 0, 0 );
            SET_PLAYER_CAN_USE_SHOOTDODGE(  /* PLAYER_ID */ sub_3193(), 1 );
            if ((IS_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_3239() )) == 0)
            {
                SET_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_3239(), 1 );
            }
        }
        CLEAR_PRINTS();
        CLEAR_HELP();
        SET_INTERACTIONTEXT_VISIBLE( 0 );
        RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
        DESTROY_ALL_CAMS();
        AUDIO_MUSIC_SUSPEND( 500 );
        return 1;
    }
    return 0;
}

/* IS_RESTART_ACTIVE */ void sub_11254()
{
    return g_U648;
}

/* KILL_ANY_MISSION_SPEECH */ void sub_11303(unknown uParam0)
{
    int I;

    for ( I = 0; I <= 3; I++ )
    {
        PRINTSTRING( "\n KILL_ANY_MISSION_SPEECH CALLED***************************************" );
        if (IS_SCRIPTED_CONVERSATION_ONGOING( I ))
        {
            if ((g_U1[I] <= 8) AND (g_U1[I] >= 4))
            {
                STOP_SCRIPTED_CONVERSATION( I, uParam0, 0 );
            }
        }
    }
    return;
}

/* F_CHECK_QUIT_RETRY */ int sub_11514(int iParam0)
{
    iParam0 = 1;
    switch (l_U20)
    {
        case 0:
        if (NOT ( /* HASTIMERBEENACTIVATED */ sub_11592( ref l_U22 )))
        {
            if ((IS_DEATH_PANEL_WIPE_ALLOWED()) AND (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )))
            {
                l_U21 = 2000;
                ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 1 );
            }
             /* CREATETIMER */ sub_4636( ref l_U22, l_U21, 1, 1 );
             /* STARTTIMER */ sub_11727( ref l_U22 );
        }
        if ( /* ISTIMERDONE */ sub_11858( ref l_U22 ))
        {
             /* WRITESCRIPTLOG */ sub_452( "NS", " show fail/retry text", 0 );
            if ((IS_DEATH_PANEL_WIPE_ALLOWED()) AND (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )))
            {
                if ((IS_BULLET_CAMERA_RUNNING( 0 )) == 0)
                {
                    if (IS_SCREEN_FADED_OUT())
                    {
                        DO_SCREEN_FADE_IN( 0 );
                    }
                }
                ENABLE_DEATHHELPERTEXT( 1, 1, 0 );
            }
            else if (IS_SCREEN_FADED_OUT())
            {
                DO_SCREEN_FADE_IN( 0 );
                ENABLE_DEATHHELPERTEXT( 1, iParam0, 0 );
            }
            else
            {
                ENABLE_DEATHHELPERTEXT( 1, iParam0, 0 );
            }
            if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_3193() )))
            {
                SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3193(), 0, 0 );
            }
            DISPLAY_HUD( 0 );
            l_U20 = 1;
        }
        break;
        case 1:
        if ((((NOT IS_QUIT_CONFIRMING()) == 1) AND (IS_BUTTON_JUST_PRESSED( 0, 501 ))) || ((N_1855335259()) || (IS_CONTROL_JUST_PRESSED( 2, 82 ))))
        {
            if (IS_QUIT_CONFIRMING() == 1)
            {
                l_U20 = 2;
            }
            else
            {
                l_U20 = 3;
            }
        }
        break;
        case 2:
         /* WRITESCRIPTLOG */ sub_452( "NS", "Player will QUIT", 0 );
         /* P_POSTQUITRETRYCLEANUP */ sub_12353();
        if (iParam0 == 1)
        {
            DO_SCREEN_FADE_OUT( 0 );
        }
        START_PANEL_WIPE( 0, 6 );
        SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
        RETURN_TO_TITLESCREEN( 0 );
        break;
        case 3:
         /* WRITESCRIPTLOG */ sub_452( "NS", "Player will RETRY", 0 );
        if (IS_IN_NYMINUTE_MODE())
        {
            SWITCH_TO_LEVEL( GET_INDEX_OF_CURRENT_LEVEL() );
        }
        if (iParam0 == 1)
        {
            DO_SCREEN_FADE_OUT( 0 );
        }
         /* P_POSTQUITRETRYCLEANUP */ sub_12353();
        return 1;
        break;
    }
    return 0;
}

/* HASTIMERBEENACTIVATED */ int sub_11592(int iParam0)
{
    if (iParam0->_fU20 == 1)
    {
        return 1;
    }
    if (iParam0->_fU16 == 1)
    {
        return 1;
    }
    return 0;
}

/* STARTTIMER */ void sub_11727(int iParam0)
{
    if (NOT iParam0->_fU20)
    {
        iParam0->_fU20 = 1;
        iParam0->_fU16 = 0;
        if (iParam0->_fU28)
        {
            iParam0->_fU0 = TIMERA();
        }
        else
        {
            iParam0->_fU0 = TIMERB();
        }
        if (iParam0->_fU32 == 1)
        {
            iParam0->_fU0 = TIMERSYSTEM();
        }
        iParam0->_fU4 = iParam0->_fU0;
    }
    return;
}

/* ISTIMERDONE */ int sub_11858(int iParam0)
{
    if (iParam0->_fU16)
    {
        return 0;
    }
    else if (NOT iParam0->_fU20)
    {
        return 0;
    }
    if (iParam0->_fU28)
    {
        iParam0->_fU4 = TIMERA();
    }
    else
    {
        iParam0->_fU4 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU4 = TIMERSYSTEM();
    }
    if ((iParam0->_fU4 - iParam0->_fU0) >= iParam0->_fU12)
    {
        iParam0->_fU16 = 1;
        iParam0->_fU20 = 0;
        return 1;
        break;
    }
    return 0;
}

/* P_POSTQUITRETRYCLEANUP */ void sub_12353()
{
     /* WRITESCRIPTLOG */ sub_452( "NS", "P_PostFailRetryCleanup", 0 );
     /* RESETTIMER */ sub_5125( ref l_U22 );
    ENABLE_DEATHHELPERTEXT( 0, 0, 2000 );
    SET_SCRIPT_CONTROL_RESET_ON_PLAYER_DEATH( 0 );
    if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_3193() )))
    {
        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3193(), 1, 0 );
    }
    DISPLAY_HUD( 1 );
    l_U19 = 0;
    l_U19 = l_U19;
    l_U20 = 0;
    return;
}

/* P_FADE_OUT_AND_WAIT */ void sub_12847(unknown uParam0)
{
    if ((IS_SCREEN_FADING_OUT() == 0) AND (IS_SCREEN_FADED_OUT() == 0))
    {
        DO_SCREEN_FADE_OUT( uParam0 );
        while (IS_SCREEN_FADED_OUT() == 0)
        {
            DISPLAYF( "[SP]### Waiting for screen to fade out... ###", 0 );
            WAIT( 0 );
        }
    }
    return;
}

/* P_CLEANUP_ALL */ void sub_13003()
{
     /* WRITESCRIPTLOG */ sub_452( "SP", "P_CLEANUP_ALL", "###" );
    if ( /* IS_SPEECH_CURRENTLY_PLAYING */ sub_13067( l_U585 ))
    {
         /* KILL_SPEECH */ sub_13295( ref l_U585, 0 );
    }
    if ( /* IS_SPEECH_CURRENTLY_PLAYING */ sub_13067( l_U595 ))
    {
         /* KILL_SPEECH */ sub_13295( ref l_U595, 0 );
    }
     /* CLEANPLACEMENT */ sub_13501( l_U470 );
     /* CLEANPLACEMENTARRAY */ sub_13565( ref l_U471 );
     /* CLEANPEDARRAY */ sub_13648( ref l_U356 );
     /* CLEANPEDARRAY */ sub_13648( ref l_U393 );
     /* CLEANOBJECT */ sub_13816( g_U856 );
     /* CLEANOBJECT */ sub_13816( l_U435 );
    ISEQ_TERMINATE( 1285840791 );
    if (l_U444 != l_U443)
    {
        REMOVE_SPATIALDATA_COVER_POINT( l_U444 );
        l_U444 = l_U443;
    }
    if (l_U451 != l_U443)
    {
        REMOVE_SPATIALDATA_COVER_POINT( l_U451 );
        l_U451 = l_U443;
    }
    CLEAR_NAMED_CUTSCENE( "MID_05b_FAV1_concat" );
     /* UNLOADMODEL */ sub_14002( 1156505411 );
     /* RESETTIMER */ sub_5125( ref l_U605 );
     /* RESETTIMER */ sub_5125( ref l_U614 );
     /* RESETTIMER */ sub_5125( ref l_U399 );
     /* RESETTIMER */ sub_5125( ref l_U408 );
     /* RESETTIMER */ sub_5125( ref l_U417 );
     /* RESETTIMER */ sub_5125( ref l_U426 );
     /* P_STOP_SP_CHALLENGES */ sub_14206();
    return;
}

/* IS_SPEECH_CURRENTLY_PLAYING */ int sub_13067(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
    if (NOT ( /* IS_SCRIPT_SPEECH_STRUCT_VALID */ sub_13110( uParam0 )))
    {
        return 0;
    }
    if ((g_U11[uParam0._fU4] == 2) || ((g_U11[uParam0._fU4] == 1) || (IS_SCRIPTED_CONVERSATION_ONGOING( uParam0._fU4 ))))
    {
        if (uParam0._fU8 == g_U6[uParam0._fU4])
        {
            return 1;
        }
    }
    return 0;
}

/* IS_SCRIPT_SPEECH_STRUCT_VALID */ boolean sub_13110(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
    int iVar12;

    if (uParam0._fU4 < 0)
    {
        return 0;
    }
    iVar12 = GET_CHECK_HASH_FROM_CONVERSATION_ID( uParam0._fU4 );
    return (uParam0._fU16 == iVar12) AND (iVar12 != 0);
}

/* KILL_SPEECH */ void sub_13295(int iParam0, unknown uParam1)
{
    if (NOT ( /* IS_SCRIPT_SPEECH_STRUCT_VALID */ sub_13110( (iParam0^) )))
    {
        ;
    }
    else
    {
        PRINTSTRING( "\n KILL SPEECH CALLED***************************************" );
        if (IS_SCRIPTED_CONVERSATION_ONGOING( iParam0->_fU4 ))
        {
            if (iParam0->_fU8 == g_U6[iParam0->_fU4])
            {
                STOP_SCRIPTED_CONVERSATION( iParam0->_fU4, uParam1, 0 );
            }
        }
    }
    return;
}

/* CLEANPLACEMENT */ void sub_13501(unknown uParam0)
{
    if ((DOES_PLACEMENT_EXIST( uParam0 )) == 1)
    {
        REMOVE_PLACEMENT( uParam0 );
    }
    return;
}

/* CLEANPLACEMENTARRAY */ void sub_13565(unknown uParam0)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
         /* CLEANPLACEMENT */ sub_13501( (uParam0^)[I] );
    }
    return;
}

/* CLEANPEDARRAY */ void sub_13648(unknown uParam0)
{
    int I;

    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
         /* CLEANPED */ sub_13698( (uParam0^)[I] );
    }
    return;
}

/* CLEANPED */ void sub_13698(unknown uParam0)
{
    if (DOES_PED_EXIST( uParam0 ))
    {
        if ((NOT (IS_PED_DEAD( uParam0 ))) || (IS_PED_DEAD( uParam0 )))
        {
            REMOVE_ALL_PED_WEAPONS( uParam0 );
            DELETE_PED( ref uParam0 );
        }
    }
    return;
}

/* CLEANOBJECT */ void sub_13816(unknown uParam0)
{
    if (DOES_OBJECT_EXIST( uParam0 ))
    {
        DELETE_OBJECT( ref uParam0 );
    }
    return;
}

/* UNLOADMODEL */ void sub_14002(unknown uParam0)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 1)
    {
        SET_MODEL_AS_NO_LONGER_NEEDED( uParam0 );
    }
    else
    {
         /* WRITE_STRING */ sub_8123( "[SP]### ERROR! (UnloadModel) Trying to unload a model that isn't in the img! ###" );
    }
    return;
}

/* P_STOP_SP_CHALLENGES */ void sub_14206()
{
     /* WRITESCRIPTLOG */ sub_452( "CCB", "P_STOP_SP_CHALLENGES", 0 );
     /* WRITESCRIPTLOG */ sub_452( "CCB", "Stopping the Favela_Drug_Den context...", 0 );
    END_CONTEXT( "Favela_Drug_Den" );
    return;
}

/* P_HANDLE_EVENTS */ void sub_14675()
{
     /* P_HANDLE_SP_CHALLENGES */ sub_14703();
    switch (l_U80)
    {
        case 0:
        if (g_U1049 < 9)
        {
             /* P_LOAD_PRE_CUTSCENE_ASSESTS */ sub_15089( 0 );
            l_U80 = 2;
        }
        else
        {
            DO_SCREEN_FADE_OUT( 0 );
             /* P_REQUEST_GAMEPLAY_ASSETS */ sub_16339();
            l_U80 = 1;
        }
         /* P_RESET_MAX_CONTEXTUAL_DIALOGUE */ sub_16727();
         /* SETUP_SCRIPTED_SPEECH */ sub_16846( "SFV1AUD" );
        break;
        case 1:
        if ( /* F_ARE_GAMEPLAY_ASSETS_LOADED */ sub_17014())
        {
            l_U442 = DOOR_FIND_CLOSEST( g_U1671._fU0, g_U1671._fU4 );
             /* P_SETUP_COCAINE_ROOM */ sub_17250();
             /* P_CREATE_COCAINE_WAV1 */ sub_20309();
            l_U80 = 4;
        }
        break;
        case 2:
        if ((DOES_OBJECT_EXIST( l_U442 )) == 0)
        {
            l_U442 = DOOR_FIND_CLOSEST( g_U1671._fU0, g_U1671._fU4 );
             /* WRITESCRIPTLOG */ sub_452( "NS", "waiting for handle to door", 0 );
        }
        if ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_20878( ref l_U147, 0 ))
        {
            g_U768 = 0;
             /* P_CREATE_CUTSCENE_PEDS */ sub_21086();
             /* P_CREATE_COCAINE_WAV1 */ sub_20309();
            l_U80 = 3;
        }
        break;
        case 3:
        if (( /* F_HANDLE_MID_05B_FAV1 */ sub_21828()) == 1)
        {
            l_U80 = 4;
            break;
        }
        return;
        case 4:
         /* P_ACTIVATEPEDARRAY */ sub_24872( ref l_U356 );
        if (DOES_OBJECT_EXIST( g_U856 ))
        {
            SET_OBJECT_VISIBLE( g_U856, 1 );
        }
        if (NOT (IS_PED_DEAD( l_U356[2] )))
        {
            TASK_COMBAT_SNAP_TO_COVER( l_U356[2], "GenCover", "220971D_D680D911_Popover1", 0 );
            SET_PED_FLAG_LOCK_TO_COVER( l_U356[2], 1 );
        }
        if (NOT (IS_PED_DEAD( l_U356[3] )))
        {
            TASK_COMBAT_SNAP_TO_COVER( l_U356[3], "SCRIPT", "CP_Table", 0 );
            SET_PED_FLAG_LOCK_TO_COVER( l_U356[3], 1 );
        }
        if (g_U1049 == 9)
        {
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )))
            {
                 /* WRITESCRIPTLOG */ sub_452( "NS", "Player not playing the blend out iseq", 0 );
                 /* TELEPORTPED */ sub_25360(  /* PLAYER_PED_ID */ sub_3239(), -69.17973000, -27.61078000, 13.77209000, -90.00000000 );
                if (NOT (IS_PED_IN_COVER(  /* PLAYER_PED_ID */ sub_3239() )))
                {
                    SNAP_PLAYER_TO_COVERPOINT(  /* PLAYER_ID */ sub_3193(), "GenCover", "220971D_9C79663B_Corner2", 0 );
                }
                ISEQ_REGISTER_ENTITY( 1285840791, "player",  /* PLAYER_PED_ID */ sub_3239(), 0 );
                l_U104 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_3239(), 0, 0 );
                if ( /* IS_WEAPON_TWO_HANDED */ sub_25553( l_U104 ))
                {
                    PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3239(), 48, 5000, 0.00000000, 0.00000000, 0.00000000 );
                }
                else
                {
                    PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3239(), 47, 5000, 0.00000000, 0.00000000, 0.00000000 );
                }
            }
             /* P_CLOSEDOOR */ sub_4130( ref g_U1671, 1 );
            if (DOES_OBJECT_EXIST( g_U856 ))
            {
                SET_OBJECT_COORDS( g_U856, g_U857 );
                SET_OBJECT_ROTATION( g_U856, g_U860 );
            }
            ISEQ_REGISTER_ENTITY( 1285840791, "ENEMY0", l_U356[0], 0 );
            ISEQ_REGISTER_ENTITY( 1285840791, "ENEMY1", l_U356[2], 0 );
            ISEQ_REGISTER_ENTITY( 1285840791, "ENEMY2", l_U356[1], 0 );
            ISEQ_REGISTER_ENTITY( 1285840791, "ENEMY3", l_U356[3], 0 );
            ISEQ_REGISTER_ENTITY( 1285840791, "TABLE", g_U856, 1 );
            ISEQ_REGISTER_ENTITY( 1285840791, "DOOR", l_U435, 1 );
            if (DOES_OBJECT_EXIST( g_U856 ))
            {
                SET_OBJECT_VISIBLE( g_U856, 1 );
            }
            if (NOT (IS_PED_DEAD( l_U356[2] )))
            {
                TASK_COMBAT_SNAP_TO_COVER( l_U356[2], "GenCover", "220971D_D680D911_Popover1", 0 );
                SET_PED_FLAG_LOCK_TO_COVER( l_U356[2], 1 );
            }
            if (NOT (IS_PED_DEAD( l_U356[3] )))
            {
                TASK_COMBAT_SNAP_TO_COVER( l_U356[3], "SCRIPT", "CP_Table", 0 );
                SET_PED_FLAG_LOCK_TO_COVER( l_U356[3], 1 );
            }
            ISEQ_START( 1285840791 );
        }
        PLAY_SCRIPT_STREAM_FRONTEND( 1 );
         /* CREATETIMER */ sub_4636( ref l_U417, 3000, 1, 0 );
         /* STARTTIMER */ sub_11727( ref l_U417 );
         /* CREATETIMER */ sub_4636( ref l_U426, 4500, 1, 0 );
         /* STARTTIMER */ sub_11727( ref l_U417 );
        CAMERA_PLAY_ANIMATED( "LEVEL_S_FAV1_CP_07", "B_OUT_MID_05B_F1_CAM", 1, -69.20100000, -29.65921000, 15.42400000, 180.00000000, 0, 0 );
         /* WRITESCRIPTLOG */ sub_452( "NS", "Setting Hud Off", 0 );
        DISPLAY_HUD( 0 );
        l_U80 = 5;
        break;
        case 5:
         /* P_START_GAMEPLAY */ sub_26556();
         /* STARTTIMER */ sub_11727( ref l_U408 );
        if ((l_U43._fU0 == 0) || (g_U1049 < 9))
        {
            g_U1049 = 9;
             /* P_SAVE_PLAYER_DATA_CHECKPOINT */ sub_26979( ref l_U43, g_U1049,  /* PLAYER_PED_ID */ sub_3239(), g_U1050[9], g_U1174[9], g_U1216[9], g_U1258[9], 1 );
        }
        l_U80 = 6;
        break;
        case 6:
        if ( /* ISTIMERDONE */ sub_11858( ref l_U417 ))
        {
            if (NOT (IS_PED_DEAD( l_U356[2] )))
            {
                SET_PED_FLAG_LOCK_TO_COVER( l_U356[2], 0 );
            }
        }
        if ( /* ISTIMERDONE */ sub_11858( ref l_U426 ))
        {
            if (NOT (IS_PED_DEAD( l_U356[3] )))
            {
                SET_PED_FLAG_LOCK_TO_COVER( l_U356[3], 0 );
            }
        }
        if ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_20878( ref l_U168, 0 ))
        {
            if (NOT (IS_PED_DEAD( l_U356[2] )))
            {
                SET_PED_FLAG_LOCK_TO_COVER( l_U356[2], 0 );
            }
            if (NOT (IS_PED_DEAD( l_U356[3] )))
            {
                SET_PED_FLAG_LOCK_TO_COVER( l_U356[3], 0 );
            }
            if (l_U396 == 0)
            {
                 /* P_ACTION_COCAINE_WAV1 */ sub_31791();
                l_U396 = 1;
            }
            g_U778 = 1;
        }
        if (l_U396 == 0)
        {
            if (( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_32030( ref l_U356 )) == 0)
            {
                 /* P_ACTION_COCAINE_WAV1 */ sub_31791();
                l_U396 = 1;
            }
        }
        if (l_U468)
        {
            if (((TO_FLOAT( CAMERA_ANIMATED_CURRENT_TIME() )) / (TO_FLOAT( CAMERA_ANIMATED_LENGTH( "LEVEL_S_FAV1_CP_07", "B_OUT_MID_05B_F1_CAM" ) ))) > 0.53737700)
            {
                SET_GAMEPLAY_CAM_RELATIVE_HEADING( 85.00000000, 1065353216, 0 );
                SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0, 1065353216, 0 );
                if (DOES_OBJECT_EXIST( l_U442 ))
                {
                    SET_OBJECT_VISIBLE( l_U442, 1 );
                    SET_OBJECT_COLLISION( l_U442, 1 );
                }
                 /* CLEANOBJECT */ sub_13816( l_U435 );
                 /* P_OPENDOOR */ sub_19380( ref g_U1671, 1, 1, 0.72500000 );
                CAMERA_ANIMATED_STOP( 1000, 1 );
                 /* STARTTIMER */ sub_11727( ref l_U399 );
                l_U468 = 0;
            }
        }
        if (l_U469 == 1)
        {
            if ((ISEQ_QUERY_STATE( 1285840791, 3 )) == 0)
            {
                 /* WRITESCRIPTLOG */ sub_452( "NS", "update table flip", 0 );
                if (DOES_OBJECT_EXIST( g_U856 ))
                {
                     /* WRITESCRIPTLOG */ sub_452( "NS", "table exists", 0 );
                    FORCE_UPDATE_OBJECT_PHYSICAL_STATE( g_U856 );
                    l_U469 = 0;
                }
            }
        }
        if ( /* ISTIMERDONE */ sub_11858( ref l_U408 ))
        {
             /* WRITESCRIPTLOG */ sub_452( "SA", "ONESHOT", 0 );
            AUDIO_MUSIC_PLAY_ONESHOT();
        }
        if ( /* ISTIMERDONE */ sub_11858( ref l_U399 ))
        {
            DISPLAY_HUD( 1 );
            if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_3193() )))
            {
                SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3193(), 1, 0 );
            }
        }
        if (l_U466 == 0)
        {
            if ( /* F_ASSIGN_BULLET_CAM_TO_LAST_COCAINE_ENEMY */ sub_32614())
            {
                l_U466 = 1;
            }
        }
        if ((IS_BULLET_CAMERA_ACTIVE() == 0) AND ((( /* F_GET_NUM_LIVING_COCAINE_ENEMIES */ sub_32668()) == 0) AND (l_U466 == 1)))
        {
            l_U467 = 1;
            l_U466 = 0;
             /* P_SET_POI_AVAILABLE */ sub_4977( ref l_U484, 1 );
             /* STARTTIMER */ sub_11727( ref l_U605 );
             /* STARTTIMER */ sub_11727( ref l_U614 );
        }
        if ( /* ISTIMERDONE */ sub_11858( ref l_U605 ))
        {
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )))
            {
                if ((IS_PLAYER_CONTROL_ON(  /* PLAYER_ID */ sub_3193() )) AND (NOT (IS_SCRIPTED_SPEECH_PLAYING(  /* PLAYER_PED_ID */ sub_3239() ))))
                {
                     /* RESET_SCRIPT_SPEECH_STRUCT */ sub_33236( ref l_U585 );
                     /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_33347( 0,  /* PLAYER_PED_ID */ sub_3239(), "MAX", ref l_U585, 2, 0 );
                     /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_33347( 1,  /* PLAYER_PED_ID */ sub_3239(), "MAX", ref l_U585, 2, 0 );
                     /* PLAY_SINGLE_SPEECH */ sub_33617( "SFV1_MXDRWDG", ref l_U585, 2, 1 );
                }
            }
        }
        if ( /* ISTIMERDONE */ sub_11858( ref l_U614 ))
        {
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )))
            {
                if ((IS_PLAYER_CONTROL_ON(  /* PLAYER_ID */ sub_3193() )) AND (NOT (IS_SCRIPTED_SPEECH_PLAYING(  /* PLAYER_PED_ID */ sub_3239() ))))
                {
                     /* RESET_SCRIPT_SPEECH_STRUCT */ sub_33236( ref l_U595 );
                     /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_33347( 0,  /* PLAYER_PED_ID */ sub_3239(), "MAX", ref l_U595, 2, 0 );
                     /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_33347( 1,  /* PLAYER_PED_ID */ sub_3239(), "MAX", ref l_U595, 2, 0 );
                     /* PLAY_SINGLE_SPEECH */ sub_33617( "SFV1_DTLDRG", ref l_U595, 2, 1 );
                }
            }
        }
        if (( /* F_POI_CAN_PLAY_UNAVALIABLE_MONO */ sub_34663( ref l_U484 )) == 1)
        {
             /* RESET_SCRIPT_SPEECH_STRUCT */ sub_33236( ref l_U474 );
             /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_33347( 0,  /* PLAYER_PED_ID */ sub_3239(), "MAX", ref l_U474, 2, 0 );
             /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_33347( 1,  /* PLAYER_PED_ID */ sub_3239(), "MAX", ref l_U474, 2, 0 );
             /* PLAY_SINGLE_SPEECH */ sub_33617( "EXPLORE_ITEM", ref l_U474, 8, 1 );
        }
        if ( /* F_HANDLE_POI */ sub_35080( ref l_U484 ))
        {
            if ( /* IS_SPEECH_CURRENTLY_PLAYING */ sub_13067( l_U585 ))
            {
                 /* KILL_SPEECH */ sub_13295( ref l_U585, 0 );
            }
            else if ((NOT l_U605._fU16) AND (l_U605._fU20))
            {
                 /* WRITESCRIPTLOG */ sub_452( "SA", "pausing tmrSFV1_MXDRWDG", 0 );
                 /* PAUSETIMER */ sub_36927( ref l_U605, 1 );
            }
            if ( /* IS_SPEECH_CURRENTLY_PLAYING */ sub_13067( l_U595 ))
            {
                 /* KILL_SPEECH */ sub_13295( ref l_U595, 0 );
            }
            else if ((NOT l_U614._fU16) AND (l_U614._fU20))
            {
                 /* WRITESCRIPTLOG */ sub_452( "SA", "pausing tmrSFV1_DTLDRG", 0 );
                 /* PAUSETIMER */ sub_36927( ref l_U614, 1 );
            }
            if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_3193() )))
            {
                SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3193(), 0, 0 );
            }
            DISPLAY_HUD( 0 );
            CAMERA_PLAY_ANIMATED( "EXPL_CAM", "EXPL_CAM_GND_25_F_CAM", 1, l_U580, l_U583, 0, 0 );
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )))
            {
                SET_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_3239(), 0 );
            }
            if (NOT (HAS_EXPLORATION_ITEM_BEEN_FOUND( "sfav1_Oxidado" )))
            {
                FOUND_EXPLORATION_ITEM( "sfav1_Oxidado" );
                 /* KILL_ANY_MISSION_SPEECH */ sub_11303( 0 );
                 /* RESET_SCRIPT_SPEECH_STRUCT */ sub_33236( ref l_U570 );
                 /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_33347( 0,  /* PLAYER_PED_ID */ sub_3239(), "MAX", ref l_U570, 2, 0 );
                 /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_33347( 1,  /* PLAYER_PED_ID */ sub_3239(), "MAX", ref l_U570, 2, 0 );
                 /* PLAY_SINGLE_SPEECH */ sub_33617( "SFV1_OXDADA", ref l_U570, 8, 1 );
            }
            l_U584 = 1;
        }
        if (l_U584 == 1)
        {
            if (CAMERA_ANIMATED_CURRENT_TIME() > ((CAMERA_ANIMATED_LENGTH( "EXPL_CAM", "EXPL_CAM_GND_25_F_CAM" )) - 200))
            {
                if ((NOT l_U614._fU16) AND (l_U614._fU8 > 0))
                {
                     /* WRITESCRIPTLOG */ sub_452( "SA", "resuming tmrSFV1_DTLDRG", 0 );
                     /* RESETTIMER */ sub_5125( ref l_U614 );
                     /* STARTTIMER */ sub_11727( ref l_U614 );
                }
                if ((NOT l_U605._fU16) AND (l_U605._fU8 > 0))
                {
                     /* WRITESCRIPTLOG */ sub_452( "SA", "resuming tmrSFV1_MXDRWDG", 0 );
                     /* RESETTIMER */ sub_5125( ref l_U605 );
                     /* STARTTIMER */ sub_11727( ref l_U605 );
                }
                if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )))
                {
                    SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3193(), 1, 0 );
                    SET_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_3239(), 1 );
                }
                CAMERA_ANIMATED_STOP( 0, 0 );
                DISPLAY_HUD( 1 );
                 /* P_ENABLE_POI */ sub_2796( ref l_U484, 1 );
                l_U584 = 0;
            }
        }
        if (l_U467 == 1)
        {
            if ( /* F_ISPLAYERINTRIGGERBOX */ sub_37872( l_U105 ))
            {
                if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )))
                {
                    if ((GET_IS_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_3239() )) == 0)
                    {
                        SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_3239(), 1 );
                    }
                }
            }
            else if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )))
            {
                if ((GET_IS_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_3239() )) == 1)
                {
                    SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_3239(), 0 );
                }
            }
            if ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_20878( ref l_U126, 0 ))
            {
                if (IS_BULLET_CAMERA_ACTIVE() == 0)
                {
                    g_U783 = 1;
                     /* CREATETIMER */ sub_4636( ref l_U189, 2000, 1, 0 );
                     /* STARTTIMER */ sub_11727( ref l_U189 );
                }
            }
            if (( /* ISTIMERDONE */ sub_11858( ref l_U189 )) == 1)
            {
                g_U770 = 0;
                l_U467 = 0;
            }
             /* P_HANDLE_MAX_CONTEXTUAL_DIALOGUE */ sub_38125( 1 );
        }
        if (DOES_SPATIALDATA_COVER_POINT_EXIST( l_U444 ))
        {
            if (HAS_OBJECT_BEEN_DAMAGED( g_U856 ))
            {
                if (NOT (IS_PED_DEAD( l_U356[3] )))
                {
                    SET_PED_FLAG_LOCK_TO_COVER( l_U356[3], 0 );
                }
                REMOVE_SPATIALDATA_COVER_POINT( l_U444 );
            }
        }
         /* P_SET_COCAINE_DOORS */ sub_38660();
        break;
    }
    return;
}

/* P_HANDLE_SP_CHALLENGES */ void sub_14703()
{
    switch (l_U623)
    {
        case 0:
         /* WRITESCRIPTLOG */ sub_452( "CCB", "eTheTurtle - STATE_CHALLENGE_IDLE", 0 );
        l_U623 = 1;
        break;
        case 1:
        if (l_U80 >= 6)
        {
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )))
            {
                if (NOT (IS_PED_USING_MP3_COVER_TASK(  /* PLAYER_PED_ID */ sub_3239() )))
                {
                     /* WRITESCRIPTLOG */ sub_452( "CCB", "The player ped is not using cover...", 0 );
                     /* WRITESCRIPTLOG */ sub_452( "CCB", "eTheTurtle - STATE_CHALLENGE_COMPLETE", 0 );
                    l_U623 = 2;
                }
            }
        }
        break;
        case 2: break;
    }
    return;
}

/* P_LOAD_PRE_CUTSCENE_ASSESTS */ void sub_15089(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_452( "NS", "P_LOAD_PRE_CUTSCENE_ASSESTS", 0 );
     /* LOADMODEL */ sub_15177( -107944300, uParam0 );
     /* LOADMODEL */ sub_15177( 1156505411, uParam0 );
     /* LOADMODEL */ sub_15177( 1907001043, uParam0 );
     /* LOADMODEL */ sub_15177( -1193489045, uParam0 );
     /* LOADMODEL */ sub_15177( -502497534, uParam0 );
     /* LOADSEAMLESSCUTSCENE */ sub_15494( "MID_05b_FAV1_concat", uParam0 );
     /* LOADISEQ */ sub_15841( 1285840791, uParam0 );
     /* LOADANIMDICT */ sub_16146( "EXPL_CAM", 0, 0 );
    return;
}

/* LOADMODEL */ void sub_15177(unknown uParam0, boolean bParam1)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
         /* WRITE_STRING */ sub_8123( "[SP]### ERROR! (LoadModel) Trying to load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    if (bParam1)
    {
        while ((HAS_MODEL_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* LOADSEAMLESSCUTSCENE */ void sub_15494(unknown uParam0, int iParam1)
{
    if (HAS_CUTSCENE_LOADED())
    {
        if (NOT (CUTSCENE_IS_LOADED( uParam0 )))
        {
            SCRIPT_ASSERT( "Another cutscene is already loaded.  You can only load one cutscene into memory.  Your current cutscene will not load into memory.", 0 );
        }
    }
    if (NOT (CUTSCENE_IS_LOADED( uParam0 )))
    {
        PRE_STREAM_SEAMLESS_CUTSCENE( uParam0 );
        if (iParam1 == 1)
        {
            while ((CUTSCENE_IS_LOADED( uParam0 )) == 0)
            {
                DISPLAYF( "[SP]### Waiting for seamless cutscene to load: {} ###", 1, 1537, uParam0 );
                WAIT( 0 );
            }
        }
    }
    return;
}

/* LOADISEQ */ void sub_15841(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to load does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 0)
    {
        ISEQ_REQUEST( uParam0 );
        ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
        if (iParam1 == 1)
        {
            while ((ISEQ_QUERY_STATE( uParam0, 1 )) == 1)
            {
                DISPLAYF( "[SP]### Waiting for interactive sequence to be loaded: {0} {1} ###", 2, 1281, ref uVar4, 513, uParam0 );
                WAIT( 0 );
            }
        }
    }
    return;
}

/* LOADANIMDICT */ void sub_16146(unknown uParam0, unknown uParam1, int iParam2)
{
    REQUEST_ANIM_DICT( uParam0, uParam1 );
    "[doubled result, dropped if not asigned]";
    if (iParam2 == 1)
    {
        while ((HAS_ANIM_DICT_LOADED( uParam0, uParam1 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an animation dictionary to be loaded: {} ###", 1, 1537, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* P_REQUEST_GAMEPLAY_ASSETS */ void sub_16339()
{
     /* WRITESCRIPTLOG */ sub_452( "NS", "P_REQUEST_GAMEPLAY_ASSETS", "###" );
     /* LOADMODEL */ sub_15177( -107944300, 0 );
     /* LOADMODEL */ sub_15177( 1156505411, 0 );
     /* LOADMODEL */ sub_15177( 1907001043, 0 );
     /* LOADMODEL */ sub_15177( -1193489045, 0 );
     /* LOADMODEL */ sub_15177( -502497534, 0 );
     /* LOADISEQ */ sub_15841( 1285840791, 0 );
     /* LOADANIMDICT */ sub_16146( "EXPL_CAM", 0, 0 );
     /* LOADSCRIPTSTREAM */ sub_16539( "S_FAV1_MID_05B_FAV1_BLENDOUT_", 1, 0 );
    return;
}

/* LOADSCRIPTSTREAM */ void sub_16539(unknown uParam0, unknown uParam1, int iParam2)
{
    if (iParam2 == 0)
    {
        REQUEST_SCRIPT_STREAM( uParam0, uParam1 );
    }
    else
    {
        while ((LOAD_SCRIPT_STREAM( uParam0, uParam1 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for script stream to be loaded: {} : {} ###", 2, 1537, uParam0, 513, uParam1 );
            WAIT( 0 );
        }
    }
    return;
}

/* P_RESET_MAX_CONTEXTUAL_DIALOGUE */ void sub_16727()
{
     /* WRITESCRIPTLOG */ sub_452( "NS", "P_RESET_MAX_CONTEXTUAL_DIALOGUE", 0 );
    l_U41 = 0;
    l_U42 = 0;
    return;
}

/* SETUP_SCRIPTED_SPEECH */ void sub_16846(unknown uParam0)
{
    StrCopy( ref g_U157._fU0, uParam0, 16 );
     /* CLEARPEDCONVERSATIONDATA */ sub_16890();
    return;
}

/* CLEARPEDCONVERSATIONDATA */ void sub_16890()
{
    int I;

    for ( I = 0; I <= 8; I++ )
    {
        g_U157._fU16[I]._fU0 = nil;
        g_U157._fU16[I]._fU4 = 0;
        g_U157._fU92[I] = 0;
    }
    return;
}

/* F_ARE_GAMEPLAY_ASSETS_LOADED */ int sub_17014()
{
    if (((LOAD_SCRIPT_STREAM( "S_FAV1_MID_05B_FAV1_BLENDOUT_", 1 )) == 1) AND (((HAS_ANIM_DICT_LOADED( "EXPL_CAM", 0 )) == 1) AND (((ISEQ_QUERY_STATE( 1285840791, 2 )) == 1) AND ((HAS_MODEL_LOADED( -502497534 )) AND ((HAS_MODEL_LOADED( -1193489045 )) AND ((HAS_MODEL_LOADED( 1907001043 )) AND ((HAS_MODEL_LOADED( 1156505411 )) AND (HAS_MODEL_LOADED( -107944300 )))))))))
    {
        return 1;
    }
    return 0;
}

/* P_SETUP_COCAINE_ROOM */ void sub_17250()
{
    int I;
    unknown uVar3;

     /* WRITESCRIPTLOG */ sub_452( "SP", "P_SETUP_COCAINE_ROOM", "###" );
     /* P_SETUP_AI_GROUP */ sub_17332( ref l_U297, 1056964608, 0 );
     /* CLEANPEDARRAY */ sub_13648( ref l_U356 );
    for ( I = 0; I < 4; I++ )
    {
        l_U356[I] =  /* CREATEPED */ sub_17746( ref l_U303[I] );
        if (NOT (IS_PED_DEAD( l_U356[I] )))
        {
            SET_ROOM_FOR_PED_BY_NAME( l_U356[I], ref g_U1759 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U356[I], 1 );
            SET_PED_AI_TEMPLATE( l_U356[I], ref g_U1791 );
            SET_PED_ALERTNESS( l_U356[I], 4 );
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )))
            {
                REGISTER_TARGET( l_U356[I],  /* PLAYER_PED_ID */ sub_3239() );
            }
             /* P_QUICK_ADD_PED_TO_GROUP */ sub_18611( l_U356[I], ref l_U297 );
        }
    }
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )))
    {
        if (NOT (IS_PED_DEAD( l_U356[2] )))
        {
            SET_PED_PRIMARY_LOOKAT( l_U356[2],  /* PLAYER_PED_ID */ sub_3239() );
        }
    }
    l_U361[0] =  /* F_GIVEPEDWEAPON */ sub_8514( l_U356[0], 1194438308, 25000, 0, 1 );
    l_U361[1] =  /* F_GIVEPEDWEAPON */ sub_8514( l_U356[1], 1194438308, 25000, 0, 1 );
    l_U361[2] =  /* F_GIVEPEDWEAPON */ sub_8514( l_U356[2], 1194438308, 25000, 0, 1 );
    l_U361[3] =  /* F_GIVEPEDWEAPON */ sub_8514( l_U356[3], 1194438308, 25000, 0, 1 );
     /* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ sub_19202( ref l_U356, "piCocaine" );
    uVar3 = GET_INTERIOR_AT_COORDS( -66.88000000, -17.42000000, 13.79000000 );
    SET_INTERIOR_ACTIVE( uVar3, 1, 0 );
     /* P_OPENDOOR */ sub_19380( ref g_U1671, 1, 1, 0.72500000 );
    if (DOES_OBJECT_EXIST( l_U442 ))
    {
        SET_OBJECT_VISIBLE( l_U442, 0 );
        SET_OBJECT_COLLISION( l_U442, 0 );
    }
    if (NOT (DOES_OBJECT_EXIST( g_U856 )))
    {
        g_U856 =  /* CREATEOBJECTNOOFFSET */ sub_19620( 1907001043, g_U857, g_U860, 1, 1, 0 );
        if ((DOES_OBJECT_EXIST( g_U856 )) == 1)
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( g_U856, ref g_U1759 );
            SET_OBJECT_COLLISION( g_U856, 1 );
            SET_OBJECT_AS_FLIPPABLE_TABLE( g_U856, 1 );
            SET_OBJECT_VISIBLE( g_U856, 0 );
        }
    }
    if (NOT (DOES_OBJECT_EXIST( l_U435 )))
    {
        l_U435 =  /* CREATEOBJECTNOOFFSET */ sub_19620( -107944300, l_U436, l_U439, 0, 1, 0 );
        if ((DOES_OBJECT_EXIST( l_U435 )) == 1)
        {
            SET_OBJECT_COLLISION( l_U435, 0 );
            FREEZE_OBJECT_POSITION( l_U435, 1 );
        }
    }
     /* P_DEACTIVATEPEDARRAY */ sub_20107( ref l_U356 );
    l_U396 = 0;
    return;
}

/* P_SETUP_AI_GROUP */ void sub_17332(int iParam0, unknown uParam1, boolean bParam2)
{
    iParam0->_fU4 = uParam1;
    iParam0->_fU0 = CREATE_GROUP( 3, 1 );
    if (bParam2)
    {
        PRINTSTRING( "[MSWW]### P_SETUP_AI_GROUP TOLD TO WAIT FOR GROUP TO EXIST ###" );
        PRINTNL();
        while (NOT (DOES_GROUP_EXIST( iParam0->_fU0 )))
        {
            WAIT( 0 );
            PRINTSTRING( "[MSWW]### GROUP ###" );
            PRINTNL();
        }
        PRINTSTRING( "[MSWW]### P_SETUP_AI_GROUP created group with ID: " );
        PRINTINT( iParam0->_fU0 );
        PRINTNL();
    }
    SET_GROUP_RATIO_FIRING_AT_VISIBLE( iParam0->_fU0, iParam0->_fU4 );
    SET_GROUP_RATIO_FIRING_AT_INVISIBLE( iParam0->_fU0, iParam0->_fU4 );
    if (iParam0->_fU8)
    {
        SET_GROUP_FORMATION( iParam0->_fU0, iParam0->_fU12 );
        SET_GROUP_FORMATION_SPACING( iParam0->_fU0, iParam0->_fU16 );
        SET_GROUP_FORMATION_MAX_MOVE_SPEED( iParam0->_fU0, iParam0->_fU20 );
    }
    return;
}

/* CREATEPED */ void sub_17746(int iParam0)
{
    int iVar3;

    iVar3 = 0;
    if (iParam0->_fU16 == 0)
    {
        if (iParam0->_fU20 != 0)
        {
            iVar3 = GET_SCENE_PED_MODEL( iParam0->_fU20 );
        }
    }
    else
    {
        iVar3 = iParam0->_fU16;
    }
    if ((HAS_MODEL_LOADED( iVar3 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_15177( iParam0->_fU16, 1 );
    }
    iParam0->_fU40 = CREATE_PED( iParam0->_fU24, iParam0->_fU16, iParam0->_fU0, iParam0->_fU12, 1, iParam0->_fU48 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( iParam0->_fU40, 1 );
        SET_PED_COORDS_NO_OFFSET( iParam0->_fU40, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU40 ) );
        SET_PED_HEADING( iParam0->_fU40, iParam0->_fU12 );
        iParam0->_fU44 = 1;
    }
    else
    {
        SCRIPT_ASSERT( "Error: The ped you created doesn't exist or is dead!", 0 );
    }
     /* SETPEDDEFAULTSTATS */ sub_18237( iParam0->_fU40 );
     /* SETPEDDEFAULTTEMPLATE */ sub_18338( iParam0->_fU40 );
    return iParam0->_fU40;
}

/* SETPEDDEFAULTSTATS */ void sub_18237(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_HEALTH( uParam0, 200, 0 );
        SET_PED_ACCURACY( uParam0, -729479261 );
    }
    return;
}

/* SETPEDDEFAULTTEMPLATE */ void sub_18338(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_AI_TEMPLATE( uParam0, "AIT_DEFAULT_GENERIC" );
    }
    return;
}

/* P_QUICK_ADD_PED_TO_GROUP */ void sub_18611(unknown uParam0, int iParam1)
{
    int iVar4;
    unknown uVar5;

    if ((DOES_GROUP_EXIST( iParam1->_fU0 )) == 0)
    {
         /* WRITE_STRING */ sub_8123( "[SP]### Warning!!! Group does not exist. Creating new group specified attributes. ###" );
        if (iParam1->_fU4 > 0)
        {
             /* P_SETUP_AI_GROUP */ sub_17332( iParam1, iParam1->_fU4, 0 );
        }
        else
        {
             /* P_SETUP_AI_GROUP */ sub_17332( iParam1, 1056964608, 0 );
        }
    }
    else
    {
        PRINTSTRING( "[MSWW]### P_QUICK_ADD_PED_TO_GROUP adding ped to group with ID: " );
        PRINTINT( iParam1->_fU0 );
        PRINTNL();
    }
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        GET_GROUP_SIZE( iParam1->_fU0, ref iVar4, ref uVar5 );
        if (iVar4 == 0)
        {
            SET_PED_AS_GROUP_LEADER( uParam0, iParam1->_fU0 );
        }
        else
        {
            SET_PED_AS_GROUP_MEMBER( uParam0, iParam1->_fU0 );
        }
        SET_PED_NEVER_LEAVES_GROUP( uParam0, 1 );
    }
    return;
}

/* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ void sub_19202(unknown uParam0, unknown uParam1)
{
    int I;
    char[32] cVar5;

    for ( I = 0; I < (uParam0^); I++ )
    {
        if (DOES_PED_EXIST( (uParam0^)[I] ))
        {
            StrCopy( ref cVar5, uParam1, 32 );
            ConcatString(ref cVar5, " ", 32);
            ConcatString(ref cVar5, I, 32);
            SET_PED_NAME_DEBUG( (uParam0^)[I], ref cVar5 );
        }
    }
    return;
}

/* P_OPENDOOR */ void sub_19380(int iParam0, int iParam1, int iParam2, unknown uParam3)
{
    float fVar6;

    if (( /* F_DOESDOOREXIST */ sub_4156( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_4240( iParam0 );
    }
    fVar6 = 0.00000000;
    if (iParam1 == 1)
    {
        fVar6 = uParam3;
    }
    else
    {
        fVar6 = -uParam3;
    }
    if (iParam2 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, fVar6 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar6 );
    }
    else
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar6 );
    }
    return;
}

/* CREATEOBJECTNOOFFSET */ void sub_19620(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_15177( uParam0, 1 );
    }
    Result = CREATE_OBJECT_NO_OFFSET( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an object to exist: {!f1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

/* P_DEACTIVATEPEDARRAY */ void sub_20107(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
         /* P_DEACTIVATEPED */ sub_20161( (uParam0^)[I] );
    }
    return;
}

/* P_DEACTIVATEPED */ void sub_20161(unknown uParam0)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_FREEZE_PROCESSING( uParam0, 1 );
        SET_PED_VISIBLE( uParam0, 0 );
        SET_PED_VISIBLE_DURING_SEQUENCE( uParam0, 0 );
        FREEZE_PED_POSITION( uParam0, 1 );
        SET_PED_COLLISION( uParam0, 0 );
        SET_PED_PROOFS( uParam0, 1, 1, 1, 1, 1 );
    }
    return;
}

/* P_CREATE_COCAINE_WAV1 */ void sub_20309()
{
    int I;

     /* WRITESCRIPTLOG */ sub_452( "NS", "P_CREATE_COCAINE_WAV1()", 0 );
     /* CLEANPEDARRAY */ sub_13648( ref l_U393 );
    for ( I = 0; I < 2; I++ )
    {
        if (I != 0)
        {
            l_U393[I] =  /* CREATEPED */ sub_17746( ref l_U366[I] );
        }
        if (NOT (IS_PED_DEAD( l_U393[I] )))
        {
            SET_ROOM_FOR_PED_BY_NAME( l_U393[I], ref g_U1759 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U393[I], 1 );
            SET_PED_AI_TEMPLATE( l_U393[I], ref g_U1791 );
            SET_PED_ALERTNESS( l_U393[I], 4 );
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )))
            {
                REGISTER_TARGET( l_U393[I],  /* PLAYER_PED_ID */ sub_3239() );
            }
             /* P_TETHERPED */ sub_20581( ref l_U198, l_U393[I], 1 );
             /* P_QUICK_ADD_PED_TO_GROUP */ sub_18611( l_U393[I], ref l_U297 );
        }
    }
     /* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ sub_19202( ref l_U393, "piCocaineWav1" );
     /* F_GIVEPEDWEAPON */ sub_8514( l_U393[0], g_U1819, 25000, 0, 0 );
     /* F_GIVEPEDWEAPON */ sub_8514( l_U393[1], g_U1819, 25000, 0, 0 );
    return;
}

/* P_TETHERPED */ void sub_20581(int iParam0, unknown uParam1, unknown uParam2)
{
    if (((IS_PED_DEAD( uParam1 )) == 0) AND ((DOES_PED_EXIST( uParam1 )) == 1))
    {
        SET_PED_TETHERING_ADD_BOX( uParam1, iParam0->_fU0 );
        SET_PED_TETHERING_OPTION( uParam1, uParam2 );
    }
    return;
}

/* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ void sub_20878(int iParam0, unknown uParam1)
{
    if (iParam0->_fU64 == 1)
    {
        return 0;
    }
    else
    {
        iParam0->_fU64 =  /* F_ISPEDINTRIGGERBOX */ sub_20954(  /* PLAYER_PED_ID */ sub_3239(), (iParam0^) );
        if ((iParam0->_fU64) AND (uParam1))
        {
            GAMEPLAY_HELPER_BOX_SET_ENABLED( iParam0 + 0, 0 );
        }
    }
    return iParam0->_fU64;
}

/* F_ISPEDINTRIGGERBOX */ int sub_20954(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        return IS_PED_IN_GAMEPLAY_HELPER_BOX( uParam0, ref uParam1._fU0 );
    }
    return 0;
}

/* P_CREATE_CUTSCENE_PEDS */ void sub_21086()
{
    int I;
    unknown uVar3;

     /* WRITESCRIPTLOG */ sub_452( "NS", "P_CREATE_CUTSCENE_PEDS()", 0 );
     /* P_SETUP_AI_GROUP */ sub_17332( ref l_U297, 1056964608, 0 );
     /* CLEANPEDARRAY */ sub_13648( ref l_U624 );
    for ( I = 0; I < 4; I++ )
    {
        l_U624[I] =  /* CREATEPED */ sub_17746( ref l_U303[I] );
        if (NOT (IS_PED_DEAD( l_U624[I] )))
        {
            SET_ROOM_FOR_PED_BY_NAME( l_U624[I], ref g_U1759 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U624[I], 1 );
            SET_PED_AI_TEMPLATE( l_U624[I], ref g_U1791 );
            SET_PED_ALERTNESS( l_U624[I], 4 );
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )))
            {
                REGISTER_TARGET( l_U624[I],  /* PLAYER_PED_ID */ sub_3239() );
            }
             /* P_QUICK_ADD_PED_TO_GROUP */ sub_18611( l_U356[I], ref l_U297 );
        }
    }
    l_U361[0] =  /* F_GIVEPEDWEAPON */ sub_8514( l_U624[0], 1194438308, 25000, 0, 1 );
    l_U361[1] =  /* F_GIVEPEDWEAPON */ sub_8514( l_U624[1], 1194438308, 25000, 0, 1 );
    l_U361[2] =  /* F_GIVEPEDWEAPON */ sub_8514( l_U624[2], 1194438308, 25000, 0, 1 );
    l_U361[3] =  /* F_GIVEPEDWEAPON */ sub_8514( l_U624[3], 1194438308, 25000, 0, 1 );
     /* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ sub_19202( ref l_U624, "piCutscene" );
    uVar3 = GET_INTERIOR_AT_COORDS( -66.88000000, -17.42000000, 13.79000000 );
    SET_INTERIOR_ACTIVE( uVar3, 1, 0 );
     /* P_OPENDOOR */ sub_19380( ref g_U1671, 1, 1, 0.72500000 );
    if (DOES_OBJECT_EXIST( l_U442 ))
    {
        SET_OBJECT_VISIBLE( l_U442, 0 );
        SET_OBJECT_COLLISION( l_U442, 0 );
    }
     /* CLEANOBJECT */ sub_13816( g_U856 );
    g_U856 =  /* CREATEOBJECTNOOFFSET */ sub_19620( 1907001043, g_U857, g_U860, 1, 1, 0 );
    if ((DOES_OBJECT_EXIST( g_U856 )) == 1)
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( g_U856, ref g_U1759 );
        SET_OBJECT_COLLISION( g_U856, 1 );
        SET_OBJECT_VISIBLE( g_U856, 0 );
    }
    l_U435 =  /* CREATEOBJECTNOOFFSET */ sub_19620( -107944300, l_U436, l_U439, 0, 1, 0 );
    if ((DOES_OBJECT_EXIST( l_U435 )) == 1)
    {
        SET_OBJECT_COLLISION( l_U435, 0 );
        FREEZE_OBJECT_POSITION( l_U435, 1 );
    }
     /* P_SETUP_COCAINE_ROOM */ sub_17250();
    return;
}

/* F_HANDLE_MID_05B_FAV1 */ int sub_21828()
{
    unknown uVar2;
    unknown uVar3;
    int iVar4;
    unknown uVar5;
    unknown uVar6;

    switch (l_U82)
    {
        case 0: break;
        case 1:
         /* WRITESCRIPTLOG */ sub_452( "NS", "CUTSCENE_SETUP", 0 );
         /* P_CLOSEDOOR */ sub_4130( ref g_U1664, 1 );
         /* P_SETDOORLOCKED */ sub_4387( ref g_U1664, 1 );
         /* P_OPENDOOR */ sub_19380( ref g_U1671, 1, 1, 1065353216 );
        REGISTER_OBJECT_PRE_SEAMLESS_CUTSCENE( DOOR_FIND_CLOSEST( g_U1671._fU0, g_U1671._fU4 ), "P_f1_wddoor_B", 0 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )))
        {
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_3239(), "Global/Player/PlayerRoot/PLAYER_INITIALIZE_LOCO" );
            CUTSCENE_REGISTER_SET_PLAYER_IN_COVER( "GenCover", "220971D_9C79663B_Corner2", 1, 0 );
            CUTSCENE_REGISTER_PED_TELEPORT(  /* PLAYER_PED_ID */ sub_3239(), -69.17973000, -27.61078000, 13.77209000, -90.00000000 );
            ISEQ_REGISTER_ENTITY( 1285840791, "player",  /* PLAYER_PED_ID */ sub_3239(), 0 );
            ISEQ_REGISTER_ENTITY( 1285840791, "ENEMY0", l_U356[0], 0 );
            ISEQ_REGISTER_ENTITY( 1285840791, "ENEMY1", l_U356[2], 0 );
            ISEQ_REGISTER_ENTITY( 1285840791, "ENEMY2", l_U356[1], 0 );
            ISEQ_REGISTER_ENTITY( 1285840791, "ENEMY3", l_U356[3], 0 );
            ISEQ_REGISTER_ENTITY( 1285840791, "TABLE", g_U856, 1 );
            ISEQ_REGISTER_ENTITY( 1285840791, "DOOR", l_U435, 1 );
             /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_22395( l_U86, 0 );
            uVar6 =  /* F_GET_SINGLE_HANDED_WEAPON_FROM_PLAYER */ sub_22527();
            if (((GET_DOES_WEAPON_EXIST( uVar6 )) == 1) AND ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )) == 0))
            {
                SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_3239(), uVar6, 0, 1 );
                if ((GET_WEAPON_TYPE( uVar6 )) == g_U1818)
                {
                    SET_WEAPON_VISIBLE( uVar6, 0 );
                }
                else
                {
                    REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar6, "W_PI_Clt1911_Aa_H", 0 );
                }
            }
        }
        SET_OBJECT_COORDS( l_U435, l_U436 );
        SET_OBJECT_ROTATION( l_U435, l_U439 );
        if (NOT (IS_PED_DEAD( l_U624[0] )))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U624[0], "M_F1_MISC_IB", 0 );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( l_U361[0], "W_PI_Clt1911_Aa_H", 0 );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( l_U624[0], "/Global/AMED/AMED_Root/AMED_INITIALIZE_LOCO" );
        }
        if (NOT (IS_PED_DEAD( l_U624[1] )))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U624[1], "M_F1_MISC_IB^1", 0 );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( l_U361[1], "W_AR_FAL_Aa_H", 0 );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( l_U624[1], "/Global/AMED/AMED_Root/AMED_INITIALIZE_LOCO" );
        }
        if (NOT (IS_PED_DEAD( l_U624[2] )))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U624[2], "M_F1_MISC_IB^2", 0 );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( l_U361[2], "W_PI_Clt1911_Aa_H^1", 0 );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( l_U624[2], "/Global/AMED/AMED_Root/AMED_INITIALIZE_LOCO" );
        }
        if (NOT (IS_PED_DEAD( l_U624[3] )))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U624[3], "M_F1_MISC_IB^3", 0 );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( l_U361[3], "W_PI_Clt1911_Aa_H_2", 0 );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( l_U624[3], "/Global/AMED/AMED_Root/AMED_INITIALIZE_LOCO" );
        }
        CUTSCENE_REGISTER_PED_TELEPORT( l_U624[0], l_U303[0]._fU0, l_U303[0]._fU12 );
        CUTSCENE_REGISTER_PED_TELEPORT( l_U624[1], l_U303[1]._fU0, l_U303[1]._fU12 );
        CUTSCENE_REGISTER_PED_TELEPORT( l_U624[2], l_U303[2]._fU0, l_U303[2]._fU12 );
        CUTSCENE_REGISTER_PED_TELEPORT( l_U624[3], l_U303[3]._fU0, l_U303[3]._fU12 );
        CUTSCENE_REGISTER_ISEQ( 1285840791 );
        START_SEAMLESS_CUTSCENE();
        CUTSCENE_ENABLE_SKIP( 0 );
        l_U82 = 2;
        break;
        case 2:
         /* WRITESCRIPTLOG */ sub_452( "SP", "eOpeningCutsceneState = CUTSCENE_FIRST_FRAME", 0 );
        AUDIO_MUSIC_SUSPEND( 7000 );
        BULLET_CAMERA_TRACK_UNTIL_GROUNDED( 0 );
        ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
         /* NIS_PRE_SETUP */ sub_23999( 1, 0, 0, 1 );
        if (IS_SCREEN_FADED_OUT())
        {
            DO_SCREEN_FADE_IN( 0 );
        }
        l_U82 = 3;
         /* WRITESCRIPTLOG */ sub_452( "SP", "eOpeningCutsceneState = CUTSCENE_PLAYING", 0 );
        break;
        case 3:
        if (HAS_CUTSCENE_FINISHED() == 1)
        {
             /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_22395( l_U86, 1 );
             /* CLEANPEDARRAY */ sub_13648( ref l_U624 );
            CLEAR_NAMED_CUTSCENE( "MID_05b_FAV1_concat" );
             /* P_SET_PLAYER_WEAPONS_VISIBLE */ sub_24324( 1 );
            return 1;
        }
        else
        {
            uVar2 = GET_CUTSCENE_SECTION_PLAYING();
            uVar3 = GET_CUTSCENE_TIME();
            iVar4 = GET_CUTSCENE_TIME_MS();
            PRINTSTRING( "[NS] SECTION: " );
            PRINTINT( uVar2 );
            PRINTSTRING( " Time: " );
            PRINTINT( uVar3 );
            PRINTSTRING( " Time MS: " );
            PRINTINT( iVar4 );
            PRINTNL();
            if ((IS_SCREEN_FADED_OUT() == 1) || (IS_SCREEN_FADING_OUT() == 1))
            {
                CUTSCENE_DISABLE_FADE_IN_GAME_AT_END( 1 );
                l_U83 = 1;
            }
            if (l_U84 == 0)
            {
                if (iVar4 >= 5000)
                {
                     /* P_REQUEST_GAMEPLAY_ASSETS */ sub_16339();
                    l_U84 = 1;
                }
            }
            else if (l_U85 == 0)
            {
                if (( /* F_ARE_GAMEPLAY_ASSETS_LOADED */ sub_17014()) == 1)
                {
                    CUTSCENE_ENABLE_SKIP( 1 );
                }
            }
        }
        break;
    }
    return 0;
}

/* P_SET_TWO_HANDED_WEAPON_VISIBLE */ void sub_22395(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18)
{
    unknown uVar21;
    unknown uVar22;

    uVar21 = uParam0._fU24._fU0;
    if ((GET_DOES_WEAPON_EXIST( uVar21 )) == 1)
    {
        SET_WEAPON_VISIBLE( uVar21, uParam18 );
    }
    uVar22 = uParam0._fU60._fU0;
    if ((GET_DOES_WEAPON_EXIST( uVar22 )) == 1)
    {
        SET_WEAPON_VISIBLE( uVar22, uParam18 );
    }
    return;
}

/* F_GET_SINGLE_HANDED_WEAPON_FROM_PLAYER */ int sub_22527()
{
    unknown Result;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )) == 0)
    {
        Result = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_3239(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( Result )) == 1)
        {
            if (( /* IS_WEAPON_SINGLE_HANDED */ sub_22631( Result )) == 1)
            {
                return Result;
            }
        }
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_3239(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            return uVar3;
        }
        uVar4 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_3239(), 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar4 )) == 1)
        {
            return uVar4;
        }
        uVar5 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_3239(), 1 );
        if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
        {
            return uVar5;
        }
    }
    return 0;
}

/* IS_WEAPON_SINGLE_HANDED */ int sub_22631(unknown uParam0)
{
    int iVar3;

    if ((GET_DOES_WEAPON_EXIST( uParam0 )) == 1)
    {
        iVar3 = GET_WEAPON_TYPE( uParam0 );
        if ((iVar3 == 1194438308) || ((iVar3 == -76667461) || ((iVar3 == -1404433099) || ((iVar3 == 1131969637) || ((iVar3 == -691403429) || ((iVar3 == 1845102363) || ((iVar3 == 150541352) || ((iVar3 == -820634585) || ((iVar3 == -612753081) || ((iVar3 == 811797242) || ((iVar3 == 68019059) || ((iVar3 == -1464892298) || ((iVar3 == 456708483) || ((iVar3 == -862236369) || (iVar3 == 406496141)))))))))))))))
        {
            return 1;
        }
    }
    return 0;
}

/* NIS_PRE_SETUP */ void sub_23999(int iParam0, int iParam1, unknown uParam2, boolean bParam3)
{
    END_POSTFX_BLENDER( 12, 0 );
    if (bParam3)
    {
        STOP_ALL_IMAGEFX( 0 );
    }
    SET_WIDESCREEN_BORDERS( 1, 500 );
    DISPLAY_HUD( 0 );
    if (iParam0 == 1)
    {
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )))
        {
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3193(), 0, uParam2 );
            SET_PED_DUCKING(  /* PLAYER_PED_ID */ sub_3239(), 0 );
            if (iParam1 == 1)
            {
                CLEAR_PED_TASKS_IMMEDIATELY(  /* PLAYER_PED_ID */ sub_3239() );
            }
            SET_PED_INVINCIBLE(  /* PLAYER_PED_ID */ sub_3239(), 1 );
        }
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    return;
}

/* P_SET_PLAYER_WEAPONS_VISIBLE */ void sub_24324(unknown uParam0)
{
    unknown uVar3;

    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )))
    {
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_3239(), 0, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
            SET_WEAPON_VISIBLE( uVar3, uParam0 );
        }
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_3239(), 1, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
            SET_WEAPON_VISIBLE( uVar3, uParam0 );
        }
        uVar3 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_3239(), 0 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
            SET_WEAPON_VISIBLE( uVar3, uParam0 );
        }
        uVar3 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_3239(), 1 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
            SET_WEAPON_VISIBLE( uVar3, uParam0 );
        }
        uVar3 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_3239(), 2 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
            SET_WEAPON_VISIBLE( uVar3, uParam0 );
        }
    }
    return;
}

/* P_ACTIVATEPEDARRAY */ void sub_24872(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
         /* P_ACTIVATEPED */ sub_24924( (uParam0^)[I] );
    }
    return;
}

/* P_ACTIVATEPED */ void sub_24924(unknown uParam0)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_FREEZE_PROCESSING( uParam0, 0 );
        SET_PED_VISIBLE( uParam0, 1 );
        SET_PED_VISIBLE_DURING_SEQUENCE( uParam0, 1 );
        FREEZE_PED_POSITION( uParam0, 0 );
        SET_PED_COLLISION( uParam0, 1 );
        SET_PED_PROOFS( uParam0, 0, 0, 0, 0, 0 );
    }
    return;
}

/* TELEPORTPED */ void sub_25360(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_COORDS( uParam0, uParam1, 1 );
        SET_PED_HEADING( uParam0, uParam4 );
    }
    return;
}

/* IS_WEAPON_TWO_HANDED */ int sub_25553(unknown uParam0)
{
    int iVar3;

    if ((GET_DOES_WEAPON_EXIST( uParam0 )) == 1)
    {
        iVar3 = GET_WEAPON_TYPE( uParam0 );
        if ((iVar3 == -2075384407) || ((iVar3 == 10648147) || ((iVar3 == 1224272620) || ((iVar3 == 1478009203) || ((iVar3 == 1964270085) || ((iVar3 == -110877124) || ((iVar3 == 427207702) || ((iVar3 == 319712764) || ((iVar3 == 514118749) || ((iVar3 == -184942895) || ((iVar3 == -168327769) || ((iVar3 == 434544317) || ((iVar3 == -1659006841) || ((iVar3 == 930042831) || ((iVar3 == 1001413062) || ((iVar3 == 377623895) || ((iVar3 == -1312131151) || ((iVar3 == -1787162676) || ((iVar3 == 724901397) || ((iVar3 == 57534114) || ((iVar3 == 840671040) || ((iVar3 == 1308526797) || ((iVar3 == -1074756423) || ((iVar3 == 1992962408) || (iVar3 == -1013714740)))))))))))))))))))))))))
        {
            return 1;
        }
    }
    return 0;
}

/* P_START_GAMEPLAY */ void sub_26556()
{
    int I;

     /* WRITESCRIPTLOG */ sub_452( "NS", "P_START_GAMEPLAY()", 0 );
    SET_SCRIPT_CONTROL_RESET_ON_PLAYER_DEATH( 1 );
    for ( I = 0; I < 4; I++ )
    {
        if (NOT (IS_PED_DEAD( l_U356[I] )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U356[I], 0 );
        }
    }
    ENABLE_STATIC_EMITTER( "S_FAV1_COKE_PACK_PLANT", 1 );
    DO_SCREEN_FADE_IN( 0 );
     /* P_START_SP_CHALLENGES */ sub_26729();
    return;
}

/* P_START_SP_CHALLENGES */ void sub_26729()
{
     /* WRITESCRIPTLOG */ sub_452( "CCB", "P_START_SP_CHALLENGES", 0 );
     /* WRITESCRIPTLOG */ sub_452( "CCB", "Starting the Favela_Drug_Den context...", 0 );
    START_CONTEXT( "Favela_Drug_Den" );
    return;
}

/* P_SAVE_PLAYER_DATA_CHECKPOINT */ void sub_26979(int iParam0, int iParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, int iParam9)
{
    int iVar12;
    int iVar13;
    int iVar14;
    int iVar15;
    int iVar16;

     /* WRITESCRIPTLOG */ sub_452( "GA", "Saving the player data for checkpoint - Start", 0 );
    if ((IS_PED_DEAD( uParam2 )) == 0)
    {
         /* WRITESCRIPTLOG */ sub_452( "SP", "Saving to scripted data...", 0 );
        RESET_CHECKPOINT_ATTEMPTS();
        if (SCRIPT_VAR_EXISTS( "SV_SAVE_CNT" ))
        {
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", (SCRIPT_VAR_GET_INT( "SV_SAVE_CNT" )) + 1 );
        }
        else
        {
            SCRIPT_VAR_ADD_INT( "SV_SAVE_CNT" );
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", 1 );
        }
         /* START_NEW_LEVEL_CONTEXT */ sub_9288( iParam1 );
         /* CLOSE_OLD_LEVEL_CONTEXT */ sub_27270( iParam1 );
        iParam0->_fU52 = iParam1;
        iParam0->_fU4 = {uParam3};
        iParam0->_fU16 = uParam6;
        iParam0->_fU20 = uParam7;
        iParam0->_fU24 = uParam8;
        iParam0->_fU28 = GET_PED_HEALTH( uParam2 );
        iParam0->_fU56 = -1569615261;
        iParam0->_fU60 = -1569615261;
        iParam0->_fU64 = -1569615261;
        iParam0->_fU68 = -1569615261;
        iParam0->_fU72 = -1569615261;
        iParam0->_fU76 = 0;
        iParam0->_fU80 = 0;
        iParam0->_fU84 = 0;
        iParam0->_fU88 = 0;
        iParam0->_fU92 = 0;
        iVar12 = GET_WEAPON_FROM_HAND( uParam2, 0, 0 );
        iVar13 = GET_WEAPON_FROM_HAND( uParam2, 1, 0 );
        iVar14 = GET_WEAPON_FROM_HOLSTER( uParam2, 0 );
        iVar15 = GET_WEAPON_FROM_HOLSTER( uParam2, 1 );
        iVar16 = GET_WEAPON_FROM_HOLSTER( uParam2, 2 );
        if (GET_DOES_WEAPON_EXIST( iVar12 ))
        {
            iParam0->_fU68 = GET_WEAPON_TYPE( iVar12 );
            iParam0->_fU88 = (GET_WEAPON_AMMO( iVar12 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar12 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_27747( iVar12, iParam0 + 120, iParam0 + 124 );
        }
        if (GET_DOES_WEAPON_EXIST( iVar13 ))
        {
            iParam0->_fU72 = GET_WEAPON_TYPE( iVar13 );
            iParam0->_fU92 = (GET_WEAPON_AMMO( iVar13 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar13 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_27747( iVar13, iParam0 + 128, iParam0 + 132 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_28007( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar13 ) ))
                {
                    iParam0->_fU92 = GET_WEAPON_AMMO_IN_CLIP( iVar12 );
                }
            }
        }
        if ((iVar14 != iVar13) AND ((iVar14 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar14 ))))
        {
            iParam0->_fU56 = GET_WEAPON_TYPE( iVar14 );
            iParam0->_fU76 = (GET_WEAPON_AMMO( iVar14 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar14 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_27747( iVar14, iParam0 + 96, iParam0 + 100 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_28007( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_28007( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
        }
        if ((iVar15 != iVar13) AND ((iVar15 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar15 ))))
        {
            iParam0->_fU60 = GET_WEAPON_TYPE( iVar15 );
            iParam0->_fU80 = (GET_WEAPON_AMMO( iVar15 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar15 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_27747( iVar15, iParam0 + 104, iParam0 + 108 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_28007( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_28007( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_28007( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
        }
        if ((iVar16 != iVar13) AND ((iVar16 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar16 ))))
        {
            iParam0->_fU64 = GET_WEAPON_TYPE( iVar16 );
            iParam0->_fU84 = (GET_WEAPON_AMMO( iVar16 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar16 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_27747( iVar16, iParam0 + 112, iParam0 + 116 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_28007( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_28007( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_28007( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar15 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_28007( GET_WEAPON_TYPE( iVar15 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
        }
        SAVE_PICKUPS();
        iParam0->_fU32 = GET_ADRENALINE_AMT();
        iParam0->_fU36 = GET_PAYNEKILLER_AMT();
        GET_TIME_OF_DAY( iParam0 + 40, iParam0 + 44 );
        iParam0->_fU140 = IS_TIME_OF_DAY_FROZEN();
        iParam0->_fU136 = GET_PED_SWEAT( uParam2 );
        if (iParam9 == 1)
        {
            if (IS_MAGDEMO() == 0)
            {
                ENABLE_CHECKPOINT_ICON();
            }
        }
        if (iParam1 >= 0)
        {
             /* P_PRINT_CHECKPOINT_DATA */ sub_29587( iParam0 );
            iParam0->_fU0 = 1;
            if (IS_ARCADE_MODE_ACTIVE() == 0)
            {
                CHECKPOINT_STORAGE_SAVE( iParam0, l_U1, iParam0->_fU52 );
                REQUEST_SAVE();
            }
        }
        if (IS_ARCADE_MODE_ACTIVE())
        {
            UPDATE_ARCADE_CHECK_POINT( iParam0->_fU52 );
        }
    }
    else
    {
        SCRIPT_ASSERT( "Error: Player is dead while saving a checkpoint!!!", 0 );
    }
     /* WRITESCRIPTLOG */ sub_452( "GA", "Saving the player data for checkpoint - End", 0 );
    return;
}

/* CLOSE_OLD_LEVEL_CONTEXT */ void sub_27270(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (iParam0 >= 0)
    {
        if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
        {
            uVar3 =  /* GET_MISSION_INDEX_FROM_NAME */ sub_6303( ref uVar20 );
        }
        STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, iParam0 - 1 );
         /* WRITESCRIPTLOG */ sub_452( "TEH", "Ending context", 0 );
         /* WRITESCRIPTLOG */ sub_452( "TEH", "Ending context", 0 );
        END_CONTEXT( ref uVar4 );
    }
    return;
}

/* P_SAVE_WEAPON_ATTACHMENTS */ void sub_27747(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        CLEAR_BIT( uParam1, I );
        CLEAR_BIT( uParam2, I );
        if (IS_WEAPON_ATTACHMENT_ENABLED( uParam0, I ))
        {
            SET_BIT( uParam1, I );
            if (IS_WEAPON_ATTACHMENT_TOGGLED( uParam0, I ))
            {
                SET_BIT( uParam2, I );
            }
        }
    }
    return;
}

/* F_WEAPONS_SAME_AMMO */ void sub_28007(int iParam0, int iParam1)
{
    int Result;

    Result = 0;
    if ((iParam0 == -612753081) || ((iParam0 == 68019059) || ((iParam0 == 456708483) || ((iParam0 == -862236369) || (iParam0 == 406496141)))))
    {
        if ((iParam1 == -612753081) || ((iParam1 == 68019059) || ((iParam1 == 456708483) || ((iParam1 == -862236369) || (iParam1 == 406496141)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 724901397) || ((iParam0 == 57534114) || ((iParam0 == 1308526797) || ((iParam0 == -1074756423) || (iParam0 == -1013714740)))))
    {
        if ((iParam1 == 724901397) || ((iParam1 == 57534114) || ((iParam1 == 1308526797) || ((iParam1 == -1074756423) || (iParam1 == -1013714740)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 514118749) || ((iParam0 == -184942895) || ((iParam0 == -168327769) || ((iParam0 == 1845102363) || (iParam0 == 434544317)))))
    {
        if ((iParam1 == 514118749) || ((iParam1 == -184942895) || ((iParam1 == -168327769) || ((iParam1 == 1845102363) || (iParam1 == 434544317)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -110877124) || (iParam0 == 319712764))
    {
        if ((iParam1 == -110877124) || (iParam1 == 319712764))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -1464892298) || ((iParam0 == 1194438308) || ((iParam0 == -1404433099) || ((iParam0 == 1478009203) || ((iParam0 == -691403429) || (iParam0 == 1964270085))))))
    {
        if ((iParam1 == -1464892298) || ((iParam1 == 1194438308) || ((iParam1 == -1404433099) || ((iParam1 == 1478009203) || ((iParam1 == -691403429) || (iParam1 == 1964270085))))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 10648147) || (iParam0 == 1224272620))
    {
        if ((iParam1 == 10648147) || (iParam1 == 1224272620))
        {
            Result = 1;
        }
    };;;;;;
    return Result;
}

/* P_PRINT_CHECKPOINT_DATA */ void sub_29587(int iParam0)
{
     /* WRITE_STRING */ sub_8123( "CHECKPOINT DATA" );
    PRINTSTRING( "---Position: " );
     /* WRITE_VECTOR */ sub_29675( iParam0->_fU4 );
    PRINTSTRING( "---Heading: " );
     /* WRITE_FLOAT */ sub_29752( iParam0->_fU16 );
    PRINTSTRING( "---fRelativeGameCamHeading: " );
     /* WRITE_FLOAT */ sub_29752( iParam0->_fU20 );
    PRINTSTRING( "---fRelativeGameCamPitch: " );
     /* WRITE_FLOAT */ sub_29752( iParam0->_fU24 );
    PRINTSTRING( "---nHealth: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU28 );
    PRINTSTRING( "---wtRightHolster: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU56 );
    PRINTSTRING( "---wtLeftHolster: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU60 );
    PRINTSTRING( "---wtRifleHolster: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU64 );
    PRINTSTRING( "---wtRightHand: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU68 );
    PRINTSTRING( "---wtLeftHand: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU72 );
    PRINTSTRING( "---nWeaponRightHolsterAmmo: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU76 );
    PRINTSTRING( "---nWeaponLeftHolsterAmmo: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU80 );
    PRINTSTRING( "---nWeaponRifleHolsterAmmo: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU84 );
    PRINTSTRING( "---nWeaponRightHandAmmo: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU88 );
    PRINTSTRING( "---nWeaponLeftHandAmmo: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU92 );
    PRINTSTRING( "---fAdrenaline: " );
     /* WRITE_FLOAT */ sub_29752( iParam0->_fU32 );
    PRINTSTRING( "---nPayneKillers: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU36 );
    PRINTSTRING( "---nHour: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU40 );
    PRINTSTRING( "---nMinute: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU44 );
    PRINTSTRING( "---fSweatAmount: " );
     /* WRITE_FLOAT */ sub_29752( iParam0->_fU136 );
    PRINTSTRING( "---bTimeFrozen: " );
     /* WRITE_BOOL */ sub_30622( iParam0->_fU140 );
    PRINTSTRING( "---checkpointIndex: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU52 );
     /* WRITE_STRING */ sub_8123( "---nRightHolsterAttachmentEnabled: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU96 );
     /* WRITE_STRING */ sub_8123( "---nRightHolsterAttachmentToggled: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU100 );
     /* WRITE_STRING */ sub_8123( "---nLeftHolsterAttachmentEnabled: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU104 );
     /* WRITE_STRING */ sub_8123( "---nLeftHolsterAttachmentToggled: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU108 );
     /* WRITE_STRING */ sub_8123( "---nRifleHolsterAttachmentEnabled: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU112 );
     /* WRITE_STRING */ sub_8123( "---nRifleHolsterAttachmentToggled: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU116 );
     /* WRITE_STRING */ sub_8123( "---nRightHandAttachmentEnabled: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU120 );
     /* WRITE_STRING */ sub_8123( "---nRightHandAttachmentToggled: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU124 );
     /* WRITE_STRING */ sub_8123( "---nLeftHandAttachmentEnabled: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU128 );
     /* WRITE_STRING */ sub_8123( "---nLeftHandAttachmentToggled: " );
     /* WRITE_INT */ sub_29921( iParam0->_fU132 );
    PRINTSTRING( "[CHECKPOINT DATA SIZE]: " );
     /* WRITE_INT */ sub_29921( l_U1 );
    PRINTSTRING( "[CHECKPOINT DATA REF SIZE]: " );
     /* WRITE_INT */ sub_29921( 144 );
    return;
}

/* WRITE_VECTOR */ void sub_29675(unknown uParam0, unknown uParam1, unknown uParam2)
{
    PRINTVECTOR( uParam0 );
    PRINTNL();
    return;
}

/* WRITE_FLOAT */ void sub_29752(unknown uParam0)
{
    PRINTFLOAT( uParam0 );
    PRINTNL();
    return;
}

/* WRITE_INT */ void sub_29921(unknown uParam0)
{
    PRINTINT( uParam0 );
    PRINTNL();
    return;
}

/* WRITE_BOOL */ void sub_30622(boolean bParam0)
{
    if (bParam0)
    {
        PRINTSTRING( "TRUE" );
    }
    else
    {
        PRINTSTRING( "FALSE" );
    }
    PRINTNL();
    return;
}

/* P_ACTION_COCAINE_WAV1 */ void sub_31791()
{
     /* WRITESCRIPTLOG */ sub_452( "NS", "P_ACTION_COCAINE_WAV1()", 0 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )))
    {
        if (NOT (IS_PED_DEAD( l_U393[0] )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U393[0], 0 );
            TASK_COMBAT_PED( l_U393[0],  /* PLAYER_PED_ID */ sub_3239() );
        }
        if (NOT (IS_PED_DEAD( l_U393[1] )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U393[1], 0 );
            TASK_COMBAT_PED( l_U393[1],  /* PLAYER_PED_ID */ sub_3239() );
        }
    }
    return;
}

/* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ void sub_32030(unknown uParam0)
{
    int Result;
    int I;
    int iVar5;

    Result = 0;
    iVar5 = (uParam0^) - 1;
    for ( I = 0; I <= iVar5; I++ )
    {
        if (NOT (IS_PED_DEAD( (uParam0^)[I] )))
        {
            Result++;
        }
    }
    return Result;
}

/* F_ASSIGN_BULLET_CAM_TO_LAST_COCAINE_ENEMY */ int sub_32614()
{
    unknown uVar2;
    int I;

    if (( /* F_GET_NUM_LIVING_COCAINE_ENEMIES */ sub_32668()) == 1)
    {
        for ( I = 0; I < 4; I++ )
        {
            if (((GET_PED_CAN_TRIGGER_BULLET_CAM( l_U356[I] )) == 0) AND (((IS_PED_DEAD( l_U356[I] )) == 0) AND ((DOES_PED_EXIST( l_U356[I] )) == 1)))
            {
                SET_PED_CAN_TRIGGER_BULLET_CAM( l_U356[I], 1 );
                uVar2 = l_U356[I];
            }
        }
        for ( I = 0; I < 2; I++ )
        {
            if (((GET_PED_CAN_TRIGGER_BULLET_CAM( l_U393[I] )) == 0) AND (((IS_PED_DEAD( l_U393[I] )) == 0) AND ((DOES_PED_EXIST( l_U393[I] )) == 1)))
            {
                SET_PED_CAN_TRIGGER_BULLET_CAM( l_U393[I], 1 );
                uVar2 = l_U393[I];
            }
        }
        if ((DOES_PED_EXIST( uVar2 )) == 1)
        {
            return 1;
        }
    }
    return 0;
}

/* F_GET_NUM_LIVING_COCAINE_ENEMIES */ void sub_32668()
{
    int Result;
    int I;

    Result = 0;
    for ( I = 0; I < 4; I++ )
    {
        if (NOT (IS_PED_DEAD( l_U356[I] )))
        {
            Result++;
        }
    }
    for ( I = 0; I < 2; I++ )
    {
        if (NOT (IS_PED_DEAD( l_U393[I] )))
        {
            Result++;
        }
    }
    return Result;
}

/* RESET_SCRIPT_SPEECH_STRUCT */ void sub_33236(int iParam0)
{
    iParam0->_fU4 = -1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = 0;
    iParam0->_fU32 = 0;
    iParam0->_fU36 = 0;
    return;
}

/* ADD_PED_FOR_SCRIPT_SPEECH */ void sub_33347(int iParam0, unknown uParam1, unknown uParam2, int iParam3, unknown uParam4, unknown uParam5)
{
    if (iParam3->_fU32)
    {
        ;
    }
    else if (iParam3->_fU36 == 0)
    {
        iParam3->_fU36 = 1;
        iParam3->_fU4 = CREATE_NEW_SCRIPTED_CONVERSATION( uParam4 );
        if (iParam3->_fU4 == -1)
        {
            iParam3->_fU32 = 1;
        }
    }
    if ((iParam0 < 9) AND ((iParam0 >= 0) AND ((iParam3->_fU4 < 4) AND (iParam3->_fU4 >= 0))))
    {
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU0 = uParam1;
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU4 = GET_HASH_KEY( uParam2 );
        if (NOT (IS_PED_INJURED( uParam1 )))
        {
            SET_PED_CAN_PLAY_AMBIENT_ANIMS( uParam1, uParam5 );
        }
    }
    return;
}

/* PLAY_SINGLE_SPEECH */ void sub_33617(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return  /* PLAY_SINGLE_SPEECH_FROM_BLOCK */ sub_33662( uParam0, ref g_U157._fU0, uParam1, uParam2, uParam3 );
}

/* PLAY_SINGLE_SPEECH_FROM_BLOCK */ void sub_33662(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    StrCopy( ref cVar11[0], uParam0, 16 );
    StrCopy( ref cVar11[1], "END", 16 );
    return  /* PLAYSPEECHMAIN */ sub_33749( ref cVar11, uParam2, uParam3, 0, 0, 0, 0, ref cVar7, uParam4 );
}

/* PLAYSPEECHMAIN */ int sub_33749(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    int I;
    unknown uVar12;
    unknown uVar13;

    if (iParam1->_fU4 == -1)
    {
        return 0;
    }
    iParam1->_fU0 = uParam2;
    if (NOT ( /* CANTHISSPEECHBEPLAYED */ sub_33801( iParam1 )))
    {
        return 0;
    }
    uVar12 = iParam1->_fU4;
    uVar13 = GET_HASH_KEY( ref (uParam0^)[0] );
    iParam1->_fU16 = uVar13;
    SET_CONVERSATION_CHECK_HASH( uVar12, uVar13 );
    g_U157._fU132 = 0;
    iParam1->_fU24 = 0;
    iParam1->_fU28 = uParam5;
    if (bParam3)
    {
        if (iParam1->_fU20)
        {
            iParam1->_fU20 = 0;
        }
    }
    else
    {
        iParam1->_fU20 = 0;
        if (bParam4)
        {
            iParam1->_fU12 = uParam6;
            iParam1->_fU20 = 0;
        }
        else
        {
            iParam1->_fU12 = 0;
            iParam1->_fU20 = 0;
        }
    }
    iParam1->_fU24 = bParam4;
    for ( I = 0; I <= 24; I++ )
    {
        StrCopy( ref g_U233[uVar12][I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        g_U233[uVar12][I] = {(uParam0^)[I]};
    }
    g_U192[uVar12] = {(iParam1^)};
     /* COPYHIDDENSPEECHSTUCT */ sub_34319( ref g_U16[uVar12], ref g_U157 );
    StrCopy( ref g_U16[uVar12]._fU0, uParam7, 16 );
    g_U16[uVar12]._fU136 = uParam8;
    g_U11[iParam1->_fU4] = 1;
    return 1;
}

/* CANTHISSPEECHBEPLAYED */ int sub_33801(int iParam0)
{
    switch (g_U11[iParam0->_fU4])
    {
        case 1:
        case 2:
        return 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING( iParam0->_fU4 ))
    {
        if (g_U1[iParam0->_fU4] > iParam0->_fU0)
        {
            return 0;
        }
        STOP_SCRIPTED_CONVERSATION( iParam0->_fU4, 0, 0 );
    }
    g_U1[iParam0->_fU4] = iParam0->_fU0;
    g_U6[iParam0->_fU4]++;
    if (g_U6[iParam0->_fU4] > 100000)
    {
        g_U6[iParam0->_fU4] = 1;
    }
    iParam0->_fU8 = g_U6[iParam0->_fU4];
    return 1;
}

/* COPYHIDDENSPEECHSTUCT */ void sub_34319(int iParam0, int iParam1)
{
    int I;

    iParam0->_fU0 = {iParam1->_fU0};
    for ( I = 0; I <= 8; I++ )
    {
        iParam0->_fU92[I] = iParam1->_fU92[I];
    }
    iParam0->_fU132 = iParam1->_fU132;
    iParam0->_fU136 = iParam1->_fU136;
    return;
}

/* F_POI_CAN_PLAY_UNAVALIABLE_MONO */ int sub_34663(int iParam0)
{
    if ((iParam0->_fU8 == 2) AND ((iParam0->_fU76 == 0) AND (( /* F_IS_POI_AVAILABLE */ sub_34709( iParam0 )) == 0)))
    {
        if ((( /* F_HASACTIONBEENPRESSED */ sub_34894()) == 1) AND (((IS_PED_RELOADING(  /* PLAYER_PED_ID */ sub_3239() )) == 0) AND (((IS_PED_GETTING_UP(  /* PLAYER_PED_ID */ sub_3239() )) == 0) AND (((IS_PED_PICKING_UP_PICKUP(  /* PLAYER_PED_ID */ sub_3239() )) == 0) AND (((IS_PED_IN_COVER(  /* PLAYER_PED_ID */ sub_3239() )) == 0) AND (((IS_PED_DUCKING(  /* PLAYER_PED_ID */ sub_3239() )) == 0) AND ((IS_PLAYER_SHOOTDODGING() == 0) AND ((IS_MONOLOGUE_PLAYING() == 0) AND ((IS_INTERACTIONTEXT_AVAILABLE() == 0) AND (IS_INTERACTIONTEXT_ONSCREEN() == 1))))))))))
        {
            iParam0->_fU76 = 1;
            return 1;
        }
    }
    return 0;
}

/* F_IS_POI_AVAILABLE */ void sub_34709(int iParam0)
{
    return iParam0->_fU56;
}

/* F_HASACTIONBEENPRESSED */ int sub_34894()
{
    if ((IS_CONTROL_JUST_PRESSED( 0, 30 )) == 1)
    {
        return 1;
    }
    return 0;
}

/* F_HANDLE_POI */ int sub_35080(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    int iVar6;
    int iVar7;
    int iVar8;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )) == 0)
    {
        if (iParam0->_fU0 == 1)
        {
            uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS(  /* PLAYER_PED_ID */ sub_3239() )};
            iVar6 = 0;
            if (iParam0->_fU80 == 1)
            {
                if (( /* F_ISPEDINTRIGGERBOX */ sub_20954(  /* PLAYER_PED_ID */ sub_3239(), iParam0->_fU116 )) == 1)
                {
                    if (iParam0->_fU300 == 1)
                    {
                        if (((IS_OBJECT_ON_SCREEN( iParam0->_fU312 )) == 1) AND ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1))
                        {
                            iVar6 = 1;
                        }
                    }
                    else
                    {
                        iVar6 = 1;
                    }
                }
            }
            else if ((iParam0->_fU308 == 1) AND (iParam0->_fU84 == 1))
            {
                if ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_OBJECT_COORDS( iParam0->_fU312 ), 1 )) <= iParam0->_fU112)
                    {
                        if (iParam0->_fU300 == 1)
                        {
                            if ((IS_OBJECT_ON_SCREEN( iParam0->_fU312 )) == 1)
                            {
                                iVar6 = 1;
                            }
                        }
                        else
                        {
                            iVar6 = 1;
                        }
                    }
                }
            }
            else if (iParam0->_fU96 == 1)
            {
                if ((DOES_PED_EXIST( iParam0->_fU316 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU316 ), 1 )) <= iParam0->_fU112)
                    {
                        if (iParam0->_fU300 == 1)
                        {
                            if ((IS_PED_ON_SCREEN( iParam0->_fU316, 0 )) == 1)
                            {
                                iVar6 = 1;
                            }
                        }
                        else
                        {
                            iVar6 = 1;
                        }
                    }
                }
            }
            else if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, iParam0->_fU100, 1 )) <= iParam0->_fU112)
            {
                if (iParam0->_fU300 == 1)
                {
                    if (((IS_OBJECT_ON_SCREEN( iParam0->_fU312 )) == 1) AND ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1))
                    {
                        iVar6 = 1;
                    }
                }
                else
                {
                    iVar6 = 1;
                }
            };;;;
            iVar7 = 0;
            if (iParam0->_fU88 == 1)
            {
                if (( /* F_ISPEDINTRIGGERBOX */ sub_20954(  /* PLAYER_PED_ID */ sub_3239(), iParam0->_fU216 )) == 1)
                {
                    iVar7 = 1;
                }
            }
            else if ((iParam0->_fU308 == 1) AND (iParam0->_fU92 == 1))
            {
                if ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_OBJECT_COORDS( iParam0->_fU312 ), 1 )) <= iParam0->_fU212)
                    {
                        iVar7 = 1;
                    }
                }
            }
            else if (iParam0->_fU96 == 1)
            {
                if ((DOES_PED_EXIST( iParam0->_fU316 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU316 ), 1 )) <= iParam0->_fU212)
                    {
                        iVar7 = 1;
                    }
                }
            }
            else if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, iParam0->_fU200, 1 )) <= iParam0->_fU212)
            {
                iVar7 = 1;
            };;;;
            if (iVar6 == 1)
            {
                if ((iParam0->_fU4 != 3) AND (iParam0->_fU52 == 1))
                {
                    if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                    {
                         /* P_UPDATEINTERACTIONTEXTAVAILABLE */ sub_3062( iParam0 );
                    }
                    iVar8 = 0;
                    if ((IS_WEAPON_PICKUP_VISIBLE() == 0) AND ((iParam0->_fU60 == 0) AND (( /* F_ISACTIONINGAVAILABLE */ sub_3158( iParam0 )) == 1)))
                    {
                        SET_ACTION_CONSUMED( 0, 1 );
                        if (( /* F_HASACTIONBEENPRESSED */ sub_34894()) == 1)
                        {
                            iVar8 = 1;
                        }
                    }
                    if (iVar8 == 1)
                    {
                        if (iParam0->_fU332 == 0)
                        {
                             /* P_ENABLE_POI */ sub_2796( iParam0, 0 );
                            iParam0->_fU64 = 1;
                        }
                        if (iParam0->_fU68 == 1)
                        {
                            iParam0->_fU72 = 0;
                        }
                        return 1;
                    }
                    else if (iParam0->_fU8 != 2)
                    {
                        if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                        {
                             /* P_ENABLEPOIGLINT */ sub_2240( iParam0, 0 );
                             /* P_ENABLEPOIINTERACTIONTEXT */ sub_2882( iParam0, 1 );
                        }
                        else if (iParam0->_fU320 == 1)
                        {
                             /* P_ENABLEPOIGLINT */ sub_2240( iParam0, 1 );
                        }
                        iParam0->_fU8 = 2;
                    }
                    if ((iParam0->_fU328 == 0) AND (iParam0->_fU324 == 1))
                    {
                        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )) == 0)
                        {
                            SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_3239(), 1 );
                            iParam0->_fU328 = 1;
                        }
                    }
                }
            }
            else if (iVar7 == 1)
            {
                if (iParam0->_fU8 != 1)
                {
                    if ((iParam0->_fU4 != 3) AND (iParam0->_fU320 == 1))
                    {
                         /* P_ENABLEPOIGLINT */ sub_2240( iParam0, 1 );
                    }
                    if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                    {
                         /* P_ENABLEPOIINTERACTIONTEXT */ sub_2882( iParam0, 0 );
                    }
                    if (iParam0->_fU96 == 1)
                    {
                        if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )) == 0) AND ((((IS_PED_DEAD( iParam0->_fU316 )) == 1) || ((IS_PED_DEAD( iParam0->_fU316 )) == 0)) AND ((DOES_PED_EXIST( iParam0->_fU316 )) == 1)))
                        {
                            TASK_LOOK_AT_PED(  /* PLAYER_PED_ID */ sub_3239(), iParam0->_fU316, -1, 0 );
                        }
                    }
                    else if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )) == 0)
                    {
                        TASK_LOOK_AT_COORD(  /* PLAYER_PED_ID */ sub_3239(), iParam0->_fU100, -1, 0 );
                    }
                    iParam0->_fU340 = 1;
                    if ((iParam0->_fU72 == 0) AND ((iParam0->_fU68 == 1) AND ((iParam0->_fU64 == 1) AND (iParam0->_fU8 == 2))))
                    {
                        iParam0->_fU72 = 1;
                    }
                    iParam0->_fU8 = 1;
                }
                if ((iParam0->_fU328 == 0) AND (iParam0->_fU324 == 1))
                {
                    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )) == 0)
                    {
                        SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_3239(), 1 );
                        iParam0->_fU328 = 1;
                    }
                }
            }
            else if ((iParam0->_fU4 == 1) || (iParam0->_fU4 == 3))
            {
                ;
            }
            else if (iParam0->_fU8 != 0)
            {
                if (iParam0->_fU320 == 1)
                {
                     /* P_ENABLEPOIGLINT */ sub_2240( iParam0, 0 );
                }
            }
            if (iParam0->_fU8 == 2)
            {
                if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                {
                     /* P_ENABLEPOIINTERACTIONTEXT */ sub_2882( iParam0, 0 );
                }
            }
            if (iParam0->_fU340)
            {
                if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )) == 0)
                {
                    TASK_CLEAR_LOOK_AT(  /* PLAYER_PED_ID */ sub_3239() );
                    iParam0->_fU340 = 0;
                }
            }
            if ((iParam0->_fU328 == 1) AND (iParam0->_fU324 == 1))
            {
                if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )) == 0)
                {
                    SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_3239(), 0 );
                    iParam0->_fU328 = 0;
                }
            }
            if (iParam0->_fU332 == 1)
            {
                 /* P_ENABLEPOIINTERACTIONTEXT */ sub_2882( iParam0, 0 );
            }
            iParam0->_fU8 = 0;;;
        }
    }
    return 0;
}

/* PAUSETIMER */ void sub_36927(int iParam0, int iParam1)
{
    if (iParam0->_fU28)
    {
        iParam0->_fU4 = TIMERA();
    }
    else
    {
        iParam0->_fU4 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU4 = TIMERSYSTEM();
    }
    if (iParam1 == 1)
    {
        iParam0->_fU8 = iParam0->_fU4 - iParam0->_fU0;
         /* RESETTIMER */ sub_5125( iParam0 );
    }
    else if (iParam0->_fU8 > 0)
    {
         /* STARTTIMER */ sub_11727( iParam0 );
        if (iParam0->_fU28)
        {
            iParam0->_fU0 = TIMERA() - iParam0->_fU8;
        }
        else
        {
            iParam0->_fU0 = TIMERB() - iParam0->_fU8;
        }
        if (iParam0->_fU32 == 1)
        {
            iParam0->_fU0 = TIMERSYSTEM() - iParam0->_fU8;
        }
        iParam0->_fU4 = iParam0->_fU0;
        iParam0->_fU8 = 0;
    }
    return;
}

/* F_ISPLAYERINTRIGGERBOX */ void sub_37872(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20)
{
    return  /* F_ISPEDINTRIGGERBOX */ sub_20954(  /* PLAYER_PED_ID */ sub_3239(), uParam0 );
}

/* P_HANDLE_MAX_CONTEXTUAL_DIALOGUE */ void sub_38125(int iParam0)
{
    if (l_U41 == 0)
    {
        l_U42 = GET_PAYNEKILLER_AMT();
        l_U41 = 1;
    }
    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3239() )) == 0)
    {
        if ((IS_LAST_MAN_STANDING_ACTIVE() == 0) AND ((IS_BULLET_CAMERA_RUNNING( 0 )) == 0))
        {
            if ((TIME_SINCE_LAST_MONOLOGUE() > 5000) AND ((IS_MONOLOGUE_PLAYING() == 0) AND (( /* IS_ANY_SPEECH_CURRENTLY_PLAYING */ sub_38244()) == 0)))
            {
                if ((iParam0 == 1) AND (l_U42 < GET_PAYNEKILLER_AMT()))
                {
                    if (g_U789 < 5)
                    {
                        if (((g_U788 mod 3) == 0) || (g_U788 == 0))
                        {
                             /* WRITESCRIPTLOG */ sub_452( "NS", "Playing Pills Monologue", 0 );
                             /* RESET_SCRIPT_SPEECH_STRUCT */ sub_33236( ref l_U31 );
                             /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_33347( 0,  /* PLAYER_PED_ID */ sub_3239(), "MAX", ref l_U31, 2, 0 );
                             /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_33347( 1,  /* PLAYER_PED_ID */ sub_3239(), "MAX", ref l_U31, 2, 0 );
                             /* PLAY_SINGLE_SPEECH */ sub_33617( "SFV1_MFPLS", ref l_U31, 7, 1 );
                            g_U789++;
                        }
                        g_U788++;
                    }
                }
            }
            l_U42 = GET_PAYNEKILLER_AMT();
        }
    }
    return;
}

/* IS_ANY_SPEECH_CURRENTLY_PLAYING */ void sub_38244()
{
    int Result;
    int I;

    Result = 0;
    for ( I = 0; I <= 3; I++ )
    {
        Result = (IS_SCRIPTED_CONVERSATION_ONGOING( I )) || (Result);
    }
    return Result;
}

/* P_SET_COCAINE_DOORS */ void sub_38660()
{
    if (DOES_OBJECT_EXIST( DOOR_FIND_CLOSEST( g_U1664._fU0, g_U1664._fU4 ) ))
    {
        if (DOOR_GET_IS_AFFECTED_BY_BULLETS( DOOR_FIND_CLOSEST( g_U1664._fU0, g_U1664._fU4 ) ))
        {
             /* WRITESCRIPTLOG */ sub_452( "NS", "Setting cocaine door to not react to bullets.", 0 );
            DOOR_SET_IS_AFFECTED_BY_BULLETS( DOOR_FIND_CLOSEST( g_U1664._fU0, g_U1664._fU4 ), 0 );
        }
    }
    return;
}

/* P_UNLOAD_ASSETS */ void sub_38888()
{
     /* WRITESCRIPTLOG */ sub_452( "SP", "P_UNLOAD_ASSETS", "###" );
     /* UNLOADMODEL */ sub_14002( -107944300 );
     /* UNLOADMODEL */ sub_14002( 1907001043 );
     /* UNLOADMODEL */ sub_14002( -1193489045 );
     /* UNLOADMODEL */ sub_14002( 1156505411 );
     /* UNLOADMODEL */ sub_14002( -502497534 );
     /* UNLOADMODEL */ sub_14002( 508600758 );
     /* UNLOADMODEL */ sub_14002( 416428258 );
     /* UNLOADANIMDICT */ sub_39041( "LEVEL_S_FAV1_CP_07" );
     /* UNLOADANIMDICT */ sub_39041( "EXPL_CAM" );
    GAMEPLAY_HELPER_BOX_DESTROY( ref l_U105._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( ref l_U126._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( ref l_U147._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( ref l_U168._fU0 );
    GAMEPLAY_HELPER_BOX_DESTROY( l_U198._fU0 );
    return;
}

/* UNLOADANIMDICT */ void sub_39041(unknown uParam0)
{
    REMOVE_ANIM_DICT( uParam0, 0 );
    return;
}

