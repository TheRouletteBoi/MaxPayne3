void main()
{
    l_U0 = 1;
    l_U1 = 144;
    l_U2 = "PED_DEF";
    l_U44 = 1.00000000;
    l_U56 = 0;
    l_U97 = 0;
    l_U117 = 1;
    l_U118 = 1;
    l_U158 = 0;
    l_U170 = 0;
    l_U171 = 1;
    l_U172 = 0;
    l_U173 = 1.00000000;
    l_U174 = -5.00000000;
    l_U175 = 0;
    l_U176 = 0;
    l_U177 = 0;
    l_U181 = 42;
    l_U182 = 0;
    l_U183 = 0;
    l_U184 = 0;
    l_U185 = 0;
    l_U186 = 0;
    l_U187 = 90.00000000;
    l_U188 = {0.00000000, 0.00000000, 0.00000000};
    l_U191 = {0.00000000, 0.00000000, 0.00000000};
    l_U194 = 0;
    l_U195 = 0;
    l_U196 = 0;
    l_U197 = 0;
    l_U198 = 0;
    l_U199 = 0;
    l_U200 = nil;
    l_U201 = {0.00000000, 0.00000000, 0.00000000};
    l_U204 = 0;
    l_U205 = 0;
    l_U206 = 0;
    l_U258 = 0;
    l_U259 = 0;
    l_U260 = 1;
    l_U262 = 0;
    l_U263 = 0;
    l_U264 = 1500;
    StrCopy( ref l_U276, "04_02_nybar_concat", 32 );
    l_U284 = "04_02_nybar_sh1";
    l_U388 = 0;
    l_U389 = 0;
    l_U390 = {0, 0, 0};
    StrCopy( ref l_U393, "DUMMY", 32 );
    l_U401 = 1;
    l_U406 = 0;
    l_U407 = 0;
    l_U408 = 0;
    l_U411 = 0;
    l_U457 = 0;
    l_U459 = 1;
    l_U460 = 0;
    l_U461 = 1;
    l_U462 = 0;
    StrCopy( ref l_U473, "mid_01_nybar_concat", 32 );
    l_U499 = 4;
    l_U559 = 0;
    l_U560 = {g_U2253[5]._fU0};
    l_U563 = g_U2253[5]._fU12;
    l_U567 = 0;
    l_U568 = 0;
    l_U768 = 0;
    l_U769 = 0;
    l_U1356 = 112;
    l_U1357 = 207;
    l_U1358 = 210;
    l_U1359 = 213;
    l_U1360 = 228;
    l_U1361 = 0;
    l_U1362 = 1;
    l_U1363 = "S_NYC_ALLEY_CAR_RUNDOWN_B";
    l_U1364 = "S_NYC_ALLEY_CAR_RUNDOWN_C";
    l_U1377 = 0;
    l_U1378 = 0;
    l_U1379 = 0;
    l_U1380 = 0;
    l_U1384 = 0;
    l_U1385 = 0;
    l_U1386 = {-53.82198000, -338.01680000, 4.20000000};
    l_U1389 = 66.36501000;
    l_U1390 = 0;
    l_U1391 = 0;
    l_U1392 = 0;
    l_U1393 = 0;
    l_U1394 = {-60.12000000, -341.15000000, 3.63000000};
    l_U1397 = 90.00000000;
    l_U1398 = 0;
    l_U1399 = 0;
    l_U1400 = "PASSOS~n~Go check it out, Max.  I've got your back.";
    l_U1401 = "SNYC_PLPB";
    l_U1402 = "PASSOS~n~Max, down the alley. I'll cover you.";
    l_U1735 = {-75.67000000, -328.13000000, 0.25000000};
    l_U1759 = -1;
    l_U1760 = 0;
    l_U1876 = 0;
    l_U1877 = 0;
    l_U1878 = 0;
    l_U1879 = 0;
    l_U1889 = 0;
    l_U1890 = 0;
    l_U1891 = 1;
    l_U1892 = 0;
    l_U1893 = 0;
    l_U1894 = 0;
    l_U1895 = 0;
    sub_1119( "RJM", "Script s_nyc_alley.sc is starting...", " " );
    sub_1168();
    sub_1901();
    sub_5153( 4, 1 );
    sub_5311();
    sub_5945();
    if ((SCRIPT_VAR_EXISTS( "SP_SV_PASSOS_KILLS" )) == 0)
    {
        SCRIPT_VAR_ADD_INT( "SP_SV_PASSOS_KILLS" );
        SCRIPT_VAR_SET_INT( "SP_SV_PASSOS_KILLS", 0 );
    }
    l_U457 = 0;
    while (NOT IS_EXITFLAG_SET())
    {
        if (g_U2454[1])
        {
            SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
        }
        else if (l_U45)
        {
            sub_20153();
        }
        else if (g_U2198)
        {
            sub_22302();
        }
        sub_25742();
        sub_34117();;;
        WAIT( 0 );
    }
    sub_32117( 1 );
    sub_79875();
    sub_80029( 4 );
    sub_1119( "RJM", "Script s_nyc_alley.sc is ending", " " );
    SET_SCRIPT_AS_NO_LONGER_NEEDED( "s_nyc_alley" );
    SET_EXITFLAG_RESPONSE();
    if (NOT g_U2201)
    {
        if (IS_MAGDEMO())
        {
            sub_79442( 500 );
            g_U1929._fU64 = 0;
            g_U2454[0] = 0;
            g_U2454[1] = 0;
            g_U2454[9] = 0;
            g_U2198 = 0;
            g_U2199 = 0;
            g_U2200 = 0;
            g_U2201 = 0;
            sub_80269( ref g_U751[2] );
            sub_80269( ref g_U751[3] );
            sub_80269( ref g_U751[4] );
            sub_80269( ref g_U751[5] );
            g_U723 = 2;
            g_U724 = 2;
            g_U751[2]._fU36 = 1;
        }
        else if (IS_ARCADE_MODE_ACTIVE() == 0)
        {
            SWITCH_TO_LEVEL_NAME( "s_nyc2" );
        }
    }
    return;
}

void sub_1119(unknown uParam0, unknown uParam1, string sParam2)
{
    unknown uVar5;

    if (IS_STRING_NULL( sParam2 ))
    {
        sParam2 = "###";
    }
    uVar5 = GET_REAL_GAME_TIMER();
    return;
}

void sub_1168()
{
    sub_1119( "SBA", "LOAD_ASSETS_ALLEY", "***" );
    sub_1221( 557810561, 1 );
    sub_1221( 1839686620, 1 );
    sub_1221( g_U2249, 1 );
    sub_1221( g_U722, 1 );
    sub_1432();
    sub_1585( "SNYCAUD" );
    sub_1713( "FACE_PASNYB", 0, 1 );
    sub_1827( "LEVEL/S_NYBAR/S_NYBAR_PASSOS_FACIAL.act", 1 );
    return;
}

void sub_1221(unknown uParam0, boolean bParam1)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
        sub_1326( "[SP]### ERROR! (LoadModel) Trying to load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    if (bParam1)
    {
        while ((HAS_MODEL_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_1326(unknown uParam0)
{
    return;
}

void sub_1432()
{
    sub_1119( "SBA", "LOAD_NYC_CAR_RECORDINGS", "***" );
    sub_1491( l_U1359, 1 );
    sub_1491( l_U1360, 1 );
    return;
}

void sub_1491(unknown uParam0, int iParam1)
{
    REQUEST_VEHICLE_RECORDING( uParam0 );
    if (iParam1 == 1)
    {
        while ((HAS_VEHICLE_RECORDING_BEEN_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_1585(unknown uParam0)
{
    StrCopy( ref g_U157._fU0, uParam0, 16 );
    sub_1605();
    return;
}

void sub_1605()
{
    int I;

    for ( I = 0; I <= 8; I++ )
    {
        g_U157._fU16[I]._fU0 = nil;
        g_U157._fU16[I]._fU4 = 0;
        g_U157._fU92[I] = 0;
    }
    return;
}

void sub_1713(unknown uParam0, unknown uParam1, int iParam2)
{
    REQUEST_ANIM_DICT( uParam0, uParam1 );
    "[doubled result, dropped if not asigned]";
    if (iParam2 == 1)
    {
        while ((HAS_ANIM_DICT_LOADED( uParam0, uParam1 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_1827(unknown uParam0, int iParam1)
{
    ACTION_TREE_LOAD( uParam0 );
    if (iParam1 == 1)
    {
        while ((IS_ACTION_TREE_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_1901()
{
    sub_1119( "SBA", "SETUP_ALLEY_STATIC_DATA", "***" );
    sub_2031( ref l_U1011, "TRIG_ALLEY_CHECKPOINT", -11.49000000, -323.90000000, -4.26000000, 7.00000000, 10.00000000, 5.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_2031( ref l_U1032, "TRIG_ALLEY_TOP_STAIRS", -11.34000000, -316.45000000, -1.00000000, 7.00000000, 4.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_2272( ref l_U1158, "TRIG_PARK_PASSOS_SHOOT", -21.27000000, -321.19000000, -1.00000000, 9.00000000, 7.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_2031( ref l_U1159, "TRIG_ALLEY_PASSOS_SHOOT", -74.20000000, -326.76000000, 0.00000000, 12.00000000, 9.75000000, 4.00000000, 0.00000000, 0.00000000, -16.00000000, 1 );
    sub_2031( ref l_U1180, "TRIG_ALLEY_PASSOS_SHOOT2", -68.32000000, -327.30000000, 0.00000000, 4.00000000, 6.00000000, 4.00000000, 0.00000000, 0.00000000, 10.00000000, 1 );
    sub_2031( ref l_U1243, "TRIG_SAFE_FOR_VIG07B", -37.30000000, -326.63000000, -0.60000000, 30.00000000, 17.61000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_2031( ref l_U1053, "TRIG_MID01_START_NYBAR", -39.00000000, -326.99000000, -0.50000000, 20.00000000, 9.00000000, 4.38000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_2031( ref l_U1074, "TRIG_MID01_WALK_NYBAR", -28.97000000, -327.46000000, -0.04000000, 8.00000000, 9.00000000, 4.38000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_2031( ref l_U1137, "TRIG_ALLEY_MAX_LEAVE_COVER", -45.74000000, -333.34000000, -0.10000000, 4.50000000, 4.50000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_2031( ref l_U1095, "TRIG_ALLEY_START_FINAL_BLOCKERS", -54.96000000, -328.40000000, -0.50000000, 10.00000000, 14.00000000, 4.00000000, 0.00000000, 0.00000000, -7.50000000, 1 );
    sub_2031( ref l_U1116, "TRIG_SWITCH_1ST_TETHER", -78.71000000, -330.40000000, 0.00000000, 35.00000000, 25.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_2031( ref l_U1222, "KILL_VOLUME_ALLEY", -61.63000000, -330.00000000, -1.08000000, 114.19000000, 57.00000000, 6.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_2031( ref l_U1264, "TRIG_PASSOS_FIRE_ESCAPE", -73.96000000, -333.43000000, 2.65000000, 3.00000000, 3.00000000, 3.25000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_2031( ref l_U1201, "TRIG_DUMMY_PASSOS", 1000, 1000, 1000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_2031( ref l_U1285, "PASSOS_N1_COVER_WARNING", -17.92000000, -320.36000000, -5.00000000, 23.00000000, 34.00000000, 9.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_2031( ref l_U1306, "PASSOS_N3_4_COVER_WARNING", -53.15600000, -333.40000000, -0.20000000, 49.00000000, 30.00000000, 6.00000000, 0.00000000, 0.00000000, -180.00000000, 1 );
    sub_2031( ref l_U1327, "PASSOS_N3_4_COVER_DEATH", -52.64800000, -333.40000000, -0.60000000, 67.00000000, 36.00000000, 6.00000000, 0.00000000, 0.00000000, 180.00000000, 1 );
    sub_2272( ref l_U1348, "TRIG_ALLEY_DEATH_SHOT", -76.59000000, -327.51000000, 0.00000000, 6.00000000, 5.50000000, 4.00000000, 0.00000000, 0.00000000, -5.00000000, 1 );
    sub_3646( ref l_U1349, "TETH_ALLEY_PARKING", -21.94000000, -317.00000000, -1.50000000, 13.00000000, 25.00000000, 6.50000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_3646( ref l_U1350, "TETH_ALLEY_PARKING2", -20.47000000, -330.70000000, -1.50000000, 16.00000000, 4.00000000, 4.50000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_3646( ref l_U1351, "TETH_ALLEY_PARKING3", -18.90000000, -310.66000000, -1.50000000, 10.45000000, 8.00000000, 4.50000000, 0.00000000, 0.00000000, 5.00000000, 1 );
    sub_3646( ref l_U1352, "TETH_ALLEY_1ST_BLOCKER_FWD", -48.07000000, -328.59000000, 0.00000000, 40.00000000, 12.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_3646( ref l_U1353, "TETH_ALLEY_1ST_BLOCKER_SWITCH", -69.94000000, -328.14300000, 0.00000000, 15.00000000, 9.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_3646( ref l_U1354, "TETH_ALLEY_2ND_BLOCKER", -71.86000000, -328.56000000, 0.00000000, 10.29000000, 9.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_3646( ref l_U1355, "TETH_ALLEY_LAST_BLOCKER", -78.73000000, -328.03000000, 0.00000000, 10.00000000, 9.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_4240( ref l_U786[0], -39.37376000, -324.44660000, 0.38853000, -84.31000000, 812785529, 7, 3, 2, 0, 0 );
    sub_4240( ref l_U786[1], -37.45781000, -324.95080000, 0.27814100, -84.31000000, -1813863951, 7, 3, 2, 0, 0 );
    sub_4240( ref l_U786[2], -35.46360000, -325.20510000, 0.26579800, -74.31000000, -573870471, 7, 3, 2, 0, 0 );
    sub_4240( ref l_U836[0], -96.16000000, -322.94000000, 0.26000000, -84.31000000, -1633679208, 7, 3, 2, 0, 0 );
    sub_4240( ref l_U836[1], -95.19000000, -323.17000000, 0.26000000, -84.31000000, 1143414953, 7, 3, 2, 0, 0 );
    sub_4240( ref l_U836[2], -93.24000000, -323.63000000, 0.26000000, -74.31000000, 2108318266, 7, 3, 2, 0, 0 );
    sub_4240( ref l_U894[0], -95.11967000, -319.21370000, 0.26429200, -70.90000000, -1305081679, 7, 3, 2, 0, 0 );
    sub_4240( ref l_U894[1], -94.11967000, -319.21370000, 0.26429200, -70.90000000, -584940451, 7, 3, 2, 0, 0 );
    sub_4240( ref l_U939[0], -95.11967000, -317.21370000, 0.26429200, -70.90000000, -101589531, 7, 3, 2, 0, 0 );
    sub_4240( ref l_U939[1], -94.11967000, -317.21370000, 0.26429200, -70.90000000, 1709395105, 7, 3, 2, 0, 0 );
    sub_4240( ref l_U998, g_U725[4]._fU0, g_U725[4]._fU12, -1756913695, 26, 6, 0, 0, 0 );
    l_U1511[0] = {-1, -1, -1};
    l_U1527[0] = -1.00000000;
    l_U1533[0] = 107.79710000;
    l_U1539[0] = -10.92217000;
    l_U1511[1] = {-16.75502000, -313.14930000, -0.66228500};
    l_U1527[1] = 133.70000000;
    l_U1533[1] = 18.57515000;
    l_U1539[1] = -11.77375000;
    l_U1511[2] = {-20.21702000, -317.11740000, -0.66228500};
    l_U1527[2] = 138.30900000;
    l_U1533[2] = 2.59308100;
    l_U1539[2] = -6.63165600;
    l_U1511[3] = {-16.01090000, -329.35120000, -0.59761100};
    l_U1527[3] = 79.81203000;
    l_U1533[3] = 1.75007200;
    l_U1539[3] = -4.30872200;
    l_U1511[4] = {-23.04764000, -328.13320000, -0.57280300};
    l_U1527[4] = 341.24210000;
    l_U1533[4] = -31.27048000;
    l_U1539[4] = -15.53709000;
    l_U1545 = l_U1533[0];
    l_U1546 = l_U1539[0];
    return;
}

void sub_2031(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    StrCopy( ref iParam0->_fU0, uParam1, 64 );
    iParam0->_fU64 = 0;
    iParam0->_fU68 = 0;
    iParam0->_fU72 = {uParam2};
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 1, iParam0 + 0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

void sub_2272(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    iParam0->_fU0 = uParam1;
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 4, iParam0->_fU0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

void sub_3646(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    iParam0->_fU0 = uParam1;
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 2, iParam0->_fU0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

void sub_4240(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU20 = uParam5;
    iParam0->_fU12 = uParam4;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU16 = GET_SCENE_PED_MODEL( uParam5 );
    iParam0->_fU48 = uParam10;
    return;
}

void sub_5153(unknown uParam0, unknown uParam1)
{
    sub_5169( -862236369, 1 );
    switch (uParam0)
    {
        case 0:
        case 2:
        case 4:
        case 5:
        sub_5169( 434544317, uParam1 );
        break;
        case 3: break;
    }
    return;
}

void sub_5169(unknown uParam0, boolean bParam1)
{
    REQUEST_WEAPON( uParam0 );
    if (bParam1)
    {
        while ((HAS_WEAPON_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_5311()
{
    sub_1119( "SBA", "INITIALIZE_ALLEY_SCRIPT_DATA", "***" );
    l_U1758 = 0;
    l_U1757 = 0;
    l_U1756 = 0;
    l_U1749 = 0;
    l_U1750 = 0;
    l_U1751 = -1;
    l_U1752 = -1;
    l_U1753 = -1;
    l_U1754 = -1;
    l_U1748 = -1;
    l_U1755 = 0;
    l_U559 = 0;
    l_U1366 = 0;
    l_U1367 = 0;
    l_U1368 = 0;
    l_U1369 = 0;
    l_U1370 = 0;
    l_U1371 = 0;
    l_U1372 = 0;
    l_U1373 = 0;
    l_U1374 = 0;
    l_U1375 = 0;
    l_U1390 = 0;
    l_U1391 = 0;
    l_U1392 = 0;
    l_U1393 = 0;
    l_U1365 = 0;
    l_U1398 = 0;
    l_U1376 = 0;
    l_U1377 = 0;
    l_U1378 = 0;
    l_U1379 = 0;
    l_U1380 = 0;
    l_U1381 = 0;
    l_U1382 = 0;
    l_U1385 = 0;
    l_U1384 = 0;
    l_U1399 = 0;
    l_U1759 = -1;
    l_U1760 = 0;
    l_U1865 = 2;
    l_U1747 = 0;
    l_U1869 = 0;
    l_U568 = 0;
    l_U1383 = 0;
    sub_5643( ref l_U1412 );
    sub_5643( ref l_U1493 );
    sub_5643( ref l_U1502 );
    l_U1877 = 0;
    l_U1878 = 0;
    l_U1879 = 0;
    l_U1889 = 0;
    sub_5805( ref l_U1880, 1000, 1, 0 );
    return;
}

void sub_5643(int iParam0)
{
    if (iParam0->_fU28)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    return;
}

void sub_5805(int iParam0, unknown uParam1, boolean bParam2, int iParam3)
{
    if (bParam2)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam3 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU12 = uParam1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = bParam2;
    iParam0->_fU32 = iParam3;
    iParam0->_fU8 = 0;
    return;
}

void sub_5945()
{
    SET_SCRIPT_CONTROL_RESET_ON_PLAYER_DEATH( 1 );
    if (g_U723 == 4)
    {
        sub_1119( "RJM", "INITIALIZE_PLAYER_BY_DEBUG_MENU_CHECKPOINT says we're in MCE_BACK_ALLEY", " " );
        l_U459 = 1;
        if (NOT (sub_6075( ref l_U569 )))
        {
            sub_8451( sub_6200(), sub_10337( 4 ), 200, 0, 1 );
        }
        sub_10375();
        g_U724 = 4;
        g_U2198 = 1;
    }
    else if (g_U723 == 5)
    {
        sub_1119( "RJM", "INITIALIZE_PLAYER_BY_DEBUG_MENU_CHECKPOINT says we're in MCE_ALLEY_FIGHT", " " );
        l_U459 = 3;
        if (NOT (sub_6075( ref l_U605 )))
        {
            sub_8451( sub_6200(), sub_10337( 5 ), 200, 0, 1 );
        }
        g_U724 = 5;
        sub_11360();
        g_U2198 = 1;
        l_U1758 = 8;
    }
    else
    {
        sub_10375();
    }
    return;
}

int sub_6075(unknown uParam0)
{
    sub_1119( "rw", "HAS_SAVEFILE_LOADED()", 0 );
    if (IS_ARCADE_MODE_ACTIVE())
    {
        return 0;
    }
    if (HAS_LOAD_JUST_OCCURRED())
    {
        if ((GET_CHECKPOINT_SELECTED() == 1) || (GET_CHECKPOINT_SELECTED() == 0))
        {
            return 0;
        }
        else
        {
            l_U0 = 0;
            CHECKPOINT_STORAGE_LOAD( uParam0, l_U1 );
            sub_6266( uParam0, sub_6200() );
        }
        if (IS_IN_STORY_MODE())
        {
            START_CONTEXT( "LEVEL" );
        }
        return 1;
    }
    return 0;
}

int sub_6200()
{
    if (DOES_MAIN_PLAYER_EXIST())
    {
        return GET_PLAYER_PED( sub_6222() );
    }
    return 0;
}

void sub_6222()
{
    return GET_PLAYER_ID();
}

void sub_6266(int iParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    int iVar9;
    int iVar10;
    int iVar11;
    unknown uVar12;
    unknown uVar13;

    sub_1119( "GA", "Restoring the player to the checkpoint - Start", 0 );
    if (l_U0)
    {
        INCREMENT_CHECKPOINT_ATTEMPT();
    }
    g_U648 = 0;
    if (iParam0->_fU0 == 0)
    {
        SCRIPT_ASSERT( "ERROR: Trying to restore a checkpoint that hasn't been saved!!!", 0 );
    }
    sub_6450( iParam0->_fU52 );
    if (SCRIPT_VAR_EXISTS( "SV_LOAD_CNT" ))
    {
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", (SCRIPT_VAR_GET_INT( "SV_LOAD_CNT" )) + 1 );
    }
    else
    {
        SCRIPT_VAR_ADD_INT( "SV_LOAD_CNT" );
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", 1 );
    }
    CLEAR_KILL_STREAK_RECORDS();
    AUDIO_MUSIC_SUSPEND( 0 );
    DEACTIVATE_BULLET_TIME( 1, 0 );
    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
    REMOVE_ALL_ENVIRONMENT_BLOOD();
    RESET_BLOOD_EFFECTS();
    REMOVE_ALL_GLINTS();
    RESET_DESTROYED_COVER();
    RESET_ALL_PTFX();
    uVar4 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam1 )};
    CLEAR_AREA( iParam0->_fU4, 10000.00000000, 1 );
    if (NOT (IS_PED_DEAD( uParam1 )))
    {
        SET_PED_COORDS( uParam1, iParam0->_fU4, 1 );
        sub_7527( uParam1 );
        SET_PED_HEADING( uParam1, iParam0->_fU16 );
    }
    CLEAR_AREA( uVar4, 3.00000000, 1 );
    LOAD_SCENE( iParam0->_fU4 );
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
    iParam0->_fU28 = GET_PED_MAX_HEALTH( uParam1 );
    SET_PED_HEALTH( uParam1, iParam0->_fU28, 0 );
    RESET_PED_GORE( uParam1 );
    RESET_PED_VISIBLE_DAMAGE( uParam1 );
    REMOVE_ALL_PED_WEAPONS( uParam1 );
    if (NOT (iParam0->_fU56 == -1569615261))
    {
        uVar7 = sub_7819( uParam1, iParam0->_fU56, 0, iParam0->_fU76, 1 );
        sub_8166( uVar7, iParam0 + 96, iParam0 + 100 );
    }
    if (NOT (iParam0->_fU60 == -1569615261))
    {
        uVar7 = sub_7819( uParam1, iParam0->_fU60, 1, iParam0->_fU80, 1 );
        sub_8166( uVar7, iParam0 + 104, iParam0 + 108 );
    }
    if (NOT (iParam0->_fU64 == -1569615261))
    {
        uVar7 = sub_7819( uParam1, iParam0->_fU64, 2, iParam0->_fU84, 1 );
        sub_8166( uVar7, iParam0 + 112, iParam0 + 116 );
    }
    if (NOT (iParam0->_fU68 == -1569615261))
    {
        uVar7 = sub_8451( uParam1, iParam0->_fU68, iParam0->_fU88, 0, 1 );
        sub_8166( uVar7, iParam0 + 120, iParam0 + 124 );
    }
    if (NOT (iParam0->_fU72 == -1569615261))
    {
        uVar7 = sub_8451( uParam1, iParam0->_fU72, iParam0->_fU92, 1, 1 );
        sub_8166( uVar7, iParam0 + 128, iParam0 + 132 );
    }
    if (l_U0 == 1)
    {
        if ((IS_PED_DEAD( uParam1 )) == 0)
        {
            if (iParam0->_fU68 != -1569615261)
            {
                uVar7 = GET_WEAPON_FROM_HAND( uParam1, 0, 0 );
                if ((GET_DOES_WEAPON_EXIST( uVar7 )) == 1)
                {
                    uVar8 = GET_WEAPON_TYPE( uVar7 );
                    if ((sub_8944( uVar8 )) == 1)
                    {
                        iVar9 = GET_MAX_AMMO_IN_HAND_CLIP_MP( uParam1, 0 );
                        iVar10 = iParam0->_fU88;
                        if (iVar10 < iVar9)
                        {
                            iVar11 = iVar9 - iVar10;
                            ADD_AMMO_TO_PED( uParam1, uVar8, iVar11, 0 );
                            SET_WEAPON_AMMO_IN_CLIP( uVar7, iVar9 );
                        }
                    }
                }
            }
        }
    }
    sub_9105( iParam0->_fU52 );
    SET_ADRENALINE_AMT( iParam0->_fU32 );
    if (GET_ADRENALINE_AMT() < 0.20000000)
    {
        SET_ADRENALINE_AMT( 0.20000000 );
    }
    SET_PAYNEKILLER_AMT( iParam0->_fU36 );
    SET_PED_DUCKING( sub_6200(), 0 );
    GET_TIME_OF_DAY( ref uVar12, ref uVar13 );
    if (iParam0->_fU140 == 1)
    {
        FREEZE_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    else
    {
        RELEASE_TIME_OF_DAY();
        SET_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    SET_PED_SWEAT( uParam1, iParam0->_fU136, -1.00000000 );
    RESTORE_PICKUPS();
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( iParam0->_fU20, 1065353216, 0 );
    SET_GAMEPLAY_CAM_RELATIVE_PITCH( iParam0->_fU24, 1065353216, 0 );
    HANDLE_CHECKPOINT_RESTART();
    if (l_U0)
    {
        ADJUST_AMMO_ATTEMPTS();
        ADJUST_PAIN_KILLERS_ATTEMPTS();
    }
    l_U0 = 1;
    DISPLAY_HUD( 1 );
    if (IS_DEATH_PANEL_WIPE_ALLOWED())
    {
        if (IS_BULLET_CAMERA_WIPE_STOPPED())
        {
            RESUME_BULLET_CAMERA_WIPE_ON_FADEIN();
        }
    }
    sub_1119( "GA", "Restoring the player to the checkpoint - End", 0 );
    return;
}

void sub_6450(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    iVar3 = 0;
    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        iVar3 = sub_6482( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, iVar3, 513, uParam0 );
    END_CONTEXT( ref uVar4 );
    return;
}

int sub_6482(unknown uParam0)
{
    if (ARE_STRINGS_EQUAL( uParam0, "s_air" ))
    {
        return 21;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_beach" ))
    {
        return 22;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_boat" ))
    {
        return 10;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_booze" ))
    {
        return 0;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_busdep" ))
    {
        return 17;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_cemet" ))
    {
        return 15;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_club" ))
    {
        return 5;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_clubride" ))
    {
        return 4;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fashion" ))
    {
        return 3;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav0" ))
    {
        return 13;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav1" ))
    {
        return 14;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav2" ))
    {
        return 16;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fire" ))
    {
        return 12;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_hotel" ))
    {
        return 19;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_intro" ))
    {
        return 1;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_marina" ))
    {
        return 9;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc" ))
    {
        return 7;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc2" ))
    {
        return 8;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_office" ))
    {
        return 11;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_pana" ))
    {
        return 18;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_police" ))
    {
        return 20;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_stad" ))
    {
        return 6;
    };;;;;;;;;;;;;;;;;;;;;;
    return 99;
}

void sub_7527(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
        SET_LOAD_COLLISION_FOR_PED_FLAG( uParam0, 1 );
        SET_PED_COORDS_NO_OFFSET( uParam0, uVar3 );
        FREEZE_PED_POSITION( uParam0, 1 );
        REQUEST_COLLISION_AT_COORD( uVar3 );
        if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
        {
            FREEZE_PED_POSITION( uParam0, 0 );
        }
    }
    return;
}

void sub_7819(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's holster MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HOLSTER( uParam0, uParam1, uParam3, uParam2 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
                }
            }
        }
    }
    else
    {
        sub_1326( "[SP]### (F_GivePedWeaponToHolster) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

void sub_8166(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        if (IS_BIT_SET( (uParam1^), I ))
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, IS_BIT_SET( (uParam2^), I ) );
        }
        else
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
        }
    }
    return;
}

void sub_8451(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's hand MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, uParam2, uParam3 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
                }
            }
        }
    }
    else
    {
        sub_1326( "[SP]### (F_GivePedWeapon) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

int sub_8944(unknown uParam0)
{
    int iVar3;

    iVar3 = GET_WEAPONTYPE_AMMO( uParam0 );
    if ((iVar3 == -1383321053) || ((iVar3 == -1295933220) || ((iVar3 == 1138793073) || (iVar3 == -1088031219))))
    {
        return 1;
    }
    return 0;
}

void sub_9105(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        uVar3 = sub_6482( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, uParam0 );
    sub_9177( uVar3 );
    START_CONTEXT( ref uVar4 );
    return;
}

void sub_9177(int iParam0)
{
    if (iParam0 != 3)
    {
        END_CONTEXT( "S_FAS_GG_PT" );
    }
    if (iParam0 != 5)
    {
        END_CONTEXT( "S_CLB_GG_M3" );
        END_CONTEXT( "S_CLB_MS" );
    }
    if (iParam0 != 6)
    {
        END_CONTEXT( "S_STA_GG_M1" );
        END_CONTEXT( "S_STA_GG_M81" );
    }
    if (iParam0 != 7)
    {
        END_CONTEXT( "S_NY1_GG_19" );
    }
    if (iParam0 != 8)
    {
        END_CONTEXT( "S_NY2_GG_40" );
        END_CONTEXT( "S_NY2_GG_M5" );
    }
    if (iParam0 != 9)
    {
        END_CONTEXT( "S_MAR_GG_LM" );
        END_CONTEXT( "S_MAR_GG_9M" );
    }
    if (iParam0 != 11)
    {
        END_CONTEXT( "S_OFF_GG_MD" );
    }
    if (iParam0 != 14)
    {
        END_CONTEXT( "S_FV1_GG_SP" );
        END_CONTEXT( "S_FV1_GG_SA" );
    }
    if (iParam0 != 15)
    {
        END_CONTEXT( "S_NYC_GG_6M" );
        END_CONTEXT( "S_NYC_GG_A9" );
    }
    if (iParam0 != 16)
    {
        END_CONTEXT( "S_FV2_GG_D5" );
        END_CONTEXT( "S_FV2_GG_97" );
    }
    if (iParam0 != 17)
    {
        END_CONTEXT( "S_BUS_GG_M4" );
        END_CONTEXT( "S_BUS_GG_FN" );
    }
    if (iParam0 != 18)
    {
        END_CONTEXT( "S_PAN_GG_AK" );
        END_CONTEXT( "S_PAN_GG_SS" );
    }
    if (iParam0 != 19)
    {
        END_CONTEXT( "S_HOT_GG_G3" );
        END_CONTEXT( "S_HOT_GG_LA" );
    }
    if (iParam0 != 20)
    {
        END_CONTEXT( "S_POL_GG_G6" );
        END_CONTEXT( "S_POL_GG_RP" );
        END_CONTEXT( "S_POL_GG_MP" );
    }
    if (iParam0 != 21)
    {
        END_CONTEXT( "S_AIR_GG_RG" );
        END_CONTEXT( "S_AIR_GG_PD" );
    }
    return;
}

int sub_10337(unknown uParam0)
{
    uParam0 = uParam0;
    return -862236369;
}

void sub_10375()
{
    sub_1119( "CO", "P_CREATE_S_NY1_GG_19_03", 0 );
    sub_10477( ref g_U701, g_U722, 875640035, -559255354, -10.09000000, -322.03000000, -4.09000000, 1.50000000, 0.00000000, g_U719, "" );
    sub_10606( ref g_U701 );
    return;
}

void sub_10477(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    if (NOT IS_ARCADE_MODE_ACTIVE())
    {
        iParam0->_fU4 = uParam1;
        iParam0->_fU8 = uParam2;
        iParam0->_fU12 = uParam3;
        iParam0->_fU16 = {uParam4};
        iParam0->_fU28 = {uParam7};
        StrCopy( ref iParam0->_fU40, uParam10, 32 );
    }
    else
    {
        sub_1119( "CO", "NO GOLDEN GUNS FOR ARCADE", 0 );
    }
    return;
}

void sub_10606(int iParam0)
{
    sub_1119( "CO", "P_CreateCollectible", 0 );
    if (NOT IS_ARCADE_MODE_ACTIVE())
    {
        if ((sub_10667( iParam0->_fU12 )) == 1)
        {
            sub_1119( "CO", "HAS BEEN COLLECTED.", 0 );
        }
        else
        {
            sub_1119( "CO", "has never been collected.", 0 );
        }
        if ((sub_10667( iParam0->_fU12 )) == 0)
        {
            sub_10872( iParam0->_fU0 );
            iParam0->_fU0 = sub_10940( iParam0->_fU8, iParam0->_fU16, iParam0->_fU28, 1, 0, 0, 1119092736 );
            if (NOT (IS_STRING_NULL( iParam0 + 40 )))
            {
                if ((DOES_PLACEMENT_EXIST( iParam0->_fU0 )) == 1)
                {
                    sub_1119( "CO", "Added collectible to interior", 0 );
                    ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( iParam0->_fU0, iParam0 + 40 );
                }
            }
        }
    }
    else
    {
        sub_1119( "CO", "NO GOLDEN GUNS FOR ARCADE", 0 );
    }
    return;
}

int sub_10667(unknown uParam0)
{
    unknown uVar3;
    float fVar4;

    if (IS_COLLECTABLE_ENABLED() == 0)
    {
        return 1;
    }
    uVar3 = uParam0;
    fVar4 = STAT_HASH_GET_FLOAT( uVar3 );
    if (ARE_SP_STATS_LOADED() == 1)
    {
        if ((STAT_HASH_EXISTS( uVar3 )) == 1)
        {
            if (fVar4 > 0.00000000)
            {
                return 1;
            }
        }
    }
    return 0;
}

void sub_10872(unknown uParam0)
{
    if ((DOES_PLACEMENT_EXIST( uParam0 )) == 1)
    {
        REMOVE_PLACEMENT( uParam0 );
    }
    return;
}

void sub_10940(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, int iParam8, unknown uParam9, unknown uParam10)
{
    unknown Result;

    Result = CREATE_PLACEMENT_ROTATE( uParam0, uParam1, uParam4, uParam7, 0, uParam9, uParam10 );
    if (iParam8 == 1)
    {
        while ((DOES_PLACEMENT_EXIST( Result )) == 0)
        {
            WAIT( 0 );
        }
    }
    return Result;
}

void sub_11360()
{
    sub_1119( "SBA", "P_PREPARE_ALLEY_FIGHT_START", "***" );
    STOP_SCRIPT_STREAM( l_U1361 );
    STOP_SCRIPT_STREAM( l_U1362 );
    sub_11452( l_U1363, l_U1361, 1 );
    sub_11452( l_U1364, l_U1362, 1 );
    sub_11543();
    sub_11614();
    sub_14827();
    sub_16595( ref l_U668, 0 );
    sub_16595( ref l_U698, 0 );
    sub_16595( ref l_U715, 0 );
    sub_17288( -850158086, 1 );
    sub_1713( "LEVEL_S_NYBAR_MID_01_BLENDOUT", 0, 1 );
    sub_17526( ref l_U668 );
    sub_17526( ref l_U698 );
    sub_17526( ref l_U715 );
    sub_17526( ref l_U826 );
    if ((sub_12484( l_U779 )) == 1)
    {
        SET_VEHICLE_COORDS( l_U779, -59.98630000, -328.48000000, 0.62083100 );
        SET_VEHICLE_HEADING( l_U779, 314.14600000 );
        SET_VEHICLE_ON_GROUND_PROPERLY( l_U779 );
    }
    sub_17773( l_U876[2], -61.24000000, -327.30000000, 0.28000000, 270 );
    sub_17830();
    l_U559 = 1;
    ISEQ_REGISTER_ENTITY( -850158086, "max", sub_6200(), 0 );
    sub_17773( sub_6200(), g_U2253[5]._fU0, g_U2253[5]._fU12 );
    ISEQ_START( -850158086 );
    sub_18503();
    sub_19562( 1, 0, 0, 1 );
    if (IS_DEATH_PANEL_WIPE_ALLOWED())
    {
        if (NOT sub_19733())
        {
            DO_SCREEN_FADE_IN( 0 );
        }
    }
    return;
}

void sub_11452(unknown uParam0, unknown uParam1, int iParam2)
{
    if (iParam2 == 0)
    {
        REQUEST_SCRIPT_STREAM( uParam0, uParam1 );
    }
    else
    {
        while ((LOAD_SCRIPT_STREAM( uParam0, uParam1 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_11543()
{
    sub_1119( "SBA", "P_INIT_PASSOS_WARNING_DEATH", "***" );
    l_U97 = 1;
    return;
}

void sub_11614()
{
    int I;

    sub_1119( "SBA", "CREATE_MIDSCENE_01_CARS_AND_ENEMIES", "***" );
    sub_11679();
    sub_12008();
    l_U779 = sub_12183( 557810561, -108.86600000, -316.92500000, 2.40000000, 0.00000000, 0, 0, 0 );
    sub_12412( l_U779, 1, 1 );
    sub_12797( ref l_U779, 1, 0.25000000 );
    if (sub_12484( l_U779 ))
    {
        SET_VEHICLE_COLOUR_COMBINATION( l_U779, 5 );
        SET_VEHICLE_EXTRA( l_U779, 1, 0 );
        SET_VEHICLE_EXTRA( l_U779, 2, 0 );
        SET_VEHICLE_EXTRA( l_U779, 3, 1 );
        SET_VEHICLE_EXTRA( l_U779, 4, 1 );
        SET_VEHICLE_EXTRA( l_U779, 5, 1 );
        SET_VEHICLE_EXTRA( l_U779, 6, 1 );
        SET_VEHICLE_EXTRA( l_U779, 7, 1 );
        SET_VEHICLE_EXTRA( l_U779, 8, 1 );
    }
    sub_13146( ref l_U880, 1056964608, 0 );
    sub_1119( "SBA", "CREATE_MIDSCENE_01_CARS_AND_ENEMIES: Setup first car enemies", "***" );
    for ( I = 0; I <= 2; I++ )
    {
        sub_13419( l_U876[I] );
        sub_13536( ref l_U836[I], ref l_U876[I], -862236369, "AIT_NORMAL", 0, 25000, 2, 0, 25000 );
        if (sub_14213( l_U876[I] ))
        {
            sub_14505( l_U876[I], ref l_U880 );
            SET_PED_NAME_DEBUG( l_U876[I], l_U886[I] );
            SET_PED_ONLY_DAMAGED_BY_PLAYER( l_U876[I], 1 );
        }
    }
    return;
}

void sub_11679()
{
    sub_1119( "SBA", "P_INIT_CAR_ENEMY_VARS", "***" );
    l_U890[0] = -1;
    l_U890[1] = 0;
    l_U890[2] = 2;
    l_U933[0] = -1;
    l_U933[1] = 0;
    l_U978[0] = -1;
    l_U978[1] = 0;
    l_U886[0] = "piEnemyCar1[0]";
    l_U886[1] = "piEnemyCar1[1]";
    l_U886[2] = "piEnemyCar1[2]";
    l_U930[0] = "GMED3";
    l_U930[1] = "GMED";
    l_U975[0] = "GMED7";
    l_U975[1] = "GMED4";
    sub_11936( ref l_U936, 0 );
    sub_11936( ref l_U981, 0 );
    return;
}

void sub_11936(unknown uParam0, unknown uParam1)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        (uParam0^)[I] = uParam1;
    }
    return;
}

void sub_12008()
{
    sub_1119( "SBA", "P_LOAD_VIG08B_ASSETS", "***" );
    sub_1713( "LEVEL_S_NYBAR_CP_02", 0, 1 );
    sub_1713( "VEH@CAR_GENSEDAN", 0, 1 );
    sub_1827( "Vehicle/Vehicle_Car.act", 1 );
    return;
}

void sub_12183(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, int iParam5, unknown uParam6, unknown uParam7)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a vehicle with MUST BE PRELOADED!!!!", 0 );
        sub_1221( uParam0, 1 );
    }
    Result = CREATE_VEHICLE( uParam0, uParam1, uParam4, uParam6, uParam7 );
    if (iParam5 == 1)
    {
        while ((DOES_VEHICLE_EXIST( Result )) == 0)
        {
            WAIT( 0 );
        }
    }
    if (DOES_VEHICLE_EXIST( Result ))
    {
        SET_PETROLTANK_BURN_RATE( Result, 125.00000000 );
    }
    return Result;
}

void sub_12412(unknown uParam0, boolean bParam1, unknown uParam2)
{
    sub_1119( "SBA", "P_SET_STANDARD_VEHICLE_OPTIONS: Starting", "***" );
    if (sub_12484( uParam0 ))
    {
        sub_1119( "SBA", "P_SET_STANDARD_VEHICLE_OPTIONS: Car Valid - setting options", "***" );
        SET_VEHICLE_ON_GROUND_PROPERLY( uParam0 );
        SET_VEHICLE_CAN_BE_DAMAGED( uParam0, 1 );
        if (bParam1)
        {
            SET_VEHICLE_ENGINE_ON( uParam0, 1, 1 );
        }
        SET_VEHICLE_ENGINE_HEALTH( uParam0, 600.00000000 );
        SET_VEHICLE_PETROL_TANK_HEALTH( uParam0, 300.00000000 );
        SET_VEHICLE_PROOFS( uParam0, 0, 1, 1, 0, 0 );
        SET_VEHICLE_ONLY_DAMAGED_BY_PLAYER( uParam0, uParam2 );
    }
    else
    {
        sub_1119( "SBA", "P_SET_STANDARD_VEHICLE_OPTIONS: CAR IS INVALID!", "***" );
    }
    return;
}

int sub_12484(unknown uParam0)
{
    if ((NOT (IS_VEHICLE_DEAD( uParam0 ))) AND (DOES_VEHICLE_EXIST( uParam0 )))
    {
        return 1;
    }
    return 0;
}

void sub_12797(unknown uParam0, boolean bParam1, unknown uParam2)
{
    if (bParam1)
    {
        sub_1119( "SBA", "P_SET_VEHICLE_LIGHTS: turning vehicle lights ON", "***" );
        SET_VEHICLE_LIGHTS( (uParam0^), 2 );
        SET_VEHICLE_LIGHT_MULTIPLIER( (uParam0^), uParam2 );
    }
    else
    {
        SET_VEHICLE_LIGHTS( (uParam0^), 1 );
        sub_1119( "SBA", "P_SET_VEHICLE_LIGHTS: turning vehicle lights OFF", "***" );
    }
    return;
}

void sub_13146(int iParam0, unknown uParam1, boolean bParam2)
{
    iParam0->_fU4 = uParam1;
    iParam0->_fU0 = CREATE_GROUP( 3, 1 );
    if (bParam2)
    {
        while (NOT (DOES_GROUP_EXIST( iParam0->_fU0 )))
        {
            WAIT( 0 );
        }
    }
    SET_GROUP_RATIO_FIRING_AT_VISIBLE( iParam0->_fU0, iParam0->_fU4 );
    SET_GROUP_RATIO_FIRING_AT_INVISIBLE( iParam0->_fU0, iParam0->_fU4 );
    if (iParam0->_fU8)
    {
        SET_GROUP_FORMATION( iParam0->_fU0, iParam0->_fU12 );
        SET_GROUP_FORMATION_SPACING( iParam0->_fU0, iParam0->_fU16 );
        SET_GROUP_FORMATION_MAX_MOVE_SPEED( iParam0->_fU0, iParam0->_fU20 );
    }
    return;
}

void sub_13419(unknown uParam0)
{
    if (DOES_PED_EXIST( uParam0 ))
    {
        if ((NOT (IS_PED_DEAD( uParam0 ))) || (IS_PED_DEAD( uParam0 )))
        {
            REMOVE_ALL_PED_WEAPONS( uParam0 );
            DELETE_PED( ref uParam0 );
        }
    }
    return;
}

void sub_13536(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, int iParam7, unknown uParam8)
{
    unknown uVar11;

    sub_13419( (uParam1^) );
    (uParam1^) = sub_13556( uParam0 );
    if (sub_14213( (uParam1^) ))
    {
        uVar11 = sub_8451( (uParam1^), uParam2, uParam5, 0, 1 );
        if (iParam7 != 0)
        {
            sub_7819( (uParam1^), iParam7, 0, uParam8, 0 );
        }
        SET_PED_AI_TEMPLATE( (uParam1^), uParam3 );
        SET_PED_ALERTNESS( (uParam1^), uParam6 );
        switch (uParam4)
        {
            case 0: break;
            case 1:
            ENABLE_WEAPON_ATTACHMENT( uVar11, 13, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uVar11, 13, 1 );
            break;
            case 2:
            ENABLE_WEAPON_ATTACHMENT( uVar11, 14, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uVar11, 14, 1 );
            break;
            case 3:
            ENABLE_WEAPON_ATTACHMENT( uVar11, 12, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uVar11, 12, 1 );
            break;
        }
    }
    return;
}

void sub_13556(int iParam0)
{
    int iVar3;

    iVar3 = 0;
    if (iParam0->_fU16 == 0)
    {
        if (iParam0->_fU20 != 0)
        {
            iVar3 = GET_SCENE_PED_MODEL( iParam0->_fU20 );
        }
    }
    else
    {
        iVar3 = iParam0->_fU16;
    }
    if ((HAS_MODEL_LOADED( iVar3 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
        sub_1221( iParam0->_fU16, 1 );
    }
    iParam0->_fU40 = CREATE_PED( iParam0->_fU24, iParam0->_fU16, iParam0->_fU0, iParam0->_fU12, 1, iParam0->_fU48 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( iParam0->_fU40, 1 );
        SET_PED_COORDS_NO_OFFSET( iParam0->_fU40, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU40 ) );
        SET_PED_HEADING( iParam0->_fU40, iParam0->_fU12 );
        iParam0->_fU44 = 1;
    }
    else
    {
        SCRIPT_ASSERT( "Error: The ped you created doesn't exist or is dead!", 0 );
    }
    sub_14035( iParam0->_fU40 );
    sub_14115( iParam0->_fU40 );
    return iParam0->_fU40;
}

void sub_14035(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_HEALTH( uParam0, 200, 0 );
        SET_PED_ACCURACY( uParam0, -729479261 );
    }
    return;
}

void sub_14115(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_AI_TEMPLATE( uParam0, "AIT_DEFAULT_GENERIC" );
    }
    return;
}

int sub_14213(unknown uParam0)
{
    if ((NOT (IS_PED_DEAD( uParam0 ))) AND (DOES_PED_EXIST( uParam0 )))
    {
        return 1;
    }
    return 0;
}

void sub_14505(unknown uParam0, int iParam1)
{
    int iVar4;
    unknown uVar5;

    if ((DOES_GROUP_EXIST( iParam1->_fU0 )) == 0)
    {
        sub_1326( "[SP]### Warning!!! Group does not exist. Creating new group specified attributes. ###" );
        if (iParam1->_fU4 > 0)
        {
            sub_13146( iParam1, iParam1->_fU4, 0 );
        }
        else
        {
            sub_13146( iParam1, 1056964608, 0 );
        }
    }
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        GET_GROUP_SIZE( iParam1->_fU0, ref iVar4, ref uVar5 );
        if (iVar4 == 0)
        {
            SET_PED_AS_GROUP_LEADER( uParam0, iParam1->_fU0 );
        }
        else
        {
            SET_PED_AS_GROUP_MEMBER( uParam0, iParam1->_fU0 );
        }
        SET_PED_NEVER_LEAVES_GROUP( uParam0, 1 );
    }
    return;
}

void sub_14827()
{
    unknown uVar2;

    sub_1119( "SBA", "CREATE_PARKING_LOT_ENEMIES", "***" );
    sub_14883();
    sub_16091();
    sub_16595( ref l_U668, 1 );
    sub_16595( ref l_U698, 1 );
    sub_16595( ref l_U715, 1 );
    sub_16870( ref l_U668 );
    sub_16870( ref l_U698 );
    sub_16870( ref l_U715 );
    sub_17090( ref l_U668 );
    sub_17090( ref l_U698 );
    sub_17090( ref l_U715 );
    return;
}

void sub_14883()
{
    int I;

    sub_1119( "TEH", "CREATE_VIG_6_PEDS_AND_OBJECTS - start", 0 );
    l_U782[0] = sub_12183( 1839686620, -19.22000000, -322.87500000, -0.61000000, -95.00000000, 1, 0, 0 );
    WAIT( 10 );
    sub_12412( l_U782[0], 0, 1 );
    FREEZE_VEHICLE_POSITION( l_U782[0], 1 );
    SET_VEHICLE_COLOUR_COMBINATION( l_U782[0], 1 );
    SET_VEHICLE_DIRT_LEVEL( l_U782[0], 10.90000000 );
    l_U782[1] = sub_12183( 557810561, -18.25000000, -317.25000000, -0.61000000, 4.00000000, 1, 0, 0 );
    WAIT( 10 );
    sub_12412( l_U782[1], 0, 1 );
    FREEZE_VEHICLE_POSITION( l_U782[1], 1 );
    SET_VEHICLE_COLOUR_COMBINATION( l_U782[1], 2 );
    SET_VEHICLE_DIRT_LEVEL( l_U782[1], 15.90000000 );
    SET_VEHICLE_EXTRA( l_U782[1], 1, 1 );
    SET_VEHICLE_EXTRA( l_U782[1], 2, 1 );
    SET_VEHICLE_EXTRA( l_U782[1], 3, 1 );
    SET_VEHICLE_EXTRA( l_U782[1], 4, 1 );
    SET_VEHICLE_EXTRA( l_U782[1], 5, 1 );
    SET_VEHICLE_EXTRA( l_U782[1], 6, 1 );
    SET_VEHICLE_EXTRA( l_U782[1], 7, 0 );
    SET_VEHICLE_EXTRA( l_U782[1], 8, 0 );
    sub_13146( ref l_U717, 1.00000000, 0 );
    sub_4240( ref l_U641[0], -18.95000000, -321.40000000, -0.66000000, -9.54500000, -486921312, 7, 3, 2, 0, 0 );
    sub_4240( ref l_U641[1], -20.61000000, -321.20000000, -0.66000000, -54.54500000, -863385930, 7, 3, 2, 0, 0 );
    sub_4240( ref l_U671[0], -20.53000000, -318.67000000, -0.66000000, -148.43000000, -203706296, 7, 3, 2, 0, 0 );
    sub_4240( ref l_U671[1], -19.65000000, -318.42000000, -0.66000000, -99.54500000, 1716597788, 7, 3, 2, 0, 0 );
    sub_4240( ref l_U701[0], -19.65771000, -315.34370000, -0.66237900, 266.61710000, -2038190238, 7, 3, 2, 0, 0 );
    sub_13536( ref l_U641[0], ref l_U668[0], 434544317, "AIT_NORMAL", 0, 25000, 2, 0, 25000 );
    sub_14505( l_U668[0], ref l_U717 );
    sub_15634( ref l_U668[0] );
    sub_13536( ref l_U641[1], ref l_U668[1], -862236369, "AIT_NORMAL", 0, 25000, 2, 0, 25000 );
    sub_14505( l_U668[1], ref l_U717 );
    sub_15634( ref l_U668[1] );
    for ( I = 0; I <= (l_U698 - 1); I++ )
    {
        sub_13536( ref l_U671[I], ref l_U698[I], -862236369, "AIT_NORMAL", 0, 25000, 2, 0, 25000 );
        sub_14505( l_U698[I], ref l_U717 );
        sub_15634( ref l_U698[I] );
    }
    for ( I = 0; I <= (l_U715 - 1); I++ )
    {
        sub_13536( ref l_U701[I], ref l_U715[I], -862236369, "AIT_NORMAL", 0, 25000, 2, 0, 25000 );
        sub_14505( l_U715[I], ref l_U717 );
        sub_15634( ref l_U715[I] );
    }
    sub_13146( ref l_U717, 1.00000000, 0 );
    sub_1119( "TEH", "CREATE_VIG_6_PEDS_AND_OBJECTS - end", 0 );
    return;
}

void sub_15634(unknown uParam0)
{
    if (sub_14213( (uParam0^) ))
    {
        SET_PED_ONLY_DAMAGED_BY_PLAYER( (uParam0^), 1 );
        SET_PED_GORE_FROM_NPC( (uParam0^), 0 );
        SET_PED_CHANCE_TO_REACT_TO_IMMINENT_DANGER( (uParam0^), 75 );
        SET_PED_COMBAT_ATTRIBUTES( (uParam0^), 131072, 0 );
        SET_PED_ALERTNESS( (uParam0^), 1 );
    }
    return;
}

void sub_16091()
{
    int I;

    sub_13146( ref l_U830, 1056964608, 0 );
    sub_1119( "BSW", "CREATE_PARKING_LOT_REINFORCEMENTS: creating reinforcements", "***" );
    for ( I = 0; I <= 2; I++ )
    {
        sub_13419( l_U826[I] );
        sub_13536( ref l_U786[I], ref l_U826[I], -862236369, "AIT_NORMAL", 0, 25000, 2, 0, 25000 );
        WAIT( 1 );
        if (sub_14213( l_U826[I] ))
        {
            sub_14505( l_U826[I], ref l_U830 );
            sub_16337( ref l_U826, "parking_lot_reinf" );
            SET_PED_GORE_FROM_NPC( l_U826[I], 0 );
            SET_PED_ONLY_DAMAGED_BY_PLAYER( l_U826[I], 1 );
        }
        sub_16474( l_U826[I] );
    }
    return;
}

void sub_16337(unknown uParam0, unknown uParam1)
{
    int I;
    char[32] cVar5;

    for ( I = 0; I < (uParam0^); I++ )
    {
        if (DOES_PED_EXIST( (uParam0^)[I] ))
        {
            StrCopy( ref cVar5, uParam1, 32 );
            ConcatString(ref cVar5, " ", 32);
            ConcatString(ref cVar5, I, 32);
            SET_PED_NAME_DEBUG( (uParam0^)[I], ref cVar5 );
        }
    }
    return;
}

void sub_16474(unknown uParam0)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_FREEZE_PROCESSING( uParam0, 1 );
        SET_PED_VISIBLE( uParam0, 0 );
        SET_PED_VISIBLE_DURING_SEQUENCE( uParam0, 0 );
        FREEZE_PED_POSITION( uParam0, 1 );
        SET_PED_COLLISION( uParam0, 0 );
        SET_PED_PROOFS( uParam0, 1, 1, 1, 1, 1 );
    }
    return;
}

void sub_16595(unknown uParam0, unknown uParam1)
{
    int I;

    sub_1119( "SBA", "P_FREEZE_PED_ARRAY", "***" );
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        sub_16668( (uParam0^)[I], uParam1 );
    }
    return;
}

void sub_16668(unknown uParam0, boolean bParam1)
{
    if (sub_14213( uParam0 ))
    {
        FREEZE_PED_POSITION( uParam0, bParam1 );
    }
    if (bParam1)
    {
        sub_16474( uParam0 );
    }
    else
    {
        sub_16722( uParam0 );
    }
    return;
}

void sub_16722(unknown uParam0)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_FREEZE_PROCESSING( uParam0, 0 );
        SET_PED_VISIBLE( uParam0, 1 );
        SET_PED_VISIBLE_DURING_SEQUENCE( uParam0, 1 );
        FREEZE_PED_POSITION( uParam0, 0 );
        SET_PED_COLLISION( uParam0, 1 );
        SET_PED_PROOFS( uParam0, 0, 0, 0, 0, 0 );
    }
    return;
}

void sub_16870(unknown uParam0)
{
    int I;

    sub_1119( "SBA", "P_SET_PARKING_ENEMY_ARRAY_TETHERS", "***" );
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        sub_16961( ref l_U1349, (uParam0^)[I], 1 );
        sub_16961( ref l_U1351, (uParam0^)[I], 1 );
    }
    return;
}

void sub_16961(int iParam0, unknown uParam1, unknown uParam2)
{
    if (((IS_PED_DEAD( uParam1 )) == 0) AND ((DOES_PED_EXIST( uParam1 )) == 1))
    {
        SET_PED_TETHERING_ADD_BOX( uParam1, iParam0->_fU0 );
        SET_PED_TETHERING_OPTION( uParam1, uParam2 );
    }
    return;
}

void sub_17090(unknown uParam0)
{
    int I;

    sub_1119( "SBA", "P_SET_PARKING_ENEMY_ARRAY_THATE_PASSOS", "***" );
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        if (sub_14213( (uParam0^)[I] ))
        {
            SET_PED_RELATIONSHIP( (uParam0^)[I], 2, 6 );
        }
    }
    return;
}

void sub_17288(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to load does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 0)
    {
        ISEQ_REQUEST( uParam0 );
        ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
        if (iParam1 == 1)
        {
            while ((ISEQ_QUERY_STATE( uParam0, 1 )) == 1)
            {
                WAIT( 0 );
            }
        }
    }
    return;
}

void sub_17526(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_17557( (uParam0^)[I] );
    }
    return;
}

void sub_17557(unknown uParam0)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        STOP_PED_SPEAKING( uParam0, 1 );
        SET_PED_HEALTH( uParam0, 0, 0 );
        SET_PED_CORPSE( uParam0, 0 );
    }
    return;
}

void sub_17773(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_COORDS( uParam0, uParam1, 1 );
        SET_PED_HEADING( uParam0, uParam4 );
    }
    return;
}

void sub_17830()
{
    sub_1119( "SBA", "P_EXIT_1ST_BLOCKER_CAR", "***" );
    sub_17891( ref l_U876, sub_6200() );
    sub_18022( ref l_U876, l_U1352, 1 );
    if (sub_14213( l_U876[0] ))
    {
        sub_1119( "SBA", "Setting piEnemyCar1[0] in cover", 0 );
        SET_PED_FLAG_LOCK_TO_COVER( l_U876[0], 1 );
        TASK_COMBAT_SNAP_TO_COVER( l_U876[0], "GenCover", "47E254B1_FB353B5A_Popover2", 0 );
    }
    if (sub_14213( l_U876[1] ))
    {
        sub_1119( "SBA", "Setting piEnemyCar1[1] in cover", 0 );
        SET_PED_FLAG_LOCK_TO_COVER( l_U876[1], 1 );
        if (NOT (IS_PED_USING_MP3_COVER_TASK( l_U876[1] )))
        {
            TASK_COMBAT_SNAP_TO_COVER( l_U876[1], "GenCover", "47E254B1_DC2D39A6_Corner2", 0 );
        }
    }
    return;
}

void sub_17891(unknown uParam0, unknown uParam1)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        if (sub_14213( (uParam0^)[I] ))
        {
            sub_17942( ref (uParam0^)[I], uParam1 );
        }
    }
    return;
}

void sub_17942(unknown uParam0, unknown uParam1)
{
    if ((sub_14213( uParam1 )) AND (sub_14213( (uParam0^) )))
    {
        REGISTER_TARGET( (uParam0^), uParam1 );
    }
    return;
}

void sub_18022(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        sub_18058( ref (uParam0^)[I], uParam1, uParam2 );
    }
    return;
}

void sub_18058(unknown uParam0, unknown uParam1, unknown uParam2)
{
    if (sub_14213( (uParam0^) ))
    {
        RESET_PED_TETHERING( (uParam0^) );
        sub_16961( ref uParam1, (uParam0^), uParam2 );
    }
    return;
}

int sub_18503()
{
    switch (l_U559)
    {
        case 0: break;
        case 1:
        sub_1119( "SP", "eMid01BlendState = BLEND_SETUP", 0 );
        sub_18614();
        sub_18719();
        l_U459 = 13;
        l_U460 = 13;
        sub_1119( "SP", "eMid01BlendState = advancing to BLEND_FIRST_FRAME", 0 );
        l_U559 = 2;
        break;
        case 2:
        sub_1119( "bsw", "eMid01BlendState = cam1MID01_Blendout shot finished, advancing to BLEND_PLAYING", 0 );
        l_U559 = 3;
        break;
        case 3:
        if (NOT l_U564)
        {
            if (CAMERA_ANIMATED_CURRENT_TIME() >= ((CAMERA_ANIMATED_LENGTH( "LEVEL_S_NYBAR_MID_01_BLENDOUT", "BLEND_OUT_MID_01_NYBAR_CAM" )) - 1))
            {
                sub_1119( "GA", "Animated camera is complete, freezing cam frame.", 0 );
                SET_GAMEPLAY_CAM_RELATIVE_HEADING( g_U2448, 1065353216, 0 );
                SET_GAMEPLAY_CAM_RELATIVE_PITCH( g_U2449, 1065353216, 0 );
                CAMERA_FREEZE_FRAME( 1, 500, 0, 0 );
                l_U564 = 1;
            }
        }
        if ((l_U564) AND ((ISEQ_QUERY_ENTITY_STATE( -850158086, "max", 6 )) == 1))
        {
            l_U559 = 4;
        }
        break;
        case 4:
        sub_19269( 1, 1 );
        l_U559 = 0;
        return 1;
        break;
    }
    return 0;
}

void sub_18614()
{
    if (((IS_PED_DEAD( sub_6200() )) == 0) AND ((IS_PLAYER_DEAD( sub_6222() )) == 0))
    {
        SNAP_PLAYER_TO_COVERPOINT( sub_6222(), "GenCover", "47E254B1_556B395F_Corner2", 0 );
    }
    return;
}

void sub_18719()
{
    CAMERA_PLAY_ANIMATED( "LEVEL_S_NYBAR_MID_01_BLENDOUT", "BLEND_OUT_MID_01_NYBAR_CAM", 0, 0, 0, 0, 0, 0, 0 );
    l_U564 = 0;
    return;
}

void sub_19269(boolean bParam0, boolean bParam1)
{
    SET_WIDESCREEN_BORDERS( 0, 500 );
    DISPLAY_HUD( 1 );
    if (NOT (IS_PED_DEAD( sub_6200() )))
    {
        SET_PLAYER_CONTROL( sub_6222(), 1, 0 );
        SET_PED_INVINCIBLE( sub_6200(), 0 );
        if (bParam0)
        {
            sub_19350();
        }
    }
    PULSE_CROSSHAIR( 1 );
    if (bParam1)
    {
        DESTROY_ALL_CAMS();
    }
    return;
}

void sub_19350()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD( sub_6200() )) == 0)
    {
        uVar2 = GET_WEAPON_FROM_HAND( sub_6200(), 0, 0 );
        uVar3 = GET_WEAPON_FROM_HAND( sub_6200(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
        {
            uVar4 = GET_MAX_AMMO_IN_HAND_CLIP_MP( sub_6200(), 0 );
            SET_WEAPON_AMMO_IN_CLIP( uVar2, uVar4 );
        }
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            uVar5 = GET_MAX_AMMO_IN_HAND_CLIP_MP( sub_6200(), 1 );
            SET_WEAPON_AMMO_IN_CLIP( uVar3, uVar5 );
        }
    }
    return;
}

void sub_19562(int iParam0, int iParam1, unknown uParam2, boolean bParam3)
{
    END_POSTFX_BLENDER( 12, 0 );
    if (bParam3)
    {
        STOP_ALL_IMAGEFX( 0 );
    }
    SET_WIDESCREEN_BORDERS( 1, 500 );
    DISPLAY_HUD( 0 );
    if (iParam0 == 1)
    {
        if (NOT (IS_PED_DEAD( sub_6200() )))
        {
            SET_PLAYER_CONTROL( sub_6222(), 0, uParam2 );
            SET_PED_DUCKING( sub_6200(), 0 );
            if (iParam1 == 1)
            {
                CLEAR_PED_TASKS_IMMEDIATELY( sub_6200() );
            }
            SET_PED_INVINCIBLE( sub_6200(), 1 );
        }
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    return;
}

int sub_19733()
{
    if (l_U457)
    {
        sub_1119( "CO", "F_IMAGEFX_FADE_IN: IMAGEFX START", 0 );
        START_PANEL_WIPE( 0, 6 );
        PLAY_IMAGEFX( "BULLETCAM_IMPACT", 3, 1 );
        PLAY_IMAGEFX( "BLACK_FADE_UP_FAST_01", 3, 1 );
        DO_SCREEN_FADE_IN( 0 );
        l_U457 = 0;
        return 1;
        break;
    }
    sub_1119( "CO", "F_IMAGEFX_FADE_IN: NORMAL START", 0 );
    return 0;
}

void sub_20153()
{
    if (NOT l_U1890)
    {
        sub_1119( "SBA", "P_HANDLE_CAR_RECORDING_TESTS is ACTIVE!!", "*****" );
        sub_1119( "SBA", "Normal gameplay for the Alley is OFF!!", "*****" );
        START_WIDGET_GROUP( "Alley Car Recordings" );
        START_NEW_WIDGET_COMBO();
        ADD_TO_WIDGET_COMBO( "0. Ram Car (full)" );
        ADD_TO_WIDGET_COMBO( "1. Lead Blocking Car" );
        ADD_TO_WIDGET_COMBO( "2. Second Blocking Car" );
        ADD_TO_WIDGET_COMBO( "3. Last Blocking Car" );
        STOP_WIDGET_COMBO( "Car Being Used", ref l_U1891 );
        ADD_WIDGET_BOOL( "Create Car and Put in Player", ref l_U1892 );
        ADD_WIDGET_BOOL( "Remove Player from Car", ref l_U1893 );
        ADD_WIDGET_BOOL( "Run Playback", ref l_U1894 );
        ADD_WIDGET_BOOL( "Stop Playback", ref l_U1895 );
        ADD_WIDGET_FLOAT_SLIDER( "Playback Speed", ref l_U44, 0.00000000, 10.00000000, 0.10000000 );
        STOP_WIDGET_GROUP();
        sub_20668();
        l_U1890 = 1;
    }
    switch (l_U1891)
    {
        case 0:
        if (l_U1892 == 1)
        {
            sub_1119( "SBA", "Setting up RAM CAR", 0 );
            sub_21077( ref l_U1896[0], g_U2253[4]._fU0, g_U2253[4]._fU12 );
            l_U1892 = 0;
        }
        if (l_U1894 == 1)
        {
            sub_21502( ref l_U1896[0] );
            l_U1894 = 0;
        }
        break;
        case 1:
        if (l_U1892 == 1)
        {
            sub_1119( "SBA", "Setting up FIRST BLOCKER CAR", 0 );
            sub_21077( ref l_U1896[1], g_U2253[4]._fU0, g_U2253[4]._fU12 );
            l_U1892 = 0;
        }
        if (l_U1894 == 1)
        {
            sub_21502( ref l_U1896[1] );
            l_U1894 = 0;
        }
        break;
        case 2:
        if (l_U1892 == 1)
        {
            sub_1119( "SBA", "Setting up SECOND BLOCKER CAR", 0 );
            sub_21077( ref l_U1896[2], g_U2253[4]._fU0, g_U2253[4]._fU12 );
            l_U1892 = 0;
        }
        if (l_U1894 == 1)
        {
            sub_21502( ref l_U1896[2] );
            l_U1894 = 0;
        }
        break;
        case 3:
        if (l_U1892 == 1)
        {
            sub_1119( "SBA", "Setting up LAST BLOCKER CAR", 0 );
            sub_21077( ref l_U1896[3], g_U2253[4]._fU0, g_U2253[4]._fU12 );
            l_U1892 = 0;
        }
        if (l_U1894 == 1)
        {
            sub_21502( ref l_U1896[3] );
            l_U1894 = 0;
        }
        break;
    }
    if (l_U1893)
    {
        sub_22099( ref l_U1896[l_U1891] );
        l_U1893 = 0;
    }
    if (l_U1895)
    {
        if (sub_12484( l_U1896[l_U1891]._fU0 ))
        {
            if (IS_PLAYBACK_GOING_ON_FOR_VEHICLE( l_U1896[l_U1891]._fU0 ))
            {
                STOP_PLAYBACK_RECORDED_VEHICLE( l_U1896[l_U1891]._fU0 );
            }
        }
        l_U1895 = 0;
    }
    return;
}

void sub_20668()
{
    sub_1119( "SBA", "P_INIT_CAR_REC_DATA", 0 );
    l_U1896[0]._fU8 = l_U1357;
    l_U1896[0]._fU12 = {-110.00000000, -352.97000000, 1.20000000};
    l_U1896[0]._fU24 = -0.91000000;
    l_U1896[1]._fU8 = l_U1356;
    l_U1896[1]._fU12 = {-109.54000000, -315.88000000, 0.45000000};
    l_U1896[1]._fU24 = -176.00000000;
    l_U1896[2]._fU8 = l_U1359;
    l_U1896[2]._fU12 = {-110.00000000, -348.79000000, 0.84000000};
    l_U1896[2]._fU24 = 0.84000000;
    l_U1896[3]._fU8 = l_U1360;
    l_U1896[3]._fU12 = {-110.00000000, -355.90000000, 0.94000000};
    l_U1896[3]._fU24 = 0.94000000;
    return;
}

void sub_21077(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    sub_1119( "SBA", "Use Car Rec #:", 0 );
    sub_21121( iParam0->_fU8 );
    l_U45 = l_U45;
    if (sub_14213( sub_6200() ))
    {
        if (sub_12484( iParam0->_fU0 ))
        {
            if (IS_PED_IN_VEHICLE( sub_6200(), iParam0->_fU0 ))
            {
                TASK_LEAVE_VEHICLE_IMMEDIATELY( sub_6200(), iParam0->_fU0 );
                SET_PED_COORDS( sub_6200(), uParam1, 1 );
                SET_PED_HEADING( sub_6200(), uParam4 );
            }
        }
    }
    WAIT( 100 );
    sub_21263( iParam0->_fU0 );
    sub_1221( iParam0->_fU4, 1 );
    iParam0->_fU0 = CREATE_VEHICLE( iParam0->_fU4, iParam0->_fU12, iParam0->_fU24, 1, 0 );
    if (sub_12484( iParam0->_fU0 ))
    {
        SET_VEHICLE_COORDS( iParam0->_fU0, iParam0->_fU12 );
        SET_VEHICLE_HEADING( iParam0->_fU0, iParam0->_fU24 );
        SET_VEHICLE_ON_GROUND_PROPERLY( iParam0->_fU0 );
    }
    if (sub_14213( sub_6200() ))
    {
        if (sub_12484( iParam0->_fU0 ))
        {
            SET_PED_INTO_VEHICLE( sub_6200(), iParam0->_fU0, -1 );
        }
    }
    return;
}

void sub_21121(unknown uParam0)
{
    return;
}

void sub_21263(unknown uParam0)
{
    if (IS_VEHICLE_DEAD( uParam0 ))
    {
        ;
    }
    if (DOES_VEHICLE_EXIST( uParam0 ))
    {
        DELETE_VEHICLE( ref uParam0 );
    }
    return;
}

void sub_21502(int iParam0)
{
    if (sub_12484( iParam0->_fU0 ))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_VEHICLE( iParam0->_fU0 ))
        {
            STOP_PLAYBACK_RECORDED_VEHICLE( iParam0->_fU0 );
        }
    }
    WAIT( 0 );
    sub_1491( iParam0->_fU8, 1 );
    if (sub_12484( iParam0->_fU0 ))
    {
        sub_1119( "SBA", "Playing Back Car Rec #:", 0 );
        sub_21121( iParam0->_fU8 );
        START_PLAYBACK_RECORDED_VEHICLE( iParam0->_fU0, iParam0->_fU8 );
        SET_PLAYBACK_SPEED( iParam0->_fU0, l_U44 );
    }
    return;
}

void sub_22099(int iParam0)
{
    if (sub_14213( sub_6200() ))
    {
        if (sub_12484( iParam0->_fU0 ))
        {
            if (IS_PED_IN_VEHICLE( sub_6200(), iParam0->_fU0 ))
            {
                TASK_LEAVE_VEHICLE_IMMEDIATELY( sub_6200(), iParam0->_fU0 );
            }
        }
    }
    return;
}

void sub_22302()
{
    if (l_U461 != l_U459)
    {
        sub_1119( "TEH", "playing music:changed CUR FLAG", 0 );
        sub_21121( l_U459 );
        sub_21121( l_U460 );
        l_U461 = l_U459;
    }
    else if (l_U462 != l_U460)
    {
        sub_1119( "TEH", "playing music:changed NEW FLAG", 0 );
        sub_21121( l_U459 );
        sub_21121( l_U460 );
        l_U462 = l_U460;
    }
    switch (l_U459)
    {
        case 1:
        sub_1119( "TEH", "playing music: STARTUP PArking lot  ", 0 );
        AUDIO_MUSIC_FORCE_TRACK( "NYBAR_SONG_2ND", "NYBAR_02_2_3", "", 0, 5000, 5000, -1082130432, 0 );
        l_U472 = 0;
        l_U459 = 4;
        break;
        case 2:
        sub_1119( "TEH", "playing music: restart parking lot ", 0 );
        AUDIO_MUSIC_FORCE_TRACK( "NYBAR_SONG_2ND", "NYBAR_02_2_3", "", 0, 5000, 5000, -1082130432, 0 );
        l_U472 = 0;
        l_U459 = 4;
        break;
        case 4:
        if (l_U460 == 4)
        {
            AUDIO_MUSIC_FORCE_TRACK( "NYBAR_SONG_2ND", "NYBAR_02_2", "", 0, 0, 4000, -1082130432, 0 );
            l_U459 = 5;
            l_U460 = 5;
        }
        break;
        case 5:
        if (l_U460 == 5)
        {
            if (l_U472 == 0)
            {
                AUDIO_MUSIC_PRELOAD_ONESHOT( "NYBAR_OS_4", 0 );
                if (AUDIO_MUSIC_IS_ONESHOT_PREPARED( 0 ))
                {
                    sub_1119( "TEH", "playing music: Succesfully preloaded NYBAR_OS_4", 0 );
                    l_U472 = 1;
                }
            }
            else
            {
                l_U459 = 6;
            }
        }
        break;
        case 6:
        if (l_U460 == 6)
        {
            sub_1119( "TEH", "Playing music: Playing NYBAR_02_2_4_6 ", 0 );
            AUDIO_MUSIC_FORCE_TRACK( "NYBAR_SONG_2ND", "NYBAR_02_2_4_6", "", 0, 4000, 5000, -1082130432, 0 );
            AUDIO_MUSIC_PRELOAD_ONESHOT( "NYBAR_OS_4", 0 );
            l_U459 = 7;
            l_U460 = 7;
        }
        break;
        case 7:
        if (l_U460 == 7)
        {
            if (l_U472 == 0)
            {
                AUDIO_MUSIC_PRELOAD_ONESHOT( "NYBAR_ONESHOT_8", 0 );
                if (AUDIO_MUSIC_IS_ONESHOT_PREPARED( 0 ))
                {
                    sub_1119( "TEH", "playing music: Succesfully preloaded oneshot_08 ", 0 );
                    l_U472 = 1;
                }
            }
            else
            {
                l_U459 = 8;
            }
        }
        break;
        case 8:
        if (l_U460 == 8)
        {
            if (l_U472 == 1)
            {
                sub_1119( "BSW", "playing music: oneshot_08 script thinks we're loaded", 0 );
                if (AUDIO_MUSIC_IS_ONESHOT_PREPARED( 0 ))
                {
                    sub_1119( "TEH", "playing music: Sussesfully played oneshot_08 ", 0 );
                    AUDIO_MUSIC_PLAY_ONESHOT();
                }
                else
                {
                    sub_1119( "TEH", "playing music: FAILED to play oneshot_08 becuase AUDIO_MUSIC_IS_ONESHOT_PREPARED was false", 0 );
                }
            }
            l_U472 = 0;
            l_U459 = 9;
        }
        break;
        case 9:
        if (l_U460 == 9)
        {
            sub_1119( "TEH", "playing music:  played NYBAR_02_6", 0 );
            AUDIO_MUSIC_FORCE_TRACK( "NYBAR_SONG_2ND", "NYBAR_02_6", "", 0, 7000, 5000, -1082130432, 0 );
            l_U459 = 10;
        }
        break;
        case 10:
        if (l_U460 == 10)
        {
            AUDIO_MUSIC_SUSPEND( 6000 );
            l_U459 = 11;
        }
        break;
        case 11:
        if (l_U460 == 11)
        {
            sub_1119( "TEH", "playing music: MC_CUTSCENE_CARSKID ", 0 );
            AUDIO_MUSIC_FORCE_TRACK( "NYBAR_SONG_2ND", "NYBAR_02_4", "", 0, 1000, -1, -1082130432, 0 );
            l_U459 = 12;
        }
        break;
        case 12:
        if (l_U460 == 12)
        {
            sub_1119( "TEH", "playing music: MC_CUTSCENE_SETTING_UP_FOR_FALL_LINE", 0 );
            AUDIO_MUSIC_FORCE_TRACK( "NYBAR_SONG_2ND", "NYBAR_02_1_4", "", 0, 4000, -1, -1082130432, 0 );
            l_U459 = 13;
        }
        break;
        case 13:
        if (l_U460 == 13)
        {
            sub_1119( "TEH", "playing music: MC_ALLEY_FIGHT_STARTS ", 0 );
            l_U472 = 0;
            AUDIO_MUSIC_FORCE_TRACK( "NYBAR_SONG_2ND", "NYBAR_02_1_2_4_6", "", 0, 1000, -1, -1082130432, 0 );
            l_U459 = 14;
            l_U460 = 14;
        }
        break;
        case 3:
        sub_1119( "TEH", "playing music: restart alley ", 0 );
        AUDIO_MUSIC_FORCE_TRACK( "NYBAR_SONG_2ND", "NYBAR_02_1_2_4", "", 0, 1000, -1, -1082130432, 0 );
        l_U472 = 0;
        l_U459 = 14;
        l_U460 = 14;
        break;
        case 14:
        if (l_U460 == 14)
        {
            if (l_U472 == 0)
            {
                AUDIO_MUSIC_PRELOAD_ONESHOT( "NYBAR_ONESHOT_13", 0 );
                if (AUDIO_MUSIC_IS_ONESHOT_PREPARED( 0 ))
                {
                    sub_1119( "TEH", "playing music: Succesfully preloaded oneshot_13 ", 0 );
                    l_U472 = 1;
                }
            }
            else
            {
                l_U459 = 15;
            }
        }
        break;
        case 15:
        if (l_U460 == 15)
        {
            if (l_U472 == 1)
            {
                if (AUDIO_MUSIC_IS_ONESHOT_PREPARED( 0 ))
                {
                    sub_1119( "TEH", "playing music: Sussesfully played oneshot_13 ", 0 );
                    AUDIO_MUSIC_PLAY_ONESHOT();
                }
            }
            l_U472 = 0;
            l_U459 = 16;
            l_U460 = 16;
        }
        break;
        case 16:
        if ((AUDIO_MUSIC_IS_ONESHOT_PREPARED( 0 )) == 0)
        {
            l_U459 = 17;
            l_U460 = 17;
        }
        break;
        case 17:
        if (l_U460 == 17)
        {
            if (l_U472 == 0)
            {
                AUDIO_MUSIC_PRELOAD_ONESHOT( "NYBAR_ONESHOT_16", 0 );
                if (AUDIO_MUSIC_IS_ONESHOT_PREPARED( "NYBAR_ONESHOT_16" ))
                {
                    sub_1119( "TEH", "playing music: Succesfully preloaded oneshot_16 ", 0 );
                    l_U472 = 1;
                }
            }
            else
            {
                l_U459 = 18;
            }
        }
        break;
        case 18:
        if (l_U460 == 18)
        {
            sub_1119( "TEH", "playing music: trying to play oneshot 16", 0 );
            if (l_U472 == 1)
            {
                if (AUDIO_MUSIC_IS_ONESHOT_PREPARED( "NYBAR_ONESHOT_16" ))
                {
                    sub_1119( "TEH", "playing music: Sussesfully played oneshot_16 ", 0 );
                    AUDIO_MUSIC_PLAY_ONESHOT();
                }
            }
            else
            {
                sub_1119( "TEH", "playing music: failed to play oneshot 16 no oneshot prepared", 0 );
            }
            l_U472 = 0;
            l_U459 = 19;
            l_U460 = 19;
        }
        break;
        case 19:
        if ((AUDIO_MUSIC_IS_ONESHOT_PREPARED( 0 )) == 0)
        {
            l_U459 = 20;
            l_U460 = 20;
        }
        break;
        case 20:
        if (l_U460 == 20)
        {
            if (l_U472 == 0)
            {
                AUDIO_MUSIC_PRELOAD_ONESHOT( "NYBAR_ONESHOT_6", 0 );
                if (AUDIO_MUSIC_IS_ONESHOT_PREPARED( "NYBAR_ONESHOT_6" ))
                {
                    sub_1119( "TEH", "playing music: Succesfully preloaded oneshot_6", 0 );
                    l_U472 = 1;
                }
            }
            else
            {
                l_U459 = 21;
            }
        }
        break;
        case 21:
        if (l_U460 == 21)
        {
            if (l_U472 == 1)
            {
                if (AUDIO_MUSIC_IS_ONESHOT_PREPARED( "NYBAR_ONESHOT_6" ))
                {
                    sub_1119( "TEH", "playing music: Sussesfully played oneshot_6", 0 );
                    AUDIO_MUSIC_PLAY_ONESHOT();
                }
            }
            l_U472 = 0;
            l_U459 = 22;
        }
        break;
        case 22:
        if (l_U460 == 22)
        {
            sub_1119( "TEH", "playing music: AUDIO_MUSIC_SUSPEND(12000) ", 0 );
            AUDIO_MUSIC_SUSPEND( 6000 );
            l_U459 = 23;
        }
        break;
        case 23:
        if (l_U460 == 23)
        {
            sub_1119( "TEH", "playing music: AUDIO_MUSIC_SUSPEND(500) ", 0 );
            AUDIO_MUSIC_SUSPEND( 0 );
            l_U459 = 24;
        }
        break;
    }
    return;
}

void sub_25742()
{
    if ((g_U724 == 5) || (g_U724 == 4))
    {
        if (l_U1866 == 0)
        {
            if ((IS_PED_DEAD( sub_6200() )) == 1)
            {
                sub_1119( "SBA", "P_HANDLE_CHECKPOINTS: player is dead, setting eFailure = STATE_FAIL_WAITING", "***" );
                l_U1866 = 2;
                sub_25905( 1 );
            }
            else if (sub_25972())
            {
                sub_1119( "SBA", "HANDLE_CHECKPOINTS - Restart, setting eFailure = STATE_FAIL_WAITING", 0 );
                l_U1866 = 2;
            }
            else if (((l_U1758 < 13) AND (l_U1758 > 8)) || ((l_U1758 < 7) AND (l_U1758 > 2)))
            {
                if (NOT IS_LAST_MAN_STANDING_ACTIVE())
                {
                    if ((NOT IS_LAST_MAN_STANDING_ACTIVE()) AND (IS_PED_DEAD( g_U750 )))
                    {
                        sub_1119( "SBA", "P_HANDLE_CHECKPOINTS: Passos killed, setting eFailure = STATE_FAIL_DEATH_CAM_PASSOS", "***" );
                        SET_PED_GORE( g_U750, 1 );
                        l_U1866 = 1;
                    }
                    else if (g_U2199)
                    {
                        sub_1119( "SBA", "P_HANDLE_CHECKPOINTS: Passos abandoned, setting eFailure = STATE_FAIL_DEATH_CAM_PASSOS", "***" );
                        l_U1866 = 1;
                    }
                }
            };;;
        }
        sub_26821();
    }
    return;
}

void sub_25905(unknown uParam0)
{
    sub_1119( "NS", "P_SETUP_PLAYER_DEATH_CAM()", 0 );
    uParam0 = uParam0;
    return;
}

int sub_25972()
{
    if (HAS_SELECTED_RETRY_CHECKPOINT())
    {
        if (IS_IN_NYMINUTE_MODE())
        {
            SWITCH_TO_LEVEL( GET_INDEX_OF_CURRENT_LEVEL() );
        }
        if (HAS_CUTSCENE_FINISHED() == 0)
        {
            return 0;
        }
        l_U0 = 0;
        g_U648 = 1;
        DO_SCREEN_FADE_OUT( 0 );
        ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 1 );
        TERMINATE_GAME_BULLET_CAMERA();
        if (IS_ANIMATED_CAMERA_PLAYING())
        {
            CAMERA_ANIMATED_STOP( 0, 0 );
        }
        STOP_ALL_SCRIPTED_CONVERSATIONS( 0 );
        DEACTIVATE_BULLET_TIME( 1, 0 );
        END_POSTFX_BLENDER( 0, 0 );
        END_POSTFX_BLENDER( 2, 0 );
        END_POSTFX_BLENDER( 3, 0 );
        END_POSTFX_BLENDER( 4, 0 );
        END_POSTFX_BLENDER( 5, 0 );
        END_POSTFX_BLENDER( 7, 0 );
        END_POSTFX_BLENDER( 9, 0 );
        END_POSTFX_BLENDER( 10, 0 );
        END_POSTFX_BLENDER( 11, 0 );
        END_POSTFX_BLENDER( 12, 0 );
        END_POSTFX_BLENDER( 13, 0 );
        END_POSTFX_BLENDER( 14, 0 );
        END_POSTFX_BLENDER( 15, 0 );
        END_POSTFX_BLENDER( 16, 0 );
        STOP_ALL_IMAGEFX( 0 );
        if (NOT (IS_PED_DEAD( sub_6200() )))
        {
            SET_PED_FORCED_TO_WALK( sub_6200(), 0 );
            SET_PLAYER_FORCED_AIM( sub_6222(), 0, 0 );
            SET_PLAYER_CAN_USE_SHOOTDODGE( sub_6222(), 1 );
            if ((IS_PED_VISIBLE( sub_6200() )) == 0)
            {
                SET_PED_VISIBLE( sub_6200(), 1 );
            }
        }
        CLEAR_PRINTS();
        CLEAR_HELP();
        SET_INTERACTIONTEXT_VISIBLE( 0 );
        RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
        DESTROY_ALL_CAMS();
        AUDIO_MUSIC_SUSPEND( 500 );
        return 1;
    }
    return 0;
}

void sub_26821()
{
    switch (l_U1866)
    {
        case 0: break;
        case 1:
        if (sub_26904())
        {
            SET_PED_INVINCIBLE( sub_6200(), 1 );
        }
        if (l_U1865 == 2)
        {
            l_U1866 = 2;
            sub_26979( 0 );
            sub_1119( "CCB", "ePassosDeathState = PE_MOVING; eFailure - STATE_FAIL_WAITING", 0 );
        }
        else if (sub_27877())
        {
            l_U1866 = 2;
            sub_1119( "CCB", "eFailure - STATE_FAIL_WAITING", 0 );
        }
        break;
        case 2:
        if (sub_30677())
        {
            l_U1866 = 3;
            sub_1119( "CCB", "eFailure - STATE_FAIL_WAITING_PLAYER_RESPAWN", 0 );
        }
        else if ((sub_30776( 0 )) == 1)
        {
            l_U1866 = 3;
            sub_1119( "CCB", "eFailure - STATE_FAIL_WAITING_PLAYER_RESPAWN", 0 );
        }
        break;
        case 3:
        if (NOT (IS_PED_DEAD( sub_6200() )))
        {
            sub_1119( "CCB", "Deactivating bullettime...", 0 );
            DEACTIVATE_BULLET_TIME( 1, 0 );
            END_POSTFX_BLENDER( 3, 0 );
            l_U1866 = 4;
            sub_1119( "CCB", "eFailure - STATE_FAIL_CLEANUP", 0 );
        }
        else
        {
            sub_1119( "NS", "Waiting For Player Respawn", 0 );
        }
        break;
        case 4:
        if (NOT (IS_PLAYER_DEAD( sub_6222() )))
        {
            if (NOT (IS_PED_DEAD( sub_6200() )))
            {
                SET_PLAYER_CONTROL( sub_6222(), 0, 0 );
            }
        }
        sub_31926( "NY_PASSOS3_SCRIPTED_FAIL_FX" );
        DESTROY_ALL_CAMS();
        RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
        if (sub_26904())
        {
            SET_PED_VISIBLE( sub_6200(), 1 );
        }
        sub_1119( "CCB", "Destroying Passos...", 0 );
        sub_13419( g_U750 );
        sub_32117( 1 );
        l_U1866 = 5;
        sub_1119( "CCB", "eFailure - STATE_FAIL_RESTORE", 0 );
        break;
        case 5:
        sub_1901();
        sub_5311();
        SET_SCRIPT_CONTROL_RESET_ON_PLAYER_DEATH( 1 );
        if (NOT IS_BULLET_CAMERA_TO_GAMEPLAY_ALLOWED())
        {
            ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
        }
        sub_33580();
        sub_1432();
        g_U2199 = 0;
        l_U1866 = 6;
        sub_1119( "CCB", "eFailure - STATE_FAIL_RESTART", 0 );
        break;
        case 6:
        if (GET_NUMBER_OF_STREAMING_REQUESTS() == 0)
        {
            sub_1119( "CCB", "eFailure - STATE_FAIL_IDLE", 0 );
            g_U2198 = 1;
            sub_10375();
            if (sub_26904())
            {
                SET_PED_INVINCIBLE( sub_6200(), 0 );
            }
            if (g_U724 == 5)
            {
                sub_1119( "CCB", "eFailure - STATE_FAIL_IDLE", 0 );
                sub_6266( ref l_U605, sub_6200() );
                sub_11360();
                l_U459 = 3;
                l_U1758 = 8;
            }
            else
            {
                sub_6266( ref l_U569, sub_6200() );
                l_U459 = 2;
                l_U1758 = 0;
            }
            l_U1866 = 0;
            sub_1119( "CCB", "eCheckpoint - STATE_CHECKPOINT_INIT", 0 );
        }
        else
        {
            sub_1119( "CCB", "Waiting for stream requests...", 0 );
        }
        break;
    }
    return;
}

int sub_26904()
{
    if (sub_14213( sub_6200() ))
    {
        return 1;
    }
    return 0;
}

void sub_26979(unknown uParam0)
{
    string sVar3;
    string sVar4;
    string sVar5;
    string sVar6;
    string sVar7;

    sub_1119( "NS", "P_SETUP_PASSOS_DEATH()", 0 );
    sVar3 = "";
    sVar4 = "";
    sVar5 = "";
    sVar6 = "";
    sVar7 = "";
    switch (l_U275)
    {
        case 0:
        sVar4 = "S_NYB_FAIL_09A";
        sVar5 = "S_NYB_FAIL_09B";
        sVar6 = "S_NYB_FAIL_09C";
        sVar7 = "S_NYB_FAIL_09D";
        sVar3 = "MISS_FAIL_04";
        break;
        case 1:
        sVar4 = "S_NYB_FAIL_10A";
        sVar5 = "S_NYB_FAIL_10B";
        sVar3 = "MISS_FAIL_08";
        break;
        case 2:
        sVar4 = "S_NYB_FAIL_11A";
        sVar5 = "S_NYB_FAIL_11B";
        sVar6 = "S_NYB_FAIL_11C";
        sVar7 = "S_NYB_FAIL_11D";
        sVar3 = "MISS_FAIL_04";
        break;
        case 3:
        sVar4 = "S_NYB_FAIL_12A";
        sVar5 = "S_NYB_FAIL_12B";
        sVar6 = "S_NYB_FAIL_12C";
        sVar7 = "S_NYB_FAIL_12D";
        sVar3 = "MISS_FAIL_04";
        break;
        case 4:
        sVar4 = "S_NYB_FAIL_13A";
        sVar5 = "S_NYB_FAIL_13B";
        sVar6 = "S_NYB_FAIL_13C";
        sVar7 = "S_NYB_FAIL_13D";
        sVar3 = "MISS_FAIL_05";
        break;
    }
    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 1 );
    sub_27575( sVar3, sVar4, sVar5, sVar6, sVar7, uParam0 );
    l_U275++;
    if (l_U275 == 5)
    {
        l_U275 = 0;
    }
    return;
}

void sub_27575(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    sub_1119( "NS", "P_SETUP_AND_PLAY_DEATH_CAM()", 0 );
    uParam5 = uParam5;
    if (NOT (IS_STRING_NULL( uParam1 )))
    {
        SET_PRESET_TEXT( uParam0, 0, 0, "" );
    }
    if (NOT (IS_STRING_NULL( uParam2 )))
    {
        SET_PRESET_TEXT( uParam0, 0, 1, "" );
    }
    if (NOT (IS_STRING_NULL( uParam3 )))
    {
        SET_PRESET_TEXT( uParam0, 0, 2, "" );
    }
    if (NOT (IS_STRING_NULL( uParam4 )))
    {
        SET_PRESET_TEXT( uParam0, 0, 3, "" );
    }
    return;
}

int sub_27877()
{
    switch (l_U1747)
    {
        case 0:
        sub_1119( "CCB", "ePassosDeathCamState - STATE_DEATHCAM_INIT", 0 );
        ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 1 );
        sub_19562( 1, 0, 0, 1 );
        sub_28018( ref l_U876 );
        sub_28018( ref l_U921 );
        sub_28018( ref l_U966 );
        sub_28018( ref l_U668 );
        sub_28018( ref l_U698 );
        sub_28018( ref l_U715 );
        sub_28018( ref l_U826 );
        if (sub_26904())
        {
            SET_PED_VISIBLE( sub_6200(), 0 );
        }
        if (sub_28150())
        {
            CLEAR_PED_TASKS_IMMEDIATELY( g_U750 );
            sub_28225( ref g_U750 );
        }
        if (l_U1865 == 0)
        {
            sub_28574( ref l_U1825, -11.52072000, -322.28160000, -0.13818200, 6.70345700, -0.14873900, 24.14595000, 45, 6000 );
            sub_4240( ref l_U984, -12.55000000, -317.08000000, -0.66000000, 180, 812785529, 7, 3, 2, 0, 0 );
            sub_13419( l_U997 );
            l_U997 = sub_13556( ref l_U984 );
            if (sub_14213( l_U997 ))
            {
                sub_28865( ref l_U997 );
                sub_8451( l_U997, -862236369, 25000, 0, 0 );
                REGISTER_TARGET( l_U997, g_U750 );
                SET_PED_DEFAULT_AIM_AT_PED( l_U997, g_U750 );
                TASK_AIM_GUN_AT_PED( l_U997, g_U750, -1, 0 );
            }
        }
        else if (l_U1865 == 1)
        {
            sub_28574( ref l_U1825, -74.80502000, -335.44190000, 5.30490800, -31.82968000, -0.35267100, -41.85088000, 45, 6000 );
            if (NOT (sub_29096( ref g_U750, -74.66553000, -333.98280000, 2.97000000, 90.00000000 )))
            {
                PED_SET_ACTION_INTENTION( g_U750, 58, 1000, 0, 0, 0 );
                PED_SET_ACTION_INTENTION( g_U750, 55, -1, 0, 0, 0 );
            }
            sub_4240( ref l_U984, -65.24000000, -329.29000000, 0.23000000, 90, 812785529, 7, 3, 2, 0, 0 );
            sub_13419( l_U997 );
            l_U997 = sub_13556( ref l_U984 );
            if (sub_14213( l_U997 ))
            {
                sub_28865( ref l_U997 );
                sub_8451( l_U997, -862236369, 25000, 0, 0 );
                REGISTER_TARGET( l_U997, g_U750 );
                SET_PED_DEFAULT_AIM_AT_PED( l_U997, g_U750 );
                TASK_AIM_GUN_AT_PED( l_U997, g_U750, -1, 0 );
            }
        }
        l_U1747 = 3;
        sub_1119( "CCB", "ePassosDeathCamState - STATE_DEATHCAM_START", 0 );
        case 3:
        sub_29445( ref l_U1825 );
        if (l_U1865 == 0)
        {
            sub_29683( "NY_PASSOS2_SCRIPTED_FAIL_FX", 0 );
        }
        else
        {
            sub_29683( "NY_PASSOS3_SCRIPTED_FAIL_FX", 0 );
        }
        SHAKE_CAM( l_U1825._fU0, sub_29999(), 0.25000000 );
        sub_5805( ref l_U1856, 500, 1, 0 );
        sub_29500( ref l_U1856 );
        l_U1747 = 2;
        sub_1119( "CCB", "ePassosDeathCamState - STATE_DEATHCAM_WAITING", 0 );
        break;
        case 2:
        if (sub_30142( ref l_U1856 ))
        {
            if ((sub_14213( g_U750 )) AND (sub_14213( l_U997 )))
            {
                SET_PED_SHOOTS_AT_COORD( l_U997, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_BONE_COORDS( g_U750, 65488, 0, 0, 0 ) );
                SHAKE_CAM( l_U1825._fU0, "SMALL_EXPLOSION_SHAKE", 1 );
                sub_17557( g_U750 );
                sub_5805( ref l_U1856, 250, 1, 0 );
                sub_29500( ref l_U1856 );
                l_U1747 = 5;
                sub_1119( "CCB", "ePassosDeathCamState - STATE_DEATHCAM_PLAYING", 0 );
            }
        }
        break;
        case 5:
        if (sub_30142( ref l_U1856 ))
        {
            l_U1747 = 6;
            sub_1119( "CCB", "ePassosDeathCamState - STATE_DEATHCAM_FINISHED", 0 );
        }
        break;
        case 6:
        return 1;
        break;
    }
    return 0;
}

void sub_28018(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_16474( (uParam0^)[I] );
    }
    return;
}

int sub_28150()
{
    if ((NOT (IS_PED_DEAD( g_U750 ))) AND (DOES_PED_EXIST( g_U750 )))
    {
        return 1;
    }
    return 0;
}

void sub_28225(unknown uParam0)
{
    sub_1119( "RJM", "P_SETUP_PASSOS_FOR_FAILURE_SCENE", "***" );
    if (sub_14213( (uParam0^) ))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( (uParam0^), 1 );
        SET_PED_CAN_TRIGGER_BULLET_CAM( (uParam0^), 0 );
        SET_PED_VALIDATE_BULLET_CAM_HIT( (uParam0^), 1 );
        SET_AI_SHOULD_ALWAYS_MISS_PED( (uParam0^), 0 );
        SET_CAN_AI_KICK_THROUGH_CORPSES( (uParam0^), 1 );
        "[doubled result, dropped if not asigned]";
        "[doubled result, dropped if not asigned]";
        SET_PED_AI_TEMPLATE( (uParam0^), "AIT_NORMAL" );
        SET_PED_ONLY_DAMAGED_BY_PLAYER( (uParam0^), 0 );
        SET_PED_AS_ONE_SHOT_KILL( (uParam0^), 1 );
        SET_PED_GORE( (uParam0^), 1 );
        SET_PED_CAN_RAGDOLL_FROM_PLAYER_IMPACT( (uParam0^), 0 );
        SET_PED_PROOFS( (uParam0^), 0, 1, 1, 1, 1 );
        SET_PED_ALLOWED_TO_SURRENDER( (uParam0^), 0 );
        SET_PED_CAN_AVOID_DEATH_ZONES( (uParam0^), 0 );
        SET_PED_STAND_GROUND_ON_PLAYER_IMPACT( (uParam0^), 1 );
        SET_PED_CAN_PUSH_PLAYER( (uParam0^), 1 );
        SET_PED_RESIST_TO_OBJECT_COLLISION( (uParam0^), 0 );
        "[doubled result, dropped if not asigned]";
        "[doubled result, dropped if not asigned]";
        SET_PED_CAN_BE_TARGETTED( (uParam0^), 1 );
    }
    return;
}

void sub_28574(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    iParam0->_fU4 = {uParam4};
    iParam0->_fU16 = {uParam1};
    iParam0->_fU28 = uParam7;
    iParam0->_fU32 = 0;
    iParam0->_fU36 = 0;
    iParam0->_fU84 = uParam8;
    iParam0->_fU88 = 0;
    iParam0->_fU92 = 0;
    iParam0->_fU40 = 0;
    iParam0->_fU44 = 0;
    iParam0->_fU100 = 1;
    iParam0->_fU104 = 1;
    iParam0->_fU96 = 0;
    sub_5805( iParam0 + 48, uParam8, 1, 0 );
    iParam0->_fU0 = CREATE_CAM_WITH_PARAMS( ref g_U649, iParam0->_fU16, iParam0->_fU4, iParam0->_fU28, 1 );
    SET_CAM_PARAMS( iParam0->_fU0, iParam0->_fU16, iParam0->_fU4, iParam0->_fU28, 0, 1, 1 );
    return;
}

void sub_28865(unknown uParam0)
{
    if (sub_14213( (uParam0^) ))
    {
        CLEAR_PED_TASKS_IMMEDIATELY( (uParam0^) );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( (uParam0^), 1 );
        SET_PED_COMBAT_MOVEMENT( (uParam0^), 0 );
    }
    return;
}

int sub_29096(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (IS_PED_AT_COORD( (uParam0^), uParam1, 2, 2, 2, 0, 1 ))
    {
        return 1;
    }
    else
    {
        sub_17773( (uParam0^), uParam1, uParam4 );
    }
    return 0;
}

void sub_29445(int iParam0)
{
    RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
    SET_CAM_ACTIVE( iParam0->_fU0, 1 );
    RENDER_SCRIPT_CAMS( 1, 0, 3000, 0 );
    sub_29500( iParam0 + 48 );
    iParam0->_fU32 = 1;
    iParam0->_fU40 = 1;
    return;
}

void sub_29500(int iParam0)
{
    if (NOT iParam0->_fU20)
    {
        iParam0->_fU20 = 1;
        iParam0->_fU16 = 0;
        if (iParam0->_fU28)
        {
            iParam0->_fU0 = TIMERA();
        }
        else
        {
            iParam0->_fU0 = TIMERB();
        }
        if (iParam0->_fU32 == 1)
        {
            iParam0->_fU0 = TIMERSYSTEM();
        }
        iParam0->_fU4 = iParam0->_fU0;
    }
    return;
}

void sub_29683(unknown uParam0, boolean bParam1)
{
    sub_29697( ref l_U458 );
    l_U458 = CREATE_CAM( "DEFAULT_BULLET_CAMERA", 1 );
    SETUP_BULLET_CAMERA_SCENE( l_U458, uParam0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, "", "" );
    if (bParam1)
    {
        RENDER_SCRIPT_CAMS( 1, 0, 3000, 0 );
    }
    return;
}

void sub_29697(unknown uParam0)
{
    if ((DOES_CAM_EXIST( (uParam0^) )) == 1)
    {
        if ((IS_CAM_ACTIVE( (uParam0^) )) == 1)
        {
            SET_CAM_ACTIVE( (uParam0^), 0 );
        }
        DESTROY_CAM( (uParam0^) );
    }
    (uParam0^) = nil;
    return;
}

string sub_29999()
{
    return "WOBBLY_SHAKE";
}

int sub_30142(int iParam0)
{
    if (iParam0->_fU16)
    {
        return 0;
    }
    else if (NOT iParam0->_fU20)
    {
        return 0;
    }
    if (iParam0->_fU28)
    {
        iParam0->_fU4 = TIMERA();
    }
    else
    {
        iParam0->_fU4 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU4 = TIMERSYSTEM();
    }
    if ((iParam0->_fU4 - iParam0->_fU0) >= iParam0->_fU12)
    {
        iParam0->_fU16 = 1;
        iParam0->_fU20 = 0;
        return 1;
        break;
    }
    return 0;
}

void sub_30677()
{
    return g_U648;
}

int sub_30776(int iParam0)
{
    iParam0 = 1;
    switch (l_U263)
    {
        case 0:
        if (NOT (sub_30837( ref l_U265 )))
        {
            if ((IS_DEATH_PANEL_WIPE_ALLOWED()) AND (IS_PED_DEAD( sub_6200() )))
            {
                l_U264 = 2000;
                ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 1 );
            }
            sub_5805( ref l_U265, l_U264, 1, 1 );
            sub_29500( ref l_U265 );
        }
        if (sub_30142( ref l_U265 ))
        {
            sub_1119( "NS", " show fail/retry text", 0 );
            if ((IS_DEATH_PANEL_WIPE_ALLOWED()) AND (IS_PED_DEAD( sub_6200() )))
            {
                if ((IS_BULLET_CAMERA_RUNNING( 0 )) == 0)
                {
                    if (IS_SCREEN_FADED_OUT())
                    {
                        DO_SCREEN_FADE_IN( 0 );
                    }
                }
                ENABLE_DEATHHELPERTEXT( 1, 1, 0 );
            }
            else if (IS_SCREEN_FADED_OUT())
            {
                DO_SCREEN_FADE_IN( 0 );
                ENABLE_DEATHHELPERTEXT( 1, iParam0, 0 );
            }
            else
            {
                ENABLE_DEATHHELPERTEXT( 1, iParam0, 0 );
            }
            if (NOT (IS_PLAYER_DEAD( sub_6222() )))
            {
                SET_PLAYER_CONTROL( sub_6222(), 0, 0 );
            }
            DISPLAY_HUD( 0 );
            l_U263 = 1;
        }
        break;
        case 1:
        if ((((NOT IS_QUIT_CONFIRMING()) == 1) AND (IS_BUTTON_JUST_PRESSED( 0, 501 ))) || ((N_1855335259()) || (IS_CONTROL_JUST_PRESSED( 2, 82 ))))
        {
            if (IS_QUIT_CONFIRMING() == 1)
            {
                l_U263 = 2;
            }
            else
            {
                l_U263 = 3;
            }
        }
        break;
        case 2:
        sub_1119( "NS", "Player will QUIT", 0 );
        sub_31296();
        if (iParam0 == 1)
        {
            DO_SCREEN_FADE_OUT( 0 );
        }
        START_PANEL_WIPE( 0, 6 );
        SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
        RETURN_TO_TITLESCREEN( 0 );
        break;
        case 3:
        sub_1119( "NS", "Player will RETRY", 0 );
        if (IS_IN_NYMINUTE_MODE())
        {
            SWITCH_TO_LEVEL( GET_INDEX_OF_CURRENT_LEVEL() );
        }
        if (iParam0 == 1)
        {
            DO_SCREEN_FADE_OUT( 0 );
        }
        sub_31296();
        return 1;
        break;
    }
    return 0;
}

int sub_30837(int iParam0)
{
    if (iParam0->_fU20 == 1)
    {
        return 1;
    }
    if (iParam0->_fU16 == 1)
    {
        return 1;
    }
    return 0;
}

void sub_31296()
{
    sub_1119( "NS", "P_PostFailRetryCleanup", 0 );
    sub_5643( ref l_U265 );
    ENABLE_DEATHHELPERTEXT( 0, 0, 2000 );
    SET_SCRIPT_CONTROL_RESET_ON_PLAYER_DEATH( 0 );
    if (NOT (IS_PLAYER_DEAD( sub_6222() )))
    {
        SET_PLAYER_CONTROL( sub_6222(), 1, 0 );
    }
    DISPLAY_HUD( 1 );
    l_U262 = 0;
    l_U262 = l_U262;
    l_U263 = 0;
    return;
}

void sub_31926(unknown uParam0)
{
    sub_1119( "CO", "P_IMAGEFX_STOP_BULLETCAM:  Cameras Deleted", 0 );
    RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
    sub_29697( ref l_U458 );
    l_U457 = 1;
    return;
}

void sub_32117(boolean bParam0)
{
    sub_1119( "SBA", "CLEANUP_ALLEY", "***" );
    sub_32160();
    sub_32342();
    sub_32397( -1988558453, 1 );
    ISEQ_UNREGISTER_ENTITY( 320396699, "passos" );
    sub_32397( 320396699, 1 );
    ISEQ_UNREGISTER_ENTITY( -236629402, "passos" );
    sub_32397( -236629402, 1 );
    ENABLE_WALLA_ZONE( "S_NYC_WZ_ALLEY_GET_READY", 0 );
    sub_32714();
    if (g_U2198)
    {
        sub_13419( g_U750 );
    }
    sub_10872( g_U701._fU0 );
    l_U768 = 0;
    l_U769 = 0;
    l_U1762 = nil;
    sub_13419( l_U997 );
    sub_32824( ref l_U876 );
    sub_32824( ref l_U921 );
    sub_32824( ref l_U966 );
    sub_21263( l_U779 );
    sub_21263( l_U780 );
    sub_21263( l_U781 );
    sub_32940( ref l_U782 );
    STOP_SCRIPT_STREAM( l_U1361 );
    STOP_SCRIPT_STREAM( l_U1362 );
    if (sub_26904())
    {
        sub_1119( "SBA", "CLEANUP_ALLEY: player no longer invincible", "***" );
        SET_PED_INVINCIBLE( sub_6200(), 0 );
    }
    sub_33252( "PAS_INT" );
    sub_33322( "LEVEL/S_NYBAR/S_NYBAR_PASSOS_FACIAL.act" );
    if (bParam0)
    {
        if (CUTSCENE_IS_LOADED( "mid_01_nybar_concat" ))
        {
            sub_1119( "SBA", "CLEANUP_ALLEY: clearing nybar mid_01", "***" );
            CLEAR_NAMED_CUTSCENE( "mid_01_nybar_concat" );
        }
    }
    return;
}

void sub_32160()
{
    ISEQ_UNREGISTER_ENTITY( -1988558453, "VIG_06_NYBAR_GMED" );
    ISEQ_UNREGISTER_ENTITY( -1988558453, "VIG_06_NYBAR_GMED1" );
    ISEQ_UNREGISTER_ENTITY( -1988558453, "VIG_06_NYBAR_GMED2" );
    ISEQ_UNREGISTER_ENTITY( -1988558453, "VIG_06_NYBAR_GMED3" );
    ISEQ_UNREGISTER_ENTITY( -1988558453, "VIG_06_NYBAR_GMED4" );
    return;
}

void sub_32342()
{
    ISEQ_UNREGISTER_ENTITY( 984969677, "max" );
    ISEQ_UNREGISTER_ENTITY( 984969677, "passos" );
    sub_32397( 984969677, 1 );
    return;
}

void sub_32397(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to terminate does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 1)
    {
        ISEQ_TERMINATE( uParam0 );
    }
    ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
    if (iParam1 == 1)
    {
        while ((ISEQ_IS_LOADED( uParam0 )) == 1)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_32714()
{
    sub_1119( "SBA", "CLEANUP_BEFORE_CUT_04_02", "***" );
    sub_32773( l_U1359 );
    sub_32773( l_U1360 );
    sub_13419( l_U997 );
    sub_32824( ref l_U876 );
    sub_32824( ref l_U921 );
    sub_32824( ref l_U966 );
    sub_32824( ref l_U668 );
    sub_32824( ref l_U698 );
    sub_32824( ref l_U715 );
    sub_32824( ref l_U826 );
    sub_32940( ref l_U782 );
    return;
}

void sub_32773(unknown uParam0)
{
    REMOVE_VEHICLE_RECORDING( uParam0 );
    return;
}

void sub_32824(unknown uParam0)
{
    int I;

    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_13419( (uParam0^)[I] );
    }
    return;
}

void sub_32940(unknown uParam0)
{
    int I;

    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_21263( (uParam0^)[I] );
    }
    return;
}

void sub_33252(unknown uParam0)
{
    REMOVE_ANIM_DICT( uParam0, 0 );
    return;
}

void sub_33322(unknown uParam0)
{
    ACTION_TREE_UNLOAD( uParam0 );
    return;
}

void sub_33580()
{
    sub_1119( "SP", "P_SETUP_PLAYER_RELATIONSHIPS", "###" );
    if ((IS_PED_DEAD( sub_6200() )) == 0)
    {
        SET_PED_RELATIONSHIP( sub_6200(), 0, 1 );
        SET_PED_RELATIONSHIP( sub_6200(), 0, 2 );
        SET_PED_RELATIONSHIP( sub_6200(), 0, 6 );
        SET_PED_RELATIONSHIP( sub_6200(), 0, 7 );
    }
    return;
}

void sub_34117()
{
    int iVar2;
    int iVar3;
    int iVar4;
    unknown uVar5;
    unknown uVar6;

    if (l_U1866 == 0)
    {
        switch (l_U1758)
        {
            case 0:
            sub_14827();
            sub_34260();
            sub_34417();
            l_U1758 = 1;
            break;
            case 1:
            if (g_U2198)
            {
                sub_34754( 4 );
                if (g_U723 != 4)
                {
                    g_U2454[0] = 1;
                    l_U1385 = 1;
                }
                sub_35051( ref g_U2055, 1 );
                sub_35254( ref g_U2055, 1 );
                sub_35051( ref g_U2062, 1 );
                sub_35254( ref g_U2062, 1 );
                sub_17773( sub_6200(), g_U2253[4]._fU0, g_U2253[4]._fU12 );
                sub_35433();
                sub_43113();
                l_U1758 = 2;
            }
            break;
            case 2:
            if (sub_43113())
            {
                g_U724 = 4;
                START_CONTEXT( "NYBAR_PARKING_LOT_TO_ALLEY" );
                if (NOT l_U569._fU0)
                {
                    sub_1119( "SBA", "P_HANDLE_START_EVENTS: saving CPAlleyCheckpoint (parking lot)", "***" );
                    sub_44138( ref l_U569, 4, sub_6200(), g_U2253[4]._fU0, g_U2253[4]._fU12, g_U2253[4]._fU16, g_U2253[4]._fU20, l_U1385 );
                }
                sub_35433();
                sub_47744();
                sub_11543();
                l_U1758 = 3;
                sub_1119( "SBA", "P_HANDLE_START_EVENTS - Going to ALLEY_PARKINGLOT", "***" );
            }
            break;
            case 3:
            sub_35433();
            sub_47744();
            if (sub_53927( ref l_U668, l_U1222 ))
            {
                sub_1119( "RJM", "KILLING PARKING LEFT ENEMY - outside trigger", 0 );
            }
            if (sub_53927( ref l_U698, l_U1222 ))
            {
                sub_1119( "RJM", "KILLING PARKING MIDDLE ENEMY - outside trigger", 0 );
            }
            if (sub_53927( ref l_U715, l_U1222 ))
            {
                sub_1119( "RJM", "KILLING PARKING RIGHT ENEMY - outside trigger", 0 );
            }
            if (sub_54330( l_U1285, 10000, 0 ))
            {
                sub_1119( "SBA", "Player has abandoned Passos in the parking lot", "***" );
                g_U2199 = 1;
                l_U1865 = 0;
                PED_SET_ACTION_INTENTION( g_U750, 55, -1, 0, 0, 0 );
            }
            iVar4 = (((sub_55440( ref l_U668 )) + (sub_55440( ref l_U698 ))) + (sub_55440( ref l_U715 ))) + (sub_55440( ref l_U826 ));
            if ((NOT l_U1378) AND (iVar4 == 1))
            {
                l_U1762 = sub_55572( ref l_U668 );
                if ((sub_14213( l_U1762 )) == 0)
                {
                    l_U1762 = sub_55572( ref l_U698 );
                }
                if ((sub_14213( l_U1762 )) == 0)
                {
                    l_U1762 = sub_55572( ref l_U715 );
                }
                if ((sub_14213( l_U1762 )) == 0)
                {
                    l_U1762 = sub_55572( ref l_U826 );
                }
                if ((sub_14213( l_U1762 )) == 1)
                {
                    l_U1378 = 1;
                    l_U1399 = 1;
                    sub_1119( "SBA", "P_HANDLE_START_EVENTS - Stopping bullet cam transition", "***" );
                    BULLET_CAMERA_TRACK_UNTIL_GROUNDED( 1 );
                    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 0 );
                }
            }
            else if (iVar4 == 0)
            {
                sub_1119( "RJM", "P_HANDLE_START_EVENTS - (enemies dead) setting bStart_Vig07B = TRUE & Going to ALLEY_MID_01_BLEND_IN", 0 );
                l_U460 = 9;
                l_U1391 = 1;
                l_U1758 = 5;
            }
            else if (iVar4 < 4)
            {
                l_U460 = 8;
            };;;
            break;
            case 5:
            sub_47744();
            sub_56099( 15000, 2500 );
            if (NOT IS_BULLET_CAMERA_TO_GAMEPLAY_ALLOWED())
            {
                sub_1119( "SBA", "ALLOW_BULLET_CAMERA_TO_GAMEPLAY to TRUE", 0 );
                ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
            }
            if ((sub_54428( l_U1053 )) || (sub_54428( l_U1074 )))
            {
                uVar6 = GET_WEAPON_FROM_HAND( sub_6200(), 0, 0 );
                if ((GET_DOES_WEAPON_EXIST( uVar6 )) == 1)
                {
                    if ((sub_56996( uVar6 )) == 1)
                    {
                        sub_57283( 0 );
                    }
                }
            }
            sub_57826( l_U1074, l_U1053, 1 );
            if (l_U1750 == -1)
            {
                sub_5805( ref l_U1457, 1500, 1, 0 );
                sub_29500( ref l_U1457 );
                sub_58161( ref l_U473, 0 );
                sub_11614();
                sub_17288( -850158086, 0 );
                sub_1713( "LEVEL_S_NYBAR_MID_01_BLENDOUT", 0, 0 );
                sub_1119( "RJM", "P_HANDLE_START_EVENTS - Going to ALLEY_WAIT_FOR_MIDSCENE", 0 );
                l_U1758 = 6;
            }
            break;
            case 6:
            sub_47744();
            if ((sub_54428( l_U1053 )) || (sub_54428( l_U1074 )))
            {
                uVar6 = GET_WEAPON_FROM_HAND( sub_6200(), 0, 0 );
                if ((GET_DOES_WEAPON_EXIST( uVar6 )) == 1)
                {
                    if ((sub_56996( uVar6 )) == 1)
                    {
                        sub_57283( 0 );
                    }
                }
            }
            if (sub_57826( l_U1074, l_U1053, 1 ))
            {
                sub_58655( 1 );
                if (sub_30142( ref l_U1457 ))
                {
                    l_U1749 = -1;
                    STOP_SCRIPT_STREAM( l_U1361 );
                    STOP_SCRIPT_STREAM( l_U1362 );
                    sub_11452( l_U1363, l_U1361, 0 );
                    sub_11452( l_U1364, l_U1362, 0 );
                    l_U460 = 10;
                    sub_1119( "RJM", "P_HANDLE_START_EVENTS - Going to ALLEY_MIDSCENE", 0 );
                    l_U1758 = 7;
                }
            }
            else if (NOT sub_49925())
            {
                if (sub_30142( ref l_U1646 ))
                {
                    sub_58993( "SNYC_MVOP", ref l_U1597 );
                }
            }
            break;
            case 7:
            if ((sub_59144( 1, ref l_U876, ref l_U779, 0 )) == 1)
            {
                if (NOT IS_BULLET_CAMERA_TO_GAMEPLAY_ALLOWED())
                {
                    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
                }
                if (sub_26904())
                {
                    SET_PED_FORCED_TO_WALK( sub_6200(), 0 );
                }
                if ((sub_12484( l_U779 )) == 1)
                {
                    SET_VEHICLE_COORDS( l_U779, -59.98630000, -328.48000000, 0.62083100 );
                    SET_VEHICLE_HEADING( l_U779, 314.14600000 );
                    SET_VEHICLE_ON_GROUND_PROPERLY( l_U779 );
                }
                sub_1119( "SP", "eMid01BlendState = BLEND_SETUP", 0 );
                l_U559 = 1;
                sub_18503();
                sub_17830();
                sub_1119( "SBA", "P_HANDLE_START_EVENTS - Going to ALLEY_BATTLE_SETUP", 0 );
                l_U1758 = 8;
            }
            break;
            case 8:
            sub_63872();
            l_U1752 = 1;
            l_U1753 = 1;
            sub_66365();
            sub_18503();
            sub_1119( "SBA", "P_HANDLE_START_EVENTS - Going to ALLEY_MIDSCENE_BLENDOUT", 0 );
            l_U1758 = 9;
            break;
            case 9:
            if (IS_SCREEN_FADED_OUT())
            {
                DO_SCREEN_FADE_IN( 500 );
            }
            if (sub_18503() == 1)
            {
                if (NOT l_U605._fU0)
                {
                    g_U724 = 5;
                    sub_44138( ref l_U605, 5, sub_6200(), g_U2253[5]._fU0, g_U2253[5]._fU12, g_U2253[5]._fU16, g_U2253[5]._fU20, 1 );
                }
                sub_17288( -236629402, 0 );
                sub_58161( l_U284, 0 );
                SET_PED_VISIBLE( g_U750, 0 );
                l_U1761 = nil;
                sub_5805( ref l_U1403, 250, 1, 0 );
                sub_29500( ref l_U1403 );
                sub_1119( "RJM", "P_HANDLE_START_EVENTS - Going to ALLEY_MIDSCENE_CLEANUP", 0 );
                l_U1758 = 10;
            }
            sub_66965();
            sub_68588();
            break;
            case 10:
            sub_5805( ref l_U1466, 7000, 1, 0 );
            sub_5805( ref l_U1475, 20000, 1, 0 );
            sub_5805( ref l_U1484, 30000, 1, 0 );
            sub_29500( ref l_U1466 );
            sub_29500( ref l_U1475 );
            sub_29500( ref l_U1484 );
            sub_1119( "RJM", "P_HANDLE_START_EVENTS - Going to ALLEY_BATTLE", 0 );
            l_U1758 = 11;
            break;
            case 11:
            if (sub_53927( ref l_U876, l_U1222 ))
            {
                sub_1119( "RJM", "KILLING piEnemyCar1 ENEMY - outside trigger", 0 );
            }
            if (sub_53927( ref l_U921, l_U1222 ))
            {
                sub_1119( "RJM", "KILLING piEnemyCar3 ENEMY - outside trigger", 0 );
            }
            if (sub_53927( ref l_U966, l_U1222 ))
            {
                sub_1119( "RJM", "KILLING piEnemyCar4 ENEMY - outside trigger", 0 );
            }
            if ((NOT l_U1382) AND (NOT (sub_54428( l_U1137 ))))
            {
                sub_1119( "SBA", "Player in tbAlleyMaxLeaveCover", "***" );
                sub_69809( ref l_U876[0], 0 );
                sub_69809( ref l_U876[1], 0 );
                l_U1382 = 1;
            }
            if (sub_30142( ref l_U1466 ))
            {
                l_U460 = 15;
            }
            else if (sub_30142( ref l_U1475 ))
            {
                l_U460 = 18;
            }
            else if (sub_30142( ref l_U1484 ))
            {
                l_U460 = 21;
            };;;
            iVar2 = sub_55440( ref l_U876 );
            iVar3 = (iVar2 + (sub_55440( ref l_U921 ))) + (sub_55440( ref l_U966 ));
            sub_66965();
            sub_68588();
            if (sub_30142( ref l_U1403 ))
            {
                sub_1119( "SBA", "Starting VIG09", "***" );
                if (sub_14213( g_U750 ))
                {
                    PED_FINISH_ACTION_INTENTION( g_U750, 55 );
                    PED_ACTION_TREE_PLAY_NODE( g_U750, ref g_U2203 );
                    SET_PED_VISIBLE( g_U750, 1 );
                }
                l_U1754 = 0;
                l_U1365 = 1;
            }
            if ((NOT l_U1373) AND (iVar3 == 1))
            {
                sub_1119( "SBA", "ALLEY: 1 enemy left - setting bullet cam", 0 );
                sub_70178( 1 );
                l_U1762 = sub_55572( ref l_U876 );
                if ((sub_14213( l_U1762 )) == 0)
                {
                    l_U1762 = sub_55572( ref l_U921 );
                }
                if ((sub_14213( l_U1762 )) == 0)
                {
                    l_U1762 = sub_55572( ref l_U966 );
                }
                l_U1373 = 1;
                FORCE_CUSTOM_WIPE_BULLET_CAMERA( 1 );
                ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 0 );
            }
            if ((sub_26904()) AND ((NOT (IS_BULLET_CAMERA_RUNNING( 0 ))) AND ((l_U1748 < 2) AND (iVar3 == 0))))
            {
                END_CONTEXT( "NYBAR_TO_END_OF_ALLEY" );
                END_CONTEXT( "NYBAR_PARKING_LOT_TO_ALLEY" );
                sub_6450( l_U605._fU52 );
                sub_70812();
                sub_70910();
                l_U459 = 22;
                l_U460 = 22;
                sub_22302();
                l_U1758 = 12;
            }
            sub_71140();
            sub_71558( iVar3 );
            if (sub_74256( l_U1306, l_U1327, 0 ))
            {
                sub_1119( "SBA", "Player has abandoned Passos in the alley: fire escape", "***" );
                g_U2199 = 1;
                l_U1865 = 1;
            }
            break;
            case 12:
            SET_HIGHEST_ARCADE_LEVEL_UNLOCKED( 4 );
            if (IS_ARCADE_MODE_ACTIVE() == 1)
            {
                DISPLAY_ARCADE_MODE_LEVEL_END( "s_nyc2" );
                DO_SCREEN_FADE_IN( 0 );
            }
            else
            {
                sub_58161( l_U284, 1 );
                if (NOT IS_MAGDEMO())
                {
                    DISABLE_FADE_BETWEEN_SP_LEVELS();
                }
                sub_75410( l_U284, 0, 1 );
            }
            sub_32117( 0 );
            sub_70812();
            sub_1119( "RJM", "P_HANDLE_START_EVENTS - Going to ALLEY_DONE", 0 );
            g_U2454[1] = 1;
            g_U2201 = 0;
            l_U1758 = 13;
            break;
            case 13: break;
        }
    }
    return;
}

void sub_34260()
{
    sub_1119( "SBA", "P_SETUP_INITIAL_ISEQS", "***" );
    sub_17288( 984969677, 1 );
    sub_17288( 320396699, 1 );
    sub_17288( -1988558453, 1 );
    sub_1827( "LEVEL/S_NYBAR/S_NYBAR_PASSOS_FACIAL.act", 1 );
    sub_1713( "PAS_INT", 0, 1 );
    return;
}

void sub_34417()
{
    sub_1119( "TEH", "REGISTER_PEDS_VIG_06- start", 0 );
    ISEQ_REGISTER_ENTITY( -1988558453, "VIG_06_NYBAR_GMED", l_U668[0], 0 );
    ISEQ_REGISTER_ENTITY( -1988558453, "VIG_06_NYBAR_GMED1", l_U668[1], 0 );
    ISEQ_REGISTER_ENTITY( -1988558453, "VIG_06_NYBAR_GMED2", l_U698[0], 0 );
    ISEQ_REGISTER_ENTITY( -1988558453, "VIG_06_NYBAR_GMED3", l_U698[1], 0 );
    ISEQ_REGISTER_ENTITY( -1988558453, "VIG_06_NYBAR_GMED4", l_U715[0], 0 );
    sub_1119( "TEH", "REGISTER_PEDS_VIG_06 - end", 0 );
    return;
}

void sub_34754(unknown uParam0)
{
    sub_1119( "BSW", "SET_WEATHER_AND_TIME_OF_DAY_FOR_NYBAR start...", 0 );
    switch (uParam0)
    {
        case 0:
        case 2:
        case 3:
        case 26:
        SET_TIME_OF_DAY( 12, 0 );
        FREEZE_TIME_OF_DAY( 12, 0 );
        SET_WEATHER_TYPE_NOW_PERSIST( "CLOUDY" );
        break;
        case 4:
        case 5:
        case 21:
        SET_TIME_OF_DAY( 12, 0 );
        FREEZE_TIME_OF_DAY( 12, 0 );
        SET_WEATHER_TYPE_NOW_PERSIST( "snow_light" );
        break;
        default:
        SET_TIME_OF_DAY( 12, 0 );
        FREEZE_TIME_OF_DAY( 12, 0 );
        SET_WEATHER_TYPE_NOW_PERSIST( "CLOUDY" );
        break;
    }
    return;
}

void sub_35051(int iParam0, int iParam1)
{
    if ((sub_35063( iParam0 )) == 0)
    {
        sub_35129( iParam0 );
    }
    if (iParam1 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, 0.00000000 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, 0.00000000 );
    }
    else
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, 0.00000000 );
    }
    return;
}

int sub_35063(int iParam0)
{
    int iVar3;

    iVar3 = DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS( iParam0->_fU4, 1.00000000, iParam0->_fU0 );
    if (iVar3 == 1)
    {
        return 1;
    }
    return 0;
}

void sub_35129(unknown uParam0)
{
    (uParam0^) = {(uParam0^)};
    return;
}

void sub_35254(int iParam0, int iParam1)
{
    int iVar4;
    float fVar5;

    if ((sub_35063( iParam0 )) == 0)
    {
        sub_35129( iParam0 );
    }
    if (iParam1 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, 0.00000000 );
    }
    else
    {
        iVar4 = 0;
        fVar5 = 0.00000000;
        GET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, ref iVar4, ref fVar5 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar5 );
    }
    return;
}

void sub_35433()
{
    int I;
    boolean bVar3;
    boolean bVar4;

    if ((ISEQ_QUERY_ENTITY_ANIMATION_PHASE( -1988558453, "VIG_06_NYBAR_GMED4", "VIGNETTE_A" )) > 0.90000000)
    {
        if (sub_14213( l_U668[0] ))
        {
            SET_PED_ALERTNESS( l_U668[0], 4 );
        }
        if (sub_14213( l_U668[1] ))
        {
            SET_PED_ALERTNESS( l_U668[1], 4 );
        }
        if (sub_14213( l_U698[0] ))
        {
            SET_PED_ALERTNESS( l_U698[0], 4 );
        }
        if (sub_14213( l_U698[1] ))
        {
            SET_PED_ALERTNESS( l_U698[1], 4 );
        }
        if (sub_14213( l_U715[0] ))
        {
            SET_PED_ALERTNESS( l_U715[0], 4 );
        }
        if (NOT l_U1367)
        {
            sub_35681();
            l_U1367 = 1;
        }
    }
    if ((ISEQ_QUERY_ENTITY_ANIMATION_PHASE( -1988558453, "VIG_06_NYBAR_GMED4", "VIGNETTE_A" )) >= 0.95000000)
    {
        if (sub_14213( l_U668[0] ))
        {
            sub_36965( ref l_U668[0] );
            SET_PED_COMBAT_ATTRIBUTES( l_U668[0], 131072, 1 );
        }
        if (sub_14213( l_U668[1] ))
        {
            sub_36965( ref l_U668[1] );
            SET_PED_COMBAT_ATTRIBUTES( l_U668[1], 131072, 1 );
        }
        if (sub_14213( l_U698[0] ))
        {
            sub_36965( ref l_U698[0] );
            SET_PED_COMBAT_ATTRIBUTES( l_U698[0], 131072, 1 );
        }
        if (sub_14213( l_U698[1] ))
        {
            sub_36965( ref l_U698[1] );
            SET_PED_COMBAT_ATTRIBUTES( l_U698[1], 131072, 1 );
        }
        if (sub_14213( l_U715[0] ))
        {
            sub_36965( ref l_U715[0] );
            SET_PED_COMBAT_ATTRIBUTES( l_U715[0], 131072, 1 );
        }
    }
    bVar3 = false;
    if ((NOT l_U1366) AND (l_U1756 != 0))
    {
        I = 0;
        if (bVar3 == 0)
        {
            while ((I < 2) AND (NOT bVar3))
            {
                if (sub_37294( ref l_U668[I] ))
                {
                    bVar3 = true;
                }
                else
                {
                    I++;
                }
            }
            I = 0;
            while ((I < 2) AND (NOT bVar3))
            {
                if (sub_37294( ref l_U698[I] ))
                {
                    bVar3 = true;
                }
                else
                {
                    I++;
                }
            }
            I = 0;
            while ((I < 1) AND (NOT bVar3))
            {
                if (sub_37294( ref l_U715[I] ))
                {
                    bVar3 = true;
                }
                else
                {
                    I++;
                }
            }
        }
        if (bVar3)
        {
            if (sub_14213( l_U668[0] ))
            {
                SET_PED_COMBAT_ATTRIBUTES( l_U668[0], 131072, 1 );
            }
            if (sub_14213( l_U668[1] ))
            {
                SET_PED_COMBAT_ATTRIBUTES( l_U668[1], 131072, 1 );
            }
            if (sub_14213( l_U698[0] ))
            {
                SET_PED_COMBAT_ATTRIBUTES( l_U698[0], 131072, 1 );
            }
            if (sub_14213( l_U698[1] ))
            {
                SET_PED_COMBAT_ATTRIBUTES( l_U698[1], 131072, 1 );
            }
            if (sub_14213( l_U715[0] ))
            {
                SET_PED_COMBAT_ATTRIBUTES( l_U715[0], 131072, 1 );
            }
            if (sub_38540( l_U1547 ))
            {
                sub_1119( "SBA", "P_NYBAR_PARKING_LOT_VIGNETTE: Kill thug speech", "***" );
                sub_38772( ref l_U1547, 0 );
            }
            l_U1366 = 1;
            l_U1756 = 3;
        }
    }
    switch (l_U1756)
    {
        case 0:
        l_U1870[0] = 0;
        l_U1870[1] = 0;
        l_U1873[0] = 0;
        l_U1873[1] = 0;
        l_U1876 = 0;
        sub_16595( ref l_U668, 0 );
        sub_16595( ref l_U698, 0 );
        sub_16595( ref l_U715, 0 );
        sub_39000();
        sub_39277();
        ISEQ_START( -1988558453 );
        FREEZE_VEHICLE_POSITION( l_U782[0], 0 );
        SET_VEHICLE_FREEZE_AFTER_BLOWING_UP( l_U782[0], 1 );
        FREEZE_VEHICLE_POSITION( l_U782[1], 0 );
        SET_VEHICLE_FREEZE_AFTER_BLOWING_UP( l_U782[1], 1 );
        sub_39890();
        l_U1756 = 1;
        break;
        case 1:
        if (((ISEQ_QUERY_ENTITY_STATE( -1988558453, "VIG_06_NYBAR_GMED4", 3 )) == 0) || (NOT (sub_38540( l_U1547 ))))
        {
            sub_1119( "SBA", "P_NYBAR_PARKING_LOT_VIGNETTE: Thug speech completed", "***" );
            l_U1756 = 2;
        }
        break;
        case 2:
        if ((ISEQ_QUERY_ENTITY_STATE( -1988558453, "VIG_06_NYBAR_GMED4", 3 )) == 0)
        {
            sub_1119( "SBA", "P_NYBAR_PARKING_LOT_VIGNETTE: Iseq completed", "***" );
            sub_40401( ref l_U715[0], 0 );
            l_U1366 = 1;
            l_U1756 = 3;
        }
        break;
        case 3:
        sub_1119( "SBA", "P_NYBAR_PARKING_LOT_VIGNETTE: Max has been spotted", "***" );
        if (NOT l_U1367)
        {
            sub_35681();
        }
        l_U1390 = 1;
        sub_29500( ref l_U1430 );
        sub_1221( g_U2250, 0 );
        sub_5805( ref l_U723, 0, 1, 0 );
        sub_5805( ref l_U732, 0, 1, 0 );
        sub_5805( ref l_U741, 0, 1, 0 );
        sub_5805( ref l_U750, 0, 1, 0 );
        sub_5805( ref l_U759, 0, 1, 0 );
        sub_29500( ref l_U723 );
        sub_29500( ref l_U732 );
        sub_29500( ref l_U741 );
        sub_29500( ref l_U750 );
        sub_29500( ref l_U759 );
        l_U460 = 6;
        l_U1756 = 4;
        break;
        case 4:
        if (l_U768 < 5)
        {
            if (sub_30142( ref l_U723 ))
            {
                sub_1119( "TEH", "P_NYBAR_PARKING_LOT_VIGNETTE: Max has been spotted Handling alert timers: 0", "***" );
                if (sub_14213( l_U668[0] ))
                {
                    PED_SET_ACTION_INTENTION( l_U668[0], 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
                }
                l_U768++;
            }
            if (sub_30142( ref l_U732 ))
            {
                sub_1119( "TEH", "P_NYBAR_PARKING_LOT_VIGNETTE: Max has been spotted Handling alert timers: 1", "***" );
                if (sub_14213( l_U668[1] ))
                {
                    PED_SET_ACTION_INTENTION( l_U668[1], 48, 1000, 0.00000000, 0.00000000, 0.00000000 );
                }
                l_U768++;
            }
            if (sub_30142( ref l_U741 ))
            {
                sub_1119( "TEH", "P_NYBAR_PARKING_LOT_VIGNETTE: Max has been spotted Handling alert timers: 2", "***" );
                if (sub_14213( l_U715[0] ))
                {
                    PED_SET_ACTION_INTENTION( l_U715[0], 51, 1000, 0.00000000, 0.00000000, 0.00000000 );
                }
                l_U768++;
            }
            if (sub_30142( ref l_U750 ))
            {
                sub_1119( "TEH", "P_NYBAR_PARKING_LOT_VIGNETTE: Max has been spotted Handling alert timers: 3", "***" );
                if (sub_14213( l_U698[0] ))
                {
                    PED_SET_ACTION_INTENTION( l_U698[0], 49, 1000, 0.00000000, 0.00000000, 0.00000000 );
                }
                l_U768++;
            }
            if (sub_30142( ref l_U759 ))
            {
                sub_1119( "TEH", "P_NYBAR_PARKING_LOT_VIGNETTE: Max has been spotted Handling alert timers: 4", "***" );
                if (sub_14213( l_U698[1] ))
                {
                    PED_SET_ACTION_INTENTION( l_U698[1], 50, 1000, 0.00000000, 0.00000000, 0.00000000 );
                }
                l_U768++;
            }
        }
        else if (l_U768 <= l_U769)
        {
            sub_1119( "TEH", "P_NYBAR_PARKING_LOT_VIGNETTE: Max has been spotted Handling alert timers: everybody alerted", "***" );
            l_U1756 = 7;
            ENABLE_WALLA_ZONE( "S_NYC_WZ_ALLEY_GET_READY", 1 );
            sub_41759( ref l_U826 );
            sub_41814();
        }
        else
        {
            sub_21121( l_U769 );
        }
        for ( I = 0; I <= 1; I++ )
        {
            if (l_U1870[I] == 0)
            {
                if (sub_14213( l_U668[I] ))
                {
                    if (I == 0)
                    {
                        bVar4 = ((IS_PED_RAGDOLL( l_U668[I], 0 )) == 1) || ((ISEQ_QUERY_ENTITY_STATE( -1988558453, "VIG_06_NYBAR_GMED", 3 )) == 0);
                    }
                    else
                    {
                        bVar4 = ((IS_PED_RAGDOLL( l_U668[I], 0 )) == 1) || ((ISEQ_QUERY_ENTITY_STATE( -1988558453, "VIG_06_NYBAR_GMED1", 3 )) == 0);
                    }
                    if (bVar4 == 1)
                    {
                        sub_1119( "TEH", "P_NYBAR_PARKING_LOT_VIGNETTE: Guy finished", "***" );
                        l_U1870[I] = 1;
                        l_U769++;
                        sub_40401( ref l_U668[I], 0 );
                        SET_PED_SUGGESTED_COVER_POINT( l_U668[1], "GenCover", "47E254B1_D6D5F28C_Popover1" );
                    }
                }
                else
                {
                    l_U1870[I] = 1;
                    l_U769++;
                }
            }
        }
        for ( I = 0; I <= (l_U698 - 1); I++ )
        {
            if (l_U1873[I] == 0)
            {
                if (sub_14213( l_U698[I] ))
                {
                    if (I == 0)
                    {
                        bVar4 = ((IS_PED_RAGDOLL( l_U698[I], 0 )) == 1) || ((ISEQ_QUERY_ENTITY_STATE( -1988558453, "VIG_06_NYBAR_GMED2", 3 )) == 0);
                    }
                    else
                    {
                        bVar4 = ((IS_PED_RAGDOLL( l_U698[I], 0 )) == 1) || ((ISEQ_QUERY_ENTITY_STATE( -1988558453, "VIG_06_NYBAR_GMED3", 3 )) == 0);
                    }
                    if (bVar4 == 1)
                    {
                        sub_1119( "TEH", "P_NYBAR_PARKING_LOT_VIGNETTE: Guy finished", "***" );
                        l_U1873[I] = 1;
                        l_U769++;
                        sub_40401( ref l_U698[I], 0 );
                        SET_PED_SUGGESTED_COVER_POINT( l_U698[1], "GenCover", "47E254B1_401E7D77_Popover1" );
                    }
                }
                else
                {
                    l_U1873[I] = 1;
                    l_U769++;
                }
            }
        }
        if (l_U1876 == 0)
        {
            if (sub_14213( l_U715[0] ))
            {
                if (((IS_PED_RAGDOLL( l_U715[0], 0 )) == 1) || ((ISEQ_QUERY_ENTITY_STATE( -1988558453, "VIG_06_NYBAR_GMED4", 3 )) == 0))
                {
                    sub_40401( ref l_U715[0], 0 );
                    l_U1876 = 1;
                    l_U769++;
                }
            }
            else
            {
                l_U1876 = 1;
                l_U769++;
            }
        }
        break;
    }
    return;
}

void sub_35681()
{
    sub_1119( "SBA", "P_DIAL_PARKING_THUG_SPOTS_MAX", 0 );
    if ((NOT (IS_PED_DEAD( l_U715[0] ))) AND (NOT (IS_PED_DEAD( l_U698[0] ))))
    {
        sub_35777( ref l_U1557 );
        sub_35871( 1, l_U715[0], "M4_NY_15_Mus", ref l_U1557, 2, 0 );
        sub_36089( "SNYC_VIG06B", ref l_U1557, 8, 1 );
    }
    return;
}

void sub_35777(int iParam0)
{
    iParam0->_fU4 = -1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = 0;
    iParam0->_fU32 = 0;
    iParam0->_fU36 = 0;
    return;
}

void sub_35871(int iParam0, unknown uParam1, unknown uParam2, int iParam3, unknown uParam4, unknown uParam5)
{
    if (iParam3->_fU32)
    {
        ;
    }
    else if (iParam3->_fU36 == 0)
    {
        iParam3->_fU36 = 1;
        iParam3->_fU4 = CREATE_NEW_SCRIPTED_CONVERSATION( uParam4 );
        if (iParam3->_fU4 == -1)
        {
            iParam3->_fU32 = 1;
        }
    }
    if ((iParam0 < 9) AND ((iParam0 >= 0) AND ((iParam3->_fU4 < 4) AND (iParam3->_fU4 >= 0))))
    {
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU0 = uParam1;
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU4 = GET_HASH_KEY( uParam2 );
        if (NOT (IS_PED_INJURED( uParam1 )))
        {
            SET_PED_CAN_PLAY_AMBIENT_ANIMS( uParam1, uParam5 );
        }
    }
    return;
}

void sub_36089(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return sub_36113( uParam0, ref g_U157._fU0, uParam1, uParam2, uParam3 );
}

void sub_36113(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    StrCopy( ref cVar11[0], uParam0, 16 );
    StrCopy( ref cVar11[1], "END", 16 );
    return sub_36168( ref cVar11, uParam2, uParam3, 0, 0, 0, 0, ref cVar7, uParam4 );
}

int sub_36168(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    int I;
    unknown uVar12;
    unknown uVar13;

    if (iParam1->_fU4 == -1)
    {
        return 0;
    }
    iParam1->_fU0 = uParam2;
    if (NOT (sub_36203( iParam1 )))
    {
        return 0;
    }
    uVar12 = iParam1->_fU4;
    uVar13 = GET_HASH_KEY( ref (uParam0^)[0] );
    iParam1->_fU16 = uVar13;
    SET_CONVERSATION_CHECK_HASH( uVar12, uVar13 );
    g_U157._fU132 = 0;
    iParam1->_fU24 = 0;
    iParam1->_fU28 = uParam5;
    if (bParam3)
    {
        if (iParam1->_fU20)
        {
            iParam1->_fU20 = 0;
        }
    }
    else
    {
        iParam1->_fU20 = 0;
        if (bParam4)
        {
            iParam1->_fU12 = uParam6;
            iParam1->_fU20 = 0;
        }
        else
        {
            iParam1->_fU12 = 0;
            iParam1->_fU20 = 0;
        }
    }
    iParam1->_fU24 = bParam4;
    for ( I = 0; I <= 24; I++ )
    {
        StrCopy( ref g_U233[uVar12][I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        g_U233[uVar12][I] = {(uParam0^)[I]};
    }
    g_U192[uVar12] = {(iParam1^)};
    sub_36697( ref g_U16[uVar12], ref g_U157 );
    StrCopy( ref g_U16[uVar12]._fU0, uParam7, 16 );
    g_U16[uVar12]._fU136 = uParam8;
    g_U11[iParam1->_fU4] = 1;
    return 1;
}

int sub_36203(int iParam0)
{
    switch (g_U11[iParam0->_fU4])
    {
        case 1:
        case 2:
        return 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING( iParam0->_fU4 ))
    {
        if (g_U1[iParam0->_fU4] > iParam0->_fU0)
        {
            return 0;
        }
        STOP_SCRIPTED_CONVERSATION( iParam0->_fU4, 0, 0 );
    }
    g_U1[iParam0->_fU4] = iParam0->_fU0;
    g_U6[iParam0->_fU4]++;
    if (g_U6[iParam0->_fU4] > 100000)
    {
        g_U6[iParam0->_fU4] = 1;
    }
    iParam0->_fU8 = g_U6[iParam0->_fU4];
    return 1;
}

void sub_36697(int iParam0, int iParam1)
{
    int I;

    iParam0->_fU0 = {iParam1->_fU0};
    for ( I = 0; I <= 8; I++ )
    {
        iParam0->_fU92[I] = iParam1->_fU92[I];
    }
    iParam0->_fU132 = iParam1->_fU132;
    iParam0->_fU136 = iParam1->_fU136;
    return;
}

void sub_36965(unknown uParam0)
{
    if ((sub_26904()) AND (sub_14213( (uParam0^) )))
    {
        sub_17942( uParam0, sub_6200() );
    }
    return;
}

int sub_37294(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    float fVar7;

    fVar7 = 12.00000000;
    if ((sub_26904()) AND (sub_14213( (uParam0^) )))
    {
        uVar4 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( (uParam0^) )};
        HAS_SHOT_BEEN_FIRED_IN_AREA( uVar4, fVar7, 0, ref iVar3 );
        if ((iVar3 == sub_6200()) || (HAS_PED_BEEN_DAMAGED_BY_PED( (uParam0^), sub_6200(), 0 )))
        {
            sub_1119( "SBA", "HAS_THUG_SPOTTED_PLAYER: The player's has damaged the AI", " " );
            return 1;
        }
        if ((IS_CONTROL_PRESSED( 0, 6 )) AND (l_U1758 >= 3))
        {
            sub_1119( "SBA", "HAS_THUG_SPOTTED_PLAYER: Enemy saw player pop up", " " );
            return 1;
        }
        if (GET_PED_AWARENESS_STATE( (uParam0^), sub_6200(), 8 ))
        {
            sub_1119( "SBA", "HAS_THUG_SPOTTED_PLAYER: Bullet flew by the ped", " " );
            return 1;
        }
        if (HAS_BULLET_IMPACTED_IN_AREA( uVar4, fVar7, ref iVar3 ))
        {
            if (iVar3 == sub_6200())
            {
                sub_1119( "SBA", "HAS_THUG_SPOTTED_PLAYER: The player's bullet has impacted close to the AI", " " );
                return 1;
            }
        }
        if ((sub_37933( ref l_U1032, l_U715[0], 0 )) || (sub_37779( ref l_U1032, 0 )))
        {
            sub_1119( "SBA", "HAS_THUG_SPOTTED_PLAYER: Player or thug entered trigger", 0 );
            return 1;
        }
        if (NOT (IS_PED_USING_MP3_COVER_TASK( sub_6200() )))
        {
            sub_1119( "SBA", "HAS_THUG_SPOTTED_PLAYER: Player no longer in cover", 0 );
            return 1;
        }
    }
    return 0;
}

void sub_37779(int iParam0, unknown uParam1)
{
    if (iParam0->_fU64 == 1)
    {
        return 0;
    }
    else
    {
        iParam0->_fU64 = sub_37821( sub_6200(), (iParam0^) );
        if ((iParam0->_fU64) AND (uParam1))
        {
            GAMEPLAY_HELPER_BOX_SET_ENABLED( iParam0 + 0, 0 );
        }
    }
    return iParam0->_fU64;
}

int sub_37821(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        return IS_PED_IN_GAMEPLAY_HELPER_BOX( uParam0, ref uParam1._fU0 );
    }
    return 0;
}

void sub_37933(int iParam0, unknown uParam1, unknown uParam2)
{
    if (iParam0->_fU68 == 1)
    {
        return 0;
    }
    else
    {
        iParam0->_fU68 = sub_37821( uParam1, (iParam0^) );
        if ((iParam0->_fU68) AND (uParam2))
        {
            GAMEPLAY_HELPER_BOX_SET_ENABLED( iParam0 + 0, 0 );
        }
    }
    return iParam0->_fU68;
}

int sub_38540(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
    if (NOT (sub_38553( uParam0 )))
    {
        return 0;
    }
    if ((g_U11[uParam0._fU4] == 2) || ((g_U11[uParam0._fU4] == 1) || (IS_SCRIPTED_CONVERSATION_ONGOING( uParam0._fU4 ))))
    {
        if (uParam0._fU8 == g_U6[uParam0._fU4])
        {
            return 1;
        }
    }
    return 0;
}

boolean sub_38553(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
    int iVar12;

    if (uParam0._fU4 < 0)
    {
        return 0;
    }
    iVar12 = GET_CHECK_HASH_FROM_CONVERSATION_ID( uParam0._fU4 );
    return (uParam0._fU16 == iVar12) AND (iVar12 != 0);
}

void sub_38772(int iParam0, unknown uParam1)
{
    if (NOT (sub_38553( (iParam0^) )))
    {
        ;
    }
    else if (IS_SCRIPTED_CONVERSATION_ONGOING( iParam0->_fU4 ))
    {
        if (iParam0->_fU8 == g_U6[iParam0->_fU4])
        {
            STOP_SCRIPTED_CONVERSATION( iParam0->_fU4, uParam1, 0 );
        }
    }
    return;
}

void sub_39000()
{
    sub_17773( l_U668[0], -19.15000000, -321.40000000, -0.66000000, -9.54500000 );
    sub_17773( l_U668[1], -20.61000000, -321.65000000, -0.66000000, -54.54500000 );
    sub_17773( l_U698[0], -20.53000000, -318.67000000, -0.66000000, -148.43000000 );
    sub_17773( l_U698[1], -19.65000000, -318.42000000, -0.66000000, -99.54500000 );
    sub_17773( l_U715[0], -19.65771000, -316.54370000, -0.66237900, 266.61710000 );
    CLEAR_PED_TASKS_IMMEDIATELY( l_U668[0] );
    CLEAR_PED_TASKS_IMMEDIATELY( l_U668[1] );
    CLEAR_PED_TASKS_IMMEDIATELY( l_U698[0] );
    CLEAR_PED_TASKS_IMMEDIATELY( l_U698[1] );
    CLEAR_PED_TASKS_IMMEDIATELY( l_U715[0] );
    return;
}

void sub_39277()
{
    sub_1119( "SBA", "SETUP_PASSOS_FOR_PARKING_LOT", "***" );
    sub_1119( "SBA", "SETUP_PASSOS_FOR_PARKING_LOT: Creating Passos", "***" );
    if (NOT (sub_14213( g_U750 )))
    {
        sub_13419( g_U750 );
        g_U750 = sub_13556( ref l_U998 );
        if (sub_14213( g_U750 ))
        {
            sub_8451( g_U750, -862236369, 25000, 0, 0 );
            sub_39480( ref g_U750 );
        }
    }
    return;
}

void sub_39480(unknown uParam0)
{
    sub_1119( "SBA", "P_SETUP_PASSOS_GENERAL_ATTRIBUTES", "***" );
    if (sub_14213( (uParam0^) ))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( (uParam0^), 1 );
        SET_PED_CAN_TRIGGER_BULLET_CAM( (uParam0^), 1 );
        SET_PED_VALIDATE_BULLET_CAM_HIT( (uParam0^), 0 );
        SET_AI_SHOULD_ALWAYS_MISS_PED( (uParam0^), 1 );
        SET_CAN_AI_KICK_THROUGH_CORPSES( (uParam0^), 1 );
        "[doubled result, dropped if not asigned]";
        "[doubled result, dropped if not asigned]";
        SET_PED_AI_TEMPLATE( (uParam0^), "AIT_NORMAL" );
        SET_PED_ONLY_DAMAGED_BY_PLAYER( (uParam0^), 1 );
        SET_PED_AS_ONE_SHOT_KILL( (uParam0^), 1 );
        SET_PED_GORE( (uParam0^), 0 );
        SET_PED_CAN_RAGDOLL_FROM_PLAYER_IMPACT( (uParam0^), 0 );
        SET_PED_PROOFS( (uParam0^), 0, 1, 1, 1, 1 );
        SET_PED_ALLOWED_TO_SURRENDER( (uParam0^), 0 );
        SET_PED_CAN_AVOID_DEATH_ZONES( (uParam0^), 0 );
        SET_PED_STAND_GROUND_ON_PLAYER_IMPACT( (uParam0^), 1 );
        SET_PED_CAN_PUSH_PLAYER( (uParam0^), 1 );
        SET_PED_RESIST_TO_OBJECT_COLLISION( (uParam0^), 1 );
        "[doubled result, dropped if not asigned]";
        "[doubled result, dropped if not asigned]";
        SET_PED_CAN_BE_TARGETTED( (uParam0^), 0 );
        SET_PED_CONSUMING_AMMO( (uParam0^), 0 );
        SET_PED_PATH_CAN_USE_CLIMBOVERS( (uParam0^), 1 );
        SET_PED_PATH_CAN_DROP_FROM_HEIGHT( (uParam0^), 1 );
    }
    return;
}

void sub_39890()
{
    sub_1119( "SBA", "P_DIAL_PARKING_THUG_VIG", 0 );
    if ((NOT (IS_PED_DEAD( l_U715[0] ))) AND ((NOT (IS_PED_DEAD( l_U698[1] ))) AND (NOT (IS_PED_DEAD( l_U698[0] )))))
    {
        sub_35777( ref l_U1547 );
        sub_35871( 0, l_U668[0], "M4_NY_14_Avg", ref l_U1547, 2, 0 );
        sub_35871( 1, l_U715[0], "M4_NY_15_Mus", ref l_U1547, 2, 0 );
        sub_35871( 2, l_U698[1], "M4_NY_16_Avg", ref l_U1547, 2, 0 );
        sub_36089( "SNYC_VIG06A", ref l_U1547, 7, 1 );
    }
    return;
}

void sub_40401(unknown uParam0, unknown uParam1)
{
    if (sub_14213( (uParam0^) ))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( (uParam0^), uParam1 );
    }
    return;
}

void sub_41759(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_16722( (uParam0^)[I] );
    }
    return;
}

void sub_41814()
{
    sub_1119( "bsw", "TASK_PARKING_LOT_REINFORCEMENTS sending in parking lot reinforcements", 0 );
    sub_16870( ref l_U826 );
    sub_41921( ref l_U826 );
    return;
}

void sub_41921(unknown uParam0)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        sub_41955( (uParam0^)[I], 1 );
    }
    return;
}

void sub_41955(unknown uParam0, boolean bParam1)
{
    if ((NOT (IS_PED_RAGDOLL( uParam0, 0 ))) AND ((NOT (IS_PED_INJURED( uParam0 ))) AND ((sub_26904()) AND (sub_14213( uParam0 )))))
    {
        if (bParam1)
        {
            CLEAR_PED_TASKS_IMMEDIATELY( uParam0 );
        }
        CLEAR_LOCKED_TARGET( uParam0 );
        sub_36965( ref uParam0 );
        sub_42038( ref uParam0 );
        TASK_COMBAT_PED( uParam0, sub_6200() );
    }
    return;
}

void sub_42038(unknown uParam0)
{
    if ((sub_26904()) AND (sub_14213( (uParam0^) )))
    {
        sub_42074( uParam0, sub_6200() );
    }
    return;
}

void sub_42074(unknown uParam0, unknown uParam1)
{
    if ((sub_14213( uParam1 )) AND (sub_14213( (uParam0^) )))
    {
        SET_LOCKED_TARGET( (uParam0^), uParam1 );
    }
    return;
}

void sub_43113()
{
    int Result;
    unknown uVar3;
    unknown uVar4;

    Result = 0;
    switch (l_U1755)
    {
        case 0:
        sub_1119( "SBA", "HANDLE_MID00_BLENDOUT: Starting Blendout", "***" );
        sub_19562( 1, 0, 0, 1 );
        if ((ISEQ_QUERY_STATE( 984969677, 3 )) == 0)
        {
            sub_43251();
            CAMERA_PLAY_ANIMATED( "LEVEL_S_NYBAR_CP_02", "BLEND_OUT_MID_00_NYBAR_RIFLE_CAM", 0, -13.01500000, -318.12700000, 0.04400000, 0.00000000, 0, 0 );
            sub_17773( g_U750, g_U2436, g_U2439 );
            ISEQ_START( 984969677 );
        }
        if (sub_26904())
        {
            SNAP_PLAYER_TO_COVERPOINT( sub_6222(), "GenCover", "47E254B1_B2027730_Popover1", 0 );
        }
        if (IS_DEATH_PANEL_WIPE_ALLOWED())
        {
            if (NOT sub_19733())
            {
                DO_SCREEN_FADE_IN( 250 );
            }
        }
        l_U1755 = 2;
        break;
        case 2:
        if ((CAMERA_ANIMATED_CURRENT_TIME() + 1) >= (CAMERA_ANIMATED_LENGTH( "LEVEL_S_NYBAR_CP_02", "BLEND_OUT_MID_00_NYBAR_RIFLE_CAM" )))
        {
            sub_1119( "BSW", "Blendout cam finished, freezing cam", 0 );
            SET_GAMEPLAY_CAM_RELATIVE_HEADING( g_U2253[4]._fU16, 1065353216, 0 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( g_U2253[4]._fU20, 1065353216, 0 );
            CAMERA_FREEZE_FRAME( 1, 500, 0, 0 );
            l_U460 = 4;
            l_U1755 = 9;
        }
        break;
        case 9:
        sub_1119( "SP", "eBlend0401State = BLEND_IDLE", 0 );
        Result = 1;
        sub_19269( 1, 1 );
        l_U1755 = 10;
        break;
    }
    return Result;
}

void sub_43251()
{
    if (sub_26904())
    {
        sub_1119( "SBA", "Registering player with NYC_MID_00", "***" );
        if (sub_14213( g_U750 ))
        {
            ISEQ_REGISTER_ENTITY( 984969677, "passos", g_U750, 0 );
        }
        if (sub_14213( sub_6200() ))
        {
            ISEQ_REGISTER_ENTITY( 984969677, "max", sub_6200(), 0 );
        }
    }
    return;
}

void sub_44138(int iParam0, int iParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, int iParam9)
{
    int iVar12;
    int iVar13;
    int iVar14;
    int iVar15;
    int iVar16;

    sub_1119( "GA", "Saving the player data for checkpoint - Start", 0 );
    if ((IS_PED_DEAD( uParam2 )) == 0)
    {
        sub_1119( "SP", "Saving to scripted data...", 0 );
        RESET_CHECKPOINT_ATTEMPTS();
        if (SCRIPT_VAR_EXISTS( "SV_SAVE_CNT" ))
        {
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", (SCRIPT_VAR_GET_INT( "SV_SAVE_CNT" )) + 1 );
        }
        else
        {
            SCRIPT_VAR_ADD_INT( "SV_SAVE_CNT" );
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", 1 );
        }
        sub_9105( iParam1 );
        sub_44397( iParam1 );
        iParam0->_fU52 = iParam1;
        iParam0->_fU4 = {uParam3};
        iParam0->_fU16 = uParam6;
        iParam0->_fU20 = uParam7;
        iParam0->_fU24 = uParam8;
        iParam0->_fU28 = GET_PED_HEALTH( uParam2 );
        iParam0->_fU56 = -1569615261;
        iParam0->_fU60 = -1569615261;
        iParam0->_fU64 = -1569615261;
        iParam0->_fU68 = -1569615261;
        iParam0->_fU72 = -1569615261;
        iParam0->_fU76 = 0;
        iParam0->_fU80 = 0;
        iParam0->_fU84 = 0;
        iParam0->_fU88 = 0;
        iParam0->_fU92 = 0;
        iVar12 = GET_WEAPON_FROM_HAND( uParam2, 0, 0 );
        iVar13 = GET_WEAPON_FROM_HAND( uParam2, 1, 0 );
        iVar14 = GET_WEAPON_FROM_HOLSTER( uParam2, 0 );
        iVar15 = GET_WEAPON_FROM_HOLSTER( uParam2, 1 );
        iVar16 = GET_WEAPON_FROM_HOLSTER( uParam2, 2 );
        if (GET_DOES_WEAPON_EXIST( iVar12 ))
        {
            iParam0->_fU68 = GET_WEAPON_TYPE( iVar12 );
            iParam0->_fU88 = (GET_WEAPON_AMMO( iVar12 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar12 ));
            sub_44848( iVar12, iParam0 + 120, iParam0 + 124 );
        }
        if (GET_DOES_WEAPON_EXIST( iVar13 ))
        {
            iParam0->_fU72 = GET_WEAPON_TYPE( iVar13 );
            iParam0->_fU92 = (GET_WEAPON_AMMO( iVar13 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar13 ));
            sub_44848( iVar13, iParam0 + 128, iParam0 + 132 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_45080( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar13 ) ))
                {
                    iParam0->_fU92 = GET_WEAPON_AMMO_IN_CLIP( iVar12 );
                }
            }
        }
        if ((iVar14 != iVar13) AND ((iVar14 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar14 ))))
        {
            iParam0->_fU56 = GET_WEAPON_TYPE( iVar14 );
            iParam0->_fU76 = (GET_WEAPON_AMMO( iVar14 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar14 ));
            sub_44848( iVar14, iParam0 + 96, iParam0 + 100 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_45080( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if (sub_45080( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
        }
        if ((iVar15 != iVar13) AND ((iVar15 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar15 ))))
        {
            iParam0->_fU60 = GET_WEAPON_TYPE( iVar15 );
            iParam0->_fU80 = (GET_WEAPON_AMMO( iVar15 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar15 ));
            sub_44848( iVar15, iParam0 + 104, iParam0 + 108 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_45080( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if (sub_45080( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if (sub_45080( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
        }
        if ((iVar16 != iVar13) AND ((iVar16 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar16 ))))
        {
            iParam0->_fU64 = GET_WEAPON_TYPE( iVar16 );
            iParam0->_fU84 = (GET_WEAPON_AMMO( iVar16 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar16 ));
            sub_44848( iVar16, iParam0 + 112, iParam0 + 116 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_45080( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if (sub_45080( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if (sub_45080( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar15 ))
            {
                if (sub_45080( GET_WEAPON_TYPE( iVar15 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
        }
        SAVE_PICKUPS();
        iParam0->_fU32 = GET_ADRENALINE_AMT();
        iParam0->_fU36 = GET_PAYNEKILLER_AMT();
        GET_TIME_OF_DAY( iParam0 + 40, iParam0 + 44 );
        iParam0->_fU140 = IS_TIME_OF_DAY_FROZEN();
        iParam0->_fU136 = GET_PED_SWEAT( uParam2 );
        if (iParam9 == 1)
        {
            if (IS_MAGDEMO() == 0)
            {
                ENABLE_CHECKPOINT_ICON();
            }
        }
        if (iParam1 >= 0)
        {
            sub_46638( iParam0 );
            iParam0->_fU0 = 1;
            if (IS_ARCADE_MODE_ACTIVE() == 0)
            {
                CHECKPOINT_STORAGE_SAVE( iParam0, l_U1, iParam0->_fU52 );
                REQUEST_SAVE();
            }
        }
        if (IS_ARCADE_MODE_ACTIVE())
        {
            UPDATE_ARCADE_CHECK_POINT( iParam0->_fU52 );
        }
    }
    else
    {
        SCRIPT_ASSERT( "Error: Player is dead while saving a checkpoint!!!", 0 );
    }
    sub_1119( "GA", "Saving the player data for checkpoint - End", 0 );
    return;
}

void sub_44397(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (iParam0 >= 0)
    {
        if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
        {
            uVar3 = sub_6482( ref uVar20 );
        }
        STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, iParam0 - 1 );
        sub_1119( "TEH", "Ending context", 0 );
        sub_1119( "TEH", "Ending context", 0 );
        END_CONTEXT( ref uVar4 );
    }
    return;
}

void sub_44848(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        CLEAR_BIT( uParam1, I );
        CLEAR_BIT( uParam2, I );
        if (IS_WEAPON_ATTACHMENT_ENABLED( uParam0, I ))
        {
            SET_BIT( uParam1, I );
            if (IS_WEAPON_ATTACHMENT_TOGGLED( uParam0, I ))
            {
                SET_BIT( uParam2, I );
            }
        }
    }
    return;
}

void sub_45080(int iParam0, int iParam1)
{
    int Result;

    Result = 0;
    if ((iParam0 == -612753081) || ((iParam0 == 68019059) || ((iParam0 == 456708483) || ((iParam0 == -862236369) || (iParam0 == 406496141)))))
    {
        if ((iParam1 == -612753081) || ((iParam1 == 68019059) || ((iParam1 == 456708483) || ((iParam1 == -862236369) || (iParam1 == 406496141)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 724901397) || ((iParam0 == 57534114) || ((iParam0 == 1308526797) || ((iParam0 == -1074756423) || (iParam0 == -1013714740)))))
    {
        if ((iParam1 == 724901397) || ((iParam1 == 57534114) || ((iParam1 == 1308526797) || ((iParam1 == -1074756423) || (iParam1 == -1013714740)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 514118749) || ((iParam0 == -184942895) || ((iParam0 == -168327769) || ((iParam0 == 1845102363) || (iParam0 == 434544317)))))
    {
        if ((iParam1 == 514118749) || ((iParam1 == -184942895) || ((iParam1 == -168327769) || ((iParam1 == 1845102363) || (iParam1 == 434544317)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -110877124) || (iParam0 == 319712764))
    {
        if ((iParam1 == -110877124) || (iParam1 == 319712764))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -1464892298) || ((iParam0 == 1194438308) || ((iParam0 == -1404433099) || ((iParam0 == 1478009203) || ((iParam0 == -691403429) || (iParam0 == 1964270085))))))
    {
        if ((iParam1 == -1464892298) || ((iParam1 == 1194438308) || ((iParam1 == -1404433099) || ((iParam1 == 1478009203) || ((iParam1 == -691403429) || (iParam1 == 1964270085))))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 10648147) || (iParam0 == 1224272620))
    {
        if ((iParam1 == 10648147) || (iParam1 == 1224272620))
        {
            Result = 1;
        }
    };;;;;;
    return Result;
}

void sub_46638(int iParam0)
{
    sub_1326( "CHECKPOINT DATA" );
    sub_46677( iParam0->_fU4 );
    sub_46700( iParam0->_fU16 );
    sub_46700( iParam0->_fU20 );
    sub_46700( iParam0->_fU24 );
    sub_21121( iParam0->_fU28 );
    sub_21121( iParam0->_fU56 );
    sub_21121( iParam0->_fU60 );
    sub_21121( iParam0->_fU64 );
    sub_21121( iParam0->_fU68 );
    sub_21121( iParam0->_fU72 );
    sub_21121( iParam0->_fU76 );
    sub_21121( iParam0->_fU80 );
    sub_21121( iParam0->_fU84 );
    sub_21121( iParam0->_fU88 );
    sub_21121( iParam0->_fU92 );
    sub_46700( iParam0->_fU32 );
    sub_21121( iParam0->_fU36 );
    sub_21121( iParam0->_fU40 );
    sub_21121( iParam0->_fU44 );
    sub_46700( iParam0->_fU136 );
    sub_46935( iParam0->_fU140 );
    sub_21121( iParam0->_fU52 );
    sub_1326( "---nRightHolsterAttachmentEnabled: " );
    sub_21121( iParam0->_fU96 );
    sub_1326( "---nRightHolsterAttachmentToggled: " );
    sub_21121( iParam0->_fU100 );
    sub_1326( "---nLeftHolsterAttachmentEnabled: " );
    sub_21121( iParam0->_fU104 );
    sub_1326( "---nLeftHolsterAttachmentToggled: " );
    sub_21121( iParam0->_fU108 );
    sub_1326( "---nRifleHolsterAttachmentEnabled: " );
    sub_21121( iParam0->_fU112 );
    sub_1326( "---nRifleHolsterAttachmentToggled: " );
    sub_21121( iParam0->_fU116 );
    sub_1326( "---nRightHandAttachmentEnabled: " );
    sub_21121( iParam0->_fU120 );
    sub_1326( "---nRightHandAttachmentToggled: " );
    sub_21121( iParam0->_fU124 );
    sub_1326( "---nLeftHandAttachmentEnabled: " );
    sub_21121( iParam0->_fU128 );
    sub_1326( "---nLeftHandAttachmentToggled: " );
    sub_21121( iParam0->_fU132 );
    sub_21121( l_U1 );
    sub_21121( 144 );
    return;
}

void sub_46677(unknown uParam0, unknown uParam1, unknown uParam2)
{
    return;
}

void sub_46700(unknown uParam0)
{
    return;
}

void sub_46935(boolean bParam0)
{
    if (bParam0)
    {
        ;
    }
    return;
}

void sub_47744()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    switch (l_U1749)
    {
        case 0:
        sub_1119( "SBA", "P_HANDLE_PASSOS_PARKING_VIGS: Starting VIG07", "***" );
        sub_17773( g_U750, g_U2436, g_U2439 );
        sub_17288( 320396699, 1 );
        sub_5805( ref l_U1430, 8000, 1, 0 );
        sub_5805( ref l_U1439, 8000, 1, 0 );
        sub_5805( ref l_U1448, 1000, 1, 0 );
        sub_5805( ref l_U1637, 1500, 1, 0 );
        sub_5805( ref l_U1646, 4000, 1, 0 );
        l_U1749 = 3;
        break;
        case 3:
        if (sub_14213( g_U750 ))
        {
            if (l_U1391 == 1)
            {
                l_U1391 = 0;
                sub_5643( ref l_U1646 );
                sub_48017();
                l_U1749 = 8;
                sub_49741( ref g_U750, 47 );
                sub_49741( ref g_U750, 57 );
            }
            else if ((l_U1383 == 0) AND (l_U1390 == 1))
            {
                sub_29500( ref l_U1637 );
                sub_1119( "SBA", "VIG_07 - Passos start shooting", "***" );
                PED_SET_ACTION_INTENTION( g_U750, 47, 1000, 0, 0, 0 );
                l_U1383 = 1;
            }
            if (l_U1383 == 1)
            {
                if (NOT sub_49925())
                {
                    if (sub_30142( ref l_U1637 ))
                    {
                        sub_29500( ref l_U1646 );
                    }
                }
                sub_50014();
                if (sub_50314() == 1)
                {
                    if (l_U568 < 2)
                    {
                        if (sub_30142( ref l_U1430 ))
                        {
                            l_U1377 = 1;
                        }
                    }
                    PED_SET_ACTION_INTENTION( g_U750, 55, 1000, 0, 0, 0 );
                    if (PED_ANIM_EVENT( g_U750, -1531652494 ))
                    {
                        sub_1119( "SBA", "VIG_07 - Weapon fired", "***" );
                        if (l_U1377 == 1)
                        {
                            sub_1119( "SBA", "VIG_07 - Passos KILLING TARGET", "***" );
                            sub_51490( l_U1761 );
                            SCRIPT_VAR_SET_INT( "SP_SV_PASSOS_KILLS", 1 );
                            l_U568++;
                            if (l_U568 < 2)
                            {
                                sub_5643( ref l_U1430 );
                                sub_29500( ref l_U1430 );
                            }
                            l_U1377 = 0;
                        }
                        PED_FINISH_ACTION_INTENTION( g_U750, 55 );
                    }
                }
            }
        }
        break;
        case 8:
        sub_48017();
        if (l_U1750 == -1)
        {
            sub_51695();
            l_U1749 = 9;
        }
        break;
        case 9:
        if (sub_37933( ref l_U1243, g_U750, 0 ))
        {
            sub_48600( 0 );
        }
        if (sub_30142( ref l_U1655 ))
        {
            sub_51856();
            sub_5805( ref l_U1646, 1000, 1, 0 );
            sub_29500( ref l_U1646 );
        }
        sub_52076( g_U750, ref l_U1877, ref l_U1879, ref l_U1878, ref l_U1889, ref l_U1880 );
        break;
    }
    return;
}

void sub_48017()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    switch (l_U1750)
    {
        case 0:
        if (NOT (IS_PED_DEAD( sub_6200() )))
        {
            if (NOT (IS_PED_RAGDOLL( sub_6200(), 0 )))
            {
                if (sub_14213( g_U750 ))
                {
                    PED_FINISH_ACTION_INTENTION( g_U750, 55 );
                }
                if (NOT (IS_BULLET_CAMERA_RUNNING( 0 )))
                {
                    sub_1119( "SBA", "PLAY_VIG_07B: No bullet cam: Going to eISS_WAITING_TO_PLAY", "***" );
                    l_U1750 = 1;
                }
                else
                {
                    sub_32342();
                    sub_1119( "SBA", "PLAY_VIG_07B: Going to eISS_LAST_GUY_DEATH_CAM", "***" );
                    l_U1750 = 6;
                }
            }
            else
            {
                sub_1119( "SBA", "PLAY_VIG_07B: Waiting for player to be out of ragdoll", "***" );
            }
        }
        break;
        case 1:
        if ((sub_14213( g_U750 )) AND (sub_26904()))
        {
            if ((sub_48433( sub_6200(), g_U750, 1 )) > 3.00000000)
            {
                if (NOT (IS_PED_ON_SCREEN( g_U750, 0 )))
                {
                    sub_32342();
                    sub_48600( 1 );
                    sub_1119( "SBA", "PLAY_VIG_07B: Playing VIG_07B *FULL*", "***" );
                    sub_48860( g_U2440, g_U2443, 0 );
                    sub_5805( ref l_U1655, 750, 1, 0 );
                    sub_29500( ref l_U1655 );
                    sub_1119( "SBA", "PLAY_VIG_07B: Going to eISS_INACTIVE", "***" );
                    l_U1750 = -1;
                }
                else
                {
                    sub_1119( "SBA", "PLAY_VIG_07B: Waiting for Passos to be off screen", "***" );
                }
            }
            else
            {
                sub_1119( "SBA", "PLAY_VIG_07B: Waiting for Player to be away from Passos", "***" );
            }
        }
        break;
        case 6:
        if (NOT IS_BULLET_CAMERA_ACTIVE())
        {
            if (sub_26904())
            {
                if ((NOT (IS_PED_USING_MP3_COVER_TASK( sub_6200() ))) AND (IS_PED_AT_COORD( sub_6200(), g_U2444, 1.00000000, 1.00000000, 2.00000000, 0, 1 )))
                {
                    sub_1119( "SBA", "PLAY_VIG_07B: Moving Max out of the way", "***" );
                    sub_17773( sub_6200(), g_U2444._fU0, g_U2444._fU4 + 1.30000000, g_U2444._fU8, 90 );
                }
            }
            sub_48600( 1 );
            sub_1119( "SBA", "PLAY_VIG_07B: Playing VIG_07B *SHORT*", "***" );
            sub_48860( g_U2444._fU0, g_U2444._fU4 + 0.65000000, g_U2444._fU8, g_U2447, 1 );
            sub_5805( ref l_U1655, 750, 1, 0 );
            sub_29500( ref l_U1655 );
            sub_1119( "SBA", "PLAY_VIG_07B: Going to eISS_INACTIVE", "***" );
            l_U1750 = -1;
        }
        break;
        case -1:
        sub_46677( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( g_U750 ) );
        break;
    }
    return;
}

void sub_48433(unknown uParam0, unknown uParam1, boolean bParam2)
{
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;

    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        uVar5 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
    }
    if (NOT (IS_PED_DEAD( uParam1 )))
    {
        uVar8 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam1 )};
    }
    if (bParam2)
    {
        return VDIST( uVar5, uVar8 );
        break;
    }
    return VDIST( uVar5._fU0, uVar5._fU4, 0, uVar8._fU0, uVar8._fU4, 0 );
}

void sub_48600(boolean bParam0)
{
    int I;

    sub_1119( "TEH", "MAKE_CARS_NOT_BLOWUP", "***" );
    sub_46935( bParam0 );
    for ( I = 0; I <= 2; I++ )
    {
        if (sub_12484( l_U782[I] ))
        {
            SET_VEHICLE_PROOFS( l_U782[I], 0, bParam0, bParam0, 0, 0 );
            SET_VEHICLE_ENGINE_CAN_BE_DAMAGED( l_U782[I], NOT bParam0 );
            if (bParam0)
            {
                STOP_VEHICLE_FIRE( l_U782[I] );
                SET_VEHICLE_PETROL_TANK_HEALTH( l_U782[I], 1000 );
            }
        }
    }
    return;
}

void sub_48860(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, boolean bParam4)
{
    sub_1119( "bsw", "START_PASSOS_MOVING_OUT_OF_STAIRS_COVER", 0 );
    sub_17773( g_U750, uParam0, uParam3 );
    WAIT( 1 );
    if (NOT (IS_PED_DEAD( g_U750 )))
    {
        if (bParam4)
        {
            PED_SET_ACTION_INTENTION( g_U750, 54, -1, 0, 0, 0 );
        }
        else
        {
            PED_SET_ACTION_INTENTION( g_U750, 56, -1, 0, 0, 0 );
        }
        SET_PED_SYNC_POINT( g_U750, uParam0, uParam3 );
    }
    ISEQ_REGISTER_ENTITY( 320396699, "passos", g_U750, 0 );
    ISEQ_START( 320396699 );
    return;
}

void sub_49741(unknown uParam0, unknown uParam1)
{
    if (NOT (IS_PED_DEAD( (uParam0^) )))
    {
        PED_FINISH_ACTION_INTENTION( (uParam0^), uParam1 );
    }
    return;
}

void sub_49925()
{
    int Result;
    int I;

    Result = 0;
    for ( I = 0; I <= 3; I++ )
    {
        Result = (IS_SCRIPTED_CONVERSATION_ONGOING( I )) || (Result);
    }
    return Result;
}

void sub_50014()
{
    if (NOT sub_49925())
    {
        if (sub_30142( ref l_U1646 ))
        {
            sub_1119( "SBA", "P_HANDLE_PASSOS_INCIDENTAL_SHOOT_VO", "***" );
            sub_50120( "SNYC_PSDC", ref l_U1577 );
            sub_5805( ref l_U1646, GET_RANDOM_INT_IN_RANGE( 15000, 18000 ), 1, 0 );
            sub_29500( ref l_U1646 );
        }
    }
    return;
}

void sub_50120(unknown uParam0, unknown uParam1)
{
    sub_1119( "SBA", "P_PLAY_DIAL_PASSOS", "***" );
    if (sub_14213( g_U750 ))
    {
        if (NOT (IS_PED_DEAD( sub_6200() )))
        {
            sub_35777( uParam1 );
            sub_35871( 1, g_U750, "PASSOS", uParam1, 2, 0 );
            sub_35871( 0, sub_6200(), "MAX", uParam1, 2, 0 );
            sub_36089( uParam0, uParam1, 8, 1 );
        }
    }
    return;
}

int sub_50314()
{
    int I;

    l_U1760 = 0;
    if (l_U1399 == 1)
    {
        return 0;
    }
    if (sub_14213( l_U668[0] ))
    {
        if (sub_50377( l_U668[0], l_U1158 ))
        {
            l_U1760 = 1;
            if (l_U1760 != l_U1759)
            {
                sub_50468( g_U750, l_U668[0] );
                l_U1761 = l_U668[0];
                l_U567 = GET_PED_HEALTH( l_U1761 );
                l_U1759 = 1;
            }
            return 1;
        }
    }
    if (sub_14213( l_U668[1] ))
    {
        if (sub_50377( l_U668[1], l_U1158 ))
        {
            l_U1760 = 2;
            if (l_U1760 != l_U1759)
            {
                sub_50468( g_U750, l_U668[1] );
                l_U1761 = l_U668[1];
                l_U567 = GET_PED_HEALTH( l_U1761 );
                l_U1759 = l_U1760;
            }
            return 1;
        }
    }
    if (sub_14213( l_U698[0] ))
    {
        if (sub_50377( l_U698[0], l_U1158 ))
        {
            l_U1760 = 3;
            if (l_U1760 != l_U1759)
            {
                sub_50468( g_U750, l_U698[0] );
                l_U1761 = l_U698[0];
                l_U567 = GET_PED_HEALTH( l_U1761 );
                l_U1759 = l_U1760;
            }
            return 1;
        }
    }
    if (sub_14213( l_U698[1] ))
    {
        if (sub_50377( l_U698[1], l_U1158 ))
        {
            l_U1760 = 4;
            if (l_U1760 != l_U1759)
            {
                sub_50468( g_U750, l_U698[1] );
                l_U1761 = l_U698[1];
                l_U567 = GET_PED_HEALTH( l_U1761 );
                l_U1759 = l_U1760;
            }
            return 1;
        }
    }
    if (sub_14213( l_U715[0] ))
    {
        if (sub_50377( l_U715[0], l_U1158 ))
        {
            l_U1760 = 5;
            if (l_U1760 != l_U1759)
            {
                sub_50468( g_U750, l_U715[0] );
                l_U1761 = l_U715[0];
                l_U567 = GET_PED_HEALTH( l_U1761 );
                l_U1759 = l_U1760;
            }
            return 1;
        }
    }
    for ( I = 0; I <= 2; I++ )
    {
        if (sub_14213( l_U826[I] ))
        {
            if (sub_50377( l_U826[I], l_U1158 ))
            {
                l_U1760 = 6 + I;
                if (l_U1760 != l_U1759)
                {
                    sub_50468( g_U750, l_U826[I] );
                    l_U1761 = l_U826[I];
                    l_U567 = GET_PED_HEALTH( l_U1761 );
                    l_U1759 = l_U1760;
                }
                return 1;
            }
        }
    }
    return 0;
}

int sub_50377(unknown uParam0, unknown uParam1)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        return IS_PED_IN_GAMEPLAY_HELPER_BOX( uParam0, uParam1._fU0 );
    }
    return 0;
}

void sub_50468(unknown uParam0, unknown uParam1)
{
    if (sub_14213( uParam0 ))
    {
        if (sub_14213( uParam1 ))
        {
            sub_50504( uParam0 );
            REGISTER_TARGET( uParam0, uParam1 );
            SET_LOCKED_TARGET( uParam0, uParam1 );
            SET_PED_DEFAULT_AIM_AT_PED( uParam0, uParam1 );
        }
    }
    return;
}

void sub_50504(unknown uParam0)
{
    if (sub_14213( uParam0 ))
    {
        CLEAR_LOCKED_TARGET( uParam0 );
        CLEAR_PED_DEFAULT_AIM( uParam0 );
    }
    return;
}

void sub_51490(unknown uParam0)
{
    if (sub_14213( uParam0 ))
    {
        START_PARTICLE_FX_NON_LOOPED_ON_PED_BONE( "Blood_headsoup_S_01", uParam0, 0.25000000, 0, 0, 0, 0, 0, 57704, 2 );
        sub_17557( uParam0 );
    }
    return;
}

void sub_51695()
{
    sub_1119( "SBA", "INIT_HANDLE_PASSOS_WAITING_SPEECH: Setting ePWS_State = ePWS_SetupState", 0 );
    l_U117 = 1;
    return;
}

void sub_51856()
{
    sub_1119( "SBA", "P_DIAL_PASSOS_STAND", "***" );
    if (sub_14213( g_U750 ))
    {
        if (NOT (IS_PED_DEAD( sub_6200() )))
        {
            sub_35777( ref l_U1587 );
            sub_35871( 0, g_U750, "PASSOS", ref l_U1587, 2, 0 );
            sub_35871( 1, sub_6200(), "MAX", ref l_U1587, 2, 0 );
            sub_36089( "SNYC_ATGD", ref l_U1587, 8, 1 );
        }
    }
    return;
}

void sub_52076(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    sub_52131( uParam0, uParam1, uParam2, uParam3, uParam4, uParam5, 52098, 1077936128, 1069547520, 1065353216 );
    return;
}

void sub_52098(unknown uParam0)
{
    return;
}

void sub_52131(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, int iParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
    unknown uVar12;

    if ((sub_52144( uParam0, 29 )) == 3)
    {
        uVar12 = nil;
        if (((sub_52290( 1 )) AND (IS_PED_IN_CROSSHAIR_CYLINDER( uParam0, 2, 10000, 0, -1082130432 ))) || (HAS_BULLET_IMPACTED_IN_AREA( sub_52206( uParam0 ), 3, ref uVar12 )))
        {
            sub_52383( "PLAYER SHOT AT PASSOS" );
            sub_52476( ref uParam0, sub_52206( sub_6200() ), 34, 1000 );
            SET_PED_PRIMARY_LOOKAT( uParam0, sub_6200() );
            (uParam1^) = 1;
            break;
            uParam6;
            0;
            break;
        }
        if (NOT (uParam2^))
        {
            if (((sub_52144( uParam0, 32 )) != 3) AND (((sub_52144( uParam0, 33 )) != 3) AND (IS_PED_TOUCHING_PED( sub_6200(), uParam0 ))))
            {
                sub_52383( "BAD TOUCH!!" );
                (uParam2^) = 1;
                (uParam1^) = 1;
                sub_52476( ref uParam0, sub_52206( sub_6200() ), 35, 1000 );
                SET_PED_PRIMARY_LOOKAT( uParam0, sub_6200() );
                break;
                uParam6;
                1;
                break;
            }
        }
        else if (NOT (IS_PED_TOUCHING_PED( sub_6200(), uParam0 )))
        {
            (uParam2^) = 0;
        }
        if (NOT (uParam3^))
        {
            if (sub_52722( ref uParam0, 300, 100, -1, 0, 0 ))
            {
                if ((IS_CONTROL_PRESSED( 0, 6 )) AND (IS_PED_IN_CROSSHAIR_CYLINDER( uParam0, 1, 10000, 0, -1082130432 )))
                {
                    (uParam1^) = 1;
                    (uParam3^) = 1;
                    sub_52476( ref uParam0, sub_52206( sub_6200() ), 32, 1000 );
                    SET_PED_PRIMARY_LOOKAT( uParam0, sub_6200() );
                    sub_52383( "PLAYER AIMING AT PASSOS" );
                    break;
                    uParam6;
                    2;
                    break;
                }
            }
        }
        else if ((NOT (IS_CONTROL_PRESSED( 0, 6 ))) || (NOT (IS_PED_IN_CROSSHAIR_CYLINDER( uParam0, 1.50000000, 10000, 0, -1082130432 ))))
        {
            if ((sub_52144( uParam0, 32 )) != 3)
            {
                (uParam3^) = 0;
                sub_52383( "PLAYER NO LONGER AIMING AT PASSOS" );
            }
        }
        if (NOT (uParam1^))
        {
            if ((sub_52722( ref uParam0, uParam9, 180, -1, 46, 0 )) || ((sub_52722( ref uParam0, uParam8, 45, -1, 31, 0 )) || (sub_52722( ref uParam0, uParam7, 30, -1, 0, 0 ))))
            {
                sub_52383( "INTERRUPTING PASSOS" );
                sub_52476( ref uParam0, sub_52206( sub_6200() ), 33, 1000 );
                SET_PED_PRIMARY_LOOKAT( uParam0, sub_6200() );
                (uParam1^) = 1;
            }
        }
        else if ((sub_52722( ref uParam0, -1, 180, uParam8 + 1, 91, 0 )) || (sub_52722( ref uParam0, -1, 90, uParam7 + 1, 0, 0 )))
        {
            if ((NOT (uParam2^)) AND (NOT (uParam3^)))
            {
                if ((sub_53364( ref uParam0, 35, 1 )) || ((sub_53364( ref uParam0, 32, 1 )) || ((sub_53364( ref uParam0, 34, 1 )) || (sub_53364( ref uParam0, 33, 1 )))))
                {
                    sub_49741( ref uParam0, 33 );
                    sub_49741( ref uParam0, 34 );
                    sub_49741( ref uParam0, 32 );
                    sub_49741( ref uParam0, 35 );
                    sub_49741( ref uParam0, 31 );
                    sub_53509( uParam0, 36, 1000 );
                    CLEAR_PED_PRIMARY_LOOKAT( uParam0 );
                    (uParam1^) = 0;
                    (uParam3^) = 0;
                    (uParam2^) = 0;
                    (uParam4^) = 0;
                    sub_5805( iParam5, sub_53594( 10000, 15000 ), 1, 0 );
                    return;
                }
            }
        }
        if ((sub_52144( uParam0, 30 )) == 3)
        {
            if (sub_30142( iParam5 ))
            {
                sub_52476( ref uParam0, sub_52206( sub_6200() ), 31, 1000 );
                (uParam4^)++;
                break;
                uParam6;
                3;
                break;
            }
            else if ((uParam4^) < 3)
            {
                if ((iParam5->_fU16) || (NOT (sub_30837( iParam5 ))))
                {
                    sub_5805( iParam5, sub_53594( 10000, 15000 ), 1, 0 );
                    sub_29500( iParam5 );
                }
            }
        }
    }
    sub_53364( ref uParam0, 31, 1 );
    sub_53364( ref uParam0, 36, 1 );
    return;
}

int sub_52144(unknown uParam0, unknown uParam1)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        return PED_GET_ACTION_INTENTION_STATUS( uParam0, uParam1 );
    }
    return 0;
}

vector sub_52206(unknown uParam0)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        return "[dynamic result, ret vals = 3]";
        break;
        GET_PED_COORDS( uParam0 );
        "[doubled result, dropped if not asigned]";
        "[doubled result, dropped if not asigned]";
        break;
    }
    return vector( 0, 0, 0);
}

int sub_52290(unknown uParam0)
{
    int iVar3;

    iVar3 = nil;
    if (HAS_SHOT_BEEN_FIRED_IN_AREA( sub_52206( sub_6200() ), 2.00000000, uParam0, ref iVar3 ))
    {
        if (iVar3 == sub_6200())
        {
            sub_52383( "MAL_HasPlayerFired RETURNING TRUE" );
            return 1;
        }
    }
    return 0;
}

void sub_52383(unknown uParam0)
{
    unknown uVar3;

    uVar3 = GET_REAL_GAME_TIMER();
    return;
}

void sub_52476(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    if (NOT (IS_PED_DEAD( (uParam0^) )))
    {
        PED_SET_ACTION_INTENTION( (uParam0^), uParam4, uParam5, uParam1 );
    }
    return;
}

int sub_52722(unknown uParam0, float fParam1, unknown uParam2, float fParam3, float fParam4, boolean bParam5)
{
    float fVar8;

    if ((NOT (IS_PED_DEAD( sub_6200() ))) AND (NOT (IS_PED_DEAD( (uParam0^) ))))
    {
        fVar8 = sub_48433( (uParam0^), sub_6200(), 0 );
        if ((fVar8 > fParam1) AND (fParam1 > -1))
        {
            return 0;
        }
        else if ((fVar8 < fParam3) AND (fParam3 > -1))
        {
            return 0;
        }
        else if (NOT (IS_PED_FACING_PED( (uParam0^), sub_6200(), uParam2 )))
        {
            return 0;
        }
        else if ((IS_PED_FACING_PED( (uParam0^), sub_6200(), fParam4 )) AND (fParam4 > 0))
        {
            return 0;
        }
        else if (bParam5)
        {
            sub_46700( fParam4 );
        }
        return 1;;;;;
    }
    return 0;
}

int sub_53364(unknown uParam0, unknown uParam1, boolean bParam2)
{
    if ((sub_52144( (uParam0^), uParam1 )) == 1)
    {
        if (bParam2)
        {
            sub_49741( uParam0, uParam1 );
        }
        return 1;
    }
    return 0;
}

void sub_53509(unknown uParam0, unknown uParam1, unknown uParam2)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        PED_SET_ACTION_INTENTION( uParam0, uParam1, uParam2, l_U390 );
    }
    return;
}

void sub_53594(unknown uParam0, int iParam1)
{
    int Result;

    Result = GET_RANDOM_INT_IN_RANGE( uParam0, iParam1 + 1 );
    if (Result > iParam1)
    {
        Result = iParam1;
    }
    return Result;
}

void sub_53927(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21)
{
    int Result;
    int I;
    int iVar26;

    Result = 0;
    I = 0;
    iVar26 = (uParam0^);
    for ( I = 0; I < iVar26; I++ )
    {
        if (sub_53977( ref (uParam0^)[I], uParam1 ))
        {
            Result = 1;
        }
    }
    return Result;
}

int sub_53977(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21)
{
    if ((DOES_PED_EXIST( (uParam0^) )) == 1)
    {
        if ((IS_PED_DEAD( (uParam0^) )) == 0)
        {
            if ((IS_PED_IN_GAMEPLAY_HELPER_BOX( (uParam0^), ref uParam1._fU0 )) == 0)
            {
                sub_17557( (uParam0^) );
                return 1;
            }
        }
    }
    return 0;
}

int sub_54330(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21, boolean bParam22)
{
    switch (l_U97)
    {
        case 0: break;
        case 1:
        sub_5805( ref l_U98, uParam21, 0, 0 );
        l_U97 = 2;
        case 2:
        if (bParam22)
        {
            if (sub_54428( uParam0 ))
            {
                sub_1119( "SBA", "F_HANDLE_PASSOS_WARNING_DEATH_WITH_TIMER: Player entered Passos warning box, passos in danger", "***" );
                sub_29500( ref l_U98 );
                sub_54586();
                l_U97 = 3;
            }
        }
        else if (NOT (sub_54428( uParam0 )))
        {
            sub_1119( "SBA", "F_HANDLE_PASSOS_WARNING_DEATH_WITH_TIMER: Player exited Passos warning box, passos in danger", "***" );
            sub_29500( ref l_U98 );
            sub_54586();
            l_U97 = 3;
        }
        break;
        case 3:
        if (sub_30142( ref l_U98 ))
        {
            sub_1119( "SBA", "F_HANDLE_PASSOS_WARNING_DEATH_WITH_TIMER: Passos death timer has expired (as will passos)", "***" );
            l_U97 = 4;
        }
        else if (((sub_54428( uParam0 )) AND (NOT bParam22)) || ((NOT (sub_54428( uParam0 ))) AND (bParam22)))
        {
            sub_1119( "SBA", "F_HANDLE_PASSOS_WARNING_DEATH_WITH_TIMER: Player returned from warning box, Passos out of danger", "***" );
            sub_5643( ref l_U98 );
            l_U97 = 2;
        }
        break;
        case 4:
        sub_1119( "SBA", "F_HANDLE_PASSOS_WARNING_DEATH_WITH_TIMER: returning TRUE - going to ePWDS_Idle", "***" );
        l_U97 = 0;
        return 1;
        break;
    }
    return 0;
}

void sub_54428(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20)
{
    return sub_37821( sub_6200(), uParam0 );
}

void sub_54586()
{
    sub_1119( "SBA", "P_DIAL_PASSOS_WARNING", "***" );
    if (NOT (IS_PED_DEAD( sub_6200() )))
    {
        sub_35777( ref l_U46 );
        sub_35871( 1, sub_6200(), "PASSOS", ref l_U46, 2, 0 );
        sub_35871( 0, sub_6200(), "MAX", ref l_U46, 2, 0 );
        sub_36089( "SNYC_HBPH", ref l_U46, 8, 1 );
    }
    return;
}

void sub_55440(unknown uParam0)
{
    int Result;
    int I;
    int iVar5;

    Result = 0;
    iVar5 = (uParam0^) - 1;
    for ( I = 0; I <= iVar5; I++ )
    {
        if (NOT (IS_PED_DEAD( (uParam0^)[I] )))
        {
            Result++;
        }
    }
    return Result;
}

void sub_55572(unknown uParam0)
{
    int I;

    if ((sub_55440( uParam0 )) == 1)
    {
        for ( I = 0; I <= ((uParam0^) - 1); I++ )
        {
            if (NOT (IS_PED_DEAD( (uParam0^)[I] )))
            {
                if (NOT (GET_PED_CAN_TRIGGER_BULLET_CAM( (uParam0^)[I] )))
                {
                    SET_PED_CAN_TRIGGER_BULLET_CAM( (uParam0^)[I], 1 );
                    return (uParam0^)[I];
                }
            }
        }
    }
    return nil;
}

void sub_56099(int iParam0, unknown uParam1)
{
    switch (l_U117)
    {
        case 0: break;
        case 1:
        sub_5805( ref l_U149, iParam0 + (GET_RANDOM_INT_IN_RANGE( -uParam1, uParam1 )), 1, 0 );
        sub_29500( ref l_U149 );
        l_U158 = 0;
        sub_1119( "SBA", "P_HANDLE_PASSOS_WAITING_SPEECH: Going to ePWS_ChooseSpeechState", 0 );
        l_U117 = 2;
        break;
        case 2:
        if (NOT sub_49925())
        {
            if (sub_30142( ref l_U149 ))
            {
                l_U118 = l_U158;
                sub_1119( "SBA", "P_HANDLE_PASSOS_WAITING_SPEECH: Going to ePWS_PlaySpeechState", 0 );
                sub_1119( "SBA", "P_HANDLE_PASSOS_WAITING_SPEECH: iPassosSpeechLevel = ", 0 );
                sub_21121( l_U158 );
                l_U117 = 3;
            }
        }
        break;
        case 3:
        switch (l_U118)
        {
            case 0:
            sub_50120( "SNYC_PSDS", ref l_U129 );
            break;
            case 1:
            sub_50120( "SNYC_CMMF", ref l_U119 );
            break;
            case 2:
            sub_50120( "SNYC_TMFL", ref l_U139 );
            break;
        }
        sub_1119( "SBA", "P_HANDLE_PASSOS_WAITING_SPEECH: Going to ePWS_ResetState", 0 );
        l_U117 = 4;
        break;
        case 4:
        sub_5805( ref l_U149, iParam0 + (GET_RANDOM_INT_IN_RANGE( -uParam1, uParam1 )), 1, 0 );
        sub_29500( ref l_U149 );
        l_U158++;
        if (l_U158 > 2)
        {
            l_U158 = 0;
        }
        sub_1119( "SBA", "P_HANDLE_PASSOS_WAITING_SPEECH: Returning to ePWS_ChooseSpeechState", 0 );
        l_U117 = 2;
        break;
    }
    return;
}

int sub_56996(unknown uParam0)
{
    int iVar3;

    if ((GET_DOES_WEAPON_EXIST( uParam0 )) == 1)
    {
        iVar3 = GET_WEAPON_TYPE( uParam0 );
        if ((iVar3 == -2075384407) || ((iVar3 == 10648147) || ((iVar3 == 1224272620) || ((iVar3 == 1478009203) || ((iVar3 == 1964270085) || ((iVar3 == -110877124) || ((iVar3 == 427207702) || ((iVar3 == 319712764) || ((iVar3 == 514118749) || ((iVar3 == -184942895) || ((iVar3 == -168327769) || ((iVar3 == 434544317) || ((iVar3 == -1659006841) || ((iVar3 == 930042831) || ((iVar3 == 1001413062) || ((iVar3 == 377623895) || ((iVar3 == -1312131151) || ((iVar3 == -1787162676) || ((iVar3 == 724901397) || ((iVar3 == 57534114) || ((iVar3 == 840671040) || ((iVar3 == 1308526797) || ((iVar3 == -1074756423) || ((iVar3 == 1992962408) || (iVar3 == -1013714740)))))))))))))))))))))))))
        {
            return 1;
        }
    }
    return 0;
}

void sub_57283(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD( sub_6200() )) == 0)
    {
        iVar3 = 0;
        uVar4 = GET_WEAPON_FROM_HAND( sub_6200(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar4 )) == 0)
        {
            iVar3 = 1;
        }
        if (((sub_57363( uVar4 )) == 0) AND ((GET_DOES_WEAPON_EXIST( uVar4 )) == 1))
        {
            iVar3 = 1;
        }
        if (iVar3 == 1)
        {
            uVar5 = sub_57572();
            if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
            {
                SELECT_WEAPON_TO_HAND( sub_6200(), uVar5, 0, uParam0 );
            }
        }
    }
    return;
}

int sub_57363(unknown uParam0)
{
    int iVar3;

    if ((GET_DOES_WEAPON_EXIST( uParam0 )) == 1)
    {
        iVar3 = GET_WEAPON_TYPE( uParam0 );
        if ((iVar3 == 1194438308) || ((iVar3 == -76667461) || ((iVar3 == -1404433099) || ((iVar3 == 1131969637) || ((iVar3 == -691403429) || ((iVar3 == 1845102363) || ((iVar3 == 150541352) || ((iVar3 == -820634585) || ((iVar3 == -612753081) || ((iVar3 == 811797242) || ((iVar3 == 68019059) || ((iVar3 == -1464892298) || ((iVar3 == 456708483) || ((iVar3 == -862236369) || (iVar3 == 406496141)))))))))))))))
        {
            return 1;
        }
    }
    return 0;
}

int sub_57572()
{
    unknown Result;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD( sub_6200() )) == 0)
    {
        Result = GET_WEAPON_FROM_HAND( sub_6200(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( Result )) == 1)
        {
            if ((sub_57363( Result )) == 1)
            {
                return Result;
            }
        }
        uVar3 = GET_WEAPON_FROM_HAND( sub_6200(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            return uVar3;
        }
        uVar4 = GET_WEAPON_FROM_HOLSTER( sub_6200(), 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar4 )) == 1)
        {
            return uVar4;
        }
        uVar5 = GET_WEAPON_FROM_HOLSTER( sub_6200(), 1 );
        if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
        {
            return uVar5;
        }
    }
    return 0;
}

int sub_57826(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21, unknown uParam22, unknown uParam23, unknown uParam24, unknown uParam25, unknown uParam26, unknown uParam27, unknown uParam28, unknown uParam29, unknown uParam30, unknown uParam31, unknown uParam32, unknown uParam33, unknown uParam34, unknown uParam35, unknown uParam36, unknown uParam37, unknown uParam38, unknown uParam39, unknown uParam40, unknown uParam41, boolean bParam42)
{
    if (sub_26904())
    {
        if ((NOT (GET_IS_PED_FORCED_TO_WALK( sub_6200() ))) AND (sub_54428( uParam0 )))
        {
            sub_1119( "RJM", "UPDATE_FORCEWALK_AND_TRIGGER_PAIR - Force walk enabled", 0 );
            SET_PED_FORCED_TO_WALK( sub_6200(), 1 );
        }
        else if ((GET_IS_PED_FORCED_TO_WALK( sub_6200() )) AND (NOT (sub_54428( uParam0 ))))
        {
            sub_1119( "RJM", "UPDATE_FORCEWALK_AND_TRIGGER_PAIR - Force walk disabled", 0 );
            SET_PED_FORCED_TO_WALK( sub_6200(), 0 );
        }
    }
    if (sub_54428( uParam21 ))
    {
        if (bParam42)
        {
            SET_PED_FORCED_TO_WALK( sub_6200(), 0 );
        }
        return 1;
    }
    return 0;
}

void sub_58161(unknown uParam0, int iParam1)
{
    if (HAS_CUTSCENE_LOADED())
    {
        if (NOT (CUTSCENE_IS_LOADED( uParam0 )))
        {
            SCRIPT_ASSERT( "Another cutscene is already loaded.  You can only load one cutscene into memory.  Your current cutscene will not load into memory.", 0 );
        }
    }
    if (NOT (CUTSCENE_IS_LOADED( uParam0 )))
    {
        PRE_STREAM_SEAMLESS_CUTSCENE( uParam0 );
        if (iParam1 == 1)
        {
            while ((CUTSCENE_IS_LOADED( uParam0 )) == 0)
            {
                WAIT( 0 );
            }
        }
    }
    return;
}

void sub_58655(unknown uParam0)
{
    sub_38772( ref l_U119, uParam0 );
    sub_38772( ref l_U129, uParam0 );
    sub_38772( ref l_U139, uParam0 );
    sub_1119( "SBA", "KILL_HANDLE_PASSOS_WAITING_SPEECH: Setting ePWS_State = ePWS_IdleState", 0 );
    l_U117 = 0;
    return;
}

void sub_58993(unknown uParam0, unknown uParam1)
{
    sub_1119( "SBA", "P_SPEECH_PLAY_MAX_MONOLOGUE", "***" );
    if (sub_26904())
    {
        sub_35777( uParam1 );
        sub_35871( 0, sub_6200(), "MAX", uParam1, 2, 0 );
        sub_35871( 1, sub_6200(), "MAX", uParam1, 2, 0 );
        sub_36089( uParam0, uParam1, 8, 1 );
    }
    return;
}

void sub_59144(boolean bParam0, unknown uParam1, unknown uParam2, boolean bParam3)
{
    int I;
    int Result;
    unknown uVar8;

    Result = 0;
    switch (l_U499)
    {
        case 4:
        sub_58161( ref l_U473, 1 );
        sub_17288( -850158086, 1 );
        sub_1713( "LEVEL_S_NYBAR_MID_01_BLENDOUT", 0, 1 );
        sub_1119( "SBA", "PLAY_NYC_MID_01 start", "*****" );
        sub_19562( 1, 0, 0, 1 );
        if (NOT bParam0)
        {
            sub_59305();
            sub_59653();
            l_U459 = 11;
        }
        else
        {
            CUTSCENE_SET_COVER_CAMERA_DIRECTION( g_U2448, g_U2449 );
        }
        if (sub_14213( sub_6200() ))
        {
            sub_60167( ref l_U481, 0, 1 );
            sub_60975( l_U481, 0 );
            sub_57283( 1 );
            uVar8 = sub_57572();
        }
        sub_61095( bParam0, uParam1, uParam2, ref uVar8 );
        if (bParam3)
        {
            START_CUTSCENE_CAPTURE( ref l_U473 );
        }
        CUTSCENE_ENABLE_SKIP( 0 );
        START_SEAMLESS_CUTSCENE();
        l_U566 = 0;
        l_U565 = 0;
        l_U499 = 6;
        break;
        case 6:
        if (HAS_CUTSCENE_FINISHED())
        {
            if (bParam3)
            {
                STOP_CUTSCENE_CAPTURE();
            }
            if (GET_DOES_WEAPON_EXIST( sub_62514() ))
            {
                sub_60975( l_U481, 1 );
            }
            else
            {
                sub_62675( l_U481, 1 );
            }
            for ( I = 0; I <= ((uParam1^) - 1); I++ )
            {
                if (sub_14213( (uParam1^)[I] ))
                {
                    SET_PED_CURRENT_WEAPON_VISIBLE( (uParam1^)[I], 1 );
                }
            }
            if (NOT bParam0)
            {
                sub_62914();
                sub_63002();
            }
            sub_1119( "SBA", "PLAY_NYC_MID_01 end", "*****" );
            Result = 1;
            l_U499 = 0;
        }
        else if ((NOT l_U566) AND (l_U459 == 11))
        {
            if (GET_CUTSCENE_TIME_MS() >= 2700)
            {
                sub_1119( "BSW", "playing music: mid_01 setting newMusicStage = MC_CUTSCENE_CARSKID", 0 );
                l_U460 = 11;
                CUTSCENE_ENABLE_SKIP( 1 );
                l_U566 = 1;
            }
        }
        if ((NOT l_U565) AND (l_U459 == 12))
        {
            if (GET_CUTSCENE_TIME_MS() >= 17000)
            {
                sub_1119( "BSW", "playing music: mid_01 setting newMusicStage = MC_CUTSCENE_SETTING_UP_FOR_FALL_LINE", 0 );
                l_U460 = 12;
                l_U565 = 1;
            }
        }
        break;
    }
    return Result;
}

void sub_59305()
{
    sub_1119( "SBA", "BLOCKLOAD_NYC_MID_01_ASSETS", "***" );
    sub_59367( 2024698471 );
    sub_59367( g_U2250 );
    sub_59367( 557810561 );
    sub_59575( -862236369 );
    return;
}

void sub_59367(unknown uParam0)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
        sub_1326( "[SP]### ERROR! (BlockLoadModel) Trying to block load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    LOAD_ALL_OBJECTS_NOW();
    while ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        LOAD_ALL_OBJECTS_NOW();
        WAIT( 0 );
    }
    return;
}

void sub_59575(unknown uParam0)
{
    REQUEST_WEAPON( uParam0 );
    LOAD_ALL_OBJECTS_NOW();
    while ((HAS_WEAPON_LOADED( uParam0 )) == 0)
    {
        LOAD_ALL_OBJECTS_NOW();
        WAIT( 0 );
    }
    return;
}

void sub_59653()
{
    int I;

    sub_1119( "SBA", "P_SETUP_NYC_MID_01", "***" );
    if (sub_26904())
    {
        sub_8451( sub_6200(), -862236369, 200, 0, 1 );
    }
    sub_4240( ref l_U501, 0, 0, 0, 0.00000000, -1756913695, 26, 6, 0, 0, 0 );
    sub_13419( l_U500 );
    l_U500 = sub_13556( ref l_U501 );
    sub_8451( l_U500, -862236369, 200, 0, 1 );
    sub_4240( ref l_U518[0], -96.16000000, -322.94000000, 0.26000000, -84.31000000, -1633679208, 7, 3, 2, 0, 0 );
    sub_4240( ref l_U518[1], -95.19000000, -323.17000000, 0.26000000, -84.31000000, 1143414953, 7, 3, 2, 0, 0 );
    sub_4240( ref l_U518[2], -93.24000000, -323.63000000, 0.26000000, -74.31000000, 2108318266, 7, 3, 2, 0, 0 );
    for ( I = 0; I <= 2; I++ )
    {
        sub_13419( l_U514[I] );
        l_U514[I] = sub_13556( ref l_U518[I] );
        sub_59999( l_U514[I] );
    }
    sub_21263( l_U558 );
    l_U558 = sub_12183( 557810561, -108.86600000, -316.92500000, 2.40000000, 0.00000000, 0, 0, 0 );
    return;
}

void sub_59999(unknown uParam0)
{
    if (sub_14213( uParam0 ))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uParam0, 1 );
        SET_PED_CAN_RAGDOLL_FROM_PLAYER_IMPACT( uParam0, 0 );
    }
    return;
}

void sub_60167(int iParam0, int iParam1, unknown uParam2)
{
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;

    sub_60179( iParam0 );
    if ((IS_PED_DEAD( sub_6200() )) == 0)
    {
        uVar5 = GET_WEAPON_FROM_HAND( sub_6200(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
        {
            if ((sub_57363( uVar5 )) == 1)
            {
                ref iParam0->_fU0->_fU0 = uVar5;
                ref iParam0->_fU0->_fU4 = GET_WEAPON_TYPE( uVar5 );
            }
            else if ((sub_56996( uVar5 )) == 1)
            {
                ref iParam0->_fU24->_fU0 = uVar5;
                ref iParam0->_fU24->_fU4 = GET_WEAPON_TYPE( uVar5 );
            }
        }
        uVar6 = GET_WEAPON_FROM_HAND( sub_6200(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar6 )) == 1)
        {
            ref iParam0->_fU12->_fU0 = uVar6;
            ref iParam0->_fU12->_fU4 = GET_WEAPON_TYPE( uVar6 );
        }
        uVar7 = GET_WEAPON_FROM_HOLSTER( sub_6200(), 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar7 )) == 1)
        {
            ref iParam0->_fU36->_fU0 = uVar7;
            ref iParam0->_fU36->_fU4 = GET_WEAPON_TYPE( uVar7 );
        }
        uVar8 = GET_WEAPON_FROM_HOLSTER( sub_6200(), 1 );
        if ((GET_DOES_WEAPON_EXIST( uVar8 )) == 1)
        {
            ref iParam0->_fU48->_fU0 = uVar8;
            ref iParam0->_fU48->_fU4 = GET_WEAPON_TYPE( uVar8 );
        }
        uVar9 = GET_WEAPON_FROM_HOLSTER( sub_6200(), 2 );
        if ((GET_DOES_WEAPON_EXIST( uVar9 )) == 1)
        {
            ref iParam0->_fU60->_fU0 = uVar9;
            ref iParam0->_fU60->_fU4 = GET_WEAPON_TYPE( uVar9 );
        }
    }
    if (iParam1 == 0)
    {
        if ((IS_PED_DEAD( sub_6200() )) == 0)
        {
            uVar10 = GET_WEAPON_FROM_HAND( sub_6200(), 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar10 )) == 1)
            {
                SELECT_WEAPON_TO_HAND( sub_6200(), 0, 0, uParam2 );
            }
            uVar11 = GET_WEAPON_FROM_HAND( sub_6200(), 1, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar11 )) == 1)
            {
                SELECT_WEAPON_TO_HAND( sub_6200(), 0, 1, uParam2 );
            }
        }
    }
    else if (iParam1 == 1)
    {
        if ((IS_PED_DEAD( sub_6200() )) == 0)
        {
            uVar12 = GET_WEAPON_FROM_HAND( sub_6200(), 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar12 )) == 1)
            {
                if ((sub_56996( uVar12 )) == 1)
                {
                    SELECT_WEAPON_TO_HAND( sub_6200(), 0, 0, uParam2 );
                }
            }
            uVar13 = GET_WEAPON_FROM_HAND( sub_6200(), 1, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar13 )) == 1)
            {
                SELECT_WEAPON_TO_HAND( sub_6200(), 0, 1, uParam2 );
            }
        }
    }
    return;
}

void sub_60179(int iParam0)
{
    ref iParam0->_fU0->_fU0 = 0;
    ref iParam0->_fU0->_fU4 = 0;
    ref iParam0->_fU12->_fU0 = 0;
    ref iParam0->_fU12->_fU4 = 0;
    ref iParam0->_fU24->_fU0 = 0;
    ref iParam0->_fU24->_fU4 = 0;
    ref iParam0->_fU36->_fU0 = 0;
    ref iParam0->_fU36->_fU4 = 0;
    ref iParam0->_fU48->_fU0 = 0;
    ref iParam0->_fU48->_fU4 = 0;
    ref iParam0->_fU60->_fU0 = 0;
    ref iParam0->_fU60->_fU4 = 0;
    return;
}

void sub_60975(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18)
{
    unknown uVar21;
    unknown uVar22;

    uVar21 = uParam0._fU24._fU0;
    if ((GET_DOES_WEAPON_EXIST( uVar21 )) == 1)
    {
        SET_WEAPON_VISIBLE( uVar21, uParam18 );
    }
    uVar22 = uParam0._fU60._fU0;
    if ((GET_DOES_WEAPON_EXIST( uVar22 )) == 1)
    {
        SET_WEAPON_VISIBLE( uVar22, uParam18 );
    }
    return;
}

void sub_61095(boolean bParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    sub_1119( "SBA", "REGISTER_PEDS_NYC_MID_01", "***" );
    if (sub_26904())
    {
        sub_1119( "SBA", "Registering player with NYC_MID_01", "***" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( (uParam3^), "W_PI_Clt1911_Aa_H^1", 0 );
        CUTSCENE_REGISTER_PED_TELEPORT( sub_6200(), l_U560, l_U563 );
        ISEQ_REGISTER_ENTITY( -850158086, "max", sub_6200(), 0 );
        CUTSCENE_REGISTER_ISEQ( -850158086 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( sub_6200(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
        CUTSCENE_REGISTER_SET_PLAYER_IN_COVER( "GenCover", "47E254B1_556B395F_Corner2", 1, 0 );
    }
    if (bParam0)
    {
        if (sub_14213( g_U750 ))
        {
            sub_1119( "SBA", "FROM FLOW: Registering passos with NYC_MID_01", "***" );
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( g_U750, "FB_Pass_NY", 0 );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( g_U750, 0, 0 ), "W_PI_Clt1911_Aa_H", 0 );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( g_U750, ref g_U2203 );
            CUTSCENE_REGISTER_PED_TELEPORT( g_U750, -53.82198000, -338.01680000, 4.20000000, 66.36500000 );
        }
    }
    else if (sub_14213( l_U500 ))
    {
        sub_1119( "SBA", "FROM CUTSCENE SCRIPT: Registering passos with NYC_MID_01", "***" );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U500, "FB_Pass_NY", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U500, 0, 0 ), "W_PI_Clt1911_Aa_H", 0 );
    }
    if (DOES_VEHICLE_EXIST( (uParam2^) ))
    {
        sub_1119( "SBA", "FROM CUTSCENE SCRIPT: Registering thug car with NYC_MID_01", "***" );
        REGISTER_VEHICLE_PRE_SEAMLESS_CUTSCENE( (uParam2^), "car_gensedan", 0 );
    }
    if (sub_14213( (uParam1^)[0] ))
    {
        sub_1119( "SBA", "Registering piThugs[0] with NYC_MID_01", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam1^)[0], "G_NY_T_Sold_BB", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( (uParam1^)[0], ref g_U2203 );
        CUTSCENE_REGISTER_PED_TELEPORT( (uParam1^)[0], -60.16000000, -326.58000000, 0.32000000, 230 );
        SET_PED_CURRENT_WEAPON_VISIBLE( (uParam1^)[0], 0 );
    }
    if (sub_14213( (uParam1^)[1] ))
    {
        sub_1119( "SBA", "Registering piThugs[1] with NYC_MID_01", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam1^)[1], "G_NY_T_Sold_BB^1", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( (uParam1^)[1], ref g_U2203 );
        CUTSCENE_REGISTER_SET_PED_IN_COVER( (uParam1^)[1], "GenCover", "47E254B1_DC2D39A6_Corner2", 0, 0 );
        SET_PED_CURRENT_WEAPON_VISIBLE( (uParam1^)[1], 0 );
    }
    if (sub_14213( (uParam1^)[2] ))
    {
        sub_1119( "SBA", "Registering piThugs[2] with NYC_MID_01", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam1^)[2], "G_NY_T_Sold_BB^2", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( (uParam1^)[2], ref g_U2203 );
        CUTSCENE_REGISTER_PED_TELEPORT( (uParam1^)[2], -61.24000000, -327.30000000, 0.28000000, 270 );
        SET_PED_CURRENT_WEAPON_VISIBLE( (uParam1^)[2], 0 );
    }
    return;
}

int sub_62514()
{
    unknown Result;
    unknown uVar3;

    if ((IS_PED_DEAD( sub_6200() )) == 0)
    {
        Result = GET_WEAPON_FROM_HAND( sub_6200(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( Result )) == 1)
        {
            if ((sub_56996( Result )) == 1)
            {
                return Result;
            }
        }
        uVar3 = GET_WEAPON_FROM_HOLSTER( sub_6200(), 2 );
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            return uVar3;
        }
    }
    return 0;
}

void sub_62675(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18)
{
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;

    if ((IS_PED_DEAD( sub_6200() )) == 0)
    {
        uVar21 = uParam0._fU0._fU0;
        if ((GET_DOES_WEAPON_EXIST( uVar21 )) == 1)
        {
            SELECT_WEAPON_TO_HAND( sub_6200(), uVar21, 0, uParam18 );
        }
        uVar22 = uParam0._fU12._fU0;
        if ((GET_DOES_WEAPON_EXIST( uVar22 )) == 1)
        {
            SELECT_WEAPON_TO_HAND( sub_6200(), uVar22, 1, uParam18 );
        }
        uVar23 = uParam0._fU24._fU0;
        if ((GET_DOES_WEAPON_EXIST( uVar23 )) == 1)
        {
            SELECT_WEAPON_TO_HAND( sub_6200(), uVar23, 0, uParam18 );
        }
    }
    return;
}

void sub_62914()
{
    sub_1119( "SBA", "CLEAN_UP_MID01_ASSETS", "***" );
    sub_32824( ref l_U514 );
    sub_21263( l_U558 );
    sub_13419( l_U500 );
    return;
}

void sub_63002()
{
    sub_1119( "SBA", "UNLOAD_NYC_MID_01_ASSETS", "***" );
    sub_63061( 2024698471 );
    sub_63061( g_U2250 );
    sub_63061( 557810561 );
    sub_63222( -862236369 );
    return;
}

void sub_63061(unknown uParam0)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 1)
    {
        SET_MODEL_AS_NO_LONGER_NEEDED( uParam0 );
    }
    else
    {
        sub_1326( "[SP]### ERROR! (UnloadModel) Trying to unload a model that isn't in the img! ###" );
    }
    return;
}

void sub_63222(unknown uParam0)
{
    SET_WEAPON_AS_NO_LONGER_NEEDED( uParam0 );
    return;
}

void sub_63872()
{
    int I;

    sub_1119( "SBA", "SETUP_VIG_08B_CARS_AND_ENEMIES", "***" );
    sub_21263( l_U780 );
    l_U780 = sub_12183( 557810561, -108.40000000, -345.00000000, 1.20000000, 13.26648000, 0, 0, 0 );
    sub_21263( l_U781 );
    l_U781 = sub_12183( 557810561, -108.40000000, -350.00000000, 1.20000000, 13.26648000, 0, 0, 0 );
    sub_12412( l_U780, 1, 1 );
    sub_12797( ref l_U780, 1, 0.25000000 );
    if (sub_12484( l_U780 ))
    {
        SET_VEHICLE_COLOUR_COMBINATION( l_U780, 2 );
        SET_VEHICLE_EXTRA( l_U780, 1, 1 );
        SET_VEHICLE_EXTRA( l_U780, 2, 1 );
        SET_VEHICLE_EXTRA( l_U780, 3, 0 );
        SET_VEHICLE_EXTRA( l_U780, 4, 0 );
        SET_VEHICLE_EXTRA( l_U780, 5, 1 );
        SET_VEHICLE_EXTRA( l_U780, 6, 1 );
        SET_VEHICLE_EXTRA( l_U780, 7, 1 );
        SET_VEHICLE_EXTRA( l_U780, 8, 1 );
    }
    sub_12412( l_U781, 1, 1 );
    sub_12797( ref l_U781, 1, 0.25000000 );
    if (sub_12484( l_U780 ))
    {
        SET_VEHICLE_COLOUR_COMBINATION( l_U781, 4 );
        SET_VEHICLE_EXTRA( l_U781, 1, 1 );
        SET_VEHICLE_EXTRA( l_U781, 2, 1 );
        SET_VEHICLE_EXTRA( l_U781, 3, 1 );
        SET_VEHICLE_EXTRA( l_U781, 4, 1 );
        SET_VEHICLE_EXTRA( l_U781, 5, 0 );
        SET_VEHICLE_EXTRA( l_U781, 6, 0 );
        SET_VEHICLE_EXTRA( l_U781, 7, 1 );
        SET_VEHICLE_EXTRA( l_U781, 8, 1 );
    }
    sub_13146( ref l_U924, 1.00000000, 0 );
    sub_1119( "SBA", "SETUP_VIG_08B_CARS_AND_ENEMIES: Setup second blocking car enemies", "***" );
    sub_32824( ref l_U921 );
    for ( I = 0; I <= 1; I++ )
    {
        l_U921[I] = sub_65093( ref l_U894[I], l_U780, l_U933[I], 0, sub_64519( l_U933[I] ) );
        if (sub_14213( l_U921[I] ))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U921[I], 1 );
            SET_PED_ALERTNESS( l_U921[I], 3 );
            sub_14505( l_U921[I], ref l_U924 );
            SET_PED_NAME_DEBUG( l_U921[I], l_U930[I] );
            SET_PED_ONLY_DAMAGED_BY_PLAYER( l_U921[I], 1 );
            sub_8451( l_U921[I], -862236369, 25000, 0, 0 );
        }
    }
    sub_13146( ref l_U969, 1.00000000, 0 );
    sub_32824( ref l_U966 );
    sub_1119( "SBA", "CREATE_VIG08b cars and enemies: Setup last blocking car enemies", "***" );
    for ( I = 0; I <= 1; I++ )
    {
        l_U966[I] = sub_65093( ref l_U939[I], l_U781, l_U978[I], 0, 0 );
        if (sub_14213( l_U966[I] ))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U966[I], 1 );
            SET_PED_ALERTNESS( l_U966[I], 3 );
            sub_14505( l_U966[I], ref l_U969 );
            SET_PED_NAME_DEBUG( l_U966[I], l_U975[I] );
            SET_PED_ONLY_DAMAGED_BY_PLAYER( l_U966[I], 1 );
            sub_8451( l_U966[I], -862236369, 25000, 0, 0 );
        }
    }
    if (sub_12484( l_U780 ))
    {
        sub_1119( "SBA", "Setting up second blocker car recording to play: PAUSED", "***" );
        START_PLAYBACK_RECORDED_VEHICLE( l_U780, l_U1359 );
        PAUSE_PLAYBACK_RECORDED_VEHICLE( l_U780 );
        SKIP_TIME_IN_PLAYBACK_RECORDED_VEHICLE( l_U780, 2000 );
        SET_PLAYBACK_SPEED( l_U780, 1.25000000 );
    }
    if (sub_12484( l_U781 ))
    {
        sub_1119( "SBA", "Setting up Last blocker car recording to play: PAUSED", "***" );
        START_PLAYBACK_RECORDED_VEHICLE( l_U781, l_U1360 );
        PAUSE_PLAYBACK_RECORDED_VEHICLE( l_U781 );
        SET_PLAYBACK_SPEED( l_U781, 1.10000000 );
    }
    sub_11452( l_U1363, l_U1361, 1 );
    sub_11452( l_U1364, l_U1362, 1 );
    return;
}

string sub_64519(unknown uParam0)
{
    switch (uParam0)
    {
        case 0:
        sub_1119( "SBA", "FIND_PATH_FOR_CAR_SEAT: Setting path for VS_FRONT_RIGHT", "***" );
        return "/Global/VehicleCar/Passenger_FrontRight/CAR_GENSEDAN2";
        break;
        case 1:
        sub_1119( "SBA", "FIND_PATH_FOR_CAR_SEAT: Setting path for VS_BACK_LEFT", "***" );
        return "/Global/VehicleCar/Passenger_BackLeft/CAR_GENSEDAN2";
        break;
        case 2:
        sub_1119( "SBA", "FIND_PATH_FOR_CAR_SEAT: Setting path for VS_BACK_RIGHT", "***" );
        return "/Global/VehicleCar/Passenger_BackRight/CAR_GENSEDAN2";
        break;
    }
    sub_1119( "SBA", "FIND_PATH_FOR_CAR_SEAT: Setting path for VS_DRIVER", "***" );
    return "/Global/VehicleCar/Driver/CAR_GENSEDAN2";
}

void sub_65093(int iParam0, unknown uParam1, unknown uParam2, int iParam3, unknown uParam4)
{
    if ((HAS_MODEL_LOADED( iParam0->_fU16 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
        sub_1221( iParam0->_fU16, 1 );
    }
    if (((IS_VEHICLE_DEAD( uParam1 )) == 0) AND ((DOES_VEHICLE_EXIST( uParam1 )) == 1))
    {
        iParam0->_fU40 = CREATE_PED_INSIDE_VEHICLE( uParam1, iParam0->_fU24, iParam0->_fU16, uParam2, uParam4, iParam0->_fU48 );
    }
    else
    {
        SCRIPT_ASSERT( "The vehicle your trying to create a ped inside of is not valid!!!", 0 );
    }
    if (iParam3 == 1)
    {
        while ((DOES_PED_EXIST( iParam0->_fU40 )) == 0)
        {
            WAIT( 0 );
        }
    }
    sub_14035( iParam0->_fU40 );
    sub_14115( iParam0->_fU40 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        iParam0->_fU44 = 1;
    }
    return iParam0->_fU40;
}

void sub_66365()
{
    sub_1119( "TEH", "SETUP_PASSOS_FOR_ALLEY - start", 0 );
    sub_1119( "SBA", "SETUP_PASSOS_PRE_MIDSCENE_ALLEYWAY_NODES: Creating Passos", "***" );
    if (NOT (sub_14213( g_U750 )))
    {
        sub_13419( g_U750 );
        g_U750 = sub_13556( ref l_U998 );
        if (sub_14213( g_U750 ))
        {
            sub_8451( g_U750, -862236369, 25000, 0, 0 );
            sub_39480( ref g_U750 );
        }
    }
    if (sub_14213( g_U750 ))
    {
        sub_17773( g_U750, l_U1394, l_U1397 );
    }
    return;
}

void sub_66965()
{
    switch (l_U1752)
    {
        case 1:
        if (sub_12484( l_U780 ))
        {
            sub_1119( "SBA", "P_HANDLE_2ND_BLOCKER_CAR: starting second blocker car recording: UNPAUSED!", "***" );
            UNPAUSE_PLAYBACK_RECORDED_VEHICLE( l_U780 );
            if (sub_14213( l_U921[0] ))
            {
                PLAY_SCRIPT_STREAM_FROM_PED( l_U921[0], l_U1361 );
            }
            sub_5805( ref l_U1493, 2150, 1, 0 );
            sub_29500( ref l_U1493 );
            l_U1752 = 2;
        }
        break;
        case 2:
        if (sub_30142( ref l_U1493 ))
        {
            sub_1119( "SBA", "P_HANDLE_2ND_BLOCKER_CAR: Starting Exit Anims!", "***" );
            sub_67298( l_U921[0], l_U780, 0 );
            sub_67298( l_U921[1], l_U780, 0 );
        }
        if (sub_12484( l_U780 ))
        {
            if (NOT (IS_PLAYBACK_GOING_ON_FOR_VEHICLE( l_U780 )))
            {
                sub_1119( "SBA", "P_HANDLE_2ND_BLOCKER_CAR: car 3 recording is done!", "***" );
                STOP_SCRIPT_STREAM( l_U1361 );
                sub_5805( ref l_U1493, 1000, 1, 0 );
                sub_29500( ref l_U1493 );
                SET_VEHICLE_ENGINE_ON( l_U780, 1, 1 );
                l_U1752 = 10;
            }
        }
        break;
        case 10:
        if (sub_30142( ref l_U1493 ))
        {
            sub_67755( l_U921[1], "M4_NY_26_Avg", "SNYC_VIG08E", ref l_U1925 );
        }
        if ((sub_67905( l_U921[1] )) AND (sub_67905( l_U921[0] )))
        {
            sub_1119( "SBA", "P_HANDLE_2ND_BLOCKER_CAR: Passengers have left vehicle!", "***" );
            sub_67755( l_U921[0], "M4_NY_28_Avg", "SNYC_VIG08G", ref l_U1935 );
            sub_68285( ref l_U921, 0 );
            sub_18022( ref l_U921, l_U1354, 1 );
            sub_68362( ref l_U921 );
            sub_68405( l_U780, 0, ref l_U936[0] );
            l_U1752 = -1;
        }
        break;
    }
    return;
}

void sub_67298(unknown uParam0, unknown uParam1, boolean bParam2)
{
    if ((sub_12484( uParam1 )) AND (sub_14213( uParam0 )))
    {
        if (bParam2)
        {
            sub_1119( "SBA", "TASK_PED_TO_LEAVE_CAR: Exitting car but NOT closing door", "***" );
            TASK_LEAVE_VEHICLE_DONT_CLOSE_DOOR( uParam0, uParam1 );
        }
        else
        {
            sub_1119( "SBA", "TASK_PED_TO_LEAVE_CAR: Exitting car and closing door", "***" );
            TASK_LEAVE_VEHICLE_IMMEDIATELY( uParam0, uParam1 );
        }
    }
    return;
}

void sub_67755(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    sub_1119( "SBA", "P_PLAY_DIAL_CAR_EXIT", "***" );
    if (sub_14213( uParam0 ))
    {
        if (NOT (IS_PED_DEAD( sub_6200() )))
        {
            sub_35777( uParam3 );
            sub_35871( 1, uParam0, uParam1, uParam3, 2, 0 );
            sub_35871( 0, sub_6200(), "MAX", uParam3, 2, 0 );
            sub_36089( uParam2, uParam3, 8, 1 );
        }
    }
    return;
}

int sub_67905(unknown uParam0)
{
    if ((sub_67920( uParam0, 32 )) == 7)
    {
        sub_1119( "SBA", "F_IS_PED_DONE_EXITING_VEHICLE:  TRUE!", "***" );
        return 1;
    }
    if (IS_PED_DEAD( uParam0 ))
    {
        sub_1119( "SBA", "F_IS_PED_DONE_EXITING_VEHICLE:  Ped is dead!", "***" );
        return 1;
    }
    return 0;
}

int sub_67920(unknown uParam0, unknown uParam1)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        return GET_SCRIPT_TASK_STATUS( uParam0, uParam1 );
    }
    return 0;
}

void sub_68285(unknown uParam0, unknown uParam1)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        sub_40401( ref (uParam0^)[I], uParam1 );
    }
    return;
}

void sub_68362(unknown uParam0)
{
    sub_17891( uParam0, sub_6200() );
    return;
}

void sub_68405(unknown uParam0, unknown uParam1, unknown uParam2)
{
    float fVar5;

    fVar5 = 0.05000000;
    if (NOT (uParam2^))
    {
        if (sub_12484( uParam0 ))
        {
            if ((GET_VEHICLE_DOOR_ANGLE_RATIO( uParam0, uParam1 )) <= fVar5)
            {
                sub_1119( "SBA", "LATCH_CLOSED_CAR_DOOR: shuting and latching door!", "***" );
                SET_VEHICLE_DOOR_SHUT( uParam0, uParam1, 0, 0 );
                SET_VEHICLE_DOOR_LATCHED( uParam0, uParam1, 1, 1 );
                (uParam2^) = 1;
            }
        }
    }
    return;
}

void sub_68588()
{
    switch (l_U1753)
    {
        case 1:
        if (sub_12484( l_U781 ))
        {
            sub_1119( "SBA", "P_HANDLE_LAST_BLOCKER_CAR: starting last blocker car recording: UNPAUSED!", "***" );
            UNPAUSE_PLAYBACK_RECORDED_VEHICLE( l_U781 );
            if (sub_14213( l_U966[0] ))
            {
                PLAY_SCRIPT_STREAM_FROM_PED( l_U966[0], l_U1362 );
            }
            sub_5805( ref l_U1502, 6300, 1, 0 );
            sub_29500( ref l_U1502 );
            l_U1753 = 2;
        }
        break;
        case 2:
        if (sub_30142( ref l_U1502 ))
        {
            sub_1119( "SBA", "P_HANDLE_LAST_BLOCKER_CAR: Starting Exit Anims!", "***" );
            sub_67298( l_U966[0], l_U781, 0 );
            sub_67298( l_U966[1], l_U781, 0 );
        }
        if (sub_12484( l_U781 ))
        {
            if (NOT (IS_PLAYBACK_GOING_ON_FOR_VEHICLE( l_U781 )))
            {
                sub_1119( "SBA", "P_HANDLE_LAST_BLOCKER_CAR: car 4 recording is done!", "***" );
                STOP_SCRIPT_STREAM( l_U1362 );
                SET_VEHICLE_ENGINE_ON( l_U781, 1, 1 );
                sub_5805( ref l_U1502, 1000, 1, 0 );
                sub_29500( ref l_U1502 );
                l_U1753 = 10;
            }
        }
        break;
        case 10:
        if (sub_30142( ref l_U1502 ))
        {
            ;
        }
        if ((sub_67905( l_U966[1] )) AND (sub_67905( l_U966[0] )))
        {
            sub_1119( "SBA", "P_HANDLE_LAST_BLOCKER_CAR: Passengers have left vehicle!", "***" );
            sub_67755( l_U966[1], "M4_NY_25_Avg", "SNYC_VIG08D", ref l_U1955 );
            sub_68285( ref l_U966, 0 );
            sub_18022( ref l_U966, l_U1355, 1 );
            sub_68362( ref l_U966 );
            sub_68405( l_U781, 0, ref l_U981[0] );
            l_U1753 = -1;
        }
        break;
    }
    return;
}

void sub_69809(unknown uParam0, unknown uParam1)
{
    if (sub_14213( (uParam0^) ))
    {
        SET_PED_FLAG_LOCK_TO_COVER( (uParam0^), uParam1 );
    }
    return;
}

void sub_70178(unknown uParam0)
{
    sub_1119( "SBA", "MAKE_ALLEY_CARS_NOT_BLOWUP", "***" );
    if (sub_12484( l_U779 ))
    {
        sub_1119( "SBA", "viEnemyCar1", "***" );
        STOP_VEHICLE_FIRE( l_U779 );
        SET_VEHICLE_PETROL_TANK_HEALTH( l_U779, 1000 );
        SET_VEHICLE_HEALTH( l_U779, 999 );
        SET_VEHICLE_ENGINE_CAN_BE_DAMAGED( l_U779, 0 );
        SET_VEHICLE_DIRT_LEVEL( l_U779, 15.90000000 );
    }
    if (sub_12484( l_U780 ))
    {
        sub_1119( "SBA", "viEnemyCar3", "***" );
        STOP_VEHICLE_FIRE( l_U780 );
        SET_VEHICLE_PETROL_TANK_HEALTH( l_U780, 1000 );
        SET_VEHICLE_HEALTH( l_U780, 999 );
        SET_VEHICLE_ENGINE_CAN_BE_DAMAGED( l_U780, 0 );
        SET_VEHICLE_DIRT_LEVEL( l_U780, 15.90000000 );
    }
    if (sub_12484( l_U781 ))
    {
        sub_1119( "SBA", "viEnemyCar4", "***" );
        STOP_VEHICLE_FIRE( l_U781 );
        SET_VEHICLE_PETROL_TANK_HEALTH( l_U781, 1000 );
        SET_VEHICLE_HEALTH( l_U781, 999 );
        SET_VEHICLE_ENGINE_CAN_BE_DAMAGED( l_U781, 0 );
        SET_VEHICLE_DIRT_LEVEL( l_U781, 15.90000000 );
    }
    return;
}

void sub_70812()
{
    sub_1119( "SBA", "UNLOALD_PRE_04_02_ASSETS_ALLEY", "***" );
    sub_63061( g_U2249 );
    sub_63061( g_U2250 );
    sub_63061( 1839686620 );
    return;
}

void sub_70910()
{
    sub_1119( "SBA", "P_UNLOAD_VIG08B_ASSETS", "***" );
    sub_33252( "LEVEL_S_NYBAR_CP_02" );
    sub_33252( "VEH@CAR_GENSEDAN" );
    sub_71028( "vehicle_car", 1 );
    return;
}

void sub_71028(unknown uParam0, int iParam1)
{
    if ((I_SEQUENCE_IS_LOADED( uParam0 )) == 1)
    {
        I_SEQUENCE_TERMINATE( uParam0 );
    }
    if (iParam1 == 1)
    {
        while ((I_SEQUENCE_IS_LOADED( uParam0 )) == 1)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_71140()
{
    if (NOT l_U1381)
    {
        if (sub_54428( l_U1116 ))
        {
            sub_1119( "SBA", "P_HANDLE_SWAP_1ST_BLOCKER_TETHERS: Max past car1 - switch enemy tether", "***" );
            sub_18022( ref l_U876, l_U1353, 1 );
            l_U1381 = 1;
            if (NOT l_U1382)
            {
                sub_1119( "SBA", "Failsafe for freeing car1 peds - stop hiding!", "***" );
                sub_69809( ref l_U876[0], 0 );
                sub_69809( ref l_U876[1], 0 );
                l_U1382 = 1;
            }
        }
    }
    else if (NOT (sub_54428( l_U1116 )))
    {
        sub_1119( "SBA", "P_HANDLE_SWAP_1ST_BLOCKER_TETHERS: Max returned to before car1 - switch enemy tether back", "***" );
        sub_18022( ref l_U876, l_U1352, 1 );
        l_U1381 = 0;
    }
    return;
}

void sub_71558(int iParam0)
{
    switch (l_U1754)
    {
        case -1: break;
        case 0:
        sub_1119( "SBA", "P_HANDLE_VIG09: state = eISS_SETUP", "***" );
        sub_5805( ref l_U1421, 7000, 1, 0 );
        sub_71699( l_U1394 );
        sub_17288( -236629402, 1 );
        ISEQ_REGISTER_ENTITY( -236629402, "passos", g_U750, 0 );
        l_U1754 = 1;
        break;
        case 1:
        if ((NOT l_U1376) AND ((sub_67920( g_U750, 31 )) == 7))
        {
            if (sub_14213( g_U750 ))
            {
                CLEAR_PED_TASKS_IMMEDIATELY( g_U750 );
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( g_U750, 1 );
                sub_5805( ref l_U1412, 500, 1, 0 );
                sub_29500( ref l_U1412 );
                l_U1376 = 1;
            }
        }
        if (sub_30142( ref l_U1412 ))
        {
            sub_1119( "SBA", "P_HANDLE_VIG09 - Registering piPassos_Vig09", "***" );
            SET_PED_EMOTION_STATE( g_U750, 3 );
            CLEAR_PED_DEFAULT_AIM( g_U750 );
            PED_ACTION_TREE_PLAY_NODE( g_U750, ref g_U2203 );
            sub_17773( g_U750, l_U1394, l_U1397 );
            ISEQ_START( -236629402 );
            l_U1377 = 1;
            sub_5805( ref l_U1664, 1000, 1, 0 );
            sub_5805( ref l_U1421, 7000, 1, 0 );
            sub_29500( ref l_U1421 );
            l_U1754 = 2;
        }
        break;
        case 2:
        if (iParam0 == 1)
        {
            sub_50504( g_U750 );
            sub_1119( "SBA", "Last enemy!  Advancing to eISS_FINISHED!", "***" );
            l_U1754 = 10;
            return;
        }
        if (sub_37933( ref l_U1264, g_U750, 0 ))
        {
            sub_50120( "SNYC_SFTB", ref l_U1617 );
            sub_29500( ref l_U1664 );
        }
        if (NOT sub_49925())
        {
            if (sub_30142( ref l_U1664 ))
            {
                sub_58993( "SNYC_PSUF", ref l_U1627 );
            }
        }
        if (NOT l_U1398)
        {
            if ((sub_73145( g_U750, l_U1761, ref l_U567 )) AND (sub_72403()))
            {
                sub_1119( "SBA", "Alley: Passos can fire!", "***" );
                if (sub_14213( g_U750 ))
                {
                    PED_SET_ACTION_INTENTION( g_U750, 55, -1, 0, 0, 0 );
                }
                l_U1398 = 1;
            }
        }
        else if (NOT ((sub_73145( g_U750, l_U1761, ref l_U567 )) AND (sub_72403())))
        {
            sub_1119( "SBA", "Alley: Passos stops firing!", "***" );
            if (sub_14213( g_U750 ))
            {
                PED_FINISH_ACTION_INTENTION( g_U750, 55 );
            }
            l_U1398 = 0;
        }
        if (l_U1398 == 0)
        {
            l_U1377 = 0;
            sub_5643( ref l_U1421 );
            sub_29500( ref l_U1421 );
        }
        else if (sub_30142( ref l_U1421 ))
        {
            if (NOT l_U1377)
            {
                sub_1119( "SBA", "Alley: Passos is deadly!", "***" );
                l_U1377 = 1;
                PED_SET_ACTION_INTENTION( g_U750, 52, -1, 0, 0, 0 );
            }
            sub_5643( ref l_U1421 );
            sub_29500( ref l_U1421 );
        }
        if ((l_U1398) AND (sub_14213( g_U750 )))
        {
            if (PED_ANIM_EVENT( g_U750, 1477325977 ))
            {
                sub_50120( "SNYC_SGFB", ref l_U1607 );
            }
        }
        if (l_U1377)
        {
            if (PED_ANIM_EVENT( g_U750, -1531652494 ))
            {
                if (sub_14213( l_U1761 ))
                {
                    sub_1119( "SBA", "VIG_09 - Passos KILLING TARGET, resetting to not deadly", "***" );
                    sub_51490( l_U1761 );
                    SCRIPT_VAR_SET_INT( "SP_SV_PASSOS_KILLS", 1 );
                    if (sub_14213( g_U750 ))
                    {
                        PED_FINISH_ACTION_INTENTION( g_U750, 52 );
                    }
                    l_U1377 = 0;
                }
            }
        }
        break;
        case 10:
        if (NOT l_U1398)
        {
            if ((sub_73145( g_U750, l_U1761, ref l_U567 )) AND (sub_72403()))
            {
                sub_1119( "SBA", "Alley: Passos can fire!", "***" );
                if (sub_14213( g_U750 ))
                {
                    PED_SET_ACTION_INTENTION( g_U750, 55, -1, 0, 0, 0 );
                }
                l_U1398 = 1;
            }
        }
        else if (NOT ((sub_73145( g_U750, l_U1761, ref l_U567 )) AND (sub_72403())))
        {
            sub_1119( "SBA", "Alley: Passos stops firing!", "***" );
            if (sub_14213( g_U750 ))
            {
                PED_FINISH_ACTION_INTENTION( g_U750, 55 );
            }
            l_U1398 = 0;
        }
        if ((l_U1398) AND (sub_14213( g_U750 )))
        {
            if (PED_ANIM_EVENT( g_U750, 1477325977 ))
            {
                sub_50120( "SNYC_SGFB", ref l_U1607 );
            }
        }
        break;
    }
    return;
}

void sub_71699(unknown uParam0, unknown uParam1, unknown uParam2)
{
    unknown uVar5;

    sub_1119( "SBA", "P_MOVE_PASSOS_FOR_VIG09", "***" );
    if (sub_14213( g_U750 ))
    {
        OPEN_SEQUENCE_TASK( ref uVar5 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, uParam0, 3, -1, 0.25000000, 64, 0 );
        CLOSE_SEQUENCE_TASK( uVar5 );
        CLEAR_PED_TASKS( g_U750 );
        TASK_PERFORM_SEQUENCE( g_U750, uVar5 );
        CLEAR_SEQUENCE_TASK( uVar5 );
    }
    return;
}

int sub_72403()
{
    int I;

    if (sub_14213( l_U1761 ))
    {
        if ((sub_37821( l_U1761, l_U1180 )) || (sub_37821( l_U1761, l_U1159 )))
        {
            return 1;
        }
    }
    sub_50504( g_U750 );
    for ( I = 0; I <= 1; I++ )
    {
        if (sub_14213( g_U750 ))
        {
            if (sub_14213( l_U921[I] ))
            {
                if ((sub_37821( l_U921[I], l_U1180 )) || (sub_37821( l_U921[I], l_U1159 )))
                {
                    sub_1119( "SBA", "Selecting piEnemyCar3 target: ", "***" );
                    sub_21121( I );
                    sub_50468( g_U750, l_U921[I] );
                    l_U1761 = l_U921[I];
                    l_U567 = GET_PED_HEALTH( l_U1761 );
                    return 1;
                }
            }
        }
    }
    for ( I = 0; I <= 1; I++ )
    {
        if (sub_14213( g_U750 ))
        {
            if (sub_14213( l_U966[I] ))
            {
                if ((sub_37821( l_U966[I], l_U1180 )) || (sub_37821( l_U966[I], l_U1159 )))
                {
                    sub_1119( "SBA", "Selecting piEnemyCar4 target: ", "***" );
                    sub_21121( I );
                    sub_50468( g_U750, l_U966[I] );
                    l_U1761 = l_U966[I];
                    l_U567 = GET_PED_HEALTH( l_U1761 );
                    return 1;
                }
            }
        }
    }
    for ( I = 0; I <= 2; I++ )
    {
        if (sub_14213( g_U750 ))
        {
            if (sub_14213( l_U876[I] ))
            {
                if ((sub_37821( l_U876[I], l_U1180 )) || (sub_37821( l_U876[I], l_U1159 )))
                {
                    sub_1119( "SBA", "Selecting piEnemyCar1 target: ", "***" );
                    sub_21121( I );
                    sub_50468( g_U750, l_U876[I] );
                    l_U1761 = l_U876[I];
                    l_U567 = GET_PED_HEALTH( l_U1761 );
                    return 1;
                }
            }
        }
    }
    return 0;
}

int sub_73145(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int iVar5;

    if (sub_14213( uParam0 ))
    {
        if (sub_14213( uParam1 ))
        {
            if (sub_26904())
            {
                iVar5 = GET_PED_HEALTH( uParam1 );
                if (iVar5 != (uParam2^))
                {
                    (uParam2^) = iVar5;
                    return 0;
                }
                if (IS_PED_IN_MELEE_COMBAT( sub_6200() ))
                {
                    return 0;
                }
                if (IS_LAST_MAN_STANDING_ACTIVE())
                {
                    return 0;
                }
                if (IS_BULLET_CAMERA_RUNNING( 0 ))
                {
                    return 0;
                }
                return 1;
            }
        }
    }
    return 0;
}

int sub_74256(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21, unknown uParam22, unknown uParam23, unknown uParam24, unknown uParam25, unknown uParam26, unknown uParam27, unknown uParam28, unknown uParam29, unknown uParam30, unknown uParam31, unknown uParam32, unknown uParam33, unknown uParam34, unknown uParam35, unknown uParam36, unknown uParam37, unknown uParam38, unknown uParam39, unknown uParam40, unknown uParam41, boolean bParam42)
{
    switch (l_U97)
    {
        case 0: break;
        case 1: l_U97 = 2;
        case 2:
        if (bParam42)
        {
            if (sub_54428( uParam21 ))
            {
                SCRIPT_ASSERT( "F_HANDLE_PASSOS_WARNING_DEATH: How did player hit death box before warning box?", 0 );
                l_U97 = 4;
            }
            else if (sub_54428( uParam0 ))
            {
                sub_1119( "SBA", "F_HANDLE_PASSOS_WARNING_DEATH: Player entered Passos warning box, passos in danger", "***" );
                sub_54586();
                l_U97 = 3;
            }
        }
        else if (NOT (sub_54428( uParam21 )))
        {
            SCRIPT_ASSERT( "F_HANDLE_PASSOS_WARNING_DEATH: How did player hit death box before warning box?", 0 );
            l_U97 = 4;
        }
        else if (NOT (sub_54428( uParam0 )))
        {
            sub_1119( "SBA", "F_HANDLE_PASSOS_WARNING_DEATH: Player exited Passos warning box, passos in danger", "***" );
            sub_54586();
            l_U97 = 3;
        };;;
        break;
        case 3:
        if (((NOT (sub_54428( uParam21 ))) AND (NOT bParam42)) || ((sub_54428( uParam21 )) AND (bParam42)))
        {
            sub_1119( "SBA", "F_HANDLE_PASSOS_WARNING_DEATH: Player entered Passos death box", "***" );
            l_U97 = 4;
        }
        else if (((sub_54428( uParam0 )) AND (NOT bParam42)) || ((NOT (sub_54428( uParam0 ))) AND (bParam42)))
        {
            sub_1119( "SBA", "F_HANDLE_PASSOS_WARNING_DEATH: Player returned from warning box, Passos out of danger", "***" );
            l_U97 = 2;
        }
        break;
        case 4:
        sub_1119( "SBA", "F_HANDLE_PASSOS_WARNING_DEATH: returning TRUE - going to ePWDS_Idle", "***" );
        l_U97 = 0;
        return 1;
        break;
    }
    return 0;
}

void sub_75410(unknown uParam0, boolean bParam1, boolean bParam2)
{
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;

    sub_1119( "BSW", "PLAY_INDIVIDUAL_04_02_SHOT start", 0 );
    SET_TIME_OF_DAY( 18, 0 );
    FREEZE_TIME_OF_DAY( 18, 0 );
    SET_WEATHER_TYPE_NOW_PERSIST( "snow_light" );
    sub_19562( 1, 0, 0, 1 );
    if (NOT bParam2)
    {
        if (ARE_STRINGS_EQUAL( uParam0, "04_02_nybar_sh1" ))
        {
            sub_75554();
        }
        else if (ARE_STRINGS_EQUAL( uParam0, "04_02_nybar_sh12" ))
        {
            sub_75794();
        }
        else
        {
            sub_76001();
        }
        sub_76203();
        sub_58161( uParam0, 1 );
        sub_76259();
        sub_77095( 0 );
        if (ARE_STRINGS_EQUAL( uParam0, "04_02_nybar_concat" ))
        {
            sub_1119( "BSW", "giving lasers", 0 );
            if (sub_14213( l_U341[0] ))
            {
                uVar5 = sub_8451( l_U341[0], -691403429, 200, 0, 1 );
                ENABLE_WEAPON_ATTACHMENT( uVar5, 13, 1 );
                TOGGLE_WEAPON_ATTACHMENT( uVar5, 13, 1 );
                SET_LASER_SIGHT_ATTACHMENT( uVar5, -938171172 );
                REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar5, "W_SB_M10_Aa_H", 0 );
            }
            if (sub_14213( l_U341[1] ))
            {
                uVar6 = sub_8451( l_U341[1], -691403429, 200, 0, 1 );
                ENABLE_WEAPON_ATTACHMENT( uVar6, 13, 1 );
                TOGGLE_WEAPON_ATTACHMENT( uVar6, 13, 1 );
                SET_LASER_SIGHT_ATTACHMENT( uVar6, -938171172 );
                REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar6, "W_SB_M10_Aa_H^1", 0 );
            }
            if (sub_14213( l_U341[2] ))
            {
                uVar7 = sub_8451( l_U341[2], -691403429, 200, 0, 1 );
                ENABLE_WEAPON_ATTACHMENT( uVar7, 13, 1 );
                TOGGLE_WEAPON_ATTACHMENT( uVar7, 13, 1 );
                SET_LASER_SIGHT_ATTACHMENT( uVar7, -938171172 );
                REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar7, "W_SB_M10_Aa_H^2", 0 );
            }
        }
    }
    else if (sub_26904())
    {
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( sub_6200(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
        sub_78515( sub_6200(), 0 );
    }
    if (sub_14213( g_U750 ))
    {
        sub_1119( "RJM", "Registering piPassos with 04_02_nybar_concat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( g_U750, "FB_Pass_NY", 0 );
    }
    if (bParam1)
    {
        START_CUTSCENE_CAPTURE( uParam0 );
    }
    if (bParam2)
    {
        CUTSCENE_ENABLE_SKIP( 0 );
        AUD_ENABLE_PRE_BINK_SHUTDOWN( 1 );
    }
    START_SEAMLESS_CUTSCENE();
    if ((NOT IS_BULLET_CAMERA_TO_GAMEPLAY_ALLOWED()) AND ((IS_BULLET_CAMERA_RUNNING( 0 )) == 0))
    {
        START_PANEL_WIPE( 500, 5 );
        ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
    }
    WAIT( 1 );
    while (NOT HAS_CUTSCENE_FINISHED())
    {
        WAIT( 0 );
    }
    if (IS_MAGDEMO())
    {
        sub_79442( 500 );
    }
    if (bParam1)
    {
        STOP_CUTSCENE_CAPTURE();
    }
    if (NOT bParam2)
    {
        sub_79542();
        sub_79639();
    }
    sub_1119( "GA", "P_PLAY_CUTSCENE_04_02_SH7 end", 0 );
    return;
}

void sub_75554()
{
    vector vVar2;

    vVar2 = {-93.97318000, -328.75470000, 0.22057500};
    sub_17773( sub_6200(), vVar2, 270.00000000 );
    FREEZE_PED_POSITION( sub_6200(), 1 );
    LOAD_SCENE( vVar2 );
    WAIT( 1000 );
    while (GET_NUMBER_OF_STREAMING_REQUESTS() > 0)
    {
        sub_1119( "BSW", "P_PLAY_CUTSCENE_04_02_CONCAT waiting for streaming", 0 );
        WAIT( 0 );
    }
    FREEZE_PED_POSITION( sub_6200(), 0 );
    DO_SCREEN_FADE_IN( 0 );
    return;
}

void sub_75794()
{
    vector vVar2;

    vVar2 = {-367.22040000, -18.84670000, 2.67698700};
    sub_17773( sub_6200(), vVar2, 270.00000000 );
    FREEZE_PED_POSITION( sub_6200(), 1 );
    LOAD_SCENE( vVar2 );
    WAIT( 1000 );
    while (GET_NUMBER_OF_STREAMING_REQUESTS() > 0)
    {
        sub_1119( "BSW", "P_PLAY_CUTSCENE_04_02_CONCAT waiting for streaming", 0 );
        WAIT( 0 );
    }
    FREEZE_PED_POSITION( sub_6200(), 0 );
    DO_SCREEN_FADE_IN( 0 );
    return;
}

void sub_76001()
{
    vector vVar2;

    vVar2 = {-368.95310000, -19.21590000, 2.65213200};
    sub_17773( sub_6200(), vVar2, 116.00000000 );
    FREEZE_PED_POSITION( sub_6200(), 1 );
    LOAD_SCENE( vVar2 );
    WAIT( 1000 );
    while (GET_NUMBER_OF_STREAMING_REQUESTS() > 0)
    {
        sub_1119( "BSW", "P_PLAY_CUTSCENE_04_02_CONCAT waiting for streaming", 0 );
        WAIT( 0 );
    }
    FREEZE_PED_POSITION( sub_6200(), 0 );
    DO_SCREEN_FADE_IN( 0 );
    return;
}

void sub_76203()
{
    sub_59367( 2024698471 );
    sub_59367( 557810561 );
    sub_59367( g_U2251 );
    return;
}

void sub_76259()
{
    sub_1119( "RJM", "CREATE_04_02_PEDS_AND_OBJECTS - start", 0 );
    sub_4240( ref l_U286, 0, 0, 0, 0.00000000, -1756913695, 26, 6, 0, 0, 0 );
    sub_4240( ref l_U300, 0, 0, 0, 0.00000000, 1582120812, 26, 6, 0, 0, 0 );
    sub_4240( ref l_U314, 0, 0, 0, 0.00000000, -1566018181, 26, 6, 0, 0, 0 );
    sub_4240( ref l_U328, 0, 0, 0, 0.00000000, 90626805, 26, 6, 0, 0, 0 );
    sub_4240( ref l_U345[0], 0, 0, 0, 0.00000000, 90626805, 26, 6, 0, 0, 0 );
    sub_4240( ref l_U345[1], 0, 0, 0, 0.00000000, 90626805, 26, 6, 0, 0, 0 );
    sub_4240( ref l_U345[2], 0, 0, 0, 0.00000000, 90626805, 26, 6, 0, 0, 0 );
    sub_13419( l_U285 );
    sub_13419( l_U299 );
    sub_13419( l_U313 );
    sub_13419( l_U327 );
    sub_21263( l_U385 );
    l_U385 = sub_12183( 557810561, -370.49000000, -43.91900000, -10.85071000, 270.00000000, 0, 0, 0 );
    SET_VEHICLE_ON_GROUND_PROPERLY( l_U385 );
    FREEZE_VEHICLE_POSITION( l_U385, 1 );
    SET_VEHICLE_COLOUR_COMBINATION( l_U385, 0 );
    l_U285 = sub_13556( ref l_U286 );
    l_U299 = sub_13556( ref l_U300 );
    l_U313 = sub_13556( ref l_U314 );
    l_U327 = sub_13556( ref l_U328 );
    l_U341[0] = sub_13556( ref l_U345[0] );
    l_U341[1] = sub_13556( ref l_U345[1] );
    l_U341[2] = sub_13556( ref l_U345[2] );
    sub_68285( ref l_U341, 1 );
    sub_76796();
    sub_1119( "RJM", "CREATE_04_02_PEDS_AND_OBJECTS - end", 0 );
    return;
}

void sub_76796()
{
    sub_1119( "BSW", "CREATE_04_02_VEHICLES start", 0 );
    sub_21263( l_U386 );
    sub_21263( l_U387 );
    l_U386 = sub_12183( 557810561, -377.00680000, -43.43409000, -10.92423000, 285.57250000, 0, 0, 0 );
    SET_VEHICLE_ON_GROUND_PROPERLY( l_U386 );
    l_U387 = sub_12183( 557810561, -387.44910000, -41.10949000, -11.09846000, 252.99710000, 0, 0, 0 );
    SET_VEHICLE_ON_GROUND_PROPERLY( l_U387 );
    SET_VEHICLE_COLOUR_COMBINATION( l_U386, 1 );
    FREEZE_VEHICLE_POSITION( l_U386, 1 );
    SET_VEHICLE_COLOUR_COMBINATION( l_U387, 2 );
    FREEZE_VEHICLE_POSITION( l_U387, 1 );
    return;
}

void sub_77095(boolean bParam0)
{
    sub_1119( "RJM", "REGISTER_PEDS_CUT_04_02 - start", 0 );
    if (sub_26904())
    {
        sub_1119( "RJM", "Registering player with 04_01_pt01", 0 );
        if (bParam0)
        {
            sub_1119( "RJM", "REGISTER_PEDS_CUT_04_02 - Playing from flow, registering teleport for the player", 0 );
            HIDE_PED_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_6200(), 1 );
        }
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( sub_6200(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
        ISEQ_REGISTER_ENTITY( 439675427, "max", sub_6200(), 0 );
    }
    if (sub_14213( l_U285 ))
    {
        sub_1119( "RJM", "Registering piCut04_02Passos with 04_02_nybar_concat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U285, "FB_Pass_NY", 0 );
    }
    if (sub_14213( l_U299 ))
    {
        sub_1119( "RJM", "Registering piCut04_02Guy1 with 04_02_nybar_concat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U299, "G_NY_T_Sold_C", 0 );
    }
    if (sub_14213( l_U313 ))
    {
        sub_1119( "RJM", "Registering piCut04_02Guy2 with 04_02_nybar_concat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U313, "G_NY_T_Sold_C^1", 0 );
    }
    if (sub_14213( l_U327 ))
    {
        sub_1119( "RJM", "Registering piCut04_02Guy3 with 04_02_nybar_concat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U327, "G_NY_T_Sold_C^2", 0 );
    }
    if (sub_12484( l_U385 ))
    {
        sub_1119( "RJM", "Registering viCar with 04_02_nybar_concat", 0 );
        REGISTER_VEHICLE_PRE_SEAMLESS_CUTSCENE( l_U385, "car_gensedan", 0 );
    }
    REGISTER_HIDE_ENTITY_AT_POSITION( g_U2188._fU0, g_U2188._fU4 );
    CUTSCENE_REGISTER_STREAM_HELPER( -368.70210000, -20.18708000, 2.65209300 );
    sub_1119( "RJM", "REGISTER_PEDS_CUT_04_02 - end", 0 );
    return;
}

void sub_78515(unknown uParam0, unknown uParam1)
{
    sub_1119( "SBA", "P_SET_PED_ALL_WEAPON_VISIBILITY", 0 );
    sub_46935( uParam1 );
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        sub_1119( "SBA", "P_SET_PED_ALL_WEAPON_VISIBILITY: WEAPONHAND_LEFT", 0 );
        sub_21121( GET_WEAPON_FROM_HAND( uParam0, 1, 0 ) );
        if ((GET_WEAPON_FROM_HAND( uParam0, 1, 0 )) != 0)
        {
            SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND( uParam0, 1, 0 ), uParam1 );
        }
        sub_1119( "SBA", "P_SET_PED_ALL_WEAPON_VISIBILITY: WEAPONHAND_RIGHT", 0 );
        sub_21121( GET_WEAPON_FROM_HAND( uParam0, 0, 0 ) );
        if ((GET_WEAPON_FROM_HAND( uParam0, 0, 0 )) != 0)
        {
            SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND( uParam0, 0, 0 ), uParam1 );
        }
        sub_1119( "SBA", "P_SET_PED_ALL_WEAPON_VISIBILITY: WEAPONHOLSTER_PISTOL_LEFT", 0 );
        sub_21121( GET_WEAPON_FROM_HOLSTER( uParam0, 1 ) );
        if ((GET_WEAPON_FROM_HOLSTER( uParam0, 1 )) != 0)
        {
            SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HOLSTER( uParam0, 1 ), uParam1 );
        }
        sub_1119( "SBA", "P_SET_PED_ALL_WEAPON_VISIBILITY: WEAPONHOLSTER_PISTOL_RIGHT", 0 );
        sub_21121( GET_WEAPON_FROM_HOLSTER( uParam0, 0 ) );
        if ((GET_WEAPON_FROM_HOLSTER( uParam0, 0 )) != 0)
        {
            SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HOLSTER( uParam0, 0 ), uParam1 );
        }
        sub_1119( "SBA", "P_SET_PED_ALL_WEAPON_VISIBILITY: WEAPONHOLSTER_RIFLE", 0 );
        sub_21121( GET_WEAPON_FROM_HOLSTER( uParam0, 2 ) );
        if ((GET_WEAPON_FROM_HOLSTER( uParam0, 2 )) != 0)
        {
            SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HOLSTER( uParam0, 2 ), uParam1 );
        }
    }
    return;
}

void sub_79442(unknown uParam0)
{
    if ((IS_SCREEN_FADING_OUT() == 0) AND (IS_SCREEN_FADED_OUT() == 0))
    {
        DO_SCREEN_FADE_OUT( uParam0 );
        while (IS_SCREEN_FADED_OUT() == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_79542()
{
    sub_13419( l_U285 );
    sub_13419( l_U299 );
    sub_13419( l_U313 );
    sub_13419( l_U327 );
    sub_32824( ref l_U341 );
    sub_21263( l_U385 );
    sub_21263( l_U386 );
    sub_21263( l_U387 );
    return;
}

void sub_79639()
{
    sub_63061( 2024698471 );
    sub_63061( 557810561 );
    sub_63061( -2001569790 );
    sub_63061( g_U2251 );
    return;
}

void sub_79875()
{
    sub_1119( "SBA", "UNLOAD_ALL_ASSETS_ALLEY", "***" );
    sub_70812();
    sub_70910();
    sub_63061( 557810561 );
    sub_63061( 557810561 );
    sub_63061( g_U722 );
    sub_33252( "PAS_INT" );
    sub_33252( "LEVEL_S_NYBAR_MID_01_BLENDOUT" );
    return;
}

void sub_80029(unknown uParam0)
{
    switch (uParam0)
    {
        case 0:
        case 2:
        case 4:
        case 5: break;
    }
    return;
}

void sub_80269(int iParam0)
{
    iParam0->_fU36 = 0;
    iParam0->_fU40 = 0;
    return;
}

