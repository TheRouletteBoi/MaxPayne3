void main()
{
    l_U0 = 1;
    l_U1 = 144;
    l_U2 = 0;
    l_U3 = 1;
    l_U4 = 0;
    l_U5 = 1.00000000;
    l_U6 = -5.00000000;
    l_U7 = 0;
    l_U8 = 0;
    l_U9 = 0;
    l_U13 = 42;
    l_U14 = 0;
    l_U15 = 0;
    l_U16 = 0;
    l_U17 = 0;
    l_U18 = 0;
    l_U19 = 90.00000000;
    l_U20 = {0.00000000, 0.00000000, 0.00000000};
    l_U23 = {0.00000000, 0.00000000, 0.00000000};
    l_U26 = 0;
    l_U27 = 0;
    l_U28 = 0;
    l_U29 = 0;
    l_U30 = 0;
    l_U31 = 0;
    l_U32 = nil;
    l_U33 = {0.00000000, 0.00000000, 0.00000000};
    l_U36 = 0;
    l_U37 = 0;
    l_U38 = 0;
    l_U39 = 0;
    l_U40 = 0;
    l_U41 = 0;
    l_U42 = 0;
    l_U43 = 0;
    l_U44 = 0;
    l_U45 = 0;
    l_U46 = 0;
    l_U47 = 0;
    l_U48 = 0;
    l_U49 = 0;
    l_U50 = 0;
    l_U51 = 0;
    l_U52 = -978.08000000;
    l_U53 = -17.11000000;
    l_U54 = 0.00000000;
    StrCopy( ref l_U55, "S_OFFICE_VIG_16", 32 );
    l_U63 = 0;
    l_U64 = 0;
    l_U65 = 0;
    l_U66 = 0;
    l_U67 = {-983.59000000, 31.70000000, -0.05000000};
    l_U70 = 90.00000000;
    l_U71 = 0;
    l_U93 = 0;
    l_U94 = 0;
    l_U95 = 0;
    l_U96 = 0;
    l_U104 = 0;
    l_U105 = 0;
    l_U106 = 0;
    l_U107 = 0;
    l_U110 = 0;
    l_U111 = 0;
    l_U112 = 0;
    l_U113 = 0;
    l_U114 = 0;
    l_U115 = 0;
    l_U116 = 0;
    l_U117 = 0;
    l_U118 = 0;
    l_U119 = 0;
    l_U121 = 0;
    l_U122 = 0;
    l_U155 = 0.00000000;
    l_U156 = 15.00000000;
    l_U157 = 2.00000000;
    l_U158 = 1.00000000;
    l_U159 = 30;
    l_U160 = 40.00000000;
    l_U161 = 15.00000000;
    l_U162 = 2.00000000;
    l_U163 = 1.00000000;
    l_U164 = 30;
    l_U165 = 0.00000000;
    l_U166 = 15.00000000;
    l_U167 = 2.00000000;
    l_U168 = 1.00000000;
    l_U169 = 30;
    l_U170 = 90;
    l_U171 = {-1024.01000000, 29.72000000, 4.95000000};
    l_U174 = 0;
    l_U237 = 8000;
    l_U325 = {-1025.07000000, 33.70000000, 7.27000000};
    l_U328 = 0;
    l_U329 = 176.55100000;
    l_U330 = 41.20800000;
    l_U331 = -10.00000000;
    l_U332 = 23.60000000;
    l_U343 = 0;
    l_U344 = 0;
    l_U345 = 0;
    l_U346 = 0;
    l_U347 = 0;
    l_U348 = 0;
    l_U349 = 0;
    l_U350 = 60.95300000;
    l_U351 = 113.00000000;
    l_U438 = {-1005.97000000, 1.46000000, 4.92000000};
    l_U441 = 268.00000000;
    l_U442 = {(vector( -1005.97000000, 1.46000000, 5.01000000)) + (vector( 1.44000000, 0.01000000, -0.01000000))};
    l_U445 = {0.00000000, 0.00000000, -90.00000000};
    l_U448 = 4000;
    l_U449 = 0;
    l_U498 = 40.00000000;
    l_U499 = 15.00000000;
    l_U500 = 1.00000000;
    l_U501 = 15.00000000;
    l_U502 = 30;
    l_U503 = 0;
    l_U504 = 0;
    l_U505 = 0;
    l_U506 = 1;
    l_U507 = 2;
    l_U508 = 3;
    l_U509 = 4;
    l_U510 = 1;
    l_U511 = 1;
    l_U512 = 0;
    l_U513 = 0;
    l_U514 = 0;
    l_U515 = 1.00000000;
    l_U516 = 0;
    l_U517 = 0;
    l_U518 = 0;
    l_U519 = 0;
    l_U520 = 0;
    l_U521 = 0;
    l_U522 = 0;
    l_U523 = 0;
    l_U524 = 0;
    StrCopy( ref l_U525, "S_OFFICE_VIG_22C", 32 );
    l_U533 = {-991.31400000, 3.80300000, 4.93000000};
    l_U536 = -180.00000000;
    l_U546 = 0;
    l_U547 = 0;
    l_U548 = 5.00000000;
    l_U549 = 1.00000000;
    l_U550 = 0;
    l_U551 = 0;
    l_U552 = 0;
    l_U553 = 0;
    l_U554 = 0;
    l_U555 = 0;
    l_U556 = 1.35000000;
    l_U611 = 0;
    l_U612 = 0;
    l_U613 = 2000;
    l_U614 = 1000;
    l_U615 = 2153;
    l_U616 = 2800;
    l_U623 = 0;
    l_U624 = 0;
    l_U625 = 0;
    l_U626 = 0;
    l_U627 = 0.50000000;
    l_U628 = 0.00000000;
    l_U629 = 0.00000000;
    l_U630 = 0.00000000;
    l_U631 = 0;
    l_U632 = 0;
    l_U633 = 0;
    l_U634 = 0;
    l_U635 = 0;
    l_U636 = {0, 0, 0};
    l_U639 = {0, 0, 0};
    l_U642 = 1.00000000;
    l_U643 = 0.00000000;
    l_U644 = -1;
    l_U655 = 0;
    l_U656 = {-1022.49100000, 1.71252200, 4.92435000};
    l_U659 = -90.00000000;
    l_U660 = 0;
    l_U661 = 0;
    l_U662 = 0;
    l_U671 = 0;
    l_U672 = 0;
    l_U673 = 0;
    l_U674 = 0;
    l_U675 = 0;
    l_U676 = 0;
    l_U677 = 0;
    l_U678 = 0;
    l_U679 = 0;
    l_U680 = 0;
    l_U681 = 0;
    l_U682 = 0;
    l_U683 = 2.00000000;
    l_U872 = 0;
    l_U873 = 0;
    l_U874 = 0;
    l_U875 = 0;
    l_U876 = 0;
    l_U886 = 0;
    l_U887 = 0;
    l_U888 = 0;
    l_U889 = {-989.41300000, 34.08057000, 2.35110400};
    l_U892 = 357.50960000;
    l_U893 = 0;
    l_U894 = 0;
    l_U895 = 0;
    l_U896 = 0;
    l_U897 = {-989.41300000, 34.08057000, 2.35110400};
    l_U900 = 357.50960000;
    l_U901 = 0;
    l_U902 = 0;
    l_U903 = 0;
    l_U904 = 0;
    l_U905 = {-991.82000000, 7.36000000, 4.92000000};
    l_U908 = 270.32100000;
    l_U909 = 0;
    l_U910 = 0;
    l_U911 = 3000;
    l_U912 = {-995.82000000, 7.36000000, 6.50000000};
    l_U915 = -93.41400000;
    l_U916 = 14000;
    l_U917 = 1000;
    l_U918 = 89.36300000;
    l_U919 = -8.70800000;
    l_U920 = 0;
    l_U921 = 0;
    l_U922 = 0;
    l_U923 = 0;
    l_U924 = {-989.41300000, 34.08057000, 2.35110400};
    l_U927 = 357.50960000;
    l_U928 = 0;
    l_U929 = 0;
    l_U930 = 0;
    l_U931 = 0;
    l_U932 = {-989.41300000, 34.08057000, 2.35110400};
    l_U935 = 357.50960000;
    l_U936 = 0;
    l_U937 = 0;
    l_U938 = 0;
    l_U939 = 0;
    l_U940 = {-989.41300000, 34.08057000, 2.35110400};
    l_U943 = 357.50960000;
    l_U944 = 0;
    l_U945 = 0;
    l_U946 = 0;
    l_U947 = 0;
    l_U948 = 0;
    l_U1008 = 1000;
    l_U1009 = 1000;
    l_U1010 = 1000;
    l_U1011 = 2500;
    l_U1012 = 1000;
    l_U1013 = 3500;
    l_U1014 = 0;
    l_U1015 = 0;
    l_U1016 = 0;
    l_U1017 = {-982.81140000, 23.94330000, -0.42133100};
    l_U1020 = 344.17360000;
    l_U1021 = 1;
    l_U1022 = {-984.34000000, 23.14700000, 0.28700000};
    l_U1025 = 5.00000000;
    l_U1026 = 8000;
    l_U1027 = 0;
    l_U1028 = 4000;
    l_U1029 = -16.23400000;
    l_U1030 = 0.00000000;
    l_U1040 = 12000;
    l_U1041 = 0;
    l_U1042 = 0;
    l_U1043 = 0;
    l_U1044 = 0;
    l_U1045 = 3.00000000;
    l_U1055 = {-993.25000000, -6.44900000, 4.71200000};
    l_U1058 = {-993.25000000, -6.44900000, 4.59300000};
    l_U1061 = {-993.25000000, 6.44900000, 4.47300000};
    l_U1064 = 0;
    l_U1065 = 0;
    l_U1066 = 0;
    l_U1067 = 0;
    l_U1068 = 0;
    l_U1069 = 0;
    l_U1070 = 0;
    l_U1071 = 0;
    l_U1072 = 0;
    l_U1073 = 0;
    l_U1074 = 0;
    l_U1075 = {-1020.11100000, -0.43000000, 4.93400000};
    l_U1078 = 0.00000000;
    l_U1079 = -84.83173000;
    l_U1080 = -9.92179700;
    l_U1139 = 0;
    l_U1140 = 0;
    l_U1141 = 0;
    l_U1142 = 0;
    l_U1143 = {-998.51000000, 28.89000000, 4.93000000};
    l_U1146 = -2.50000000;
    l_U1147 = {-998.31000000, 32.58000000, 4.93000000};
    l_U1150 = -180.00000000;
    l_U1151 = 0.00000000;
    l_U1152 = -10;
    l_U1153 = 1;
    l_U1154 = 0;
    l_U1155 = 2.85000000;
    l_U1156 = 0.67500000;
    l_U1157 = 0;
    l_U1158 = 1.60000000;
    l_U1159 = 0.35000000;
    l_U1160 = 0;
    l_U1161 = 2.00000000;
    l_U1162 = 5000;
    l_U1172 = 500;
    l_U1182 = 0;
    l_U1183 = 1.20000000;
    l_U1198 = 0;
    l_U1201 = 0;
    l_U1202 = 0;
    l_U1203 = 0;
    l_U1204 = 0;
    l_U1226 = 0;
    l_U1228 = 0;
    l_U1229 = 0;
    l_U1230 = 0;
    l_U1231 = 0;
    l_U1232 = 0;
    l_U1233 = 0;
    l_U1234 = 0;
    l_U1235 = 0;
    l_U1236 = 0;
    l_U1237 = 0;
    l_U1238 = 0;
    l_U1262 = -1029.67700000;
    l_U1263 = 19.01000000;
    l_U1264 = 4.90000000;
    l_U1265 = 51.58000000;
    l_U1266 = 4000;
    l_U1267 = 0;
    l_U1268 = 0;
    l_U1269 = 0.00000000;
    l_U1270 = 0;
    l_U1271 = 0;
    l_U1272 = 0;
    l_U1273 = 0;
    l_U1274 = {-995.95180000, 35.62065000, 4.90035800};
    l_U1277 = 93.90961000;
     /* WRITESCRIPTLOG */ sub_2982( "SA", "Script fav2_iSequences_3 is starting...", "###" );
     /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), g_U751[1], g_U851[1] );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
    {
        FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 1 );
    }
    LOAD_SCENE( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS(  /* PLAYER_PED_ID */ sub_3100() ) );
    SET_WEATHER_TYPE_NOW_PERSIST( "EXTRASUNNY" );
    FREEZE_TIME_OF_DAY( 12, 0 );
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( g_U885[1], 1065353216, 0 );
    SET_GAMEPLAY_CAM_RELATIVE_PITCH( g_U919[1], 1065353216, 0 );
     /* P_SETUP_FIRE_ARCH_GLASS_ARRAY */ sub_3403();
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
    {
        FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 0 );
    }
    while (true)
    {
         /* P_HANDLE_DEBUG_INJ */ sub_3647();
         /* P_HANDLE_SEQ_S_OFFICE_VIG_14 */ sub_5977();
         /* P_HANDLE_SEQ_S_OFFICE_VIG_16 */ sub_6971();
         /* P_HANDLE_CUB_EXP */ sub_8926();
         /* P_HANDLE_BRIDGE_COLLASPE */ sub_10853();
         /* P_HANDLE_S_OFFICE_VIG_22A */ sub_11538();
         /* P_HANDLE_S_OFFICE_VIG_22C */ sub_22171();
         /* P_HANDLE_MOBILE_WARNING */ sub_25029();
         /* P_HANDLE_CABINET_TEST */ sub_26920();
         /* P_DEBUG_HANDLE_GLASS_SMASH */ sub_27929();
         /* P_HANDLE_FIRE_REACTION_TEST */ sub_29273();
         /* P_TIMER_TEST */ sub_32279();
         /* P_DEBUG_HANDLE_SEQ_S_OFF_VIG_18_SFWD */ sub_33095();
         /* P_DEBUG_HANDLE_SEQ_S_OFF_VIG_18_SBACK */ sub_33962();
         /* P_DEBUG_HANDLE_SEQ_S_OFF_VIG_18_MFWD */ sub_34831();
         /* P_DEBUG_HANDLE_SEQ_S_OFF_VIG_18_MBACK */ sub_36902();
         /* P_DEBUG_HANDLE_SEQ_S_OFF_VIG_18_LFWD */ sub_37771();
         /* P_DEBUG_HANDLE_SEQ_S_OFF_VIG_18_LBACK */ sub_38638();
         /* P_HANDLE_SPRINKER_FX */ sub_39507();
         /* P_HANDLE_SPFX */ sub_41152();
         /* P_HANDLE_SPFX_2_2 */ sub_41670();
         /* P_HANDLE_MID_10_OFFICE_BLENDOUT */ sub_42467();
         /* P_HANDLE_HANDY_CAM_WIDGET */ sub_44530();
         /* P_DEBUG_HANDLE_SHIMMY_PROPS */ sub_44865();
         /* P_HANDLE_B_OUT_MID_13C */ sub_46921();
         /* P_HANDLE_S_OFF_VIG_17_B */ sub_50716();
         /* P_HANDLE_FIRE_CUBICLES_PIT_BULLET_CAMS */ sub_53780();
         /* P_VIEW_CAM_TEST */ sub_54898();
         /* P_HANDLE_OFFICE_INJURED_CP */ sub_55198();
         /* P_HANDLE_FOOTSTEP_SOUNDS */ sub_56612();
         /* HANDLE_S_OFFICE_B_IN_MID_13_OFF */ sub_56837();
        WAIT( 0 );
    }
     /* WRITESCRIPTLOG */ sub_2982( "SA", "Script fav2_iSequences_3 is terminating...", "###" );
    return;
}

/* WRITESCRIPTLOG */ void sub_2982(unknown uParam0, unknown uParam1, string sParam2)
{
    unknown uVar5;

    if (IS_STRING_NULL( sParam2 ))
    {
        sParam2 = "###";
    }
    uVar5 = GET_REAL_GAME_TIMER();
    DISPLAYF( "[{0}][{1}]{3} {2} {3}", 4, 513, uVar5, 1537, uParam0, 1537, uParam1, 1537, sParam2 );
    return;
}

/* PLAYER_PED_ID */ int sub_3100()
{
    if (DOES_MAIN_PLAYER_EXIST())
    {
        return GET_PLAYER_PED(  /* PLAYER_ID */ sub_3138() );
    }
    return 0;
}

/* PLAYER_ID */ void sub_3138()
{
    return GET_PLAYER_ID();
}

/* TELEPORTPED */ void sub_3211(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_COORDS( uParam0, uParam1, 1 );
        SET_PED_HEADING( uParam0, uParam4 );
    }
    return;
}

/* P_SETUP_FIRE_ARCH_GLASS_ARRAY */ void sub_3403()
{
     /* WRITESCRIPTLOG */ sub_2982( "SP", "P_SETUP_FIRE_ARCH_GLASS_ARRAY", 0 );
     /* P_CREATEGLASSSMASHSTRUCT */ sub_3532( ref l_U663[0], -1013.88000000, 3.35000000, 6.90000000, -1013.88000000, 2.55000000, 6.90000000, g_U1185 );
    return;
}

/* P_CREATEGLASSSMASHSTRUCT */ void sub_3532(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU12 = {uParam4};
    iParam0->_fU24 = uParam7;
    return;
}

/* P_HANDLE_DEBUG_INJ */ void sub_3647()
{
    if (NOT l_U39)
    {
         /* LOADANIMDICT */ sub_3712( "LEVEL_S_OFFICE_INJ", 0, 1 );
         /* LOADACTIONTREE */ sub_3906( "Level/s_office/s_off_inj", 1 );
        ENABLE_GRAVITY_WELL( "s_office_fireatrium_gravitywells", "fireatriumleanwall01Left", 0, 0, 0, 0 );
        ENABLE_GRAVITY_WELL( "s_office_fireatrium_gravitywells", "fireatriumleanwall01Right", 0, 0, 0, 0 );
        START_WIDGET_GROUP( "VIG_15_OFFICE" );
        ADD_WIDGET_BOOL( "Teleport Max to safe area", ref l_U40 );
        ADD_WIDGET_BOOL( "Put Max in Injured State", ref l_U41 );
        ADD_WIDGET_BOOL( "Wall Rest Left - Act Int 01", ref l_U43 );
        ADD_WIDGET_BOOL( "Wall Rest Right - Act Int 02", ref l_U44 );
        ADD_WIDGET_BOOL( "Wall Rest Smoke Left - Act Int 03", ref l_U45 );
        ADD_WIDGET_BOOL( "Wall Rest Smoke Right - Act Int 04", ref l_U46 );
        ADD_WIDGET_BOOL( "Cough light - Act Int 05", ref l_U47 );
        ADD_WIDGET_BOOL( "Cough medium - Act Int 06", ref l_U48 );
        ADD_WIDGET_BOOL( "Cough heavy - Act Int 07", ref l_U49 );
        ADD_WIDGET_BOOL( "React to explosion at given point - Act Int 08", ref l_U50 );
        ADD_WIDGET_BOOL( "React to fire at given point - Act Int 09", ref l_U51 );
        ADD_WIDGET_FLOAT_SLIDER( "Fire/Exp Pos X", ref l_U52, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Fire/Exp Pos Y", ref l_U53, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Fire/Exp Pos Z", ref l_U54, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_BOOL( "Put Max in Normal State", ref l_U42 );
        STOP_WIDGET_GROUP();
        l_U39 = 1;
    }
    if (l_U40)
    {
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
        {
             /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), -978.08890000, -6.89319800, -0.00017100, 170.00000000 );
        }
        l_U40 = 0;
    }
    if (l_U41)
    {
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
        {
            if (IS_ACTION_TREE_LOADED( "Level/s_office/s_off_inj" ))
            {
                PED_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_3100(), "/Global/S_OFF_INJ1/S_OFF_INJ1/S_OFF_INJ" );
            }
        }
        l_U41 = 0;
    }
    if (l_U42)
    {
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
        {
            if (IS_ACTION_TREE_LOADED( "Level/s_office/s_off_inj" ))
            {
                PED_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_3100(), "/Global/Player/PlayerLoco" );
            }
        }
        l_U42 = 0;
    }
    if (l_U43)
    {
        if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0) AND ((DOES_PED_EXIST(  /* PLAYER_PED_ID */ sub_3100() )) == 1))
        {
            PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
        l_U43 = 0;
    }
    if (l_U44)
    {
        if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0) AND ((DOES_PED_EXIST(  /* PLAYER_PED_ID */ sub_3100() )) == 1))
        {
            PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 48, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
        l_U44 = 0;
    }
    if (l_U45)
    {
        if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0) AND ((DOES_PED_EXIST(  /* PLAYER_PED_ID */ sub_3100() )) == 1))
        {
            PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 49, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
        l_U45 = 0;
    }
    if (l_U46)
    {
        if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0) AND ((DOES_PED_EXIST(  /* PLAYER_PED_ID */ sub_3100() )) == 1))
        {
            PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 50, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
        l_U46 = 0;
    }
    if (l_U47)
    {
        if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0) AND ((DOES_PED_EXIST(  /* PLAYER_PED_ID */ sub_3100() )) == 1))
        {
            PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 51, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
        l_U47 = 0;
    }
    if (l_U48)
    {
        if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0) AND ((DOES_PED_EXIST(  /* PLAYER_PED_ID */ sub_3100() )) == 1))
        {
            PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 52, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
        l_U48 = 0;
    }
    if (l_U49)
    {
        if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0) AND ((DOES_PED_EXIST(  /* PLAYER_PED_ID */ sub_3100() )) == 1))
        {
            PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 53, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
        l_U49 = 0;
    }
    if (l_U50)
    {
        if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0) AND ((DOES_PED_EXIST(  /* PLAYER_PED_ID */ sub_3100() )) == 1))
        {
            PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 54, 1000, l_U52, l_U53, l_U54 );
        }
        l_U50 = 0;
    }
    if (l_U51)
    {
        if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0) AND ((DOES_PED_EXIST(  /* PLAYER_PED_ID */ sub_3100() )) == 1))
        {
            PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 55, 1000, l_U52, l_U53, l_U54 );
        }
        l_U51 = 0;
    }
    return;
}

/* LOADANIMDICT */ void sub_3712(unknown uParam0, unknown uParam1, int iParam2)
{
    REQUEST_ANIM_DICT( uParam0, uParam1 );
    "[doubled result, dropped if not asigned]";
    if (iParam2 == 1)
    {
        while ((HAS_ANIM_DICT_LOADED( uParam0, uParam1 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an animation dictionary to be loaded: {} ###", 1, 1537, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* LOADACTIONTREE */ void sub_3906(unknown uParam0, int iParam1)
{
    ACTION_TREE_LOAD( uParam0 );
    if (iParam1 == 1)
    {
        while ((IS_ACTION_TREE_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an Action Tree to be loaded: {} ###", 1, 1537, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* P_HANDLE_SEQ_S_OFFICE_VIG_14 */ void sub_5977()
{
    if (l_U553 == 0)
    {
        START_WIDGET_GROUP( "S_OFFICE_VIG_14" );
        ADD_WIDGET_STRING( "Max dies from smoke inhalation" );
        ADD_WIDGET_BOOL( "Start Sequence", ref l_U550 );
        ADD_WIDGET_BOOL( "Kill Sequence", ref l_U551 );
        STOP_WIDGET_GROUP();
        l_U553 = 1;
    }
    if (l_U550 == 1)
    {
        ISEQ_UNREGISTER_ENTITY( -654795811, "MAX" );
         /* TERMINATEISEQ */ sub_6203( -654795811, 1 );
         /* LOADISEQ */ sub_6510( -654795811, 1 );
        ISEQ_REGISTER_ENTITY( -654795811, "MAX",  /* PLAYER_PED_ID */ sub_3100(), 0 );
        ISEQ_START( -654795811 );
        l_U550 = 0;
    }
    if (l_U551 == 1)
    {
        ISEQ_UNREGISTER_ENTITY( -654795811, "MAX" );
         /* TERMINATEISEQ */ sub_6203( -654795811, 1 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
        {
            CLEAR_PED_TASKS(  /* PLAYER_PED_ID */ sub_3100() );
            PED_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_3100(), "/Global/Player/PlayerLoco" );
        }
        l_U551 = 0;
    }
    return;
}

/* TERMINATEISEQ */ void sub_6203(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to terminate does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 1)
    {
        ISEQ_TERMINATE( uParam0 );
    }
    ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
    if (iParam1 == 1)
    {
        while ((ISEQ_IS_LOADED( uParam0 )) == 1)
        {
            DISPLAYF( "[SP]### Waiting for interactive sequence to terminate: {0} {1} ###", 2, 1281, ref uVar4, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* LOADISEQ */ void sub_6510(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to load does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 0)
    {
        ISEQ_REQUEST( uParam0 );
        ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
        if (iParam1 == 1)
        {
            while ((ISEQ_QUERY_STATE( uParam0, 1 )) == 1)
            {
                DISPLAYF( "[SP]### Waiting for interactive sequence to be loaded: {0} {1} ###", 2, 1281, ref uVar4, 513, uParam0 );
                WAIT( 0 );
            }
        }
    }
    return;
}

/* P_HANDLE_SEQ_S_OFFICE_VIG_16 */ void sub_6971()
{
    vector vVar2;
    float fVar5;

    if (l_U71 == 0)
    {
        START_WIDGET_GROUP( "S_OFFICE_VIG_16 / S_OFFICE_VIG_17" );
        ADD_WIDGET_STRING( "Max approaches steps, grabs railing, climbs up steps, falls at the top" );
        ADD_WIDGET_BOOL( "Teleport player to the Sequence", ref l_U63 );
        ADD_WIDGET_BOOL( "Start Sequence", ref l_U64 );
        ADD_WIDGET_BOOL( "Kill Sequence", ref l_U65 );
        ADD_WIDGET_BOOL( "Force fall - Act Int 01", ref l_U66 );
        ADD_WIDGET_FLOAT_SLIDER( "Stairs Cam angle offset", ref g_U1603, 1.00000000, 360.00000000, 1.00000000 );
        START_WIDGET_GROUP( "Max" );
        ADD_WIDGET_FLOAT_SLIDER( "Pos X", ref l_U67._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Y", ref l_U67._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Z", ref l_U67._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Heading", ref l_U70, -360.00000000, 360.00000000, 0.10000000 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        l_U71 = 1;
    }
    if (l_U63 == 1)
    {
         /* P_FADE_OUT_AND_WAIT */ sub_7544( 1000 );
        vVar2 = {-982.13310000, 31.31535000, -0.02603300};
        fVar5 = 65.50811000;
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
        {
             /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), vVar2, fVar5 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 24.89340000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -8.86766700, 1065353216, 0 );
         /* P_FADE_IN_AND_WAIT */ sub_7800( 1000 );
        l_U63 = 0;
    }
    if (l_U64 == 1)
    {
         /* P_CREATETRIGGERBOX */ sub_8033( ref l_U72, "tbFall", -987.90000000, 31.03000000, -0.27000000, 3.00000000, 3.00000000, 5.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
        ISEQ_UNREGISTER_ENTITY( -211988314, "MAX" );
         /* TERMINATEISEQ */ sub_6203( -211988314, 1 );
         /* LOADISEQ */ sub_6510( -211988314, 1 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
        {
            SET_PED_SYNC_POINT(  /* PLAYER_PED_ID */ sub_3100(), l_U67, l_U70 );
        }
        ISEQ_REGISTER_ENTITY( -211988314, "MAX",  /* PLAYER_PED_ID */ sub_3100(), 0 );
        ISEQ_START( -211988314 );
        SET_CAMERA_OVERRIDE( "S_OFFICE_STAIRS", "S_OFFICE_STAIRS", 1, 1, 1 );
        SET_RAIL_RELATIVE_DIR( 5, g_U1603 );
        l_U64 = 0;
    }
    if (l_U65 == 1)
    {
        ISEQ_UNREGISTER_ENTITY( -211988314, "MAX" );
         /* TERMINATEISEQ */ sub_6203( -211988314, 1 );
        SET_CAMERA_OVERRIDE( "", "", 1, 1, 1 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
        {
            CLEAR_PED_TASKS(  /* PLAYER_PED_ID */ sub_3100() );
            PED_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_3100(), "/Global/Player/PlayerLoco" );
        }
        l_U65 = 0;
    }
    if (ISEQ_QUERY_STATE( -211988314, 3 ))
    {
         /* WRITESCRIPTLOG */ sub_2982( "SA", "In Stair Climb", "###" );
        SET_RAIL_RELATIVE_DIR( 5, g_U1603 );
    }
    if (l_U66 == 1)
    {
        if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0) AND ((DOES_PED_EXIST(  /* PLAYER_PED_ID */ sub_3100() )) == 1))
        {
            PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
        l_U66 = 0;
    }
    if ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_8606( ref l_U72, 0 ))
    {
         /* WRITESCRIPTLOG */ sub_2982( "SA", "Max is falling", "###" );
        WAIT( 500 );
        if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0) AND ((DOES_PED_EXIST(  /* PLAYER_PED_ID */ sub_3100() )) == 1))
        {
            PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
    }
    return;
}

/* P_FADE_OUT_AND_WAIT */ void sub_7544(unknown uParam0)
{
    if ((IS_SCREEN_FADING_OUT() == 0) AND (IS_SCREEN_FADED_OUT() == 0))
    {
        DO_SCREEN_FADE_OUT( uParam0 );
        while (IS_SCREEN_FADED_OUT() == 0)
        {
            DISPLAYF( "[SP]### Waiting for screen to fade out... ###", 0 );
            WAIT( 0 );
        }
    }
    return;
}

/* P_FADE_IN_AND_WAIT */ void sub_7800(unknown uParam0)
{
    if ((IS_SCREEN_FADING_IN() == 0) AND (IS_SCREEN_FADED_IN() == 0))
    {
        DO_SCREEN_FADE_IN( uParam0 );
        while (IS_SCREEN_FADED_IN() == 0)
        {
            DISPLAYF( "[SP]### Waiting for screen to fade in... ###", 0 );
            WAIT( 0 );
        }
    }
    return;
}

/* P_CREATETRIGGERBOX */ void sub_8033(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    StrCopy( ref iParam0->_fU0, uParam1, 64 );
    iParam0->_fU64 = 0;
    iParam0->_fU68 = 0;
    iParam0->_fU72 = {uParam2};
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 1, iParam0 + 0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

/* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ void sub_8606(int iParam0, unknown uParam1)
{
    if (iParam0->_fU64 == 1)
    {
        return 0;
    }
    else
    {
        iParam0->_fU64 =  /* F_ISPEDINTRIGGERBOX */ sub_8682(  /* PLAYER_PED_ID */ sub_3100(), (iParam0^) );
        if ((iParam0->_fU64) AND (uParam1))
        {
            GAMEPLAY_HELPER_BOX_SET_ENABLED( iParam0 + 0, 0 );
        }
    }
    return iParam0->_fU64;
}

/* F_ISPEDINTRIGGERBOX */ int sub_8682(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        return IS_PED_IN_GAMEPLAY_HELPER_BOX( uParam0, ref uParam1._fU0 );
    }
    return 0;
}

/* P_HANDLE_CUB_EXP */ void sub_8926()
{
    vector vVar2;
    float fVar5;

    if (l_U93 == 0)
    {
        START_WIDGET_GROUP( "Cubicle Explosion" );
        ADD_WIDGET_BOOL( "Teleport player to the Sequence", ref l_U94 );
        ADD_WIDGET_BOOL( "Start Explosion", ref l_U95 );
        ADD_WIDGET_BOOL( "Cleanup", ref l_U96 );
        STOP_WIDGET_GROUP();
        l_U93 = 1;
    }
    if (l_U94 == 1)
    {
         /* P_FADE_OUT_AND_WAIT */ sub_7544( 1000 );
        vVar2 = {-1008.61200000, 25.62341000, 4.90049400};
        fVar5 = 51.44089000;
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
        {
             /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), vVar2, fVar5 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 1.99561400, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -8.01561500, 1065353216, 0 );
         /* P_FADE_IN_AND_WAIT */ sub_7800( 1000 );
        l_U94 = 0;
    }
    if (l_U95)
    {
         /* CLEANOBJECT */ sub_9251( l_U97 );
         /* CLEANOBJECT */ sub_9251( l_U98 );
         /* CLEANOBJECT */ sub_9251( l_U99 );
         /* CLEANOBJECT */ sub_9251( l_U100 );
         /* CLEANOBJECT */ sub_9251( l_U101 );
         /* CLEANOBJECT */ sub_9251( l_U102 );
         /* CLEANOBJECT */ sub_9251( l_U103 );
         /* LOADMODEL */ sub_9371( 1589426392, 1 );
         /* LOADMODEL */ sub_9371( -1335895011, 1 );
         /* LOADMODEL */ sub_9371( -1152716301, 1 );
         /* LOADMODEL */ sub_9371( -1929112218, 1 );
         /* LOADMODEL */ sub_9371( -373633326, 1 );
         /* LOADMODEL */ sub_9371( -209132946, 1 );
         /* LOADMODEL */ sub_9371( -969537591, 1 );
        l_U97 =  /* CREATEOBJECTNOOFFSET */ sub_9756( 1589426392, -1011.22000000, 29.95600000, 4.54300000, 0, 0, 0, 0, 0, 0 );
        l_U98 =  /* CREATEOBJECTNOOFFSET */ sub_9756( -1335895011, -1011.22000000, 29.95600000, 4.54300000, 0, 0, 0, 0, 0, 0 );
        l_U99 =  /* CREATEOBJECTNOOFFSET */ sub_9756( -1152716301, -1011.22000000, 29.95600000, 4.54300000, 0, 0, 0, 0, 0, 0 );
        l_U100 =  /* CREATEOBJECTNOOFFSET */ sub_9756( -1929112218, -1011.22000000, 29.95600000, 4.54300000, 0, 0, 0, 0, 0, 0 );
        l_U101 =  /* CREATEOBJECTNOOFFSET */ sub_9756( -373633326, -1011.22000000, 29.95600000, 4.54300000, 0, 0, 0, 0, 0, 0 );
        l_U102 =  /* CREATEOBJECTNOOFFSET */ sub_9756( -209132946, -1011.22000000, 29.95600000, 4.54300000, 0, 0, 0, 0, 0, 0 );
        l_U103 =  /* CREATEOBJECTNOOFFSET */ sub_9756( -969537591, -1011.22000000, 29.95600000, 4.54300000, 0, 0, 0, 0, 0, 0 );
        FREEZE_OBJECT_POSITION( l_U97, 1 );
        FREEZE_OBJECT_POSITION( l_U98, 1 );
        FREEZE_OBJECT_POSITION( l_U99, 1 );
        FREEZE_OBJECT_POSITION( l_U100, 1 );
        FREEZE_OBJECT_POSITION( l_U101, 1 );
        FREEZE_OBJECT_POSITION( l_U102, 1 );
        FREEZE_OBJECT_POSITION( l_U103, 1 );
        PLAY_OBJECT_ANIM( l_U97, "rf_ofcube_anim01", "of_floor", 0.00000000, 0, 1 );
        PLAY_OBJECT_ANIM( l_U98, "rf_ofcube_anim02", "of_floor", 0.00000000, 0, 1 );
        PLAY_OBJECT_ANIM( l_U99, "rf_ofcube_anim03", "of_floor", 0.00000000, 0, 1 );
        PLAY_OBJECT_ANIM( l_U100, "rf_ofcube_anim04", "of_floor", 0.00000000, 0, 1 );
        PLAY_OBJECT_ANIM( l_U101, "rf_ofcube_anim05", "of_floor", 0.00000000, 0, 1 );
        PLAY_OBJECT_ANIM( l_U102, "rf_ofcube_anim06", "of_floor", 0.00000000, 0, 1 );
        PLAY_OBJECT_ANIM( l_U103, "rf_ofcube_anim07", "of_floor", 0.00000000, 0, 1 );
        l_U95 = 0;
    }
    if (l_U96)
    {
         /* CLEANOBJECT */ sub_9251( l_U97 );
         /* CLEANOBJECT */ sub_9251( l_U98 );
         /* CLEANOBJECT */ sub_9251( l_U99 );
         /* CLEANOBJECT */ sub_9251( l_U100 );
         /* CLEANOBJECT */ sub_9251( l_U101 );
         /* CLEANOBJECT */ sub_9251( l_U102 );
         /* CLEANOBJECT */ sub_9251( l_U103 );
        l_U96 = 0;
    }
    return;
}

/* CLEANOBJECT */ void sub_9251(unknown uParam0)
{
    if (DOES_OBJECT_EXIST( uParam0 ))
    {
        DELETE_OBJECT( ref uParam0 );
    }
    return;
}

/* LOADMODEL */ void sub_9371(unknown uParam0, boolean bParam1)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
         /* WRITE_STRING */ sub_9488( "[SP]### ERROR! (LoadModel) Trying to load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    if (bParam1)
    {
        while ((HAS_MODEL_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* WRITE_STRING */ void sub_9488(unknown uParam0)
{
    PRINTSTRING( uParam0 );
    PRINTNL();
    return;
}

/* CREATEOBJECTNOOFFSET */ void sub_9756(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_9371( uParam0, 1 );
    }
    Result = CREATE_OBJECT_NO_OFFSET( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an object to exist: {!f1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

/* P_HANDLE_BRIDGE_COLLASPE */ void sub_10853()
{
    vector vVar2;
    float fVar5;

    if (l_U104 == 0)
    {
        START_WIDGET_GROUP( "Bridge Collapse" );
        ADD_WIDGET_BOOL( "Teleport player to the Sequence", ref l_U105 );
        ADD_WIDGET_BOOL( "Start Collapse", ref l_U106 );
        ADD_WIDGET_BOOL( "Cleanup", ref l_U107 );
        STOP_WIDGET_GROUP();
        l_U104 = 1;
    }
    if (l_U105)
    {
         /* P_FADE_OUT_AND_WAIT */ sub_7544( 1000 );
        vVar2 = {-988.02340000, -7.54955000, 4.92155400};
        fVar5 = 267.70900000;
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
        {
             /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), vVar2, fVar5 );
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 0 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.58370100, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -8.11982300, 1065353216, 0 );
         /* P_FADE_IN_AND_WAIT */ sub_7800( 1000 );
        l_U105 = 0;
    }
    if (l_U106)
    {
         /* CLEANOBJECT */ sub_9251( l_U108 );
         /* CLEANOBJECT */ sub_9251( l_U109 );
         /* LOADMODEL */ sub_9371( 1931667416, 1 );
         /* LOADMODEL */ sub_9371( 297242865, 1 );
        l_U108 =  /* CREATEOBJECTNOOFFSET */ sub_9756( 1931667416, 64558, -8, -0.50000000, 0, 0, 0, 0, 0, 0 );
        l_U109 =  /* CREATEOBJECTNOOFFSET */ sub_9756( 297242865, 64558, -8, -0.50000000, 0, 0, 0, 0, 0, 0 );
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U108, "ofc_firlby_rm" );
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U109, "ofc_firlby_rm" );
        FREEZE_OBJECT_POSITION( l_U108, 1 );
        FREEZE_OBJECT_POSITION( l_U109, 1 );
        PLAY_OBJECT_ANIM( l_U108, "P_AN_MTLWLK_AA_H", "of_stairs", 0.00000000, 0, 1 );
        PLAY_OBJECT_ANIM( l_U109, "P_AN_MTLWLK_AB_H", "of_stairs", 0.00000000, 0, 1 );
        l_U106 = 0;
    }
    if (l_U107)
    {
         /* CLEANOBJECT */ sub_9251( l_U108 );
         /* CLEANOBJECT */ sub_9251( l_U109 );
        l_U107 = 0;
    }
    return;
}

/* P_HANDLE_S_OFFICE_VIG_22A */ void sub_11538()
{
    unknown uVar2;
    unknown uVar3;

    if (l_U110 == 0)
    {
        START_WIDGET_GROUP( "Vig22A" );
        ADD_WIDGET_BOOL( "Teleport player to the Sequence", ref l_U111 );
        ADD_WIDGET_BOOL( " start sequence as it will appear in game", ref l_U328 );
        ADD_WIDGET_BOOL( "bTestLiftAnim", ref l_U174 );
        START_WIDGET_GROUP( "Duct cam angle tuning" );
        ADD_WIDGET_FLOAT_SLIDER( "Duct 1 angle offset", ref l_U329, 1.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Duct 2 angle offset", ref l_U330, 1.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Duct 1 pitch offset", ref l_U331, -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Duct 2 pitch offset", ref l_U332, -360.00000000, 360.00000000, 1.00000000 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "positions" );
        ADD_WIDGET_FLOAT_SLIDER( "Position X", ref l_U171._fU0, 60536, 5000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Position Y", ref l_U171._fU4, 60536, 5000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Position Z", ref l_U171._fU8, 60536, 5000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Heading", ref l_U170, 60536, 5000, 0.10000000 );
        ADD_WIDGET_INT_SLIDER( "iInterpduration ", ref l_U237, 0, 20000, 100 );
        ADD_WIDGET_FLOAT_SLIDER( "vLiftObjectPOS X", ref l_U325._fU0, 60536, 5000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "vLiftObjectPOS Y", ref l_U325._fU4, 60536, 5000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "vLiftObjectPOS Z", ref l_U325._fU8, 60536, 5000, 0.10000000 );
        STOP_WIDGET_GROUP();
        ADD_WIDGET_BOOL( "Start Vig22A", ref l_U112 );
        ADD_WIDGET_BOOL( "Act Int 01", ref l_U114 );
        ADD_WIDGET_BOOL( "Act Int 02", ref l_U115 );
        ADD_WIDGET_BOOL( "Act Int 03", ref l_U116 );
        ADD_WIDGET_BOOL( "Act Int 04", ref l_U117 );
        ADD_WIDGET_BOOL( "Cleanup", ref l_U113 );
        START_WIDGET_GROUP( "Mash Test" );
        ADD_WIDGET_BOOL( "Setup Button Mash Struct", ref l_U118 );
        ADD_WIDGET_BOOL( "Handle Button Mashing", ref l_U119 );
        ADD_WIDGET_FLOAT_SLIDER( "Initial Power", ref l_U155, 0.00000000, 100.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Increment Amount", ref l_U156, 0.00000000, 100.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Decrement Amount", ref l_U157, 0.00000000, 100.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Decrement Delta Amount", ref l_U158, 0.00000000, 100.00000000, 1.00000000 );
        ADD_WIDGET_INT_SLIDER( "Decrement Time", ref l_U159, 0, 999999, 100 );
        ADD_WIDGET_STRING( "stage 2" );
        ADD_WIDGET_FLOAT_SLIDER( "Initial Power", ref l_U160, 0.00000000, 100.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Increment Amount", ref l_U161, 0.00000000, 100.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Decrement Amount", ref l_U162, 0.00000000, 100.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Decrement Delta Amount", ref l_U163, 0.00000000, 100.00000000, 1.00000000 );
        ADD_WIDGET_INT_SLIDER( "Decrement Time", ref l_U164, 0, 999999, 100 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        while (NOT (REQUEST_SCRIPT_AUDIO_BANK( "SCRIPT_MISSION\S_OFFICE_POST_FIRE_1" )))
        {
             /* WRITESCRIPTLOG */ sub_2982( "SA", "Requestng Script Audio Bank - SCRIPT_MISSION\S_OFFICE_POST_FIRE_1", "###" );
            WAIT( 0 );
        }
        l_U110 = 1;
    }
    if (l_U174)
    {
         /* LOADANIMDICT */ sub_3712( "LEVEL_S_OFFICE_INJ", 0, 1 );
        PLAY_OBJECT_ANIM( l_U324, "VIG_22A_OFF_GROUNDLIFT_IDLE_duct", "LEVEL_S_OFFICE_INJ", 0.00000000, 1, 0 );
        l_U174 = 0;
    }
    if (l_U111)
    {
         /* P_FADE_OUT_AND_WAIT */ sub_7544( 1000 );
         /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), -1020.19100000, 28.65538000, 4.92932900, 73.68000000 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 1 );
        }
        uVar2 = GET_HASH_KEY( ref g_U1129 );
        uVar3 = GET_INTERIOR_FROM_NAME( ref g_U1129, 0 );
        SET_INTERIOR_ACTIVE( uVar3, 1, 0 );
        LOAD_SCENE_FOR_ROOM_BY_KEY( uVar3, uVar2 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 0 );
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 1, 0 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -6.60000000, 1065353216, 0 );
         /* NIS_RETURN_TO_GAMEPLAY_CAM */ sub_13559( 1000, 0, 0, -859915232, -859915232, 0 );
         /* P_FADE_IN_AND_WAIT */ sub_7800( 1000 );
        ENABLE_GRAVITY_WELL( "s_office_fireatrium_gravitywells", "GRAVITY_WELL_PILLAR_DEBUG", 1, 0, 0, 0 );
         /* P_CREATEPOISTRUCTCOORD */ sub_13822( ref l_U238, 1, -1024.38000000, 29.54000000, 5.85000000, l_U171, -1014.36000000, 1.98000000, 4.90000000, 1.50000000, 1.50000000, 1, 0 );
         /* P_ENABLEPOIGLINT */ sub_14429( ref l_U238, 1 );
         /* P_SET_INTERACTIVE_TEXT */ sub_14783( ref l_U238, 22, "POI_PILLAR" );
         /* P_SETUP_POI_MASHABLE */ sub_14993( ref l_U238, 1 );
         /* P_SETUP_PLAYER */ sub_15043();
         /* CLEANOBJECT */ sub_9251( l_U324 );
         /* LOADMODEL */ sub_9371( -776623679, 1 );
        l_U324 =  /* CREATEOBJECTNOOFFSET */ sub_9756( -776623679, l_U325, 0.00000000, 0.00000000, 180.00000000, 0, 0, 0 );
        if (DOES_OBJECT_EXIST( l_U324 ))
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U324, ref g_U1129 );
            FREEZE_OBJECT_POSITION( l_U324, 1 );
        }
        l_U111 = 0;
    }
    if (l_U328)
    {
        if ( /* F_HANDLE_POI */ sub_15678( ref l_U238 ))
        {
             /* P_ENABLEPOIGLINT */ sub_14429( ref l_U238, 0 );
            SET_CAMERA_OVERRIDE( "S_OFFICE_FIRE_DUCT1", "S_OFFICE_FIRE_DUCT1", 0, 1, 1 );
            SET_RAIL_RELATIVE_DIR( 5, l_U329 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U331, 1065353216, 0 );
            if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_3138() )))
            {
                SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 0, 0 );
            }
            if (DOES_OBJECT_EXIST( l_U324 ))
            {
                SET_OBJECT_COLLISION( l_U324, 0 );
            }
            ENABLE_GRAVITY_WELL( "s_office_fireatrium_gravitywells", "GRAVITY_WELL_PILLAR_DEBUG", 0, 0, 0, 0 );
            l_U328 = 0;
            l_U112 = 1;
            l_U118 = 1;
            l_U119 = 1;
        }
    }
    if (l_U112)
    {
        ISEQ_UNREGISTER_ENTITY( 863477068, "MAX" );
        ISEQ_UNREGISTER_ENTITY( 863477068, "PROPLIFT" );
         /* TERMINATEISEQ */ sub_6203( 863477068, 1 );
         /* LOADISEQ */ sub_6510( 863477068, 1 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
        {
             /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), l_U171, l_U170 );
        }
        ISEQ_REGISTER_ENTITY( 863477068, "MAX",  /* PLAYER_PED_ID */ sub_3100(), 0 );
        ISEQ_REGISTER_ENTITY( 863477068, "PROPLIFT", l_U324, 1 );
        ISEQ_START( 863477068 );
         /* P_SETUP_PLAYER_BUTTONMASH */ sub_18730();
        DO_SCREEN_FADE_IN( 0 );
        l_U112 = 0;
    }
    if (l_U113)
    {
        ISEQ_UNREGISTER_ENTITY( 863477068, "MAX" );
        ISEQ_UNREGISTER_ENTITY( 863477068, "PROPLIFT" );
         /* TERMINATEISEQ */ sub_6203( 863477068, 1 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
        {
            PED_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_3100(), "/Global/Player/PlayerLoco" );
        }
        SET_CAMERA_OVERRIDE( "", "", 1, 1, 1 );
        DESTROY_ALL_CAMS();
        RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
         /* CLEANOBJECT */ sub_9251( l_U324 );
        l_U113 = 0;
    }
    if (l_U114 == 1)
    {
        if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() ))) AND (DOES_PED_EXIST(  /* PLAYER_PED_ID */ sub_3100() )))
        {
             /* WRITESCRIPTLOG */ sub_2982( "CO", "ACT_INT_SEQ_ACTION01", 0 );
            PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
        l_U114 = 0;
    }
    if (l_U115 == 1)
    {
        if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0) AND ((DOES_PED_EXIST(  /* PLAYER_PED_ID */ sub_3100() )) == 1))
        {
             /* WRITESCRIPTLOG */ sub_2982( "CO", "ACT_INT_SEQ_ACTION02", 0 );
            PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 48, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
        l_U115 = 0;
    }
    if (l_U116 == 1)
    {
        if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0) AND ((DOES_PED_EXIST(  /* PLAYER_PED_ID */ sub_3100() )) == 1))
        {
             /* WRITESCRIPTLOG */ sub_2982( "CO", "ACT_INT_SEQ_ACTION03", 0 );
            PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 49, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
        l_U116 = 0;
    }
    if (l_U117 == 1)
    {
        if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0) AND ((DOES_PED_EXIST(  /* PLAYER_PED_ID */ sub_3100() )) == 1))
        {
             /* WRITESCRIPTLOG */ sub_2982( "CO", "ACT_INT_SEQ_ACTION04", 0 );
            PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 50, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
        l_U117 = 0;
    }
    if (l_U118 == 1)
    {
         /* P_CREATEBUTTONMASHSTRUCT */ sub_19843( ref l_U123, l_U155, l_U156, l_U157, l_U158, l_U159 );
         /* P_CREATEBUTTONMASHSTRUCT */ sub_19843( ref l_U139, l_U160, l_U161, l_U162, l_U163, l_U164 );
        l_U121 = 0;
        l_U120 = 0;
        l_U118 = 0;
    }
    if (l_U119 == 1)
    {
        if (l_U121 != 2)
        {
            SET_RAIL_RELATIVE_DIR( 5, l_U329 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U331, 1065353216, 0 );
        }
        else
        {
            SET_RAIL_RELATIVE_DIR( 5, l_U330 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U332, 1065353216, 0 );
        }
        if ((ISEQ_QUERY_STATE( 863477068, 3 )) == 1)
        {
             /* P_ENABLEPOIGLINT */ sub_14429( ref l_U238, 0 );
            if ( /* F_IS_PLAYER_READY_FOR_BUTTON_MASH */ sub_20403())
            {
                l_U333 =  /* F_HANDLE_BUTTON_MASH */ sub_20573( ref l_U123 );
                switch (l_U333)
                {
                    case 0:
                    if (l_U121 == 0)
                    {
                         /* WRITESCRIPTLOG */ sub_2982( "NS", "pillPushState = PILL_PUSH_IDLE", 0 );
                        if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() ))) AND (DOES_PED_EXIST(  /* PLAYER_PED_ID */ sub_3100() )))
                        {
                            PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 48, 1000, 0.00000000, 0.00000000, 0.00000000 );
                        }
                         /* P_PLAY_AUD_LIFT */ sub_21267();
                        l_U121 = 1;
                    }
                    break;
                    case 1:
                    if (l_U121 == 1)
                    {
                         /* WRITESCRIPTLOG */ sub_2982( "NS", "pillPushState = PILL_PUSH_STRUGGLING", 0 );
                        if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() ))) AND (DOES_PED_EXIST(  /* PLAYER_PED_ID */ sub_3100() )))
                        {
                            PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 50, 1000, 0.00000000, 0.00000000, 0.00000000 );
                        }
                        SET_CAMERA_OVERRIDE( "S_OFFICE_FIRE_DUCT2", "S_OFFICE_FIRE_DUCT2", 1, 1, 1 );
                        SET_RAIL_RELATIVE_DIR( 5, l_U330 );
                        SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U332, 1065353216, 0 );
                         /* P_ENABLE_POI */ sub_17056( ref l_U238, 0 );
                        l_U121 = 2;
                    }
                    break;
                    case 2:
                    if (l_U121 == 1)
                    {
                         /* WRITESCRIPTLOG */ sub_2982( "NS", "pillPushState = PILL_PUSH_STRUGGLING1", 0 );
                        if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() ))) AND (DOES_PED_EXIST(  /* PLAYER_PED_ID */ sub_3100() )))
                        {
                            PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
                        }
                         /* P_PLAY_AUD_LOWER */ sub_21760();
                        l_U121 = 0;
                    }
                    break;
                }
            }
        }
        if ( /* ISTIMERDONE */ sub_20681( ref l_U334 ))
        {
             /* P_PLAY_AUD_GRUNT */ sub_21886();
        }
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
        {
            if ((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_3100(), 52 )) == 3)
            {
                 /* WRITESCRIPTLOG */ sub_2982( "NS", "ACTION INTENTION FOR FINISH HIT!!!", 0 );
                l_U119 = 0;
                if (DOES_OBJECT_EXIST( l_U324 ))
                {
                    SET_OBJECT_COLLISION( l_U324, 1 );
                }
                SET_CAMERA_OVERRIDE( "", "", 1, 1, 1 );
                PED_FINISH_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 52 );
                 /* P_SETUP_PLAYER */ sub_15043();
            }
        }
    }
    return;
}

/* NIS_RETURN_TO_GAMEPLAY_CAM */ void sub_13559(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, float fParam4, unknown uParam5)
{
    SET_CAM_SIDE_LEFT( uParam2 );
    if (fParam4 != -1E8)
    {
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( uParam3, 1065353216, 0 );
    }
    if (fParam4 != -1E8)
    {
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( fParam4, 1065353216, 0 );
    }
    RENDER_SCRIPT_CAMS( 0, uParam1, uParam0, uParam5 );
    return;
}

/* P_CREATEPOISTRUCTCOORD */ void sub_13822(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14)
{
     /* P_CREATEBLANKPOISTRUCT */ sub_13862( iParam0, uParam13 );
    iParam0->_fU4 = uParam1;
    iParam0->_fU100 = {uParam5};
    iParam0->_fU112 = uParam11;
    iParam0->_fU200 = {uParam8};
    iParam0->_fU212 = uParam12;
    iParam0->_fU320 = uParam14;
    iParam0->_fU20 = {uParam2};
     /* P_CREATEPOIGLINT */ sub_14255( iParam0 );
    return;
}

/* P_CREATEBLANKPOISTRUCT */ void sub_13862(int iParam0, unknown uParam1)
{
    iParam0->_fU0 = uParam1;
    iParam0->_fU4 = 0;
    iParam0->_fU8 = 0;
    iParam0->_fU12 = nil;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = {0.00000000, 0.00000000, 0.00000000};
    iParam0->_fU52 = 1;
    iParam0->_fU56 = 1;
    iParam0->_fU60 = 0;
    iParam0->_fU64 = 0;
    iParam0->_fU68 = 0;
    iParam0->_fU72 = 0;
    iParam0->_fU76 = 0;
    iParam0->_fU80 = 0;
    iParam0->_fU84 = 0;
    iParam0->_fU100 = {0.00000000, 0.00000000, 0.00000000};
    iParam0->_fU112 = 0.00000000;
    iParam0->_fU88 = 0;
    iParam0->_fU92 = 0;
    iParam0->_fU96 = 0;
    iParam0->_fU200 = {0.00000000, 0.00000000, 0.00000000};
    iParam0->_fU212 = 0.00000000;
    iParam0->_fU300 = 0;
    iParam0->_fU304 = 1;
    iParam0->_fU308 = 0;
    iParam0->_fU324 = 1;
    iParam0->_fU328 = 0;
    iParam0->_fU340 = 0;
    iParam0->_fU336 = 0.20000000;
    return;
}

/* P_CREATEPOIGLINT */ void sub_14255(int iParam0)
{
    if (iParam0->_fU12 != nil)
    {
        if ((DOES_GLINT_EXIST( iParam0->_fU12 )) == 1)
        {
            REMOVE_GLINT( iParam0->_fU12 );
        }
    }
    iParam0->_fU12 = CREATE_GLINT( iParam0->_fU16, iParam0->_fU20 );
     /* P_INITPOIGLINT */ sub_14353( iParam0 );
    return;
}

/* P_INITPOIGLINT */ void sub_14353(int iParam0)
{
    if (iParam0->_fU0 == 1)
    {
        if (iParam0->_fU320 == 1)
        {
            if ((iParam0->_fU8 > 0) AND (iParam0->_fU4 == 0))
            {
                 /* P_ENABLEPOIGLINT */ sub_14429( iParam0, 1 );
            }
            else if ((iParam0->_fU8 < 2) AND (iParam0->_fU4 == 1))
            {
                 /* P_ENABLEPOIGLINT */ sub_14429( iParam0, 1 );
            }
            else if ((iParam0->_fU8 == 1) AND (iParam0->_fU4 == 2))
            {
                 /* P_ENABLEPOIGLINT */ sub_14429( iParam0, 1 );
            }
            else
            {
                 /* P_ENABLEPOIGLINT */ sub_14429( iParam0, 0 );
            };;;
        }
        else
        {
             /* P_ENABLEPOIGLINT */ sub_14429( iParam0, 0 );
        }
    }
    else
    {
         /* P_ENABLEPOIGLINT */ sub_14429( iParam0, 0 );
    }
    return;
}

/* P_ENABLEPOIGLINT */ void sub_14429(int iParam0, int iParam1)
{
    if (iParam1 == 1)
    {
        if (iParam0->_fU12 != nil)
        {
            if ((DOES_GLINT_EXIST( iParam0->_fU12 )) == 1)
            {
                ENABLE_GLINT( iParam0->_fU12, 1 );
            }
            else
            {
                iParam0->_fU12 = CREATE_GLINT( iParam0->_fU16, iParam0->_fU20 );
            }
        }
        else
        {
            iParam0->_fU12 = CREATE_GLINT( iParam0->_fU16, iParam0->_fU20 );
        }
    }
    else if (iParam0->_fU12 != nil)
    {
        if ((DOES_GLINT_EXIST( iParam0->_fU12 )) == 1)
        {
            ENABLE_GLINT( iParam0->_fU12, 0 );
        }
    }
    return;
}

/* P_SET_INTERACTIVE_TEXT */ void sub_14783(int iParam0, unknown uParam1, unknown uParam2)
{
    StrCopy( ref iParam0->_fU32, uParam2, 16 );
    iParam0->_fU48 = uParam1;
     /* P_INITINTERACTIVETEXT */ sub_14839( iParam0 );
    return;
}

/* P_INITINTERACTIVETEXT */ void sub_14839(int iParam0)
{
    if ((iParam0->_fU8 == 2) AND (iParam0->_fU0 == 1))
    {
        if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
        {
            SET_INTERACTIONTEXT_BUTTON( iParam0->_fU48 );
            SET_INTERACTIONTEXT_TEXT( iParam0 + 32 );
            SET_INTERACTIONTEXT_VISIBLE( 1 );
            SET_INTERACTIONTEXT_BUTTON_VISIBLE( 1 );
            SET_INTERACTIONTEXT_AVAILABLE( 1 );
            iParam0->_fU56 = 1;
        }
    }
    return;
}

/* P_SETUP_POI_MASHABLE */ void sub_14993(int iParam0, unknown uParam1)
{
    iParam0->_fU332 = uParam1;
    return;
}

/* P_SETUP_PLAYER */ void sub_15043()
{
     /* WRITESCRIPTLOG */ sub_2982( "SP", "P_SETUP_PLAYER", 0 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
    {
        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 1, 256 );
        SET_PED_PROOFS(  /* PLAYER_PED_ID */ sub_3100(), 0, 0, 0, 0, 0 );
        SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_3100(), 1 );
        ENABLE_PED_JUMPING(  /* PLAYER_PED_ID */ sub_3100(), 0 );
        REMOVE_ALL_PED_WEAPONS(  /* PLAYER_PED_ID */ sub_3100() );
         /* P_LIMIT_PLAYER_ACTIONS */ sub_15187();
         /* LOADACTIONTREE */ sub_3906( "Level/s_office/s_off_inj", 1 );
        if (IS_ACTION_TREE_LOADED( "Level/s_office/s_off_inj" ))
        {
            PED_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_3100(), "/Global/S_OFF_INJ1/S_OFF_INJ1/S_OFF_INJ" );
        }
    }
    return;
}

/* P_LIMIT_PLAYER_ACTIONS */ void sub_15187()
{
     /* WRITESCRIPTLOG */ sub_2982( "SA", "P_LIMIT_PLAYER_ACTIONS", "###" );
    if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0) AND ((IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_3138() )) == 0))
    {
        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 0, 256 );
        REENABLE_PLAYER_INPUT( 7 );
        REENABLE_PLAYER_INPUT( 10 );
        REENABLE_PLAYER_INPUT( 11 );
        REENABLE_PLAYER_INPUT( 12 );
        REENABLE_PLAYER_INPUT( 13 );
        REENABLE_PLAYER_INPUT( 14 );
        REENABLE_PLAYER_INPUT( 15 );
        REENABLE_PLAYER_INPUT( 16 );
        REENABLE_PLAYER_INPUT( 17 );
        REENABLE_PLAYER_INPUT( 19 );
        REENABLE_PLAYER_INPUT( 22 );
        REENABLE_PLAYER_INPUT( 18 );
    }
    return;
}

/* F_HANDLE_POI */ int sub_15678(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    int iVar6;
    int iVar7;
    int iVar8;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
    {
        if (iParam0->_fU0 == 1)
        {
            uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS(  /* PLAYER_PED_ID */ sub_3100() )};
            iVar6 = 0;
            if (iParam0->_fU80 == 1)
            {
                if (( /* F_ISPEDINTRIGGERBOX */ sub_8682(  /* PLAYER_PED_ID */ sub_3100(), iParam0->_fU116 )) == 1)
                {
                    if (iParam0->_fU300 == 1)
                    {
                        if (((IS_OBJECT_ON_SCREEN( iParam0->_fU312 )) == 1) AND ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1))
                        {
                            iVar6 = 1;
                        }
                    }
                    else
                    {
                        iVar6 = 1;
                    }
                }
            }
            else if ((iParam0->_fU308 == 1) AND (iParam0->_fU84 == 1))
            {
                if ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_OBJECT_COORDS( iParam0->_fU312 ), 1 )) <= iParam0->_fU112)
                    {
                        if (iParam0->_fU300 == 1)
                        {
                            if ((IS_OBJECT_ON_SCREEN( iParam0->_fU312 )) == 1)
                            {
                                iVar6 = 1;
                            }
                        }
                        else
                        {
                            iVar6 = 1;
                        }
                    }
                }
            }
            else if (iParam0->_fU96 == 1)
            {
                if ((DOES_PED_EXIST( iParam0->_fU316 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU316 ), 1 )) <= iParam0->_fU112)
                    {
                        if (iParam0->_fU300 == 1)
                        {
                            if ((IS_PED_ON_SCREEN( iParam0->_fU316, 0 )) == 1)
                            {
                                iVar6 = 1;
                            }
                        }
                        else
                        {
                            iVar6 = 1;
                        }
                    }
                }
            }
            else if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, iParam0->_fU100, 1 )) <= iParam0->_fU112)
            {
                if (iParam0->_fU300 == 1)
                {
                    if (((IS_OBJECT_ON_SCREEN( iParam0->_fU312 )) == 1) AND ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1))
                    {
                        iVar6 = 1;
                    }
                }
                else
                {
                    iVar6 = 1;
                }
            };;;;
            iVar7 = 0;
            if (iParam0->_fU88 == 1)
            {
                if (( /* F_ISPEDINTRIGGERBOX */ sub_8682(  /* PLAYER_PED_ID */ sub_3100(), iParam0->_fU216 )) == 1)
                {
                    iVar7 = 1;
                }
            }
            else if ((iParam0->_fU308 == 1) AND (iParam0->_fU92 == 1))
            {
                if ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_OBJECT_COORDS( iParam0->_fU312 ), 1 )) <= iParam0->_fU212)
                    {
                        iVar7 = 1;
                    }
                }
            }
            else if (iParam0->_fU96 == 1)
            {
                if ((DOES_PED_EXIST( iParam0->_fU316 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU316 ), 1 )) <= iParam0->_fU212)
                    {
                        iVar7 = 1;
                    }
                }
            }
            else if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, iParam0->_fU200, 1 )) <= iParam0->_fU212)
            {
                iVar7 = 1;
            };;;;
            if (iVar6 == 1)
            {
                if ((iParam0->_fU4 != 3) AND (iParam0->_fU52 == 1))
                {
                    if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                    {
                         /* P_UPDATEINTERACTIONTEXTAVAILABLE */ sub_16523( iParam0 );
                    }
                    iVar8 = 0;
                    if ((IS_WEAPON_PICKUP_VISIBLE() == 0) AND ((iParam0->_fU60 == 0) AND (( /* F_ISACTIONINGAVAILABLE */ sub_16619( iParam0 )) == 1)))
                    {
                        SET_ACTION_CONSUMED( 0, 1 );
                        if (( /* F_HASACTIONBEENPRESSED */ sub_16954()) == 1)
                        {
                            iVar8 = 1;
                        }
                    }
                    if (iVar8 == 1)
                    {
                        if (iParam0->_fU332 == 0)
                        {
                             /* P_ENABLE_POI */ sub_17056( iParam0, 0 );
                            iParam0->_fU64 = 1;
                        }
                        if (iParam0->_fU68 == 1)
                        {
                            iParam0->_fU72 = 0;
                        }
                        return 1;
                    }
                    else if (iParam0->_fU8 != 2)
                    {
                        if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                        {
                             /* P_ENABLEPOIGLINT */ sub_14429( iParam0, 0 );
                             /* P_ENABLEPOIINTERACTIONTEXT */ sub_17142( iParam0, 1 );
                        }
                        else if (iParam0->_fU320 == 1)
                        {
                             /* P_ENABLEPOIGLINT */ sub_14429( iParam0, 1 );
                        }
                        iParam0->_fU8 = 2;
                    }
                    if ((iParam0->_fU328 == 0) AND (iParam0->_fU324 == 1))
                    {
                        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
                        {
                            SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_3100(), 1 );
                            iParam0->_fU328 = 1;
                        }
                    }
                }
            }
            else if (iVar7 == 1)
            {
                if (iParam0->_fU8 != 1)
                {
                    if ((iParam0->_fU4 != 3) AND (iParam0->_fU320 == 1))
                    {
                         /* P_ENABLEPOIGLINT */ sub_14429( iParam0, 1 );
                    }
                    if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                    {
                         /* P_ENABLEPOIINTERACTIONTEXT */ sub_17142( iParam0, 0 );
                    }
                    if (iParam0->_fU96 == 1)
                    {
                        if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0) AND ((((IS_PED_DEAD( iParam0->_fU316 )) == 1) || ((IS_PED_DEAD( iParam0->_fU316 )) == 0)) AND ((DOES_PED_EXIST( iParam0->_fU316 )) == 1)))
                        {
                            TASK_LOOK_AT_PED(  /* PLAYER_PED_ID */ sub_3100(), iParam0->_fU316, -1, 0 );
                        }
                    }
                    else if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
                    {
                        TASK_LOOK_AT_COORD(  /* PLAYER_PED_ID */ sub_3100(), iParam0->_fU100, -1, 0 );
                    }
                    iParam0->_fU340 = 1;
                    if ((iParam0->_fU72 == 0) AND ((iParam0->_fU68 == 1) AND ((iParam0->_fU64 == 1) AND (iParam0->_fU8 == 2))))
                    {
                        iParam0->_fU72 = 1;
                    }
                    iParam0->_fU8 = 1;
                }
                if ((iParam0->_fU328 == 0) AND (iParam0->_fU324 == 1))
                {
                    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
                    {
                        SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_3100(), 1 );
                        iParam0->_fU328 = 1;
                    }
                }
            }
            else if ((iParam0->_fU4 == 1) || (iParam0->_fU4 == 3))
            {
                ;
            }
            else if (iParam0->_fU8 != 0)
            {
                if (iParam0->_fU320 == 1)
                {
                     /* P_ENABLEPOIGLINT */ sub_14429( iParam0, 0 );
                }
            }
            if (iParam0->_fU8 == 2)
            {
                if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                {
                     /* P_ENABLEPOIINTERACTIONTEXT */ sub_17142( iParam0, 0 );
                }
            }
            if (iParam0->_fU340)
            {
                if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
                {
                    TASK_CLEAR_LOOK_AT(  /* PLAYER_PED_ID */ sub_3100() );
                    iParam0->_fU340 = 0;
                }
            }
            if ((iParam0->_fU328 == 1) AND (iParam0->_fU324 == 1))
            {
                if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
                {
                    SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_3100(), 0 );
                    iParam0->_fU328 = 0;
                }
            }
            if (iParam0->_fU332 == 1)
            {
                 /* P_ENABLEPOIINTERACTIONTEXT */ sub_17142( iParam0, 0 );
            }
            iParam0->_fU8 = 0;;;
        }
    }
    return 0;
}

/* P_UPDATEINTERACTIONTEXTAVAILABLE */ void sub_16523(int iParam0)
{
    if (iParam0->_fU60 == 1)
    {
        SET_INTERACTIONTEXT_AVAILABLE( 0 );
        iParam0->_fU56 = 0;
    }
    else if (iParam0->_fU56 == 1)
    {
        if (( /* F_ISACTIONINGAVAILABLE */ sub_16619( iParam0 )) == 0)
        {
            SET_INTERACTIONTEXT_AVAILABLE( 0 );
            iParam0->_fU56 = 0;
        }
    }
    else if (( /* F_ISACTIONINGAVAILABLE */ sub_16619( iParam0 )) == 1)
    {
        SET_INTERACTIONTEXT_AVAILABLE( 1 );
        iParam0->_fU56 = 1;
    };;;
    return;
}

/* F_ISACTIONINGAVAILABLE */ int sub_16619(int iParam0)
{
    if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0) AND ((IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_3138() )) == 0))
    {
        if (((IS_PED_RELOADING(  /* PLAYER_PED_ID */ sub_3100() )) == 1) || (((IS_PED_GETTING_UP(  /* PLAYER_PED_ID */ sub_3100() )) == 1) || (((IS_PED_PICKING_UP_PICKUP(  /* PLAYER_PED_ID */ sub_3100() )) == 1) || (((IS_PED_IN_COVER(  /* PLAYER_PED_ID */ sub_3100() )) == 1) || (((IS_PED_DUCKING(  /* PLAYER_PED_ID */ sub_3100() )) == 1) || (IS_PLAYER_SHOOTDODGING() == 1))))))
        {
            return 0;
        }
        if (iParam0->_fU304 == 0)
        {
            if ((IS_MONOLOGUE_PLAYING() == 1) || ((IS_ANY_SPEECH_PLAYING(  /* PLAYER_PED_ID */ sub_3100() )) == 1))
            {
                return 0;
            }
        }
        return 1;
    }
    return 0;
}

/* F_HASACTIONBEENPRESSED */ int sub_16954()
{
    if ((IS_CONTROL_JUST_PRESSED( 0, 30 )) == 1)
    {
        return 1;
    }
    return 0;
}

/* P_ENABLE_POI */ void sub_17056(int iParam0, int iParam1)
{
    if (iParam1 == 1)
    {
        if ((iParam0->_fU4 == 1) AND (iParam0->_fU320 == 1))
        {
             /* P_ENABLEPOIGLINT */ sub_14429( iParam0, 1 );
        }
        iParam0->_fU0 = 1;
    }
    else
    {
         /* P_ENABLEPOIGLINT */ sub_14429( iParam0, 0 );
         /* P_ENABLEPOIINTERACTIONTEXT */ sub_17142( iParam0, 0 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            TASK_CLEAR_LOOK_AT(  /* PLAYER_PED_ID */ sub_3100() );
            if ((iParam0->_fU328 == 1) AND (iParam0->_fU324 == 1))
            {
                SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_3100(), 0 );
                iParam0->_fU328 = 0;
            }
        }
        iParam0->_fU8 = 0;
        iParam0->_fU0 = 0;
    }
    return;
}

/* P_ENABLEPOIINTERACTIONTEXT */ void sub_17142(int iParam0, int iParam1)
{
    if (iParam1 == 1)
    {
        SET_INTERACTIONTEXT_TEXT( iParam0 + 32 );
        SET_INTERACTIONTEXT_BUTTON( iParam0->_fU48 );
        if ((iParam0->_fU72 == 0) AND ((iParam0->_fU64 == 1) AND (iParam0->_fU68 == 1)))
        {
            SET_INTERACTIONTEXT_VISIBLE( 0 );
            SET_INTERACTIONTEXT_BUTTON_VISIBLE( 0 );
            SET_INTERACTIONTEXT_AVAILABLE( 0 );
            iParam0->_fU56 = 0;
        }
        else
        {
            SET_INTERACTIONTEXT_VISIBLE( 1 );
            SET_INTERACTIONTEXT_BUTTON_VISIBLE( 1 );
            SET_INTERACTIONTEXT_AVAILABLE( 1 );
            iParam0->_fU56 = 1;
        }
         /* P_UPDATEINTERACTIONTEXTAVAILABLE */ sub_16523( iParam0 );
        if (iParam0->_fU332 == 1)
        {
            SET_INTERACTIONTEXT_PULSE( 1 );
            SET_INTERACTIONTEXT_PULSE_PERIOD( iParam0->_fU336 );
        }
    }
    else
    {
        SET_INTERACTIONTEXT_VISIBLE( 0 );
        SET_INTERACTIONTEXT_BUTTON_VISIBLE( 0 );
    }
    return;
}

/* P_SETUP_PLAYER_BUTTONMASH */ void sub_18730()
{
     /* WRITESCRIPTLOG */ sub_2982( "SP", "P_SETUP_PLAYER_Cabinet", 0 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
    {
        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 1, 256 );
        SET_PED_PROOFS(  /* PLAYER_PED_ID */ sub_3100(), 0, 0, 0, 0, 0 );
        SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_3100(), 1 );
        ENABLE_PED_JUMPING(  /* PLAYER_PED_ID */ sub_3100(), 0 );
        REMOVE_ALL_PED_WEAPONS(  /* PLAYER_PED_ID */ sub_3100() );
        if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0) AND ((IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_3138() )) == 0))
        {
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 0, 256 );
            REENABLE_PLAYER_INPUT( 7 );
            REENABLE_PLAYER_INPUT( 14 );
            REENABLE_PLAYER_INPUT( 15 );
            REENABLE_PLAYER_INPUT( 16 );
            REENABLE_PLAYER_INPUT( 17 );
            REENABLE_PLAYER_INPUT( 19 );
            REENABLE_PLAYER_INPUT( 22 );
            REENABLE_PLAYER_INPUT( 18 );
        }
         /* LOADACTIONTREE */ sub_3906( "Level/s_office/s_off_inj", 1 );
        if (IS_ACTION_TREE_LOADED( "Level/s_office/s_off_inj" ))
        {
            PED_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_3100(), "/Global/S_OFF_INJ1/S_OFF_INJ1/S_OFF_INJ" );
        }
    }
    return;
}

/* P_CREATEBUTTONMASHSTRUCT */ void sub_19843(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    iParam0->_fU0 = uParam1;
    iParam0->_fU4 = uParam1;
    iParam0->_fU8 = uParam2;
    iParam0->_fU12 = uParam3;
    iParam0->_fU16 = uParam4;
    iParam0->_fU24 = uParam5;
    iParam0->_fU20 = 0.00000000;
     /* CREATETIMER */ sub_19943( iParam0 + 28, iParam0->_fU24, 1, 0 );
     /* STARTTIMER */ sub_20093( iParam0 + 28 );
    return;
}

/* CREATETIMER */ void sub_19943(int iParam0, unknown uParam1, boolean bParam2, int iParam3)
{
    if (bParam2)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam3 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU12 = uParam1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = bParam2;
    iParam0->_fU32 = iParam3;
    iParam0->_fU8 = 0;
    return;
}

/* STARTTIMER */ void sub_20093(int iParam0)
{
    if (NOT iParam0->_fU20)
    {
        iParam0->_fU20 = 1;
        iParam0->_fU16 = 0;
        if (iParam0->_fU28)
        {
            iParam0->_fU0 = TIMERA();
        }
        else
        {
            iParam0->_fU0 = TIMERB();
        }
        if (iParam0->_fU32 == 1)
        {
            iParam0->_fU0 = TIMERSYSTEM();
        }
        iParam0->_fU4 = iParam0->_fU0;
    }
    return;
}

/* F_IS_PLAYER_READY_FOR_BUTTON_MASH */ int sub_20403()
{
    if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0) AND ((DOES_PED_EXIST(  /* PLAYER_PED_ID */ sub_3100() )) == 1))
    {
        if ((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_3100(), 55 )) == 3)
        {
             /* WRITESCRIPTLOG */ sub_2982( "NS", "player not ready for button mash", 0 );
            return 0;
        }
    }
    return 1;
}

/* F_HANDLE_BUTTON_MASH */ int sub_20573(int iParam0)
{
    float fVar3;

    SET_ACTION_CONSUMED( 2, 1 );
    if ((IS_CONTROL_JUST_PRESSED( 2, 30 )) == 1)
    {
        iParam0->_fU0 += iParam0->_fU8;
        iParam0->_fU20 = 0;
    }
    else
    {
        iParam0->_fU20 += GET_REAL_FRAME_TIME();
    }
    if (( /* ISTIMERDONE */ sub_20681( iParam0 + 28 )) == 1)
    {
        fVar3 = iParam0->_fU12 + (iParam0->_fU20 * iParam0->_fU16);
        iParam0->_fU0 -= fVar3;
         /* RESETTIMER */ sub_20899( iParam0 + 28 );
         /* STARTTIMER */ sub_20093( iParam0 + 28 );
    }
    if (iParam0->_fU0 >= 100.00000000)
    {
        iParam0->_fU0 = 100.00000000;
        return 1;
    }
    else if (iParam0->_fU0 <= 0.00000000)
    {
        iParam0->_fU0 = 0.00000000;
        return 2;
    }
    return 0;
}

/* ISTIMERDONE */ int sub_20681(int iParam0)
{
    if (iParam0->_fU16)
    {
        return 0;
    }
    else if (NOT iParam0->_fU20)
    {
        return 0;
    }
    if (iParam0->_fU28)
    {
        iParam0->_fU4 = TIMERA();
    }
    else
    {
        iParam0->_fU4 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU4 = TIMERSYSTEM();
    }
    if ((iParam0->_fU4 - iParam0->_fU0) >= iParam0->_fU12)
    {
        iParam0->_fU16 = 1;
        iParam0->_fU20 = 0;
        return 1;
        break;
    }
    return 0;
}

/* RESETTIMER */ void sub_20899(int iParam0)
{
    if (iParam0->_fU28)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    return;
}

/* P_PLAY_AUD_LIFT */ void sub_21267()
{
     /* WRITESCRIPTLOG */ sub_2982( "NS", "P_PLAY_AUD_LIFT", 0 );
    PLAY_SOUND_FRONTEND( -1, "S_OFFICE_AIR_DUCT_LIFT_B" );
     /* CREATETIMER */ sub_19943( ref l_U334, 450, 1, 0 );
     /* STARTTIMER */ sub_20093( ref l_U334 );
    return;
}

/* P_PLAY_AUD_LOWER */ void sub_21760()
{
     /* WRITESCRIPTLOG */ sub_2982( "NS", "P_PLAY_AUD_LOWER", 0 );
    PLAY_SOUND_FRONTEND( -1, "S_OFFICE_AIR_DUCT_LOWER" );
    return;
}

/* P_PLAY_AUD_GRUNT */ void sub_21886()
{
     /* WRITESCRIPTLOG */ sub_2982( "NS", "P_PLAY_AUD_GRUNT", 0 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
    {
        PLAY_SOUND_FROM_PED( -1, "MAX_GRUNTS_SMALL",  /* PLAYER_PED_ID */ sub_3100() );
    }
    return;
}

/* P_HANDLE_S_OFFICE_VIG_22C */ void sub_22171()
{
    unknown uVar2;
    unknown uVar3;
    string sVar4;
    int I;

    if (l_U518 == 0)
    {
        START_WIDGET_GROUP( "Rob E: Bullet Cams: Vig22C - Shimmy" );
        ADD_WIDGET_BOOL( "Enable ControlPad shortcuts", ref l_U523 );
        ADD_WIDGET_BOOL( "Teleport player to the Sequence", ref l_U519 );
        START_NEW_WIDGET_COMBO();
        ADD_TO_WIDGET_COMBO( "MISS_DEATH_CUSTOM_FIRE_01" );
        ADD_TO_WIDGET_COMBO( "MISS_DEATH_CUSTOM_FIRE_02" );
        ADD_TO_WIDGET_COMBO( "MISS_DEATH_CUSTOM_FIRE_03" );
        ADD_TO_WIDGET_COMBO( "Default" );
        STOP_WIDGET_COMBO( "Which Bullet Cam?", ref l_U524 );
        ADD_WIDGET_BOOL( "Break Beam", ref l_U522 );
        ADD_WIDGET_FLOAT_SLIDER( "Position X", ref l_U533._fU0, 60536, 5000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Position Y", ref l_U533._fU4, 60536, 5000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Position Z", ref l_U533._fU8, 60536, 5000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Heading", ref l_U536, 60536, 5000, 0.10000000 );
        ADD_WIDGET_BOOL( "Start Vig22C", ref l_U520 );
        ADD_WIDGET_BOOL( "Cleanup", ref l_U521 );
        STOP_WIDGET_GROUP();
        l_U518 = 1;
    }
    if (l_U523)
    {
        if ((IS_BUTTON_PRESSED( 0, 6 )) AND (IS_BUTTON_PRESSED( 0, 4 )))
        {
            l_U519 = 1;
        }
    }
    if (l_U519)
    {
         /* P_FADE_OUT_AND_WAIT */ sub_7544( 1000 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
             /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), -992.46820000, 5.48914600, 5.92595700, 193.69330000 );
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 1 );
        }
        uVar2 = GET_HASH_KEY( ref g_U1153 );
        uVar3 = GET_INTERIOR_FROM_NAME( ref g_U1113, 0 );
        SET_INTERIOR_ACTIVE( uVar3, 1, 0 );
        LOAD_SCENE_FOR_ROOM_BY_KEY( uVar3, uVar2 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 0 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 28.88235000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -8.64998800, 1065353216, 0 );
         /* P_FADE_IN_AND_WAIT */ sub_7800( 1000 );
        l_U519 = 0;
    }
    if (l_U520)
    {
        if (l_U524 == 0)
        {
            sVar4 = "MISS_DEATH_CUSTOM_FIRE_01";
        }
        else if (l_U524 == 1)
        {
            sVar4 = "MISS_DEATH_CUSTOM_FIRE_02";
        }
        else if (l_U524 == 2)
        {
            sVar4 = "MISS_DEATH_CUSTOM_FIRE_03";
        }
        else
        {
            sVar4 = "";
        };;;
         /* WRITESCRIPTLOG */ sub_2982( "SA", "Playing bullet cam with the following bullet cam", 0 );
         /* WRITE_STRING */ sub_9488( sVar4 );
        SET_BULLET_CAM_PREF(  /* PLAYER_PED_ID */ sub_3100(), "", "", "", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
        SET_BULLET_CAM_PREF(  /* PLAYER_PED_ID */ sub_3100(), sVar4, sVar4, sVar4, 0, 1, 0, 0, 0, 0, 0, 0, 0 );
        for ( I = 0; I < l_U537; I++ )
        {
             /* CLEANOBJECT */ sub_9251( l_U537[I] );
        }
        l_U537[0] =  /* CREATEOBJECTNOOFFSET */ sub_9756( 789704993, -993.25000000, -6.44900000, 4.71200000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        l_U537[1] =  /* CREATEOBJECTNOOFFSET */ sub_9756( 1245447859, -993.25000000, -6.44900000, 4.59300000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        l_U537[2] =  /* CREATEOBJECTNOOFFSET */ sub_9756( 1481155276, -993.25000000, -6.44900000, 4.59300000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        l_U537[3] =  /* CREATEOBJECTNOOFFSET */ sub_9756( 1170308542, -993.25000000, -6.44900000, 4.59300000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        l_U537[4] =  /* CREATEOBJECTNOOFFSET */ sub_9756( 326670637, -993.25000000, -6.44900000, 4.59300000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        l_U537[5] =  /* CREATEOBJECTNOOFFSET */ sub_9756( 497233282, -993.25000000, -6.44900000, 4.59300000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        l_U537[6] =  /* CREATEOBJECTNOOFFSET */ sub_9756( -345618171, -993.25000000, -6.44900000, 4.59300000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        l_U537[7] =  /* CREATEOBJECTNOOFFSET */ sub_9756( 1061947701, -993.25000000, 6.44900000, 4.47300000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        for ( I = 0; I < l_U537; I++ )
        {
            if ((DOES_OBJECT_EXIST( l_U537[I] )) == 1)
            {
                ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U537[I], ref g_U1153 );
                FREEZE_OBJECT_POSITION( l_U537[I], 1 );
                SET_OBJECT_COLLISION( l_U537[I], 1 );
            }
        }
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
        {
            CLEAR_PED_TASKS(  /* PLAYER_PED_ID */ sub_3100() );
        }
        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 0, 0 );
        ISEQ_UNREGISTER_ENTITY( 1252772788, "MAX" );
         /* TERMINATEISEQ */ sub_6203( 1252772788, 1 );
         /* LOADISEQ */ sub_6510( 1252772788, 1 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
        {
             /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), l_U533, l_U536 );
            SET_PED_SYNC_POINT(  /* PLAYER_PED_ID */ sub_3100(), l_U533, l_U536 );
        }
        ISEQ_REGISTER_ENTITY( 1252772788, "MAX",  /* PLAYER_PED_ID */ sub_3100(), 0 );
        ISEQ_START( 1252772788 );
        l_U517 = 1;
        l_U520 = 0;
    }
    if (l_U522)
    {
        PLAY_OBJECT_ANIM( l_U537[0], "RF_TMDCLLPS_PRP", "of_tmdCllps", 0.00000000, 0, 1 );
        PLAY_OBJECT_ANIM( l_U537[1], "RF_TMDCLLPS_WD_ROOTA", "of_tmdCllps", 0.00000000, 0, 1 );
        PLAY_OBJECT_ANIM( l_U537[2], "RF_TMDCLLPS_WD_ROOTB", "of_tmdCllps", 0.00000000, 0, 1 );
        PLAY_OBJECT_ANIM( l_U537[3], "RF_TMDCLLPS_WD_ROOTC", "of_tmdCllps", 0.00000000, 0, 1 );
        PLAY_OBJECT_ANIM( l_U537[4], "RF_TMDCLLPS_WD_ROOTD", "of_tmdCllps", 0.00000000, 0, 1 );
        PLAY_OBJECT_ANIM( l_U537[5], "RF_TMDCLLPS_WD_ROOTE", "of_tmdCllps", 0.00000000, 0, 1 );
        PLAY_OBJECT_ANIM( l_U537[6], "RF_TMDCLLPS_WD_ROOTF", "of_tmdCllps", 0.00000000, 0, 1 );
        PLAY_OBJECT_ANIM( l_U537[7], "RF_TMDCLLPS_FR", "of_tmdCllps", 0.00000000, 0, 1 );
        SET_PED_HEALTH(  /* PLAYER_PED_ID */ sub_3100(), 0, 0 );
        l_U522 = 0;
    }
    if (l_U521)
    {
        l_U517 = 0;
        ISEQ_UNREGISTER_ENTITY( 1252772788, "MAX" );
         /* TERMINATEISEQ */ sub_6203( 1252772788, 1 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
        {
            CLEAR_PED_TASKS(  /* PLAYER_PED_ID */ sub_3100() );
            PED_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_3100(), "/Global/Player/PlayerLoco" );
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 1, 0 );
        }
        l_U521 = 0;
    }
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
    {
        switch (l_U517)
        {
            case 0: break;
            case 1:
             /* WRITESCRIPTLOG */ sub_2982( "SA", "SHIMMY_WALKING", 0 );
            if ((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_3100(), 47 )) == 3)
            {
                l_U517 = 2;
            }
            if (ISEQ_QUERY_ENTITY_STATE( 1252772788, "MAX", 6 ))
            {
                l_U517 = 4;
            }
            break;
            case 2:
             /* WRITESCRIPTLOG */ sub_2982( "SA", "SHIMMY_IDLE", 0 );
            if ((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_3100(), 47 )) == 1)
            {
                l_U517 = 1;
            }
            break;
            case 3:
             /* WRITESCRIPTLOG */ sub_2982( "SA", "SHIMMY_FALLING", 0 );
            PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 48, 1000, 0.00000000, 0.00000000, 0.00000000 );
            l_U517 = 4;
            break;
            case 4:
             /* WRITESCRIPTLOG */ sub_2982( "SA", "SHIMMY_FINISHED", 0 );
            break;
        }
    }
    return;
}

/* P_HANDLE_MOBILE_WARNING */ void sub_25029()
{
    if (l_U554 == 0)
    {
        START_WIDGET_GROUP( "Mobile Collaspe Warning" );
        ADD_WIDGET_BOOL( "Start Mobile Collaspe Warning", ref l_U555 );
        ADD_WIDGET_FLOAT_SLIDER( "Animation speed", ref l_U556, 0.00000000, 100000.00000000, 0.10000000 );
        ADD_WIDGET_INT_SLIDER( "Timing for 1st collaspe", ref l_U611, 0, 100000, 1 );
        ADD_WIDGET_INT_SLIDER( "Timing for 2nd collaspe", ref l_U612, 0, 100000, 1 );
        ADD_WIDGET_INT_SLIDER( "Timing for 3rd collaspe", ref l_U613, 0, 100000, 1 );
        ADD_WIDGET_INT_SLIDER( "Timing for 1st dust fx", ref l_U614, 0, 100000, 1 );
        ADD_WIDGET_INT_SLIDER( "Timing for 2nd dust fx", ref l_U615, 0, 100000, 1 );
        ADD_WIDGET_INT_SLIDER( "Timing for 3rd dust fx", ref l_U616, 0, 100000, 1 );
        STOP_WIDGET_GROUP();
        l_U554 = 1;
    }
    if (l_U555)
    {
         /* LOADMODEL */ sub_9371( -2008571048, 1 );
         /* LOADMODEL */ sub_9371( -1005087141, 1 );
         /* LOADMODEL */ sub_9371( -1329128487, 1 );
         /* LOADMODEL */ sub_9371( 1185415992, 1 );
         /* LOADMODEL */ sub_9371( 1683467108, 1 );
         /* LOADMODEL */ sub_9371( 22502157, 1 );
         /* LOADMODEL */ sub_9371( 1926445048, 1 );
         /* LOADMODEL */ sub_9371( 410241322, 1 );
         /* CLEANOBJECT */ sub_9251( l_U617 );
         /* CLEANOBJECT */ sub_9251( l_U618 );
         /* CLEANOBJECT */ sub_9251( l_U619 );
         /* CLEANOBJECT */ sub_9251( l_U620 );
         /* CLEANOBJECT */ sub_9251( l_U621 );
         /* CLEANOBJECT */ sub_9251( l_U622 );
        l_U617 =  /* CREATEOBJECTNOOFFSET */ sub_9756( -1329128487, 64559, 34, 9, 0, 0, 0, 0, 0, 0 );
        if (DOES_OBJECT_EXIST( l_U617 ))
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U617, ref g_U1145 );
            FREEZE_OBJECT_POSITION( l_U617, 1 );
        }
        l_U618 =  /* CREATEOBJECTNOOFFSET */ sub_9756( 1185415992, 64554, 35, 8, 0, 0, 0, 0, 0, 0 );
        if (DOES_OBJECT_EXIST( l_U618 ))
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U618, ref g_U1145 );
            FREEZE_OBJECT_POSITION( l_U618, 1 );
        }
        l_U619 =  /* CREATEOBJECTNOOFFSET */ sub_9756( 1683467108, 64555, 39, 8, 0, 0, 0, 0, 0, 0 );
        if (DOES_OBJECT_EXIST( l_U619 ))
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U619, ref g_U1145 );
            FREEZE_OBJECT_POSITION( l_U619, 1 );
        }
        l_U620 =  /* CREATEOBJECTNOOFFSET */ sub_9756( 22502157, 64559, 34, 9, 0, 0, 0, 0, 0, 0 );
        if (DOES_OBJECT_EXIST( l_U620 ))
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U620, ref g_U1145 );
            FREEZE_OBJECT_POSITION( l_U620, 1 );
        }
        l_U621 =  /* CREATEOBJECTNOOFFSET */ sub_9756( 1926445048, 64554, 35, 8, 0, 0, 0, 0, 0, 0 );
        if (DOES_OBJECT_EXIST( l_U621 ))
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U621, ref g_U1145 );
            FREEZE_OBJECT_POSITION( l_U621, 1 );
        }
        l_U622 =  /* CREATEOBJECTNOOFFSET */ sub_9756( 410241322, 64554, 35, 8, 0, 0, 0, 0, 0, 0 );
        if (DOES_OBJECT_EXIST( l_U622 ))
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U622, ref g_U1145 );
            FREEZE_OBJECT_POSITION( l_U622, 1 );
        }
         /* RESETTIMER */ sub_20899( ref l_U557 );
         /* RESETTIMER */ sub_20899( ref l_U566 );
         /* RESETTIMER */ sub_20899( ref l_U575 );
         /* RESETTIMER */ sub_20899( ref l_U584 );
         /* RESETTIMER */ sub_20899( ref l_U593 );
         /* RESETTIMER */ sub_20899( ref l_U602 );
         /* CREATETIMER */ sub_19943( ref l_U557, l_U611, 1, 0 );
         /* CREATETIMER */ sub_19943( ref l_U566, l_U612, 1, 0 );
         /* CREATETIMER */ sub_19943( ref l_U575, l_U613, 1, 0 );
         /* CREATETIMER */ sub_19943( ref l_U584, l_U614, 1, 0 );
         /* CREATETIMER */ sub_19943( ref l_U593, l_U615, 1, 0 );
         /* CREATETIMER */ sub_19943( ref l_U602, l_U616, 1, 0 );
         /* STARTTIMER */ sub_20093( ref l_U557 );
         /* STARTTIMER */ sub_20093( ref l_U566 );
         /* STARTTIMER */ sub_20093( ref l_U575 );
         /* STARTTIMER */ sub_20093( ref l_U584 );
         /* STARTTIMER */ sub_20093( ref l_U593 );
         /* STARTTIMER */ sub_20093( ref l_U602 );
        l_U555 = 0;
    }
    if ( /* ISTIMERDONE */ sub_20681( ref l_U557 ))
    {
        PLAY_OBJECT_ANIM( l_U617, "P_AN_MOBCAG_AA_H", "of_mobile", 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U617, "P_AN_MOBCAG_AA_H", "of_mobile", l_U556 );
    }
    if ( /* ISTIMERDONE */ sub_20681( ref l_U566 ))
    {
        PLAY_OBJECT_ANIM( l_U620, "P_AN_MOBCAG_AD_H", "of_mobile", 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U620, "P_AN_MOBCAG_AD_H", "of_mobile", l_U556 );
    }
    if ( /* ISTIMERDONE */ sub_20681( ref l_U575 ))
    {
        PLAY_OBJECT_ANIM( l_U619, "P_AN_MOBCAG_AC_H", "of_mobile", 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U619, "P_AN_MOBCAG_AC_H", "of_mobile", l_U556 );
    }
    if ( /* ISTIMERDONE */ sub_20681( ref l_U584 ))
    {
        START_PARTICLE_FX_NON_LOOPED_AT_COORD( "OF_mobile_collaspe_S", -975.57000000, 34.05000000, -0.03000000, 0.00000000, 0.00000000, 0.00000000, 0.50000000 );
    }
    if ( /* ISTIMERDONE */ sub_20681( ref l_U593 ))
    {
        START_PARTICLE_FX_NON_LOOPED_AT_COORD( "OF_mobile_collaspe_S", -978.10000000, 33.89000000, -0.03000000, 0.00000000, 0.00000000, 0.00000000, 0.50000000 );
    }
    if ( /* ISTIMERDONE */ sub_20681( ref l_U602 ))
    {
        START_PARTICLE_FX_NON_LOOPED_AT_COORD( "OF_mobile_collaspe_S", -980.80000000, 36.35000000, 0.36000000, 0.00000000, 0.00000000, 0.00000000, 0.80000000 );
    }
    return;
}

/* P_HANDLE_CABINET_TEST */ void sub_26920()
{
    if (l_U511 == 1)
    {
        START_WIDGET_GROUP( "cabinet test" );
        ADD_WIDGET_FLOAT_SLIDER( "vVIG22BPlayerPos.x", ref l_U438._fU0, -2000.00000000, 2000.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "vVIG22BPlayerPos.y", ref l_U438._fU4, -2000.00000000, 2000.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "vVIG22BPlayerPos.z", ref l_U438._fU8, -2000.00000000, 2000.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "fVIG22BPlayerHeading", ref l_U441, -1000.00000000, 1000.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "fBlend", ref l_U515, 0.00000000, 100.00000000, 1.00000000 );
        ADD_WIDGET_BOOL( "bGetCabCoords", ref l_U514 );
        ADD_WIDGET_BOOL( "bCreateCab", ref l_U512 );
        ADD_WIDGET_BOOL( "bPlayCabAnim", ref l_U513 );
        ADD_WIDGET_BOOL( "bCreateTable", ref l_U516 );
        STOP_WIDGET_GROUP();
        l_U511 = 0;
    }
    if (l_U512 == 1)
    {
         /* LOADMODEL */ sub_9371( -1270860199, 1 );
         /* CLEANOBJECT */ sub_9251( l_U466 );
        l_U466 =  /* CREATEOBJECTNOOFFSET */ sub_9756( -1270860199, l_U442, l_U445, 0, 0, 0 );
        if ((DOES_OBJECT_EXIST( l_U466 )) == 1)
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U466, "fir_atr_rm" );
            FREEZE_OBJECT_POSITION( l_U466, 1 );
        }
        l_U512 = 0;
    }
    if (l_U513 == 1)
    {
        if (DOES_OBJECT_EXIST( l_U466 ))
        {
             /* LOADANIMDICT */ sub_3712( "LEVEL_S_OFFICE_INJ", 0, 1 );
            PLAY_OBJECT_ANIM( l_U466, "vig_22b_office_finish_cabinet", "LEVEL_S_OFFICE_INJ", 0.80000000, 0, 1 );
        }
        l_U513 = 0;
    }
    if (l_U514)
    {
        if (DOES_OBJECT_EXIST( l_U466 ))
        {
             /* WRITE_VECTOR */ sub_27650( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_OBJECT_COORDS( l_U466 ) );
        }
    }
    if (l_U516 == 1)
    {
         /* LOADMODEL */ sub_9371( -1270860199, 1 );
         /* LOADANIMDICT */ sub_3712( "LEVEL_S_FAV1_BRIDGE", 0, 1 );
         /* CLEANOBJECT */ sub_9251( l_U466 );
        l_U466 =  /* CREATEOBJECTNOOFFSET */ sub_9756( -1270860199, l_U442, l_U445, 0, 0, 0 );
        if (DOES_OBJECT_EXIST( l_U466 ))
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U466, "fir_atr_rm" );
            FREEZE_OBJECT_POSITION( l_U466, 1 );
            PLAY_OBJECT_ANIM( l_U466, "PROP_TBL_FLIP_KICK_R_1B", "LEVEL_S_FAV1_BRIDGE", 0.80000000, 0, 1 );
        }
        l_U516 = 0;
    }
    return;
}

/* WRITE_VECTOR */ void sub_27650(unknown uParam0, unknown uParam1, unknown uParam2)
{
    PRINTVECTOR( uParam0 );
    PRINTNL();
    return;
}

/* P_DEBUG_HANDLE_GLASS_SMASH */ void sub_27929()
{
    int J;
    char[16] cVar3;
    int I;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    int iVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    int iVar23;

    if (l_U671 == 0)
    {
         /* P_SETUP_FIRE_ARCH_GLASS_ARRAY */ sub_3403();
        l_U645[0] = g_U1185;
        l_U645[1] = 150541352;
        l_U645[2] = g_U1187;
        l_U645[3] = 1992962408;
        l_U645[4] = g_U1188;
        l_U645[5] = -691403429;
        l_U645[6] = 1131969637;
        l_U645[7] = 10648147;
        l_U645[8] = -2075384407;
        START_WIDGET_GROUP( "Glass Smash Helper" );
        ADD_WIDGET_BOOL( "Teleport Ped to Glass", ref l_U660 );
        ADD_WIDGET_BOOL( "Smash Glass", ref l_U547 );
        ADD_WIDGET_BOOL( "Reset Glass", ref l_U661 );
        START_WIDGET_GROUP( "Glass Smash Array" );
        for ( J = 0; J <= (l_U663 - 1); J++ )
        {
            StrCopy( ref cVar3, "Element ", 16 );
            ConcatString(ref cVar3, J, 16);
            START_WIDGET_GROUP( ref cVar3 );
            START_NEW_WIDGET_COMBO();
            for ( I = 0; I <= (l_U645 - 1); I++ )
            {
                GET_WEAPON_NAME( 32, ref uVar8, l_U645[I] );
                ADD_TO_WIDGET_COMBO( ref uVar8 );
            }
            STOP_WIDGET_COMBO( "Weapon Type", ref l_U655 );
            ADD_WIDGET_BOOL( "Updated Weapon Type", ref l_U662 );
            START_WIDGET_GROUP( "Start Bullet" );
            ADD_WIDGET_FLOAT_SLIDER( "Pos X", ref l_U663[J]._fU0._fU0, -5000.00000000, 5000.00000000, 0.10000000 );
            ADD_WIDGET_FLOAT_SLIDER( "Pos Y", ref l_U663[J]._fU0._fU4, -5000.00000000, 5000.00000000, 0.10000000 );
            ADD_WIDGET_FLOAT_SLIDER( "Pos Z", ref l_U663[J]._fU0._fU8, -5000.00000000, 5000.00000000, 0.10000000 );
            STOP_WIDGET_GROUP();
            START_WIDGET_GROUP( "End Bullet" );
            ADD_WIDGET_FLOAT_SLIDER( "Pos X", ref l_U663[J]._fU12._fU0, -5000.00000000, 5000.00000000, 0.10000000 );
            ADD_WIDGET_FLOAT_SLIDER( "Pos Y", ref l_U663[J]._fU12._fU4, -5000.00000000, 5000.00000000, 0.10000000 );
            ADD_WIDGET_FLOAT_SLIDER( "Pos Z", ref l_U663[J]._fU12._fU8, -5000.00000000, 5000.00000000, 0.10000000 );
            STOP_WIDGET_GROUP();
            STOP_WIDGET_GROUP();
        }
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        l_U671 = 1;
    }
    if (l_U660 == 1)
    {
         /* P_FADE_OUT_AND_WAIT */ sub_7544( 500 );
         /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), l_U656, l_U659 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 1 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0.00000000, 1065353216, 0 );
        uVar16 = GET_HASH_KEY( ref g_U1145 );
        uVar17 = GET_INTERIOR_FROM_NAME( ref g_U1105, 0 );
        SET_INTERIOR_ACTIVE( uVar17, 1, 0 );
        LOAD_SCENE_FOR_ROOM_BY_KEY( uVar17, uVar16 );
         /* P_FADE_IN_AND_WAIT */ sub_7800( 500 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 0 );
        }
        l_U660 = 0;
    }
    if (l_U547 == 1)
    {
        for ( iVar18 = 0; iVar18 <= (l_U663 - 1); iVar18++ )
        {
            uVar19 = nil;
            SHOOT_SINGLE_BULLET_BETWEEN_COORDS( l_U663[iVar18]._fU0, l_U663[iVar18]._fU12, 0, 1, l_U663[iVar18]._fU24, uVar19 );
        }
        l_U547 = 0;
    }
    if (l_U661 == 1)
    {
         /* P_FADE_OUT_AND_WAIT */ sub_7544( 500 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            uVar20 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS(  /* PLAYER_PED_ID */ sub_3100() )};
            CLEAR_AREA( uVar20, 1000, 1 );
            LOAD_SCENE( uVar20 );
        }
         /* P_FADE_IN_AND_WAIT */ sub_7800( 500 );
        l_U661 = 0;
    }
    if (l_U662 == 1)
    {
        for ( iVar23 = 0; iVar23 <= (l_U663 - 1); iVar23++ )
        {
            l_U663[iVar23]._fU24 = l_U645[l_U655];
        }
        l_U662 = 0;
    }
    return;
}

/* P_HANDLE_FIRE_REACTION_TEST */ void sub_29273()
{
    int I;
    int J;
    int iVar4;

    if (l_U672 == 0)
    {
         /* LOADANIMDICT */ sub_3712( "LEVEL_S_OFFICE_INJ", 0, 1 );
         /* LOADACTIONTREE */ sub_3906( "Level/s_office/s_off_inj", 1 );
        l_U684[0] = 29.41063000;
        l_U684[1] = -3.37164800;
        l_U684[2] = 0.40618400;
        l_U684[3] = 10.20182000;
        l_U684[4] = -0.51953100;
        l_U684[5] = 6.98910000;
        l_U684[6] = -0.55443400;
        l_U692[0] = -8.13322300;
        l_U692[1] = -8.48152800;
        l_U692[2] = -12.33637000;
        l_U692[3] = -12.92276000;
        l_U692[4] = -4.14213800;
        l_U692[5] = -6.43749000;
        l_U692[6] = -11.15430000;
        l_U700[0] = 265.15950000;
        l_U700[1] = 82.59971000;
        l_U700[2] = 272.79640000;
        l_U700[3] = 87.26965000;
        l_U700[4] = 149.75170000;
        l_U700[5] = 227.37290000;
        l_U700[6] = 185.80860000;
        l_U708[0] = {-979.38260000, 23.34736000, 0.11516800};
        l_U708[1] = {-979.25460000, 23.13826000, 0.11516800};
        l_U708[2] = {-978.06740000, 32.32362000, -0.02628300};
        l_U708[3] = {-996.03220000, 36.43979000, 4.90035700};
        l_U708[4] = {-1002.27900000, 24.73065000, 4.92914700};
        l_U708[5] = {-1032.60600000, 26.33741000, 4.89903500};
        l_U708[6] = {-1031.08400000, 11.24789000, 4.89903500};
        l_U730[0] = {-974.60000000, 28.11000000, -0.02000000};
        l_U730[1] = {-973.77000000, 24.60000000, -0.02000000};
        l_U730[2] = {-973.05000000, 21.28000000, -0.02000000};
        l_U730[3] = {0, 0, 0};
        l_U730[4] = {0, 0, 0};
        l_U730[5] = {-987.64000000, 26.97000000, -0.02000000};
        l_U730[6] = {-987.43000000, 24.34000000, -0.22000000};
        l_U730[7] = {-987.78000000, 20.98000000, -0.02000000};
        l_U730[8] = {0, 0, 0};
        l_U730[9] = {0, 0, 0};
        l_U730[10] = {-973.19000000, 32.92000000, -0.03000000};
        l_U730[11] = {-973.12000000, 32.10000000, -0.03000000};
        l_U730[12] = {-972.44000000, 31.34000000, -0.03000000};
        l_U730[13] = {0, 0, 0};
        l_U730[14] = {0, 0, 0};
        l_U730[15] = {-999.81000000, 37.15000000, 4.93000000};
        l_U730[16] = {-999.82000000, 36.41000000, 4.93000000};
        l_U730[17] = {-999.62000000, 34.87000000, 4.96000000};
        l_U730[18] = {0, 0, 0};
        l_U730[19] = {0, 0, 0};
        l_U730[20] = {-1009.28000000, 18.41000000, 5.13000000};
        l_U730[21] = {-1007.48000000, 18.41000000, 5.13000000};
        l_U730[22] = {-1005.41000000, 18.41000000, 5.09000000};
        l_U730[23] = {-1003.28000000, 18.41000000, 5.11000000};
        l_U730[24] = {0, 0, 0};
        l_U730[25] = {-1029.83000000, 19.51000000, 5.07000000};
        l_U730[26] = {-1029.45000000, 21.15000000, 4.90000000};
        l_U730[27] = {-1029.15000000, 23.07000000, 4.90000000};
        l_U730[28] = {0, 0, 0};
        l_U730[29] = {0, 0, 0};
        l_U730[30] = {-1031.58000000, 5.61000000, 4.90000000};
        l_U730[31] = {-1028.75000000, 6.63000000, 4.90000000};
        l_U730[32] = {-1028.95000000, 5.14000000, 4.90000000};
        l_U730[33] = {0, 0, 0};
        l_U730[34] = {0, 0, 0};
        START_WIDGET_GROUP( "Fire Reaction Test" );
        ADD_WIDGET_BOOL( "Enable Fire Reactions", ref l_U674 );
        ADD_WIDGET_BOOL( "Disable Fire Reactions", ref l_U675 );
        ADD_WIDGET_FLOAT_SLIDER( "Distance from fire before react", ref l_U683, 0.00000000, 100.00000000, 0.10000000 );
        ADD_WIDGET_BOOL( "Teleport to Right Side of Atrium", ref l_U676 );
        ADD_WIDGET_BOOL( "Teleport to Left Side of Atrium", ref l_U677 );
        ADD_WIDGET_BOOL( "Teleport to Right Side of Stair Atrium", ref l_U678 );
        ADD_WIDGET_BOOL( "Teleport to Top of Cubicle Steps", ref l_U679 );
        ADD_WIDGET_BOOL( "Teleport to Back Wall of Cubicles", ref l_U680 );
        ADD_WIDGET_BOOL( "Teleport to Left Side of Boardroom", ref l_U681 );
        ADD_WIDGET_BOOL( "Teleport to Exiting Boardroom", ref l_U682 );
        STOP_WIDGET_GROUP();
        l_U672 = 1;
    }
    if (l_U676)
    {
         /* F_TELEPORT_HELPER */ sub_31158( l_U708[0], l_U700[0], l_U684[0], l_U692[0] );
        l_U676 = 0;
    }
    if (l_U677)
    {
         /* F_TELEPORT_HELPER */ sub_31158( l_U708[1], l_U700[1], l_U684[1], l_U692[1] );
        l_U677 = 0;
    }
    if (l_U678)
    {
         /* F_TELEPORT_HELPER */ sub_31158( l_U708[2], l_U700[2], l_U684[2], l_U692[2] );
        l_U678 = 0;
    }
    if (l_U679)
    {
         /* F_TELEPORT_HELPER */ sub_31158( l_U708[3], l_U700[3], l_U684[3], l_U692[3] );
        l_U679 = 0;
    }
    if (l_U680)
    {
         /* F_TELEPORT_HELPER */ sub_31158( l_U708[4], l_U700[4], l_U684[4], l_U692[4] );
        l_U680 = 0;
    }
    if (l_U681)
    {
         /* F_TELEPORT_HELPER */ sub_31158( l_U708[5], l_U700[5], l_U684[5], l_U692[5] );
        l_U681 = 0;
    }
    if (l_U682)
    {
         /* F_TELEPORT_HELPER */ sub_31158( l_U708[6], l_U700[6], l_U684[6], l_U692[6] );
        l_U682 = 0;
    }
    if (l_U674)
    {
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
        {
            if (IS_ACTION_TREE_LOADED( "Level/s_office/s_off_inj" ))
            {
                PED_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_3100(), "/Global/S_OFF_INJ1/S_OFF_INJ1/S_OFF_INJ" );
            }
        }
        for ( I = 0; I <= 34; I++ )
        {
            REMOVE_SCRIPT_FIRE( l_U836[I] );
            l_U836[I] = START_SCRIPT_FIRE( l_U730[I], 1 );
        }
        l_U673 = 1;
        l_U674 = 0;
    }
    if (l_U675)
    {
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
        {
            if (IS_ACTION_TREE_LOADED( "Level/s_office/s_off_inj" ))
            {
                PED_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_3100(), "/Global/Player/PlayerLoco" );
            }
        }
        for ( J = 0; J <= 34; J++ )
        {
            REMOVE_SCRIPT_FIRE( l_U836[J] );
        }
        l_U673 = 0;
        l_U675 = 0;
    }
    if (l_U673)
    {
        for ( iVar4 = 0; iVar4 <= 34; iVar4++ )
        {
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
            {
                if ((GET_DISTANCE_BETWEEN_COORDS( 0, 0, 0, l_U730[iVar4], 1 )) != 0)
                {
                    if (( /* GET_DISTANCE_BETWEEN_PED_AND_VECTOR */ sub_32111(  /* PLAYER_PED_ID */ sub_3100(), l_U730[iVar4] )) < l_U683)
                    {
                        PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 55, 1000, l_U730[iVar4] );
                    }
                }
            }
        }
    }
    return;
}

/* F_TELEPORT_HELPER */ int sub_31158(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
     /* P_FADE_OUT_AND_WAIT */ sub_7544( 500 );
     /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), uParam0, uParam3 );
    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
    {
        FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 1 );
    }
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( uParam4, 1065353216, 0 );
    SET_GAMEPLAY_CAM_RELATIVE_PITCH( uParam5, 1065353216, 0 );
     /* P_FADE_IN_AND_WAIT */ sub_7800( 500 );
    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
    {
        FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 0 );
    }
    return 1;
}

/* GET_DISTANCE_BETWEEN_PED_AND_VECTOR */ void sub_32111(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;

    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        uVar6 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
    }
    else
    {
        return -1.00000000;
    }
    return VDIST( uVar6, uParam1 );
}

/* P_TIMER_TEST */ void sub_32279()
{
    if (NOT l_U872)
    {
         /* CREATETIMER */ sub_19943( ref l_U877, 60000, 1, 0 );
        START_WIDGET_GROUP( "Timer Test" );
        ADD_WIDGET_BOOL( "Start Timer", ref l_U873 );
        ADD_WIDGET_BOOL( "Reset Timer", ref l_U874 );
        ADD_WIDGET_BOOL( "Pause Timer", ref l_U875 );
        ADD_WIDGET_BOOL( "UnPause Timer", ref l_U876 );
        STOP_WIDGET_GROUP();
        l_U872 = 1;
    }
    if (l_U873)
    {
         /* STARTTIMER */ sub_20093( ref l_U877 );
        l_U873 = 0;
    }
    if (l_U874)
    {
         /* RESETTIMER */ sub_20899( ref l_U877 );
        l_U874 = 0;
    }
    if (l_U875)
    {
         /* WRITESCRIPTLOG */ sub_2982( "SA", "Timer Paused at...", "###" );
         /* ISTIMERDONE */ sub_20681( ref l_U877 );
         /* WRITE_INT */ sub_32593( l_U877._fU4 - l_U877._fU0 );
         /* PAUSETIMER */ sub_32644( ref l_U877, 1 );
         /* WRITE_INT */ sub_32593( l_U877._fU8 );
        l_U875 = 0;
    }
    if (l_U876)
    {
         /* PAUSETIMER */ sub_32644( ref l_U877, 0 );
         /* WRITESCRIPTLOG */ sub_2982( "SA", "Timer UnPaused at...", "###" );
         /* ISTIMERDONE */ sub_20681( ref l_U877 );
         /* WRITE_INT */ sub_32593( l_U877._fU4 - l_U877._fU0 );
        l_U876 = 0;
    }
    if (l_U877._fU20)
    {
        if (NOT ( /* ISTIMERDONE */ sub_20681( ref l_U877 )))
        {
             /* WRITESCRIPTLOG */ sub_2982( "SA", "Timer playing", "###" );
             /* WRITE_INT */ sub_32593( l_U877._fU4 - l_U877._fU0 );
        }
    }
    return;
}

/* WRITE_INT */ void sub_32593(unknown uParam0)
{
    PRINTINT( uParam0 );
    PRINTNL();
    return;
}

/* PAUSETIMER */ void sub_32644(int iParam0, int iParam1)
{
    if (iParam0->_fU28)
    {
        iParam0->_fU4 = TIMERA();
    }
    else
    {
        iParam0->_fU4 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU4 = TIMERSYSTEM();
    }
    if (iParam1 == 1)
    {
        iParam0->_fU8 = iParam0->_fU4 - iParam0->_fU0;
         /* RESETTIMER */ sub_20899( iParam0 );
    }
    else if (iParam0->_fU8 > 0)
    {
         /* STARTTIMER */ sub_20093( iParam0 );
        if (iParam0->_fU28)
        {
            iParam0->_fU0 = TIMERA() - iParam0->_fU8;
        }
        else
        {
            iParam0->_fU0 = TIMERB() - iParam0->_fU8;
        }
        if (iParam0->_fU32 == 1)
        {
            iParam0->_fU0 = TIMERSYSTEM() - iParam0->_fU8;
        }
        iParam0->_fU4 = iParam0->_fU0;
        iParam0->_fU8 = 0;
    }
    return;
}

/* P_DEBUG_HANDLE_SEQ_S_OFF_VIG_18_SFWD */ void sub_33095()
{
    vector vVar2;
    float fVar5;
    unknown uVar6;
    unknown uVar7;

    if (l_U893 == 0)
    {
        START_WIDGET_GROUP( "S_OFF_VIG_18_SFWD" );
        ADD_WIDGET_STRING( "Max in fire section is jolted by a small explosion in front of him" );
        ADD_WIDGET_BOOL( "Teleport to Sequence", ref l_U886 );
        ADD_WIDGET_BOOL( "Start Sequence", ref l_U887 );
        ADD_WIDGET_BOOL( "Stop Sequence", ref l_U888 );
        START_WIDGET_GROUP( "PLAYER" );
        ADD_WIDGET_FLOAT_SLIDER( "Pos X", ref l_U889._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Y", ref l_U889._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Z", ref l_U889._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Heading", ref l_U892, -360.00000000, 360.00000000, 0.10000000 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        l_U893 = 1;
    }
    if (l_U886 == 1)
    {
         /* P_FADE_OUT_AND_WAIT */ sub_7544( 500 );
        vVar2 = {-989.41300000, 34.08057000, 2.35110400};
        fVar5 = 357.50960000;
         /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), vVar2, fVar5 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 1 );
        }
        uVar6 = GET_HASH_KEY( ref g_U1145 );
        uVar7 = GET_INTERIOR_FROM_NAME( ref g_U1081, 0 );
        SET_INTERIOR_ACTIVE( uVar7, 1, 0 );
        LOAD_SCENE_FOR_ROOM_BY_KEY( uVar7, uVar6 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 0 );
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 1, 0 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( -1.62025100, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -13.13741000, 1065353216, 0 );
         /* P_FADE_IN_AND_WAIT */ sub_7800( 500 );
        l_U886 = 0;
    }
    if (l_U887 == 1)
    {
        ISEQ_UNREGISTER_ENTITY( 586742169, "player" );
         /* TERMINATEISEQ */ sub_6203( 586742169, 1 );
         /* LOADISEQ */ sub_6510( 586742169, 1 );
         /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), l_U889, l_U892 );
        ISEQ_REGISTER_ENTITY( 586742169, "player",  /* PLAYER_PED_ID */ sub_3100(), 0 );
        ISEQ_START( 586742169 );
        l_U887 = 0;
    }
    if (l_U888 == 1)
    {
        ISEQ_UNREGISTER_ENTITY( 586742169, "player" );
         /* TERMINATEISEQ */ sub_6203( 586742169, 1 );
        l_U888 = 0;
    }
    return;
}

/* P_DEBUG_HANDLE_SEQ_S_OFF_VIG_18_SBACK */ void sub_33962()
{
    vector vVar2;
    float fVar5;
    unknown uVar6;
    unknown uVar7;

    if (l_U901 == 0)
    {
        START_WIDGET_GROUP( "S_OFF_VIG_18_SBACK" );
        ADD_WIDGET_STRING( "Max in fire section is jolted by a small explosion in front of him" );
        ADD_WIDGET_BOOL( "Teleport to Sequence", ref l_U894 );
        ADD_WIDGET_BOOL( "Start Sequence", ref l_U895 );
        ADD_WIDGET_BOOL( "Stop Sequence", ref l_U896 );
        START_WIDGET_GROUP( "PLAYER" );
        ADD_WIDGET_FLOAT_SLIDER( "Pos X", ref l_U897._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Y", ref l_U897._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Z", ref l_U897._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Heading", ref l_U900, -360.00000000, 360.00000000, 0.10000000 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        l_U901 = 1;
    }
    if (l_U894 == 1)
    {
         /* P_FADE_OUT_AND_WAIT */ sub_7544( 500 );
        vVar2 = {-989.41300000, 34.08057000, 2.35110400};
        fVar5 = 357.50960000;
         /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), vVar2, fVar5 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 1 );
        }
        uVar6 = GET_HASH_KEY( ref g_U1145 );
        uVar7 = GET_INTERIOR_FROM_NAME( ref g_U1081, 0 );
        SET_INTERIOR_ACTIVE( uVar7, 1, 0 );
        LOAD_SCENE_FOR_ROOM_BY_KEY( uVar7, uVar6 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 0 );
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 1, 0 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( -1.62025100, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -13.13741000, 1065353216, 0 );
         /* P_FADE_IN_AND_WAIT */ sub_7800( 500 );
        l_U894 = 0;
    }
    if (l_U895 == 1)
    {
        ISEQ_UNREGISTER_ENTITY( -1811149925, "player" );
         /* TERMINATEISEQ */ sub_6203( -1811149925, 1 );
         /* LOADISEQ */ sub_6510( -1811149925, 1 );
         /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), l_U897, l_U900 );
        ISEQ_REGISTER_ENTITY( -1811149925, "player",  /* PLAYER_PED_ID */ sub_3100(), 0 );
        ISEQ_START( -1811149925 );
        l_U895 = 0;
    }
    if (l_U896 == 1)
    {
        ISEQ_UNREGISTER_ENTITY( -1811149925, "player" );
         /* TERMINATEISEQ */ sub_6203( -1811149925, 1 );
        l_U896 = 0;
    }
    return;
}

/* P_DEBUG_HANDLE_SEQ_S_OFF_VIG_18_MFWD */ void sub_34831()
{
    unknown uVar2;
    unknown uVar3;

    if (l_U920 == 0)
    {
        START_WIDGET_GROUP( "S_OFF_VIG_18_MFWD" );
        ADD_WIDGET_STRING( "Max in fire section is jolted by a small explosion in front of him" );
        ADD_WIDGET_BOOL( "Teleport to Sequence", ref l_U902 );
        ADD_WIDGET_BOOL( "Start Sequence", ref l_U903 );
        ADD_WIDGET_BOOL( "Stop Sequence", ref l_U904 );
        ADD_WIDGET_BOOL( "Use Animated Camera", ref l_U909 );
        START_WIDGET_GROUP( "PLAYER" );
        ADD_WIDGET_FLOAT_SLIDER( "Pos X", ref l_U905._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Y", ref l_U905._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Z", ref l_U905._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Heading", ref l_U908, -360.00000000, 360.00000000, 0.10000000 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Animated Camera" );
        ADD_WIDGET_INT_SLIDER( "Vig start delay", ref l_U911, 0, 999999, 100 );
        ADD_WIDGET_FLOAT_SLIDER( "Offset Pos X", ref l_U912._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Offset Pos Y", ref l_U912._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Offset Pos Z", ref l_U912._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Offset Heading", ref l_U915, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_INT_SLIDER( "Animated Camera Stop Time", ref l_U916, 0, 999999, 100 );
        ADD_WIDGET_INT_SLIDER( "Animated Camera to Gameplay Cam Interp Time", ref l_U917, 0, 999999, 100 );
        ADD_WIDGET_FLOAT_SLIDER( "Gameplay Cam Heading", ref l_U918, -180.00000000, 180.00000000, 100 );
        ADD_WIDGET_FLOAT_SLIDER( "Gameplay Cam Pitch", ref l_U919, -180.00000000, 180.00000000, 100 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        l_U920 = 1;
    }
    if (l_U902 == 1)
    {
         /* P_FADE_OUT_AND_WAIT */ sub_7544( 250 );
         /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), l_U905, l_U908 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 1 );
        }
        uVar2 = GET_HASH_KEY( ref g_U1153 );
        uVar3 = GET_INTERIOR_FROM_NAME( ref g_U1113, 0 );
        SET_INTERIOR_ACTIVE( uVar3, 1, 0 );
        LOAD_SCENE_FOR_ROOM_BY_KEY( uVar3, uVar2 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 0 );
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 1, 0 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 2.17021100, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -8.71211400, 1065353216, 0 );
         /* P_FADE_IN_AND_WAIT */ sub_7800( 250 );
        l_U902 = 0;
    }
    if (l_U903 == 1)
    {
        l_U910 = 0;
        ISEQ_UNREGISTER_ENTITY( 736610621, "player" );
         /* TERMINATEISEQ */ sub_6203( 736610621, 1 );
         /* LOADISEQ */ sub_6510( 736610621, 1 );
         /* LOADANIMDICT */ sub_3712( "LEVEL_S_OFFICE_CP_07", 0, 1 );
        if (l_U909 == 1)
        {
            STOP_SCRIPT_STREAM( 2 );
             /* LOADSCRIPTSTREAM */ sub_36135( "SOFF_OFFICES_EXPLOSION", 2, 1 );
        }
        if (l_U909 == 1)
        {
            CAMERA_PLAY_ANIMATED( "LEVEL_S_OFFICE_CP_07", "VIG_18_OFF_EXPL_MED_FWD_CAM", 1, l_U912, l_U915, 0, 0 );
            PRINTSTRING( "[SP] Animted Camera Length: " );
            PRINTINT( CAMERA_ANIMATED_LENGTH( "LEVEL_S_OFFICE_CP_07", "VIG_18_OFF_EXPL_MED_FWD_CAM" ) );
            PRINTNL();
            WAIT( l_U911 );
        }
        ISEQ_REGISTER_ENTITY( 736610621, "player",  /* PLAYER_PED_ID */ sub_3100(), 0 );
        ISEQ_START( 736610621 );
        if (l_U909 == 1)
        {
            PLAY_SCRIPT_STREAM_FRONTEND( 2 );
            START_PARTICLE_FX_NON_LOOPED_AT_COORD( "Of_Rayfire_Explo_01", -983.15000000, 7.03000000, 4.21000000, 0.00000000, 0.00000000, 0.00000000, 0.80000000 );
        }
        l_U903 = 0;
    }
    if (l_U904 == 1)
    {
        l_U910 = 0;
        STOP_SCRIPT_STREAM( 2 );
        ISEQ_UNREGISTER_ENTITY( 736610621, "player" );
         /* TERMINATEISEQ */ sub_6203( 736610621, 1 );
         /* UNLOADANIMDICT */ sub_36732( "LEVEL_S_OFFICE_CP_07" );
        l_U904 = 0;
    }
    if (l_U909 == 0)
    {
        if (l_U910 == 0)
        {
            if (IS_ANIMATED_CAMERA_PLAYING() == 1)
            {
                if (CAMERA_ANIMATED_CURRENT_TIME() >= l_U916)
                {
                    SET_GAMEPLAY_CAM_RELATIVE_HEADING( l_U918, 1065353216, 0 );
                    SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U919, 1065353216, 0 );
                    CAMERA_ANIMATED_STOP( l_U917, 1 );
                    l_U910 = 1;
                }
            }
        }
    }
    return;
}

/* LOADSCRIPTSTREAM */ void sub_36135(unknown uParam0, unknown uParam1, int iParam2)
{
    if (iParam2 == 0)
    {
        REQUEST_SCRIPT_STREAM( uParam0, uParam1 );
    }
    else
    {
        while ((LOAD_SCRIPT_STREAM( uParam0, uParam1 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for script stream to be loaded: {} : {} ###", 2, 1537, uParam0, 513, uParam1 );
            WAIT( 0 );
        }
    }
    return;
}

/* UNLOADANIMDICT */ void sub_36732(unknown uParam0)
{
    REMOVE_ANIM_DICT( uParam0, 0 );
    return;
}

/* P_DEBUG_HANDLE_SEQ_S_OFF_VIG_18_MBACK */ void sub_36902()
{
    vector vVar2;
    float fVar5;
    unknown uVar6;
    unknown uVar7;

    if (l_U928 == 0)
    {
        START_WIDGET_GROUP( "S_OFF_VIG_18_MBACK" );
        ADD_WIDGET_STRING( "Max in fire section is jolted by a small explosion in front of him" );
        ADD_WIDGET_BOOL( "Teleport to Sequence", ref l_U921 );
        ADD_WIDGET_BOOL( "Start Sequence", ref l_U922 );
        ADD_WIDGET_BOOL( "Stop Sequence", ref l_U923 );
        START_WIDGET_GROUP( "PLAYER" );
        ADD_WIDGET_FLOAT_SLIDER( "Pos X", ref l_U924._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Y", ref l_U924._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Z", ref l_U924._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Heading", ref l_U927, -360.00000000, 360.00000000, 0.10000000 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        l_U928 = 1;
    }
    if (l_U921 == 1)
    {
         /* P_FADE_OUT_AND_WAIT */ sub_7544( 500 );
        vVar2 = {-989.41300000, 34.08057000, 2.35110400};
        fVar5 = 357.50960000;
         /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), vVar2, fVar5 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 1 );
        }
        uVar6 = GET_HASH_KEY( ref g_U1145 );
        uVar7 = GET_INTERIOR_FROM_NAME( ref g_U1081, 0 );
        SET_INTERIOR_ACTIVE( uVar7, 1, 0 );
        LOAD_SCENE_FOR_ROOM_BY_KEY( uVar7, uVar6 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 0 );
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 1, 0 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( -1.62025100, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -13.13741000, 1065353216, 0 );
         /* P_FADE_IN_AND_WAIT */ sub_7800( 500 );
        l_U921 = 0;
    }
    if (l_U922 == 1)
    {
        ISEQ_UNREGISTER_ENTITY( 102207537, "player" );
         /* TERMINATEISEQ */ sub_6203( 102207537, 1 );
         /* LOADISEQ */ sub_6510( 102207537, 1 );
         /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), l_U924, l_U927 );
        ISEQ_REGISTER_ENTITY( 102207537, "player",  /* PLAYER_PED_ID */ sub_3100(), 0 );
        ISEQ_START( 102207537 );
        l_U922 = 0;
    }
    if (l_U923 == 1)
    {
        ISEQ_UNREGISTER_ENTITY( 102207537, "player" );
         /* TERMINATEISEQ */ sub_6203( 102207537, 1 );
        l_U923 = 0;
    }
    return;
}

/* P_DEBUG_HANDLE_SEQ_S_OFF_VIG_18_LFWD */ void sub_37771()
{
    vector vVar2;
    float fVar5;
    unknown uVar6;
    unknown uVar7;

    if (l_U936 == 0)
    {
        START_WIDGET_GROUP( "S_OFF_VIG_18_LFWD" );
        ADD_WIDGET_STRING( "Max in fire section is jolted by a small explosion in front of him" );
        ADD_WIDGET_BOOL( "Teleport to Sequence", ref l_U929 );
        ADD_WIDGET_BOOL( "Start Sequence", ref l_U930 );
        ADD_WIDGET_BOOL( "Stop Sequence", ref l_U931 );
        START_WIDGET_GROUP( "PLAYER" );
        ADD_WIDGET_FLOAT_SLIDER( "Pos X", ref l_U932._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Y", ref l_U932._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Z", ref l_U932._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Heading", ref l_U935, -360.00000000, 360.00000000, 0.10000000 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        l_U936 = 1;
    }
    if (l_U929 == 1)
    {
         /* P_FADE_OUT_AND_WAIT */ sub_7544( 500 );
        vVar2 = {-989.41300000, 34.08057000, 2.35110400};
        fVar5 = 357.50960000;
         /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), vVar2, fVar5 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 1 );
        }
        uVar6 = GET_HASH_KEY( ref g_U1145 );
        uVar7 = GET_INTERIOR_FROM_NAME( ref g_U1081, 0 );
        SET_INTERIOR_ACTIVE( uVar7, 1, 0 );
        LOAD_SCENE_FOR_ROOM_BY_KEY( uVar7, uVar6 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 0 );
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 1, 0 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( -1.62025100, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -13.13741000, 1065353216, 0 );
         /* P_FADE_IN_AND_WAIT */ sub_7800( 500 );
        l_U929 = 0;
    }
    if (l_U930 == 1)
    {
        ISEQ_UNREGISTER_ENTITY( -301784657, "player" );
         /* TERMINATEISEQ */ sub_6203( -301784657, 1 );
         /* LOADISEQ */ sub_6510( -301784657, 1 );
         /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), l_U932, l_U935 );
        ISEQ_REGISTER_ENTITY( -301784657, "player",  /* PLAYER_PED_ID */ sub_3100(), 0 );
        ISEQ_START( -301784657 );
        l_U930 = 0;
    }
    if (l_U931 == 1)
    {
        ISEQ_UNREGISTER_ENTITY( -301784657, "player" );
         /* TERMINATEISEQ */ sub_6203( -301784657, 1 );
        l_U931 = 0;
    }
    return;
}

/* P_DEBUG_HANDLE_SEQ_S_OFF_VIG_18_LBACK */ void sub_38638()
{
    vector vVar2;
    float fVar5;
    unknown uVar6;
    unknown uVar7;

    if (l_U944 == 0)
    {
        START_WIDGET_GROUP( "S_OFF_VIG_18_LBACK" );
        ADD_WIDGET_STRING( "Max in fire section is jolted by a small explosion in front of him" );
        ADD_WIDGET_BOOL( "Teleport to Sequence", ref l_U937 );
        ADD_WIDGET_BOOL( "Start Sequence", ref l_U938 );
        ADD_WIDGET_BOOL( "Stop Sequence", ref l_U939 );
        START_WIDGET_GROUP( "PLAYER" );
        ADD_WIDGET_FLOAT_SLIDER( "Pos X", ref l_U940._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Y", ref l_U940._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Z", ref l_U940._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Heading", ref l_U943, -360.00000000, 360.00000000, 0.10000000 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        l_U944 = 1;
    }
    if (l_U937 == 1)
    {
         /* P_FADE_OUT_AND_WAIT */ sub_7544( 500 );
        vVar2 = {-989.41300000, 34.08057000, 2.35110400};
        fVar5 = 357.50960000;
         /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), vVar2, fVar5 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 1 );
        }
        uVar6 = GET_HASH_KEY( ref g_U1145 );
        uVar7 = GET_INTERIOR_FROM_NAME( ref g_U1081, 0 );
        SET_INTERIOR_ACTIVE( uVar7, 1, 0 );
        LOAD_SCENE_FOR_ROOM_BY_KEY( uVar7, uVar6 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 0 );
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 1, 0 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( -1.62025100, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -13.13741000, 1065353216, 0 );
         /* P_FADE_IN_AND_WAIT */ sub_7800( 500 );
        l_U937 = 0;
    }
    if (l_U938 == 1)
    {
        ISEQ_UNREGISTER_ENTITY( 443561189, "player" );
         /* TERMINATEISEQ */ sub_6203( 443561189, 1 );
         /* LOADISEQ */ sub_6510( 443561189, 1 );
         /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), l_U940, l_U943 );
        ISEQ_REGISTER_ENTITY( 443561189, "player",  /* PLAYER_PED_ID */ sub_3100(), 0 );
        ISEQ_START( 443561189 );
        l_U938 = 0;
    }
    if (l_U939 == 1)
    {
        ISEQ_UNREGISTER_ENTITY( 443561189, "player" );
         /* TERMINATEISEQ */ sub_6203( 443561189, 1 );
        l_U939 = 0;
    }
    return;
}

/* P_HANDLE_SPRINKER_FX */ void sub_39507()
{
    vector vVar2;
    float fVar5;
    unknown uVar6;
    unknown uVar7;

    if (l_U945 == 0)
    {
        START_WIDGET_GROUP( "Sprinkler test" );
        ADD_WIDGET_BOOL( "Teleport to area", ref l_U946 );
        ADD_WIDGET_INT_SLIDER( "Timer 00 - sprinkler on", ref l_U1008, 0, 1000000, 1 );
        ADD_WIDGET_INT_SLIDER( "Timer 01 - sprinkler off", ref l_U1009, 0, 1000000, 1 );
        ADD_WIDGET_INT_SLIDER( "Timer 02 - sprinkler on", ref l_U1010, 0, 1000000, 1 );
        ADD_WIDGET_INT_SLIDER( "Timer 03 - sprinkler off", ref l_U1011, 0, 1000000, 1 );
        ADD_WIDGET_INT_SLIDER( "Timer 04 - sprinkler on", ref l_U1012, 0, 1000000, 1 );
        ADD_WIDGET_INT_SLIDER( "Timer 05 - sprinkler off", ref l_U1013, 0, 1000000, 1 );
        ADD_WIDGET_BOOL( "Start sprinkler fx", ref l_U947 );
        ADD_WIDGET_BOOL( "Stop sprinkler fx", ref l_U948 );
        STOP_WIDGET_GROUP();
        l_U945 = 1;
    }
    if (l_U946 == 1)
    {
         /* P_FADE_OUT_AND_WAIT */ sub_7544( 500 );
        vVar2 = {-1023.32800000, 31.25103000, 4.92836500};
        fVar5 = 45.06891000;
         /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), vVar2, fVar5 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 1 );
        }
        uVar6 = GET_HASH_KEY( ref g_U1145 );
        uVar7 = GET_INTERIOR_FROM_NAME( ref g_U1081, 0 );
        SET_INTERIOR_ACTIVE( uVar7, 1, 0 );
        LOAD_SCENE_FOR_ROOM_BY_KEY( uVar7, uVar6 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 0 );
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 1, 0 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 69.79922000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -2.86296900, 1065353216, 0 );
         /* P_FADE_IN_AND_WAIT */ sub_7800( 500 );
        l_U946 = 0;
    }
    if (l_U947)
    {
        STOP_PARTICLE_FX_LOOPED( l_U949 );
        STOP_PARTICLE_FX_LOOPED( l_U950 );
        STOP_PARTICLE_FX_LOOPED( l_U951 );
        STOP_PARTICLE_FX_LOOPED( l_U952 );
        STOP_PARTICLE_FX_LOOPED( l_U953 );
         /* RESETTIMER */ sub_20899( ref l_U954 );
         /* RESETTIMER */ sub_20899( ref l_U963 );
         /* RESETTIMER */ sub_20899( ref l_U972 );
         /* RESETTIMER */ sub_20899( ref l_U981 );
         /* RESETTIMER */ sub_20899( ref l_U990 );
         /* RESETTIMER */ sub_20899( ref l_U999 );
         /* CREATETIMER */ sub_19943( ref l_U963, l_U1008, 1, 0 );
         /* CREATETIMER */ sub_19943( ref l_U963, l_U1009, 1, 0 );
         /* CREATETIMER */ sub_19943( ref l_U972, l_U1010, 1, 0 );
         /* CREATETIMER */ sub_19943( ref l_U981, l_U1011, 1, 0 );
         /* CREATETIMER */ sub_19943( ref l_U990, l_U1012, 1, 0 );
         /* CREATETIMER */ sub_19943( ref l_U999, l_U1013, 1, 0 );
        l_U949 = START_PARTICLE_FX_LOOPED_AT_COORD( "Flu_water_sewageGreen_S", -1032.20800000, 30.09700000, 7.91100000, 0, 0, 0, 1.00000000 );
        l_U950 = START_PARTICLE_FX_LOOPED_AT_COORD( "Flu_water_sewageGreen_S", -1027.15600000, 28.35900000, 7.63600000, 0, 0, 0, 1.00000000 );
        l_U951 = START_PARTICLE_FX_LOOPED_AT_COORD( "Flu_water_sewageGreen_S", -1026.13600000, 27.63600000, 7.90400000, 0, 0, 0, 1.00000000 );
        l_U952 = START_PARTICLE_FX_LOOPED_AT_COORD( "Flu_water_sewageGreen_S", -1033.58500000, 28.35300000, 7.47700000, 0, 0, 0, 1.00000000 );
         /* STARTTIMER */ sub_20093( ref l_U954 );
        l_U947 = 0;
    }
    if ( /* ISTIMERDONE */ sub_20681( ref l_U954 ))
    {
        STOP_PARTICLE_FX_LOOPED( l_U953 );
        l_U953 = START_PARTICLE_FX_LOOPED_AT_COORD( "Fire_Sprinkler_S", -1032.20800000, 30.09700000, 7.91100000, 0, 0, 0, 1.00000000 );
         /* STARTTIMER */ sub_20093( ref l_U963 );
    }
    if ( /* ISTIMERDONE */ sub_20681( ref l_U963 ))
    {
        STOP_PARTICLE_FX_LOOPED( l_U953 );
         /* STARTTIMER */ sub_20093( ref l_U972 );
    }
    if ( /* ISTIMERDONE */ sub_20681( ref l_U972 ))
    {
        STOP_PARTICLE_FX_LOOPED( l_U953 );
        l_U953 = START_PARTICLE_FX_LOOPED_AT_COORD( "Fire_Sprinkler_S", -1032.20800000, 30.09700000, 7.91100000, 0, 0, 0, 1.00000000 );
         /* STARTTIMER */ sub_20093( ref l_U981 );
    }
    if ( /* ISTIMERDONE */ sub_20681( ref l_U981 ))
    {
        STOP_PARTICLE_FX_LOOPED( l_U953 );
         /* STARTTIMER */ sub_20093( ref l_U990 );
    }
    if ( /* ISTIMERDONE */ sub_20681( ref l_U990 ))
    {
        STOP_PARTICLE_FX_LOOPED( l_U953 );
        l_U953 = START_PARTICLE_FX_LOOPED_AT_COORD( "Fire_Sprinkler_S", -1032.20800000, 30.09700000, 7.91100000, 0, 0, 0, 1.00000000 );
         /* STARTTIMER */ sub_20093( ref l_U999 );
    }
    if ( /* ISTIMERDONE */ sub_20681( ref l_U999 ))
    {
        STOP_PARTICLE_FX_LOOPED( l_U953 );
    }
    if (l_U948)
    {
        STOP_PARTICLE_FX_LOOPED( l_U949 );
        STOP_PARTICLE_FX_LOOPED( l_U950 );
        STOP_PARTICLE_FX_LOOPED( l_U951 );
        STOP_PARTICLE_FX_LOOPED( l_U952 );
        STOP_PARTICLE_FX_LOOPED( l_U953 );
        l_U948 = 0;
    }
    return;
}

/* P_HANDLE_SPFX */ void sub_41152()
{
    if (l_U623 == 0)
    {
        START_WIDGET_GROUP( "Special FX Mod - FIRE_COUGH" );
        ADD_WIDGET_BOOL( "Start SPFX", ref l_U624 );
        ADD_WIDGET_BOOL( "Update SPFX (Strength update only)", ref l_U625 );
        ADD_WIDGET_BOOL( "Kill SPFX", ref l_U626 );
        ADD_WIDGET_FLOAT_SLIDER( "Strength", ref l_U627, 0.00000000, 1.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Duration (In seconds)", ref l_U628, 0.00000000, 100000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Fade In", ref l_U629, 0.00000000, 1.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Fade Out", ref l_U630, 0.00000000, 1.00000000, 0.10000000 );
        STOP_WIDGET_GROUP();
        l_U623 = 1;
    }
    if (l_U624)
    {
        DEACTIVATE_SPECIAL_FX_MODIFIER( "FIRE_COUGH" );
        ADD_SPECIAL_FX_MODIFIER( "FIRE_COUGH", l_U627, l_U628, l_U629, l_U630 );
        l_U624 = 0;
    }
    if (l_U625)
    {
        UPDATE_SPECIAL_FX_MODIFIER_STRENGTH( "FIRE_COUGH", l_U627, 0.50000000 );
        l_U625 = 0;
    }
    if (l_U626)
    {
        DEACTIVATE_SPECIAL_FX_MODIFIER( "FIRE_COUGH" );
        l_U626 = 0;
    }
    return;
}

/* P_HANDLE_SPFX_2_2 */ void sub_41670()
{
    if (l_U631 == 0)
    {
        START_WIDGET_GROUP( "OF_lens_debris" );
        ADD_WIDGET_BOOL( "Start OF_lens_debris", ref l_U632 );
        ADD_WIDGET_BOOL( "Kill OF_lens_debris", ref l_U634 );
        ADD_WIDGET_BOOL( "Update Evo", ref l_U635 );
        ADD_WIDGET_FLOAT_SLIDER( "Evo value", ref l_U643, 0, 100, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Scale", ref l_U642, 0, 1000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Position x", ref l_U636._fU0, 64536, 1000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Position y", ref l_U636._fU4, 64536, 1000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Position z", ref l_U636._fU8, 64536, 1000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Rotation x", ref l_U639._fU0, 64536, 1000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Rotation y", ref l_U639._fU4, 64536, 1000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Rotation z", ref l_U639._fU8, 64536, 1000, 0.10000000 );
        STOP_WIDGET_GROUP();
        l_U631 = 1;
    }
    if (l_U632)
    {
         /* WRITESCRIPTLOG */ sub_2982( "SA", "Starting OF_lens_debris", "###" );
        STOP_PARTICLE_FX_LOOPED( l_U644 );
        l_U644 = START_PARTICLE_FX_LOOPED_AT_COORD( "OF_lens_debris", l_U636, l_U639, l_U642 );
         /* WRITE_INT */ sub_32593( l_U644 );
        SET_PARTICLE_FX_LOOPED_EVOLUTION( l_U644, "smoke", l_U643 );
        l_U632 = 0;
    }
    if (l_U635)
    {
         /* WRITESCRIPTLOG */ sub_2982( "SA", "Setting evo of OF_lens_debris", "###" );
        SET_PARTICLE_FX_LOOPED_EVOLUTION( l_U644, "smoke", l_U643 );
        l_U635 = 0;
    }
    if (l_U634)
    {
         /* WRITESCRIPTLOG */ sub_2982( "SA", "Killing OF_lens_debris", "###" );
        STOP_PARTICLE_FX_LOOPED( l_U644 );
        l_U634 = 0;
    }
    return;
}

/* P_HANDLE_MID_10_OFFICE_BLENDOUT */ void sub_42467()
{
    vector vVar2;
    float fVar5;
    unknown uVar6;
    unknown uVar7;

    if (l_U1041 == 0)
    {
        START_WIDGET_GROUP( "MID_10_OFFICE_BLENDOUT" );
        ADD_WIDGET_STRING( "Max Fire blendout" );
        ADD_WIDGET_BOOL( "Teleport to Sequence", ref l_U1014 );
        ADD_WIDGET_BOOL( "Start Sequence", ref l_U1015 );
        ADD_WIDGET_BOOL( "Stop Sequence", ref l_U1016 );
        ADD_WIDGET_BOOL( "Use Animated Cam", ref l_U1021 );
        ADD_WIDGET_INT_SLIDER( "Player Control Delay", ref l_U1040, 0, 999999, 100 );
        START_WIDGET_GROUP( "Animated Camera" );
        ADD_WIDGET_FLOAT_SLIDER( "Offset Pos X", ref l_U1022._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Offset Pos Y", ref l_U1022._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Offset Pos Z", ref l_U1022._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Offset Heading", ref l_U1025, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_INT_SLIDER( "Animated Camera Stop Time", ref l_U1026, 0, 999999, 100 );
        ADD_WIDGET_INT_SLIDER( "Animated Camera to Gameplay Cam Interp Time", ref l_U1028, 0, 999999, 100 );
        ADD_WIDGET_FLOAT_SLIDER( "Gameplay Cam Heading", ref l_U1029, -180.00000000, 180.00000000, 100 );
        ADD_WIDGET_FLOAT_SLIDER( "Gameplay Cam Pitch", ref l_U1030, -180.00000000, 180.00000000, 100 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Player" );
        ADD_WIDGET_FLOAT_SLIDER( "Pos X", ref l_U1017._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Y", ref l_U1017._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Z", ref l_U1017._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Heading", ref l_U1020, -5000.00000000, 5000.00000000, 0.01000000 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        l_U1041 = 1;
    }
    if (l_U1014 == 1)
    {
         /* P_FADE_OUT_AND_WAIT */ sub_7544( 250 );
        vVar2 = {-982.81000000, 23.94000000, -0.42000000};
        fVar5 = -15.83000000;
         /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), vVar2, fVar5 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 1 );
        }
        uVar6 = GET_HASH_KEY( ref g_U1121 );
        uVar7 = GET_INTERIOR_FROM_NAME( ref g_U1081, 0 );
        SET_INTERIOR_ACTIVE( uVar7, 1, 0 );
        LOAD_SCENE_FOR_ROOM_BY_KEY( uVar7, uVar6 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 0 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 5.73538800, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -6.17212600, 1065353216, 0 );
         /* P_FADE_IN_AND_WAIT */ sub_7800( 250 );
        l_U1014 = 0;
    }
    if (l_U1015 == 1)
    {
         /* NIS_PRE_SETUP */ sub_43610( 1, 0, 0, 1 );
        l_U1027 = 0;
        ISEQ_UNREGISTER_ENTITY( 1159597124, "player" );
         /* TERMINATEISEQ */ sub_6203( 1159597124, 1 );
         /* LOADISEQ */ sub_6510( 1159597124, 1 );
         /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), l_U1017, l_U1020 );
        ISEQ_REGISTER_ENTITY( 1159597124, "player",  /* PLAYER_PED_ID */ sub_3100(), 0 );
        ISEQ_START( 1159597124 );
        if (l_U1021 == 1)
        {
            CAMERA_PLAY_ANIMATED( "LEVEL_S_OFFICE_INJ", "MID_10_OFFICE_BLENDOUT_CAM", 1, l_U1022, l_U1025, 0, 0 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( l_U1029, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U1030, 1065353216, 0 );
         /* CREATETIMER */ sub_19943( ref l_U1031, l_U1040, 1, 0 );
         /* STARTTIMER */ sub_20093( ref l_U1031 );
        l_U1015 = 0;
    }
    if (l_U1016 == 1)
    {
        l_U1027 = 0;
        ISEQ_UNREGISTER_ENTITY( 1159597124, "player" );
         /* TERMINATEISEQ */ sub_6203( 1159597124, 1 );
        l_U1016 = 0;
    }
    if (l_U1027 == 0)
    {
        if (IS_ANIMATED_CAMERA_PLAYING() == 1)
        {
            if (CAMERA_ANIMATED_CURRENT_TIME() >= l_U1026)
            {
                SET_GAMEPLAY_CAM_RELATIVE_HEADING( l_U1029, 1065353216, 0 );
                SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U1030, 1065353216, 0 );
                CAMERA_ANIMATED_STOP( l_U1028, 1 );
                l_U1027 = 1;
            }
        }
    }
    if (( /* ISTIMERDONE */ sub_20681( ref l_U1031 )) == 1)
    {
         /* NIS_POST_SETUP */ sub_44218( 1, 1 );
    }
    return;
}

/* NIS_PRE_SETUP */ void sub_43610(int iParam0, int iParam1, unknown uParam2, boolean bParam3)
{
    END_POSTFX_BLENDER( 12, 0 );
    if (bParam3)
    {
        STOP_ALL_IMAGEFX( 0 );
    }
    SET_WIDESCREEN_BORDERS( 1, 500 );
    DISPLAY_HUD( 0 );
    if (iParam0 == 1)
    {
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
        {
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 0, uParam2 );
            SET_PED_DUCKING(  /* PLAYER_PED_ID */ sub_3100(), 0 );
            if (iParam1 == 1)
            {
                CLEAR_PED_TASKS_IMMEDIATELY(  /* PLAYER_PED_ID */ sub_3100() );
            }
            SET_PED_INVINCIBLE(  /* PLAYER_PED_ID */ sub_3100(), 1 );
        }
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    return;
}

/* NIS_POST_SETUP */ void sub_44218(boolean bParam0, boolean bParam1)
{
    SET_WIDESCREEN_BORDERS( 0, 500 );
    DISPLAY_HUD( 1 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
    {
        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 1, 0 );
        SET_PED_INVINCIBLE(  /* PLAYER_PED_ID */ sub_3100(), 0 );
        if (bParam0)
        {
             /* P_MAX_RELOAD_WEAPONS */ sub_44316();
        }
    }
    PULSE_CROSSHAIR( 1 );
    if (bParam1)
    {
        DESTROY_ALL_CAMS();
    }
    return;
}

/* P_MAX_RELOAD_WEAPONS */ void sub_44316()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
    {
        uVar2 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_3100(), 0, 0 );
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_3100(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
        {
            uVar4 = GET_MAX_AMMO_IN_HAND_CLIP_MP(  /* PLAYER_PED_ID */ sub_3100(), 0 );
            SET_WEAPON_AMMO_IN_CLIP( uVar2, uVar4 );
        }
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            uVar5 = GET_MAX_AMMO_IN_HAND_CLIP_MP(  /* PLAYER_PED_ID */ sub_3100(), 1 );
            SET_WEAPON_AMMO_IN_CLIP( uVar3, uVar5 );
        }
    }
    return;
}

/* P_HANDLE_HANDY_CAM_WIDGET */ void sub_44530()
{
    if (NOT l_U1042)
    {
        START_WIDGET_GROUP( "Handy_Cam_Widget" );
        ADD_WIDGET_BOOL( "Start Handy Cam", ref l_U1043 );
        ADD_WIDGET_BOOL( "Stop Handy Cam", ref l_U1044 );
        ADD_WIDGET_FLOAT_SLIDER( "Handy Cam Scale", ref l_U1045, 0.00000000, 5000.00000000, 0.01000000 );
        STOP_WIDGET_GROUP();
        l_U1042 = 1;
    }
    if (l_U1043)
    {
         /* WRITESCRIPTLOG */ sub_2982( "SA", "Starting Handy Cam", "###" );
        CAMERA_USE_HANDY_CAM( 1, l_U1045, 1 );
        l_U1043 = 0;
    }
    if (l_U1044)
    {
         /* WRITESCRIPTLOG */ sub_2982( "SA", "Stopping Handy Cam", "###" );
        CAMERA_USE_HANDY_CAM( 0, 0.00000000, 1 );
        l_U1044 = 0;
    }
    return;
}

/* P_DEBUG_HANDLE_SHIMMY_PROPS */ void sub_44865()
{
    vector vVar2;
    float fVar5;
    unknown uVar6;
    unknown uVar7;
    int I;

    if (l_U1068 == 0)
    {
        START_WIDGET_GROUP( "Shimmy Props Helper" );
        ADD_WIDGET_BOOL( "Teleport to Props", ref l_U1064 );
        ADD_WIDGET_BOOL( "Create Props", ref l_U1065 );
        ADD_WIDGET_BOOL( "Remove Props", ref l_U1066 );
        START_WIDGET_GROUP( "RF_TMDCLLPS_PRP" );
        ADD_WIDGET_FLOAT_SLIDER( "Pos X", ref l_U1055._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Y", ref l_U1055._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Z", ref l_U1055._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "RF_TMDCLLPS_WD_ROOTA-F" );
        ADD_WIDGET_FLOAT_SLIDER( "Pos X", ref l_U1058._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Y", ref l_U1058._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Z", ref l_U1058._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "RF_TMDCLLPS_FR" );
        ADD_WIDGET_FLOAT_SLIDER( "Pos X", ref l_U1061._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Y", ref l_U1061._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Z", ref l_U1061._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
        STOP_WIDGET_GROUP();
        ADD_WIDGET_BOOL( "Play Animation", ref l_U1067 );
        STOP_WIDGET_GROUP();
        l_U1068 = 1;
    }
    if (l_U1067)
    {
         /* WRITESCRIPTLOG */ sub_2982( "SA", "Playing Shimmy Animation", "###" );
        PLAY_OBJECT_ANIM( l_U1046[0], "RF_TMDCLLPS_PRP", "of_tmdCllps", 0.00000000, 0, 1 );
        PLAY_OBJECT_ANIM( l_U1046[1], "RF_TMDCLLPS_WD_ROOTA", "of_tmdCllps", 0.00000000, 0, 1 );
        PLAY_OBJECT_ANIM( l_U1046[2], "RF_TMDCLLPS_WD_ROOTB", "of_tmdCllps", 0.00000000, 0, 1 );
        PLAY_OBJECT_ANIM( l_U1046[3], "RF_TMDCLLPS_WD_ROOTC", "of_tmdCllps", 0.00000000, 0, 1 );
        PLAY_OBJECT_ANIM( l_U1046[4], "RF_TMDCLLPS_WD_ROOTD", "of_tmdCllps", 0.00000000, 0, 1 );
        PLAY_OBJECT_ANIM( l_U1046[5], "RF_TMDCLLPS_WD_ROOTE", "of_tmdCllps", 0.00000000, 0, 1 );
        PLAY_OBJECT_ANIM( l_U1046[6], "RF_TMDCLLPS_WD_ROOTF", "of_tmdCllps", 0.00000000, 0, 1 );
        PLAY_OBJECT_ANIM( l_U1046[7], "RF_TMDCLLPS_FR", "of_tmdCllps", 0.00000000, 0, 1 );
        l_U1067 = 0;
    }
    if (l_U1064 == 1)
    {
        vVar2 = {-991.35920000, 5.58632200, 4.88881300};
        fVar5 = 171.05160000;
         /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), vVar2, fVar5 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 1 );
        }
        uVar6 = GET_HASH_KEY( ref g_U1153 );
        uVar7 = GET_INTERIOR_FROM_NAME( ref g_U1113, 0 );
        SET_INTERIOR_ACTIVE( uVar7, 1, 0 );
        LOAD_SCENE_FOR_ROOM_BY_KEY( uVar7, uVar6 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 0 );
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 1, 0 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 6.23859900, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -14.70945000, 1065353216, 0 );
        l_U1064 = 0;
    }
    if (l_U1065 == 1)
    {
         /* P_CREATE_SHIMMY_PROPS */ sub_46285();
        l_U1065 = 0;
    }
    if (l_U1066 == 1)
    {
        for ( I = 0; I < l_U1046; I++ )
        {
             /* CLEANOBJECT */ sub_9251( l_U1046[I] );
        }
        l_U1066 = 0;
    }
    return;
}

/* P_CREATE_SHIMMY_PROPS */ void sub_46285()
{
    int I;

     /* WRITESCRIPTLOG */ sub_2982( "SP", "P_CREATE_SHIMMY_PROPS", 0 );
    for ( I = 0; I < l_U1046; I++ )
    {
         /* CLEANOBJECT */ sub_9251( l_U1046[I] );
    }
    l_U1046[0] =  /* CREATEOBJECTNOOFFSET */ sub_9756( 789704993, l_U1055, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U1046[1] =  /* CREATEOBJECTNOOFFSET */ sub_9756( 1245447859, l_U1058, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U1046[2] =  /* CREATEOBJECTNOOFFSET */ sub_9756( 1481155276, l_U1058, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U1046[3] =  /* CREATEOBJECTNOOFFSET */ sub_9756( 1170308542, l_U1058, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U1046[4] =  /* CREATEOBJECTNOOFFSET */ sub_9756( 326670637, l_U1058, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U1046[5] =  /* CREATEOBJECTNOOFFSET */ sub_9756( 497233282, l_U1058, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U1046[6] =  /* CREATEOBJECTNOOFFSET */ sub_9756( -345618171, l_U1058, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U1046[7] =  /* CREATEOBJECTNOOFFSET */ sub_9756( 1061947701, l_U1061, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    for ( I = 0; I < l_U1046; I++ )
    {
        if ((DOES_OBJECT_EXIST( l_U1046[I] )) == 1)
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U1046[I], ref g_U1153 );
            FREEZE_OBJECT_POSITION( l_U1046[I], 1 );
            SET_OBJECT_COLLISION( l_U1046[I], 1 );
        }
    }
    return;
}

/* P_HANDLE_B_OUT_MID_13C */ void sub_46921()
{
    unknown uVar2;
    unknown uVar3;
    int I;

    if (NOT l_U1069)
    {
        START_WIDGET_GROUP( "B_OUT_MID_13C" );
        ADD_WIDGET_STRING( "Max Fire Office blendout" );
        ADD_WIDGET_BOOL( "Teleport to Sequence", ref l_U1070 );
        ADD_WIDGET_BOOL( "Start Sequence", ref l_U1071 );
        ADD_WIDGET_BOOL( "Stop Sequence", ref l_U1072 );
        ADD_WIDGET_FLOAT_SLIDER( "Gameplay Heading", ref l_U1079, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Gameplay Pitch", ref l_U1080, -5000.00000000, 5000.00000000, 0.01000000 );
        START_WIDGET_GROUP( "Player" );
        ADD_WIDGET_FLOAT_SLIDER( "Pos X", ref l_U1075._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Y", ref l_U1075._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Z", ref l_U1075._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Heading", ref l_U1078, -5000.00000000, 5000.00000000, 0.01000000 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        l_U1069 = 1;
    }
    if (l_U1070)
    {
         /* P_FADE_OUT_AND_WAIT */ sub_7544( 1000 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
             /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), l_U1075, l_U1078 );
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 1 );
        }
        uVar2 = GET_HASH_KEY( ref g_U1145 );
        uVar3 = GET_INTERIOR_FROM_NAME( ref g_U1105, 0 );
        SET_INTERIOR_ACTIVE( uVar3, 1, 0 );
        LOAD_SCENE_FOR_ROOM_BY_KEY( uVar3, uVar2 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 0 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( l_U1079, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U1080, 1065353216, 0 );
         /* P_FADE_IN_AND_WAIT */ sub_7800( 1000 );
        l_U1070 = 0;
    }
    if (l_U1071)
    {
         /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), l_U1075, l_U1078 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( l_U1079, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U1080, 1065353216, 0 );
        l_U1125[0] = {-1013.74500000, 0.93100000, 4.92900000};
        l_U1125[1] = {-1012.45000000, -0.27400000, 4.92900000};
        l_U1125[2] = {-1007.97500000, 0.86300000, 4.92400000};
        l_U1135[0] = 88.99000000;
        l_U1135[1] = 0.00000000;
        l_U1135[2] = 90.00000000;
         /* LOADANIMDICT */ sub_3712( "LEVEL_S_OFFICE_CP_01", 0, 1 );
         /* LOADMODEL */ sub_9371( 1734252999, 1 );
         /* LOADWEAPON */ sub_47830( -862236369, 1 );
         /* P_CREATEPEDSTRUCTWITHNAME */ sub_48009( ref l_U1085[0], l_U1125[0], l_U1135[0], 1398787313, 7, 3, 2, 0, 0 );
         /* P_CREATEPEDSTRUCTWITHNAME */ sub_48009( ref l_U1085[1], l_U1125[1], l_U1135[1], 1398787313, 7, 3, 2, 0, 0 );
         /* P_CREATEPEDSTRUCTWITHNAME */ sub_48009( ref l_U1085[2], l_U1125[2], l_U1135[2], 1398787313, 7, 3, 2, 0, 0 );
        for ( I = 0; I < 3; I++ )
        {
            l_U1081[I] =  /* CREATEPED */ sub_48242( ref l_U1085[I] );
            SET_ROOM_FOR_PED_BY_NAME( l_U1081[I], ref g_U1145 );
             /* F_GIVEPEDWEAPON */ sub_48998( l_U1081[I], -862236369, 25000, 0, 0 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1081[I], 1 );
        }
         /* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ sub_49445( ref l_U1081, "piEnemy13c_" );
        ISEQ_UNREGISTER_ENTITY( 431956140, "player" );
        ISEQ_UNREGISTER_ENTITY( 431956140, "enemy" );
         /* TERMINATEISEQ */ sub_6203( 431956140, 1 );
         /* LOADANIMDICT */ sub_3712( "LEVEL_S_OFFICE_CP_07", 0, 1 );
         /* LOADISEQ */ sub_6510( 431956140, 1 );
        ISEQ_REGISTER_ENTITY( 431956140, "player",  /* PLAYER_PED_ID */ sub_3100(), 0 );
        ISEQ_REGISTER_ENTITY( 431956140, "enemy", l_U1081[0], 0 );
        ISEQ_START( 431956140 );
        l_U1073 = 0;
        l_U1074 = 0;
        l_U1071 = 0;
    }
    if (ISEQ_IS_LOADED( 431956140 ))
    {
        if (ISEQ_QUERY_STATE( 431956140, 3 ))
        {
             /* WRITESCRIPTLOG */ sub_2982( "SA", "B_OUT_MID_13C_OFF - Playing", 0 );
            if (NOT l_U1073)
            {
                 /* WRITESCRIPTLOG */ sub_2982( "SA", "bMid13CBlendMaxSnappedToCover", 0 );
                if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
                {
                    if ((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_3100(), 48 )) == 3)
                    {
                         /* WRITESCRIPTLOG */ sub_2982( "SA", "Snapping Max to cover", 0 );
                        SNAP_PLAYER_TO_COVERPOINT(  /* PLAYER_ID */ sub_3138(), "GenCover", "8F3ECDA9_C3E45C7_Corner1", 1 );
                        PED_FINISH_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_3100(), 48 );
                        l_U1073 = 1;
                    }
                }
            }
            if (NOT l_U1074)
            {
                 /* WRITESCRIPTLOG */ sub_2982( "SA", "bMid13CBlendEnemy0SnappedToCover", 0 );
                if ((NOT (IS_PED_DEAD( l_U1081[0] ))) AND (DOES_PED_EXIST( l_U1081[0] )))
                {
                    if ((PED_GET_ACTION_INTENTION_STATUS( l_U1081[0], 47 )) == 3)
                    {
                         /* WRITESCRIPTLOG */ sub_2982( "SA", "Snapping piEnemy13c_0 to cover", 0 );
                        TASK_COMBAT_SNAP_TO_COVER( l_U1081[0], "GenCover", "8F3ECDA9_4E6B48DC_Corner2",  /* PLAYER_PED_ID */ sub_3100() );
                        PED_FINISH_ACTION_INTENTION( l_U1081[0], 47 );
                        l_U1074 = 1;
                    }
                }
            }
        }
    }
    if (l_U1072)
    {
        ISEQ_UNREGISTER_ENTITY( 431956140, "player" );
        ISEQ_UNREGISTER_ENTITY( 431956140, "enemy" );
         /* TERMINATEISEQ */ sub_6203( 431956140, 1 );
         /* CLEANPEDARRAY */ sub_50346( ref l_U1081 );
         /* UNLOADMODEL */ sub_50505( 43800727 );
         /* UNLOADWEAPON */ sub_50660( -862236369 );
        l_U1072 = 0;
    }
    return;
}

/* LOADWEAPON */ void sub_47830(unknown uParam0, boolean bParam1)
{
    REQUEST_WEAPON( uParam0 );
    if (bParam1)
    {
        while ((HAS_WEAPON_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting to load weapon: {!f1} : {1} ###", 2, 1, 199730165, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* P_CREATEPEDSTRUCTWITHNAME */ void sub_48009(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU20 = uParam5;
    iParam0->_fU12 = uParam4;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU16 = GET_SCENE_PED_MODEL( uParam5 );
    iParam0->_fU48 = uParam10;
    return;
}

/* CREATEPED */ void sub_48242(int iParam0)
{
    int iVar3;

    iVar3 = 0;
    if (iParam0->_fU16 == 0)
    {
        if (iParam0->_fU20 != 0)
        {
            iVar3 = GET_SCENE_PED_MODEL( iParam0->_fU20 );
        }
    }
    else
    {
        iVar3 = iParam0->_fU16;
    }
    if ((HAS_MODEL_LOADED( iVar3 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_9371( iParam0->_fU16, 1 );
    }
    iParam0->_fU40 = CREATE_PED( iParam0->_fU24, iParam0->_fU16, iParam0->_fU0, iParam0->_fU12, 1, iParam0->_fU48 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( iParam0->_fU40, 1 );
        SET_PED_COORDS_NO_OFFSET( iParam0->_fU40, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU40 ) );
        SET_PED_HEADING( iParam0->_fU40, iParam0->_fU12 );
        iParam0->_fU44 = 1;
    }
    else
    {
        SCRIPT_ASSERT( "Error: The ped you created doesn't exist or is dead!", 0 );
    }
     /* SETPEDDEFAULTSTATS */ sub_48733( iParam0->_fU40 );
     /* SETPEDDEFAULTTEMPLATE */ sub_48834( iParam0->_fU40 );
    return iParam0->_fU40;
}

/* SETPEDDEFAULTSTATS */ void sub_48733(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_HEALTH( uParam0, 200, 0 );
        SET_PED_ACCURACY( uParam0, -729479261 );
    }
    return;
}

/* SETPEDDEFAULTTEMPLATE */ void sub_48834(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_AI_TEMPLATE( uParam0, "AIT_DEFAULT_GENERIC" );
    }
    return;
}

/* F_GIVEPEDWEAPON */ void sub_48998(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's hand MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, uParam2, uParam3 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
                    DISPLAYF( "[SP]### Waiting for a weapon to exist: {} ###", 1, 513, uParam1 );
                }
            }
        }
    }
    else
    {
         /* WRITE_STRING */ sub_9488( "[SP]### (F_GivePedWeapon) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

/* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ void sub_49445(unknown uParam0, unknown uParam1)
{
    int I;
    char[32] cVar5;

    for ( I = 0; I < (uParam0^); I++ )
    {
        if (DOES_PED_EXIST( (uParam0^)[I] ))
        {
            StrCopy( ref cVar5, uParam1, 32 );
            ConcatString(ref cVar5, " ", 32);
            ConcatString(ref cVar5, I, 32);
            SET_PED_NAME_DEBUG( (uParam0^)[I], ref cVar5 );
        }
    }
    return;
}

/* CLEANPEDARRAY */ void sub_50346(unknown uParam0)
{
    int I;

    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
         /* CLEANPED */ sub_50396( (uParam0^)[I] );
    }
    return;
}

/* CLEANPED */ void sub_50396(unknown uParam0)
{
    if (DOES_PED_EXIST( uParam0 ))
    {
        if ((NOT (IS_PED_DEAD( uParam0 ))) || (IS_PED_DEAD( uParam0 )))
        {
            REMOVE_ALL_PED_WEAPONS( uParam0 );
            DELETE_PED( ref uParam0 );
        }
    }
    return;
}

/* UNLOADMODEL */ void sub_50505(unknown uParam0)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 1)
    {
        SET_MODEL_AS_NO_LONGER_NEEDED( uParam0 );
    }
    else
    {
         /* WRITE_STRING */ sub_9488( "[SP]### ERROR! (UnloadModel) Trying to unload a model that isn't in the img! ###" );
    }
    return;
}

/* UNLOADWEAPON */ void sub_50660(unknown uParam0)
{
    SET_WEAPON_AS_NO_LONGER_NEEDED( uParam0 );
    return;
}

/* P_HANDLE_S_OFF_VIG_17_B */ void sub_50716()
{
    unknown uVar2;
    unknown uVar3;

    if (l_U1139 == 0)
    {
        START_WIDGET_GROUP( "S_OFF_VIG_17_B" );
        ADD_WIDGET_STRING( "Max is taunted by enemy with gun" );
        ADD_WIDGET_BOOL( "Teleport to Sequence", ref l_U1140 );
        ADD_WIDGET_BOOL( "Start Sequence", ref l_U1141 );
        ADD_WIDGET_BOOL( "Stop Sequence", ref l_U1142 );
        START_WIDGET_GROUP( "MPM Values" );
        ADD_WIDGET_BOOL( "bVig17ShowInGame", ref l_U1153 );
        ADD_WIDGET_FLOAT_SLIDER( "Vig17 BulletTime %", ref l_U1156, 0.00000000, 1.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Vig17 bullet time DistCheck", ref l_U1155, 0.00000000, 10.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Vig17 BulletTime2 %", ref l_U1159, 0.00000000, 1.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Vig17 bullet time DistCheck2", ref l_U1158, 0.00000000, 10.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Vig17 melee DistCheck", ref l_U1161, 0.00000000, 10.00000000, 0.10000000 );
        ADD_WIDGET_INT_SLIDER( "Vig17 Time out", ref l_U1162, 0, 90000, 100 );
        ADD_WIDGET_INT_SLIDER( "Vig17 bullet time out", ref l_U1172, 0, 90000, 100 );
        ADD_WIDGET_FLOAT_SLIDER( "vig17 TooCloseDist", ref l_U1183, 0.00000000, 10.00000000, 0.10000000 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "ENEMY" );
        ADD_WIDGET_FLOAT_SLIDER( "Pos X", ref l_U1143._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Y", ref l_U1143._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Z", ref l_U1143._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Heading", ref l_U1146, -360.00000000, 360.00000000, 0.10000000 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        l_U1139 = 1;
    }
    if (l_U1140 == 1)
    {
         /* P_FADE_OUT_AND_WAIT */ sub_7544( 500 );
         /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), l_U1147, l_U1150 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 1 );
        }
        uVar2 = GET_HASH_KEY( ref g_U1145 );
        uVar3 = GET_INTERIOR_FROM_NAME( ref g_U1081, 0 );
        SET_INTERIOR_ACTIVE( uVar3, 1, 0 );
        LOAD_SCENE_FOR_ROOM_BY_KEY( uVar3, uVar2 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 0 );
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 1, 0 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( l_U1151, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U1152, 1065353216, 0 );
         /* P_FADE_IN_AND_WAIT */ sub_7800( 500 );
        l_U1140 = 0;
    }
    if (l_U1141 == 1)
    {
         /* LOADMODEL */ sub_9371( 43800727, 1 );
         /* P_CREATEPEDSTRUCTWITHNAME */ sub_48009( ref l_U1185, l_U1143, l_U1146, -1192264476, 7, 3, 2, 0, 0 );
        l_U1184 =  /* CREATEPED */ sub_48242( ref l_U1185 );
        if (NOT (IS_PED_DEAD( l_U1184 )))
        {
            SET_ROOM_FOR_PED_BY_NAME( l_U1184, ref g_U1129 );
             /* F_GIVEPEDWEAPON */ sub_48998( l_U1184, -862236369, 25000, 0, 0 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1184, 1 );
            SET_PED_PRIMARY_LOOKAT( l_U1184,  /* PLAYER_PED_ID */ sub_3100() );
        }
        ISEQ_UNREGISTER_ENTITY( 562579323, "enemy" );
         /* TERMINATEISEQ */ sub_6203( 562579323, 1 );
         /* LOADISEQ */ sub_6510( 562579323, 1 );
        SET_CAMERA_OVERRIDE( "S_OFFICE_FIRE_DISARM", "", 0, 1, 1 );
        ISEQ_REGISTER_ENTITY( 562579323, "enemy", l_U1184, 0 );
        ISEQ_START( 562579323 );
        REMOVE_ALL_PED_WEAPONS(  /* PLAYER_PED_ID */ sub_3100() );
        if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_3138() )))
        {
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 0, 0 );
            REENABLE_PLAYER_INPUT( 10 );
            REENABLE_PLAYER_INPUT( 11 );
            REENABLE_PLAYER_INPUT( 12 );
            REENABLE_PLAYER_INPUT( 14 );
            REENABLE_PLAYER_INPUT( 15 );
            REENABLE_PLAYER_INPUT( 16 );
            REENABLE_PLAYER_INPUT( 17 );
            REENABLE_PLAYER_INPUT( 4 );
        }
        ENABLE_GRAVITY_WELL( "s_office_fireatrium_gravitywells", "GRAVITY_WELL_DISARM_MPM", 1, 1, 1, 1.50000000 );
        l_U1199[0] = "MIDSCENE:   MID_13B Failure";
         /* CREATETIMER */ sub_19943( ref l_U1163, l_U1162, 1, 0 );
         /* STARTTIMER */ sub_20093( ref l_U1163 );
         /* CREATETIMER */ sub_19943( ref l_U1173, l_U1172, 1, 0 );
        l_U1160 = 1;
        l_U1154 = 1;
        l_U1157 = 1;
        l_U1182 = 1;
        l_U1198 = 0;
        l_U1141 = 0;
    }
    if (l_U1153 == 1)
    {
        if ( /* ISTIMERDONE */ sub_20681( ref l_U1163 ))
        {
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
            {
                 /* WRITESCRIPTLOG */ sub_2982( "NS", "tmrVig17MeleeTime", 0 );
                 /* P_FADE_OUT_AND_WAIT */ sub_7544( 0 );
                DEACTIVATE_BULLET_TIME( 1, 0 );
                 /* P_BLACKSCREENSCENE */ sub_52449( ref l_U1199, 0, 1, 1, 1 );
                l_U1142 = 1;
                l_U1142 = 1;
            }
        }
        if ( /* ISTIMERDONE */ sub_20681( ref l_U1173 ))
        {
             /* WRITESCRIPTLOG */ sub_2982( "NS", "tmrVig17BTTime", 0 );
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
            {
                 /* P_FADE_OUT_AND_WAIT */ sub_7544( 0 );
                DEACTIVATE_BULLET_TIME( 1, 0 );
                 /* P_BLACKSCREENSCENE */ sub_52449( ref l_U1199, 0, 1, 1, 1 );
                l_U1142 = 1;
                l_U1142 = 1;
            }
        }
        if (l_U1154 == 1)
        {
            if (( /* GET_DISTANCE_BETWEEN_PEDS */ sub_53017(  /* PLAYER_PED_ID */ sub_3100(), l_U1184, 1 )) <= l_U1155)
            {
                ACTIVATE_BULLET_TIME( 1, l_U1156, 1 );
                 /* RESETTIMER */ sub_20899( ref l_U1163 );
                 /* STARTTIMER */ sub_20093( ref l_U1173 );
                l_U1154 = 0;
            }
        }
        if (l_U1157 == 1)
        {
            if (( /* GET_DISTANCE_BETWEEN_PEDS */ sub_53017(  /* PLAYER_PED_ID */ sub_3100(), l_U1184, 1 )) <= l_U1158)
            {
                ACTIVATE_BULLET_TIME( 1, l_U1159, 1 );
                 /* STARTTIMER */ sub_20093( ref l_U1163 );
                l_U1157 = 0;
            }
        }
        if (l_U1160 == 1)
        {
            if (( /* GET_DISTANCE_BETWEEN_PEDS */ sub_53017(  /* PLAYER_PED_ID */ sub_3100(), l_U1184, 1 )) <= l_U1161)
            {
                SET_INTERACTIONTEXT_TEXT( "FIRE_DISARM" );
                SET_INTERACTIONTEXT_VISIBLE( 1 );
                l_U1160 = 0;
            }
        }
        if (l_U1182 == 1)
        {
            if (( /* GET_DISTANCE_BETWEEN_PEDS */ sub_53017(  /* PLAYER_PED_ID */ sub_3100(), l_U1184, 1 )) <= l_U1183)
            {
                l_U1160 = 0;
                if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_3138() )))
                {
                    SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 0, 0 );
                }
                DEACTIVATE_BULLET_TIME( 1, 0 );
                 /* P_BLACKSCREENSCENE */ sub_52449( ref l_U1199, 1, 1, 1, 1 );
                SET_PED_HEALTH(  /* PLAYER_PED_ID */ sub_3100(), 0, 0 );
                 /* RESETTIMER */ sub_20899( ref l_U1163 );
                 /* RESETTIMER */ sub_20899( ref l_U1173 );
                l_U1182 = 0;
                l_U1142 = 1;
            }
        }
        if ((IS_PED_IN_MELEE_COMBAT(  /* PLAYER_PED_ID */ sub_3100() )) || (IS_PLAYER_DOING_MELEE_GRAPPLE(  /* PLAYER_ID */ sub_3138() )))
        {
            l_U1198 = 1;
            l_U1182 = 0;
             /* RESETTIMER */ sub_20899( ref l_U1163 );
             /* RESETTIMER */ sub_20899( ref l_U1173 );
            SET_INTERACTIONTEXT_VISIBLE( 0 );
            DEACTIVATE_BULLET_TIME( 1, 0 );
        }
        if ((NOT (IS_PED_IN_MELEE_COMBAT(  /* PLAYER_PED_ID */ sub_3100() ))) AND ((NOT (IS_PLAYER_DOING_MELEE_GRAPPLE(  /* PLAYER_ID */ sub_3138() ))) AND (IS_PED_DEAD( l_U1184 ))))
        {
            l_U1142 = 1;
        }
    }
    if (l_U1142 == 1)
    {
        ISEQ_UNREGISTER_ENTITY( 562579323, "enemy" );
         /* TERMINATEISEQ */ sub_6203( 562579323, 1 );
         /* CLEANPED */ sub_50396( l_U1184 );
         /* UNLOADMODEL */ sub_50505( 43800727 );
         /* RESETTIMER */ sub_20899( ref l_U1163 );
         /* RESETTIMER */ sub_20899( ref l_U1173 );
        SET_INTERACTIONTEXT_VISIBLE( 0 );
        DEACTIVATE_BULLET_TIME( 1, 0 );
        SET_CAMERA_OVERRIDE( "", "", 0, 1, 1 );
        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 1, 0 );
        l_U1142 = 0;
    }
    return;
}

/* P_BLACKSCREENSCENE */ void sub_52449(unknown uParam0, boolean bParam1, boolean bParam2, boolean bParam3, boolean bParam4)
{
    int iVar7;
    int I;
    int iVar9;

    if (bParam1)
    {
        DO_SCREEN_FADE_OUT( 500 );
        while (IS_SCREEN_FADING_OUT())
        {
            WAIT( 0 );
        }
    }
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
    {
        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 0, 0 );
    }
    iVar7 = 4000;
    CLEAR_PRINTS();
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
         /* TEXT_ONSCREEN_GENERAL */ sub_52594( (uParam0^)[I], iVar7 );
    }
    iVar9 = (GET_GAME_TIMER() + (iVar7 * (uParam0^))) - 1;
    DO_SCREEN_FADE_IN( 0 );
    while (iVar9 > GET_GAME_TIMER())
    {
        DRAW_RECT( 0.50000000, 0.50000000, 1, 1, 0, 0, 0, 255 );
        WAIT( 0 );
        if (bParam4)
        {
            if (IS_BUTTON_JUST_PRESSED( 0, 16 ))
            {
                CLEAR_PRINTS();
                iVar9 = 0;
            }
        }
    }
    DO_SCREEN_FADE_OUT( 0 );
    if (bParam3)
    {
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
        {
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_3138(), 1, 0 );
        }
    }
    if (bParam2)
    {
        DO_SCREEN_FADE_IN( 500 );
        while (IS_SCREEN_FADING_IN())
        {
            WAIT( 0 );
        }
    }
    return;
}

/* TEXT_ONSCREEN_GENERAL */ void sub_52594(unknown uParam0, unknown uParam1)
{
    PRINT_STRING_WITH_LITERAL_STRING( "STRING", uParam0, uParam1, 1 );
    return;
}

/* GET_DISTANCE_BETWEEN_PEDS */ void sub_53017(unknown uParam0, unknown uParam1, boolean bParam2)
{
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;

    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        uVar5 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
    }
    if (NOT (IS_PED_DEAD( uParam1 )))
    {
        uVar8 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam1 )};
    }
    if (bParam2)
    {
        return VDIST( uVar5, uVar8 );
        break;
    }
    return VDIST( uVar5._fU0, uVar5._fU4, 0, uVar8._fU0, uVar8._fU4, 0 );
}

/* P_HANDLE_FIRE_CUBICLES_PIT_BULLET_CAMS */ void sub_53780()
{
    vector vVar2;
    float fVar5;
    string sVar6;

    if (NOT l_U1201)
    {
        START_WIDGET_GROUP( "Rob E: Bullet Cams: Fire Cubicles Pit" );
        ADD_WIDGET_BOOL( "Enable ControlPad shortcuts", ref l_U1204 );
        ADD_WIDGET_BOOL( "Teleport player to the Pit and Enable Pit Death", ref l_U1202 );
        ADD_WIDGET_BOOL( "Enable Pit Death", ref l_U1202 );
        START_NEW_WIDGET_COMBO();
        ADD_TO_WIDGET_COMBO( "MISS_DEATH_CUSTOM_FIRE_04" );
        ADD_TO_WIDGET_COMBO( "MISS_DEATH_CUSTOM_FIRE_05" );
        ADD_TO_WIDGET_COMBO( "MISS_DEATH_CUSTOM_FIRE_06" );
        ADD_TO_WIDGET_COMBO( "Default" );
        STOP_WIDGET_COMBO( "Which Bullet Cam?", ref l_U1226 );
        STOP_WIDGET_GROUP();
        l_U1201 = 1;
    }
    if (l_U1204)
    {
        if ((IS_BUTTON_PRESSED( 0, 6 )) AND (IS_BUTTON_PRESSED( 0, 4 )))
        {
            l_U1202 = 1;
        }
    }
    if (l_U1202 == 1)
    {
         /* P_FADE_OUT_AND_WAIT */ sub_7544( 1000 );
        vVar2 = {-1012.22000000, 27.71364000, 4.92939800};
        fVar5 = 0.41364900;
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
             /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), vVar2, fVar5 );
            SET_PLAYER_INVINCIBLE(  /* PLAYER_ID */ sub_3138(), 0 );
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 1 );
        }
        LOAD_SCENE( vVar2 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 0 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 39.67027000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -14.57118000, 1065353216, 0 );
         /* P_CREATETRIGGERBOX */ sub_8033( ref l_U1205, "tbFrCubPtBc_PitDeath", -1017.54000000, 32.50000000, -0.13000000, 20.00000000, 20.00000000, 5.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
        if (l_U1226 == 0)
        {
            sVar6 = "MISS_DEATH_CUSTOM_FIRE_04";
        }
        else if (l_U1226 == 1)
        {
            sVar6 = "MISS_DEATH_CUSTOM_FIRE_05";
        }
        else if (l_U1226 == 2)
        {
            sVar6 = "MISS_DEATH_CUSTOM_FIRE_06";
        }
        else
        {
            sVar6 = "";
        };;;
         /* WRITESCRIPTLOG */ sub_2982( "SA", "Playing bullet cam with the following bullet cam", 0 );
         /* WRITE_STRING */ sub_9488( sVar6 );
        SET_BULLET_CAM_PREF(  /* PLAYER_PED_ID */ sub_3100(), "", "", "", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
        SET_BULLET_CAM_PREF(  /* PLAYER_PED_ID */ sub_3100(), sVar6, sVar6, sVar6, 0, 1, 0, 0, 0, 0, 0, 0, 0 );
         /* P_FADE_IN_AND_WAIT */ sub_7800( 1000 );
        l_U1203 = 1;
        l_U1202 = 0;
    }
    if (l_U1203)
    {
        if ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_8606( ref l_U1205, 0 ))
        {
             /* WRITESCRIPTLOG */ sub_2982( "SA", "Max has entered the pit", 0 );
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )))
            {
                SET_PED_HEALTH(  /* PLAYER_PED_ID */ sub_3100(), 0, 0 );
            }
        }
    }
    return;
}

/* P_VIEW_CAM_TEST */ void sub_54898()
{
    if (NOT l_U1228)
    {
        START_WIDGET_GROUP( "View Cam Test" );
        ADD_WIDGET_BOOL( "VIEW_MODE_NEAR", ref l_U1229 );
        ADD_WIDGET_BOOL( "VIEW_MODE_FAR", ref l_U1230 );
        ADD_WIDGET_BOOL( "VIEW_MODE_MEDIUM", ref l_U1231 );
        ADD_WIDGET_BOOL( "VIEW_MODE_INVALID", ref l_U1232 );
        STOP_WIDGET_GROUP();
        l_U1228 = 1;
    }
    if (l_U1229)
    {
        SET_CAM_VIEW_MODE( 0 );
        l_U1229 = 0;
    }
    if (l_U1230)
    {
        SET_CAM_VIEW_MODE( 2 );
        l_U1230 = 0;
    }
    if (l_U1231)
    {
        SET_CAM_VIEW_MODE( 1 );
        l_U1231 = 0;
    }
    if (l_U1232)
    {
        SET_CAM_VIEW_MODE( -1 );
        l_U1232 = 0;
    }
    return;
}

/* P_HANDLE_OFFICE_INJURED_CP */ void sub_55198()
{
    vector vVar2;
    float fVar5;

    if (l_U1237 == 0)
    {
        START_WIDGET_GROUP( "S_OFFICE_INJURED_CP" );
        ADD_WIDGET_STRING( "Enemy shoots while leaning against a table" );
        ADD_WIDGET_BOOL( "Teleport player to the Sequence", ref l_U1233 );
        ADD_WIDGET_BOOL( "Start Sequence", ref l_U1234 );
        ADD_WIDGET_BOOL( "Kill Sequence", ref l_U1235 );
        ADD_WIDGET_BOOL( "Trigger enemy shooting (act int 01)", ref l_U1238 );
        ADD_WIDGET_INT_SLIDER( "Enemy expiry", ref l_U1266, 0, 500000, 1 );
        ADD_WIDGET_FLOAT_SLIDER( "Position X", ref l_U1262, 60536, 5000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Position Y", ref l_U1263, 60536, 5000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Position Z", ref l_U1264, 60536, 5000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Heading", ref l_U1265, 60536, 5000, 0.10000000 );
        STOP_WIDGET_GROUP();
        l_U1237 = 1;
    }
    if (l_U1233)
    {
         /* WRITESCRIPTLOG */ sub_2982( "SA", "Teleporting Max", 0 );
         /* P_FADE_OUT_AND_WAIT */ sub_7544( 1000 );
        vVar2 = {-1031.12700000, 22.86839000, 4.89896200};
        fVar5 = 199.70040000;
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
             /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), vVar2, fVar5 );
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 1 );
        }
        LOAD_SCENE( vVar2 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 0 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.09931100, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -18.36597000, 1065353216, 0 );
         /* P_FADE_IN_AND_WAIT */ sub_7800( 1000 );
        l_U1233 = 0;
    }
    if (l_U1234 == 1)
    {
         /* WRITESCRIPTLOG */ sub_2982( "SA", "Starting seqeunce", 0 );
         /* RESETTIMER */ sub_20899( ref l_U1239 );
         /* CREATETIMER */ sub_19943( ref l_U1239, l_U1266, 1, 0 );
         /* CLEANPED */ sub_50396( l_U1248 );
         /* LOADMODEL */ sub_9371( -569568960, 1 );
         /* LOADWEAPON */ sub_47830( -862236369, 1 );
         /* P_CREATEPEDSTRUCTWITHNAME */ sub_48009( ref l_U1249, l_U1262, l_U1263, l_U1264, l_U1265, 407429255, 7, 3, 2, 0, 0 );
        l_U1248 =  /* CREATEPED */ sub_48242( ref l_U1249 );
        if (NOT (IS_PED_DEAD( l_U1248 )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1248, 1 );
            SET_PED_AS_ONE_SHOT_KILL( l_U1248, 1 );
            SET_ROOM_FOR_PED_BY_NAME( l_U1248, ref g_U1137 );
             /* F_GIVEPEDWEAPON */ sub_48998( l_U1248, -862236369, 6, 0, 0 );
        }
        ISEQ_UNREGISTER_ENTITY( 1484113481, "enemy" );
         /* TERMINATEISEQ */ sub_6203( 1484113481, 1 );
         /* LOADISEQ */ sub_6510( 1484113481, 1 );
        ISEQ_REGISTER_ENTITY( 1484113481, "enemy", l_U1248, 0 );
        ISEQ_START( 1484113481 );
        l_U1234 = 0;
    }
    if (l_U1238)
    {
         /* WRITESCRIPTLOG */ sub_2982( "SA", "Triggered enemy shooting", 0 );
        if (((IS_PED_DEAD( l_U1248 )) == 0) AND ((DOES_PED_EXIST( l_U1248 )) == 1))
        {
            TASK_SHOOT_AT_PED( l_U1248,  /* PLAYER_PED_ID */ sub_3100(), -1, 0, 0, 0, 0 );
            PED_SET_ACTION_INTENTION( l_U1248, 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
         /* STARTTIMER */ sub_20093( ref l_U1239 );
        l_U1238 = 0;
    }
    if (l_U1235 == 1)
    {
         /* WRITESCRIPTLOG */ sub_2982( "SA", "Killing sequence", 0 );
        ISEQ_UNREGISTER_ENTITY( 1484113481, "enemy" );
         /* TERMINATEISEQ */ sub_6203( 1484113481, 1 );
         /* RESETTIMER */ sub_20899( ref l_U1239 );
         /* CLEANPED */ sub_50396( l_U1248 );
         /* UNLOADMODEL */ sub_50505( -569568960 );
        l_U1235 = 0;
    }
    if ( /* ISTIMERDONE */ sub_20681( ref l_U1239 ))
    {
        if (((IS_PED_DEAD( l_U1248 )) == 0) AND ((DOES_PED_EXIST( l_U1248 )) == 1))
        {
             /* P_KILL_PED */ sub_56526( l_U1248 );
        }
    }
    return;
}

/* P_KILL_PED */ void sub_56526(unknown uParam0)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        STOP_PED_SPEAKING( uParam0, 1 );
        SET_PED_HEALTH( uParam0, 0, 0 );
        SET_PED_CORPSE( uParam0, 0 );
    }
    return;
}

/* P_HANDLE_FOOTSTEP_SOUNDS */ void sub_56612()
{
    if (l_U1267 == 0)
    {
        START_WIDGET_GROUP( "P_HANDLE_FOOTSTEP_SOUNDS" );
        ADD_WIDGET_BOOL( "Update footstep sounds", ref l_U1268 );
        ADD_WIDGET_FLOAT_SLIDER( "Footstep sound in db", ref l_U1269, 0.00000000, 50000.00000000, 0.01000000 );
        STOP_WIDGET_GROUP();
        l_U1267 = 1;
    }
    if (l_U1268)
    {
        AUDIO_SET_PED_FOOTSTEPS_VOLUME(  /* PLAYER_PED_ID */ sub_3100(), l_U1269 );
        l_U1268 = 0;
    }
    return;
}

/* HANDLE_S_OFFICE_B_IN_MID_13_OFF */ void sub_56837()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;

    if (l_U1270 == 0)
    {
        START_WIDGET_GROUP( "HANDLE_S_OFFICE_B_IN_MID_13_OFF" );
        ADD_WIDGET_BOOL( "Teleport player to the Sequence", ref l_U1271 );
        ADD_WIDGET_BOOL( "Start Sequence", ref l_U1272 );
        ADD_WIDGET_BOOL( "Kill Sequence", ref l_U1273 );
        ADD_WIDGET_FLOAT_SLIDER( "Position X", ref l_U1274._fU0, 60536, 5000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Position Y", ref l_U1274._fU4, 60536, 5000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Position Z", ref l_U1274._fU8, 60536, 5000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Heading", ref l_U1277, 60536, 5000, 0.10000000 );
        STOP_WIDGET_GROUP();
        l_U1270 = 1;
    }
    if (l_U1271)
    {
         /* WRITESCRIPTLOG */ sub_2982( "SA", "Teleporting Max", 0 );
         /* P_FADE_OUT_AND_WAIT */ sub_7544( 1000 );
        uVar2 = {l_U1274};
        uVar5 = l_U1277;
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
             /* TELEPORTPED */ sub_3211(  /* PLAYER_PED_ID */ sub_3100(), uVar2, uVar5 );
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 1 );
        }
        uVar6 = GET_HASH_KEY( ref g_U1121 );
        uVar7 = GET_INTERIOR_FROM_NAME( ref g_U1081, 0 );
        SET_INTERIOR_ACTIVE( uVar7, 1, 0 );
        LOAD_SCENE_FOR_ROOM_BY_KEY( uVar7, uVar6 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_3100() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_3100(), 0 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -10.21653000, 1065353216, 0 );
         /* P_FADE_IN_AND_WAIT */ sub_7800( 1000 );
        l_U1271 = 0;
    }
    if (l_U1272 == 1)
    {
         /* WRITESCRIPTLOG */ sub_2982( "SA", "Starting seqeunce", 0 );
        ISEQ_UNREGISTER_ENTITY( -1490441288, "player" );
         /* TERMINATEISEQ */ sub_6203( -1490441288, 1 );
         /* LOADISEQ */ sub_6510( -1490441288, 1 );
        ISEQ_REGISTER_ENTITY( -1490441288, "player",  /* PLAYER_PED_ID */ sub_3100(), 0 );
        ISEQ_START( -1490441288 );
        l_U1272 = 0;
    }
    if (l_U1273 == 1)
    {
         /* WRITESCRIPTLOG */ sub_2982( "SA", "Killing sequence", 0 );
        ISEQ_UNREGISTER_ENTITY( -1490441288, "player" );
         /* TERMINATEISEQ */ sub_6203( -1490441288, 1 );
        l_U1273 = 0;
    }
    return;
}

