void main()
{
    l_U0 = 1;
    l_U1 = 144;
    l_U3 = 0;
    l_U4 = 0;
    l_U5 = 1500;
    StrCopy( ref l_U15, "DEFAULT_SCRIPTED_CAMERA", 32 );
    StrCopy( ref l_U23, "DEFAULT_SPLINE_CAMERA", 32 );
    l_U114 = 0;
    l_U133 = 0;
    l_U134 = 0;
    l_U135 = 0;
    l_U136 = 0;
    l_U137 = 0;
    l_U138 = 0;
    l_U139 = 0;
    l_U140 = 0;
    l_U141 = 0;
    l_U142 = 0;
    l_U143 = 0;
    l_U571 = 0;
    l_U572 = 0;
    l_U639 = {-27.93000000, 7.21000000, 4.91300000};
    l_U642 = 180.00000000;
    l_U643 = {-30.11000000, 4.61000000, 4.91300000};
    l_U646 = 180.00000000;
    l_U647 = 0;
    l_U648 = 0;
    l_U649 = 0;
    l_U650 = 0;
    l_U651 = 0;
    l_U652 = 0;
    l_U653 = 0;
    l_U654 = 0;
    l_U655 = 0;
    l_U656 = 0;
    l_U657 = 0;
    l_U658 = 0;
    l_U659 = 0;
    l_U660 = 0;
    l_U661 = 0;
    l_U662 = 0;
    l_U833 = 0;
    l_U834 = 0;
    l_U835 = 0;
    l_U836 = 0;
    l_U936 = {13.26000000, 7.49000000, 4.92000000};
    l_U939 = 85.00000000;
    l_U941 = {12.04000000, 6.14000000, 4.92000000};
    l_U944 = 135.00000000;
    l_U946 = {13.92000000, 3.66000000, 4.92000000};
    l_U949 = 15.00000000;
    l_U950 = {12.21800000, 8.80600000, 6.44300000};
    l_U953 = {0.00000000, 0.00000000, -90.00000000};
    l_U983 = 4500;
    l_U993 = 5500;
    l_U1003 = 6000;
    l_U1013 = 4000;
    l_U1014 = 500;
    l_U1015 = 4.00000000;
    l_U1016 = -3.53213400;
    l_U1017 = {-5.12000000, 6.15000000, 4.92400000};
    l_U1020 = 102.00000000;
    l_U1030 = 3000;
    l_U1031 = 0;
    l_U1032 = 1300;
    l_U1033 = 1200;
    l_U1034 = -10.44000000;
    l_U1035 = -1.65000000;
    l_U1132 = 10000;
    l_U1133 = 4000;
    l_U1230 = 7500;
    l_U1231 = 4000;
    l_U1250 = 0;
    l_U1251 = {0.49957900, 14.70996000, 6.13408500};
    l_U1254 = 90.00000000;
    l_U1255 = 0;
    l_U1256 = {3.50000000, 14.30000000, 6.70000000};
    l_U1259 = -8.00000000;
    l_U1260 = {3.50000000, 14.60000000, 6.70000000};
    l_U1263 = 175.00000000;
    sub_831( "SP", "Script s_office_architect.sc is starting...", 0 );
    l_U136 = 1;
    while (IS_EXITFLAG_SET() == 0)
    {
        sub_900();
        if (l_U137 == 0)
        {
            sub_8744();
        }
        WAIT( 0 );
    }
    SET_EXITFLAG_RESPONSE();
    SET_SCRIPT_AS_NO_LONGER_NEEDED( "s_office_architect" );
    sub_831( "SP", "Script s_office_architect.sc is terminating...", 0 );
    return;
}

void sub_831(unknown uParam0, unknown uParam1, string sParam2)
{
    unknown uVar5;

    if (IS_STRING_NULL( sParam2 ))
    {
        sParam2 = "###";
    }
    uVar5 = GET_REAL_GAME_TIMER();
    return;
}

void sub_900()
{
    switch (l_U137)
    {
        case 0:
        if (g_U706 == 1)
        {
            if (sub_990() == 1)
            {
                DO_SCREEN_FADE_OUT( 0 );
                l_U137 = 4;
                sub_831( "SP", "eFailState = FAIL_CLEANUP_ALL", 0 );
            }
            if (((IS_PED_DEAD( g_U1424 )) == 1) AND ((DOES_PED_EXIST( g_U1424 )) == 1))
            {
                sub_831( "SP", "Mission Failed: IT Guy Died.", 0 );
                if (((HAS_PED_BEEN_DAMAGED_BY_PED( g_U1424, sub_1262(), 0 )) == 1) AND ((IS_PED_DEAD( sub_1262() )) == 0))
                {
                    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 1 );
                }
                l_U137 = 1;
                sub_831( "SP", "eFailState = FAIL_HANDLE_PLAYER_KILLED_IT_GUY", 0 );
            }
            if ((IS_PED_DEAD( sub_1262() )) == 1)
            {
                sub_831( "SP", "Mission Failed: Player died.", 0 );
                l_U137 = 2;
                sub_831( "SP", "eFailState = FAIL_WAITING_FOR_PLAYER", 0 );
            }
        }
        break;
        case 1:
        if ((IS_BULLET_CAMERA_RUNNING( 0 )) == 0)
        {
            AUDIO_MUSIC_SUSPEND( 5000 );
            l_U137 = 2;
            sub_831( "SP", "eFailState = FAIL_WAITING_FOR_PLAYER", 0 );
        }
        break;
        case 2:
        if ((sub_1941( 0 )) == 1)
        {
            l_U137 = 3;
            sub_831( "SP", "eFailState = FAIL_WAITING_FOR_RESPAWN", 0 );
        }
        break;
        case 3:
        if ((IS_LAST_MAN_STANDING_ACTIVE() == 0) AND ((IS_PED_DEAD( sub_1262() )) == 0))
        {
            if ((IS_PLAYER_DEAD( sub_1284() )) == 0)
            {
                SET_PLAYER_CONTROL( sub_1284(), 0, 0 );
            }
            DO_SCREEN_FADE_OUT( 0 );
            l_U137 = 4;
            sub_831( "SP", "eFailState = FAIL_CLEANUP_ALL", 0 );
        }
        break;
        case 4:
        sub_831( "SP", "eFailState = FAIL_CLEANUP_ALL", 0 );
        CLEAR_HELP();
        CLEAR_PRINTS();
        DESTROY_ALL_CAMS();
        RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
        AUDIO_MUSIC_SUSPEND( 500 );
        ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
        if ((IS_PED_DEAD( sub_1262() )) == 0)
        {
            PED_ACTION_TREE_PLAY_NODE( sub_1262(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
            SET_PED_FORCED_TO_WALK( sub_1262(), 0 );
        }
        sub_3617( g_U1424 );
        sub_3691();
        l_U137 = 5;
        sub_831( "SP", "eFailState = FAIL_RESTORE_PLAYER", 0 );
        break;
        case 5:
        sub_831( "SP", "eFailState = FAIL_RESTORE_PLAYER", 0 );
        sub_4514( ref l_U144, sub_1262() );
        l_U137 = 6;
        sub_831( "SP", "eFailState = FAIL_RESTART_CHECKPOINT", 0 );
        break;
        case 6:
        sub_831( "SP", "eFailState = FAIL_RESTART_CHECKPOINT", 0 );
        l_U136 = 1;
        l_U137 = 0;
        sub_831( "SP", "eFailState = FAIL_RESTART_CHECKPOINT", 0 );
        break;
    }
    return;
}

int sub_990()
{
    if (HAS_SELECTED_RETRY_CHECKPOINT())
    {
        if (IS_IN_NYMINUTE_MODE())
        {
            SWITCH_TO_LEVEL( GET_INDEX_OF_CURRENT_LEVEL() );
        }
        if (HAS_CUTSCENE_FINISHED() == 0)
        {
            return 0;
        }
        l_U0 = 0;
        g_U648 = 1;
        DO_SCREEN_FADE_OUT( 0 );
        ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 1 );
        TERMINATE_GAME_BULLET_CAMERA();
        if (IS_ANIMATED_CAMERA_PLAYING())
        {
            CAMERA_ANIMATED_STOP( 0, 0 );
        }
        STOP_ALL_SCRIPTED_CONVERSATIONS( 0 );
        DEACTIVATE_BULLET_TIME( 1, 0 );
        END_POSTFX_BLENDER( 0, 0 );
        END_POSTFX_BLENDER( 2, 0 );
        END_POSTFX_BLENDER( 3, 0 );
        END_POSTFX_BLENDER( 4, 0 );
        END_POSTFX_BLENDER( 5, 0 );
        END_POSTFX_BLENDER( 7, 0 );
        END_POSTFX_BLENDER( 9, 0 );
        END_POSTFX_BLENDER( 10, 0 );
        END_POSTFX_BLENDER( 11, 0 );
        END_POSTFX_BLENDER( 12, 0 );
        END_POSTFX_BLENDER( 13, 0 );
        END_POSTFX_BLENDER( 14, 0 );
        END_POSTFX_BLENDER( 15, 0 );
        END_POSTFX_BLENDER( 16, 0 );
        STOP_ALL_IMAGEFX( 0 );
        if (NOT (IS_PED_DEAD( sub_1262() )))
        {
            SET_PED_FORCED_TO_WALK( sub_1262(), 0 );
            SET_PLAYER_FORCED_AIM( sub_1284(), 0, 0 );
            SET_PLAYER_CAN_USE_SHOOTDODGE( sub_1284(), 1 );
            if ((IS_PED_VISIBLE( sub_1262() )) == 0)
            {
                SET_PED_VISIBLE( sub_1262(), 1 );
            }
        }
        CLEAR_PRINTS();
        CLEAR_HELP();
        SET_INTERACTIONTEXT_VISIBLE( 0 );
        RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
        DESTROY_ALL_CAMS();
        AUDIO_MUSIC_SUSPEND( 500 );
        return 1;
    }
    return 0;
}

int sub_1262()
{
    if (DOES_MAIN_PLAYER_EXIST())
    {
        return GET_PLAYER_PED( sub_1284() );
    }
    return 0;
}

void sub_1284()
{
    return GET_PLAYER_ID();
}

int sub_1941(int iParam0)
{
    iParam0 = 1;
    switch (l_U4)
    {
        case 0:
        if (NOT (sub_1998( ref l_U6 )))
        {
            if ((IS_DEATH_PANEL_WIPE_ALLOWED()) AND (IS_PED_DEAD( sub_1262() )))
            {
                l_U5 = 2000;
                ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 1 );
            }
            sub_2102( ref l_U6, l_U5, 1, 1 );
            sub_2236( ref l_U6 );
        }
        if (sub_2354( ref l_U6 ))
        {
            sub_831( "NS", " show fail/retry text", 0 );
            if ((IS_DEATH_PANEL_WIPE_ALLOWED()) AND (IS_PED_DEAD( sub_1262() )))
            {
                if ((IS_BULLET_CAMERA_RUNNING( 0 )) == 0)
                {
                    if (IS_SCREEN_FADED_OUT())
                    {
                        DO_SCREEN_FADE_IN( 0 );
                    }
                }
                ENABLE_DEATHHELPERTEXT( 1, 1, 0 );
            }
            else if (IS_SCREEN_FADED_OUT())
            {
                DO_SCREEN_FADE_IN( 0 );
                ENABLE_DEATHHELPERTEXT( 1, iParam0, 0 );
            }
            else
            {
                ENABLE_DEATHHELPERTEXT( 1, iParam0, 0 );
            }
            if (NOT (IS_PLAYER_DEAD( sub_1284() )))
            {
                SET_PLAYER_CONTROL( sub_1284(), 0, 0 );
            }
            DISPLAY_HUD( 0 );
            l_U4 = 1;
        }
        break;
        case 1:
        if ((((NOT IS_QUIT_CONFIRMING()) == 1) AND (IS_BUTTON_JUST_PRESSED( 0, 501 ))) || ((N_1855335259()) || (IS_CONTROL_JUST_PRESSED( 2, 82 ))))
        {
            if (IS_QUIT_CONFIRMING() == 1)
            {
                l_U4 = 2;
            }
            else
            {
                l_U4 = 3;
            }
        }
        break;
        case 2:
        sub_831( "NS", "Player will QUIT", 0 );
        sub_2835();
        if (iParam0 == 1)
        {
            DO_SCREEN_FADE_OUT( 0 );
        }
        START_PANEL_WIPE( 0, 6 );
        SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
        RETURN_TO_TITLESCREEN( 0 );
        break;
        case 3:
        sub_831( "NS", "Player will RETRY", 0 );
        if (IS_IN_NYMINUTE_MODE())
        {
            SWITCH_TO_LEVEL( GET_INDEX_OF_CURRENT_LEVEL() );
        }
        if (iParam0 == 1)
        {
            DO_SCREEN_FADE_OUT( 0 );
        }
        sub_2835();
        return 1;
        break;
    }
    return 0;
}

int sub_1998(int iParam0)
{
    if (iParam0->_fU20 == 1)
    {
        return 1;
    }
    if (iParam0->_fU16 == 1)
    {
        return 1;
    }
    return 0;
}

void sub_2102(int iParam0, unknown uParam1, boolean bParam2, int iParam3)
{
    if (bParam2)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam3 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU12 = uParam1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = bParam2;
    iParam0->_fU32 = iParam3;
    iParam0->_fU8 = 0;
    return;
}

void sub_2236(int iParam0)
{
    if (NOT iParam0->_fU20)
    {
        iParam0->_fU20 = 1;
        iParam0->_fU16 = 0;
        if (iParam0->_fU28)
        {
            iParam0->_fU0 = TIMERA();
        }
        else
        {
            iParam0->_fU0 = TIMERB();
        }
        if (iParam0->_fU32 == 1)
        {
            iParam0->_fU0 = TIMERSYSTEM();
        }
        iParam0->_fU4 = iParam0->_fU0;
    }
    return;
}

int sub_2354(int iParam0)
{
    if (iParam0->_fU16)
    {
        return 0;
    }
    else if (NOT iParam0->_fU20)
    {
        return 0;
    }
    if (iParam0->_fU28)
    {
        iParam0->_fU4 = TIMERA();
    }
    else
    {
        iParam0->_fU4 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU4 = TIMERSYSTEM();
    }
    if ((iParam0->_fU4 - iParam0->_fU0) >= iParam0->_fU12)
    {
        iParam0->_fU16 = 1;
        iParam0->_fU20 = 0;
        return 1;
        break;
    }
    return 0;
}

void sub_2835()
{
    sub_831( "NS", "P_PostFailRetryCleanup", 0 );
    sub_2883( ref l_U6 );
    ENABLE_DEATHHELPERTEXT( 0, 0, 2000 );
    SET_SCRIPT_CONTROL_RESET_ON_PLAYER_DEATH( 0 );
    if (NOT (IS_PLAYER_DEAD( sub_1284() )))
    {
        SET_PLAYER_CONTROL( sub_1284(), 1, 0 );
    }
    DISPLAY_HUD( 1 );
    l_U3 = 0;
    l_U3 = l_U3;
    l_U4 = 0;
    return;
}

void sub_2883(int iParam0)
{
    if (iParam0->_fU28)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    return;
}

void sub_3617(unknown uParam0)
{
    if (DOES_PED_EXIST( uParam0 ))
    {
        if ((NOT (IS_PED_DEAD( uParam0 ))) || (IS_PED_DEAD( uParam0 )))
        {
            REMOVE_ALL_PED_WEAPONS( uParam0 );
            DELETE_PED( ref uParam0 );
        }
    }
    return;
}

void sub_3691()
{
    unknown uVar2;

    sub_831( "SP", "P_CLEANUP_ALL", 0 );
    uVar2 = GET_INTERIOR_FROM_NAME( ref g_U1061, 0 );
    SET_INTERIOR_FORCE_INSTANTIATION( uVar2, 0 );
    ISEQ_UNREGISTER_ENTITY( -1265837811, "player" );
    ISEQ_UNREGISTER_ENTITY( -1265837811, "itguy" );
    ISEQ_UNREGISTER_ENTITY( -1265837811, "secretary" );
    ISEQ_TERMINATE( -1265837811 );
    ISEQ_UNREGISTER_ENTITY( 1030383128, "vig01a_1" );
    ISEQ_UNREGISTER_ENTITY( 1030383128, "vig01a_2" );
    ISEQ_UNREGISTER_ENTITY( 1030383128, "vig01a_3" );
    ISEQ_TERMINATE( 1030383128 );
    ISEQ_UNREGISTER_ENTITY( 2034456429, "enemy1" );
    ISEQ_UNREGISTER_ENTITY( 2034456429, "enemy2" );
    ISEQ_TERMINATE( 2034456429 );
    ISEQ_UNREGISTER_ENTITY( 88877984, "max" );
    ISEQ_TERMINATE( 88877984 );
    ISEQ_UNREGISTER_ENTITY( 488243615, "itGuy" );
    ISEQ_TERMINATE( 488243615 );
    ISEQ_UNREGISTER_ENTITY( 915354650, "fish" );
    ISEQ_TERMINATE( 915354650 );
    sub_3617( l_U484 );
    sub_4071( ref l_U565 );
    sub_4071( ref l_U619 );
    sub_4143( l_U636 );
    sub_4143( g_U649._fU0 );
    sub_4203( l_U633 );
    sub_4203( l_U632 );
    sub_4203( l_U634 );
    sub_4203( l_U635 );
    sub_4203( l_U628 );
    sub_4203( l_U629 );
    sub_4203( l_U630 );
    sub_4203( l_U631 );
    sub_4203( l_U1134 );
    sub_4203( l_U1036 );
    sub_4334( 0 );
    return;
}

void sub_4071(unknown uParam0)
{
    int I;

    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_3617( (uParam0^)[I] );
    }
    return;
}

void sub_4143(unknown uParam0)
{
    if ((DOES_PLACEMENT_EXIST( uParam0 )) == 1)
    {
        REMOVE_PLACEMENT( uParam0 );
    }
    return;
}

void sub_4203(unknown uParam0)
{
    if (DOES_OBJECT_EXIST( uParam0 ))
    {
        DELETE_OBJECT( ref uParam0 );
    }
    return;
}

void sub_4334(boolean bParam0)
{
    sub_831( "CCB", "P_STOP_SP_CHALLENGES", 0 );
    if (bParam0)
    {
        ;
    }
    return;
}

void sub_4514(int iParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    int iVar9;
    int iVar10;
    int iVar11;
    unknown uVar12;
    unknown uVar13;

    sub_831( "GA", "Restoring the player to the checkpoint - Start", 0 );
    if (l_U0)
    {
        INCREMENT_CHECKPOINT_ATTEMPT();
    }
    g_U648 = 0;
    if (iParam0->_fU0 == 0)
    {
        SCRIPT_ASSERT( "ERROR: Trying to restore a checkpoint that hasn't been saved!!!", 0 );
    }
    sub_4698( iParam0->_fU52 );
    if (SCRIPT_VAR_EXISTS( "SV_LOAD_CNT" ))
    {
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", (SCRIPT_VAR_GET_INT( "SV_LOAD_CNT" )) + 1 );
    }
    else
    {
        SCRIPT_VAR_ADD_INT( "SV_LOAD_CNT" );
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", 1 );
    }
    CLEAR_KILL_STREAK_RECORDS();
    AUDIO_MUSIC_SUSPEND( 0 );
    DEACTIVATE_BULLET_TIME( 1, 0 );
    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
    REMOVE_ALL_ENVIRONMENT_BLOOD();
    RESET_BLOOD_EFFECTS();
    REMOVE_ALL_GLINTS();
    RESET_DESTROYED_COVER();
    RESET_ALL_PTFX();
    uVar4 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam1 )};
    CLEAR_AREA( iParam0->_fU4, 10000.00000000, 1 );
    if (NOT (IS_PED_DEAD( uParam1 )))
    {
        SET_PED_COORDS( uParam1, iParam0->_fU4, 1 );
        sub_5775( uParam1 );
        SET_PED_HEADING( uParam1, iParam0->_fU16 );
    }
    CLEAR_AREA( uVar4, 3.00000000, 1 );
    LOAD_SCENE( iParam0->_fU4 );
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
    iParam0->_fU28 = GET_PED_MAX_HEALTH( uParam1 );
    SET_PED_HEALTH( uParam1, iParam0->_fU28, 0 );
    RESET_PED_GORE( uParam1 );
    RESET_PED_VISIBLE_DAMAGE( uParam1 );
    REMOVE_ALL_PED_WEAPONS( uParam1 );
    if (NOT (iParam0->_fU56 == -1569615261))
    {
        uVar7 = sub_6067( uParam1, iParam0->_fU56, 0, iParam0->_fU76, 1 );
        sub_6427( uVar7, iParam0 + 96, iParam0 + 100 );
    }
    if (NOT (iParam0->_fU60 == -1569615261))
    {
        uVar7 = sub_6067( uParam1, iParam0->_fU60, 1, iParam0->_fU80, 1 );
        sub_6427( uVar7, iParam0 + 104, iParam0 + 108 );
    }
    if (NOT (iParam0->_fU64 == -1569615261))
    {
        uVar7 = sub_6067( uParam1, iParam0->_fU64, 2, iParam0->_fU84, 1 );
        sub_6427( uVar7, iParam0 + 112, iParam0 + 116 );
    }
    if (NOT (iParam0->_fU68 == -1569615261))
    {
        uVar7 = sub_6712( uParam1, iParam0->_fU68, iParam0->_fU88, 0, 1 );
        sub_6427( uVar7, iParam0 + 120, iParam0 + 124 );
    }
    if (NOT (iParam0->_fU72 == -1569615261))
    {
        uVar7 = sub_6712( uParam1, iParam0->_fU72, iParam0->_fU92, 1, 1 );
        sub_6427( uVar7, iParam0 + 128, iParam0 + 132 );
    }
    if (l_U0 == 1)
    {
        if ((IS_PED_DEAD( uParam1 )) == 0)
        {
            if (iParam0->_fU68 != -1569615261)
            {
                uVar7 = GET_WEAPON_FROM_HAND( uParam1, 0, 0 );
                if ((GET_DOES_WEAPON_EXIST( uVar7 )) == 1)
                {
                    uVar8 = GET_WEAPON_TYPE( uVar7 );
                    if ((sub_7205( uVar8 )) == 1)
                    {
                        iVar9 = GET_MAX_AMMO_IN_HAND_CLIP_MP( uParam1, 0 );
                        iVar10 = iParam0->_fU88;
                        if (iVar10 < iVar9)
                        {
                            iVar11 = iVar9 - iVar10;
                            ADD_AMMO_TO_PED( uParam1, uVar8, iVar11, 0 );
                            SET_WEAPON_AMMO_IN_CLIP( uVar7, iVar9 );
                        }
                    }
                }
            }
        }
    }
    sub_7366( iParam0->_fU52 );
    SET_ADRENALINE_AMT( iParam0->_fU32 );
    if (GET_ADRENALINE_AMT() < 0.20000000)
    {
        SET_ADRENALINE_AMT( 0.20000000 );
    }
    SET_PAYNEKILLER_AMT( iParam0->_fU36 );
    SET_PED_DUCKING( sub_1262(), 0 );
    GET_TIME_OF_DAY( ref uVar12, ref uVar13 );
    if (iParam0->_fU140 == 1)
    {
        FREEZE_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    else
    {
        RELEASE_TIME_OF_DAY();
        SET_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    SET_PED_SWEAT( uParam1, iParam0->_fU136, -1.00000000 );
    RESTORE_PICKUPS();
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( iParam0->_fU20, 1065353216, 0 );
    SET_GAMEPLAY_CAM_RELATIVE_PITCH( iParam0->_fU24, 1065353216, 0 );
    HANDLE_CHECKPOINT_RESTART();
    if (l_U0)
    {
        ADJUST_AMMO_ATTEMPTS();
        ADJUST_PAIN_KILLERS_ATTEMPTS();
    }
    l_U0 = 1;
    DISPLAY_HUD( 1 );
    if (IS_DEATH_PANEL_WIPE_ALLOWED())
    {
        if (IS_BULLET_CAMERA_WIPE_STOPPED())
        {
            RESUME_BULLET_CAMERA_WIPE_ON_FADEIN();
        }
    }
    sub_831( "GA", "Restoring the player to the checkpoint - End", 0 );
    return;
}

void sub_4698(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    iVar3 = 0;
    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        iVar3 = sub_4730( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, iVar3, 513, uParam0 );
    END_CONTEXT( ref uVar4 );
    return;
}

int sub_4730(unknown uParam0)
{
    if (ARE_STRINGS_EQUAL( uParam0, "s_air" ))
    {
        return 21;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_beach" ))
    {
        return 22;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_boat" ))
    {
        return 10;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_booze" ))
    {
        return 0;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_busdep" ))
    {
        return 17;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_cemet" ))
    {
        return 15;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_club" ))
    {
        return 5;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_clubride" ))
    {
        return 4;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fashion" ))
    {
        return 3;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav0" ))
    {
        return 13;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav1" ))
    {
        return 14;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav2" ))
    {
        return 16;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fire" ))
    {
        return 12;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_hotel" ))
    {
        return 19;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_intro" ))
    {
        return 1;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_marina" ))
    {
        return 9;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc" ))
    {
        return 7;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc2" ))
    {
        return 8;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_office" ))
    {
        return 11;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_pana" ))
    {
        return 18;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_police" ))
    {
        return 20;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_stad" ))
    {
        return 6;
    };;;;;;;;;;;;;;;;;;;;;;
    return 99;
}

void sub_5775(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
        SET_LOAD_COLLISION_FOR_PED_FLAG( uParam0, 1 );
        SET_PED_COORDS_NO_OFFSET( uParam0, uVar3 );
        FREEZE_PED_POSITION( uParam0, 1 );
        REQUEST_COLLISION_AT_COORD( uVar3 );
        if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
        {
            FREEZE_PED_POSITION( uParam0, 0 );
        }
    }
    return;
}

void sub_6067(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's holster MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HOLSTER( uParam0, uParam1, uParam3, uParam2 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
                }
            }
        }
    }
    else
    {
        sub_6383( "[SP]### (F_GivePedWeaponToHolster) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

void sub_6383(unknown uParam0)
{
    return;
}

void sub_6427(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        if (IS_BIT_SET( (uParam1^), I ))
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, IS_BIT_SET( (uParam2^), I ) );
        }
        else
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
        }
    }
    return;
}

void sub_6712(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's hand MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, uParam2, uParam3 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
                }
            }
        }
    }
    else
    {
        sub_6383( "[SP]### (F_GivePedWeapon) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

int sub_7205(unknown uParam0)
{
    int iVar3;

    iVar3 = GET_WEAPONTYPE_AMMO( uParam0 );
    if ((iVar3 == -1383321053) || ((iVar3 == -1295933220) || ((iVar3 == 1138793073) || (iVar3 == -1088031219))))
    {
        return 1;
    }
    return 0;
}

void sub_7366(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        uVar3 = sub_4730( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, uParam0 );
    sub_7438( uVar3 );
    START_CONTEXT( ref uVar4 );
    return;
}

void sub_7438(int iParam0)
{
    if (iParam0 != 3)
    {
        END_CONTEXT( "S_FAS_GG_PT" );
    }
    if (iParam0 != 5)
    {
        END_CONTEXT( "S_CLB_GG_M3" );
        END_CONTEXT( "S_CLB_MS" );
    }
    if (iParam0 != 6)
    {
        END_CONTEXT( "S_STA_GG_M1" );
        END_CONTEXT( "S_STA_GG_M81" );
    }
    if (iParam0 != 7)
    {
        END_CONTEXT( "S_NY1_GG_19" );
    }
    if (iParam0 != 8)
    {
        END_CONTEXT( "S_NY2_GG_40" );
        END_CONTEXT( "S_NY2_GG_M5" );
    }
    if (iParam0 != 9)
    {
        END_CONTEXT( "S_MAR_GG_LM" );
        END_CONTEXT( "S_MAR_GG_9M" );
    }
    if (iParam0 != 11)
    {
        END_CONTEXT( "S_OFF_GG_MD" );
    }
    if (iParam0 != 14)
    {
        END_CONTEXT( "S_FV1_GG_SP" );
        END_CONTEXT( "S_FV1_GG_SA" );
    }
    if (iParam0 != 15)
    {
        END_CONTEXT( "S_NYC_GG_6M" );
        END_CONTEXT( "S_NYC_GG_A9" );
    }
    if (iParam0 != 16)
    {
        END_CONTEXT( "S_FV2_GG_D5" );
        END_CONTEXT( "S_FV2_GG_97" );
    }
    if (iParam0 != 17)
    {
        END_CONTEXT( "S_BUS_GG_M4" );
        END_CONTEXT( "S_BUS_GG_FN" );
    }
    if (iParam0 != 18)
    {
        END_CONTEXT( "S_PAN_GG_AK" );
        END_CONTEXT( "S_PAN_GG_SS" );
    }
    if (iParam0 != 19)
    {
        END_CONTEXT( "S_HOT_GG_G3" );
        END_CONTEXT( "S_HOT_GG_LA" );
    }
    if (iParam0 != 20)
    {
        END_CONTEXT( "S_POL_GG_G6" );
        END_CONTEXT( "S_POL_GG_RP" );
        END_CONTEXT( "S_POL_GG_MP" );
    }
    if (iParam0 != 21)
    {
        END_CONTEXT( "S_AIR_GG_RG" );
        END_CONTEXT( "S_AIR_GG_PD" );
    }
    return;
}

void sub_8744()
{
    int I;
    unknown uVar3;
    vector vVar4;
    float fVar7;
    vector vVar8;
    float fVar11;
    vector vVar12;
    float fVar15;
    vector vVar16;
    float fVar19;
    unknown uVar20;
    unknown uVar21;

    vVar4 = {-5.50000000, 7.80000000, 4.93000000};
    fVar7 = 70.00000000;
    vVar8 = {-11.93800000, 10.40000000, 4.93000000};
    fVar11 = -180.00000000;
    vVar12 = {-10.98000000, 3.55000000, 4.93000000};
    fVar15 = -90.00000000;
    vVar16 = {-26.66600000, 8.41600000, 4.80000000};
    fVar19 = -90.00000000;
    sub_8867();
    switch (l_U136)
    {
        case 0: break;
        case 1:
        sub_831( "SP", "eCheckpointState = CHECKPOINT_INIT_SCRIPT_DATA", 0 );
        sub_9086( 1, 0, 0, 1 );
        sub_9245();
        sub_9858();
        sub_13622();
        SET_SCRIPT_CONTROL_RESET_ON_PLAYER_DEATH( 1 );
        l_U136 = 2;
        sub_831( "SP", "eCheckpointState = CHECKPOINT_SETUP_ARCH", 0 );
        break;
        case 2:
        sub_831( "SP", "eCheckpointState = CHECKPOINT_SETUP_ARCH", 0 );
        if (g_U706 == 0)
        {
            l_U138 = 1;
            l_U136 = 5;
            sub_831( "SP", "eCheckpointState = CHECKPOINT_HANDLE_OPENING_CUTSCENE", 0 );
        }
        else
        {
            l_U140 = 1;
            l_U136 = 3;
            sub_831( "SP", "eCheckpointState = CHECKPOINT_REQUEST_ASSETS", 0 );
        }
        break;
        case 3:
        sub_831( "SP", "eCheckpointState = CHECKPOINT_REQUEST_ASSETS", 0 );
        sub_13997();
        l_U136 = 4;
        sub_831( "SP", "eCheckpointState = CHECKPOINT_LOAD_ASSETS", 0 );
        case 4:
        if (sub_14782() == 1)
        {
            l_U136 = 6;
            sub_831( "SP", "eCheckpointState = CHECKPOINT_HANDLE_OPENING_BLENDOUT", 0 );
            break;
        }
        return;
        case 5:
        if (sub_15211() == 1)
        {
            l_U140 = 1;
            l_U136 = 6;
            sub_831( "SP", "eCheckpointState = CHECKPOINT_HANDLE_OPENING_BLENDOUT", 0 );
            break;
        }
        return;
        case 6:
        if (sub_23350() == 1)
        {
            PRE_STREAM_SEAMLESS_CUTSCENE( "mid_01_office_concat" );
            sub_33908();
            sub_2102( ref l_U846, 750, 1, 0 );
            sub_2236( ref l_U846 );
            sub_2102( ref l_U855, 2000, 1, 0 );
            sub_2236( ref l_U855 );
            sub_2102( ref l_U864, 5000, 1, 0 );
            sub_2236( ref l_U864 );
            sub_34311();
            l_U136 = 7;
            sub_831( "SP", "eCheckpointState = CHECKPOINT_HANDLE_ARCH_FIGHT", 0 );
        }
        break;
        case 7:
        sub_34441( ref l_U1037 );
        sub_34441( ref l_U1135 );
        if (((sub_36651( ref l_U1135 )) == 1) || ((sub_36651( ref l_U1037 )) == 1))
        {
            sub_28106( ref l_U823 );
            sub_28188( 0, sub_1262(), "MAX", ref l_U823, 2, 0 );
            sub_28188( 1, sub_1262(), "MAX", ref l_U823, 2, 0 );
            sub_28444( "EXPLORE_ITEM", ref l_U823, 8, 1 );
        }
        if ((sub_2354( ref l_U984 )) == 1)
        {
            sub_9639( ref g_U1327, 1 );
            sub_9639( ref g_U1334, 1 );
            if (((IS_PLAYER_DEAD( sub_1284() )) == 0) AND ((IS_PED_DEAD( sub_1262() )) == 0))
            {
                SET_PLAYER_CONTROL( sub_1284(), 0, 0 );
                SET_PLAYER_CONTROL( sub_1284(), 1, 0 );
            }
        }
        if ((sub_2354( ref l_U994 )) == 1)
        {
            if (((IS_PED_DEAD( sub_1262() )) == 0) AND ((IS_PLAYER_DEAD( sub_1284() )) == 0))
            {
                SET_PLAYER_FORCED_AIM( sub_1284(), 0, 0 );
            }
        }
        if (l_U994._fU16 == 0)
        {
            SET_CAM_SIDE_LEFT( 0 );
        }
        if ((sub_2354( ref l_U846 )) == 1)
        {
            sub_28106( ref l_U723 );
            sub_28188( 1, l_U565[0], "M6_CP_03_Avg", ref l_U723, 2, 0 );
            sub_28188( 0, sub_1262(), "MAX", ref l_U723, 2, 0 );
            sub_28444( "SOFF_VIG01A", ref l_U723, 8, 1 );
        }
        if ((sub_2354( ref l_U855 )) == 1)
        {
            sub_37271();
        }
        if (l_U657 == 0)
        {
            if (((sub_2354( ref l_U864 )) == 1) || (((sub_38267( ref l_U565 )) >= 1) || ((sub_38165( ref l_U180, 0 )) == 1)))
            {
                sub_38385();
                sub_39038();
                l_U657 = 1;
            }
        }
        if (l_U659 == 0)
        {
            if ((((sub_38267( ref l_U565 )) + (sub_38267( ref l_U619 ))) >= 3) || ((sub_38165( ref l_U222, 0 )) == 1))
            {
                sub_40318();
                l_U659 = 1;
            }
        }
        if (l_U660 == 0)
        {
            if (((IS_PED_DEAD( l_U619[1] )) == 0) AND (((DOES_PED_EXIST( l_U619[1] )) == 1) AND (((IS_PED_DEAD( l_U619[0] )) == 0) AND ((DOES_PED_EXIST( l_U619[0] )) == 1))))
            {
                if ((ISEQ_IS_LOADED( 2034456429 )) == 1)
                {
                    if ((ISEQ_QUERY_STATE( 2034456429, 3 )) == 1)
                    {
                        sub_27537( l_U619[0], l_U639, l_U642 );
                        sub_27537( l_U619[1], l_U643, l_U646 );
                        l_U660 = 1;
                    }
                }
            }
        }
        if (l_U661 == 0)
        {
            if ((sub_40712( l_U201 )) == 1)
            {
                for ( I = 0; I < l_U619; I++ )
                {
                    if (((IS_PED_DEAD( l_U619[I] )) == 0) AND ((DOES_PED_EXIST( l_U619[I] )) == 1))
                    {
                        PED_SET_ACTION_INTENTION( l_U619[I], 47, 6000, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( sub_1262() ) );
                    }
                }
                l_U661 = 1;
            }
        }
        if ((sub_40872( ref l_U285, l_U619[2], 0 )) == 1)
        {
            sub_2102( ref l_U873, 2500, 1, 0 );
            sub_2236( ref l_U873 );
        }
        if ((sub_2354( ref l_U873 )) == 1)
        {
            sub_39965( ref g_U1341, -100.00000000, 100.00000000 );
            sub_39965( ref g_U1348, -100.00000000, 140.00000000 );
            sub_30226( ref g_U1341, 1 );
            sub_30226( ref g_U1348, 1 );
            sub_9639( ref g_U1341, 1 );
            sub_9639( ref g_U1348, 1 );
        }
        if ((sub_2354( ref l_U882 )) == 1)
        {
            sub_28106( ref l_U733 );
            sub_28188( 0, sub_1262(), "MAX", ref l_U733, 2, 0 );
            sub_28188( 1, l_U619[1], "M6_CP_06_Avg", ref l_U733, 2, 0 );
            sub_28444( "SOFF_VIG02", ref l_U733, 8, 1 );
        }
        if (l_U657 == 1)
        {
            if (((sub_41215( ref l_U565 )) + (sub_41215( ref l_U619 ))) == 1)
            {
                if ((sub_41215( ref l_U565 )) > 0)
                {
                    l_U624 = sub_41332( ref l_U565 );
                }
                else if ((sub_41215( ref l_U619 )) > 0)
                {
                    l_U624 = sub_41332( ref l_U619 );
                }
                if (((IS_PED_DEAD( l_U624 )) == 0) AND ((DOES_PED_EXIST( l_U624 )) == 1))
                {
                    BULLET_CAMERA_TRACK_UNTIL_GROUNDED( 1 );
                    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 0 );
                    ISEQ_UNREGISTER_ENTITY( 2034456429, "enemy1" );
                    ISEQ_UNREGISTER_ENTITY( 2034456429, "enemy2" );
                    sub_41597( 2034456429, 1 );
                    SET_PED_COMBAT_MOVEMENT( l_U624, 2 );
                    sub_41814( l_U624 );
                    sub_41874( l_U624 );
                    sub_31982( ref l_U453, l_U624, 1 );
                    sub_31982( ref l_U454, l_U624, 1 );
                }
            }
            if (l_U658 == 0)
            {
                if (((sub_41215( ref l_U565 )) + (sub_41215( ref l_U619 ))) == 0)
                {
                    AUDIO_MUSIC_FORCE_TRACK( "OFFICE_ACTION_SONG_02", "OFFICE_ACTION_2", "", 0.00000000, 6000, 5000, -1082130432, 0 );
                    l_U658 = 1;
                }
            }
            if ((IS_LAST_MAN_STANDING_ACTIVE() == 0) AND (((IS_BULLET_CAMERA_RUNNING( 0 )) == 0) AND (((IS_PED_DEAD( l_U624 )) == 1) AND (((sub_41215( ref l_U565 )) + (sub_41215( ref l_U619 ))) == 0))))
            {
                l_U139 = 1;
                l_U136 = 8;
                sub_831( "SP", "eCheckpointState = CHECKPOINT_HANDLE_MID_01_CUTSCENE", 0 );
            }
        }
        break;
        case 8:
        sub_34441( ref l_U1037 );
        sub_34441( ref l_U1135 );
        if (sub_42237() == 1)
        {
            l_U141 = 1;
            l_U136 = 9;
            sub_831( "SP", "eCheckpointState = CHECKPOINT_HANDLE_MID_01_BLENDOUT", 0 );
            break;
        }
        return;
        case 9:
        sub_34441( ref l_U1037 );
        sub_34441( ref l_U1135 );
        if (sub_46350() == 1)
        {
            sub_47382( ref g_U708[2] );
            sub_13145( ref l_U1037, 1 );
            sub_13145( ref l_U1135, 1 );
            sub_47428();
            sub_2102( ref l_U900, 8000, 1, 0 );
            sub_2236( ref l_U900 );
            sub_2102( ref l_U909, 9000, 1, 0 );
            sub_2236( ref l_U909 );
            sub_2102( ref l_U918, 9000, 1, 0 );
            sub_2236( ref l_U918 );
            l_U136 = 10;
            sub_831( "SP", "eCheckpointState = CHECKPOINT_HANDLE_GOTO_BOARDROOM", 0 );
        }
        break;
        case 10:
        sub_47678();
        sub_49520();
        if (l_U833 == 0)
        {
            if (sub_50928() == 1)
            {
                sub_28106( ref l_U783 );
                sub_28188( 0, sub_1262(), "MAX", ref l_U783, 2, 0 );
                sub_28188( 1, sub_1262(), "MAX", ref l_U783, 2, 0 );
                sub_28444( "SOFF_MSVFCE", ref l_U783, 8, 1 );
                l_U833 = 1;
            }
        }
        if (l_U834 == 0)
        {
            if ((sub_40712( l_U432 )) == 1)
            {
                if ((IS_PED_DEAD( sub_1262() )) == 0)
                {
                    if ((TIME_SINCE_LAST_MONOLOGUE() > 2500) AND (((IS_ANY_SPEECH_PLAYING( sub_1262() )) == 0) AND (IS_MONOLOGUE_PLAYING() == 0)))
                    {
                        sub_28106( ref l_U793 );
                        sub_28188( 0, sub_1262(), "MAX", ref l_U793, 2, 0 );
                        sub_28188( 1, sub_1262(), "MAX", ref l_U793, 2, 0 );
                        sub_28444( "SOFF_EXPTMA", ref l_U793, 8, 1 );
                        l_U834 = 1;
                        l_U833 = 1;
                    }
                }
            }
        }
        if ((sub_34441( ref l_U1037 )) == 1)
        {
            l_U142 = 1;
            l_U136 = 12;
            sub_831( "SP", "eCheckpointState = CHECKPOINT_HANDLE_VICTOR_EMAIL_NIS", 0 );
        }
        if ((sub_34441( ref l_U1135 )) == 1)
        {
            l_U143 = 1;
            l_U136 = 13;
            sub_831( "SP", "eCheckpointState = CHECKPOINT_HANDLE_FABIANA_FILES_NIS", 0 );
        }
        if (((IS_PED_DEAD( g_U1424 )) == 0) AND (((DOES_PED_EXIST( g_U1424 )) == 1) AND (((IS_PED_DEAD( sub_1262() )) == 0) AND ((IS_PLAYER_DEAD( sub_1284() )) == 0))))
        {
            if (l_U835 == 0)
            {
                if (((GET_DISTANCE_BETWEEN_COORDS( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( sub_1262() ), -29.24000000, 1.04000000, 5.77000000, 1 )) < 7.50000000) AND (((IS_ANY_SPEECH_PLAYING( sub_1262() )) == 0) AND (IS_MONOLOGUE_PLAYING() == 0)))
                {
                    l_U835 = 1;
                }
            }
            if ((GET_DISTANCE_BETWEEN_COORDS( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( sub_1262() ), -29.24000000, 1.04000000, 5.77000000, 1 )) < 7.00000000)
            {
                if ((GET_IS_PED_FORCED_TO_WALK( sub_1262() )) == 0)
                {
                    SET_PED_FORCED_TO_WALK( sub_1262(), 1 );
                }
            }
            else if ((GET_IS_PED_FORCED_TO_WALK( sub_1262() )) == 1)
            {
                SET_PED_FORCED_TO_WALK( sub_1262(), 0 );
            }
            if ((GET_DISTANCE_BETWEEN_COORDS( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( sub_1262() ), -29.24000000, 1.04000000, 5.77000000, 1 )) < 5.00000000)
            {
                sub_2883( ref l_U900 );
                PED_FINISH_ACTION_INTENTION( g_U1424, 50 );
                g_U1037 = 1;
                l_U136 = 11;
                sub_831( "SP", "eCheckpointState = CHECKPOINT_WAITING_FOR_HANDOFF", 0 );
            }
        }
        break;
        case 12:
        if (sub_52013() == 1)
        {
            sub_35445( ref l_U1037, 1 );
            l_U136 = 10;
            sub_831( "SP", "eCheckpointState = CHECKPOINT_HANDLE_GOTO_BOARDROOM", 0 );
        }
        else
        {
            return;
        }
        break;
        case 13:
        if (sub_53137() == 1)
        {
            sub_35445( ref l_U1135, 1 );
            l_U136 = 10;
            sub_831( "SP", "eCheckpointState = CHECKPOINT_HANDLE_GOTO_BOARDROOM", 0 );
        }
        else
        {
            return;
        }
        break;
        case 11:
        if ((ISEQ_IS_LOADED( -788295945 )) == 1)
        {
            if ((ISEQ_QUERY_STATE( -788295945, 3 )) == 1)
            {
                sub_3691();
                sub_54650();
                sub_831( "SP", "eCheckpointState = CHECKPOINT_FINISHED", 0 );
                l_U136 = 14;
                SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
            }
        }
        break;
        case 14: break;
    }
    return;
}

void sub_8867()
{
    return;
}

void sub_9086(int iParam0, int iParam1, unknown uParam2, boolean bParam3)
{
    END_POSTFX_BLENDER( 12, 0 );
    if (bParam3)
    {
        STOP_ALL_IMAGEFX( 0 );
    }
    SET_WIDESCREEN_BORDERS( 1, 500 );
    DISPLAY_HUD( 0 );
    if (iParam0 == 1)
    {
        if (NOT (IS_PED_DEAD( sub_1262() )))
        {
            SET_PLAYER_CONTROL( sub_1284(), 0, uParam2 );
            SET_PED_DUCKING( sub_1262(), 0 );
            if (iParam1 == 1)
            {
                CLEAR_PED_TASKS_IMMEDIATELY( sub_1262() );
            }
            SET_PED_INVINCIBLE( sub_1262(), 1 );
        }
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    return;
}

void sub_9245()
{
    sub_831( "SP", "P_INIT_SCRIPT_VARIABLES", 0 );
    l_U572 = 0;
    l_U647 = 0;
    l_U648 = 0;
    l_U649 = 0;
    l_U650 = 0;
    l_U651 = 0;
    l_U652 = 0;
    l_U653 = 0;
    l_U654 = 0;
    l_U655 = 0;
    l_U656 = 0;
    l_U1031 = 0;
    l_U571 = 0;
    l_U657 = 0;
    l_U658 = 0;
    l_U659 = 0;
    l_U660 = 0;
    l_U661 = 0;
    l_U833 = 0;
    l_U834 = 0;
    l_U835 = 0;
    l_U662 = 0;
    l_U138 = 0;
    l_U139 = 0;
    l_U141 = 0;
    l_U142 = 0;
    l_U143 = 0;
    sub_2883( ref l_U965 );
    sub_2883( ref l_U956 );
    sub_2883( ref l_U974 );
    sub_2883( ref l_U984 );
    sub_2883( ref l_U994 );
    sub_2883( ref l_U1004 );
    sub_2883( ref l_U900 );
    sub_2883( ref l_U909 );
    sub_2883( ref l_U918 );
    sub_2883( ref l_U873 );
    sub_2883( ref l_U882 );
    sub_2883( ref l_U837 );
    sub_2883( ref l_U846 );
    sub_2883( ref l_U855 );
    sub_2883( ref l_U864 );
    sub_2883( ref l_U891 );
    sub_2883( ref l_U1021 );
    sub_2883( ref l_U1123 );
    sub_2883( ref l_U1221 );
    sub_2883( ref l_U927 );
    sub_9639( ref g_U1327, 0 );
    sub_9639( ref g_U1334, 0 );
    return;
}

void sub_9639(int iParam0, int iParam1)
{
    int iVar4;
    float fVar5;

    if ((sub_9651( iParam0 )) == 0)
    {
        sub_9717( iParam0 );
    }
    if (iParam1 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, 0.00000000 );
    }
    else
    {
        iVar4 = 0;
        fVar5 = 0.00000000;
        GET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, ref iVar4, ref fVar5 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar5 );
    }
    return;
}

int sub_9651(int iParam0)
{
    int iVar3;

    iVar3 = DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS( iParam0->_fU4, 1.00000000, iParam0->_fU0 );
    if (iVar3 == 1)
    {
        return 1;
    }
    return 0;
}

void sub_9717(unknown uParam0)
{
    (uParam0^) = {(uParam0^)};
    return;
}

void sub_9858()
{
    sub_831( "SP", "P_INIT_GAMEPLAY_STRUCTS", 0 );
    sub_9939( ref l_U458, 10.37143000, 3.29803700, 4.92429600, 0.00000000, 403784285, 26, 6, 0, 0, 1 );
    sub_9939( ref l_U471, 10.55779000, 4.86581300, 4.92429600, 0.00000000, 1583403840, 5, 2, 0, 0, 0 );
    sub_9939( ref l_U499[0], -8.00000000, 6.00000000, 4.90000000, 180.00000000, -659598647, 7, 3, 2, 0, 0 );
    sub_9939( ref l_U499[1], -13.56000000, 9.77000000, 4.92000000, 180.00000000, -355029857, 7, 3, 2, 0, 0 );
    sub_9939( ref l_U499[2], -10.00000000, 3.51500000, 4.92000000, -90.00000000, 31691319, 7, 3, 2, 0, 0 );
    sub_9939( ref l_U499[3], -20.74700000, 11.83600000, 4.92000000, -90.00000000, 1105067817, 7, 3, 2, 0, 0 );
    sub_9939( ref l_U499[4], -17.57400000, 14.03900000, 4.92000000, -90.00000000, -1767625170, 7, 3, 2, 0, 0 );
    sub_9939( ref l_U579[0], -27.93000000, 7.21000000, 4.91300000, 180.00000000, -1846038620, 7, 3, 2, 0, 0 );
    sub_9939( ref l_U579[1], -27.59200000, 7.82000000, 4.91294100, -180.00000000, 674563692, 7, 3, 2, 0, 0 );
    sub_9939( ref l_U579[2], -30.11000000, 4.61000000, 4.91300000, 180.00000000, 634446515, 7, 3, 2, 0, 0 );
    sub_10509( ref l_U180, "TRIG_ARCH_BACKUP_START", -8.64000000, 5.49000000, 4.47000000, 4.00000000, 21.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_10509( ref l_U201, "TRIG_ARCH_BACKUP_BREAKOUT_01", -12.64000000, 9.71000000, 4.36000000, 3.00000000, 14.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_10509( ref l_U222, "TRIG_ARCH_HIDING_ENEMY_START", -15.41000000, 5.70000000, 4.36000000, 3.00000000, 21.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_10509( ref l_U243, "TRIG_0601_REMOVE_BODIES_01", -5.18000000, 5.43000000, 4.28000000, 4.00000000, 4.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_10509( ref l_U264, "TRIG_0601_REMOVE_BODIES_02", -29.40000000, 1.97000000, 4.63000000, 8.00000000, 4.50000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_10509( ref l_U285, "TRIG_BOARDROOM_LOCK_DOORS", -29.55000000, 1.16000000, 4.82000000, 7.04000000, 5.13000000, 4.12000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_10509( ref l_U306, "TRIG_VICTOR_EMAIL_POI", 0.53000000, 12.37000000, 4.73000000, 2.21000000, 6.37000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_10509( ref l_U327, "TRIG_VICTOR_EMAIL_ACTION", 0.54000000, 14.93000000, 4.73000000, 1.40000000, 1.20000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_10509( ref l_U348, "TRIG_FABIANA_FILES_POI", 3.74000000, 12.37000000, 4.73000000, 3.77000000, 6.37000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_10509( ref l_U369, "TRIG_FABIANA_FILES_ACTION", 3.69000000, 13.60000000, 4.73000000, 2.47000000, 3.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_10509( ref l_U390, "TRIG_VICTORS_OFFICE_LOOK_01", 0.84000000, 4.89000000, 4.31000000, 9.57000000, 8.50000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_10509( ref l_U411, "TRIG_VICTORS_OFFICE_LOOK_02", -5.60000000, 8.19000000, 4.31000000, 10.00000000, 15.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_10509( ref l_U432, "TRIG_INSIDE_VICTORS_OFFICE", 2.52000000, 12.37000000, 4.31000000, 6.00000000, 6.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_11668( ref l_U453, "TETH_ARCH_AREA_01", -9.05000000, 5.86000000, 4.58000000, 29.00000000, 19.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_11668( ref l_U454, "TETH_ARCH_AREA_02", -27.87000000, 0.45000000, 4.58000000, 10.00000000, 7.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_11668( ref l_U455, "TETH_ARCH_ENEMY_MID", -12.55000000, 7.96000000, 4.39000000, 3.00000000, 5.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_11668( ref l_U456, "TETH_ARCH_ENEMY_IN_ROOM", -8.75000000, -1.00000000, 4.50000000, 7.50000000, 7.50000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_11668( ref l_U457, "TETH_ARCH_RIGHT_SIDE", -9.95000000, 13.70000000, 4.27000000, 18.62000000, 4.00000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_12072( ref l_U1037, 2, 0.56000000, 15.24000000, 5.98000000, l_U327, l_U306, 1, 0 );
    sub_12920( ref l_U1037, 30, "POI_OFFEMAIL" );
    sub_13081( ref l_U1037, 1 );
    sub_13113( ref l_U1037, 0 );
    sub_13145( ref l_U1037, 0 );
    sub_12072( ref l_U1135, 2, 3.42000000, 13.67000000, 5.98000000, l_U369, l_U348, 1, 0 );
    sub_12920( ref l_U1135, 30, "POI_OFFFOLDER" );
    sub_13081( ref l_U1135, 1 );
    sub_13113( ref l_U1135, 0 );
    sub_13145( ref l_U1135, 0 );
    return;
}

void sub_9939(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU20 = uParam5;
    iParam0->_fU12 = uParam4;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU16 = GET_SCENE_PED_MODEL( uParam5 );
    iParam0->_fU48 = uParam10;
    return;
}

void sub_10509(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    StrCopy( ref iParam0->_fU0, uParam1, 64 );
    iParam0->_fU64 = 0;
    iParam0->_fU68 = 0;
    iParam0->_fU72 = {uParam2};
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 1, iParam0 + 0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

void sub_11668(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    iParam0->_fU0 = uParam1;
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 2, iParam0->_fU0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

void sub_12072(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21, unknown uParam22, unknown uParam23, unknown uParam24, unknown uParam25, unknown uParam26, unknown uParam27, unknown uParam28, unknown uParam29, unknown uParam30, unknown uParam31, unknown uParam32, unknown uParam33, unknown uParam34, unknown uParam35, unknown uParam36, unknown uParam37, unknown uParam38, unknown uParam39, unknown uParam40, unknown uParam41, unknown uParam42, unknown uParam43, unknown uParam44, unknown uParam45, unknown uParam46, unknown uParam47, unknown uParam48)
{
    sub_12089( iParam0, uParam47 );
    iParam0->_fU4 = uParam1;
    iParam0->_fU80 = 1;
    iParam0->_fU116 = {uParam5};
    iParam0->_fU88 = 1;
    iParam0->_fU216 = {uParam26};
    iParam0->_fU320 = uParam48;
    iParam0->_fU20 = {uParam2};
    sub_12455( iParam0 );
    return;
}

void sub_12089(int iParam0, unknown uParam1)
{
    iParam0->_fU0 = uParam1;
    iParam0->_fU4 = 0;
    iParam0->_fU8 = 0;
    iParam0->_fU12 = nil;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = {0.00000000, 0.00000000, 0.00000000};
    iParam0->_fU52 = 1;
    iParam0->_fU56 = 1;
    iParam0->_fU60 = 0;
    iParam0->_fU64 = 0;
    iParam0->_fU68 = 0;
    iParam0->_fU72 = 0;
    iParam0->_fU76 = 0;
    iParam0->_fU80 = 0;
    iParam0->_fU84 = 0;
    iParam0->_fU100 = {0.00000000, 0.00000000, 0.00000000};
    iParam0->_fU112 = 0.00000000;
    iParam0->_fU88 = 0;
    iParam0->_fU92 = 0;
    iParam0->_fU96 = 0;
    iParam0->_fU200 = {0.00000000, 0.00000000, 0.00000000};
    iParam0->_fU212 = 0.00000000;
    iParam0->_fU300 = 0;
    iParam0->_fU304 = 1;
    iParam0->_fU308 = 0;
    iParam0->_fU324 = 1;
    iParam0->_fU328 = 0;
    iParam0->_fU340 = 0;
    iParam0->_fU336 = 0.20000000;
    return;
}

void sub_12455(int iParam0)
{
    if (iParam0->_fU12 != nil)
    {
        if ((DOES_GLINT_EXIST( iParam0->_fU12 )) == 1)
        {
            REMOVE_GLINT( iParam0->_fU12 );
        }
    }
    iParam0->_fU12 = CREATE_GLINT( iParam0->_fU16, iParam0->_fU20 );
    sub_12534( iParam0 );
    return;
}

void sub_12534(int iParam0)
{
    if (iParam0->_fU0 == 1)
    {
        if (iParam0->_fU320 == 1)
        {
            if ((iParam0->_fU8 > 0) AND (iParam0->_fU4 == 0))
            {
                sub_12593( iParam0, 1 );
            }
            else if ((iParam0->_fU8 < 2) AND (iParam0->_fU4 == 1))
            {
                sub_12593( iParam0, 1 );
            }
            else if ((iParam0->_fU8 == 1) AND (iParam0->_fU4 == 2))
            {
                sub_12593( iParam0, 1 );
            }
            else
            {
                sub_12593( iParam0, 0 );
            };;;
        }
        else
        {
            sub_12593( iParam0, 0 );
        }
    }
    else
    {
        sub_12593( iParam0, 0 );
    }
    return;
}

void sub_12593(int iParam0, int iParam1)
{
    if (iParam1 == 1)
    {
        if (iParam0->_fU12 != nil)
        {
            if ((DOES_GLINT_EXIST( iParam0->_fU12 )) == 1)
            {
                ENABLE_GLINT( iParam0->_fU12, 1 );
            }
            else
            {
                iParam0->_fU12 = CREATE_GLINT( iParam0->_fU16, iParam0->_fU20 );
            }
        }
        else
        {
            iParam0->_fU12 = CREATE_GLINT( iParam0->_fU16, iParam0->_fU20 );
        }
    }
    else if (iParam0->_fU12 != nil)
    {
        if ((DOES_GLINT_EXIST( iParam0->_fU12 )) == 1)
        {
            ENABLE_GLINT( iParam0->_fU12, 0 );
        }
    }
    return;
}

void sub_12920(int iParam0, unknown uParam1, unknown uParam2)
{
    StrCopy( ref iParam0->_fU32, uParam2, 16 );
    iParam0->_fU48 = uParam1;
    sub_12951( iParam0 );
    return;
}

void sub_12951(int iParam0)
{
    if ((iParam0->_fU8 == 2) AND (iParam0->_fU0 == 1))
    {
        if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
        {
            SET_INTERACTIONTEXT_BUTTON( iParam0->_fU48 );
            SET_INTERACTIONTEXT_TEXT( iParam0 + 32 );
            SET_INTERACTIONTEXT_VISIBLE( 1 );
            SET_INTERACTIONTEXT_BUTTON_VISIBLE( 1 );
            SET_INTERACTIONTEXT_AVAILABLE( 1 );
            iParam0->_fU56 = 1;
        }
    }
    return;
}

void sub_13081(int iParam0, unknown uParam1)
{
    iParam0->_fU68 = uParam1;
    return;
}

void sub_13113(int iParam0, unknown uParam1)
{
    iParam0->_fU324 = uParam1;
    return;
}

void sub_13145(int iParam0, int iParam1)
{
    if (iParam1 == 0)
    {
        iParam0->_fU60 = 1;
    }
    else
    {
        iParam0->_fU60 = 0;
    }
    sub_13187( iParam0 );
    return;
}

void sub_13187(int iParam0)
{
    if (iParam0->_fU60 == 1)
    {
        SET_INTERACTIONTEXT_AVAILABLE( 0 );
        iParam0->_fU56 = 0;
    }
    else if (iParam0->_fU56 == 1)
    {
        if ((sub_13248( iParam0 )) == 0)
        {
            SET_INTERACTIONTEXT_AVAILABLE( 0 );
            iParam0->_fU56 = 0;
        }
    }
    else if ((sub_13248( iParam0 )) == 1)
    {
        SET_INTERACTIONTEXT_AVAILABLE( 1 );
        iParam0->_fU56 = 1;
    };;;
    return;
}

int sub_13248(int iParam0)
{
    if (((IS_PED_DEAD( sub_1262() )) == 0) AND ((IS_PLAYER_DEAD( sub_1284() )) == 0))
    {
        if (((IS_PED_RELOADING( sub_1262() )) == 1) || (((IS_PED_GETTING_UP( sub_1262() )) == 1) || (((IS_PED_PICKING_UP_PICKUP( sub_1262() )) == 1) || (((IS_PED_IN_COVER( sub_1262() )) == 1) || (((IS_PED_DUCKING( sub_1262() )) == 1) || (IS_PLAYER_SHOOTDODGING() == 1))))))
        {
            return 0;
        }
        if (iParam0->_fU304 == 0)
        {
            if ((IS_MONOLOGUE_PLAYING() == 1) || ((IS_ANY_SPEECH_PLAYING( sub_1262() )) == 1))
            {
                return 0;
            }
        }
        return 1;
    }
    return 0;
}

void sub_13622()
{
    return;
}

void sub_13997()
{
    sub_831( "SP", "P_REQUEST_ASSETS", 0 );
    sub_14043( -2008010292, 0 );
    sub_14043( 610197146, 0 );
    sub_14043( 1554808592, 0 );
    sub_14043( g_U1411, 0 );
    sub_14043( 1911544110, 0 );
    sub_14043( -1387022621, 0 );
    sub_14043( g_U703, 0 );
    sub_14280( g_U1269, 0 );
    sub_14280( g_U1270, 0 );
    sub_14280( g_U1271, 0 );
    sub_14280( g_U1272, 0 );
    sub_14382( -1265837811, 0 );
    sub_14382( 1030383128, 0 );
    sub_14382( 2034456429, 0 );
    sub_14624( "LEVEL_S_OFFICE_CP_01", 0, 0 );
    sub_14624( "EXPL_CAM", 0, 0 );
    return;
}

void sub_14043(unknown uParam0, boolean bParam1)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
        sub_6383( "[SP]### ERROR! (LoadModel) Trying to load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    if (bParam1)
    {
        while ((HAS_MODEL_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_14280(unknown uParam0, boolean bParam1)
{
    REQUEST_WEAPON( uParam0 );
    if (bParam1)
    {
        while ((HAS_WEAPON_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_14382(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to load does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 0)
    {
        ISEQ_REQUEST( uParam0 );
        ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
        if (iParam1 == 1)
        {
            while ((ISEQ_QUERY_STATE( uParam0, 1 )) == 1)
            {
                WAIT( 0 );
            }
        }
    }
    return;
}

void sub_14624(unknown uParam0, unknown uParam1, int iParam2)
{
    REQUEST_ANIM_DICT( uParam0, uParam1 );
    "[doubled result, dropped if not asigned]";
    if (iParam2 == 1)
    {
        while ((HAS_ANIM_DICT_LOADED( uParam0, uParam1 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

int sub_14782()
{
    if (((HAS_ANIM_DICT_LOADED( "EXPL_CAM", 0 )) == 1) AND (((HAS_ANIM_DICT_LOADED( "LEVEL_S_OFFICE_CP_01", 0 )) == 1) AND (((ISEQ_QUERY_STATE( 2034456429, 2 )) == 1) AND (((ISEQ_IS_LOADED( 2034456429 )) == 1) AND (((ISEQ_QUERY_STATE( 1030383128, 2 )) == 1) AND (((ISEQ_IS_LOADED( 1030383128 )) == 1) AND (((ISEQ_QUERY_STATE( -1265837811, 2 )) == 1) AND (((ISEQ_IS_LOADED( -1265837811 )) == 1) AND (((HAS_WEAPON_LOADED( g_U1272 )) == 1) AND (((HAS_WEAPON_LOADED( g_U1271 )) == 1) AND (((HAS_WEAPON_LOADED( g_U1270 )) == 1) AND (((HAS_WEAPON_LOADED( g_U1269 )) == 1) AND (((HAS_MODEL_LOADED( g_U703 )) == 1) AND (((HAS_MODEL_LOADED( -1387022621 )) == 1) AND (((HAS_MODEL_LOADED( 1911544110 )) == 1) AND (((HAS_MODEL_LOADED( g_U1411 )) == 1) AND (((HAS_MODEL_LOADED( 1554808592 )) == 1) AND (((HAS_MODEL_LOADED( 610197146 )) == 1) AND ((HAS_MODEL_LOADED( -2008010292 )) == 1)))))))))))))))))))
    {
        return 1;
    }
    return 0;
}

int sub_15211()
{
    unknown uVar2;
    unknown uVar3;
    vector vVar4;
    float fVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    int iVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    unknown uVar37;
    unknown uVar38;
    unknown uVar39;
    unknown uVar40;
    unknown uVar41;
    unknown uVar42;
    unknown uVar43;
    unknown uVar44;
    unknown uVar45;
    unknown uVar46;
    unknown uVar47;
    unknown uVar48;
    unknown uVar49;
    unknown uVar50;
    unknown uVar51;
    unknown uVar52;
    unknown uVar53;
    unknown uVar54;
    unknown uVar55;
    unknown uVar56;
    unknown uVar57;
    unknown uVar58;
    unknown uVar59;
    unknown uVar60;
    unknown uVar61;
    unknown uVar62;
    unknown uVar63;
    unknown uVar64;
    unknown uVar65;
    unknown uVar66;
    unknown uVar67;
    unknown uVar68;
    unknown uVar69;
    unknown uVar70;
    unknown uVar71;
    unknown uVar72;
    unknown uVar73;
    unknown uVar74;
    unknown uVar75;
    unknown uVar76;
    unknown uVar77;
    unknown uVar78;
    unknown uVar79;
    unknown uVar80;
    unknown uVar81;
    unknown uVar82;
    unknown uVar83;
    unknown uVar84;
    unknown uVar85;
    unknown uVar86;
    unknown uVar87;
    unknown uVar88;
    unknown uVar89;
    unknown uVar90;
    unknown uVar91;
    unknown uVar92;
    unknown uVar93;
    unknown uVar94;
    unknown uVar95;
    unknown uVar96;
    unknown uVar97;
    unknown uVar98;
    unknown uVar99;
    unknown uVar100;
    unknown uVar101;
    unknown uVar102;
    unknown uVar103;
    unknown uVar104;
    unknown uVar105;
    unknown uVar106;
    unknown uVar107;
    unknown uVar108;
    unknown uVar109;
    unknown uVar110;
    unknown uVar111;
    unknown uVar112;
    unknown uVar113;
    unknown uVar114;
    unknown uVar115;
    int I;

    vVar4 = {22.99916000, 12.04939000, 5.30049500};
    fVar7 = 0.00000000;
    switch (l_U138)
    {
        case 0: break;
        case 1:
        sub_831( "SP", "eOpeningCutsceneState = CUTSCENE_REQUEST_ASSETS", 0 );
        sub_15388();
        l_U138 = 2;
        sub_831( "SP", "eOpeningCutsceneState = CUTSCENE_LOAD_ASSETS", 0 );
        break;
        case 2:
        if (sub_15801() == 1)
        {
            if ((IS_PED_DEAD( sub_1262() )) == 0)
            {
                uVar2 = GET_HASH_KEY( ref g_U1157 );
                uVar3 = GET_INTERIOR_FROM_NAME( ref g_U1093, 0 );
                SET_INTERIOR_ACTIVE( uVar3, 1, 0 );
                LOAD_SCENE_FOR_ROOM_BY_KEY( uVar3, uVar2 );
                LOAD_SCENE( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( sub_1262() ) );
            }
            l_U138 = 3;
            sub_831( "SP", "eOpeningCutsceneState = CUTSCENE_SETUP", 0 );
            break;
        }
        return 0;
        case 3:
        sub_831( "SP", "eOpeningCutsceneState = CUTSCENE_SETUP", 0 );
        sub_9939( ref uVar12, 22.92060000, 2.78073900, -0.00017800, 0, -1507359452, 7, 3, 2, 0, 0 );
        sub_3617( l_U487 );
        l_U487 = sub_16409( ref uVar12 );
        if (((IS_PED_DEAD( l_U487 )) == 0) AND ((DOES_PED_EXIST( l_U487 )) == 1))
        {
            SET_PED_NAME_DEBUG( l_U487, "piRecept0601" );
            SET_ROOM_FOR_PED_BY_NAME( l_U487, ref g_U1157 );
            FREEZE_PED_POSITION( l_U487, 1 );
        }
        sub_9939( ref uVar25, 22.83480000, 11.75110000, 5.30049500, 0.00000000, -656468555, 7, 3, 2, 0, 0 );
        l_U485 = sub_16409( ref uVar25 );
        if (((IS_PED_DEAD( l_U485 )) == 0) AND ((DOES_PED_EXIST( l_U485 )) == 1))
        {
            SET_PED_NAME_DEBUG( l_U485, "piPassos0601" );
            SET_ROOM_FOR_PED_BY_NAME( l_U485, ref g_U1109 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U485, 1 );
            FREEZE_PED_POSITION( l_U485, 1 );
        }
        sub_9939( ref uVar38, 17.28689000, 9.49896300, 4.92445500, 0.00000000, 1354044296, 7, 3, 2, 0, 0 );
        sub_3617( l_U488 );
        l_U488 = sub_16409( ref uVar38 );
        if (((IS_PED_DEAD( l_U488 )) == 0) AND ((DOES_PED_EXIST( l_U488 )) == 1))
        {
            SET_PED_NAME_DEBUG( l_U488, "piMarc0601" );
            SET_ROOM_FOR_PED_BY_NAME( l_U488, ref g_U1109 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U488, 1 );
            FREEZE_PED_POSITION( l_U488, 1 );
        }
        sub_9939( ref uVar51, 19.09188000, 9.67614600, 4.92445500, 0.00000000, -1969719364, 7, 3, 2, 0, 0 );
        sub_3617( l_U489 );
        l_U489 = sub_16409( ref uVar51 );
        if (((IS_PED_DEAD( l_U489 )) == 0) AND ((DOES_PED_EXIST( l_U489 )) == 1))
        {
            SET_PED_NAME_DEBUG( l_U489, "piVict0601" );
            SET_ROOM_FOR_PED_BY_NAME( l_U489, ref g_U1109 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U489, 1 );
            FREEZE_PED_POSITION( l_U489, 1 );
        }
        sub_9939( ref uVar64, 21.20996000, 9.87334300, 4.92445500, 0.00000000, -861625555, 7, 3, 2, 0, 0 );
        sub_3617( l_U490 );
        l_U490 = sub_16409( ref uVar64 );
        if (((IS_PED_DEAD( l_U490 )) == 0) AND ((DOES_PED_EXIST( l_U490 )) == 1))
        {
            SET_PED_NAME_DEBUG( l_U490, "piArmo0601" );
            SET_ROOM_FOR_PED_BY_NAME( l_U490, ref g_U1109 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U490, 1 );
            FREEZE_PED_POSITION( l_U490, 1 );
        }
        sub_9939( ref uVar77, 22.61051000, 10.03170000, 4.92445500, 0.00000000, -1933680908, 7, 3, 2, 0, 0 );
        sub_3617( l_U491 );
        l_U491 = sub_16409( ref uVar77 );
        if (((IS_PED_DEAD( l_U491 )) == 0) AND ((DOES_PED_EXIST( l_U491 )) == 1))
        {
            SET_PED_NAME_DEBUG( l_U491, "piRodr0601" );
            SET_ROOM_FOR_PED_BY_NAME( l_U491, ref g_U1109 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U491, 1 );
            FREEZE_PED_POSITION( l_U491, 1 );
        }
        sub_9939( ref uVar90, 26.74677000, 9.63150400, 5.30049500, 0.00000000, 1583403840, 7, 3, 2, 0, 0 );
        sub_3617( l_U486 );
        l_U486 = sub_16409( ref uVar90 );
        if (((IS_PED_DEAD( l_U486 )) == 0) AND ((DOES_PED_EXIST( l_U486 )) == 1))
        {
            SET_PED_NAME_DEBUG( l_U486, "piSecretary0601" );
            SET_ROOM_FOR_PED_BY_NAME( l_U486, ref g_U1109 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U486, 1 );
            FREEZE_PED_POSITION( l_U486, 1 );
        }
        sub_9939( ref uVar103, 26.49687000, 6.94147200, 5.30049500, 0.00000000, 403784285, 7, 3, 2, 0, 0 );
        sub_3617( l_U492 );
        l_U492 = sub_16409( ref uVar103 );
        if (((IS_PED_DEAD( l_U492 )) == 0) AND ((DOES_PED_EXIST( l_U492 )) == 1))
        {
            SET_PED_NAME_DEBUG( l_U492, "piITGuy0601" );
            SET_ROOM_FOR_PED_BY_NAME( l_U492, ref g_U1109 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U492, 1 );
            FREEZE_PED_POSITION( l_U492, 1 );
        }
        sub_18297();
        sub_18691();
        sub_18992();
        sub_19454();
        sub_19638();
        sub_19931();
        l_U138 = 4;
        sub_831( "SP", "eOpeningCutsceneState = CUTSCENE_START", 0 );
        case 4:
        sub_831( "SP", "eOpeningCutsceneState = CUTSCENE_START", 0 );
        if (((IS_PED_DEAD( l_U485 )) == 0) AND ((DOES_PED_EXIST( l_U485 )) == 1))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U485, "Pass_Roof", 1 );
        }
        if (((IS_PED_DEAD( l_U488 )) == 0) AND ((DOES_PED_EXIST( l_U488 )) == 1))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U488, "Marc_Form", 1 );
        }
        if (((IS_PED_DEAD( l_U489 )) == 0) AND ((DOES_PED_EXIST( l_U489 )) == 1))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U489, "Vict_Form", 1 );
        }
        if (((IS_PED_DEAD( l_U490 )) == 0) AND ((DOES_PED_EXIST( l_U490 )) == 1))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U490, "Armo_Unif", 1 );
        }
        if (((IS_PED_DEAD( l_U491 )) == 0) AND ((DOES_PED_EXIST( l_U491 )) == 1))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U491, "Rodr_Form", 1 );
        }
        if (((IS_PED_DEAD( l_U486 )) == 0) AND ((DOES_PED_EXIST( l_U486 )) == 1))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U486, "Secr_F_Avg", 0 );
            CUTSCENE_REGISTER_PED_TELEPORT( l_U486, l_U946, l_U949 );
            ISEQ_REGISTER_ENTITY( -1265837811, "secretary", l_U486, 0 );
        }
        if (((IS_PED_DEAD( l_U492 )) == 0) AND ((DOES_PED_EXIST( l_U492 )) == 1))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U492, "Offi_Tech_Avg", 0 );
            CUTSCENE_REGISTER_PED_TELEPORT( l_U492, l_U941, l_U944 );
            ISEQ_REGISTER_ENTITY( -1265837811, "itguy", l_U492, 0 );
        }
        if ((IS_PED_DEAD( sub_1262() )) == 0)
        {
            uVar8 = GET_WEAPON_FROM_HAND( sub_1262(), 0, 0 );
            CUTSCENE_REGISTER_PED_TELEPORT( sub_1262(), l_U936, l_U939 );
            ISEQ_REGISTER_ENTITY( -1265837811, "player", sub_1262(), 0 );
        }
        CUTSCENE_REGISTER_ISEQ( -1265837811 );
        REGISTER_HIDE_ENTITY_AT_POSITION( g_U1285._fU0, g_U1285._fU4 );
        REGISTER_HIDE_ENTITY_AT_POSITION( g_U1292._fU0, g_U1292._fU4 );
        CUTSCENE_ENABLE_SKIP( 0 );
        CUTSCENE_SET_WAIT_FOR_MOVIE( 9 );
        SET_TRANSITION_MOVIE_SKIPPABLE( 1 );
        l_U138 = 5;
        sub_831( "SP", "eOpeningCutsceneState = CUTSCENE_WAITING_FOR_MOVIE", 0 );
        break;
        case 5:
        if ((CUTSCENE_IS_WAITING_FOR_MOVIE() == 0) || (IS_TRANSITION_MOVIE_PLAYING() == 0))
        {
            CLEAR_HELP();
            CLEAR_PRINTS();
            START_SEAMLESS_CUTSCENE();
            DO_SCREEN_FADE_IN( 0 );
            l_U138 = 6;
            sub_831( "SP", "eOpeningCutsceneState = CUTSCENE_FIRST_FRAME", 0 );
        }
        else
        {
            return 0;
        }
        break;
        case 6:
        sub_831( "SP", "eOpeningCutsceneState = CUTSCENE_FIRST_FRAME", 0 );
        l_U138 = 7;
        sub_831( "SP", "eOpeningCutsceneState = CUTSCENE_PLAYING", 0 );
        break;
        case 7:
        if (HAS_CUTSCENE_FINISHED() == 0)
        {
            uVar9 = GET_CUTSCENE_SECTION_PLAYING();
            uVar10 = GET_CUTSCENE_TIME();
            iVar11 = GET_CUTSCENE_TIME_MS();
            if (l_U647 == 0)
            {
                if (iVar11 >= 12000)
                {
                    sub_3617( l_U487 );
                    CUTSCENE_MODEL_NO_LONGER_NEEDED( 1541666737 );
                    SET_MODEL_AS_NO_LONGER_NEEDED( 1541666737 );
                    sub_4203( l_U625 );
                    sub_21369( g_U1412 );
                    sub_4203( l_U626 );
                    sub_21369( g_U1413 );
                    sub_4203( l_U627 );
                    sub_21369( g_U1414 );
                    l_U647 = 1;
                }
            }
            if (l_U648 == 0)
            {
                if (iVar11 >= 156500)
                {
                    sub_831( "SP", "Removing uneeded Ped Packs", 0 );
                    CUTSCENE_MODEL_NO_LONGER_NEEDED( -515539972 );
                    CUTSCENE_MODEL_NO_LONGER_NEEDED( -602188521 );
                    CUTSCENE_MODEL_NO_LONGER_NEEDED( 1528633706 );
                    CUTSCENE_MODEL_NO_LONGER_NEEDED( 937262902 );
                    SET_MODEL_AS_NO_LONGER_NEEDED( -515539972 );
                    SET_MODEL_AS_NO_LONGER_NEEDED( -602188521 );
                    SET_MODEL_AS_NO_LONGER_NEEDED( 1528633706 );
                    SET_MODEL_AS_NO_LONGER_NEEDED( 937262902 );
                    l_U648 = 1;
                }
            }
            if (l_U649 == 0)
            {
                if (iVar11 >= 160000)
                {
                    sub_21745();
                    l_U649 = 1;
                }
            }
            if (l_U650 == 0)
            {
                if (l_U649 == 1)
                {
                    if (sub_21925() == 1)
                    {
                        sub_831( "SP", "Post Cutscene Assets have loaded.", 0 );
                        l_U650 = 1;
                    }
                }
            }
            if (l_U651 == 0)
            {
                if (iVar11 >= 188500)
                {
                    STOP_MOVIE( 0 );
                    l_U651 = 1;
                }
            }
            if (l_U652 == 0)
            {
                if (iVar11 >= 189500)
                {
                    sub_4203( l_U635 );
                    sub_21369( g_U1419 );
                    sub_831( "SP", "Security Video Started Part 1", 0 );
                    if ((DOES_OBJECT_EXIST( l_U633 )) == 1)
                    {
                        SET_OBJECT_VISIBLE( l_U633, 0 );
                    }
                    if ((DOES_OBJECT_EXIST( l_U632 )) == 1)
                    {
                        SET_OBJECT_VISIBLE( l_U632, 1 );
                    }
                    SET_MOVIE_LOOP( 1, 1 );
                    PLAY_MOVIE( 1, 0 );
                    l_U652 = 1;
                }
            }
            if (l_U653 == 0)
            {
                if (iVar11 >= 197000)
                {
                    sub_831( "SP", "Security Video Started Part 2", 0 );
                    SET_MOVIE_FRAME( 1, 64 );
                    l_U653 = 1;
                }
            }
            if (l_U654 == 0)
            {
                if (iVar11 >= 240800)
                {
                    sub_831( "SP", "Security Video Stopped.", 0 );
                    STOP_MOVIE( 1 );
                    RELEASE_MOVIE( 1 );
                    l_U654 = 1;
                }
            }
            if (l_U655 == 0)
            {
                if (iVar11 >= 240800)
                {
                    sub_831( "SP", "Weather has been updated.", 0 );
                    SET_WEATHER_TYPE_NOW_PERSIST( "EXTRASUNNY" );
                    l_U655 = 1;
                }
            }
        }
        else
        {
            ISEQ_UNREGISTER_ENTITY( 915354650, "fish" );
            ISEQ_TERMINATE( 915354650 );
            sub_3617( l_U485 );
            sub_3617( l_U487 );
            sub_3617( l_U488 );
            sub_3617( l_U489 );
            sub_3617( l_U490 );
            sub_3617( l_U491 );
            sub_21369( 937262902 );
            sub_21369( 1541666737 );
            sub_21369( -515539972 );
            sub_21369( -602188521 );
            sub_21369( 1528633706 );
            sub_21369( 1815610868 );
            sub_4203( l_U625 );
            sub_21369( g_U1412 );
            sub_4203( l_U626 );
            sub_21369( g_U1413 );
            sub_4203( l_U627 );
            sub_21369( g_U1414 );
            sub_4203( l_U633 );
            sub_21369( g_U1415 );
            sub_4203( l_U632 );
            sub_21369( g_U1416 );
            sub_4203( l_U634 );
            sub_21369( g_U1417 );
            sub_4203( l_U635 );
            sub_21369( g_U1419 );
            sub_4203( l_U628 );
            sub_21369( g_U1420 );
            sub_4203( l_U629 );
            sub_4203( l_U630 );
            sub_21369( g_U1421 );
            sub_4203( l_U631 );
            sub_21369( g_U1422 );
            if (((CUTSCENE_NAMED_IS_LOADING( "06_01_office_concat" )) == 1) || ((CUTSCENE_IS_LOADED( "06_01_office_concat" )) == 1))
            {
                CLEAR_NAMED_CUTSCENE( "06_01_office_concat" );
            }
            for ( I = 0; I < l_U565; I++ )
            {
                if (((IS_PED_DEAD( l_U565[I] )) == 0) AND ((DOES_PED_EXIST( l_U565[I] )) == 1))
                {
                    FREEZE_PED_POSITION( l_U565[I], 0 );
                }
            }
            l_U138 = 0;
            sub_831( "SP", "eOpeningCutsceneState = CUTSCENE_IDLE", 0 );
            return 1;
        }
        break;
    }
    return 0;
}

void sub_15388()
{
    sub_831( "SP", "P_REQUEST_OPENING_CUTSCENE_ASSETS", 0 );
    PRE_STREAM_SEAMLESS_CUTSCENE( "06_01_office_concat" );
    sub_14043( 937262902, 0 );
    sub_14043( 1541666737, 0 );
    sub_14043( -515539972, 0 );
    sub_14043( -602188521, 0 );
    sub_14043( 1528633706, 0 );
    sub_14043( 1815610868, 0 );
    sub_14043( 610197146, 0 );
    sub_14043( -2008010292, 0 );
    sub_14043( g_U1412, 0 );
    sub_14043( g_U1413, 0 );
    sub_14043( g_U1414, 0 );
    sub_14043( g_U1415, 0 );
    sub_14043( g_U1416, 0 );
    sub_14043( g_U1417, 0 );
    sub_14043( g_U1419, 0 );
    sub_14043( g_U1420, 0 );
    sub_14043( g_U1421, 0 );
    sub_14043( g_U1422, 0 );
    sub_14382( 915354650, 0 );
    sub_14382( -1265837811, 0 );
    sub_14624( "LEVEL_S_OFFICE_CP_01", 0, 0 );
    return;
}

int sub_15801()
{
    if (((HAS_ANIM_DICT_LOADED( "LEVEL_S_OFFICE_CP_01", 0 )) == 1) AND (((ISEQ_IS_LOADED( -1265837811 )) == 1) AND (((ISEQ_IS_LOADED( 915354650 )) == 1) AND (((HAS_MODEL_LOADED( g_U1422 )) == 1) AND (((HAS_MODEL_LOADED( g_U1421 )) == 1) AND (((HAS_MODEL_LOADED( g_U1420 )) == 1) AND (((HAS_MODEL_LOADED( g_U1419 )) == 1) AND (((HAS_MODEL_LOADED( g_U1417 )) == 1) AND (((HAS_MODEL_LOADED( g_U1416 )) == 1) AND (((HAS_MODEL_LOADED( g_U1415 )) == 1) AND (((HAS_MODEL_LOADED( -2008010292 )) == 1) AND (((HAS_MODEL_LOADED( 610197146 )) == 1) AND (((HAS_MODEL_LOADED( 1815610868 )) == 1) AND (((HAS_MODEL_LOADED( 1528633706 )) == 1) AND (((HAS_MODEL_LOADED( -602188521 )) == 1) AND (((HAS_MODEL_LOADED( -515539972 )) == 1) AND (((HAS_MODEL_LOADED( 1541666737 )) == 1) AND (((HAS_MODEL_LOADED( 937262902 )) == 1) AND ((CUTSCENE_IS_LOADED( "06_01_office_concat" )) == 1)))))))))))))))))))
    {
        return 1;
    }
    return 0;
}

void sub_16409(int iParam0)
{
    int iVar3;

    iVar3 = 0;
    if (iParam0->_fU16 == 0)
    {
        if (iParam0->_fU20 != 0)
        {
            iVar3 = GET_SCENE_PED_MODEL( iParam0->_fU20 );
        }
    }
    else
    {
        iVar3 = iParam0->_fU16;
    }
    if ((HAS_MODEL_LOADED( iVar3 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
        sub_14043( iParam0->_fU16, 1 );
    }
    iParam0->_fU40 = CREATE_PED( iParam0->_fU24, iParam0->_fU16, iParam0->_fU0, iParam0->_fU12, 1, iParam0->_fU48 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( iParam0->_fU40, 1 );
        SET_PED_COORDS_NO_OFFSET( iParam0->_fU40, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU40 ) );
        SET_PED_HEADING( iParam0->_fU40, iParam0->_fU12 );
        iParam0->_fU44 = 1;
    }
    else
    {
        SCRIPT_ASSERT( "Error: The ped you created doesn't exist or is dead!", 0 );
    }
    sub_16888( iParam0->_fU40 );
    sub_16968( iParam0->_fU40 );
    return iParam0->_fU40;
}

void sub_16888(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_HEALTH( uParam0, 200, 0 );
        SET_PED_ACCURACY( uParam0, -729479261 );
    }
    return;
}

void sub_16968(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_AI_TEMPLATE( uParam0, "AIT_DEFAULT_GENERIC" );
    }
    return;
}

void sub_18297()
{
    vector vVar2;
    vector vVar5;

    sub_831( "SP", "P_CREATE_FRONT_LOBBY_DOOR_FRAME", 0 );
    vVar2 = {22.53000000, -34.22000000, 0.00000000};
    vVar5 = {0.00000000, 0.00000000, 0.00000000};
    sub_4203( l_U625 );
    l_U625 = sub_18413( g_U1412, vVar2, vVar5, 0, 0, 0 );
    if ((DOES_OBJECT_EXIST( l_U625 )) == 1)
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U625, ref g_U1157 );
        FREEZE_OBJECT_POSITION( l_U625, 1 );
    }
    return;
}

void sub_18413(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
        sub_14043( uParam0, 1 );
    }
    Result = CREATE_OBJECT_NO_OFFSET( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

void sub_18691()
{
    vector vVar2;
    vector vVar5;
    vector vVar8;
    vector vVar11;

    sub_831( "SP", "P_CREATE_RECEPTIONIST_DESK", 0 );
    vVar2 = {23.34800000, -0.63400000, 0.02400000};
    vVar5 = {0.00000000, 0.00000000, 0.00000000};
    vVar8 = {23.30000000, -0.62000000, 0.68000000};
    vVar11 = {0.00000000, 0.00000000, -97.40000000};
    sub_4203( l_U626 );
    l_U626 = sub_18413( g_U1413, vVar2, vVar5, 0, 0, 0 );
    if ((DOES_OBJECT_EXIST( l_U626 )) == 1)
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U626, ref g_U1157 );
        FREEZE_OBJECT_POSITION( l_U626, 1 );
    }
    sub_4203( l_U627 );
    l_U627 = sub_18413( g_U1414, vVar8, vVar11, 0, 0, 0 );
    if ((DOES_OBJECT_EXIST( l_U627 )) == 1)
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U627, ref g_U1157 );
        FREEZE_OBJECT_POSITION( l_U627, 1 );
    }
    return;
}

void sub_18992()
{
    vector vVar2;
    vector vVar5;

    sub_831( "SP", "P_CREATE_SECURITY_SCREENS", 0 );
    vVar2 = {15.19600000, 14.66500000, 7.72100000};
    vVar5 = {0.00000000, 0.00000000, 90.00000000};
    sub_4203( l_U633 );
    l_U633 = sub_18413( g_U1415, vVar2, vVar5, 0, 0, 0 );
    if ((DOES_OBJECT_EXIST( l_U633 )) == 1)
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U633, ref g_U1109 );
        FREEZE_OBJECT_POSITION( l_U633, 1 );
        SET_OBJECT_COLLISION( l_U633, 0 );
    }
    sub_4203( l_U632 );
    l_U632 = sub_18413( g_U1416, vVar2, vVar5, 0, 0, 0 );
    if ((DOES_OBJECT_EXIST( l_U632 )) == 1)
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U632, ref g_U1109 );
        FREEZE_OBJECT_POSITION( l_U632, 1 );
        SET_OBJECT_COLLISION( l_U632, 0 );
        SET_OBJECT_VISIBLE( l_U632, 0 );
    }
    sub_4203( l_U634 );
    l_U634 = sub_18413( g_U1417, vVar2, vVar5, 0, 0, 0 );
    if ((DOES_OBJECT_EXIST( l_U634 )) == 1)
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U634, ref g_U1109 );
        FREEZE_OBJECT_POSITION( l_U634, 1 );
        SET_OBJECT_COLLISION( l_U634, 0 );
    }
    sub_4203( l_U635 );
    if ((DOES_OBJECT_EXIST( l_U635 )) == 1)
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U635, ref g_U1109 );
        FREEZE_OBJECT_POSITION( l_U635, 1 );
        SET_OBJECT_COLLISION( l_U635, 0 );
    }
    return;
}

void sub_19454()
{
    vector vVar2;
    vector vVar5;

    sub_831( "SP", "P_CREATE_PICTURE_FRAME", 0 );
    vVar2 = {20.05000000, 14.51000000, 6.25000000};
    vVar5 = {0.00000000, 0.00000000, -143.83000000};
    sub_4203( l_U628 );
    l_U628 = sub_18413( g_U1420, vVar2, vVar5, 0, 1, 0 );
    if (DOES_OBJECT_EXIST( l_U628 ))
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U628, ref g_U1109 );
        FREEZE_OBJECT_POSITION( l_U628, 1 );
        SET_OBJECT_COLLISION( l_U628, 0 );
    }
    return;
}

void sub_19638()
{
    vector vVar2;
    vector vVar5;
    vector vVar8;
    vector vVar11;

    sub_831( "SP", "P_CREATE_GUEST_CHAIRS", 0 );
    vVar2 = {18.27000000, 13.00000000, 5.86000000};
    vVar5 = {0.00000000, 0.00000000, 0.00000000};
    vVar8 = {19.82000000, 13.01000000, 5.86000000};
    vVar11 = {0.00000000, 0.00000000, 0.00000000};
    sub_4203( l_U629 );
    l_U629 = sub_18413( g_U1421, vVar2, vVar5, 0, 0, 0 );
    if ((DOES_OBJECT_EXIST( l_U629 )) == 1)
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U629, ref g_U1109 );
        FREEZE_OBJECT_POSITION( l_U629, 1 );
    }
    sub_4203( l_U630 );
    l_U630 = sub_18413( g_U1421, vVar8, vVar11, 0, 0, 0 );
    if ((DOES_OBJECT_EXIST( l_U630 )) == 1)
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U630, ref g_U1109 );
        FREEZE_OBJECT_POSITION( l_U630, 1 );
    }
    return;
}

void sub_19931()
{
    vector vVar2;
    vector vVar5;

    sub_831( "SP", "P_CREATE_RODS_FISH", 0 );
    vVar2 = {24.50000000, 7.25000000, 6.00000000};
    vVar5 = {0.00000000, 0.00000000, 0.00000000};
    sub_4203( l_U631 );
    l_U631 = sub_18413( g_U1422, vVar2, vVar5, 0, 0, 0 );
    if ((DOES_OBJECT_EXIST( l_U631 )) == 1)
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U631, ref g_U1109 );
        ISEQ_REGISTER_ENTITY( 915354650, "fish", l_U631, 1 );
        ISEQ_START( 915354650 );
    }
    return;
}

void sub_21369(unknown uParam0)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 1)
    {
        SET_MODEL_AS_NO_LONGER_NEEDED( uParam0 );
    }
    else
    {
        sub_6383( "[SP]### ERROR! (UnloadModel) Trying to unload a model that isn't in the img! ###" );
    }
    return;
}

void sub_21745()
{
    sub_831( "SP", "P_REQUEST_POST_CUTSCENE_ASSETS", 0 );
    sub_14043( 1554808592, 0 );
    sub_14043( g_U703, 0 );
    sub_14280( g_U1269, 0 );
    sub_14280( g_U1270, 0 );
    sub_14280( g_U1271, 0 );
    sub_14280( g_U1272, 0 );
    sub_14382( 1030383128, 0 );
    sub_14382( 2034456429, 0 );
    return;
}

int sub_21925()
{
    if (((ISEQ_IS_LOADED( 2034456429 )) == 1) AND (((ISEQ_IS_LOADED( 1030383128 )) == 1) AND (((HAS_WEAPON_LOADED( g_U1272 )) == 1) AND (((HAS_WEAPON_LOADED( g_U1271 )) == 1) AND (((HAS_WEAPON_LOADED( g_U1270 )) == 1) AND (((HAS_WEAPON_LOADED( g_U1269 )) == 1) AND (((HAS_MODEL_LOADED( g_U703 )) == 1) AND ((HAS_MODEL_LOADED( 1554808592 )) == 1))))))))
    {
        return 1;
    }
    return 0;
}

int sub_23350()
{
    unknown uVar2;
    unknown uVar3;
    vector vVar4;
    float fVar7;
    vector vVar8;
    float fVar11;
    vector vVar12;
    float fVar15;
    int iVar16;
    int I;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    unknown uVar37;
    unknown uVar38;
    unknown uVar39;
    unknown uVar40;
    unknown uVar41;
    unknown uVar42;
    unknown uVar43;

    vVar4 = {-5.50000000, 7.80000000, 4.93000000};
    fVar7 = 90.00000000;
    vVar8 = {-11.93800000, 10.40000000, 4.93000000};
    fVar11 = -180.00000000;
    vVar12 = {-10.98000000, 3.55000000, 4.93000000};
    fVar15 = -90.00000000;
    iVar16 = 0;
    switch (l_U140)
    {
        case 0: break;
        case 1:
        sub_831( "SP", "e0601BlendState = BLEND_SETUP", 0 );
        if (g_U706 < 1)
        {
            l_U656 = 1;
        }
        if ((l_U144._fU0 == 0) || (g_U706 < 1))
        {
            g_U706 = 1;
            sub_23630( ref l_U144, 1, sub_1262(), g_U817[1], g_U926[1], g_U963[1], g_U1000[1], 0 );
        }
        if ((IS_PED_DEAD( sub_1262() )) == 0)
        {
            REMOVE_ALL_PED_WEAPONS( sub_1262() );
        }
        if ((ISEQ_QUERY_STATE( -1265837811, 3 )) == 0)
        {
            sub_9939( ref uVar18, l_U946, l_U949, 1583403840, 7, 3, 2, 0, 0 );
            sub_3617( l_U486 );
            l_U486 = sub_16409( ref uVar18 );
            if (((IS_PED_DEAD( l_U486 )) == 0) AND ((DOES_PED_EXIST( l_U486 )) == 1))
            {
                SET_ROOM_FOR_PED_BY_NAME( l_U486, ref g_U1157 );
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U486, 1 );
            }
            sub_9939( ref uVar31, l_U941, l_U944, 403784285, 7, 3, 2, 0, 0 );
            sub_3617( l_U492 );
            l_U492 = sub_16409( ref uVar31 );
            if (((IS_PED_DEAD( l_U492 )) == 0) AND ((DOES_PED_EXIST( l_U492 )) == 1))
            {
                SET_ROOM_FOR_PED_BY_NAME( l_U492, ref g_U1157 );
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U492, 1 );
            }
            sub_27537( sub_1262(), l_U936, l_U939 );
            sub_27537( l_U492, l_U941, l_U944 );
            sub_27537( l_U486, l_U946, l_U949 );
            ISEQ_REGISTER_ENTITY( -1265837811, "player", sub_1262(), 0 );
            ISEQ_REGISTER_ENTITY( -1265837811, "itguy", l_U492, 0 );
            ISEQ_REGISTER_ENTITY( -1265837811, "secretary", l_U486, 0 );
            ISEQ_START( -1265837811 );
        }
        else
        {
            iVar16 = 1;
        }
        CAMERA_PLAY_ANIMATED( "LEVEL_S_OFFICE_CP_01", "BLEND_OUT_06_01_OFFICE_CAM", 1, l_U950, l_U953._fU8, 0, 0 );
        AUDIO_MUSIC_REQUEST_ONESHOT( "OFFICE_ONESHOT_DOOR_OPEN", 0 );
        AUDIO_MUSIC_FORCE_TRACK( "OFFICE_ACTION_SONG_02", "OFFICE_ACTION_5_6", "", 1.00000000, 7000, 5000, -1082130432, 0 );
        if (iVar16 == 0)
        {
            sub_831( "SP", "Playing Dialogue: Get down behind the desk now, both of you!", 0 );
            sub_28010( 0 );
            sub_28106( ref l_U663 );
            sub_28188( 0, sub_1262(), "MAX", ref l_U663, 2, 0 );
            sub_28188( 1, g_U1424, "M6_Offi_Tech_Avg_01", ref l_U663, 2, 0 );
            sub_28444( "SOFF_0601A", ref l_U663, 8, 1 );
        }
        uVar3 = GET_INTERIOR_FROM_NAME( ref g_U1061, 0 );
        SET_INTERIOR_FORCE_INSTANTIATION( uVar3, 1 );
        sub_29248();
        sub_9639( ref g_U1327, 0 );
        sub_9639( ref g_U1334, 0 );
        sub_30226( ref g_U1327, 1 );
        sub_30226( ref g_U1334, 1 );
        sub_9639( ref g_U1285, 1 );
        sub_9639( ref g_U1292, 1 );
        sub_9639( ref g_U1341, 0 );
        sub_9639( ref g_U1348, 0 );
        sub_30226( ref g_U1341, 1 );
        sub_30226( ref g_U1348, 1 );
        sub_9639( ref g_U1355, 0 );
        sub_9639( ref g_U1362, 0 );
        sub_30226( ref g_U1355, 1 );
        sub_30226( ref g_U1362, 1 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( l_U1015, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U1016, 1065353216, 0 );
        sub_2102( ref l_U965, 2000, 1, 0 );
        sub_2236( ref l_U965 );
        sub_2102( ref l_U956, 2500, 1, 0 );
        sub_2236( ref l_U956 );
        sub_2102( ref l_U1004, l_U1013, 1, 0 );
        sub_2236( ref l_U1004 );
        sub_2102( ref l_U927, 4000, 1, 0 );
        sub_2236( ref l_U927 );
        sub_2102( ref l_U974, l_U983, 1, 0 );
        sub_2236( ref l_U974 );
        sub_2102( ref l_U984, l_U993, 1, 0 );
        sub_2236( ref l_U984 );
        sub_2102( ref l_U994, l_U1003, 1, 0 );
        sub_2236( ref l_U994 );
        l_U140 = 2;
        sub_831( "SP", "e0601BlendState = BLEND_FIRST_FRAME", 0 );
        case 2:
        sub_831( "SP", "e0601BlendState = BLEND_FIRST_FRAME", 0 );
        RELEASE_TIME_OF_DAY();
        SET_WEATHER_TYPE_NOW_PERSIST( "EXTRASUNNY" );
        FREEZE_TIME_OF_DAY( 12, 0 );
        DO_SCREEN_FADE_IN( 0 );
        sub_30824( ref l_U493, 1056964608, 0 );
        sub_30996();
        l_U140 = 3;
        sub_831( "SP", "e0601BlendState = BLEND_PLAYING", 0 );
        case 3:
        SET_CAM_SIDE_LEFT( 0 );
        if (l_U571 == 0)
        {
            if (sub_31366() == 1)
            {
                l_U571 = 1;
            }
        }
        if ((sub_2354( ref l_U965 )) == 1)
        {
            if ((IS_PED_DEAD( sub_1262() )) == 0)
            {
                sub_6712( sub_1262(), g_U1270, 200, 0, 0 );
            }
        }
        if ((sub_2354( ref l_U1004 )) == 1)
        {
            if (((IS_PED_DEAD( sub_1262() )) == 0) AND ((IS_PLAYER_DEAD( sub_1284() )) == 0))
            {
                SET_PLAYER_FORCED_AIM( sub_1284(), 1, 0 );
            }
            SET_GAMEPLAY_CAM_RELATIVE_HEADING( l_U1015, 1065353216, 0 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U1016, 1065353216, 0 );
            CAMERA_ANIMATED_STOP( l_U1014, 1 );
            if (l_U656 == 1)
            {
                sub_831( "SP", "Starting Fabricas Branco Movie...", 0 );
                SET_MOVIE_LOOP( 0, 1 );
                PLAY_MOVIE( 0, 0 );
            }
        }
        if ((sub_2354( ref l_U927 )) == 1)
        {
            AUDIO_MUSIC_PLAY_ONESHOT();
        }
        if ((sub_2354( ref l_U956 )) == 1)
        {
            for ( I = 0; I < l_U565; I++ )
            {
                FREEZE_PED_POSITION( l_U565[I], 0 );
            }
            if (((IS_PED_DEAD( l_U565[0] )) == 0) AND ((DOES_PED_EXIST( l_U565[0] )) == 1))
            {
                sub_27537( l_U565[0], vVar4, fVar7 );
                ISEQ_REGISTER_ENTITY( 1030383128, "vig01a_1", l_U565[0], 0 );
            }
            if (((IS_PED_DEAD( l_U565[1] )) == 0) AND ((DOES_PED_EXIST( l_U565[1] )) == 1))
            {
                sub_27537( l_U565[1], vVar8, fVar11 );
                ISEQ_REGISTER_ENTITY( 1030383128, "vig01a_2", l_U565[1], 0 );
            }
            if (((IS_PED_DEAD( l_U565[2] )) == 0) AND ((DOES_PED_EXIST( l_U565[2] )) == 1))
            {
                sub_27537( l_U565[2], vVar12, fVar15 );
                ISEQ_REGISTER_ENTITY( 1030383128, "vig01a_3", l_U565[2], 0 );
            }
            ISEQ_START( 1030383128 );
            for ( I = 0; I < l_U565; I++ )
            {
                if (((IS_PED_DEAD( sub_1262() )) == 0) AND (((IS_PED_DEAD( l_U565[I] )) == 0) AND ((DOES_PED_EXIST( l_U565[I] )) == 1)))
                {
                    REGISTER_TARGET( l_U565[I], sub_1262() );
                    SET_PED_DEFAULT_AIM_AT_PED( l_U565[I], sub_1262() );
                }
            }
        }
        if ((sub_2354( ref l_U974 )) == 1)
        {
            sub_33525( 1, 1 );
            ISEQ_UNREGISTER_ENTITY( -1265837811, "itguy" );
            ISEQ_UNREGISTER_ENTITY( -1265837811, "secretary" );
            sub_3617( l_U492 );
            sub_3617( l_U486 );
            return 1;
        }
        break;
    }
    return 0;
}

void sub_23630(int iParam0, int iParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, int iParam9)
{
    int iVar12;
    int iVar13;
    int iVar14;
    int iVar15;
    int iVar16;

    sub_831( "GA", "Saving the player data for checkpoint - Start", 0 );
    if ((IS_PED_DEAD( uParam2 )) == 0)
    {
        sub_831( "SP", "Saving to scripted data...", 0 );
        RESET_CHECKPOINT_ATTEMPTS();
        if (SCRIPT_VAR_EXISTS( "SV_SAVE_CNT" ))
        {
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", (SCRIPT_VAR_GET_INT( "SV_SAVE_CNT" )) + 1 );
        }
        else
        {
            SCRIPT_VAR_ADD_INT( "SV_SAVE_CNT" );
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", 1 );
        }
        sub_7366( iParam1 );
        sub_23889( iParam1 );
        iParam0->_fU52 = iParam1;
        iParam0->_fU4 = {uParam3};
        iParam0->_fU16 = uParam6;
        iParam0->_fU20 = uParam7;
        iParam0->_fU24 = uParam8;
        iParam0->_fU28 = GET_PED_HEALTH( uParam2 );
        iParam0->_fU56 = -1569615261;
        iParam0->_fU60 = -1569615261;
        iParam0->_fU64 = -1569615261;
        iParam0->_fU68 = -1569615261;
        iParam0->_fU72 = -1569615261;
        iParam0->_fU76 = 0;
        iParam0->_fU80 = 0;
        iParam0->_fU84 = 0;
        iParam0->_fU88 = 0;
        iParam0->_fU92 = 0;
        iVar12 = GET_WEAPON_FROM_HAND( uParam2, 0, 0 );
        iVar13 = GET_WEAPON_FROM_HAND( uParam2, 1, 0 );
        iVar14 = GET_WEAPON_FROM_HOLSTER( uParam2, 0 );
        iVar15 = GET_WEAPON_FROM_HOLSTER( uParam2, 1 );
        iVar16 = GET_WEAPON_FROM_HOLSTER( uParam2, 2 );
        if (GET_DOES_WEAPON_EXIST( iVar12 ))
        {
            iParam0->_fU68 = GET_WEAPON_TYPE( iVar12 );
            iParam0->_fU88 = (GET_WEAPON_AMMO( iVar12 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar12 ));
            sub_24340( iVar12, iParam0 + 120, iParam0 + 124 );
        }
        if (GET_DOES_WEAPON_EXIST( iVar13 ))
        {
            iParam0->_fU72 = GET_WEAPON_TYPE( iVar13 );
            iParam0->_fU92 = (GET_WEAPON_AMMO( iVar13 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar13 ));
            sub_24340( iVar13, iParam0 + 128, iParam0 + 132 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_24572( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar13 ) ))
                {
                    iParam0->_fU92 = GET_WEAPON_AMMO_IN_CLIP( iVar12 );
                }
            }
        }
        if ((iVar14 != iVar13) AND ((iVar14 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar14 ))))
        {
            iParam0->_fU56 = GET_WEAPON_TYPE( iVar14 );
            iParam0->_fU76 = (GET_WEAPON_AMMO( iVar14 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar14 ));
            sub_24340( iVar14, iParam0 + 96, iParam0 + 100 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_24572( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if (sub_24572( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
        }
        if ((iVar15 != iVar13) AND ((iVar15 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar15 ))))
        {
            iParam0->_fU60 = GET_WEAPON_TYPE( iVar15 );
            iParam0->_fU80 = (GET_WEAPON_AMMO( iVar15 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar15 ));
            sub_24340( iVar15, iParam0 + 104, iParam0 + 108 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_24572( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if (sub_24572( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if (sub_24572( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
        }
        if ((iVar16 != iVar13) AND ((iVar16 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar16 ))))
        {
            iParam0->_fU64 = GET_WEAPON_TYPE( iVar16 );
            iParam0->_fU84 = (GET_WEAPON_AMMO( iVar16 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar16 ));
            sub_24340( iVar16, iParam0 + 112, iParam0 + 116 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_24572( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if (sub_24572( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if (sub_24572( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar15 ))
            {
                if (sub_24572( GET_WEAPON_TYPE( iVar15 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
        }
        SAVE_PICKUPS();
        iParam0->_fU32 = GET_ADRENALINE_AMT();
        iParam0->_fU36 = GET_PAYNEKILLER_AMT();
        GET_TIME_OF_DAY( iParam0 + 40, iParam0 + 44 );
        iParam0->_fU140 = IS_TIME_OF_DAY_FROZEN();
        iParam0->_fU136 = GET_PED_SWEAT( uParam2 );
        if (iParam9 == 1)
        {
            if (IS_MAGDEMO() == 0)
            {
                ENABLE_CHECKPOINT_ICON();
            }
        }
        if (iParam1 >= 0)
        {
            sub_26130( iParam0 );
            iParam0->_fU0 = 1;
            if (IS_ARCADE_MODE_ACTIVE() == 0)
            {
                CHECKPOINT_STORAGE_SAVE( iParam0, l_U1, iParam0->_fU52 );
                REQUEST_SAVE();
            }
        }
        if (IS_ARCADE_MODE_ACTIVE())
        {
            UPDATE_ARCADE_CHECK_POINT( iParam0->_fU52 );
        }
    }
    else
    {
        SCRIPT_ASSERT( "Error: Player is dead while saving a checkpoint!!!", 0 );
    }
    sub_831( "GA", "Saving the player data for checkpoint - End", 0 );
    return;
}

void sub_23889(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (iParam0 >= 0)
    {
        if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
        {
            uVar3 = sub_4730( ref uVar20 );
        }
        STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, iParam0 - 1 );
        sub_831( "TEH", "Ending context", 0 );
        sub_831( "TEH", "Ending context", 0 );
        END_CONTEXT( ref uVar4 );
    }
    return;
}

void sub_24340(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        CLEAR_BIT( uParam1, I );
        CLEAR_BIT( uParam2, I );
        if (IS_WEAPON_ATTACHMENT_ENABLED( uParam0, I ))
        {
            SET_BIT( uParam1, I );
            if (IS_WEAPON_ATTACHMENT_TOGGLED( uParam0, I ))
            {
                SET_BIT( uParam2, I );
            }
        }
    }
    return;
}

void sub_24572(int iParam0, int iParam1)
{
    int Result;

    Result = 0;
    if ((iParam0 == -612753081) || ((iParam0 == 68019059) || ((iParam0 == 456708483) || ((iParam0 == -862236369) || (iParam0 == 406496141)))))
    {
        if ((iParam1 == -612753081) || ((iParam1 == 68019059) || ((iParam1 == 456708483) || ((iParam1 == -862236369) || (iParam1 == 406496141)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 724901397) || ((iParam0 == 57534114) || ((iParam0 == 1308526797) || ((iParam0 == -1074756423) || (iParam0 == -1013714740)))))
    {
        if ((iParam1 == 724901397) || ((iParam1 == 57534114) || ((iParam1 == 1308526797) || ((iParam1 == -1074756423) || (iParam1 == -1013714740)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 514118749) || ((iParam0 == -184942895) || ((iParam0 == -168327769) || ((iParam0 == 1845102363) || (iParam0 == 434544317)))))
    {
        if ((iParam1 == 514118749) || ((iParam1 == -184942895) || ((iParam1 == -168327769) || ((iParam1 == 1845102363) || (iParam1 == 434544317)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -110877124) || (iParam0 == 319712764))
    {
        if ((iParam1 == -110877124) || (iParam1 == 319712764))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -1464892298) || ((iParam0 == 1194438308) || ((iParam0 == -1404433099) || ((iParam0 == 1478009203) || ((iParam0 == -691403429) || (iParam0 == 1964270085))))))
    {
        if ((iParam1 == -1464892298) || ((iParam1 == 1194438308) || ((iParam1 == -1404433099) || ((iParam1 == 1478009203) || ((iParam1 == -691403429) || (iParam1 == 1964270085))))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 10648147) || (iParam0 == 1224272620))
    {
        if ((iParam1 == 10648147) || (iParam1 == 1224272620))
        {
            Result = 1;
        }
    };;;;;;
    return Result;
}

void sub_26130(int iParam0)
{
    sub_6383( "CHECKPOINT DATA" );
    sub_26169( iParam0->_fU4 );
    sub_26192( iParam0->_fU16 );
    sub_26192( iParam0->_fU20 );
    sub_26192( iParam0->_fU24 );
    sub_26235( iParam0->_fU28 );
    sub_26235( iParam0->_fU56 );
    sub_26235( iParam0->_fU60 );
    sub_26235( iParam0->_fU64 );
    sub_26235( iParam0->_fU68 );
    sub_26235( iParam0->_fU72 );
    sub_26235( iParam0->_fU76 );
    sub_26235( iParam0->_fU80 );
    sub_26235( iParam0->_fU84 );
    sub_26235( iParam0->_fU88 );
    sub_26235( iParam0->_fU92 );
    sub_26192( iParam0->_fU32 );
    sub_26235( iParam0->_fU36 );
    sub_26235( iParam0->_fU40 );
    sub_26235( iParam0->_fU44 );
    sub_26192( iParam0->_fU136 );
    sub_26440( iParam0->_fU140 );
    sub_26235( iParam0->_fU52 );
    sub_6383( "---nRightHolsterAttachmentEnabled: " );
    sub_26235( iParam0->_fU96 );
    sub_6383( "---nRightHolsterAttachmentToggled: " );
    sub_26235( iParam0->_fU100 );
    sub_6383( "---nLeftHolsterAttachmentEnabled: " );
    sub_26235( iParam0->_fU104 );
    sub_6383( "---nLeftHolsterAttachmentToggled: " );
    sub_26235( iParam0->_fU108 );
    sub_6383( "---nRifleHolsterAttachmentEnabled: " );
    sub_26235( iParam0->_fU112 );
    sub_6383( "---nRifleHolsterAttachmentToggled: " );
    sub_26235( iParam0->_fU116 );
    sub_6383( "---nRightHandAttachmentEnabled: " );
    sub_26235( iParam0->_fU120 );
    sub_6383( "---nRightHandAttachmentToggled: " );
    sub_26235( iParam0->_fU124 );
    sub_6383( "---nLeftHandAttachmentEnabled: " );
    sub_26235( iParam0->_fU128 );
    sub_6383( "---nLeftHandAttachmentToggled: " );
    sub_26235( iParam0->_fU132 );
    sub_26235( l_U1 );
    sub_26235( 144 );
    return;
}

void sub_26169(unknown uParam0, unknown uParam1, unknown uParam2)
{
    return;
}

void sub_26192(unknown uParam0)
{
    return;
}

void sub_26235(unknown uParam0)
{
    return;
}

void sub_26440(boolean bParam0)
{
    if (bParam0)
    {
        ;
    }
    return;
}

void sub_27537(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_COORDS( uParam0, uParam1, 1 );
        SET_PED_HEADING( uParam0, uParam4 );
    }
    return;
}

void sub_28010(unknown uParam0)
{
    int I;

    for ( I = 0; I <= 3; I++ )
    {
        if (IS_SCRIPTED_CONVERSATION_ONGOING( I ))
        {
            if ((g_U1[I] <= 8) AND (g_U1[I] >= 4))
            {
                STOP_SCRIPTED_CONVERSATION( I, uParam0, 0 );
            }
        }
    }
    return;
}

void sub_28106(int iParam0)
{
    iParam0->_fU4 = -1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = 0;
    iParam0->_fU32 = 0;
    iParam0->_fU36 = 0;
    return;
}

void sub_28188(int iParam0, unknown uParam1, unknown uParam2, int iParam3, unknown uParam4, unknown uParam5)
{
    if (iParam3->_fU32)
    {
        ;
    }
    else if (iParam3->_fU36 == 0)
    {
        iParam3->_fU36 = 1;
        iParam3->_fU4 = CREATE_NEW_SCRIPTED_CONVERSATION( uParam4 );
        if (iParam3->_fU4 == -1)
        {
            iParam3->_fU32 = 1;
        }
    }
    if ((iParam0 < 9) AND ((iParam0 >= 0) AND ((iParam3->_fU4 < 4) AND (iParam3->_fU4 >= 0))))
    {
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU0 = uParam1;
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU4 = GET_HASH_KEY( uParam2 );
        if (NOT (IS_PED_INJURED( uParam1 )))
        {
            SET_PED_CAN_PLAY_AMBIENT_ANIMS( uParam1, uParam5 );
        }
    }
    return;
}

void sub_28444(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return sub_28468( uParam0, ref g_U157._fU0, uParam1, uParam2, uParam3 );
}

void sub_28468(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    StrCopy( ref cVar11[0], uParam0, 16 );
    StrCopy( ref cVar11[1], "END", 16 );
    return sub_28523( ref cVar11, uParam2, uParam3, 0, 0, 0, 0, ref cVar7, uParam4 );
}

int sub_28523(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    int I;
    unknown uVar12;
    unknown uVar13;

    if (iParam1->_fU4 == -1)
    {
        return 0;
    }
    iParam1->_fU0 = uParam2;
    if (NOT (sub_28558( iParam1 )))
    {
        return 0;
    }
    uVar12 = iParam1->_fU4;
    uVar13 = GET_HASH_KEY( ref (uParam0^)[0] );
    iParam1->_fU16 = uVar13;
    SET_CONVERSATION_CHECK_HASH( uVar12, uVar13 );
    g_U157._fU132 = 0;
    iParam1->_fU24 = 0;
    iParam1->_fU28 = uParam5;
    if (bParam3)
    {
        if (iParam1->_fU20)
        {
            iParam1->_fU20 = 0;
        }
    }
    else
    {
        iParam1->_fU20 = 0;
        if (bParam4)
        {
            iParam1->_fU12 = uParam6;
            iParam1->_fU20 = 0;
        }
        else
        {
            iParam1->_fU12 = 0;
            iParam1->_fU20 = 0;
        }
    }
    iParam1->_fU24 = bParam4;
    for ( I = 0; I <= 24; I++ )
    {
        StrCopy( ref g_U233[uVar12][I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        g_U233[uVar12][I] = {(uParam0^)[I]};
    }
    g_U192[uVar12] = {(iParam1^)};
    sub_29052( ref g_U16[uVar12], ref g_U157 );
    StrCopy( ref g_U16[uVar12]._fU0, uParam7, 16 );
    g_U16[uVar12]._fU136 = uParam8;
    g_U11[iParam1->_fU4] = 1;
    return 1;
}

int sub_28558(int iParam0)
{
    switch (g_U11[iParam0->_fU4])
    {
        case 1:
        case 2:
        return 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING( iParam0->_fU4 ))
    {
        if (g_U1[iParam0->_fU4] > iParam0->_fU0)
        {
            return 0;
        }
        STOP_SCRIPTED_CONVERSATION( iParam0->_fU4, 0, 0 );
    }
    g_U1[iParam0->_fU4] = iParam0->_fU0;
    g_U6[iParam0->_fU4]++;
    if (g_U6[iParam0->_fU4] > 100000)
    {
        g_U6[iParam0->_fU4] = 1;
    }
    iParam0->_fU8 = g_U6[iParam0->_fU4];
    return 1;
}

void sub_29052(int iParam0, int iParam1)
{
    int I;

    iParam0->_fU0 = {iParam1->_fU0};
    for ( I = 0; I <= 8; I++ )
    {
        iParam0->_fU92[I] = iParam1->_fU92[I];
    }
    iParam0->_fU132 = iParam1->_fU132;
    iParam0->_fU136 = iParam1->_fU136;
    return;
}

void sub_29248()
{
    sub_831( "SP", "P_CREATE_PLACEMENTS", 0 );
    sub_4143( l_U636 );
    l_U636 = sub_29346( -4072149, -13.29000000, -2.29000000, 5.60000000, 0.00000000, 0.00000000, 0.00000000, 1, 0, 0, 1119092736 );
    if ((DOES_PLACEMENT_EXIST( l_U636 )) == 1)
    {
        ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( l_U636, ref g_U1117 );
    }
    sub_4143( g_U649._fU0 );
    sub_29486();
    return;
}

void sub_29346(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, int iParam8, unknown uParam9, unknown uParam10)
{
    unknown Result;

    Result = CREATE_PLACEMENT_ROTATE( uParam0, uParam1, uParam4, uParam7, 0, uParam9, uParam10 );
    if (iParam8 == 1)
    {
        while ((DOES_PLACEMENT_EXIST( Result )) == 0)
        {
            WAIT( 0 );
        }
    }
    return Result;
}

void sub_29486()
{
    sub_831( "CO", "P_CREATE_S_OFF_GG_MD_01", 0 );
    sub_29599( ref g_U649, g_U703, 1813449221, -2039659100, -3.12000000, -1.47000000, 4.94000000, 1.50000000, 0.00000000, 1.00000000, "MloRoom_arch" );
    sub_29728( ref g_U649 );
    return;
}

void sub_29599(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    if (NOT IS_ARCADE_MODE_ACTIVE())
    {
        iParam0->_fU4 = uParam1;
        iParam0->_fU8 = uParam2;
        iParam0->_fU12 = uParam3;
        iParam0->_fU16 = {uParam4};
        iParam0->_fU28 = {uParam7};
        StrCopy( ref iParam0->_fU40, uParam10, 32 );
    }
    else
    {
        sub_831( "CO", "NO GOLDEN GUNS FOR ARCADE", 0 );
    }
    return;
}

void sub_29728(int iParam0)
{
    sub_831( "CO", "P_CreateCollectible", 0 );
    if (NOT IS_ARCADE_MODE_ACTIVE())
    {
        if ((sub_29789( iParam0->_fU12 )) == 1)
        {
            sub_831( "CO", "HAS BEEN COLLECTED.", 0 );
        }
        else
        {
            sub_831( "CO", "has never been collected.", 0 );
        }
        if ((sub_29789( iParam0->_fU12 )) == 0)
        {
            sub_4143( iParam0->_fU0 );
            iParam0->_fU0 = sub_29346( iParam0->_fU8, iParam0->_fU16, iParam0->_fU28, 1, 0, 0, 1119092736 );
            if (NOT (IS_STRING_NULL( iParam0 + 40 )))
            {
                if ((DOES_PLACEMENT_EXIST( iParam0->_fU0 )) == 1)
                {
                    sub_831( "CO", "Added collectible to interior", 0 );
                    ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( iParam0->_fU0, iParam0 + 40 );
                }
            }
        }
    }
    else
    {
        sub_831( "CO", "NO GOLDEN GUNS FOR ARCADE", 0 );
    }
    return;
}

int sub_29789(unknown uParam0)
{
    unknown uVar3;
    float fVar4;

    if (IS_COLLECTABLE_ENABLED() == 0)
    {
        return 1;
    }
    uVar3 = uParam0;
    fVar4 = STAT_HASH_GET_FLOAT( uVar3 );
    if (ARE_SP_STATS_LOADED() == 1)
    {
        if ((STAT_HASH_EXISTS( uVar3 )) == 1)
        {
            if (fVar4 > 0.00000000)
            {
                return 1;
            }
        }
    }
    return 0;
}

void sub_30226(int iParam0, int iParam1)
{
    if ((sub_9651( iParam0 )) == 0)
    {
        sub_9717( iParam0 );
    }
    if (iParam1 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, 0.00000000 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, 0.00000000 );
    }
    else
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, 0.00000000 );
    }
    return;
}

void sub_30824(int iParam0, unknown uParam1, boolean bParam2)
{
    iParam0->_fU4 = uParam1;
    iParam0->_fU0 = CREATE_GROUP( 3, 1 );
    if (bParam2)
    {
        while (NOT (DOES_GROUP_EXIST( iParam0->_fU0 )))
        {
            WAIT( 0 );
        }
    }
    SET_GROUP_RATIO_FIRING_AT_VISIBLE( iParam0->_fU0, iParam0->_fU4 );
    SET_GROUP_RATIO_FIRING_AT_INVISIBLE( iParam0->_fU0, iParam0->_fU4 );
    if (iParam0->_fU8)
    {
        SET_GROUP_FORMATION( iParam0->_fU0, iParam0->_fU12 );
        SET_GROUP_FORMATION_SPACING( iParam0->_fU0, iParam0->_fU16 );
        SET_GROUP_FORMATION_MAX_MOVE_SPEED( iParam0->_fU0, iParam0->_fU20 );
    }
    return;
}

void sub_30996()
{
    vector vVar2;
    vector vVar5;
    vector vVar8;
    vector vVar11;

    sub_831( "SP", "P_CREATE_EXPLORATION_ITEMS", 0 );
    vVar2 = {3.50000000, 13.76000000, 5.82000000};
    vVar5 = {0.00000000, 0.00000000, -110.00000000};
    sub_4203( l_U1134 );
    l_U1134 = sub_18413( 1911544110, vVar2, vVar5, 0, 0, 0 );
    if ((DOES_OBJECT_EXIST( l_U1134 )) == 1)
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U1134, ref g_U1117 );
        FREEZE_OBJECT_POSITION( l_U1134, 1 );
    }
    vVar8 = {0.55000000, 15.25000000, 5.97000000};
    vVar11 = {0.00000000, 0.00000000, 4.00000000};
    sub_4203( l_U1036 );
    l_U1036 = sub_18413( -1387022621, vVar8, vVar11, 0, 0, 0 );
    if ((DOES_OBJECT_EXIST( l_U1036 )) == 1)
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U1036, ref g_U1117 );
        FREEZE_OBJECT_POSITION( l_U1036, 1 );
    }
    return;
}

int sub_31366()
{
    int iVar2;
    char[32] cVar3;

    iVar2 = l_U572;
    sub_3617( l_U565[iVar2] );
    l_U565[iVar2] = sub_16409( ref l_U499[iVar2] );
    sub_31432( l_U565[iVar2], ref l_U493 );
    if (((IS_PED_DEAD( l_U565[iVar2] )) == 0) AND ((DOES_PED_EXIST( l_U565[iVar2] )) == 1))
    {
        StrCopy( ref cVar3, "piArchEnemies", 32 );
        ConcatString(ref cVar3, " ", 32);
        ConcatString(ref cVar3, iVar2, 32);
        SET_PED_NAME_DEBUG( l_U565[iVar2], ref cVar3 );
        FREEZE_PED_POSITION( l_U565[iVar2], 1 );
        SET_ROOM_FOR_PED_BY_NAME( l_U565[iVar2], ref g_U1117 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U565[iVar2], 1 );
        SET_PED_CAN_SMASH_GLASS( l_U565[iVar2], 1 );
        SET_PED_AI_TEMPLATE( l_U565[iVar2], "AIT_EXPERT" );
        SET_PED_CAN_RAGDOLL_FROM_PLAYER_IMPACT( l_U565[iVar2], 0 );
        if (iVar2 == 0)
        {
            SET_PED_COMBAT_RANGE_MIN( l_U565[iVar2], 3.00000000 );
            SET_PED_COMBAT_RANGE_MAX( l_U565[iVar2], 10.00000000 );
            SET_PED_COMBAT_MOVEMENT( l_U565[iVar2], 2 );
            sub_31982( ref l_U453, l_U565[iVar2], 1 );
            sub_31982( ref l_U454, l_U565[iVar2], 1 );
            sub_6712( l_U565[iVar2], g_U1269, 25000, 0, 0 );
        }
        else if (iVar2 == 1)
        {
            SET_PED_COMBAT_RANGE_MIN( l_U565[iVar2], 3.00000000 );
            SET_PED_COMBAT_RANGE_MAX( l_U565[iVar2], 15.00000000 );
            SET_PED_COMBAT_MOVEMENT( l_U565[iVar2], 2 );
            sub_31982( ref l_U453, l_U565[iVar2], 1 );
            sub_31982( ref l_U454, l_U565[iVar2], 1 );
            sub_32221( ref l_U455, l_U565[iVar2] );
            sub_6712( l_U565[iVar2], g_U1269, 25000, 0, 0 );
        }
        else if (iVar2 == 2)
        {
            SET_PED_COMBAT_RANGE_MIN( l_U565[iVar2], 3.00000000 );
            SET_PED_COMBAT_RANGE_MAX( l_U565[iVar2], 20.00000000 );
            SET_PED_COMBAT_MOVEMENT( l_U565[iVar2], 1 );
            SET_PED_COMBAT_ATTRIBUTES( l_U565[iVar2], 4096, 1 );
            sub_31982( ref l_U456, l_U565[iVar2], 1 );
            sub_6712( l_U565[iVar2], g_U1270, 25000, 0, 0 );
        }
        else if (iVar2 == 3)
        {
            SET_PED_COMBAT_RANGE_MIN( l_U565[iVar2], 3.00000000 );
            SET_PED_COMBAT_RANGE_MAX( l_U565[iVar2], 30.00000000 );
            SET_PED_COMBAT_MOVEMENT( l_U565[iVar2], 1 );
            sub_31982( ref l_U453, l_U565[iVar2], 1 );
            sub_31982( ref l_U454, l_U565[iVar2], 1 );
            sub_6712( l_U565[iVar2], g_U1272, 25000, 0, 0 );
        }
        else if (iVar2 == 4)
        {
            SET_PED_COMBAT_RANGE_MIN( l_U565[iVar2], 3.00000000 );
            SET_PED_COMBAT_RANGE_MAX( l_U565[iVar2], 15.00000000 );
            SET_PED_COMBAT_MOVEMENT( l_U565[iVar2], 2 );
            sub_31982( ref l_U457, l_U565[iVar2], 1 );
            sub_6712( l_U565[iVar2], g_U1270, 25000, 0, 0 );
        };;;;;
        l_U572++;
    }
    if (l_U572 == l_U565)
    {
        return 1;
    }
    return 0;
}

void sub_31432(unknown uParam0, int iParam1)
{
    int iVar4;
    unknown uVar5;

    if ((DOES_GROUP_EXIST( iParam1->_fU0 )) == 0)
    {
        sub_6383( "[SP]### Warning!!! Group does not exist. Creating new group specified attributes. ###" );
        if (iParam1->_fU4 > 0)
        {
            sub_30824( iParam1, iParam1->_fU4, 0 );
        }
        else
        {
            sub_30824( iParam1, 1056964608, 0 );
        }
    }
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        GET_GROUP_SIZE( iParam1->_fU0, ref iVar4, ref uVar5 );
        if (iVar4 == 0)
        {
            SET_PED_AS_GROUP_LEADER( uParam0, iParam1->_fU0 );
        }
        else
        {
            SET_PED_AS_GROUP_MEMBER( uParam0, iParam1->_fU0 );
        }
        SET_PED_NEVER_LEAVES_GROUP( uParam0, 1 );
    }
    return;
}

void sub_31982(int iParam0, unknown uParam1, unknown uParam2)
{
    if (((IS_PED_DEAD( uParam1 )) == 0) AND ((DOES_PED_EXIST( uParam1 )) == 1))
    {
        SET_PED_TETHERING_ADD_BOX( uParam1, iParam0->_fU0 );
        SET_PED_TETHERING_OPTION( uParam1, uParam2 );
    }
    return;
}

void sub_32221(int iParam0, unknown uParam1)
{
    if (((IS_PED_DEAD( uParam1 )) == 0) AND ((DOES_PED_EXIST( uParam1 )) == 1))
    {
        SET_PED_SUGGESTED_COMBAT_AREA_ADD_BOX( uParam1, iParam0->_fU0 );
    }
    return;
}

void sub_33525(boolean bParam0, boolean bParam1)
{
    SET_WIDESCREEN_BORDERS( 0, 500 );
    DISPLAY_HUD( 1 );
    if (NOT (IS_PED_DEAD( sub_1262() )))
    {
        SET_PLAYER_CONTROL( sub_1284(), 1, 0 );
        SET_PED_INVINCIBLE( sub_1262(), 0 );
        if (bParam0)
        {
            sub_33606();
        }
    }
    PULSE_CROSSHAIR( 1 );
    if (bParam1)
    {
        DESTROY_ALL_CAMS();
    }
    return;
}

void sub_33606()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD( sub_1262() )) == 0)
    {
        uVar2 = GET_WEAPON_FROM_HAND( sub_1262(), 0, 0 );
        uVar3 = GET_WEAPON_FROM_HAND( sub_1262(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
        {
            uVar4 = GET_MAX_AMMO_IN_HAND_CLIP_MP( sub_1262(), 0 );
            SET_WEAPON_AMMO_IN_CLIP( uVar2, uVar4 );
        }
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            uVar5 = GET_MAX_AMMO_IN_HAND_CLIP_MP( sub_1262(), 1 );
            SET_WEAPON_AMMO_IN_CLIP( uVar3, uVar5 );
        }
    }
    return;
}

void sub_33908()
{
    sub_831( "SP", "P_DISABLE_BACKWARDS_SHOOTDODGE", 0 );
    if (((IS_PLAYER_DEAD( sub_1284() )) == 0) AND ((IS_PED_DEAD( sub_1262() )) == 0))
    {
        SET_PLAYER_CONTROL( sub_1284(), 0, 0 );
        REENABLE_PLAYER_INPUT( 1 );
        REENABLE_PLAYER_INPUT( 2 );
        REENABLE_PLAYER_INPUT( 3 );
        REENABLE_PLAYER_INPUT( 4 );
        REENABLE_PLAYER_INPUT( 5 );
        REENABLE_PLAYER_INPUT( 6 );
        REENABLE_PLAYER_INPUT( 8 );
        REENABLE_PLAYER_INPUT( 9 );
        REENABLE_PLAYER_INPUT( 10 );
        REENABLE_PLAYER_INPUT( 11 );
        REENABLE_PLAYER_INPUT( 12 );
        REENABLE_PLAYER_INPUT( 14 );
        REENABLE_PLAYER_INPUT( 15 );
        REENABLE_PLAYER_INPUT( 16 );
        REENABLE_PLAYER_INPUT( 17 );
        REENABLE_PLAYER_INPUT( 18 );
        REENABLE_PLAYER_INPUT( 19 );
        REENABLE_PLAYER_INPUT( 20 );
        REENABLE_PLAYER_INPUT( 21 );
        REENABLE_PLAYER_INPUT( 22 );
        REENABLE_PLAYER_INPUT( 23 );
        REENABLE_PLAYER_INPUT( 24 );
        REENABLE_PLAYER_INPUT( 25 );
        REENABLE_PLAYER_INPUT( 26 );
        REENABLE_PLAYER_INPUT( 27 );
        REENABLE_PLAYER_INPUT( 28 );
        REENABLE_PLAYER_INPUT( 29 );
        REENABLE_PLAYER_INPUT( 30 );
    }
    return;
}

void sub_34311()
{
    sub_831( "CCB", "P_START_SP_CHALLENGES", 0 );
    return;
}

int sub_34441(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    int iVar6;
    int iVar7;
    int iVar8;

    if ((IS_PED_DEAD( sub_1262() )) == 0)
    {
        if (iParam0->_fU0 == 1)
        {
            uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( sub_1262() )};
            iVar6 = 0;
            if (iParam0->_fU80 == 1)
            {
                if ((sub_34527( sub_1262(), iParam0->_fU116 )) == 1)
                {
                    if (iParam0->_fU300 == 1)
                    {
                        if (((IS_OBJECT_ON_SCREEN( iParam0->_fU312 )) == 1) AND ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1))
                        {
                            iVar6 = 1;
                        }
                    }
                    else
                    {
                        iVar6 = 1;
                    }
                }
            }
            else if ((iParam0->_fU308 == 1) AND (iParam0->_fU84 == 1))
            {
                if ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_OBJECT_COORDS( iParam0->_fU312 ), 1 )) <= iParam0->_fU112)
                    {
                        if (iParam0->_fU300 == 1)
                        {
                            if ((IS_OBJECT_ON_SCREEN( iParam0->_fU312 )) == 1)
                            {
                                iVar6 = 1;
                            }
                        }
                        else
                        {
                            iVar6 = 1;
                        }
                    }
                }
            }
            else if (iParam0->_fU96 == 1)
            {
                if ((DOES_PED_EXIST( iParam0->_fU316 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU316 ), 1 )) <= iParam0->_fU112)
                    {
                        if (iParam0->_fU300 == 1)
                        {
                            if ((IS_PED_ON_SCREEN( iParam0->_fU316, 0 )) == 1)
                            {
                                iVar6 = 1;
                            }
                        }
                        else
                        {
                            iVar6 = 1;
                        }
                    }
                }
            }
            else if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, iParam0->_fU100, 1 )) <= iParam0->_fU112)
            {
                if (iParam0->_fU300 == 1)
                {
                    if (((IS_OBJECT_ON_SCREEN( iParam0->_fU312 )) == 1) AND ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1))
                    {
                        iVar6 = 1;
                    }
                }
                else
                {
                    iVar6 = 1;
                }
            };;;;
            iVar7 = 0;
            if (iParam0->_fU88 == 1)
            {
                if ((sub_34527( sub_1262(), iParam0->_fU216 )) == 1)
                {
                    iVar7 = 1;
                }
            }
            else if ((iParam0->_fU308 == 1) AND (iParam0->_fU92 == 1))
            {
                if ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_OBJECT_COORDS( iParam0->_fU312 ), 1 )) <= iParam0->_fU212)
                    {
                        iVar7 = 1;
                    }
                }
            }
            else if (iParam0->_fU96 == 1)
            {
                if ((DOES_PED_EXIST( iParam0->_fU316 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU316 ), 1 )) <= iParam0->_fU212)
                    {
                        iVar7 = 1;
                    }
                }
            }
            else if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, iParam0->_fU200, 1 )) <= iParam0->_fU212)
            {
                iVar7 = 1;
            };;;;
            if (iVar6 == 1)
            {
                if ((iParam0->_fU4 != 3) AND (iParam0->_fU52 == 1))
                {
                    if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                    {
                        sub_13187( iParam0 );
                    }
                    iVar8 = 0;
                    if ((IS_WEAPON_PICKUP_VISIBLE() == 0) AND ((iParam0->_fU60 == 0) AND ((sub_13248( iParam0 )) == 1)))
                    {
                        SET_ACTION_CONSUMED( 0, 1 );
                        if (sub_35368() == 1)
                        {
                            iVar8 = 1;
                        }
                    }
                    if (iVar8 == 1)
                    {
                        if (iParam0->_fU332 == 0)
                        {
                            sub_35445( iParam0, 0 );
                            iParam0->_fU64 = 1;
                        }
                        if (iParam0->_fU68 == 1)
                        {
                            iParam0->_fU72 = 0;
                        }
                        return 1;
                    }
                    else if (iParam0->_fU8 != 2)
                    {
                        if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                        {
                            sub_12593( iParam0, 0 );
                            sub_35516( iParam0, 1 );
                        }
                        else if (iParam0->_fU320 == 1)
                        {
                            sub_12593( iParam0, 1 );
                        }
                        iParam0->_fU8 = 2;
                    }
                    if ((iParam0->_fU328 == 0) AND (iParam0->_fU324 == 1))
                    {
                        if ((IS_PED_DEAD( sub_1262() )) == 0)
                        {
                            SET_PED_FORCED_TO_WALK( sub_1262(), 1 );
                            iParam0->_fU328 = 1;
                        }
                    }
                }
            }
            else if (iVar7 == 1)
            {
                if (iParam0->_fU8 != 1)
                {
                    if ((iParam0->_fU4 != 3) AND (iParam0->_fU320 == 1))
                    {
                        sub_12593( iParam0, 1 );
                    }
                    if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                    {
                        sub_35516( iParam0, 0 );
                    }
                    if (iParam0->_fU96 == 1)
                    {
                        if (((IS_PED_DEAD( sub_1262() )) == 0) AND ((((IS_PED_DEAD( iParam0->_fU316 )) == 1) || ((IS_PED_DEAD( iParam0->_fU316 )) == 0)) AND ((DOES_PED_EXIST( iParam0->_fU316 )) == 1)))
                        {
                            TASK_LOOK_AT_PED( sub_1262(), iParam0->_fU316, -1, 0 );
                        }
                    }
                    else if ((IS_PED_DEAD( sub_1262() )) == 0)
                    {
                        TASK_LOOK_AT_COORD( sub_1262(), iParam0->_fU100, -1, 0 );
                    }
                    iParam0->_fU340 = 1;
                    if ((iParam0->_fU72 == 0) AND ((iParam0->_fU68 == 1) AND ((iParam0->_fU64 == 1) AND (iParam0->_fU8 == 2))))
                    {
                        iParam0->_fU72 = 1;
                    }
                    iParam0->_fU8 = 1;
                }
                if ((iParam0->_fU328 == 0) AND (iParam0->_fU324 == 1))
                {
                    if ((IS_PED_DEAD( sub_1262() )) == 0)
                    {
                        SET_PED_FORCED_TO_WALK( sub_1262(), 1 );
                        iParam0->_fU328 = 1;
                    }
                }
            }
            else if ((iParam0->_fU4 == 1) || (iParam0->_fU4 == 3))
            {
                ;
            }
            else if (iParam0->_fU8 != 0)
            {
                if (iParam0->_fU320 == 1)
                {
                    sub_12593( iParam0, 0 );
                }
            }
            if (iParam0->_fU8 == 2)
            {
                if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                {
                    sub_35516( iParam0, 0 );
                }
            }
            if (iParam0->_fU340)
            {
                if ((IS_PED_DEAD( sub_1262() )) == 0)
                {
                    TASK_CLEAR_LOOK_AT( sub_1262() );
                    iParam0->_fU340 = 0;
                }
            }
            if ((iParam0->_fU328 == 1) AND (iParam0->_fU324 == 1))
            {
                if ((IS_PED_DEAD( sub_1262() )) == 0)
                {
                    SET_PED_FORCED_TO_WALK( sub_1262(), 0 );
                    iParam0->_fU328 = 0;
                }
            }
            if (iParam0->_fU332 == 1)
            {
                sub_35516( iParam0, 0 );
            }
            iParam0->_fU8 = 0;;;
        }
    }
    return 0;
}

int sub_34527(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        return IS_PED_IN_GAMEPLAY_HELPER_BOX( uParam0, ref uParam1._fU0 );
    }
    return 0;
}

int sub_35368()
{
    if ((IS_CONTROL_JUST_PRESSED( 0, 30 )) == 1)
    {
        return 1;
    }
    return 0;
}

void sub_35445(int iParam0, int iParam1)
{
    if (iParam1 == 1)
    {
        if ((iParam0->_fU4 == 1) AND (iParam0->_fU320 == 1))
        {
            sub_12593( iParam0, 1 );
        }
        iParam0->_fU0 = 1;
    }
    else
    {
        sub_12593( iParam0, 0 );
        sub_35516( iParam0, 0 );
        if ((IS_PED_DEAD( sub_1262() )) == 0)
        {
            TASK_CLEAR_LOOK_AT( sub_1262() );
            if ((iParam0->_fU328 == 1) AND (iParam0->_fU324 == 1))
            {
                SET_PED_FORCED_TO_WALK( sub_1262(), 0 );
                iParam0->_fU328 = 0;
            }
        }
        iParam0->_fU8 = 0;
        iParam0->_fU0 = 0;
    }
    return;
}

void sub_35516(int iParam0, int iParam1)
{
    if (iParam1 == 1)
    {
        SET_INTERACTIONTEXT_TEXT( iParam0 + 32 );
        SET_INTERACTIONTEXT_BUTTON( iParam0->_fU48 );
        if ((iParam0->_fU72 == 0) AND ((iParam0->_fU64 == 1) AND (iParam0->_fU68 == 1)))
        {
            SET_INTERACTIONTEXT_VISIBLE( 0 );
            SET_INTERACTIONTEXT_BUTTON_VISIBLE( 0 );
            SET_INTERACTIONTEXT_AVAILABLE( 0 );
            iParam0->_fU56 = 0;
        }
        else
        {
            SET_INTERACTIONTEXT_VISIBLE( 1 );
            SET_INTERACTIONTEXT_BUTTON_VISIBLE( 1 );
            SET_INTERACTIONTEXT_AVAILABLE( 1 );
            iParam0->_fU56 = 1;
        }
        sub_13187( iParam0 );
        if (iParam0->_fU332 == 1)
        {
            SET_INTERACTIONTEXT_PULSE( 1 );
            SET_INTERACTIONTEXT_PULSE_PERIOD( iParam0->_fU336 );
        }
    }
    else
    {
        SET_INTERACTIONTEXT_VISIBLE( 0 );
        SET_INTERACTIONTEXT_BUTTON_VISIBLE( 0 );
    }
    return;
}

int sub_36651(int iParam0)
{
    if ((iParam0->_fU8 == 2) AND ((iParam0->_fU76 == 0) AND ((sub_36663( iParam0 )) == 0)))
    {
        if ((sub_35368() == 1) AND (((IS_PED_RELOADING( sub_1262() )) == 0) AND (((IS_PED_GETTING_UP( sub_1262() )) == 0) AND (((IS_PED_PICKING_UP_PICKUP( sub_1262() )) == 0) AND (((IS_PED_IN_COVER( sub_1262() )) == 0) AND (((IS_PED_DUCKING( sub_1262() )) == 0) AND ((IS_PLAYER_SHOOTDODGING() == 0) AND ((IS_MONOLOGUE_PLAYING() == 0) AND ((IS_INTERACTIONTEXT_AVAILABLE() == 0) AND (IS_INTERACTIONTEXT_ONSCREEN() == 1))))))))))
        {
            iParam0->_fU76 = 1;
            return 1;
        }
    }
    return 0;
}

void sub_36663(int iParam0)
{
    return iParam0->_fU56;
}

void sub_37271()
{
    int I;

    sub_831( "SP", "P_ACTIVATE_ARCH_ENEMIES", 0 );
    ISEQ_UNREGISTER_ENTITY( 1030383128, "vig01a_1" );
    ISEQ_UNREGISTER_ENTITY( 1030383128, "vig01a_2" );
    ISEQ_UNREGISTER_ENTITY( 1030383128, "vig01a_3" );
    ISEQ_TERMINATE( 1030383128 );
    for ( I = 0; I < l_U565; I++ )
    {
        if (((IS_PED_DEAD( sub_1262() )) == 0) AND (((IS_PED_DEAD( l_U565[I] )) == 0) AND ((DOES_PED_EXIST( l_U565[I] )) == 1)))
        {
            if (I == 0)
            {
                REGISTER_TARGET( l_U565[I], sub_1262() );
                SET_PED_ALERTNESS( l_U565[I], 3 );
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U565[I], 0 );
                TASK_COMBAT_PED( l_U565[I], sub_1262() );
            }
            else if (I == 1)
            {
                REGISTER_TARGET( l_U565[I], sub_1262() );
                SET_PED_ALERTNESS( l_U565[I], 3 );
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U565[I], 0 );
                TASK_ATTACK_MOVE_WHILE_AIMING_AT_PED( l_U565[I], -12.49055000, 8.52289200, 4.92433600, sub_1262(), 0, 1092616192, 1101004800, -1082130432, 3 );
            }
            else if (I == 2)
            {
                REGISTER_TARGET( l_U565[I], sub_1262() );
                SET_PED_ALERTNESS( l_U565[I], 3 );
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U565[I], 0 );
                SET_PED_SUGGESTED_COVER_POINT( l_U565[I], "GenCover", "DB623E8C_E6565CF4_Popover1" );
                TASK_COMBAT_MOVE_TO_COVER( l_U565[I], "GenCover", "DB623E8C_E6565CF4_Popover1", 0 );
            }
            else if (I == 3)
            {
                SET_PED_SUGGESTED_COVER_POINT( l_U565[I], "GenCover", "DB623E8C_D973D56_Popover1" );
                TASK_COMBAT_SNAP_TO_COVER_AMBUSH( l_U565[I], "GenCover", "DB623E8C_D973D56_Popover1", 0, 0, 0 );
                SET_PED_FLAG_LOCK_TO_COVER( l_U565[I], 1 );
            }
            else if (I == 4)
            {
                REGISTER_TARGET( l_U565[I], sub_1262() );
                SET_PED_ALERTNESS( l_U565[I], 1 );
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U565[I], 0 );
                TASK_ATTACK_MOVE_WHILE_AIMING_AT_PED( l_U565[I], -10.81340000, 14.01835000, 4.92437000, sub_1262(), 0, 1092616192, 1101004800, -1082130432, 3 );
            };;;;;
        }
    }
    return;
}

void sub_38165(int iParam0, unknown uParam1)
{
    if (iParam0->_fU64 == 1)
    {
        return 0;
    }
    else
    {
        iParam0->_fU64 = sub_34527( sub_1262(), (iParam0^) );
        if ((iParam0->_fU64) AND (uParam1))
        {
            GAMEPLAY_HELPER_BOX_SET_ENABLED( iParam0 + 0, 0 );
        }
    }
    return iParam0->_fU64;
}

void sub_38267(unknown uParam0)
{
    int Result;
    int I;
    int iVar5;

    Result = 0;
    iVar5 = (uParam0^) - 1;
    for ( I = 0; I <= iVar5; I++ )
    {
        if (DOES_PED_EXIST( (uParam0^)[I] ))
        {
            if (IS_PED_DEAD( (uParam0^)[I] ))
            {
                Result++;
            }
        }
    }
    return Result;
}

void sub_38385()
{
    int I;
    char[32] cVar3;

    sub_831( "SP", "P_SETUP_ARCH_BACKUP_ENEMIES", 0 );
    sub_30824( ref l_U573, 1056964608, 0 );
    for ( I = 0; I < l_U619; I++ )
    {
        sub_3617( l_U619[I] );
        l_U619[I] = sub_16409( ref l_U579[I] );
        sub_31432( l_U619[I], ref l_U573 );
        if (((IS_PED_DEAD( l_U619[I] )) == 0) AND ((DOES_PED_EXIST( l_U619[I] )) == 1))
        {
            StrCopy( ref cVar3, "piArchBackupEnemies", 32 );
            ConcatString(ref cVar3, " ", 32);
            ConcatString(ref cVar3, I, 32);
            SET_PED_NAME_DEBUG( l_U619[I], ref cVar3 );
            FREEZE_PED_POSITION( l_U619[I], 1 );
            SET_PED_FREEZE_ORIENTATION( l_U619[I], 1 );
            SET_ROOM_FOR_PED_BY_NAME( l_U619[I], ref g_U1125 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U619[I], 1 );
            SET_PED_CAN_SMASH_GLASS( l_U619[I], 1 );
            SET_PED_AI_TEMPLATE( l_U619[I], "AIT_EXPERT" );
            SET_PED_CAN_RAGDOLL_FROM_PLAYER_IMPACT( l_U619[I], 0 );
            if (I == 0)
            {
                sub_31982( ref l_U453, l_U619[I], 1 );
                sub_31982( ref l_U454, l_U619[I], 1 );
                sub_6712( l_U619[I], g_U1271, 25000, 0, 0 );
            }
            else if (I == 1)
            {
                sub_31982( ref l_U453, l_U619[I], 1 );
                sub_31982( ref l_U454, l_U619[I], 1 );
                sub_6712( l_U619[I], g_U1269, 25000, 0, 0 );
            }
            else if (I == 2)
            {
                SET_PED_COMBAT_RANGE_MIN( l_U619[I], 3.00000000 );
                SET_PED_COMBAT_RANGE_MAX( l_U619[I], 18.00000000 );
                sub_31982( ref l_U453, l_U619[I], 1 );
                sub_31982( ref l_U454, l_U619[I], 1 );
                sub_6712( l_U619[I], g_U1272, 25000, 0, 0 );
            };;;
        }
    }
    return;
}

void sub_39038()
{
    int I;
    unknown uVar3;

    sub_831( "SP", "P_ACTIVATE_ARCH_BACKUP", 0 );
    sub_27537( l_U619[0], l_U639, l_U642 );
    sub_27537( l_U619[1], l_U643, l_U646 );
    ISEQ_REGISTER_ENTITY( 2034456429, "enemy1", l_U619[0], 0 );
    ISEQ_REGISTER_ENTITY( 2034456429, "enemy2", l_U619[1], 0 );
    ISEQ_START( 2034456429 );
    for ( I = 0; I < l_U619; I++ )
    {
        if (((IS_PED_DEAD( l_U619[I] )) == 0) AND ((DOES_PED_EXIST( l_U619[I] )) == 1))
        {
            FREEZE_PED_POSITION( l_U619[I], 0 );
            SET_PED_FREEZE_ORIENTATION( l_U619[I], 0 );
        }
    }
    if (((IS_PED_DEAD( l_U619[0] )) == 0) AND ((DOES_PED_EXIST( l_U619[0] )) == 1))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U619[0], 0 );
    }
    if (((IS_PED_DEAD( l_U619[1] )) == 0) AND ((DOES_PED_EXIST( l_U619[1] )) == 1))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U619[1], 0 );
    }
    if (((IS_PED_DEAD( l_U619[2] )) == 0) AND ((DOES_PED_EXIST( l_U619[2] )) == 1))
    {
        sub_27537( l_U619[2], l_U579[2]._fU0, l_U579[2]._fU12 );
        OPEN_SEQUENCE_TASK( ref uVar3 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
        TASK_GO_TO_COORD_WHILE_AIMING_AT_COORD( 0, -30.28717000, 1.61229400, 4.92433700, -8.00000000, 6.00000000, 4.90000000, 3, 0, 0.50000000, 1.00000000, 0, 0 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        if ((IS_PED_DEAD( sub_1262() )) == 0)
        {
            TASK_COMBAT_PED( 0, sub_1262() );
        }
        CLOSE_SEQUENCE_TASK( uVar3 );
        CLEAR_PED_TASKS( l_U619[2] );
        TASK_PERFORM_SEQUENCE( l_U619[2], uVar3 );
        CLEAR_SEQUENCE_TASK( uVar3 );
    }
    l_U623 = PEDGROUPTASK_ADVANCE_CREATE( l_U573._fU0 );
    for ( I = 0; I < l_U619; I++ )
    {
        if (((IS_PED_DEAD( l_U619[I] )) == 0) AND ((DOES_PED_EXIST( l_U619[I] )) == 1))
        {
            PEDGROUPTASK_ADVANCE_ASSIGNPED( l_U573._fU0, l_U623, l_U619[I] );
        }
    }
    if ((IS_PED_DEAD( sub_1262() )) == 0)
    {
        PEDGROUPTASK_ADVANCE_SETTARGET_PED( l_U573._fU0, l_U623, sub_1262() );
    }
    PEDGROUPTASK_ADVANCE_SETTIMETOHIDE( l_U573._fU0, l_U623, 2.00000000 );
    PEDGROUPTASK_ADVANCE_SETTIMETOIDLE( l_U573._fU0, l_U623, 0.00000000 );
    PEDGROUPTASK_ADVANCE_SETTIMERANGEFORALLPEDSTOSTARTFIRING( l_U573._fU0, l_U623, 1.00000000 );
    PEDGROUPTASK_ADVANCE_SETADVANCEDISTANCE( l_U573._fU0, l_U623, 5.00000000 );
    PEDGROUPTASK_ADVANCE_SETNUMPEDSTOADVANCE( l_U573._fU0, l_U623, 1 );
    PEDGROUPTASK_ADVANCE_TRIGGER_MOVE( l_U573._fU0, l_U623 );
    sub_39965( ref g_U1341, 178.00000000, 179.00000000 );
    sub_40070( ref g_U1341, 1, 1, 1065353216 );
    sub_39965( ref g_U1348, -179.00000000, -178.00000000 );
    sub_40070( ref g_U1348, 0, 1, 1065353216 );
    return;
}

void sub_39965(int iParam0, float fParam1, float fParam2)
{
    if ((sub_9651( iParam0 )) == 0)
    {
        sub_9717( iParam0 );
    }
    if (fParam1 > fParam2)
    {
        ;
    }
    else
    {
        DOOR_FIND_CLOSEST_SET_LIMIT_MIN( iParam0->_fU0, iParam0->_fU4, fParam1 );
        DOOR_FIND_CLOSEST_SET_LIMIT_MAX( iParam0->_fU0, iParam0->_fU4, fParam2 );
    }
    return;
}

void sub_40070(int iParam0, int iParam1, int iParam2, unknown uParam3)
{
    float fVar6;

    if ((sub_9651( iParam0 )) == 0)
    {
        sub_9717( iParam0 );
    }
    fVar6 = 0.00000000;
    if (iParam1 == 1)
    {
        fVar6 = uParam3;
    }
    else
    {
        fVar6 = -uParam3;
    }
    if (iParam2 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, fVar6 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar6 );
    }
    else
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar6 );
    }
    return;
}

void sub_40318()
{
    int I;

    sub_831( "SP", "P_ACTIVATE_ARCH_HIDING_ENEMIES", 0 );
    for ( I = 0; I < l_U565; I++ )
    {
        if (((IS_PED_DEAD( sub_1262() )) == 0) AND (((IS_PED_DEAD( l_U565[I] )) == 0) AND ((DOES_PED_EXIST( l_U565[I] )) == 1)))
        {
            if (I == 3)
            {
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U565[I], 0 );
                SET_PED_FLAG_LOCK_TO_COVER( l_U565[I], 0 );
            }
        }
    }
    return;
}

void sub_40712(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20)
{
    return sub_34527( sub_1262(), uParam0 );
}

void sub_40872(int iParam0, unknown uParam1, unknown uParam2)
{
    if (iParam0->_fU68 == 1)
    {
        return 0;
    }
    else
    {
        iParam0->_fU68 = sub_34527( uParam1, (iParam0^) );
        if ((iParam0->_fU68) AND (uParam2))
        {
            GAMEPLAY_HELPER_BOX_SET_ENABLED( iParam0 + 0, 0 );
        }
    }
    return iParam0->_fU68;
}

void sub_41215(unknown uParam0)
{
    int Result;
    int I;
    int iVar5;

    Result = 0;
    iVar5 = (uParam0^) - 1;
    for ( I = 0; I <= iVar5; I++ )
    {
        if (NOT (IS_PED_DEAD( (uParam0^)[I] )))
        {
            Result++;
        }
    }
    return Result;
}

void sub_41332(unknown uParam0)
{
    int I;

    if ((sub_41215( uParam0 )) == 1)
    {
        for ( I = 0; I <= ((uParam0^) - 1); I++ )
        {
            if (NOT (IS_PED_DEAD( (uParam0^)[I] )))
            {
                if (NOT (GET_PED_CAN_TRIGGER_BULLET_CAM( (uParam0^)[I] )))
                {
                    SET_PED_CAN_TRIGGER_BULLET_CAM( (uParam0^)[I], 1 );
                    return (uParam0^)[I];
                }
            }
        }
    }
    return nil;
}

void sub_41597(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to terminate does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 1)
    {
        ISEQ_TERMINATE( uParam0 );
    }
    ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
    if (iParam1 == 1)
    {
        while ((ISEQ_IS_LOADED( uParam0 )) == 1)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_41814(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        RESET_PED_TETHERING( uParam0 );
    }
    return;
}

void sub_41874(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        RESET_PED_SUGGESTED_COMBAT_AREA( uParam0 );
    }
    return;
}

int sub_42237()
{
    vector vVar2;
    float fVar5;
    vector vVar6;
    float fVar9;
    int I;
    unknown uVar11;
    unknown uVar12;
    int iVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;

    vVar2 = {9.82606700, 4.81921400, 4.92427600};
    fVar5 = 0.00000000;
    vVar6 = {-13.12000000, 3.74000000, 4.80000000};
    fVar9 = 90.00000000;
    switch (l_U139)
    {
        case 0: break;
        case 1:
        sub_831( "SP", "eMid01CutsceneState = CUTSCENE_REQUEST_ASSETS", 0 );
        sub_42423();
        l_U139 = 2;
        sub_831( "SP", "eMid01CutsceneState = CUTSCENE_LOAD_ASSETS", 0 );
        break;
        case 2:
        if (sub_42650() == 1)
        {
            l_U139 = 3;
            sub_831( "SP", "eMid01CutsceneState = CUTSCENE_SETUP", 0 );
            break;
        }
        return 0;
        case 3:
        sub_831( "SP", "eMid01CutsceneState = CUTSCENE_SETUP", 0 );
        CLEAR_HELP();
        CLEAR_PRINTS();
        sub_30226( ref g_U1341, 1 );
        sub_30226( ref g_U1348, 1 );
        sub_9639( ref g_U1341, 1 );
        sub_9639( ref g_U1348, 1 );
        if ((IS_PED_DEAD( sub_1262() )) == 0)
        {
            CUTSCENE_REGISTER_PED_TELEPORT( sub_1262(), l_U1017, l_U1020 );
            ISEQ_REGISTER_ENTITY( 88877984, "max", sub_1262(), 0 );
            uVar16 = sub_43077();
            if ((GET_DOES_WEAPON_EXIST( uVar16 )) == 1)
            {
                REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar16, "W_PI_PT92_Aa_H", 0 );
                CUTSCENE_REGISTER_PED_WEAPON_HAND( sub_1262(), uVar16, 0 );
            }
        }
        sub_3617( l_U484 );
        l_U484 = sub_16409( ref l_U471 );
        if (((IS_PED_DEAD( l_U484 )) == 0) AND ((DOES_PED_EXIST( l_U484 )) == 1))
        {
            SET_ROOM_FOR_PED_BY_NAME( l_U484, ref g_U1157 );
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U484, "Secr_F_Avg", 1 );
        }
        sub_43623();
        if (((IS_PED_DEAD( g_U1424 )) == 0) AND ((DOES_PED_EXIST( g_U1424 )) == 1))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( g_U1424, "Offi_Tech_Avg", 0 );
            CUTSCENE_REGISTER_PED_TELEPORT( g_U1424, vVar6, fVar9 );
            ISEQ_REGISTER_ENTITY( 488243615, "itGuy", g_U1424, 0 );
        }
        CUTSCENE_REGISTER_ISEQ( 88877984 );
        CUTSCENE_REGISTER_ISEQ( 488243615 );
        REGISTER_HIDE_ENTITY_AT_POSITION( g_U1327._fU0, g_U1327._fU4 );
        REGISTER_HIDE_ENTITY_AT_POSITION( g_U1334._fU0, g_U1334._fU4 );
        START_SEAMLESS_CUTSCENE();
        l_U139 = 6;
        sub_831( "SP", "eMid01CutsceneState = CUTSCENE_FIRST_FRAME", 0 );
        break;
        case 6:
        sub_831( "SP", "eMid01CutsceneState = CUTSCENE_FIRST_FRAME", 0 );
        sub_9086( 1, 0, 0, 1 );
        ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
        sub_44395( ref l_U1232, 1, 1 );
        if ((IS_PED_DEAD( sub_1262() )) == 0)
        {
            uVar16 = sub_43077();
            if ((GET_DOES_WEAPON_EXIST( uVar16 )) == 1)
            {
                SELECT_WEAPON_TO_HAND( sub_1262(), uVar16, 0, 1 );
            }
        }
        for ( I = 0; I < l_U565; I++ )
        {
            if ((DOES_PED_EXIST( l_U565[I] )) == 1)
            {
                if (((IS_PED_DEAD( l_U565[I] )) == 0) || ((IS_PED_DEAD( l_U565[I] )) == 1))
                {
                    if (((IS_PED_IN_GAMEPLAY_HELPER_BOX( l_U565[I], ref l_U264._fU0 )) == 1) || ((IS_PED_IN_GAMEPLAY_HELPER_BOX( l_U565[I], ref l_U243._fU0 )) == 1))
                    {
                        sub_3617( l_U565[I] );
                    }
                }
            }
        }
        for ( I = 0; I < l_U619; I++ )
        {
            if ((DOES_PED_EXIST( l_U619[I] )) == 1)
            {
                if (((IS_PED_DEAD( l_U619[I] )) == 0) || ((IS_PED_DEAD( l_U619[I] )) == 1))
                {
                    if (((IS_PED_IN_GAMEPLAY_HELPER_BOX( l_U619[I], ref l_U264._fU0 )) == 1) || ((IS_PED_IN_GAMEPLAY_HELPER_BOX( l_U619[I], ref l_U243._fU0 )) == 1))
                    {
                        sub_3617( l_U619[I] );
                    }
                }
            }
        }
        REMOVE_ALL_ENVIRONMENT_BLOOD_AT_COORD( l_U243._fU72, 6.00000000 );
        REMOVE_ALL_ENVIRONMENT_BLOOD_AT_COORD( l_U264._fU72, 6.00000000 );
        l_U139 = 7;
        sub_831( "SP", "eMid01CutsceneState = CUTSCENE_PLAYING", 0 );
        case 7:
        if (HAS_CUTSCENE_FINISHED() == 0)
        {
            uVar11 = GET_CUTSCENE_SECTION_PLAYING();
            uVar12 = GET_CUTSCENE_TIME();
            iVar13 = GET_CUTSCENE_TIME_MS();
            if (iVar13 >= 16500)
            {
                AUDIO_MUSIC_FORCE_TRACK( "OFFICE_ACTION_SONG_02", "OFFICE_ACTION_2_3", "", 0.00000000, 5000, 5000, -1082130432, 0 );
            }
        }
        if (HAS_CUTSCENE_FINISHED() == 1)
        {
            sub_3617( l_U484 );
            sub_21369( 610197146 );
            CLEAR_NAMED_CUTSCENE( "mid_01_office_concat" );
            l_U139 = 0;
            sub_831( "SP", "eMid01CutsceneState = CUTSCENE_IDLE", 0 );
            return 1;
        }
        break;
    }
    return 0;
}

void sub_42423()
{
    sub_831( "SP", "P_REQUEST_MID_01_CUTSCENE_ASSETS", 0 );
    sub_14043( 610197146, 0 );
    sub_14043( -2008010292, 0 );
    sub_14382( 88877984, 0 );
    sub_14382( 488243615, 0 );
    sub_14382( -788295945, 0 );
    sub_14382( -222047625, 0 );
    sub_14624( "LEVEL_S_OFFICE_CP_01", 0, 0 );
    return;
}

int sub_42650()
{
    if (((HAS_ANIM_DICT_LOADED( "LEVEL_S_OFFICE_CP_01", 0 )) == 1) AND (((ISEQ_IS_LOADED( -222047625 )) == 1) AND (((ISEQ_IS_LOADED( -788295945 )) == 1) AND (((ISEQ_IS_LOADED( 488243615 )) == 1) AND (((ISEQ_IS_LOADED( 88877984 )) == 1) AND (((HAS_MODEL_LOADED( -2008010292 )) == 1) AND (((HAS_MODEL_LOADED( 610197146 )) == 1) AND ((CUTSCENE_IS_LOADED( "mid_01_office_concat" )) == 1))))))))
    {
        return 1;
    }
    return 0;
}

int sub_43077()
{
    unknown Result;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD( sub_1262() )) == 0)
    {
        Result = GET_WEAPON_FROM_HAND( sub_1262(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( Result )) == 1)
        {
            if ((sub_43140( Result )) == 1)
            {
                return Result;
            }
        }
        uVar3 = GET_WEAPON_FROM_HAND( sub_1262(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            return uVar3;
        }
        uVar4 = GET_WEAPON_FROM_HOLSTER( sub_1262(), 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar4 )) == 1)
        {
            return uVar4;
        }
        uVar5 = GET_WEAPON_FROM_HOLSTER( sub_1262(), 1 );
        if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
        {
            return uVar5;
        }
    }
    return 0;
}

int sub_43140(unknown uParam0)
{
    int iVar3;

    if ((GET_DOES_WEAPON_EXIST( uParam0 )) == 1)
    {
        iVar3 = GET_WEAPON_TYPE( uParam0 );
        if ((iVar3 == 1194438308) || ((iVar3 == -76667461) || ((iVar3 == -1404433099) || ((iVar3 == 1131969637) || ((iVar3 == -691403429) || ((iVar3 == 1845102363) || ((iVar3 == 150541352) || ((iVar3 == -820634585) || ((iVar3 == -612753081) || ((iVar3 == 811797242) || ((iVar3 == 68019059) || ((iVar3 == -1464892298) || ((iVar3 == 456708483) || ((iVar3 == -862236369) || (iVar3 == 406496141)))))))))))))))
        {
            return 1;
        }
    }
    return 0;
}

void sub_43623()
{
    sub_831( "SP", "P_SETUP_IT_GUY", 0 );
    sub_3617( g_U1424 );
    g_U1424 = sub_16409( ref l_U458 );
    if (((IS_PED_DEAD( g_U1424 )) == 0) AND ((DOES_PED_EXIST( g_U1424 )) == 1))
    {
        SET_ROOM_FOR_PED_BY_NAME( g_U1424, ref g_U1157 );
    }
    sub_43735();
    return;
}

void sub_43735()
{
    sub_831( "SP", "P_SETUP_IT_GUY_ATTRIBUTES", 0 );
    SET_PED_NAME_DEBUG( g_U1424, "piITGuy" );
    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( g_U1424, 1 );
    SET_PED_EMOTION_STATE( g_U1424, 5 );
    SET_PED_CAN_RAGDOLL( g_U1424, 1 );
    SET_PED_CAN_RAGDOLL_FROM_PLAYER_IMPACT( g_U1424, 0 );
    SET_PED_STAND_GROUND_ON_PLAYER_IMPACT( g_U1424, 1 );
    SET_PED_CAN_PUSH_PLAYER( g_U1424, 1 );
    SET_PED_ONLY_DAMAGED_BY_PLAYER( g_U1424, 1 );
    SET_PED_AIM_LOCKONABLE( g_U1424, 0 );
    SET_PED_CAN_INTERACT_WITH_DOORS( g_U1424, 0 );
    SET_PED_CAN_SMASH_GLASS( g_U1424, 0 );
    SET_PED_AS_ONE_SHOT_KILL( g_U1424, 1 );
    SET_PED_CAN_TRIGGER_BULLET_CAM( g_U1424, 1 );
    SET_PED_GORE_AS_ALLY( g_U1424 );
    SET_PED_GORE_FROM_PLAYER( g_U1424, 1 );
    SET_PED_GORE_FROM_NPC( g_U1424, 0 );
    STOP_PED_SPEAKING( g_U1424, 1 );
    if ((IS_PED_DEAD( sub_1262() )) == 0)
    {
        SET_PED_PRIMARY_LOOKAT( g_U1424, sub_1262() );
    }
    return;
}

void sub_44395(int iParam0, int iParam1, unknown uParam2)
{
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;

    sub_44407( iParam0 );
    if ((IS_PED_DEAD( sub_1262() )) == 0)
    {
        uVar5 = GET_WEAPON_FROM_HAND( sub_1262(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
        {
            if ((sub_43140( uVar5 )) == 1)
            {
                ref iParam0->_fU0->_fU0 = uVar5;
                ref iParam0->_fU0->_fU4 = GET_WEAPON_TYPE( uVar5 );
            }
            else if ((sub_44630( uVar5 )) == 1)
            {
                ref iParam0->_fU24->_fU0 = uVar5;
                ref iParam0->_fU24->_fU4 = GET_WEAPON_TYPE( uVar5 );
            }
        }
        uVar6 = GET_WEAPON_FROM_HAND( sub_1262(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar6 )) == 1)
        {
            ref iParam0->_fU12->_fU0 = uVar6;
            ref iParam0->_fU12->_fU4 = GET_WEAPON_TYPE( uVar6 );
        }
        uVar7 = GET_WEAPON_FROM_HOLSTER( sub_1262(), 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar7 )) == 1)
        {
            ref iParam0->_fU36->_fU0 = uVar7;
            ref iParam0->_fU36->_fU4 = GET_WEAPON_TYPE( uVar7 );
        }
        uVar8 = GET_WEAPON_FROM_HOLSTER( sub_1262(), 1 );
        if ((GET_DOES_WEAPON_EXIST( uVar8 )) == 1)
        {
            ref iParam0->_fU48->_fU0 = uVar8;
            ref iParam0->_fU48->_fU4 = GET_WEAPON_TYPE( uVar8 );
        }
        uVar9 = GET_WEAPON_FROM_HOLSTER( sub_1262(), 2 );
        if ((GET_DOES_WEAPON_EXIST( uVar9 )) == 1)
        {
            ref iParam0->_fU60->_fU0 = uVar9;
            ref iParam0->_fU60->_fU4 = GET_WEAPON_TYPE( uVar9 );
        }
    }
    if (iParam1 == 0)
    {
        if ((IS_PED_DEAD( sub_1262() )) == 0)
        {
            uVar10 = GET_WEAPON_FROM_HAND( sub_1262(), 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar10 )) == 1)
            {
                SELECT_WEAPON_TO_HAND( sub_1262(), 0, 0, uParam2 );
            }
            uVar11 = GET_WEAPON_FROM_HAND( sub_1262(), 1, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar11 )) == 1)
            {
                SELECT_WEAPON_TO_HAND( sub_1262(), 0, 1, uParam2 );
            }
        }
    }
    else if (iParam1 == 1)
    {
        if ((IS_PED_DEAD( sub_1262() )) == 0)
        {
            uVar12 = GET_WEAPON_FROM_HAND( sub_1262(), 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar12 )) == 1)
            {
                if ((sub_44630( uVar12 )) == 1)
                {
                    SELECT_WEAPON_TO_HAND( sub_1262(), 0, 0, uParam2 );
                }
            }
            uVar13 = GET_WEAPON_FROM_HAND( sub_1262(), 1, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar13 )) == 1)
            {
                SELECT_WEAPON_TO_HAND( sub_1262(), 0, 1, uParam2 );
            }
        }
    }
    return;
}

void sub_44407(int iParam0)
{
    ref iParam0->_fU0->_fU0 = 0;
    ref iParam0->_fU0->_fU4 = 0;
    ref iParam0->_fU12->_fU0 = 0;
    ref iParam0->_fU12->_fU4 = 0;
    ref iParam0->_fU24->_fU0 = 0;
    ref iParam0->_fU24->_fU4 = 0;
    ref iParam0->_fU36->_fU0 = 0;
    ref iParam0->_fU36->_fU4 = 0;
    ref iParam0->_fU48->_fU0 = 0;
    ref iParam0->_fU48->_fU4 = 0;
    ref iParam0->_fU60->_fU0 = 0;
    ref iParam0->_fU60->_fU4 = 0;
    return;
}

int sub_44630(unknown uParam0)
{
    int iVar3;

    if ((GET_DOES_WEAPON_EXIST( uParam0 )) == 1)
    {
        iVar3 = GET_WEAPON_TYPE( uParam0 );
        if ((iVar3 == -2075384407) || ((iVar3 == 10648147) || ((iVar3 == 1224272620) || ((iVar3 == 1478009203) || ((iVar3 == 1964270085) || ((iVar3 == -110877124) || ((iVar3 == 427207702) || ((iVar3 == 319712764) || ((iVar3 == 514118749) || ((iVar3 == -184942895) || ((iVar3 == -168327769) || ((iVar3 == 434544317) || ((iVar3 == -1659006841) || ((iVar3 == 930042831) || ((iVar3 == 1001413062) || ((iVar3 == 377623895) || ((iVar3 == -1312131151) || ((iVar3 == -1787162676) || ((iVar3 == 724901397) || ((iVar3 == 57534114) || ((iVar3 == 840671040) || ((iVar3 == 1308526797) || ((iVar3 == -1074756423) || ((iVar3 == 1992962408) || (iVar3 == -1013714740)))))))))))))))))))))))))
        {
            return 1;
        }
    }
    return 0;
}

int sub_46350()
{
    switch (l_U141)
    {
        case 0: break;
        case 1:
        sub_831( "SP", "eMid01BlendState = BLEND_SETUP", 0 );
        sub_9086( 1, 0, 0, 1 );
        CAMERA_PLAY_ANIMATED( "LEVEL_S_OFFICE_CP_01", "MID_01_OFFICE_BLENDOUT_CAM", 0, 0, 0, 0, 0.00000000, 0, 0 );
        SIMULATE_PLAYER_INPUT_GAIT( GET_PLAYER_ID(), 2, 4000, 0 );
        if (((IS_PED_DEAD( g_U1424 )) == 0) AND ((DOES_PED_EXIST( g_U1424 )) == 1))
        {
            if ((IS_PED_DEAD( sub_1262() )) == 0)
            {
                HIDE_PED_WEAPON_FOR_SCRIPTED_CUTSCENE( sub_1262(), 0 );
                SET_PED_DEFAULT_AIM_AT_PED( g_U1424, sub_1262() );
            }
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( l_U1034, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U1035, 1065353216, 0 );
        sub_2102( ref l_U891, 1500, 1, 0 );
        sub_2236( ref l_U891 );
        sub_2102( ref l_U1021, l_U1030, 1, 0 );
        sub_2236( ref l_U1021 );
        l_U141 = 2;
        sub_831( "SP", "eMid01BlendState = BLEND_FIRST_FRAME", 0 );
        break;
        case 2:
        sub_831( "SP", "eMid01BlendState = BLEND_FIRST_FRAME", 0 );
        sub_28106( ref l_U773 );
        sub_28188( 0, sub_1262(), "MAX", ref l_U773, 2, 0 );
        sub_28188( 1, sub_1262(), "MAX", ref l_U773, 2, 0 );
        sub_28444( "SOFF_AFGYRAH", ref l_U773, 8, 1 );
        l_U141 = 3;
        sub_831( "SP", "eMid01BlendState = BLEND_PLAYING", 0 );
        break;
        case 3:
        if ((sub_2354( ref l_U891 )) == 1)
        {
            sub_28106( ref l_U673 );
            sub_28188( 0, sub_1262(), "MAX", ref l_U673, 2, 0 );
            sub_28188( 1, g_U1424, "M6_Offi_Tech_Avg_01", ref l_U673, 2, 0 );
            sub_28444( "SOFF_VIG03A", ref l_U673, 7, 1 );
        }
        if (l_U1031 == 0)
        {
            if ((ISEQ_IS_LOADED( 88877984 )) == 1)
            {
                if ((ISEQ_QUERY_STATE( 88877984, 3 )) == 1)
                {
                    if (CAMERA_ANIMATED_CURRENT_TIME() >= l_U1032)
                    {
                        CAMERA_ANIMATED_STOP( l_U1033, 1 );
                        l_U1031 = 1;
                    }
                }
            }
        }
        if ((sub_2354( ref l_U1021 )) == 1)
        {
            SET_WIDESCREEN_BORDERS( 0, 500 );
            DISPLAY_HUD( 1 );
            if (((IS_PED_DEAD( sub_1262() )) == 0) AND ((IS_PLAYER_DEAD( sub_1284() )) == 0))
            {
                SET_PLAYER_CONTROL( sub_1284(), 1, 0 );
                SET_PED_INVINCIBLE( sub_1262(), 0 );
                SET_PED_FORCED_TO_WALK( sub_1262(), 1 );
                sub_33606();
            }
            PULSE_CROSSHAIR( 1 );
            DESTROY_ALL_CAMS();
            l_U141 = 0;
            sub_831( "SP", "eMid01BlendState = BLEND_IDLE", 0 );
            return 1;
        }
        break;
    }
    return 0;
}

void sub_47382(int iParam0)
{
    iParam0->_fU36 = 1;
    return;
}

void sub_47428()
{
    sub_831( "SP", "P_RESET_MAX_CONTEXTUAL_DIALOGUE", 0 );
    l_U114 = 0;
    l_U134 = 0;
    l_U135 = 0;
    l_U133 = 0;
    sub_2883( ref l_U124 );
    sub_2883( ref l_U115 );
    return;
}

void sub_47678()
{
    int iVar2;
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    float fVar7;
    float fVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    int iVar12;

    if (l_U114 == 0)
    {
        sub_2102( ref l_U115, 6000, 1, 0 );
        sub_2236( ref l_U115 );
        l_U114 = 1;
    }
    if (((IS_PED_DEAD( g_U1424 )) == 0) AND (((DOES_PED_EXIST( g_U1424 )) == 1) AND ((IS_PED_DEAD( sub_1262() )) == 0)))
    {
        if ((sub_47820() == 0) AND ((TIME_SINCE_LAST_MONOLOGUE() > 1000) AND ((IS_MONOLOGUE_PLAYING() == 0) AND ((IS_LAST_MAN_STANDING_ACTIVE() == 0) AND ((IS_BULLET_CAMERA_RUNNING( 0 )) == 0)))))
        {
            if ((l_U115._fU16 == 1) || ((sub_2354( ref l_U115 )) == 1))
            {
                if (((CAN_PED_SEE_OTHER_PED( g_U1424, sub_1262(), 130.00000000, 15.00000000 )) == 1) AND (IS_PLAYER_SHOOTDODGING() == 1))
                {
                    sub_831( "SP", "Should be playing shootdodge Dialogue", 0 );
                    iVar2 = GET_RANDOM_INT_IN_RANGE( 0, 2 );
                    if (iVar2 == 0)
                    {
                        sub_28106( ref l_U31 );
                        sub_28188( 0, sub_1262(), "MAX", ref l_U31, 2, 0 );
                        sub_28188( 1, g_U1424, "M6_Offi_Tech_Avg_01", ref l_U31, 2, 0 );
                        sub_28444( "SOFF_MXSDGS", ref l_U31, 7, 1 );
                    }
                    else
                    {
                        sub_28106( ref l_U41 );
                        sub_28188( 0, sub_1262(), "MAX", ref l_U41, 2, 0 );
                        sub_28188( 1, g_U1424, "M6_Offi_Tech_Avg_01", ref l_U41, 2, 0 );
                        sub_28444( "SOFF_MXMSSRN", ref l_U41, 7, 1 );
                    }
                    sub_2102( ref l_U115, 6000, 1, 0 );
                    sub_2236( ref l_U115 );
                }
                if ((HAS_BULLET_IMPACTED_IN_AREA( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( g_U1424 ), 30.00000000, ref iVar3 )) == 1)
                {
                    if (iVar3 == sub_1262())
                    {
                        uVar4 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_BULLET_IMPACT_AREA( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( g_U1424 ), 30.00000000, ref iVar3 )};
                        fVar7 = VDIST( uVar4, 0.00000000, 0.00000000, 0.00000000 );
                        if (fVar7 > 0.00000000)
                        {
                            fVar8 = VDIST( uVar4, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( g_U1424 ) );
                            if (fVar8 > 8.00000000)
                            {
                                sub_28106( ref l_U51 );
                                sub_28188( 0, sub_1262(), "MAX", ref l_U51, 2, 0 );
                                sub_28188( 1, g_U1424, "M6_Offi_Tech_Avg_01", ref l_U51, 2, 0 );
                                sub_28444( "SOFF_MXPLYRS", ref l_U51, 7, 1 );
                                sub_2102( ref l_U115, 6000, 1, 0 );
                                sub_2236( ref l_U115 );
                            }
                        }
                    }
                }
            }
        }
    }
    if ((IS_PED_DEAD( sub_1262() )) == 0)
    {
        if ((sub_47820() == 0) AND ((TIME_SINCE_LAST_MONOLOGUE() > 1000) AND ((IS_MONOLOGUE_PLAYING() == 0) AND ((IS_LAST_MAN_STANDING_ACTIVE() == 0) AND ((IS_BULLET_CAMERA_RUNNING( 0 )) == 0)))))
        {
            uVar9 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( sub_1262() )};
            if ((VDIST( uVar9, l_U111 )) > 0.10000000)
            {
                sub_2883( ref l_U124 );
            }
            else if ((l_U124._fU16 == 0) AND (l_U124._fU20 == 0))
            {
                sub_2102( ref l_U124, 35000, 1, 0 );
                sub_2236( ref l_U124 );
            }
            if ((l_U124._fU16 == 1) || ((sub_2354( ref l_U124 )) == 1))
            {
                if ((g_U706 == 2) || (g_U706 == 1))
                {
                    if (l_U133 < 4)
                    {
                        iVar12 = GET_RANDOM_INT_IN_RANGE( 0, 2 );
                        if (iVar12 == 0)
                        {
                            sub_28106( ref l_U61 );
                            sub_28188( 0, sub_1262(), "MAX", ref l_U61, 2, 0 );
                            sub_28188( 1, sub_1262(), "MAX", ref l_U61, 2, 0 );
                            sub_28444( "SOFF_MVPRSRV", ref l_U61, 7, 1 );
                        }
                        else
                        {
                            sub_28106( ref l_U71 );
                            sub_28188( 0, sub_1262(), "MAX", ref l_U71, 2, 0 );
                            sub_28188( 1, g_U1424, "M6_Offi_Tech_Avg_01", ref l_U71, 2, 0 );
                            sub_28444( "SOFF_MXSTPDS", ref l_U71, 7, 1 );
                        }
                        l_U133++;
                    }
                }
                else if (g_U706 == 5)
                {
                    if (l_U133 < 4)
                    {
                        sub_28106( ref l_U81 );
                        sub_28188( 0, sub_1262(), "MAX", ref l_U81, 2, 0 );
                        sub_28188( 1, sub_1262(), "MAX", ref l_U81, 2, 0 );
                        sub_28444( "SOFF_MVPSTSRV", ref l_U81, 7, 1 );
                        l_U133++;
                    }
                }
                else if (g_U706 == 7)
                {
                    if (l_U133 < 2)
                    {
                        sub_28106( ref l_U91 );
                        sub_28188( 0, sub_1262(), "MAX", ref l_U91, 2, 0 );
                        sub_28188( 1, sub_1262(), "MAX", ref l_U91, 2, 0 );
                        sub_28444( "SOFF_MVPSTLBY", ref l_U91, 7, 1 );
                        l_U133++;
                    }
                };;;
                sub_2102( ref l_U124, 35000, 1, 0 );
                sub_2236( ref l_U124 );
            }
            l_U111 = {uVar9};
        }
    }
    if (l_U134 == 0)
    {
        l_U135 = GET_PAYNEKILLER_AMT();
        l_U134 = 1;
    }
    if ((IS_PED_DEAD( sub_1262() )) == 0)
    {
        if ((sub_47820() == 0) AND ((TIME_SINCE_LAST_MONOLOGUE() > 1000) AND ((IS_MONOLOGUE_PLAYING() == 0) AND ((IS_LAST_MAN_STANDING_ACTIVE() == 0) AND ((IS_BULLET_CAMERA_RUNNING( 0 )) == 0)))))
        {
            if (l_U135 < GET_PAYNEKILLER_AMT())
            {
                sub_831( "SP", "Playing Pills Monologue", 0 );
                sub_28106( ref l_U101 );
                sub_28188( 0, sub_1262(), "MAX", ref l_U101, 2, 0 );
                sub_28188( 1, sub_1262(), "MAX", ref l_U101, 2, 0 );
                sub_28444( "SOFF_MXFNDPLS", ref l_U101, 7, 1 );
            }
        }
    }
    l_U135 = GET_PAYNEKILLER_AMT();
    return;
}

void sub_47820()
{
    int Result;
    int I;

    Result = 0;
    for ( I = 0; I <= 3; I++ )
    {
        Result = (IS_SCRIPTED_CONVERSATION_ONGOING( I )) || (Result);
    }
    return Result;
}

void sub_49520()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    float fVar6;
    int iVar7;

    if (((IS_PED_DEAD( g_U1424 )) == 0) AND ((DOES_PED_EXIST( g_U1424 )) == 1))
    {
        if ((ISEQ_IS_LOADED( 488243615 )) == 1)
        {
            if ((ISEQ_QUERY_STATE( 488243615, 3 )) == 1)
            {
                if ((IS_MONOLOGUE_PLAYING() == 0) AND (((IS_ANY_SPEECH_PLAYING( sub_1262() )) == 0) AND ((IS_ANY_SPEECH_PLAYING( g_U1424 )) == 0)))
                {
                    if ((l_U909._fU16 == 1) || ((sub_2354( ref l_U909 )) == 1))
                    {
                        uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_BULLET_IMPACT_AREA( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( g_U1424 ), 3.50000000, ref uVar2 )};
                        fVar6 = VDIST( uVar3, 0.00000000, 0.00000000, 0.00000000 );
                        if (fVar6 > 0.00000000)
                        {
                            sub_831( "SP", "Shoot at IT Guy Intention Hit!", 0 );
                            PED_SET_ACTION_INTENTION( g_U1424, 54, 500, uVar3 );
                            sub_28106( ref l_U743 );
                            sub_28188( 0, sub_1262(), "MAX", ref l_U743, 2, 0 );
                            sub_28188( 1, g_U1424, "M6_Offi_Tech_Avg_01", ref l_U743, 2, 0 );
                            sub_28444( "SOFF_VIG05G", ref l_U743, 4, 1 );
                            sub_2102( ref l_U909, 2500, 1, 0 );
                            sub_2236( ref l_U909 );
                        }
                    }
                    if (((l_U909._fU16 == 1) || ((sub_2354( ref l_U909 )) == 1)) AND ((l_U918._fU16 == 1) || ((sub_2354( ref l_U918 )) == 1)))
                    {
                        if (((IS_PLAYER_FREE_AIMING_AT_PED( sub_1284(), g_U1424 )) == 1) AND ((IS_PLAYER_GUN_RAISED( sub_1284() )) == 1))
                        {
                            sub_28106( ref l_U753 );
                            sub_28188( 0, sub_1262(), "MAX", ref l_U753, 2, 0 );
                            sub_28188( 1, g_U1424, "M6_Offi_Tech_Avg_01", ref l_U753, 2, 0 );
                            sub_28444( "SOFF_MXAMHM", ref l_U753, 7, 1 );
                            sub_2102( ref l_U918, 6000, 1, 0 );
                            sub_2236( ref l_U918 );
                        }
                    }
                    if ((l_U900._fU16 == 1) || ((sub_2354( ref l_U900 )) == 1))
                    {
                        if (l_U836 == 0)
                        {
                            PED_SET_ACTION_INTENTION( g_U1424, 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
                        }
                        else if (l_U836 == 1)
                        {
                            PED_SET_ACTION_INTENTION( g_U1424, 48, 1000, 0.00000000, 0.00000000, 0.00000000 );
                        }
                        else if (l_U836 == 2)
                        {
                            PED_SET_ACTION_INTENTION( g_U1424, 49, 1000, 0.00000000, 0.00000000, 0.00000000 );
                        }
                        else if (l_U836 == 3)
                        {
                            PED_SET_ACTION_INTENTION( g_U1424, 50, 1000, 0.00000000, 0.00000000, 0.00000000 );
                        }
                        else if (l_U836 == 4)
                        {
                            PED_SET_ACTION_INTENTION( g_U1424, 51, 1000, 0.00000000, 0.00000000, 0.00000000 );
                        };;;;;
                        l_U836++;
                        if (l_U836 >= 5)
                        {
                            l_U836 = 0;
                        }
                        iVar7 = GET_RANDOM_INT_IN_RANGE( 0, 4 );
                        if (iVar7 == 0)
                        {
                            sub_28106( ref l_U683 );
                            sub_28188( 0, sub_1262(), "MAX", ref l_U683, 2, 0 );
                            sub_28188( 1, g_U1424, "M6_Offi_Tech_Avg_01", ref l_U683, 2, 0 );
                            sub_28444( "SOFF_VIG03", ref l_U683, 7, 1 );
                        }
                        else if (iVar7 == 1)
                        {
                            sub_28106( ref l_U693 );
                            sub_28188( 0, sub_1262(), "MAX", ref l_U693, 2, 0 );
                            sub_28188( 1, g_U1424, "M6_Offi_Tech_Avg_01", ref l_U693, 2, 0 );
                            sub_28444( "SOFF_MVFRWD", ref l_U693, 7, 1 );
                        }
                        else if (iVar7 == 2)
                        {
                            sub_28106( ref l_U703 );
                            sub_28188( 0, sub_1262(), "MAX", ref l_U703, 2, 0 );
                            sub_28188( 1, g_U1424, "M6_Offi_Tech_Avg_01", ref l_U703, 2, 0 );
                            sub_28444( "SOFF_CHLTGY", ref l_U703, 7, 1 );
                        }
                        else
                        {
                            sub_28106( ref l_U713 );
                            sub_28188( 0, sub_1262(), "MAX", ref l_U713, 2, 0 );
                            sub_28188( 1, g_U1424, "M6_Offi_Tech_Avg_01", ref l_U713, 2, 0 );
                            sub_28444( "SOFF_MXTFBHN", ref l_U713, 7, 1 );
                        };;;
                        sub_2102( ref l_U900, GET_RANDOM_INT_IN_RANGE( 15000, 25000 ), 1, 0 );
                        sub_2236( ref l_U900 );
                    }
                }
            }
        }
    }
    return;
}

int sub_50928()
{
    if (((IS_PED_DEAD( sub_1262() )) == 0) AND ((IS_PLAYER_DEAD( sub_1284() )) == 0))
    {
        if (((IS_ANY_SPEECH_PLAYING( sub_1262() )) == 0) AND ((TIME_SINCE_LAST_MONOLOGUE() > 2500) AND (IS_MONOLOGUE_PLAYING() == 0)))
        {
            if (((sub_40712( l_U411 )) == 1) || ((sub_40712( l_U390 )) == 1))
            {
                if (((IS_SPHERE_VISIBLE( 2.53000000, 2.47000000, 7.11000000, 1.50000000, 0 )) == 0) AND ((IS_SPHERE_VISIBLE( 2.47000000, 12.39000000, 7.16000000, 1.50000000, 0 )) == 1))
                {
                    return 1;
                }
            }
        }
    }
    return 0;
}

int sub_52013()
{
    if (l_U1250 == 0)
    {
        START_WIDGET_GROUP( "Victors Email Helper" );
        START_WIDGET_GROUP( "Animated Camera" );
        ADD_WIDGET_FLOAT_SLIDER( "Offset Pos X", ref l_U1251._fU0, -5000.00000000, 5000.00000000, 0.00100000 );
        ADD_WIDGET_FLOAT_SLIDER( "Offset Pos Y", ref l_U1251._fU4, -5000.00000000, 5000.00000000, 0.00100000 );
        ADD_WIDGET_FLOAT_SLIDER( "Offset Pos Z", ref l_U1251._fU8, -5000.00000000, 5000.00000000, 0.00100000 );
        ADD_WIDGET_FLOAT_SLIDER( "Offset Heading", ref l_U1254, -360.00000000, 360.00000000, 0.01000000 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        l_U1250 = 1;
    }
    switch (l_U142)
    {
        case 0: break;
        case 1:
        sub_831( "SP", "eVictorEmailNISState = NIS_IDLE", 0 );
        sub_9086( 1, 0, 0, 1 );
        CAMERA_PLAY_ANIMATED( "EXPL_CAM", "EXPL_CAMWAL_POPZOOM_F", 1, l_U1251, l_U1254, 0, 0 );
        if (((IS_PED_DEAD( sub_1262() )) == 0) AND ((IS_PLAYER_DEAD( sub_1284() )) == 0))
        {
            SET_PED_VISIBLE( sub_1262(), 0 );
        }
        l_U142 = 2;
        sub_831( "SP", "eVictorEmailNISState = NIS_FIRST_FRAME", 0 );
        break;
        case 2:
        sub_831( "SP", "eVictorEmailNISState = NIS_FIRST_FRAME", 0 );
        if ((HAS_EXPLORATION_ITEM_BEEN_FOUND( "soff_Email" )) == 0)
        {
            sub_28010( 0 );
            sub_28106( ref l_U803 );
            sub_28188( 0, sub_1262(), "MAX", ref l_U803, 2, 0 );
            sub_28188( 1, sub_1262(), "MAX", ref l_U803, 2, 0 );
            sub_28444( "SOFF_EXPTMB", ref l_U803, 8, 1 );
            sub_2102( ref l_U1123, l_U1132, 1, 0 );
            sub_2236( ref l_U1123 );
        }
        else
        {
            sub_2102( ref l_U1123, l_U1133, 1, 0 );
            sub_2236( ref l_U1123 );
        }
        l_U142 = 3;
        sub_831( "SP", "eVictorEmailNISState = NIS_PLAYING", 0 );
        break;
        case 3:
        if ((sub_2354( ref l_U1123 )) == 1)
        {
            sub_33525( 1, 1 );
            CAMERA_ANIMATED_STOP( 0, 0 );
            if (((IS_PED_DEAD( sub_1262() )) == 0) AND ((IS_PLAYER_DEAD( sub_1284() )) == 0))
            {
                SET_PED_VISIBLE( sub_1262(), 1 );
            }
            if ((HAS_EXPLORATION_ITEM_BEEN_FOUND( "soff_Email" )) == 0)
            {
                FOUND_EXPLORATION_ITEM( "soff_Email" );
            }
            l_U142 = 0;
            sub_831( "SP", "eVictorEmailNISState = NIS_IDLE", 0 );
            return 1;
        }
        break;
    }
    return 0;
}

int sub_53137()
{
    if (l_U1255 == 0)
    {
        START_WIDGET_GROUP( "Fabiana Files Helper" );
        START_WIDGET_GROUP( "Animated Camera" );
        START_WIDGET_GROUP( "Monologue Version" );
        ADD_WIDGET_FLOAT_SLIDER( "Offset Pos X", ref l_U1256._fU0, -5000.00000000, 5000.00000000, 0.00100000 );
        ADD_WIDGET_FLOAT_SLIDER( "Offset Pos Y", ref l_U1256._fU4, -5000.00000000, 5000.00000000, 0.00100000 );
        ADD_WIDGET_FLOAT_SLIDER( "Offset Pos Z", ref l_U1256._fU8, -5000.00000000, 5000.00000000, 0.00100000 );
        ADD_WIDGET_FLOAT_SLIDER( "Offset Heading", ref l_U1259, -360.00000000, 360.00000000, 0.01000000 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Short Version" );
        ADD_WIDGET_FLOAT_SLIDER( "Offset Pos X", ref l_U1260._fU0, -5000.00000000, 5000.00000000, 0.00100000 );
        ADD_WIDGET_FLOAT_SLIDER( "Offset Pos Y", ref l_U1260._fU4, -5000.00000000, 5000.00000000, 0.00100000 );
        ADD_WIDGET_FLOAT_SLIDER( "Offset Pos Z", ref l_U1260._fU8, -5000.00000000, 5000.00000000, 0.00100000 );
        ADD_WIDGET_FLOAT_SLIDER( "Offset Heading", ref l_U1263, -360.00000000, 360.00000000, 0.01000000 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        l_U1255 = 1;
    }
    switch (l_U143)
    {
        case 0: break;
        case 1:
        sub_831( "SP", "eFabianaFilesNISState = NIS_IDLE", 0 );
        sub_9086( 1, 0, 0, 1 );
        if ((HAS_EXPLORATION_ITEM_BEEN_FOUND( "soff_File" )) == 0)
        {
            CAMERA_PLAY_ANIMATED( "LEVEL_S_OFFICE_CP_01", "SOFF_FAB_FOLDER_CAM", 1, l_U1256, l_U1259, 0, 0 );
        }
        else
        {
            CAMERA_PLAY_ANIMATED( "EXPL_CAM", "EXPL_CAM_GND_25_F_CAM", 1, l_U1260, l_U1263, 0, 0 );
        }
        if (((IS_PED_DEAD( sub_1262() )) == 0) AND ((IS_PLAYER_DEAD( sub_1284() )) == 0))
        {
            SET_PED_VISIBLE( sub_1262(), 0 );
        }
        l_U143 = 2;
        sub_831( "SP", "eFabianaFilesNISState = NIS_FIRST_FRAME", 0 );
        break;
        case 2:
        sub_831( "SP", "eFabianaFilesNISState = NIS_FIRST_FRAME", 0 );
        if ((HAS_EXPLORATION_ITEM_BEEN_FOUND( "soff_File" )) == 0)
        {
            sub_28010( 0 );
            sub_28106( ref l_U813 );
            sub_28188( 0, sub_1262(), "MAX", ref l_U813, 2, 0 );
            sub_28188( 1, sub_1262(), "MAX", ref l_U813, 2, 0 );
            sub_28444( "SOFF_EXPTMD", ref l_U813, 8, 1 );
            sub_2102( ref l_U1221, l_U1230, 1, 0 );
            sub_2236( ref l_U1221 );
        }
        else
        {
            sub_2102( ref l_U1221, l_U1231, 1, 0 );
            sub_2236( ref l_U1221 );
        }
        l_U143 = 3;
        sub_831( "SP", "eFabianaFilesNISState = NIS_PLAYING", 0 );
        break;
        case 3:
        if ((sub_2354( ref l_U1221 )) == 1)
        {
            sub_33525( 1, 1 );
            CAMERA_ANIMATED_STOP( 0, 0 );
            if (((IS_PED_DEAD( sub_1262() )) == 0) AND ((IS_PLAYER_DEAD( sub_1284() )) == 0))
            {
                SET_PED_VISIBLE( sub_1262(), 1 );
            }
            if ((HAS_EXPLORATION_ITEM_BEEN_FOUND( "soff_File" )) == 0)
            {
                FOUND_EXPLORATION_ITEM( "soff_File" );
            }
            l_U143 = 0;
            sub_831( "SP", "eFabianaFilesNISState = NIS_IDLE", 0 );
            return 1;
        }
        break;
    }
    return 0;
}

void sub_54650()
{
    sub_831( "SP", "P_UNLOAD_ASSETS", 0 );
    sub_21369( 1554808592 );
    sub_21369( g_U1415 );
    sub_21369( g_U1416 );
    sub_21369( g_U1417 );
    sub_21369( g_U1419 );
    sub_21369( g_U1420 );
    sub_21369( g_U1421 );
    sub_21369( g_U1422 );
    sub_21369( 1599197538 );
    sub_21369( 1911544110 );
    sub_21369( -1387022621 );
    sub_21369( g_U703 );
    sub_54832( "LEVEL_S_OFFICE_CP_01" );
    sub_54832( "EXPL_CAM" );
    return;
}

void sub_54832(unknown uParam0)
{
    REMOVE_ANIM_DICT( uParam0, 0 );
    return;
}

