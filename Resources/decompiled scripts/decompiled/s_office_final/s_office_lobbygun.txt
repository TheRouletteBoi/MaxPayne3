void main()
{
    l_U0 = 1;
    l_U1 = 144;
    l_U3 = 0;
    l_U4 = 0;
    l_U5 = 1500;
    StrCopy( ref l_U15, "DEFAULT_SCRIPTED_CAMERA", 32 );
    StrCopy( ref l_U23, "DEFAULT_SPLINE_CAMERA", 32 );
    l_U114 = 0;
    l_U133 = 0;
    l_U134 = 0;
    l_U135 = 0;
    l_U136 = 0;
    l_U137 = 0;
    l_U138 = 0;
    l_U175 = 0;
    l_U241 = {22.50533000, -30.65623000, -0.00010100};
    l_U244 = 340.49100000;
    l_U288 = 0;
    l_U467 = 0;
    l_U489 = 0;
    l_U526 = 0;
    l_U527 = 0;
    l_U528 = 0;
    l_U529 = 0;
    l_U530 = 0;
    l_U531 = 0;
    l_U570 = 0;
    l_U571 = {26.10012000, -18.40194000, -0.00021400};
    l_U574 = 240.65750000;
    l_U575 = -5.00000000;
    l_U576 = -90.00000000;
    l_U577 = -0.96738200;
    sub_350( "SP", "Script s_office_lobbyGun.sc is starting...", 0 );
    l_U136 = 1;
    while (IS_EXITFLAG_SET() == 0)
    {
        sub_419();
        if (l_U137 == 0)
        {
            sub_8476();
        }
        WAIT( 0 );
    }
    sub_3346();
    sub_35163();
    SET_EXITFLAG_RESPONSE();
    SET_SCRIPT_AS_NO_LONGER_NEEDED( "s_office_lobbyGun" );
    sub_350( "SP", "Script s_office_lobbyGun.sc is terminating...", 0 );
    return;
}

void sub_350(unknown uParam0, unknown uParam1, string sParam2)
{
    unknown uVar5;

    if (IS_STRING_NULL( sParam2 ))
    {
        sParam2 = "###";
    }
    uVar5 = GET_REAL_GAME_TIMER();
    return;
}

void sub_419()
{
    switch (l_U137)
    {
        case 0:
        if (g_U706 == 7)
        {
            if (sub_509() == 1)
            {
                DO_SCREEN_FADE_OUT( 0 );
                if ((IS_PED_DEAD( sub_781() )) == 0)
                {
                    SET_PED_INVINCIBLE( sub_781(), 1 );
                    SET_PED_PROOFS( sub_781(), 1, 1, 1, 1, 1 );
                }
                if (IS_LAST_MAN_STANDING_ACTIVE() == 1)
                {
                    RESET_LAST_MAN_STANDING();
                }
                l_U137 = 4;
                sub_350( "SP", "eFailState = FAIL_CLEANUP_ALL", 0 );
            }
            if ((IS_PED_DEAD( sub_781() )) == 1)
            {
                sub_350( "SP", "Mission Failed: Player died.", 0 );
                l_U137 = 2;
                sub_350( "SP", "eFailState = FAIL_WAITING_FOR_PLAYER", 0 );
            }
        }
        else if ((sub_1267() == 1) || ((IS_PED_DEAD( sub_781() )) == 1))
        {
            if (((CUTSCENE_NAMED_IS_LOADING( "mid_08_office_pt2" )) == 1) || ((CUTSCENE_IS_LOADED( "mid_08_office_pt2" )) == 1))
            {
                CLEAR_NAMED_CUTSCENE( "mid_08_office_pt2" );
            }
            sub_1396( ref g_U708[7] );
            SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
        }
        break;
        case 1:
        if (IS_ANIMATED_CAMERA_PLAYING() == 0)
        {
            l_U137 = 2;
            sub_350( "SP", "eFailState = FAIL_WAITING_FOR_PLAYER", 0 );
        }
        break;
        case 2:
        if ((sub_1525( 0 )) == 1)
        {
            l_U137 = 3;
            sub_350( "SP", "eFailState = FAIL_WAITING_FOR_RESPAWN", 0 );
        }
        break;
        case 3:
        if ((IS_LAST_MAN_STANDING_ACTIVE() == 0) AND ((IS_PED_DEAD( sub_781() )) == 0))
        {
            if ((IS_PLAYER_DEAD( sub_803() )) == 0)
            {
                SET_PLAYER_CONTROL( sub_803(), 0, 0 );
            }
            DO_SCREEN_FADE_OUT( 0 );
            l_U137 = 4;
            sub_350( "SP", "eFailState = FAIL_CLEANUP_ALL", 0 );
        }
        break;
        case 4:
        sub_350( "SP", "eFailState = FAIL_CLEANUP_ALL", 0 );
        sub_3051( 1, 0, 0, 1 );
        CLEAR_HELP();
        CLEAR_PRINTS();
        DESTROY_ALL_CAMS();
        RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
        AUDIO_MUSIC_SUSPEND( 500 );
        ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
        if ((IS_PED_DEAD( sub_781() )) == 0)
        {
            PED_ACTION_TREE_PLAY_NODE( sub_781(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
        }
        sub_3346();
        l_U137 = 5;
        sub_350( "SP", "eFailState = FAIL_RESTORE_PLAYER", 0 );
        break;
        case 5:
        sub_350( "SP", "eFailState = FAIL_RESTORE_PLAYER", 0 );
        sub_4246( ref l_U139, sub_781() );
        l_U137 = 6;
        sub_350( "SP", "eFailState = FAIL_RESTART_CHECKPOINT", 0 );
        break;
        case 6:
        sub_350( "SP", "eFailState = FAIL_RESTART_CHECKPOINT", 0 );
        l_U136 = 1;
        l_U137 = 0;
        sub_350( "SP", "eFailState = FAIL_RESTART_CHECKPOINT", 0 );
        break;
    }
    return;
}

int sub_509()
{
    if (HAS_SELECTED_RETRY_CHECKPOINT())
    {
        if (IS_IN_NYMINUTE_MODE())
        {
            SWITCH_TO_LEVEL( GET_INDEX_OF_CURRENT_LEVEL() );
        }
        if (HAS_CUTSCENE_FINISHED() == 0)
        {
            return 0;
        }
        l_U0 = 0;
        g_U648 = 1;
        DO_SCREEN_FADE_OUT( 0 );
        ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 1 );
        TERMINATE_GAME_BULLET_CAMERA();
        if (IS_ANIMATED_CAMERA_PLAYING())
        {
            CAMERA_ANIMATED_STOP( 0, 0 );
        }
        STOP_ALL_SCRIPTED_CONVERSATIONS( 0 );
        DEACTIVATE_BULLET_TIME( 1, 0 );
        END_POSTFX_BLENDER( 0, 0 );
        END_POSTFX_BLENDER( 2, 0 );
        END_POSTFX_BLENDER( 3, 0 );
        END_POSTFX_BLENDER( 4, 0 );
        END_POSTFX_BLENDER( 5, 0 );
        END_POSTFX_BLENDER( 7, 0 );
        END_POSTFX_BLENDER( 9, 0 );
        END_POSTFX_BLENDER( 10, 0 );
        END_POSTFX_BLENDER( 11, 0 );
        END_POSTFX_BLENDER( 12, 0 );
        END_POSTFX_BLENDER( 13, 0 );
        END_POSTFX_BLENDER( 14, 0 );
        END_POSTFX_BLENDER( 15, 0 );
        END_POSTFX_BLENDER( 16, 0 );
        STOP_ALL_IMAGEFX( 0 );
        if (NOT (IS_PED_DEAD( sub_781() )))
        {
            SET_PED_FORCED_TO_WALK( sub_781(), 0 );
            SET_PLAYER_FORCED_AIM( sub_803(), 0, 0 );
            SET_PLAYER_CAN_USE_SHOOTDODGE( sub_803(), 1 );
            if ((IS_PED_VISIBLE( sub_781() )) == 0)
            {
                SET_PED_VISIBLE( sub_781(), 1 );
            }
        }
        CLEAR_PRINTS();
        CLEAR_HELP();
        SET_INTERACTIONTEXT_VISIBLE( 0 );
        RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
        DESTROY_ALL_CAMS();
        AUDIO_MUSIC_SUSPEND( 500 );
        return 1;
    }
    return 0;
}

int sub_781()
{
    if (DOES_MAIN_PLAYER_EXIST())
    {
        return GET_PLAYER_PED( sub_803() );
    }
    return 0;
}

void sub_803()
{
    return GET_PLAYER_ID();
}

void sub_1267()
{
    return g_U648;
}

void sub_1396(int iParam0)
{
    iParam0->_fU36 = 0;
    iParam0->_fU40 = 0;
    return;
}

int sub_1525(int iParam0)
{
    iParam0 = 1;
    switch (l_U4)
    {
        case 0:
        if (NOT (sub_1582( ref l_U6 )))
        {
            if ((IS_DEATH_PANEL_WIPE_ALLOWED()) AND (IS_PED_DEAD( sub_781() )))
            {
                l_U5 = 2000;
                ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 1 );
            }
            sub_1686( ref l_U6, l_U5, 1, 1 );
            sub_1820( ref l_U6 );
        }
        if (sub_1938( ref l_U6 ))
        {
            sub_350( "NS", " show fail/retry text", 0 );
            if ((IS_DEATH_PANEL_WIPE_ALLOWED()) AND (IS_PED_DEAD( sub_781() )))
            {
                if ((IS_BULLET_CAMERA_RUNNING( 0 )) == 0)
                {
                    if (IS_SCREEN_FADED_OUT())
                    {
                        DO_SCREEN_FADE_IN( 0 );
                    }
                }
                ENABLE_DEATHHELPERTEXT( 1, 1, 0 );
            }
            else if (IS_SCREEN_FADED_OUT())
            {
                DO_SCREEN_FADE_IN( 0 );
                ENABLE_DEATHHELPERTEXT( 1, iParam0, 0 );
            }
            else
            {
                ENABLE_DEATHHELPERTEXT( 1, iParam0, 0 );
            }
            if (NOT (IS_PLAYER_DEAD( sub_803() )))
            {
                SET_PLAYER_CONTROL( sub_803(), 0, 0 );
            }
            DISPLAY_HUD( 0 );
            l_U4 = 1;
        }
        break;
        case 1:
        if ((((NOT IS_QUIT_CONFIRMING()) == 1) AND (IS_BUTTON_JUST_PRESSED( 0, 501 ))) || ((N_1855335259()) || (IS_CONTROL_JUST_PRESSED( 2, 82 ))))
        {
            if (IS_QUIT_CONFIRMING() == 1)
            {
                l_U4 = 2;
            }
            else
            {
                l_U4 = 3;
            }
        }
        break;
        case 2:
        sub_350( "NS", "Player will QUIT", 0 );
        sub_2419();
        if (iParam0 == 1)
        {
            DO_SCREEN_FADE_OUT( 0 );
        }
        START_PANEL_WIPE( 0, 6 );
        SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
        RETURN_TO_TITLESCREEN( 0 );
        break;
        case 3:
        sub_350( "NS", "Player will RETRY", 0 );
        if (IS_IN_NYMINUTE_MODE())
        {
            SWITCH_TO_LEVEL( GET_INDEX_OF_CURRENT_LEVEL() );
        }
        if (iParam0 == 1)
        {
            DO_SCREEN_FADE_OUT( 0 );
        }
        sub_2419();
        return 1;
        break;
    }
    return 0;
}

int sub_1582(int iParam0)
{
    if (iParam0->_fU20 == 1)
    {
        return 1;
    }
    if (iParam0->_fU16 == 1)
    {
        return 1;
    }
    return 0;
}

void sub_1686(int iParam0, unknown uParam1, boolean bParam2, int iParam3)
{
    if (bParam2)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam3 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU12 = uParam1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = bParam2;
    iParam0->_fU32 = iParam3;
    iParam0->_fU8 = 0;
    return;
}

void sub_1820(int iParam0)
{
    if (NOT iParam0->_fU20)
    {
        iParam0->_fU20 = 1;
        iParam0->_fU16 = 0;
        if (iParam0->_fU28)
        {
            iParam0->_fU0 = TIMERA();
        }
        else
        {
            iParam0->_fU0 = TIMERB();
        }
        if (iParam0->_fU32 == 1)
        {
            iParam0->_fU0 = TIMERSYSTEM();
        }
        iParam0->_fU4 = iParam0->_fU0;
    }
    return;
}

int sub_1938(int iParam0)
{
    if (iParam0->_fU16)
    {
        return 0;
    }
    else if (NOT iParam0->_fU20)
    {
        return 0;
    }
    if (iParam0->_fU28)
    {
        iParam0->_fU4 = TIMERA();
    }
    else
    {
        iParam0->_fU4 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU4 = TIMERSYSTEM();
    }
    if ((iParam0->_fU4 - iParam0->_fU0) >= iParam0->_fU12)
    {
        iParam0->_fU16 = 1;
        iParam0->_fU20 = 0;
        return 1;
        break;
    }
    return 0;
}

void sub_2419()
{
    sub_350( "NS", "P_PostFailRetryCleanup", 0 );
    sub_2467( ref l_U6 );
    ENABLE_DEATHHELPERTEXT( 0, 0, 2000 );
    SET_SCRIPT_CONTROL_RESET_ON_PLAYER_DEATH( 0 );
    if (NOT (IS_PLAYER_DEAD( sub_803() )))
    {
        SET_PLAYER_CONTROL( sub_803(), 1, 0 );
    }
    DISPLAY_HUD( 1 );
    l_U3 = 0;
    l_U3 = l_U3;
    l_U4 = 0;
    return;
}

void sub_2467(int iParam0)
{
    if (iParam0->_fU28)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    return;
}

void sub_3051(int iParam0, int iParam1, unknown uParam2, boolean bParam3)
{
    END_POSTFX_BLENDER( 12, 0 );
    if (bParam3)
    {
        STOP_ALL_IMAGEFX( 0 );
    }
    SET_WIDESCREEN_BORDERS( 1, 500 );
    DISPLAY_HUD( 0 );
    if (iParam0 == 1)
    {
        if (NOT (IS_PED_DEAD( sub_781() )))
        {
            SET_PLAYER_CONTROL( sub_803(), 0, uParam2 );
            SET_PED_DUCKING( sub_781(), 0 );
            if (iParam1 == 1)
            {
                CLEAR_PED_TASKS_IMMEDIATELY( sub_781() );
            }
            SET_PED_INVINCIBLE( sub_781(), 1 );
        }
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    return;
}

void sub_3346()
{
    sub_350( "SP", "P_CLEANUP_ALL", 0 );
    sub_3388( l_U240 );
    sub_3466( ref l_U278 );
    sub_3466( ref l_U443 );
    if (g_U706 >= 7)
    {
        sub_3550( g_U1433 );
        STOP_PARTICLE_FX_LOOPED( g_U1434 );
    }
    if (g_U706 >= 7)
    {
        sub_3388( g_U1430 );
    }
    if (g_U706 >= 7)
    {
        sub_3641( g_U1432 );
        sub_3641( g_U1436 );
    }
    if (g_U706 >= 7)
    {
        sub_3550( g_U1446 );
        sub_3550( g_U1448 );
    }
    if (g_U706 >= 7)
    {
        sub_3753( ref l_U477 );
        sub_3753( ref g_U1437 );
        sub_3550( g_U1450 );
        sub_3550( g_U1452 );
    }
    if (g_U706 < 7)
    {
        if (((CUTSCENE_NAMED_IS_LOADING( "mid_08_office_pt2" )) == 1) || ((CUTSCENE_IS_LOADED( "mid_08_office_pt2" )) == 1))
        {
            CLEAR_NAMED_CUTSCENE( "mid_08_office_pt2" );
        }
    }
    sub_3949( g_U667._fU0 );
    sub_3992();
    return;
}

void sub_3388(unknown uParam0)
{
    if (DOES_PED_EXIST( uParam0 ))
    {
        if ((NOT (IS_PED_DEAD( uParam0 ))) || (IS_PED_DEAD( uParam0 )))
        {
            REMOVE_ALL_PED_WEAPONS( uParam0 );
            DELETE_PED( ref uParam0 );
        }
    }
    return;
}

void sub_3466(unknown uParam0)
{
    int I;

    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_3388( (uParam0^)[I] );
    }
    return;
}

void sub_3550(unknown uParam0)
{
    if (DOES_OBJECT_EXIST( uParam0 ))
    {
        DELETE_OBJECT( ref uParam0 );
    }
    return;
}

void sub_3641(unknown uParam0)
{
    if (IS_VEHICLE_DEAD( uParam0 ))
    {
        ;
    }
    if (DOES_VEHICLE_EXIST( uParam0 ))
    {
        DELETE_VEHICLE( ref uParam0 );
    }
    return;
}

void sub_3753(unknown uParam0)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        sub_3550( (uParam0^)[I] );
    }
    return;
}

void sub_3949(unknown uParam0)
{
    if ((DOES_PLACEMENT_EXIST( uParam0 )) == 1)
    {
        REMOVE_PLACEMENT( uParam0 );
    }
    return;
}

void sub_3992()
{
    sub_350( "CCB", "P_STOP_SP_CHALLENGES", 0 );
    sub_350( "CCB", "Stopping the Office_Lobby_Gun context...", 0 );
    END_CONTEXT( "Office_Lobby_Gun" );
    return;
}

void sub_4246(int iParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    int iVar9;
    int iVar10;
    int iVar11;
    unknown uVar12;
    unknown uVar13;

    sub_350( "GA", "Restoring the player to the checkpoint - Start", 0 );
    if (l_U0)
    {
        INCREMENT_CHECKPOINT_ATTEMPT();
    }
    g_U648 = 0;
    if (iParam0->_fU0 == 0)
    {
        SCRIPT_ASSERT( "ERROR: Trying to restore a checkpoint that hasn't been saved!!!", 0 );
    }
    sub_4430( iParam0->_fU52 );
    if (SCRIPT_VAR_EXISTS( "SV_LOAD_CNT" ))
    {
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", (SCRIPT_VAR_GET_INT( "SV_LOAD_CNT" )) + 1 );
    }
    else
    {
        SCRIPT_VAR_ADD_INT( "SV_LOAD_CNT" );
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", 1 );
    }
    CLEAR_KILL_STREAK_RECORDS();
    AUDIO_MUSIC_SUSPEND( 0 );
    DEACTIVATE_BULLET_TIME( 1, 0 );
    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
    REMOVE_ALL_ENVIRONMENT_BLOOD();
    RESET_BLOOD_EFFECTS();
    REMOVE_ALL_GLINTS();
    RESET_DESTROYED_COVER();
    RESET_ALL_PTFX();
    uVar4 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam1 )};
    CLEAR_AREA( iParam0->_fU4, 10000.00000000, 1 );
    if (NOT (IS_PED_DEAD( uParam1 )))
    {
        SET_PED_COORDS( uParam1, iParam0->_fU4, 1 );
        sub_5507( uParam1 );
        SET_PED_HEADING( uParam1, iParam0->_fU16 );
    }
    CLEAR_AREA( uVar4, 3.00000000, 1 );
    LOAD_SCENE( iParam0->_fU4 );
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
    iParam0->_fU28 = GET_PED_MAX_HEALTH( uParam1 );
    SET_PED_HEALTH( uParam1, iParam0->_fU28, 0 );
    RESET_PED_GORE( uParam1 );
    RESET_PED_VISIBLE_DAMAGE( uParam1 );
    REMOVE_ALL_PED_WEAPONS( uParam1 );
    if (NOT (iParam0->_fU56 == -1569615261))
    {
        uVar7 = sub_5799( uParam1, iParam0->_fU56, 0, iParam0->_fU76, 1 );
        sub_6159( uVar7, iParam0 + 96, iParam0 + 100 );
    }
    if (NOT (iParam0->_fU60 == -1569615261))
    {
        uVar7 = sub_5799( uParam1, iParam0->_fU60, 1, iParam0->_fU80, 1 );
        sub_6159( uVar7, iParam0 + 104, iParam0 + 108 );
    }
    if (NOT (iParam0->_fU64 == -1569615261))
    {
        uVar7 = sub_5799( uParam1, iParam0->_fU64, 2, iParam0->_fU84, 1 );
        sub_6159( uVar7, iParam0 + 112, iParam0 + 116 );
    }
    if (NOT (iParam0->_fU68 == -1569615261))
    {
        uVar7 = sub_6444( uParam1, iParam0->_fU68, iParam0->_fU88, 0, 1 );
        sub_6159( uVar7, iParam0 + 120, iParam0 + 124 );
    }
    if (NOT (iParam0->_fU72 == -1569615261))
    {
        uVar7 = sub_6444( uParam1, iParam0->_fU72, iParam0->_fU92, 1, 1 );
        sub_6159( uVar7, iParam0 + 128, iParam0 + 132 );
    }
    if (l_U0 == 1)
    {
        if ((IS_PED_DEAD( uParam1 )) == 0)
        {
            if (iParam0->_fU68 != -1569615261)
            {
                uVar7 = GET_WEAPON_FROM_HAND( uParam1, 0, 0 );
                if ((GET_DOES_WEAPON_EXIST( uVar7 )) == 1)
                {
                    uVar8 = GET_WEAPON_TYPE( uVar7 );
                    if ((sub_6937( uVar8 )) == 1)
                    {
                        iVar9 = GET_MAX_AMMO_IN_HAND_CLIP_MP( uParam1, 0 );
                        iVar10 = iParam0->_fU88;
                        if (iVar10 < iVar9)
                        {
                            iVar11 = iVar9 - iVar10;
                            ADD_AMMO_TO_PED( uParam1, uVar8, iVar11, 0 );
                            SET_WEAPON_AMMO_IN_CLIP( uVar7, iVar9 );
                        }
                    }
                }
            }
        }
    }
    sub_7098( iParam0->_fU52 );
    SET_ADRENALINE_AMT( iParam0->_fU32 );
    if (GET_ADRENALINE_AMT() < 0.20000000)
    {
        SET_ADRENALINE_AMT( 0.20000000 );
    }
    SET_PAYNEKILLER_AMT( iParam0->_fU36 );
    SET_PED_DUCKING( sub_781(), 0 );
    GET_TIME_OF_DAY( ref uVar12, ref uVar13 );
    if (iParam0->_fU140 == 1)
    {
        FREEZE_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    else
    {
        RELEASE_TIME_OF_DAY();
        SET_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    SET_PED_SWEAT( uParam1, iParam0->_fU136, -1.00000000 );
    RESTORE_PICKUPS();
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( iParam0->_fU20, 1065353216, 0 );
    SET_GAMEPLAY_CAM_RELATIVE_PITCH( iParam0->_fU24, 1065353216, 0 );
    HANDLE_CHECKPOINT_RESTART();
    if (l_U0)
    {
        ADJUST_AMMO_ATTEMPTS();
        ADJUST_PAIN_KILLERS_ATTEMPTS();
    }
    l_U0 = 1;
    DISPLAY_HUD( 1 );
    if (IS_DEATH_PANEL_WIPE_ALLOWED())
    {
        if (IS_BULLET_CAMERA_WIPE_STOPPED())
        {
            RESUME_BULLET_CAMERA_WIPE_ON_FADEIN();
        }
    }
    sub_350( "GA", "Restoring the player to the checkpoint - End", 0 );
    return;
}

void sub_4430(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    iVar3 = 0;
    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        iVar3 = sub_4462( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, iVar3, 513, uParam0 );
    END_CONTEXT( ref uVar4 );
    return;
}

int sub_4462(unknown uParam0)
{
    if (ARE_STRINGS_EQUAL( uParam0, "s_air" ))
    {
        return 21;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_beach" ))
    {
        return 22;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_boat" ))
    {
        return 10;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_booze" ))
    {
        return 0;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_busdep" ))
    {
        return 17;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_cemet" ))
    {
        return 15;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_club" ))
    {
        return 5;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_clubride" ))
    {
        return 4;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fashion" ))
    {
        return 3;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav0" ))
    {
        return 13;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav1" ))
    {
        return 14;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav2" ))
    {
        return 16;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fire" ))
    {
        return 12;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_hotel" ))
    {
        return 19;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_intro" ))
    {
        return 1;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_marina" ))
    {
        return 9;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc" ))
    {
        return 7;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc2" ))
    {
        return 8;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_office" ))
    {
        return 11;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_pana" ))
    {
        return 18;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_police" ))
    {
        return 20;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_stad" ))
    {
        return 6;
    };;;;;;;;;;;;;;;;;;;;;;
    return 99;
}

void sub_5507(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
        SET_LOAD_COLLISION_FOR_PED_FLAG( uParam0, 1 );
        SET_PED_COORDS_NO_OFFSET( uParam0, uVar3 );
        FREEZE_PED_POSITION( uParam0, 1 );
        REQUEST_COLLISION_AT_COORD( uVar3 );
        if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
        {
            FREEZE_PED_POSITION( uParam0, 0 );
        }
    }
    return;
}

void sub_5799(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's holster MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HOLSTER( uParam0, uParam1, uParam3, uParam2 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
                }
            }
        }
    }
    else
    {
        sub_6115( "[SP]### (F_GivePedWeaponToHolster) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

void sub_6115(unknown uParam0)
{
    return;
}

void sub_6159(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        if (IS_BIT_SET( (uParam1^), I ))
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, IS_BIT_SET( (uParam2^), I ) );
        }
        else
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
        }
    }
    return;
}

void sub_6444(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's hand MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, uParam2, uParam3 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
                }
            }
        }
    }
    else
    {
        sub_6115( "[SP]### (F_GivePedWeapon) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

int sub_6937(unknown uParam0)
{
    int iVar3;

    iVar3 = GET_WEAPONTYPE_AMMO( uParam0 );
    if ((iVar3 == -1383321053) || ((iVar3 == -1295933220) || ((iVar3 == 1138793073) || (iVar3 == -1088031219))))
    {
        return 1;
    }
    return 0;
}

void sub_7098(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        uVar3 = sub_4462( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, uParam0 );
    sub_7170( uVar3 );
    START_CONTEXT( ref uVar4 );
    return;
}

void sub_7170(int iParam0)
{
    if (iParam0 != 3)
    {
        END_CONTEXT( "S_FAS_GG_PT" );
    }
    if (iParam0 != 5)
    {
        END_CONTEXT( "S_CLB_GG_M3" );
        END_CONTEXT( "S_CLB_MS" );
    }
    if (iParam0 != 6)
    {
        END_CONTEXT( "S_STA_GG_M1" );
        END_CONTEXT( "S_STA_GG_M81" );
    }
    if (iParam0 != 7)
    {
        END_CONTEXT( "S_NY1_GG_19" );
    }
    if (iParam0 != 8)
    {
        END_CONTEXT( "S_NY2_GG_40" );
        END_CONTEXT( "S_NY2_GG_M5" );
    }
    if (iParam0 != 9)
    {
        END_CONTEXT( "S_MAR_GG_LM" );
        END_CONTEXT( "S_MAR_GG_9M" );
    }
    if (iParam0 != 11)
    {
        END_CONTEXT( "S_OFF_GG_MD" );
    }
    if (iParam0 != 14)
    {
        END_CONTEXT( "S_FV1_GG_SP" );
        END_CONTEXT( "S_FV1_GG_SA" );
    }
    if (iParam0 != 15)
    {
        END_CONTEXT( "S_NYC_GG_6M" );
        END_CONTEXT( "S_NYC_GG_A9" );
    }
    if (iParam0 != 16)
    {
        END_CONTEXT( "S_FV2_GG_D5" );
        END_CONTEXT( "S_FV2_GG_97" );
    }
    if (iParam0 != 17)
    {
        END_CONTEXT( "S_BUS_GG_M4" );
        END_CONTEXT( "S_BUS_GG_FN" );
    }
    if (iParam0 != 18)
    {
        END_CONTEXT( "S_PAN_GG_AK" );
        END_CONTEXT( "S_PAN_GG_SS" );
    }
    if (iParam0 != 19)
    {
        END_CONTEXT( "S_HOT_GG_G3" );
        END_CONTEXT( "S_HOT_GG_LA" );
    }
    if (iParam0 != 20)
    {
        END_CONTEXT( "S_POL_GG_G6" );
        END_CONTEXT( "S_POL_GG_RP" );
        END_CONTEXT( "S_POL_GG_MP" );
    }
    if (iParam0 != 21)
    {
        END_CONTEXT( "S_AIR_GG_RG" );
        END_CONTEXT( "S_AIR_GG_PD" );
    }
    return;
}

void sub_8476()
{
    unknown uVar2;
    unknown uVar3;
    vector vVar4;
    int I;

    vVar4 = {12.57300000, 5.22200000, 0.00000000};
    switch (l_U136)
    {
        case 1:
        sub_350( "SP", "eCheckpointState = CHECKPOINT_INIT_SCRIPT_DATA", 0 );
        sub_8688();
        sub_9054();
        SET_SCRIPT_CONTROL_RESET_ON_PLAYER_DEATH( 1 );
        l_U136 = 2;
        sub_350( "SP", "eCheckpointState = CHECKPOINT_REQUEST_ASSETS", 0 );
        break;
        case 2:
        sub_350( "SP", "eCheckpointState = CHECKPOINT_REQUEST_ASSETS", 0 );
        sub_10477();
        l_U136 = 3;
        sub_350( "SP", "eCheckpointState = CHECKPOINT_LOAD_ASSETS", 0 );
        break;
        case 3:
        if (sub_11472() == 1)
        {
            l_U136 = 4;
            sub_350( "SP", "eCheckpointState = CHECKPOINT_SETUP_START_POINT", 0 );
            break;
        }
        return;
        case 4:
        sub_350( "SP", "eCheckpointState = CHECKPOINT_SETUP_START_POINT", 0 );
        if (g_U706 < 7)
        {
            sub_12109();
            l_U136 = 7;
            sub_350( "SP", "eCheckpointState = CHECKPOINT_HANDLE_SPAWN_ENEMIES", 0 );
        }
        else
        {
            sub_13563();
            sub_14482();
            sub_19363();
            sub_19675();
            if ((l_U175 == 0) AND (g_U707 == 7))
            {
                l_U175 = 1;
                if ((sub_20497( ref l_U139 )) == 0)
                {
                    sub_6444( sub_781(), g_U1270, 200, 0, 0 );
                }
                l_U136 = 5;
                sub_350( "SP", "eCheckpointState = CHECKPOINT_WAIT_FOR_PLAYER_WEAPON", 0 );
            }
            else
            {
                sub_1686( ref l_U468, 2500, 1, 0 );
                sub_1820( ref l_U468 );
                l_U136 = 6;
                sub_350( "SP", "eCheckpointState = CHECKPOINT_WAIT_FOR_BODIES_TO_SETTLE", 0 );
            }
        }
        break;
        case 5:
        if ((IS_PED_DEAD( sub_781() )) == 0)
        {
            uVar3 = GET_WEAPON_FROM_HAND( sub_781(), 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
            {
                sub_1686( ref l_U468, 2500, 1, 0 );
                sub_1820( ref l_U468 );
                l_U136 = 6;
                sub_350( "SP", "eCheckpointState = CHECKPOINT_WAIT_FOR_BODIES_TO_SETTLE", 0 );
            }
        }
        break;
        case 6:
        if ((sub_1938( ref l_U468 )) == 1)
        {
            l_U136 = 10;
            sub_350( "SP", "eCheckpointState = CHECKPOINT_HANDLE_OPENING_BLENDOUT", 0 );
        }
        break;
        case 7:
        if (sub_13615() == 1)
        {
            l_U136 = 8;
            sub_350( "SP", "eCheckpointState = CHECKPOINT_HANDLE_SPAWN_BODIES", 0 );
        }
        break;
        case 8:
        if (sub_14179() == 1)
        {
            l_U138 = 1;
            l_U136 = 9;
            sub_350( "SP", "eCheckpointState = CHECKPOINT_HANDLE_OPENING_CUTSCENE", 0 );
        }
        break;
        case 9:
        if (sub_21310() == 1)
        {
            l_U526 = 1;
            l_U136 = 10;
            sub_350( "SP", "eCheckpointState = CHECKPOINT_HANDLE_OPENING_BLENDOUT", 0 );
            break;
        }
        return;
        case 10:
        if (sub_23216() == 1)
        {
            if (((IS_VEHICLE_DEAD( g_U1436 )) == 0) AND ((DOES_VEHICLE_EXIST( g_U1436 )) == 1))
            {
                SET_VEHICLE_PROOFS( g_U1436, 1, 1, 1, 1, 1 );
                SET_VEHICLE_CAN_BE_VISIBLY_DAMAGED( g_U1436, 1 );
                FREEZE_VEHICLE_POSITION( g_U1436, 1 );
            }
            if (l_U526 == 0)
            {
                sub_20221( l_U240, l_U241, l_U244 );
                if (((IS_PED_DEAD( l_U240 )) == 0) AND ((DOES_PED_EXIST( l_U240 )) == 1))
                {
                    PED_ACTION_TREE_PLAY_NODE( l_U240, "/Global/HeavyGunner/HeavyGunner_Init" );
                }
            }
            sub_24006();
            sub_24651();
            AUDIO_MUSIC_FORCE_TRACK( "OFFICE_ACTION_SONG_02", "OFFICE_ACTION_2_5_6", "", 1.00000000, 5000, 5000, -1082130432, 0 );
            sub_25162( 1, 0 );
            if (IS_MAGDEMO() == 0)
            {
                sub_25447( ref g_U708[8] );
            }
            if ((l_U139._fU0 == 0) || (g_U706 < 7))
            {
                g_U706 = 7;
                sub_25549( ref l_U139, g_U706, sub_781(), g_U817[7], g_U926[7], g_U963[7], g_U1000[7], 1 );
            }
            if ((IS_PED_DEAD( sub_781() )) == 0)
            {
                SET_PED_INVINCIBLE( sub_781(), 0 );
                SET_PED_PROOFS( sub_781(), 0, 0, 0, 0, 0 );
            }
            sub_29212();
            sub_1686( ref l_U490, 500, 1, 0 );
            sub_1820( ref l_U490 );
            sub_1686( ref l_U499, 1000, 1, 0 );
            sub_1820( ref l_U499 );
            sub_1686( ref l_U508, 2500, 1, 0 );
            sub_1820( ref l_U508 );
            sub_1686( ref l_U517, 4000, 1, 0 );
            sub_1820( ref l_U517 );
            l_U136 = 11;
            sub_350( "SP", "eCheckpointState = CHECKPOINT_HANDLE_GUNNER_FIGHT", 0 );
            break;
        }
        return;
        case 11:
        sub_29516();
        if ((sub_1938( ref l_U490 )) == 1)
        {
            if (IS_SCREEN_FADED_OUT() == 1)
            {
                DO_SCREEN_FADE_IN( 250 );
            }
        }
        if ((sub_1938( ref l_U499 )) == 1)
        {
            if (((IS_PED_DEAD( sub_781() )) == 0) AND ((IS_PLAYER_DEAD( sub_803() )) == 0))
            {
                SET_PED_PROOFS( sub_781(), 0, 0, 0, 0, 0 );
                SET_PED_INVINCIBLE( sub_781(), 0 );
            }
        }
        if ((sub_1938( ref l_U508 )) == 1)
        {
            sub_29812();
        }
        if ((sub_1938( ref l_U517 )) == 1)
        {
            sub_30074();
        }
        if (l_U527 == 0)
        {
            if (((IS_PED_DEAD( l_U278[1] )) == 1) AND ((DOES_PED_EXIST( l_U278[1] )) == 1))
            {
                sub_30380( l_U278[0] );
                l_U527 = 1;
            }
        }
        if (l_U528 == 0)
        {
            if (((IS_PED_DEAD( l_U278[0] )) == 1) AND ((DOES_PED_EXIST( l_U278[0] )) == 1))
            {
                sub_30380( l_U278[1] );
                l_U528 = 1;
            }
        }
        if (l_U529 == 0)
        {
            if (((IS_PED_DEAD( sub_781() )) == 0) AND (((IS_PED_DEAD( l_U240 )) == 0) AND ((DOES_PED_EXIST( l_U240 )) == 1)))
            {
                if ((GET_DISTANCE_BETWEEN_COORDS( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( sub_781() ), "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( l_U240 ), 1 )) < 2.50000000)
                {
                    sub_13880( ref l_U219, l_U240, 1 );
                    sub_13880( ref l_U220, l_U240, 1 );
                    l_U529 = 1;
                }
            }
        }
        if (l_U530 == 0)
        {
            if ((sub_30668( ref l_U278 )) == 0)
            {
                l_U530 = 1;
            }
        }
        if (l_U531 == 0)
        {
            if (sub_30773() == 1)
            {
                for ( I = 0; I < l_U278; I++ )
                {
                    if (((IS_PED_DEAD( l_U278[I] )) == 0) AND ((DOES_PED_EXIST( l_U278[I] )) == 1))
                    {
                        ;
                    }
                }
                if (((IS_PED_DEAD( l_U240 )) == 0) AND ((DOES_PED_EXIST( l_U240 )) == 1))
                {
                    uVar2 = l_U240;
                }
                else
                {
                    uVar2 = sub_31037( ref l_U278 );
                }
                if (((IS_PED_DEAD( uVar2 )) == 0) AND ((DOES_PED_EXIST( uVar2 )) == 1))
                {
                    BULLET_CAMERA_TRACK_UNTIL_GROUNDED( 1 );
                    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 0 );
                    SET_PED_CAN_TRIGGER_BULLET_CAM( uVar2, 1 );
                }
                l_U531 = 1;
            }
        }
        if ((IS_LAST_MAN_STANDING_ACTIVE() == 0) AND (((IS_BULLET_CAMERA_RUNNING( 0 )) == 0) AND (sub_30773() == 0)))
        {
            if (IS_ARCADE_MODE_ACTIVE() == 1)
            {
                DISPLAY_ARCADE_MODE_LEVEL_END( "s_fire" );
                DO_SCREEN_FADE_IN( 0 );
                l_U136 = 14;
                sub_350( "SP", "eCheckpointState = CHECKPOINT_FINISHED", 0 );
            }
            else
            {
                SET_HIGHEST_ARCADE_LEVEL_UNLOCKED( 8 );
                BULLET_CAMERA_TRACK_UNTIL_GROUNDED( 0 );
                ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
                AUDIO_MUSIC_SUSPEND( 8000 );
                sub_31395();
                sub_1686( ref l_U552, 2000, 1, 0 );
                sub_1820( ref l_U552 );
                l_U136 = 12;
                sub_350( "SP", "eCheckpointState = CHECKPOINT_HANDLE_GOTO_ELEVATOR", 0 );
            }
        }
        break;
        case 12:
        sub_31598();
        if ((sub_1938( ref l_U552 )) == 1)
        {
            sub_31951( ref l_U542 );
            sub_32031( 0, sub_781(), "MAX", ref l_U542, 2, 0 );
            sub_32031( 1, sub_781(), "MAX", ref l_U542, 2, 0 );
            sub_32284( "SOFF_ADWGL2", ref l_U542, 8, 1 );
        }
        if ((IS_PED_DEAD( sub_781() )) == 0)
        {
            if ((GET_DISTANCE_BETWEEN_COORDS( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( sub_781() ), vVar4, 1 )) < 10.00000000)
            {
                if (l_U570 == 0)
                {
                    SET_PED_FORCED_TO_WALK( sub_781(), 1 );
                    sub_1686( ref l_U561, 1500, 1, 0 );
                    sub_1820( ref l_U561 );
                    l_U570 = 1;
                }
            }
            else
            {
                SET_PED_FORCED_TO_WALK( sub_781(), 0 );
                sub_2467( ref l_U561 );
                l_U570 = 0;
            }
            if (((sub_1938( ref l_U561 )) == 1) || ((GET_DISTANCE_BETWEEN_COORDS( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( sub_781() ), vVar4, 1 )) < 8.00000000))
            {
                if (IS_MAGDEMO() == 1)
                {
                    DO_SCREEN_FADE_OUT( 0 );
                    BULLET_CAMERA_TRACK_UNTIL_GROUNDED( 0 );
                    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
                    SWITCH_TO_LEVEL_NAME( "s_fire" );
                }
                else
                {
                    g_U1043 = 1;
                }
                l_U136 = 13;
                sub_350( "SP", "eCheckpointState = CHECKPOINT_WAIT_FOR_HANDOFF", 0 );
            }
            else
            {
                return;
            }
            break;
        }
        return;
        case 13:
        if ((CUTSCENE_IS_LOADED( "06_04_office_concat" )) == 1)
        {
            if (GET_CUTSCENE_TIME_MS() > 14620)
            {
                l_U136 = 14;
                sub_350( "SP", "eCheckpointState = CHECKPOINT_FINISHED", 0 );
            }
        }
        break;
        case 14:
        sub_350( "SP", "eCheckpointState = CHECKPOINT_FINISHED", 0 );
        SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
        l_U136 = 0;
        sub_350( "SP", "eCheckpointState = CHECKPOINT_IDLE", 0 );
        break;
    }
    return;
}

void sub_8688()
{
    sub_350( "SP", "P_INIT_SCRIPT_VARIABLES", 0 );
    l_U483[0] = 1023908954;
    l_U483[1] = -117920018;
    l_U483[2] = -980563943;
    l_U483[3] = 590824295;
    l_U483[4] = -1823657596;
    g_U1441[0] = 2077743038;
    g_U1441[1] = -1764999398;
    g_U1441[2] = -1484220333;
    l_U289[0] = {18.08674000, -30.15470000, -0.00023300};
    l_U296[0] = 338.83730000;
    l_U289[1] = {27.52532000, -28.38830000, -0.00023400};
    l_U296[1] = 8.89053600;
    l_U288 = 0;
    l_U467 = 0;
    l_U489 = 0;
    l_U526 = 0;
    l_U527 = 0;
    l_U528 = 0;
    l_U529 = 0;
    l_U530 = 0;
    l_U531 = 0;
    l_U570 = 0;
    sub_2467( ref l_U468 );
    sub_2467( ref l_U490 );
    sub_2467( ref l_U499 );
    sub_2467( ref l_U508 );
    sub_2467( ref l_U517 );
    sub_2467( ref l_U552 );
    sub_2467( ref l_U561 );
    l_U138 = 0;
    return;
}

void sub_9054()
{
    sub_350( "SP", "P_INIT_GAMEPLAY_STRUCTS", 0 );
    sub_9137( ref l_U227, 36.93757000, -29.78766000, -0.00017400, 0.00000000, 1003151468, 7, 3, 2, 0, 0 );
    sub_9137( ref l_U251[0], 36.93757000, -28.78766000, -0.00017400, 0.00000000, 1898966324, 7, 3, 2, 0, 0 );
    sub_9137( ref l_U251[1], 36.93757000, -27.78766000, -0.00017400, 0.00000000, -1169641842, 7, 3, 2, 0, 0 );
    sub_9137( ref l_U299[0], 40.17127000, -12.81712000, 0.00003800, 0.00000000, -1684531295, 7, 3, 2, 0, 0 );
    sub_9137( ref l_U299[1], 40.17127000, -13.81712000, 0.00003800, 0.00000000, -1843388166, 7, 3, 2, 0, 0 );
    sub_9137( ref l_U299[2], 40.17127000, -14.81712000, 0.00003800, 0.00000000, 1047003985, 7, 3, 2, 0, 0 );
    sub_9137( ref l_U299[3], 40.17127000, -15.81712000, 0.00003800, 0.00000000, 749203962, 7, 3, 2, 0, 0 );
    sub_9137( ref l_U299[4], 40.17127000, -16.81712000, 0.00003800, 0.00000000, -1418781641, 7, 3, 2, 0, 0 );
    sub_9137( ref l_U299[5], 40.17127000, -17.81712000, 0.00003800, 0.00000000, 1161560132, 7, 3, 2, 0, 0 );
    sub_9137( ref l_U299[6], 40.17127000, -18.81712000, 0.00003800, 0.00000000, -493387395, 7, 3, 2, 0, 0 );
    sub_9137( ref l_U299[7], 40.17127000, -19.81712000, 0.00003800, 0.00000000, 229382780, 7, 3, 2, 0, 0 );
    sub_9137( ref l_U299[8], 40.17127000, -20.81712000, 0.00003800, 0.00000000, 1898966324, 7, 3, 2, 0, 0 );
    sub_9137( ref l_U299[9], 40.17127000, -21.81712000, 0.00003800, 0.00000000, -1169641842, 7, 3, 2, 0, 0 );
    sub_9137( ref l_U299[10], 40.17127000, -22.81712000, 0.00003800, 0.00000000, 2037011856, 7, 3, 2, 0, 0 );
    sub_9882( ref l_U176, "TRIG_HEAVY_GUNNER_MOVE", 22.17630000, -30.89120000, -0.25635300, 12.00000000, 12.00000000, 5.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_9882( ref l_U197, "TRIG_WRECKED_MONOLOGUE", 23.10000000, -25.48000000, -1.54000000, 23.08000000, 15.33000000, 8.70000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_10117( ref l_U218, "TETH_HEAVY_GUNNER", 22.78000000, -27.79000000, -0.56000000, 7.69000000, 5.76000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_10117( ref l_U219, "TETH_LOBBY_HG_ENEMY_0", 16.46000000, -13.62000000, -0.77000000, 9.00000000, 33.96000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_10117( ref l_U220, "TETH_LOBBY_HG_ENEMY_1", 29.65000000, -13.78000000, -0.77000000, 9.94000000, 33.96000000, 4.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    return;
}

void sub_9137(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU20 = uParam5;
    iParam0->_fU12 = uParam4;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU16 = GET_SCENE_PED_MODEL( uParam5 );
    iParam0->_fU48 = uParam10;
    return;
}

void sub_9882(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    StrCopy( ref iParam0->_fU0, uParam1, 64 );
    iParam0->_fU64 = 0;
    iParam0->_fU68 = 0;
    iParam0->_fU72 = {uParam2};
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 1, iParam0 + 0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

void sub_10117(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    iParam0->_fU0 = uParam1;
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 2, iParam0->_fU0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

void sub_10477()
{
    int I;

    sub_350( "SP", "P_REQUEST_ASSETS", 0 );
    sub_10523( 45140746, 0 );
    sub_10523( 1541666737, 0 );
    sub_10523( g_U1435, 0 );
    for ( I = 0; I < l_U483; I++ )
    {
        sub_10523( l_U483[I], 0 );
    }
    for ( I = 0; I < g_U1441; I++ )
    {
        sub_10523( g_U1441[I], 0 );
    }
    sub_10523( 1286391775, 0 );
    sub_10523( g_U1449, 0 );
    sub_10523( g_U1451, 0 );
    sub_10523( g_U1445, 0 );
    sub_10523( g_U1447, 0 );
    sub_10855( g_U1269, 0 );
    sub_10855( g_U1270, 0 );
    sub_10855( g_U1271, 0 );
    sub_10855( g_U1272, 0 );
    sub_10855( 319712764, 0 );
    sub_10987( "LEVEL_S_OFFICE_CP_04", 0, 0 );
    sub_10987( "AMED_HEVY_CORE", 0, 0 );
    sub_11106( "NPC/BOSS_HeavyGunner", 0 );
    sub_11176( 248, 0 );
    sub_10523( g_U704, 0 );
    if (g_U706 < 7)
    {
        AUDIO_MUSIC_STOP_ONESHOT();
        AUDIO_MUSIC_REQUEST_ONESHOT( "OFFICE_ONE_SHOT_VAN_SLAM", 0 );
        if (((CUTSCENE_NAMED_IS_LOADING( "mid_08_office_pt2" )) == 0) AND ((CUTSCENE_IS_LOADED( "mid_08_office_pt2" )) == 0))
        {
            PRE_STREAM_SEAMLESS_CUTSCENE( "mid_08_office_pt2" );
        }
    }
    return;
}

void sub_10523(unknown uParam0, boolean bParam1)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
        sub_6115( "[SP]### ERROR! (LoadModel) Trying to load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    if (bParam1)
    {
        while ((HAS_MODEL_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_10855(unknown uParam0, boolean bParam1)
{
    REQUEST_WEAPON( uParam0 );
    if (bParam1)
    {
        while ((HAS_WEAPON_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_10987(unknown uParam0, unknown uParam1, int iParam2)
{
    REQUEST_ANIM_DICT( uParam0, uParam1 );
    "[doubled result, dropped if not asigned]";
    if (iParam2 == 1)
    {
        while ((HAS_ANIM_DICT_LOADED( uParam0, uParam1 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_11106(unknown uParam0, int iParam1)
{
    ACTION_TREE_LOAD( uParam0 );
    if (iParam1 == 1)
    {
        while ((IS_ACTION_TREE_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_11176(unknown uParam0, int iParam1)
{
    REQUEST_VEHICLE_RECORDING( uParam0 );
    if (iParam1 == 1)
    {
        while ((HAS_VEHICLE_RECORDING_BEEN_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

int sub_11472()
{
    int I;

    if (((HAS_MODEL_LOADED( 1286391775 )) == 1) AND (((HAS_MODEL_LOADED( g_U1435 )) == 1) AND (((HAS_MODEL_LOADED( 1541666737 )) == 1) AND ((HAS_MODEL_LOADED( 45140746 )) == 1))))
    {
        for ( I = 0; I < l_U483; I++ )
        {
            if ((HAS_MODEL_LOADED( l_U483[I] )) == 0)
            {
                return 0;
            }
        }
        for ( I = 0; I < g_U1441; I++ )
        {
            if ((HAS_MODEL_LOADED( g_U1441[I] )) == 0)
            {
                return 0;
            }
        }
        if (((HAS_VEHICLE_RECORDING_BEEN_LOADED( 248 )) == 1) AND (((IS_ACTION_TREE_LOADED( "NPC/BOSS_HeavyGunner" )) == 1) AND (((HAS_ANIM_DICT_LOADED( "AMED_HEVY_CORE", 0 )) == 1) AND (((HAS_ANIM_DICT_LOADED( "LEVEL_S_OFFICE_CP_04", 0 )) == 1) AND (((HAS_WEAPON_LOADED( 319712764 )) == 1) AND (((HAS_WEAPON_LOADED( g_U1272 )) == 1) AND (((HAS_WEAPON_LOADED( g_U1271 )) == 1) AND (((HAS_WEAPON_LOADED( g_U1270 )) == 1) AND (((HAS_WEAPON_LOADED( g_U1269 )) == 1) AND (((HAS_MODEL_LOADED( g_U704 )) == 1) AND (((HAS_MODEL_LOADED( g_U1451 )) == 1) AND ((HAS_MODEL_LOADED( g_U1449 )) == 1))))))))))))
        {
            if (g_U706 < 7)
            {
                if ((CUTSCENE_IS_LOADED( "mid_08_office_pt2" )) == 1)
                {
                    return 1;
                }
            }
            else
            {
                return 1;
            }
        }
    }
    return 0;
}

void sub_12109()
{
    sub_350( "SP", "P_CREATE_HEAVY_GUNNER", 0 );
    sub_3388( l_U240 );
    l_U240 = sub_12168( ref l_U227 );
    sub_12833( l_U240, ref l_U221 );
    SET_GROUP_LAST_ALIVE_AS_LONE_WOLF( l_U221._fU0, 0 );
    if (((IS_PED_DEAD( l_U240 )) == 0) AND ((DOES_PED_EXIST( l_U240 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U240, "piHeavyGunner" );
        PED_ACTION_TREE_PLAY_NODE( l_U240, "/Global/HeavyGunner/HeavyGunner_Init" );
        FREEZE_PED_POSITION( l_U240, 1 );
        SET_PED_VISIBLE( l_U240, 0 );
        SET_PED_FREEZE_PROCESSING( l_U240, 1 );
        SET_PED_COLLISION( l_U240, 0 );
        SET_PED_PROOFS( l_U240, 1, 1, 1, 1, 1 );
        sub_6444( l_U240, 319712764, 25000, 0, 0 );
    }
    return;
}

void sub_12168(int iParam0)
{
    int iVar3;

    iVar3 = 0;
    if (iParam0->_fU16 == 0)
    {
        if (iParam0->_fU20 != 0)
        {
            iVar3 = GET_SCENE_PED_MODEL( iParam0->_fU20 );
        }
    }
    else
    {
        iVar3 = iParam0->_fU16;
    }
    if ((HAS_MODEL_LOADED( iVar3 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
        sub_10523( iParam0->_fU16, 1 );
    }
    iParam0->_fU40 = CREATE_PED( iParam0->_fU24, iParam0->_fU16, iParam0->_fU0, iParam0->_fU12, 1, iParam0->_fU48 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( iParam0->_fU40, 1 );
        SET_PED_COORDS_NO_OFFSET( iParam0->_fU40, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU40 ) );
        SET_PED_HEADING( iParam0->_fU40, iParam0->_fU12 );
        iParam0->_fU44 = 1;
    }
    else
    {
        SCRIPT_ASSERT( "Error: The ped you created doesn't exist or is dead!", 0 );
    }
    sub_12647( iParam0->_fU40 );
    sub_12727( iParam0->_fU40 );
    return iParam0->_fU40;
}

void sub_12647(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_HEALTH( uParam0, 200, 0 );
        SET_PED_ACCURACY( uParam0, -729479261 );
    }
    return;
}

void sub_12727(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_AI_TEMPLATE( uParam0, "AIT_DEFAULT_GENERIC" );
    }
    return;
}

void sub_12833(unknown uParam0, int iParam1)
{
    int iVar4;
    unknown uVar5;

    if ((DOES_GROUP_EXIST( iParam1->_fU0 )) == 0)
    {
        sub_6115( "[SP]### Warning!!! Group does not exist. Creating new group specified attributes. ###" );
        if (iParam1->_fU4 > 0)
        {
            sub_12976( iParam1, iParam1->_fU4, 0 );
        }
        else
        {
            sub_12976( iParam1, 1056964608, 0 );
        }
    }
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        GET_GROUP_SIZE( iParam1->_fU0, ref iVar4, ref uVar5 );
        if (iVar4 == 0)
        {
            SET_PED_AS_GROUP_LEADER( uParam0, iParam1->_fU0 );
        }
        else
        {
            SET_PED_AS_GROUP_MEMBER( uParam0, iParam1->_fU0 );
        }
        SET_PED_NEVER_LEAVES_GROUP( uParam0, 1 );
    }
    return;
}

void sub_12976(int iParam0, unknown uParam1, boolean bParam2)
{
    iParam0->_fU4 = uParam1;
    iParam0->_fU0 = CREATE_GROUP( 3, 1 );
    if (bParam2)
    {
        while (NOT (DOES_GROUP_EXIST( iParam0->_fU0 )))
        {
            WAIT( 0 );
        }
    }
    SET_GROUP_RATIO_FIRING_AT_VISIBLE( iParam0->_fU0, iParam0->_fU4 );
    SET_GROUP_RATIO_FIRING_AT_INVISIBLE( iParam0->_fU0, iParam0->_fU4 );
    if (iParam0->_fU8)
    {
        SET_GROUP_FORMATION( iParam0->_fU0, iParam0->_fU12 );
        SET_GROUP_FORMATION_SPACING( iParam0->_fU0, iParam0->_fU16 );
        SET_GROUP_FORMATION_MAX_MOVE_SPEED( iParam0->_fU0, iParam0->_fU20 );
    }
    return;
}

void sub_13563()
{
    sub_350( "SP", "P_QUICK_CREATE_ALL_PEDS", 0 );
    sub_12109();
    while (sub_13615() == 0)
    {
        ;
    }
    while (sub_14179() == 0)
    {
        ;
    }
    return;
}

int sub_13615()
{
    int iVar2;

    iVar2 = l_U288;
    sub_3388( l_U278[iVar2] );
    l_U278[iVar2] = sub_12168( ref l_U251[iVar2] );
    if (((IS_PED_DEAD( l_U278[iVar2] )) == 0) AND ((DOES_PED_EXIST( l_U278[iVar2] )) == 1))
    {
        SET_PED_COMBAT_MOVEMENT( l_U278[iVar2], 1 );
        CLEAR_PED_TASKS( l_U278[iVar2] );
        SET_PED_VISIBLE( l_U278[iVar2], 0 );
        FREEZE_PED_POSITION( l_U278[iVar2], 1 );
        SET_PED_FREEZE_PROCESSING( l_U278[iVar2], 1 );
        SET_PED_COLLISION( l_U278[iVar2], 0 );
        SET_PED_PROOFS( l_U278[iVar2], 1, 1, 1, 1, 1 );
        if (iVar2 == 0)
        {
            sub_6444( l_U278[iVar2], g_U1271, 25000, 0, 0 );
            sub_13880( ref l_U219, l_U278[iVar2], 1 );
        }
        else if (iVar2 == 1)
        {
            sub_6444( l_U278[iVar2], g_U1271, 25000, 0, 0 );
            sub_13880( ref l_U220, l_U278[iVar2], 1 );
        }
        l_U288++;
    }
    if (l_U288 == l_U278)
    {
        sub_14060( ref l_U278, "piLobbyHGEnemies" );
        return 1;
    }
    return 0;
}

void sub_13880(int iParam0, unknown uParam1, unknown uParam2)
{
    if (((IS_PED_DEAD( uParam1 )) == 0) AND ((DOES_PED_EXIST( uParam1 )) == 1))
    {
        SET_PED_TETHERING_ADD_BOX( uParam1, iParam0->_fU0 );
        SET_PED_TETHERING_OPTION( uParam1, uParam2 );
    }
    return;
}

void sub_14060(unknown uParam0, unknown uParam1)
{
    int I;
    char[32] cVar5;

    for ( I = 0; I < (uParam0^); I++ )
    {
        if (DOES_PED_EXIST( (uParam0^)[I] ))
        {
            StrCopy( ref cVar5, uParam1, 32 );
            ConcatString(ref cVar5, " ", 32);
            ConcatString(ref cVar5, I, 32);
            SET_PED_NAME_DEBUG( (uParam0^)[I], ref cVar5 );
        }
    }
    return;
}

int sub_14179()
{
    unknown uVar2;

    uVar2 = l_U467;
    sub_3388( l_U443[uVar2] );
    l_U443[uVar2] = sub_12168( ref l_U299[uVar2] );
    if (((IS_PED_DEAD( l_U443[uVar2] )) == 0) AND ((DOES_PED_EXIST( l_U443[uVar2] )) == 1))
    {
        SET_PED_AIM_LOCKONABLE( l_U443[uVar2], 0 );
        SET_PED_CAN_BE_TARGETTED( l_U443[uVar2], 0 );
        FREEZE_PED_POSITION( l_U443[uVar2], 1 );
        SET_PED_VISIBLE( l_U443[uVar2], 0 );
        SET_PED_FREEZE_PROCESSING( l_U443[uVar2], 1 );
        SET_PED_COLLISION( l_U443[uVar2], 0 );
        SET_PED_PROOFS( l_U443[uVar2], 1, 1, 1, 1, 1 );
        l_U467++;
    }
    if (l_U467 == l_U443)
    {
        sub_14060( ref l_U443, "piDeadBodies" );
        return 1;
    }
    return 0;
}

void sub_14482()
{
    sub_350( "SP", "P_CREATE_OTHER_LOBBY_ENTITES", 0 );
    sub_14534();
    sub_14858( 0 );
    sub_15574( 1 );
    sub_16465();
    sub_17124();
    sub_17898();
    sub_18235();
    sub_18722();
    sub_19011();
    sub_19178();
    return;
}

void sub_14534()
{
    vector vVar2;
    float fVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;

    sub_350( "SP", "P_SETUP_RECEPTIONIST", 0 );
    vVar2 = {22.22000000, 0.23000000, -0.00000000};
    fVar5 = -120.00000000;
    sub_9137( ref uVar6, vVar2, fVar5, 1278052404, 26, 6, 0, 0, 1 );
    sub_3388( g_U1430 );
    g_U1430 = sub_12168( ref uVar6 );
    if (((IS_PED_DEAD( g_U1430 )) == 0) AND ((DOES_PED_EXIST( g_U1430 )) == 1))
    {
        SET_ROOM_FOR_PED_BY_NAME( g_U1430, ref g_U1157 );
        sub_14702( g_U1430 );
    }
    return;
}

void sub_14702(unknown uParam0)
{
    sub_350( "SP", "P_SETUP_DEAD_PED", 0 );
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        ENABLE_PED_PAIN( uParam0, 0 );
        OVERRIDE_MOVER_PHYSICS_ON_RAGDOLL_SLEEP( uParam0, 1 );
        SET_PED_CORPSE_FROM_ANIM( uParam0, "DAM_DEAD", "MED_DEAD_POSE_FRONT_01", 1.00000000, 1 );
    }
    return;
}

void sub_14858(int iParam0)
{
    int iVar3;
    int[10] iVar4;
    vector vVar15;
    float fVar18;
    int I;

    sub_350( "SP", "P_SETUP_LOBBY_VAN", 0 );
    iVar3 = 1;
    array(ref iVar4, 10);
    iVar4[1] = 0;
    iVar4[2] = 0;
    iVar4[3] = 1;
    iVar4[4] = 0;
    iVar4[5] = 0;
    iVar4[6] = 0;
    iVar4[7] = 0;
    iVar4[8] = 0;
    iVar4[9] = 1;
    if ((DOES_VEHICLE_EXIST( g_U1436 )) == 0)
    {
        if (iParam0 == 1)
        {
            vVar15 = {-8.44315000, -23.60470000, -0.01607020};
            fVar18 = 0.00000000;
        }
        else
        {
            vVar15 = {22.03460000, -36.79270000, 0.84270000};
            fVar18 = 90.00000000;
        }
        sub_3641( g_U1436 );
        g_U1436 = sub_15076( g_U1435, vVar15, fVar18, 0, 0, 1 );
        if (((IS_VEHICLE_DEAD( g_U1436 )) == 0) AND ((DOES_VEHICLE_EXIST( g_U1436 )) == 1))
        {
            SET_VEHICLE_ENGINE_ON( g_U1436, 1, 1 );
            SET_VEHICLE_IN_CUTSCENE( g_U1436, 1 );
            SET_VEHICLE_CAN_BE_VISIBLY_DAMAGED( g_U1436, 1 );
            SET_VEHICLE_PROOFS( g_U1436, 1, 1, 1, 1, 1 );
            for ( I = 0; I < iVar4; I++ )
            {
                if (I > 0)
                {
                    SET_VEHICLE_EXTRA( g_U1436, I, iVar4[I] );
                }
            }
            SET_VEHICLE_COLOUR_COMBINATION( g_U1436, iVar3 );
            if (iParam0 == 1)
            {
                if ((IS_PLAYBACK_GOING_ON_FOR_VEHICLE( g_U1436 )) == 1)
                {
                    SKIP_TO_END_AND_STOP_PLAYBACK_RECORDED_VEHICLE( g_U1436 );
                }
                FREEZE_VEHICLE_POSITION( g_U1436, 0 );
                START_PLAYBACK_RECORDED_VEHICLE( g_U1436, 159 );
                SKIP_TIME_IN_PLAYBACK_RECORDED_VEHICLE( g_U1436, 1400.00000000 );
                SET_PLAYBACK_SPEED( g_U1436, 0.00000000 );
            }
        }
    }
    return;
}

void sub_15076(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, int iParam5, unknown uParam6, unknown uParam7)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a vehicle with MUST BE PRELOADED!!!!", 0 );
        sub_10523( uParam0, 1 );
    }
    Result = CREATE_VEHICLE( uParam0, uParam1, uParam4, uParam6, uParam7 );
    if (iParam5 == 1)
    {
        while ((DOES_VEHICLE_EXIST( Result )) == 0)
        {
            WAIT( 0 );
        }
    }
    if (DOES_VEHICLE_EXIST( Result ))
    {
        SET_PETROLTANK_BURN_RATE( Result, 125.00000000 );
    }
    return Result;
}

void sub_15574(boolean bParam0)
{
    int[10] iVar3;
    int I;

    sub_350( "SP", "P_SETUP_LOBBY_JEEP", 0 );
    if (bParam0)
    {
        sub_3641( g_U1432 );
        sub_15638( g_U1431 );
        sub_3550( g_U1433 );
        g_U1433 = sub_15822( 1286391775, 19.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        if (DOES_OBJECT_EXIST( g_U1433 ))
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( g_U1433, ref g_U1157 );
            FREEZE_OBJECT_POSITION( g_U1433, 1 );
        }
        STOP_PARTICLE_FX_LOOPED( g_U1434 );
        g_U1434 = START_PARTICLE_FX_LOOPED_AT_COORD( "Ambient_Steam_Giant_S", 16.46000000, 0.47000000, 1.19000000, 0.00000000, 0.00000000, 0.00000000, 1.25000000 );
    }
    else if ((DOES_VEHICLE_EXIST( g_U1432 )) == 0)
    {
        sub_3641( g_U1432 );
        g_U1432 = sub_15076( g_U1431, -12.55610000, -23.51750000, -0.01607020, 0.00000000, 0, 0, 1 );
    }
    if (((IS_VEHICLE_DEAD( g_U1432 )) == 0) AND ((DOES_VEHICLE_EXIST( g_U1432 )) == 1))
    {
        SET_VEHICLE_ENGINE_ON( g_U1432, 1, 1 );
        SET_VEHICLE_PROOFS( g_U1432, 0, 0, 0, 1, 1 );
        SET_VEHICLE_CAN_BE_VISIBLY_DAMAGED( g_U1432, 1 );
        array(ref iVar3, 10);
        iVar3[1] = 1;
        iVar3[2] = 1;
        iVar3[3] = 1;
        iVar3[4] = 1;
        iVar3[5] = 1;
        iVar3[6] = 1;
        iVar3[7] = 1;
        iVar3[8] = 1;
        iVar3[9] = 1;
        for ( I = 0; I < iVar3; I++ )
        {
            if (I > 0)
            {
                SET_VEHICLE_EXTRA( g_U1432, I, iVar3[I] );
            }
        }
        SET_VEHICLE_COLOUR_COMBINATION( g_U1432, 0 );
    }
    return;
}

void sub_15638(unknown uParam0)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 1)
    {
        SET_MODEL_AS_NO_LONGER_NEEDED( uParam0 );
    }
    else
    {
        sub_6115( "[SP]### ERROR! (UnloadModel) Trying to unload a model that isn't in the img! ###" );
    }
    return;
}

void sub_15822(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
        sub_10523( uParam0, 1 );
    }
    Result = CREATE_OBJECT_NO_OFFSET( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

void sub_16465()
{
    sub_350( "SP", "P_CREATE_PLACEMENTS", 0 );
    sub_16512( ref l_U455 );
    l_U455[0] = sub_16614( g_U1276, 18.47000000, -23.67000000, -0.00000000, 80.00000000, 0.00000000, 0.00000000, 0, 0, 0, 1119092736 );
    l_U455[1] = sub_16614( g_U1275, 18.00000000, -29.98000000, -0.00000000, 80.00000000, 0.00000000, 0.00000000, 0, 0, 0, 1119092736 );
    l_U455[2] = sub_16614( g_U1275, 24.07000000, -29.96000000, -0.00000000, 80.00000000, 0.00000000, 0.00000000, 0, 0, 0, 1119092736 );
    l_U455[3] = sub_16614( g_U1276, 27.57000000, -25.34000000, -0.00000000, 80.00000000, 0.00000000, 0.00000000, 0, 0, 0, 1119092736 );
    l_U455[4] = sub_16614( g_U1276, 23.81000000, -18.08000000, -0.00000000, 80.00000000, 0.00000000, 0.00000000, 0, 0, 0, 1119092736 );
    l_U455[5] = sub_16614( g_U1274, 14.91000000, -23.69000000, -0.00000000, 30.00000000, 0.00000000, 0.00000000, 0, 0, 0, 1119092736 );
    l_U455[6] = sub_16614( g_U1276, 14.04000000, -28.21000000, -0.00000000, 80.00000000, 0.00000000, 0.00000000, 0, 0, 0, 1119092736 );
    l_U455[7] = sub_16614( g_U1275, 31.83000000, -27.60000000, -0.00000000, 80.00000000, 0.00000000, 0.00000000, 0, 0, 0, 1119092736 );
    return;
}

void sub_16512(unknown uParam0)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        sub_3949( (uParam0^)[I] );
    }
    return;
}

void sub_16614(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, int iParam8, unknown uParam9, unknown uParam10)
{
    unknown Result;

    Result = CREATE_PLACEMENT_ROTATE( uParam0, uParam1, uParam4, uParam7, 0, uParam9, uParam10 );
    if (iParam8 == 1)
    {
        while ((DOES_PLACEMENT_EXIST( Result )) == 0)
        {
            WAIT( 0 );
        }
    }
    return Result;
}

void sub_17124()
{
    sub_350( "SP", "P_SETUP_LOBBY_GOLDEN_GUN", 0 );
    sub_3949( g_U667._fU0 );
    sub_17184();
    return;
}

void sub_17184()
{
    sub_350( "CO", "P_CREATE_S_OFF_GG_MD_02", 0 );
    sub_17296( ref g_U667, g_U704, 1584164528, 1075558658, 16.01000000, -8.84000000, 1.14000000, 1.50000000, 0.00000000, 1.00000000, "lobby_int_rm" );
    sub_17425( ref g_U667 );
    return;
}

void sub_17296(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    if (NOT IS_ARCADE_MODE_ACTIVE())
    {
        iParam0->_fU4 = uParam1;
        iParam0->_fU8 = uParam2;
        iParam0->_fU12 = uParam3;
        iParam0->_fU16 = {uParam4};
        iParam0->_fU28 = {uParam7};
        StrCopy( ref iParam0->_fU40, uParam10, 32 );
    }
    else
    {
        sub_350( "CO", "NO GOLDEN GUNS FOR ARCADE", 0 );
    }
    return;
}

void sub_17425(int iParam0)
{
    sub_350( "CO", "P_CreateCollectible", 0 );
    if (NOT IS_ARCADE_MODE_ACTIVE())
    {
        if ((sub_17486( iParam0->_fU12 )) == 1)
        {
            sub_350( "CO", "HAS BEEN COLLECTED.", 0 );
        }
        else
        {
            sub_350( "CO", "has never been collected.", 0 );
        }
        if ((sub_17486( iParam0->_fU12 )) == 0)
        {
            sub_3949( iParam0->_fU0 );
            iParam0->_fU0 = sub_16614( iParam0->_fU8, iParam0->_fU16, iParam0->_fU28, 1, 0, 0, 1119092736 );
            if (NOT (IS_STRING_NULL( iParam0 + 40 )))
            {
                if ((DOES_PLACEMENT_EXIST( iParam0->_fU0 )) == 1)
                {
                    sub_350( "CO", "Added collectible to interior", 0 );
                    ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( iParam0->_fU0, iParam0 + 40 );
                }
            }
        }
    }
    else
    {
        sub_350( "CO", "NO GOLDEN GUNS FOR ARCADE", 0 );
    }
    return;
}

int sub_17486(unknown uParam0)
{
    unknown uVar3;
    float fVar4;

    if (IS_COLLECTABLE_ENABLED() == 0)
    {
        return 1;
    }
    uVar3 = uParam0;
    fVar4 = STAT_HASH_GET_FLOAT( uVar3 );
    if (ARE_SP_STATS_LOADED() == 1)
    {
        if ((STAT_HASH_EXISTS( uVar3 )) == 1)
        {
            if (fVar4 > 0.00000000)
            {
                return 1;
            }
        }
    }
    return 0;
}

void sub_17898()
{
    vector[5] vVar2;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    int I;

    sub_350( "SP", "P_CREATE_MPM_STATIC_OBJECTS", 0 );
    array(ref vVar2, 5);
    vVar2[0] = {18.41500000, -23.25000000, -0.47000000};
    vVar2[1] = {24.45900000, -31.13800000, -0.30800000};
    vVar2[2] = {24.45900000, -31.13800000, -0.30800000};
    vVar2[3] = {22.52900000, -34.21800000, -0.00200000};
    vVar2[4] = {18.41500000, -23.25000000, 1.02300000};
    for ( I = 0; I < l_U477; I++ )
    {
        sub_3550( l_U477[I] );
        l_U477[I] = sub_15822( l_U483[I], vVar2[I], 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        if ((DOES_OBJECT_EXIST( l_U477[I] )) == 1)
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U477[I], ref g_U1157 );
            FREEZE_OBJECT_POSITION( l_U477[I], 1 );
        }
    }
    return;
}

void sub_18235()
{
    sub_350( "SP", "P_CREATE_LOBBY_ELEVATOR_DOORS", 0 );
    sub_3550( g_U1446 );
    g_U1446 = sub_18337( g_U1445, 12.66900000, 5.13000000, -0.00400000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if ((DOES_OBJECT_EXIST( g_U1446 )) == 1)
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( g_U1446, ref g_U1157 );
        FREEZE_OBJECT_POSITION( g_U1446, 1 );
    }
    sub_3550( g_U1448 );
    g_U1448 = sub_18337( g_U1447, 12.66900000, 5.13000000, -0.00400000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if ((DOES_OBJECT_EXIST( g_U1448 )) == 1)
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( g_U1448, ref g_U1157 );
        FREEZE_OBJECT_POSITION( g_U1448, 1 );
    }
    return;
}

void sub_18337(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
        sub_10523( uParam0, 1 );
    }
    Result = CREATE_OBJECT( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

void sub_18722()
{
    vector[3] vVar2;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    int I;

    sub_350( "SP", "P_CREATE_LOBBY_BROKEN_DESK", 0 );
    array(ref vVar2, 3);
    vVar2[0] = {23.29300000, -2.15400000, -0.19800000};
    vVar2[1] = {23.43100000, -2.15400000, -0.19800000};
    vVar2[2] = {23.56800000, -2.15400000, -0.19800000};
    for ( I = 0; I < g_U1441; I++ )
    {
        sub_3550( g_U1437[I] );
        g_U1437[I] = sub_15822( g_U1441[I], vVar2[I], 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        if (DOES_OBJECT_EXIST( g_U1437[I] ))
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( g_U1437[I], ref g_U1157 );
            FREEZE_OBJECT_POSITION( g_U1437[I], 1 );
        }
    }
    return;
}

void sub_19011()
{
    sub_350( "SP", "P_CREATE_LOBBY_WALL_BLOCKER", 0 );
    sub_3550( g_U1450 );
    g_U1450 = sub_18337( g_U1449, 22.52900000, -34.21800000, -0.90000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if ((DOES_OBJECT_EXIST( g_U1450 )) == 1)
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( g_U1450, ref g_U1157 );
        FREEZE_OBJECT_POSITION( g_U1450, 1 );
    }
    return;
}

void sub_19178()
{
    sub_350( "SP", "P_CREATE_LOBBY_WALL_BLOCKER_COLLISION", 0 );
    sub_3550( g_U1452 );
    g_U1452 = sub_18337( g_U1451, 22.52900000, -34.21800000, -1.15000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if ((DOES_OBJECT_EXIST( g_U1452 )) == 1)
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( g_U1452, ref g_U1157 );
        FREEZE_OBJECT_POSITION( g_U1452, 1 );
    }
    return;
}

void sub_19363()
{
    int I;

    sub_350( "SP", "P_ACTIVATE_ALL_PEDS", 0 );
    if (((IS_PED_DEAD( l_U240 )) == 0) AND ((DOES_PED_EXIST( l_U240 )) == 1))
    {
        FREEZE_PED_POSITION( l_U240, 0 );
        SET_PED_VISIBLE( l_U240, 1 );
        SET_PED_FREEZE_PROCESSING( l_U240, 0 );
        SET_PED_COLLISION( l_U240, 1 );
        SET_PED_PROOFS( l_U240, 0, 0, 0, 0, 0 );
    }
    for ( I = 0; I < l_U278; I++ )
    {
        if (((IS_PED_DEAD( l_U278[I] )) == 0) AND ((DOES_PED_EXIST( l_U278[I] )) == 1))
        {
            FREEZE_PED_POSITION( l_U278[I], 0 );
            SET_PED_VISIBLE( l_U278[I], 1 );
            SET_PED_FREEZE_PROCESSING( l_U278[I], 0 );
            SET_PED_COLLISION( l_U278[I], 1 );
            SET_PED_PROOFS( l_U278[I], 0, 0, 0, 0, 0 );
        }
    }
    return;
}

void sub_19675()
{
    vector[11] vVar2;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    float[11] fVar36;
    int I;

    sub_350( "SP", "P_ACTIVATE_DEAD_BODIES", 0 );
    array(ref vVar2, 11);
    array(ref fVar36, 11);
    vVar2[0] = {17.22000000, 2.98000000, 0.00000000};
    fVar36[0] = -102.29500000;
    vVar2[1] = {14.61000000, 1.71000000, 0.00000000};
    fVar36[1] = 100.29500000;
    vVar2[2] = {21.06000000, 2.72000000, 0.00000000};
    fVar36[2] = 25.29500000;
    vVar2[3] = {18.47000000, -24.67000000, 1.00000000};
    fVar36[3] = 90.00000000;
    vVar2[4] = {20.66000000, -27.13000000, 1.00000000};
    fVar36[4] = -90.00000000;
    vVar2[5] = {25.07000000, -29.96000000, 1.00000000};
    fVar36[5] = 90.00000000;
    vVar2[6] = {31.26000000, -20.84000000, 1.00000000};
    fVar36[6] = -90.00000000;
    vVar2[7] = {23.81000000, -19.08000000, 1.00000000};
    fVar36[7] = 0.00000000;
    vVar2[8] = {15.94000000, -24.15000000, 1.00000000};
    fVar36[8] = 0.00000000;
    vVar2[9] = {15.04000000, -29.21000000, 1.00000000};
    fVar36[9] = 0.00000000;
    vVar2[10] = {28.01000000, -23.88000000, 1.00000000};
    fVar36[10] = 0.00000000;
    for ( I = 0; I < l_U443; I++ )
    {
        if (((IS_PED_DEAD( l_U443[I] )) == 0) AND ((DOES_PED_EXIST( l_U443[I] )) == 1))
        {
            sub_20221( l_U443[I], vVar2[I], fVar36[I] );
            FREEZE_PED_POSITION( l_U443[I], 0 );
            SET_ROOM_FOR_PED_BY_NAME( l_U443[I], ref g_U1157 );
            SET_PED_VISIBLE( l_U443[I], 1 );
            SET_PED_FREEZE_PROCESSING( l_U443[I], 0 );
            SET_PED_COLLISION( l_U443[I], 1 );
            SET_PED_PROOFS( l_U443[I], 0, 0, 0, 0, 0 );
            sub_14702( l_U443[I] );
            SET_PED_CAN_BE_SNAPPED_TO_GROUND( l_U443[I], 1 );
        }
    }
    return;
}

void sub_20221(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_COORDS( uParam0, uParam1, 1 );
        SET_PED_HEADING( uParam0, uParam4 );
    }
    return;
}

int sub_20497(unknown uParam0)
{
    sub_350( "rw", "HAS_SAVEFILE_LOADED()", 0 );
    if (IS_ARCADE_MODE_ACTIVE())
    {
        return 0;
    }
    if (HAS_LOAD_JUST_OCCURRED())
    {
        if ((GET_CHECKPOINT_SELECTED() == 1) || (GET_CHECKPOINT_SELECTED() == 0))
        {
            return 0;
        }
        else
        {
            l_U0 = 0;
            CHECKPOINT_STORAGE_LOAD( uParam0, l_U1 );
            sub_4246( uParam0, sub_781() );
        }
        if (IS_IN_STORY_MODE())
        {
            START_CONTEXT( "LEVEL" );
        }
        return 1;
    }
    return 0;
}

int sub_21310()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;

    switch (l_U138)
    {
        case 0: break;
        case 1:
        sub_350( "SP", "eOpeningCutsceneState = CUTSCENE_SETUP", 0 );
        l_U138 = 2;
        sub_350( "SP", "eOpeningCutsceneState = CUTSCENE_WAIT_FOR_HANDOFF", 0 );
        break;
        case 2:
        if (g_U1042 == 1)
        {
            sub_3051( 1, 0, 0, 1 );
            l_U138 = 3;
            sub_350( "SP", "eOpeningCutsceneState = CUTSCENE_START", 0 );
            break;
        }
        return 0;
        case 3:
        sub_350( "SP", "eOpeningCutsceneState = CUTSCENE_START", 0 );
        if ((IS_PED_DEAD( sub_781() )) == 0)
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( sub_781(), "player", 0 );
            CUTSCENE_REGISTER_PED_TELEPORT( sub_781(), l_U571, l_U574 );
            CUTSCENE_REGISTER_SET_PLAYER_IN_COVER( "GenCover", "36A681B_64ECDA1F_Corner1", 1, 1 );
            CUTSCENE_SET_COVER_CAMERA_DIRECTION( l_U576, l_U577 );
        }
        if (((IS_PED_DEAD( l_U240 )) == 0) AND ((DOES_PED_EXIST( l_U240 )) == 1))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U240, "M_Crac_Sold_E", 0 );
            CUTSCENE_REGISTER_PED_TELEPORT( l_U240, l_U241, l_U244 );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( l_U240, "/Global/HeavyGunner/HeavyGunner_Init" );
            uVar2 = GET_WEAPON_FROM_HAND( l_U240, 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
            {
                REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar2, "W_MG_21E_Aa_H", 0 );
            }
        }
        if (((IS_PED_DEAD( l_U278[0] )) == 0) AND ((DOES_PED_EXIST( l_U278[0] )) == 1))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U278[0], "M_Crac_Sold_E^1", 0 );
            CUTSCENE_REGISTER_PED_TELEPORT( l_U278[0], l_U289[0], l_U296[0] );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( l_U278[0], "/Global/PLGE/PLGE_Root/PLGE_INITIALIZE_IDLE" );
            uVar3 = GET_WEAPON_FROM_HAND( l_U278[0], 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
            {
                REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar3, "W_SG_M590_Aa_H", 0 );
            }
        }
        if (((IS_PED_DEAD( l_U278[1] )) == 0) AND ((DOES_PED_EXIST( l_U278[1] )) == 1))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U278[1], "M_Crac_Sold_E^3", 0 );
            CUTSCENE_REGISTER_PED_TELEPORT( l_U278[1], l_U289[1], l_U296[1] );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( l_U278[1], "/Global/PLGE/PLGE_Root/PLGE_INITIALIZE_IDLE" );
            uVar4 = GET_WEAPON_FROM_HAND( l_U278[1], 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar4 )) == 1)
            {
                REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar4, "W_AR_97LC_Aa_H", 0 );
            }
        }
        if ((DOES_VEHICLE_EXIST( g_U1436 )) == 1)
        {
            STOP_PLAYBACK_RECORDED_VEHICLE( g_U1436 );
            FREEZE_VEHICLE_POSITION( g_U1436, 1 );
            REGISTER_VEHICLE_PRE_SEAMLESS_CUTSCENE( g_U1436, "van_nyc", 0 );
        }
        START_SEAMLESS_CUTSCENE();
        l_U138 = 4;
        sub_350( "SP", "eOpeningCutsceneState = CUTSCENE_FIRST_FRAME", 0 );
        break;
        case 4:
        sub_350( "SP", "eOpeningCutsceneState = CUTSCENE_FIRST_FRAME", 0 );
        sub_14482();
        sub_19363();
        sub_19675();
        if (((IS_VEHICLE_DEAD( g_U1436 )) == 0) AND ((DOES_VEHICLE_EXIST( g_U1436 )) == 1))
        {
            FREEZE_VEHICLE_POSITION( g_U1436, 0 );
        }
        if ((IS_PED_DEAD( sub_781() )) == 0)
        {
            SET_PED_PROOFS( sub_781(), 1, 1, 1, 1, 1 );
            SET_PED_INVINCIBLE( sub_781(), 1 );
        }
        BULLET_CAMERA_TRACK_UNTIL_GROUNDED( 0 );
        ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
        l_U138 = 5;
        sub_350( "SP", "eOpeningCutsceneState = CUTSCENE_PLAYING", 0 );
        case 5:
        if (HAS_CUTSCENE_FINISHED() == 0)
        {
            if (l_U489 == 0)
            {
                if (GET_CUTSCENE_TIME_MS() >= 1500)
                {
                    AUDIO_MUSIC_PLAY_ONESHOT();
                    l_U489 = 1;
                }
            }
        }
        else if (((IS_VEHICLE_DEAD( g_U1436 )) == 0) AND ((DOES_VEHICLE_EXIST( g_U1436 )) == 1))
        {
            SET_VEHICLE_COORDS( g_U1436, 22.03460000, -36.79270000, 0.84270000 );
            FREEZE_VEHICLE_POSITION( g_U1436, 1 );
        }
        if (((CUTSCENE_NAMED_IS_LOADING( "mid_08_office_pt2" )) == 1) || ((CUTSCENE_IS_LOADED( "mid_08_office_pt2" )) == 1))
        {
            CLEAR_NAMED_CUTSCENE( "mid_08_office_pt2" );
        }
        l_U138 = 0;
        sub_350( "SP", "eOpeningCutsceneState = CUTSCENE_IDLE", 0 );
        return 1;;
        break;
    }
    return 0;
}

int sub_23216()
{
    if (((IS_PED_DEAD( sub_781() )) == 0) AND ((IS_PLAYER_DEAD( sub_803() )) == 0))
    {
        sub_23265( ref g_U1383, 1 );
        sub_23468( ref g_U1383, 1 );
        sub_23265( ref g_U1390, 1 );
        sub_23468( ref g_U1390, 1 );
        if ((IS_PED_IN_COVER( sub_781() )) == 0)
        {
            sub_20221( sub_781(), l_U571, l_U574 );
            SNAP_PLAYER_TO_COVERPOINT( sub_803(), "GenCover", "36A681B_64ECDA1F_Corner1", 1 );
            SET_PED_PROOFS( sub_781(), 1, 1, 1, 1, 1 );
            SET_PED_INVINCIBLE( sub_781(), 1 );
            SET_GAMEPLAY_CAM_RELATIVE_HEADING( l_U576, 1065353216, 0 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U577, 1065353216, 0 );
            if (IS_DEATH_PANEL_WIPE_ALLOWED())
            {
                DO_SCREEN_FADE_IN( 0 );
            }
        }
    }
    return 1;
}

void sub_23265(int iParam0, int iParam1)
{
    if ((sub_23277( iParam0 )) == 0)
    {
        sub_23343( iParam0 );
    }
    if (iParam1 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, 0.00000000 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, 0.00000000 );
    }
    else
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, 0.00000000 );
    }
    return;
}

int sub_23277(int iParam0)
{
    int iVar3;

    iVar3 = DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS( iParam0->_fU4, 1.00000000, iParam0->_fU0 );
    if (iVar3 == 1)
    {
        return 1;
    }
    return 0;
}

void sub_23343(unknown uParam0)
{
    (uParam0^) = {(uParam0^)};
    return;
}

void sub_23468(int iParam0, int iParam1)
{
    int iVar4;
    float fVar5;

    if ((sub_23277( iParam0 )) == 0)
    {
        sub_23343( iParam0 );
    }
    if (iParam1 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, 0.00000000 );
    }
    else
    {
        iVar4 = 0;
        fVar5 = 0.00000000;
        GET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, ref iVar4, ref fVar5 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar5 );
    }
    return;
}

void sub_24006()
{
    sub_350( "SP", "P_ACTIVATE_HEAVY_GUNNER", 0 );
    if (((IS_PED_DEAD( sub_781() )) == 0) AND (((IS_PED_DEAD( l_U240 )) == 0) AND ((DOES_PED_EXIST( l_U240 )) == 1)))
    {
        SET_PED_FREEZE_PROCESSING( l_U240, 0 );
        SET_PED_VISIBLE( l_U240, 1 );
        FREEZE_PED_POSITION( l_U240, 0 );
        SET_PED_COLLISION( l_U240, 1 );
        SET_PED_PROOFS( l_U240, 0, 0, 0, 0, 0 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U240, 0 );
        SET_PED_AI_TEMPLATE( l_U240, "AIT_CP_HEAVY_GNR" );
        SET_PED_REQUIRE_HEADSHOT_TO_KILL( l_U240, 1 );
        SET_PED_PANIC_RANGE_OVERRIDE( l_U240, 2.00000000 );
        SET_PED_IGNORE_LOS_CHECKS( l_U240, 1 );
        SET_PED_FLAG_BLOCK_WOUNDED_MOVEMENT( l_U240, 1 );
        SET_PED_ALLOWED_TO_KNEEL_AND_FIRE( l_U240, 0 );
        SET_PED_ONLY_DAMAGED_BY_PLAYER( l_U240, 1 );
        SET_PED_GORE_FROM_PLAYER( l_U240, 0 );
        SET_PED_CAN_BE_MELEED( l_U240, 0 );
        SET_PED_NO_RAGDOLL_TO_BULLET_UNLESS_DEAD( l_U240, 1 );
        SET_PED_COMBAT_ATTRIBUTES( l_U240, 8192, 0 );
        SET_PED_COMBAT_ATTRIBUTES( l_U240, 1, 0 );
        SET_PED_COMBAT_ATTRIBUTES( l_U240, 128, 0 );
        SET_PED_COMBAT_ATTRIBUTES( l_U240, 524288, 0 );
        SET_PED_COMBAT_ATTRIBUTES( l_U240, 1024, 0 );
        SET_PED_COMBAT_ATTRIBUTES( l_U240, 1048576, 0 );
        SET_PED_HEALTH( l_U240, 600, 0 );
        SET_PED_BOSS_PECENT_DAMAGED( l_U240, 1 );
        SET_BOSS_PECENT_DAMAGE( 0.25000000 );
        SET_HELMET_KNOCK_OFF_HEALTH( l_U240, 500 );
        SET_BULLET_CAM_PREF( l_U240, "ALL_LMS_16", "ALL_02_MED_FAILSAFE", "ALL_01_FAR_FAILSAFE", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
        SET_PED_ALERTNESS( l_U240, 4 );
        REGISTER_TARGET( l_U240, sub_781() );
        CLEAR_PED_TASKS( l_U240 );
        TASK_COMBAT_PED( l_U240, sub_781() );
        sub_13880( ref l_U218, l_U240, 1 );
    }
    return;
}

void sub_24651()
{
    int I;

    sub_350( "SP", "P_ACTIVATE_GUNNER_ENEMIES", 0 );
    for ( I = 0; I < l_U278; I++ )
    {
        if (((IS_PED_DEAD( l_U278[I] )) == 0) AND ((DOES_PED_EXIST( l_U278[I] )) == 1))
        {
            sub_20221( l_U278[I], l_U289[I], l_U296[I] );
            sub_24800( l_U278[I] );
            SET_PED_COMBAT_ATTRIBUTES( l_U278[I], 1, 1 );
            SET_PED_COMBAT_ATTRIBUTES( l_U278[I], 1024, 1 );
            SET_PED_COMBAT_ATTRIBUTES( l_U278[I], 8192, 1 );
            SET_PED_RELATIONSHIP( l_U278[I], 2, 0 );
            SET_PED_IGNORE_LOS_CHECKS( l_U278[I], 1 );
            SET_PED_ALERTNESS( l_U278[I], 4 );
            if ((IS_PED_DEAD( sub_781() )) == 0)
            {
                REGISTER_TARGET( l_U278[I], sub_781() );
                TASK_COMBAT_PED( l_U278[I], sub_781() );
            }
        }
    }
    return;
}

void sub_24800(unknown uParam0)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_FREEZE_PROCESSING( uParam0, 0 );
        SET_PED_VISIBLE( uParam0, 1 );
        SET_PED_VISIBLE_DURING_SEQUENCE( uParam0, 1 );
        FREEZE_PED_POSITION( uParam0, 0 );
        SET_PED_COLLISION( uParam0, 1 );
        SET_PED_PROOFS( uParam0, 0, 0, 0, 0, 0 );
    }
    return;
}

void sub_25162(boolean bParam0, boolean bParam1)
{
    SET_WIDESCREEN_BORDERS( 0, 500 );
    DISPLAY_HUD( 1 );
    if (NOT (IS_PED_DEAD( sub_781() )))
    {
        SET_PLAYER_CONTROL( sub_803(), 1, 0 );
        SET_PED_INVINCIBLE( sub_781(), 0 );
        if (bParam0)
        {
            sub_25243();
        }
    }
    PULSE_CROSSHAIR( 1 );
    if (bParam1)
    {
        DESTROY_ALL_CAMS();
    }
    return;
}

void sub_25243()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD( sub_781() )) == 0)
    {
        uVar2 = GET_WEAPON_FROM_HAND( sub_781(), 0, 0 );
        uVar3 = GET_WEAPON_FROM_HAND( sub_781(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
        {
            uVar4 = GET_MAX_AMMO_IN_HAND_CLIP_MP( sub_781(), 0 );
            SET_WEAPON_AMMO_IN_CLIP( uVar2, uVar4 );
        }
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            uVar5 = GET_MAX_AMMO_IN_HAND_CLIP_MP( sub_781(), 1 );
            SET_WEAPON_AMMO_IN_CLIP( uVar3, uVar5 );
        }
    }
    return;
}

void sub_25447(int iParam0)
{
    iParam0->_fU36 = 1;
    return;
}

void sub_25549(int iParam0, int iParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, int iParam9)
{
    int iVar12;
    int iVar13;
    int iVar14;
    int iVar15;
    int iVar16;

    sub_350( "GA", "Saving the player data for checkpoint - Start", 0 );
    if ((IS_PED_DEAD( uParam2 )) == 0)
    {
        sub_350( "SP", "Saving to scripted data...", 0 );
        RESET_CHECKPOINT_ATTEMPTS();
        if (SCRIPT_VAR_EXISTS( "SV_SAVE_CNT" ))
        {
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", (SCRIPT_VAR_GET_INT( "SV_SAVE_CNT" )) + 1 );
        }
        else
        {
            SCRIPT_VAR_ADD_INT( "SV_SAVE_CNT" );
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", 1 );
        }
        sub_7098( iParam1 );
        sub_25808( iParam1 );
        iParam0->_fU52 = iParam1;
        iParam0->_fU4 = {uParam3};
        iParam0->_fU16 = uParam6;
        iParam0->_fU20 = uParam7;
        iParam0->_fU24 = uParam8;
        iParam0->_fU28 = GET_PED_HEALTH( uParam2 );
        iParam0->_fU56 = -1569615261;
        iParam0->_fU60 = -1569615261;
        iParam0->_fU64 = -1569615261;
        iParam0->_fU68 = -1569615261;
        iParam0->_fU72 = -1569615261;
        iParam0->_fU76 = 0;
        iParam0->_fU80 = 0;
        iParam0->_fU84 = 0;
        iParam0->_fU88 = 0;
        iParam0->_fU92 = 0;
        iVar12 = GET_WEAPON_FROM_HAND( uParam2, 0, 0 );
        iVar13 = GET_WEAPON_FROM_HAND( uParam2, 1, 0 );
        iVar14 = GET_WEAPON_FROM_HOLSTER( uParam2, 0 );
        iVar15 = GET_WEAPON_FROM_HOLSTER( uParam2, 1 );
        iVar16 = GET_WEAPON_FROM_HOLSTER( uParam2, 2 );
        if (GET_DOES_WEAPON_EXIST( iVar12 ))
        {
            iParam0->_fU68 = GET_WEAPON_TYPE( iVar12 );
            iParam0->_fU88 = (GET_WEAPON_AMMO( iVar12 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar12 ));
            sub_26259( iVar12, iParam0 + 120, iParam0 + 124 );
        }
        if (GET_DOES_WEAPON_EXIST( iVar13 ))
        {
            iParam0->_fU72 = GET_WEAPON_TYPE( iVar13 );
            iParam0->_fU92 = (GET_WEAPON_AMMO( iVar13 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar13 ));
            sub_26259( iVar13, iParam0 + 128, iParam0 + 132 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_26491( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar13 ) ))
                {
                    iParam0->_fU92 = GET_WEAPON_AMMO_IN_CLIP( iVar12 );
                }
            }
        }
        if ((iVar14 != iVar13) AND ((iVar14 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar14 ))))
        {
            iParam0->_fU56 = GET_WEAPON_TYPE( iVar14 );
            iParam0->_fU76 = (GET_WEAPON_AMMO( iVar14 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar14 ));
            sub_26259( iVar14, iParam0 + 96, iParam0 + 100 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_26491( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if (sub_26491( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
        }
        if ((iVar15 != iVar13) AND ((iVar15 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar15 ))))
        {
            iParam0->_fU60 = GET_WEAPON_TYPE( iVar15 );
            iParam0->_fU80 = (GET_WEAPON_AMMO( iVar15 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar15 ));
            sub_26259( iVar15, iParam0 + 104, iParam0 + 108 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_26491( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if (sub_26491( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if (sub_26491( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
        }
        if ((iVar16 != iVar13) AND ((iVar16 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar16 ))))
        {
            iParam0->_fU64 = GET_WEAPON_TYPE( iVar16 );
            iParam0->_fU84 = (GET_WEAPON_AMMO( iVar16 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar16 ));
            sub_26259( iVar16, iParam0 + 112, iParam0 + 116 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_26491( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if (sub_26491( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if (sub_26491( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar15 ))
            {
                if (sub_26491( GET_WEAPON_TYPE( iVar15 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
        }
        SAVE_PICKUPS();
        iParam0->_fU32 = GET_ADRENALINE_AMT();
        iParam0->_fU36 = GET_PAYNEKILLER_AMT();
        GET_TIME_OF_DAY( iParam0 + 40, iParam0 + 44 );
        iParam0->_fU140 = IS_TIME_OF_DAY_FROZEN();
        iParam0->_fU136 = GET_PED_SWEAT( uParam2 );
        if (iParam9 == 1)
        {
            if (IS_MAGDEMO() == 0)
            {
                ENABLE_CHECKPOINT_ICON();
            }
        }
        if (iParam1 >= 0)
        {
            sub_28049( iParam0 );
            iParam0->_fU0 = 1;
            if (IS_ARCADE_MODE_ACTIVE() == 0)
            {
                CHECKPOINT_STORAGE_SAVE( iParam0, l_U1, iParam0->_fU52 );
                REQUEST_SAVE();
            }
        }
        if (IS_ARCADE_MODE_ACTIVE())
        {
            UPDATE_ARCADE_CHECK_POINT( iParam0->_fU52 );
        }
    }
    else
    {
        SCRIPT_ASSERT( "Error: Player is dead while saving a checkpoint!!!", 0 );
    }
    sub_350( "GA", "Saving the player data for checkpoint - End", 0 );
    return;
}

void sub_25808(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (iParam0 >= 0)
    {
        if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
        {
            uVar3 = sub_4462( ref uVar20 );
        }
        STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, iParam0 - 1 );
        sub_350( "TEH", "Ending context", 0 );
        sub_350( "TEH", "Ending context", 0 );
        END_CONTEXT( ref uVar4 );
    }
    return;
}

void sub_26259(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        CLEAR_BIT( uParam1, I );
        CLEAR_BIT( uParam2, I );
        if (IS_WEAPON_ATTACHMENT_ENABLED( uParam0, I ))
        {
            SET_BIT( uParam1, I );
            if (IS_WEAPON_ATTACHMENT_TOGGLED( uParam0, I ))
            {
                SET_BIT( uParam2, I );
            }
        }
    }
    return;
}

void sub_26491(int iParam0, int iParam1)
{
    int Result;

    Result = 0;
    if ((iParam0 == -612753081) || ((iParam0 == 68019059) || ((iParam0 == 456708483) || ((iParam0 == -862236369) || (iParam0 == 406496141)))))
    {
        if ((iParam1 == -612753081) || ((iParam1 == 68019059) || ((iParam1 == 456708483) || ((iParam1 == -862236369) || (iParam1 == 406496141)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 724901397) || ((iParam0 == 57534114) || ((iParam0 == 1308526797) || ((iParam0 == -1074756423) || (iParam0 == -1013714740)))))
    {
        if ((iParam1 == 724901397) || ((iParam1 == 57534114) || ((iParam1 == 1308526797) || ((iParam1 == -1074756423) || (iParam1 == -1013714740)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 514118749) || ((iParam0 == -184942895) || ((iParam0 == -168327769) || ((iParam0 == 1845102363) || (iParam0 == 434544317)))))
    {
        if ((iParam1 == 514118749) || ((iParam1 == -184942895) || ((iParam1 == -168327769) || ((iParam1 == 1845102363) || (iParam1 == 434544317)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -110877124) || (iParam0 == 319712764))
    {
        if ((iParam1 == -110877124) || (iParam1 == 319712764))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -1464892298) || ((iParam0 == 1194438308) || ((iParam0 == -1404433099) || ((iParam0 == 1478009203) || ((iParam0 == -691403429) || (iParam0 == 1964270085))))))
    {
        if ((iParam1 == -1464892298) || ((iParam1 == 1194438308) || ((iParam1 == -1404433099) || ((iParam1 == 1478009203) || ((iParam1 == -691403429) || (iParam1 == 1964270085))))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 10648147) || (iParam0 == 1224272620))
    {
        if ((iParam1 == 10648147) || (iParam1 == 1224272620))
        {
            Result = 1;
        }
    };;;;;;
    return Result;
}

void sub_28049(int iParam0)
{
    sub_6115( "CHECKPOINT DATA" );
    sub_28088( iParam0->_fU4 );
    sub_28111( iParam0->_fU16 );
    sub_28111( iParam0->_fU20 );
    sub_28111( iParam0->_fU24 );
    sub_28154( iParam0->_fU28 );
    sub_28154( iParam0->_fU56 );
    sub_28154( iParam0->_fU60 );
    sub_28154( iParam0->_fU64 );
    sub_28154( iParam0->_fU68 );
    sub_28154( iParam0->_fU72 );
    sub_28154( iParam0->_fU76 );
    sub_28154( iParam0->_fU80 );
    sub_28154( iParam0->_fU84 );
    sub_28154( iParam0->_fU88 );
    sub_28154( iParam0->_fU92 );
    sub_28111( iParam0->_fU32 );
    sub_28154( iParam0->_fU36 );
    sub_28154( iParam0->_fU40 );
    sub_28154( iParam0->_fU44 );
    sub_28111( iParam0->_fU136 );
    sub_28359( iParam0->_fU140 );
    sub_28154( iParam0->_fU52 );
    sub_6115( "---nRightHolsterAttachmentEnabled: " );
    sub_28154( iParam0->_fU96 );
    sub_6115( "---nRightHolsterAttachmentToggled: " );
    sub_28154( iParam0->_fU100 );
    sub_6115( "---nLeftHolsterAttachmentEnabled: " );
    sub_28154( iParam0->_fU104 );
    sub_6115( "---nLeftHolsterAttachmentToggled: " );
    sub_28154( iParam0->_fU108 );
    sub_6115( "---nRifleHolsterAttachmentEnabled: " );
    sub_28154( iParam0->_fU112 );
    sub_6115( "---nRifleHolsterAttachmentToggled: " );
    sub_28154( iParam0->_fU116 );
    sub_6115( "---nRightHandAttachmentEnabled: " );
    sub_28154( iParam0->_fU120 );
    sub_6115( "---nRightHandAttachmentToggled: " );
    sub_28154( iParam0->_fU124 );
    sub_6115( "---nLeftHandAttachmentEnabled: " );
    sub_28154( iParam0->_fU128 );
    sub_6115( "---nLeftHandAttachmentToggled: " );
    sub_28154( iParam0->_fU132 );
    sub_28154( l_U1 );
    sub_28154( 144 );
    return;
}

void sub_28088(unknown uParam0, unknown uParam1, unknown uParam2)
{
    return;
}

void sub_28111(unknown uParam0)
{
    return;
}

void sub_28154(unknown uParam0)
{
    return;
}

void sub_28359(boolean bParam0)
{
    if (bParam0)
    {
        ;
    }
    return;
}

void sub_29212()
{
    sub_350( "CCB", "P_START_SP_CHALLENGES", 0 );
    sub_350( "CCB", "Starting the Office_Lobby_Gun context...", 0 );
    START_CONTEXT( "Office_Lobby_Gun" );
    return;
}

void sub_29516()
{
    unknown uVar2;
    int iVar3;
    int I;

    iVar3 = 0;
    for ( I = 0; I < l_U278; I++ )
    {
        if (((IS_PED_DEAD( l_U278[I] )) == 0) AND ((DOES_PED_EXIST( l_U278[I] )) == 1))
        {
            uVar2 = GET_WEAPON_FROM_HAND( l_U278[I], 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
            {
                iVar3 = GET_WEAPON_AMMO( uVar2 );
                if (iVar3 < 200)
                {
                    SET_WEAPON_AMMO( uVar2, 25000 );
                }
            }
        }
    }
    return;
}

void sub_29812()
{
    unknown uVar2;

    sub_350( "SP", "P_LOBBY_HG_ENEMY_0_ADVANCE", 0 );
    if (((IS_PED_DEAD( sub_781() )) == 0) AND (((IS_PED_DEAD( l_U278[0] )) == 0) AND ((DOES_PED_EXIST( l_U278[0] )) == 1)))
    {
        CLEAR_PED_TASKS( l_U278[0] );
        OPEN_SEQUENCE_TASK( ref uVar2 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
        TASK_GO_TO_COORD_WHILE_AIMING_AT_PED( 0, 14.25000000, -21.94000000, -0.00000000, sub_781(), 3, 0, 0.50000000, 0.00000000, 1, 0 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        TASK_COMBAT_PED( 0, sub_781() );
        CLOSE_SEQUENCE_TASK( uVar2 );
        TASK_PERFORM_SEQUENCE( l_U278[0], uVar2 );
        CLEAR_SEQUENCE_TASK( uVar2 );
    }
    return;
}

void sub_30074()
{
    unknown uVar2;

    sub_350( "SP", "P_LOBBY_HG_ENEMY_1_ADVANCE", 0 );
    if (((IS_PED_DEAD( sub_781() )) == 0) AND (((IS_PED_DEAD( l_U278[1] )) == 0) AND ((DOES_PED_EXIST( l_U278[1] )) == 1)))
    {
        CLEAR_PED_TASKS( l_U278[1] );
        OPEN_SEQUENCE_TASK( ref uVar2 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
        TASK_GO_TO_COORD_WHILE_AIMING_AT_PED( 0, 30.23000000, -22.77000000, -0.00000000, sub_781(), 3, 0, 0.50000000, 0.00000000, 1, 0 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        TASK_COMBAT_PED( 0, sub_781() );
        CLOSE_SEQUENCE_TASK( uVar2 );
        TASK_PERFORM_SEQUENCE( l_U278[1], uVar2 );
        CLEAR_SEQUENCE_TASK( uVar2 );
    }
    return;
}

void sub_30380(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        RESET_PED_TETHERING( uParam0 );
    }
    return;
}

void sub_30668(unknown uParam0)
{
    int Result;
    int I;
    int iVar5;

    Result = 0;
    iVar5 = (uParam0^) - 1;
    for ( I = 0; I <= iVar5; I++ )
    {
        if (NOT (IS_PED_DEAD( (uParam0^)[I] )))
        {
            Result++;
        }
    }
    return Result;
}

void sub_30773()
{
    int Result;
    int I;

    Result = 0;
    if (((IS_PED_DEAD( l_U240 )) == 0) AND ((DOES_PED_EXIST( l_U240 )) == 1))
    {
        Result++;
    }
    for ( I = 0; I < l_U278; I++ )
    {
        if (((IS_PED_DEAD( l_U278[I] )) == 0) AND ((DOES_PED_EXIST( l_U278[I] )) == 1))
        {
            Result++;
        }
    }
    return Result;
}

void sub_31037(unknown uParam0)
{
    int I;

    if ((sub_30668( uParam0 )) == 1)
    {
        for ( I = 0; I <= ((uParam0^) - 1); I++ )
        {
            if (NOT (IS_PED_DEAD( (uParam0^)[I] )))
            {
                if (NOT (GET_PED_CAN_TRIGGER_BULLET_CAM( (uParam0^)[I] )))
                {
                    SET_PED_CAN_TRIGGER_BULLET_CAM( (uParam0^)[I], 1 );
                    return (uParam0^)[I];
                }
            }
        }
    }
    return nil;
}

void sub_31395()
{
    sub_350( "SP", "P_RESET_MAX_CONTEXTUAL_DIALOGUE", 0 );
    l_U114 = 0;
    l_U134 = 0;
    l_U135 = 0;
    l_U133 = 0;
    sub_2467( ref l_U124 );
    sub_2467( ref l_U115 );
    return;
}

void sub_31598()
{
    int iVar2;
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    float fVar7;
    float fVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    int iVar12;

    if (l_U114 == 0)
    {
        sub_1686( ref l_U115, 6000, 1, 0 );
        sub_1820( ref l_U115 );
        l_U114 = 1;
    }
    if (((IS_PED_DEAD( g_U1424 )) == 0) AND (((DOES_PED_EXIST( g_U1424 )) == 1) AND ((IS_PED_DEAD( sub_781() )) == 0)))
    {
        if ((sub_31740() == 0) AND ((TIME_SINCE_LAST_MONOLOGUE() > 1000) AND ((IS_MONOLOGUE_PLAYING() == 0) AND ((IS_LAST_MAN_STANDING_ACTIVE() == 0) AND ((IS_BULLET_CAMERA_RUNNING( 0 )) == 0)))))
        {
            if ((l_U115._fU16 == 1) || ((sub_1938( ref l_U115 )) == 1))
            {
                if (((CAN_PED_SEE_OTHER_PED( g_U1424, sub_781(), 130.00000000, 15.00000000 )) == 1) AND (IS_PLAYER_SHOOTDODGING() == 1))
                {
                    sub_350( "SP", "Should be playing shootdodge Dialogue", 0 );
                    iVar2 = GET_RANDOM_INT_IN_RANGE( 0, 2 );
                    if (iVar2 == 0)
                    {
                        sub_31951( ref l_U31 );
                        sub_32031( 0, sub_781(), "MAX", ref l_U31, 2, 0 );
                        sub_32031( 1, g_U1424, "M6_Offi_Tech_Avg_01", ref l_U31, 2, 0 );
                        sub_32284( "SOFF_MXSDGS", ref l_U31, 7, 1 );
                    }
                    else
                    {
                        sub_31951( ref l_U41 );
                        sub_32031( 0, sub_781(), "MAX", ref l_U41, 2, 0 );
                        sub_32031( 1, g_U1424, "M6_Offi_Tech_Avg_01", ref l_U41, 2, 0 );
                        sub_32284( "SOFF_MXMSSRN", ref l_U41, 7, 1 );
                    }
                    sub_1686( ref l_U115, 6000, 1, 0 );
                    sub_1820( ref l_U115 );
                }
                if ((HAS_BULLET_IMPACTED_IN_AREA( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( g_U1424 ), 30.00000000, ref iVar3 )) == 1)
                {
                    if (iVar3 == sub_781())
                    {
                        uVar4 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_BULLET_IMPACT_AREA( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( g_U1424 ), 30.00000000, ref iVar3 )};
                        fVar7 = VDIST( uVar4, 0.00000000, 0.00000000, 0.00000000 );
                        if (fVar7 > 0.00000000)
                        {
                            fVar8 = VDIST( uVar4, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( g_U1424 ) );
                            if (fVar8 > 8.00000000)
                            {
                                sub_31951( ref l_U51 );
                                sub_32031( 0, sub_781(), "MAX", ref l_U51, 2, 0 );
                                sub_32031( 1, g_U1424, "M6_Offi_Tech_Avg_01", ref l_U51, 2, 0 );
                                sub_32284( "SOFF_MXPLYRS", ref l_U51, 7, 1 );
                                sub_1686( ref l_U115, 6000, 1, 0 );
                                sub_1820( ref l_U115 );
                            }
                        }
                    }
                }
            }
        }
    }
    if ((IS_PED_DEAD( sub_781() )) == 0)
    {
        if ((sub_31740() == 0) AND ((TIME_SINCE_LAST_MONOLOGUE() > 1000) AND ((IS_MONOLOGUE_PLAYING() == 0) AND ((IS_LAST_MAN_STANDING_ACTIVE() == 0) AND ((IS_BULLET_CAMERA_RUNNING( 0 )) == 0)))))
        {
            uVar9 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( sub_781() )};
            if ((VDIST( uVar9, l_U111 )) > 0.10000000)
            {
                sub_2467( ref l_U124 );
            }
            else if ((l_U124._fU16 == 0) AND (l_U124._fU20 == 0))
            {
                sub_1686( ref l_U124, 35000, 1, 0 );
                sub_1820( ref l_U124 );
            }
            if ((l_U124._fU16 == 1) || ((sub_1938( ref l_U124 )) == 1))
            {
                if ((g_U706 == 2) || (g_U706 == 1))
                {
                    if (l_U133 < 4)
                    {
                        iVar12 = GET_RANDOM_INT_IN_RANGE( 0, 2 );
                        if (iVar12 == 0)
                        {
                            sub_31951( ref l_U61 );
                            sub_32031( 0, sub_781(), "MAX", ref l_U61, 2, 0 );
                            sub_32031( 1, sub_781(), "MAX", ref l_U61, 2, 0 );
                            sub_32284( "SOFF_MVPRSRV", ref l_U61, 7, 1 );
                        }
                        else
                        {
                            sub_31951( ref l_U71 );
                            sub_32031( 0, sub_781(), "MAX", ref l_U71, 2, 0 );
                            sub_32031( 1, g_U1424, "M6_Offi_Tech_Avg_01", ref l_U71, 2, 0 );
                            sub_32284( "SOFF_MXSTPDS", ref l_U71, 7, 1 );
                        }
                        l_U133++;
                    }
                }
                else if (g_U706 == 5)
                {
                    if (l_U133 < 4)
                    {
                        sub_31951( ref l_U81 );
                        sub_32031( 0, sub_781(), "MAX", ref l_U81, 2, 0 );
                        sub_32031( 1, sub_781(), "MAX", ref l_U81, 2, 0 );
                        sub_32284( "SOFF_MVPSTSRV", ref l_U81, 7, 1 );
                        l_U133++;
                    }
                }
                else if (g_U706 == 7)
                {
                    if (l_U133 < 2)
                    {
                        sub_31951( ref l_U91 );
                        sub_32031( 0, sub_781(), "MAX", ref l_U91, 2, 0 );
                        sub_32031( 1, sub_781(), "MAX", ref l_U91, 2, 0 );
                        sub_32284( "SOFF_MVPSTLBY", ref l_U91, 7, 1 );
                        l_U133++;
                    }
                };;;
                sub_1686( ref l_U124, 35000, 1, 0 );
                sub_1820( ref l_U124 );
            }
            l_U111 = {uVar9};
        }
    }
    if (l_U134 == 0)
    {
        l_U135 = GET_PAYNEKILLER_AMT();
        l_U134 = 1;
    }
    if ((IS_PED_DEAD( sub_781() )) == 0)
    {
        if ((sub_31740() == 0) AND ((TIME_SINCE_LAST_MONOLOGUE() > 1000) AND ((IS_MONOLOGUE_PLAYING() == 0) AND ((IS_LAST_MAN_STANDING_ACTIVE() == 0) AND ((IS_BULLET_CAMERA_RUNNING( 0 )) == 0)))))
        {
            if (l_U135 < GET_PAYNEKILLER_AMT())
            {
                sub_350( "SP", "Playing Pills Monologue", 0 );
                sub_31951( ref l_U101 );
                sub_32031( 0, sub_781(), "MAX", ref l_U101, 2, 0 );
                sub_32031( 1, sub_781(), "MAX", ref l_U101, 2, 0 );
                sub_32284( "SOFF_MXFNDPLS", ref l_U101, 7, 1 );
            }
        }
    }
    l_U135 = GET_PAYNEKILLER_AMT();
    return;
}

void sub_31740()
{
    int Result;
    int I;

    Result = 0;
    for ( I = 0; I <= 3; I++ )
    {
        Result = (IS_SCRIPTED_CONVERSATION_ONGOING( I )) || (Result);
    }
    return Result;
}

void sub_31951(int iParam0)
{
    iParam0->_fU4 = -1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = 0;
    iParam0->_fU32 = 0;
    iParam0->_fU36 = 0;
    return;
}

void sub_32031(int iParam0, unknown uParam1, unknown uParam2, int iParam3, unknown uParam4, unknown uParam5)
{
    if (iParam3->_fU32)
    {
        ;
    }
    else if (iParam3->_fU36 == 0)
    {
        iParam3->_fU36 = 1;
        iParam3->_fU4 = CREATE_NEW_SCRIPTED_CONVERSATION( uParam4 );
        if (iParam3->_fU4 == -1)
        {
            iParam3->_fU32 = 1;
        }
    }
    if ((iParam0 < 9) AND ((iParam0 >= 0) AND ((iParam3->_fU4 < 4) AND (iParam3->_fU4 >= 0))))
    {
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU0 = uParam1;
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU4 = GET_HASH_KEY( uParam2 );
        if (NOT (IS_PED_INJURED( uParam1 )))
        {
            SET_PED_CAN_PLAY_AMBIENT_ANIMS( uParam1, uParam5 );
        }
    }
    return;
}

void sub_32284(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return sub_32308( uParam0, ref g_U157._fU0, uParam1, uParam2, uParam3 );
}

void sub_32308(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    StrCopy( ref cVar11[0], uParam0, 16 );
    StrCopy( ref cVar11[1], "END", 16 );
    return sub_32363( ref cVar11, uParam2, uParam3, 0, 0, 0, 0, ref cVar7, uParam4 );
}

int sub_32363(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    int I;
    unknown uVar12;
    unknown uVar13;

    if (iParam1->_fU4 == -1)
    {
        return 0;
    }
    iParam1->_fU0 = uParam2;
    if (NOT (sub_32398( iParam1 )))
    {
        return 0;
    }
    uVar12 = iParam1->_fU4;
    uVar13 = GET_HASH_KEY( ref (uParam0^)[0] );
    iParam1->_fU16 = uVar13;
    SET_CONVERSATION_CHECK_HASH( uVar12, uVar13 );
    g_U157._fU132 = 0;
    iParam1->_fU24 = 0;
    iParam1->_fU28 = uParam5;
    if (bParam3)
    {
        if (iParam1->_fU20)
        {
            iParam1->_fU20 = 0;
        }
    }
    else
    {
        iParam1->_fU20 = 0;
        if (bParam4)
        {
            iParam1->_fU12 = uParam6;
            iParam1->_fU20 = 0;
        }
        else
        {
            iParam1->_fU12 = 0;
            iParam1->_fU20 = 0;
        }
    }
    iParam1->_fU24 = bParam4;
    for ( I = 0; I <= 24; I++ )
    {
        StrCopy( ref g_U233[uVar12][I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        g_U233[uVar12][I] = {(uParam0^)[I]};
    }
    g_U192[uVar12] = {(iParam1^)};
    sub_32892( ref g_U16[uVar12], ref g_U157 );
    StrCopy( ref g_U16[uVar12]._fU0, uParam7, 16 );
    g_U16[uVar12]._fU136 = uParam8;
    g_U11[iParam1->_fU4] = 1;
    return 1;
}

int sub_32398(int iParam0)
{
    switch (g_U11[iParam0->_fU4])
    {
        case 1:
        case 2:
        return 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING( iParam0->_fU4 ))
    {
        if (g_U1[iParam0->_fU4] > iParam0->_fU0)
        {
            return 0;
        }
        STOP_SCRIPTED_CONVERSATION( iParam0->_fU4, 0, 0 );
    }
    g_U1[iParam0->_fU4] = iParam0->_fU0;
    g_U6[iParam0->_fU4]++;
    if (g_U6[iParam0->_fU4] > 100000)
    {
        g_U6[iParam0->_fU4] = 1;
    }
    iParam0->_fU8 = g_U6[iParam0->_fU4];
    return 1;
}

void sub_32892(int iParam0, int iParam1)
{
    int I;

    iParam0->_fU0 = {iParam1->_fU0};
    for ( I = 0; I <= 8; I++ )
    {
        iParam0->_fU92[I] = iParam1->_fU92[I];
    }
    iParam0->_fU132 = iParam1->_fU132;
    iParam0->_fU136 = iParam1->_fU136;
    return;
}

void sub_35163()
{
    int I;

    sub_350( "SP", "P_UNLOAD_ASSETS", 0 );
    sub_15638( 45140746 );
    sub_15638( 1541666737 );
    sub_15638( g_U1435 );
    sub_15638( 1286391775 );
    for ( I = 0; I < l_U477; I++ )
    {
        sub_15638( l_U483[I] );
    }
    for ( I = 0; I < g_U1441; I++ )
    {
        sub_15638( g_U1441[I] );
    }
    sub_15638( g_U1449 );
    sub_15638( g_U1451 );
    sub_15638( -475261383 );
    sub_15638( 1974746367 );
    sub_35369( g_U1269 );
    sub_35369( g_U1270 );
    sub_35369( g_U1271 );
    sub_35369( g_U1272 );
    sub_35369( 319712764 );
    sub_35459( "LEVEL_S_OFFICE_CP_04" );
    sub_35459( "AMED_HEVY_CORE" );
    sub_35544( "LEVEL/S_OFFICE/S_OFF_HEAVYGUNNER" );
    sub_35544( "LEVEL/S_OFFICE/S_OFF_MPM_DEAD_SEC" );
    sub_15638( g_U704 );
    sub_35626( 248 );
    return;
}

void sub_35369(unknown uParam0)
{
    SET_WEAPON_AS_NO_LONGER_NEEDED( uParam0 );
    return;
}

void sub_35459(unknown uParam0)
{
    REMOVE_ANIM_DICT( uParam0, 0 );
    return;
}

void sub_35544(unknown uParam0)
{
    ACTION_TREE_UNLOAD( uParam0 );
    return;
}

void sub_35626(unknown uParam0)
{
    REMOVE_VEHICLE_RECORDING( uParam0 );
    return;
}

