void main()
{
    unknown uVar2;

    l_U0 = 0;
    l_U1 = 1;
    l_U2 = 0;
    l_U3 = 1.00000000;
    l_U4 = -5.00000000;
    l_U5 = 0;
    l_U6 = 0;
    l_U7 = 0;
    l_U11 = 42;
    l_U12 = 0;
    l_U13 = 0;
    l_U14 = 0;
    l_U15 = 0;
    l_U16 = 0;
    l_U17 = 90.00000000;
    l_U18 = {0.00000000, 0.00000000, 0.00000000};
    l_U21 = {0.00000000, 0.00000000, 0.00000000};
    l_U24 = 0;
    l_U25 = 0;
    l_U26 = 0;
    l_U27 = 0;
    l_U28 = 0;
    l_U29 = 0;
    l_U30 = nil;
    l_U31 = {0.00000000, 0.00000000, 0.00000000};
    l_U34 = 0;
    l_U35 = 0;
    l_U36 = 0;
    l_U37 = "PED_DEF";
    l_U79 = 1.00000000;
    l_U91 = 0;
    l_U132 = 0;
    l_U377 = {-3.48000000, -304.07700000, -0.32500000};
    l_U380 = 65446;
    l_U381 = 0;
    l_U382 = 0;
    l_U411 = {-4.74000000, -313.49800000, -0.30000000};
    l_U414 = {-4.84600000, -312.80200000, -0.30000000};
    l_U417 = "S_NYBAR_VIG_01B";
    l_U418 = 0;
    l_U419 = 0;
    l_U420 = 0;
    l_U435 = 0;
    l_U436 = 0;
    l_U437 = 0;
    l_U511 = 0;
    l_U513 = "BLEND_OUT_04_01_NYBAR_CAM";
    l_U514 = "LEVEL_S_NYBAR_04_01_BLENDOUT";
    l_U763 = 100;
    l_U770 = 0;
    l_U785 = {-13.00000000, -321.25000000, -0.90000000};
    l_U788 = 2;
    l_U789 = 0;
    l_U790 = 0;
    l_U791 = 2;
    l_U792 = 0;
    l_U793 = "S_NYBAR_VIG_08B";
    l_U794 = "S_NYBAR_VIG_08B_2";
    l_U795 = 0;
    l_U796 = 0;
    l_U797 = 0.05000000;
    l_U799 = {-72.80000000, -330.72000000, 0.66828200};
    l_U802 = 235.61600000;
    l_U804 = {-76.93280000, -326.41900000, 0.69412400};
    l_U807 = 320.59000000;
    l_U964 = 0;
    l_U979 = {-60.52000000, -341.10000000, 3.59000000};
    l_U982 = 90.00000000;
    l_U983 = 0;
    l_U984 = 0;
    l_U985 = 0;
    l_U986 = 0;
    l_U987 = 0;
    l_U988 = 0;
    l_U989 = 0;
    l_U990 = 0;
    l_U1005 = {-0.78600000, -307.34800000, -0.28000000};
    l_U1008 = 56.78000000;
    l_U1009 = {-0.78600000, -300.00000000, -0.28000000};
    l_U1012 = {-0.78600000, -312.00000000, -0.28000000};
    l_U1015 = 0.00000000;
    l_U1017 = 926579125;
    l_U1018 = {-0.78600000, -306.40000000, 3.77400000};
     /* WRITESCRIPTLOG */ sub_933( "SP", "Script s_nyc_iSequences is starting...", "###" );
     /* SETUP_SCRIPTED_SPEECH */ sub_1061( "SNYCAUD" );
    uVar2 =  /* F_GIVEPEDWEAPON */ sub_1328(  /* PLAYER_PED_ID */ sub_1224(), 456708483, 200, 0, 1 );
    l_U381 = 0;
    l_U418 = 0;
     /* LOADANIMDICT */ sub_1800( "ny_wtanim", 0, 1 );
     /* INIT_VIGNETTE_08B */ sub_1966();
     /* CREATE_RAG_WIDGETS */ sub_2643();
     /* P_FADE_IN_AND_WAIT */ sub_5130( 1000 );
    while (NOT IS_EXITFLAG_SET())
    {
         /* HANDLE_FAN_TEST */ sub_5297();
         /* HANDLE_VIGNETTES */ sub_8531();
         /* HANDLE_BLENDOUT_04_01A */ sub_23951();
        WAIT( 0 );
    }
     /* CLEANUPFANTEST */ sub_34889();
     /* UNLOADANIMDICT */ sub_23012( "ny_wtanim" );
    SET_EXITFLAG_RESPONSE();
     /* WRITESCRIPTLOG */ sub_933( "SP", "Script s_nyc_iSequences is terminating...", "###" );
    return;
}

/* WRITESCRIPTLOG */ void sub_933(unknown uParam0, unknown uParam1, string sParam2)
{
    unknown uVar5;

    if (IS_STRING_NULL( sParam2 ))
    {
        sParam2 = "###";
    }
    uVar5 = GET_REAL_GAME_TIMER();
    DISPLAYF( "[{0}][{1}]{3} {2} {3}", 4, 513, uVar5, 1537, uParam0, 1537, uParam1, 1537, sParam2 );
    return;
}

/* SETUP_SCRIPTED_SPEECH */ void sub_1061(unknown uParam0)
{
    StrCopy( ref g_U157._fU0, uParam0, 16 );
     /* CLEARPEDCONVERSATIONDATA */ sub_1105();
    return;
}

/* CLEARPEDCONVERSATIONDATA */ void sub_1105()
{
    int I;

    for ( I = 0; I <= 8; I++ )
    {
        g_U157._fU16[I]._fU0 = nil;
        g_U157._fU16[I]._fU4 = 0;
        g_U157._fU92[I] = 0;
    }
    return;
}

/* PLAYER_PED_ID */ int sub_1224()
{
    if (DOES_MAIN_PLAYER_EXIST())
    {
        return GET_PLAYER_PED(  /* PLAYER_ID */ sub_1262() );
    }
    return 0;
}

/* PLAYER_ID */ void sub_1262()
{
    return GET_PLAYER_ID();
}

/* F_GIVEPEDWEAPON */ void sub_1328(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's hand MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, uParam2, uParam3 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
                    DISPLAYF( "[SP]### Waiting for a weapon to exist: {} ###", 1, 513, uParam1 );
                }
            }
        }
    }
    else
    {
         /* WRITE_STRING */ sub_1713( "[SP]### (F_GivePedWeapon) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

/* WRITE_STRING */ void sub_1713(unknown uParam0)
{
    PRINTSTRING( uParam0 );
    PRINTNL();
    return;
}

/* LOADANIMDICT */ void sub_1800(unknown uParam0, unknown uParam1, int iParam2)
{
    REQUEST_ANIM_DICT( uParam0, uParam1 );
    "[doubled result, dropped if not asigned]";
    if (iParam2 == 1)
    {
        while ((HAS_ANIM_DICT_LOADED( uParam0, uParam1 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an animation dictionary to be loaded: {} ###", 1, 1537, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* INIT_VIGNETTE_08B */ void sub_1966()
{
     /* WRITESCRIPTLOG */ sub_933( "SBA", "INIT_VIGNETTE_08B", "***" );
     /* INIT_ENEMY_VIGNETTE_08B */ sub_2091( ref l_U824[0], "GMED3", -73.24000000, -329.98000000, 0.50000000, -0.25000000, -0.10000000, 0.25000000, 240, -1305081679 );
     /* INIT_ENEMY_VIGNETTE_08B */ sub_2091( ref l_U824[1], "GMED", -73.66000000, -330.74000000, 0.50000000, 0.25000000, -0.10000000, 0.25000000, 215, -584940451 );
     /* INIT_ENEMY_VIGNETTE_08B */ sub_2091( ref l_U824[2], "GMED1", -74.52000000, -329.97000000, 0.50000000, 0.25000000, -1.00000000, 0.25000000, 215, -2014166497 );
    l_U808[0] = -1;
    l_U808[1] = 0;
    l_U808[2] = 2;
     /* SET_BOOL_ARRAY */ sub_2341( ref l_U816, 0 );
     /* INIT_ENEMY_VIGNETTE_08B */ sub_2091( ref l_U894[0], "GMED7", -77.19000000, -326.27000000, 1.00000000, 0.00000000, 0.00000000, 0.00000000, 335.60000000, -101589531 );
     /* INIT_ENEMY_VIGNETTE_08B */ sub_2091( ref l_U894[1], "GMED4", -76.77000000, -326.67000000, 1.00000000, 0.00000000, 0.00000000, 0.00000000, 335.60000000, 1709395105 );
     /* INIT_ENEMY_VIGNETTE_08B */ sub_2091( ref l_U894[2], "GMED6", -77.83000000, -327.00000000, 1.00000000, 0.00000000, 0.00000000, 0.00000000, 335.60000000, -60018057 );
    l_U812[0] = -1;
    l_U812[1] = 0;
    l_U812[2] = 1;
     /* SET_BOOL_ARRAY */ sub_2341( ref l_U820, 0 );
    return;
}

/* INIT_ENEMY_VIGNETTE_08B */ void sub_2091(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
    iParam0->_fU56 = uParam1;
    iParam0->_fU60 = {uParam2};
    iParam0->_fU72 = {uParam5};
    iParam0->_fU84 = uParam8;
    iParam0->_fU88 = uParam9;
    return;
}

/* SET_BOOL_ARRAY */ void sub_2341(unknown uParam0, unknown uParam1)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        (uParam0^)[I] = uParam1;
    }
    return;
}

/* CREATE_RAG_WIDGETS */ void sub_2643()
{
    int I;

     /* WRITESCRIPTLOG */ sub_933( "RJM", "CREATE_RAG_WIDGETS for S_NYC iSequences", 0 );
    START_WIDGET_GROUP( "Interactive Sequence Helper" );
    START_WIDGET_GROUP( "04_01A_BLENDOUT - New intro where Max kills Tony" );
     /* P_ADD_ISEQUENCE_WIDGETS */ sub_2851( ref l_U255, g_U2253[0]._fU0, g_U2253[0]._fU12, 1 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "VIGNETTE 01 - Passos 1st and 2nd cover position" );
     /* P_ADD_ISEQUENCE_WIDGETS */ sub_2851( ref l_U264, -0.41721500, -307.33160000, -0.28099500, 87.02755000, 0 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3123( ref l_U377, "VIG_01 Passos Position", 0.00100000 );
    ADD_WIDGET_FLOAT_SLIDER( "VIG_01 Passos Rotation", ref l_U380, 65176, 360, 1 );
    ADD_WIDGET_BOOL( "Send action intention", ref l_U382 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "VIGNETTE 01B - Bartender and Frightened Girl" );
     /* P_ADD_ISEQUENCE_WIDGETS */ sub_2851( ref l_U273, -0.41721500, -307.33160000, -0.28099500, 87.02755000, 0 );
    ADD_WIDGET_BOOL( "Make Bar Girl Talk", ref l_U419 );
    ADD_WIDGET_BOOL( "Bake Bartender Talk", ref l_U420 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3123( ref l_U411, "Bar Girl", 0.00100000 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3123( ref l_U414, "Bartender", 0.00100000 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "VIGNETTE 03 - Basement Caller" );
     /* P_ADD_ISEQUENCE_WIDGETS */ sub_2851( ref l_U282, 4.18293800, -324.44150000, -4.20173900, 36.74372000, 0 );
    ADD_WIDGET_BOOL( "Send action intention", ref l_U436 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "VIGNETTE 06 - Chatty Cathy Thugs" );
     /* P_ADD_ISEQUENCE_WIDGETS */ sub_2851( ref l_U291, g_U2253[4]._fU0, g_U2253[4]._fU12, 0 );
    ADD_WIDGET_BOOL( "trigger alert npc 0", ref l_U764[0] );
    ADD_WIDGET_BOOL( "trigger alert npc 1", ref l_U764[1] );
    ADD_WIDGET_BOOL( "trigger alert npc 2", ref l_U764[2] );
    ADD_WIDGET_BOOL( "trigger alert npc 3", ref l_U764[3] );
    ADD_WIDGET_BOOL( "trigger alert npc 4", ref l_U764[4] );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "VIGNETTE 07 - Passos in stairwell" );
     /* P_ADD_ISEQUENCE_WIDGETS */ sub_2851( ref l_U300, g_U2253[4]._fU0, g_U2253[4]._fU12, 0 );
     /* P_ADD_WIDGET_PED_POSITION */ sub_4239( "Passos", ref l_U785, ref l_U788 );
    ADD_WIDGET_BOOL( "Start Battle", ref l_U789 );
    ADD_WIDGET_BOOL( "Start Vig07B", ref l_U790 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "VIGNETTE 07B - Passos through parking lot" );
     /* P_ADD_ISEQUENCE_WIDGETS */ sub_2851( ref l_U309, g_U2253[4]._fU0, g_U2253[4]._fU12, 0 );
     /* P_ADD_WIDGET_PED_POSITION */ sub_4239( "Passos", ref g_U2440, ref l_U792 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "VIGNETTE 08 - Passos in alley" );
     /* P_ADD_ISEQUENCE_WIDGETS */ sub_2851( ref l_U318, -29.61805000, -327.10050000, 0.06031800, 36.74372000, 0 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "VIGNETTE 08B - Final Two Carloads of Enemies" );
     /* P_ADD_ISEQUENCE_WIDGETS */ sub_2851( ref l_U327, -29.61805000, -327.10050000, 0.06031800, 89.40000000, 0 );
    ADD_WIDGET_BOOL( "Task Peds Leave Cars", ref l_U796 );
    ADD_WIDGET_FLOAT_SLIDER( "Car Door Ratio", ref l_U797, 0, 1, 0.01000000 );
     /* P_ADD_WIDGET_PED_POSITION */ sub_4239( "First Car", ref l_U799, ref l_U802 );
     /* P_ADD_WIDGET_PED_POSITION */ sub_4239( "Second Car", ref l_U804, ref l_U807 );
    for ( I = 0; I <= (l_U824 - 1); I++ )
    {
         /* P_ADD_WIDGET_PED_POSITION */ sub_4239( l_U824[I]._fU56, ref l_U824[I]._fU60, ref l_U824[I]._fU84 );
    }
    for ( I = 0; I <= (l_U894 - 1); I++ )
    {
         /* P_ADD_WIDGET_PED_POSITION */ sub_4239( l_U894[I]._fU56, ref l_U894[I]._fU60, ref l_U894[I]._fU84 );
    }
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "VIGNETTE 09 - Passos parkour" );
     /* P_ADD_ISEQUENCE_WIDGETS */ sub_2851( ref l_U336, -29.61805000, -327.10050000, 0.06031800, 90, 0 );
     /* P_ADD_WIDGET_PED_POSITION */ sub_4239( "Passos", ref l_U979, ref l_U982 );
    ADD_WIDGET_BOOL( "Make Passos Shoot", ref l_U983 );
    STOP_WIDGET_GROUP();
    STOP_WIDGET_GROUP();
    return;
}

/* P_ADD_ISEQUENCE_WIDGETS */ void sub_2851(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, boolean bParam5)
{
    iParam0->_fU0 = 0;
    iParam0->_fU4 = 0;
    iParam0->_fU12 = 0;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = {uParam1};
    iParam0->_fU32 = uParam4;
    ADD_WIDGET_BOOL( "Teleport player", iParam0 + 0 );
    if (bParam5)
    {
        ADD_WIDGET_BOOL( "Create Object No Anim", iParam0 + 8 );
    }
    ADD_WIDGET_BOOL( "Loop Sequence", iParam0 + 16 );
    ADD_WIDGET_BOOL( "Start Sequence", iParam0 + 4 );
    ADD_WIDGET_BOOL( "Kill Sequence", iParam0 + 12 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3123( iParam0 + 20, "Player Teleport Position", 1036831949 );
    ADD_WIDGET_FLOAT_SLIDER( "Player Teleport Heading", iParam0 + 32, 65176, 360, 0.50000000 );
    return;
}

/* P_ADD_WIDGET_VECTOR_SLIDER */ void sub_3123(int iParam0, unknown uParam1, unknown uParam2)
{
    START_WIDGET_GROUP( uParam1 );
    ADD_WIDGET_FLOAT_SLIDER( "x", iParam0 + 0, 60536, 5000, uParam2 );
    ADD_WIDGET_FLOAT_SLIDER( "y", iParam0 + 4, 60536, 5000, uParam2 );
    ADD_WIDGET_FLOAT_SLIDER( "z", iParam0 + 8, 60536, 5000, uParam2 );
    STOP_WIDGET_GROUP();
    return;
}

/* P_ADD_WIDGET_PED_POSITION */ void sub_4239(unknown uParam0, unknown uParam1, unknown uParam2)
{
    START_WIDGET_GROUP( uParam0 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3123( uParam1, "Ped Position", 1036831949 );
    ADD_WIDGET_FLOAT_SLIDER( "Ped Heading", uParam2, -360.00000000, 360.00000000, 1.00000000 );
    STOP_WIDGET_GROUP();
    return;
}

/* P_FADE_IN_AND_WAIT */ void sub_5130(unknown uParam0)
{
    if ((IS_SCREEN_FADING_IN() == 0) AND (IS_SCREEN_FADED_IN() == 0))
    {
        DO_SCREEN_FADE_IN( uParam0 );
        while (IS_SCREEN_FADED_IN() == 0)
        {
            DISPLAYF( "[SP]### Waiting for screen to fade in... ###", 0 );
            WAIT( 0 );
        }
    }
    return;
}

/* HANDLE_FAN_TEST */ void sub_5297()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    int iVar5;

    if (NOT l_U984)
    {
         /* WRITESCRIPTLOG */ sub_933( "SBA", "Starting HANDLE_FAN_TEST...", "***" );
        START_WIDGET_GROUP( "Falling Ceiling Fan Test" );
        ADD_WIDGET_BOOL( "Teleport Player to Test Location", ref l_U986 );
        ADD_WIDGET_BOOL( "Reset Test", ref l_U985 );
        ADD_WIDGET_BOOL( "Drop the Fan", ref l_U988 );
         /* P_ADD_WIDGET_PED_POSITION */ sub_4239( "Victim Position", ref l_U1005, ref l_U1008 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3123( ref l_U1018, "Ceiling Fan Location", 1036831949 );
        START_WIDGET_GROUP( "Pathing Test" );
        ADD_WIDGET_BOOL( "Do Pathing Test", ref l_U989 );
        ADD_WIDGET_BOOL( "Avoid Objects?", ref l_U990 );
         /* P_ADD_WIDGET_PED_POSITION */ sub_4239( "Path Start Position", ref l_U1009, ref l_U1015 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3123( ref l_U1012, "Path Finish Location", 1036831949 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
         /* LOADMODEL */ sub_5759( l_U1017, 1 );
         /* LOADMODEL */ sub_5759( g_U2248, 1 );
        l_U984 = 1;
    }
    if (l_U986)
    {
         /* WRITESCRIPTLOG */ sub_933( "SBA", "Teleporting player to Bar...", "***" );
         /* P_FADE_OUT_AND_WAIT */ sub_6082( 1000 );
        if (NOT l_U987)
        {
            uVar2 = GET_HASH_KEY( ref g_U2473 );
            uVar3 = GET_INTERIOR_AT_COORDS( g_U2253[0]._fU0 );
            SET_INTERIOR_ACTIVE( uVar3, 1, 0 );
            LOAD_SCENE_FOR_ROOM_BY_KEY( uVar3, uVar2 );
            l_U987 = 1;
        }
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1224() )) == 0)
        {
            SET_PED_COORDS(  /* PLAYER_PED_ID */ sub_1224(), g_U2253[0]._fU0, 1 );
            SET_PED_HEADING(  /* PLAYER_PED_ID */ sub_1224(), g_U2253[0]._fU12 );
            SET_GAMEPLAY_CAM_RELATIVE_HEADING( g_U2253[0]._fU16, 1065353216, 0 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( g_U2253[0]._fU20, 1065353216, 0 );
            SET_ROOM_FOR_PED_BY_NAME(  /* PLAYER_PED_ID */ sub_1224(), ref g_U2473 );
        }
         /* P_FADE_IN_AND_WAIT */ sub_5130( 1000 );
        l_U986 = 0;
    }
    if (l_U985)
    {
         /* WRITESCRIPTLOG */ sub_933( "SBA", "Resetting Victim...", "***" );
         /* CLEANPED */ sub_6505( l_U1004 );
         /* P_CREATEPEDSTRUCT */ sub_6615( ref l_U991, l_U1005, l_U1008, g_U2248, 7, 3, 2, 0, 0 );
        l_U1004 =  /* CREATEPED */ sub_6732( ref l_U991 );
        if ( /* IS_PED_VALID */ sub_7450( l_U1004 ))
        {
            SET_ROOM_FOR_PED_BY_NAME( l_U1004, ref g_U2473 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1004, 1 );
            SET_PED_COMBAT_MOVEMENT( l_U1004, 0 );
        }
         /* WRITESCRIPTLOG */ sub_933( "SBA", "Resetting Ceiling Fan...", "***" );
         /* CLEANOBJECT */ sub_7609( l_U1016 );
        CLEAR_AREA_OF_OBJECTS( l_U1005, 10.00000000 );
        l_U1016 =  /* CREATEOBJECTNOOFFSET */ sub_7710( l_U1017, l_U1018, 0.00000000, 0.00000000, 0.00000000, 0, 1, 0 );
        if (DOES_OBJECT_EXIST( l_U1016 ))
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U1016, ref g_U2473 );
            PLAY_OBJECT_ANIM( l_U1016, "P_EL_cfDmg_Aa_H", "ny_anim", 1000, 1, 0 );
        }
        l_U985 = 0;
    }
    if (l_U988)
    {
         /* WRITESCRIPTLOG */ sub_933( "SBA", "Dropping the Ceiling Fan...", "***" );
        if (DOES_OBJECT_EXIST( l_U1016 ))
        {
            DESTROY_FRAGMENT_OBJECT( l_U1016 );
        }
        else
        {
             /* WRITESCRIPTLOG */ sub_933( "SBA", "Can't Drop the Ceiling Fan - it doesn't exist!", "***" );
        }
        l_U988 = 0;
    }
    if (l_U989)
    {
         /* WRITESCRIPTLOG */ sub_933( "SBA", "Resetting Victim...", "***" );
        if (l_U990)
        {
            iVar5 = 0;
        }
        else
        {
            iVar5 = 64;
        }
         /* CLEANPED */ sub_6505( l_U1004 );
         /* P_CREATEPEDSTRUCT */ sub_6615( ref l_U991, l_U1009, l_U1015, g_U2248, 7, 3, 2, 0, 0 );
        l_U1004 =  /* CREATEPED */ sub_6732( ref l_U991 );
        if ( /* IS_PED_VALID */ sub_7450( l_U1004 ))
        {
            SET_ROOM_FOR_PED_BY_NAME( l_U1004, ref g_U2473 );
            OPEN_SEQUENCE_TASK( ref uVar4 );
            TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
            TASK_FOLLOW_NAV_MESH_TO_COORD( 0, l_U1012, 3, -1, 0.25000000, iVar5, 0 );
            CLOSE_SEQUENCE_TASK( uVar4 );
            CLEAR_PED_TASKS( l_U1004 );
            TASK_PERFORM_SEQUENCE( l_U1004, uVar4 );
            CLEAR_SEQUENCE_TASK( uVar4 );
        }
        l_U989 = 0;
    }
    return;
}

/* LOADMODEL */ void sub_5759(unknown uParam0, boolean bParam1)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
         /* WRITE_STRING */ sub_1713( "[SP]### ERROR! (LoadModel) Trying to load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    if (bParam1)
    {
        while ((HAS_MODEL_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* P_FADE_OUT_AND_WAIT */ void sub_6082(unknown uParam0)
{
    if ((IS_SCREEN_FADING_OUT() == 0) AND (IS_SCREEN_FADED_OUT() == 0))
    {
        DO_SCREEN_FADE_OUT( uParam0 );
        while (IS_SCREEN_FADED_OUT() == 0)
        {
            DISPLAYF( "[SP]### Waiting for screen to fade out... ###", 0 );
            WAIT( 0 );
        }
    }
    return;
}

/* CLEANPED */ void sub_6505(unknown uParam0)
{
    if (DOES_PED_EXIST( uParam0 ))
    {
        if ((NOT (IS_PED_DEAD( uParam0 ))) || (IS_PED_DEAD( uParam0 )))
        {
            REMOVE_ALL_PED_WEAPONS( uParam0 );
            DELETE_PED( ref uParam0 );
        }
    }
    return;
}

/* P_CREATEPEDSTRUCT */ void sub_6615(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU12 = uParam4;
    iParam0->_fU16 = uParam5;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU48 = uParam10;
    return;
}

/* CREATEPED */ void sub_6732(int iParam0)
{
    int iVar3;

    iVar3 = 0;
    if (iParam0->_fU16 == 0)
    {
        if (iParam0->_fU20 != 0)
        {
            iVar3 = GET_SCENE_PED_MODEL( iParam0->_fU20 );
        }
    }
    else
    {
        iVar3 = iParam0->_fU16;
    }
    if ((HAS_MODEL_LOADED( iVar3 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_5759( iParam0->_fU16, 1 );
    }
    iParam0->_fU40 = CREATE_PED( iParam0->_fU24, iParam0->_fU16, iParam0->_fU0, iParam0->_fU12, 1, iParam0->_fU48 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( iParam0->_fU40, 1 );
        SET_PED_COORDS_NO_OFFSET( iParam0->_fU40, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU40 ) );
        SET_PED_HEADING( iParam0->_fU40, iParam0->_fU12 );
        iParam0->_fU44 = 1;
    }
    else
    {
        SCRIPT_ASSERT( "Error: The ped you created doesn't exist or is dead!", 0 );
    }
     /* SETPEDDEFAULTSTATS */ sub_7223( iParam0->_fU40 );
     /* SETPEDDEFAULTTEMPLATE */ sub_7324( iParam0->_fU40 );
    return iParam0->_fU40;
}

/* SETPEDDEFAULTSTATS */ void sub_7223(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_HEALTH( uParam0, 200, 0 );
        SET_PED_ACCURACY( uParam0, -729479261 );
    }
    return;
}

/* SETPEDDEFAULTTEMPLATE */ void sub_7324(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_AI_TEMPLATE( uParam0, "AIT_DEFAULT_GENERIC" );
    }
    return;
}

/* IS_PED_VALID */ int sub_7450(unknown uParam0)
{
    if ((NOT (IS_PED_DEAD( uParam0 ))) AND (DOES_PED_EXIST( uParam0 )))
    {
        return 1;
    }
    return 0;
}

/* CLEANOBJECT */ void sub_7609(unknown uParam0)
{
    if (DOES_OBJECT_EXIST( uParam0 ))
    {
        DELETE_OBJECT( ref uParam0 );
    }
    return;
}

/* CREATEOBJECTNOOFFSET */ void sub_7710(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_5759( uParam0, 1 );
    }
    Result = CREATE_OBJECT_NO_OFFSET( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an object to exist: {!f1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

/* HANDLE_VIGNETTES */ void sub_8531()
{
     /* HANDLE_VIGNETTE_01 */ sub_8560();
     /* HANDLE_VIGNETTE_01B */ sub_10107();
     /* HANDLE_VIGNETTE_03 */ sub_11169();
     /* HANDLE_VIGNETTE_06 */ sub_12187();
     /* HANDLE_VIGNETTE_07 */ sub_17482();
     /* HANDLE_VIGNETTE_07B */ sub_18562();
     /* HANDLE_VIGNETTE_08B */ sub_19542();
     /* HANDLE_VIGNETTE_09 */ sub_23132();
    return;
}

/* HANDLE_VIGNETTE_01 */ void sub_8560()
{
    int iVar2;
    unknown uVar3;

    if (l_U264._fU0)
    {
        if ( /* IS_MAX_VALID */ sub_8603())
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_1224(), 1 );
            iVar2 = GET_HASH_KEY( ref g_U2473 );
            uVar3 = GET_INTERIOR_AT_COORDS( l_U264._fU20 );
            SET_INTERIOR_ACTIVE( uVar3, 1, 0 );
            LOAD_SCENE_FOR_ROOM_BY_KEY( uVar3, iVar2 );
            SET_PED_COORDS(  /* PLAYER_PED_ID */ sub_1224(), l_U264._fU20, 1 );
            SET_PED_HEADING(  /* PLAYER_PED_ID */ sub_1224(), l_U264._fU32 );
            if (iVar2 != -1)
            {
                SET_ROOM_FOR_PED_BY_KEY(  /* PLAYER_PED_ID */ sub_1224(), iVar2 );
            }
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_1224(), 0 );
        }
        l_U264._fU0 = 0;
    }
    if (l_U264._fU4)
    {
         /* UPDATE_VIG_01 */ sub_8824();
    }
    if (l_U264._fU12)
    {
         /* CLEAN_VIG_01 */ sub_9474();
         /* P_RESET_ISEQUENCE_WIDGET_BOOLS */ sub_10024( ref l_U264 );
    }
    return;
}

/* IS_MAX_VALID */ int sub_8603()
{
    if ( /* IS_PED_VALID */ sub_7450(  /* PLAYER_PED_ID */ sub_1224() ))
    {
        return 1;
    }
    return 0;
}

/* UPDATE_VIG_01 */ void sub_8824()
{
    switch (l_U381)
    {
        case 0:
         /* LOADMODEL */ sub_5759( 2024698471, 1 );
         /* LOADISEQ */ sub_8903( -2007826629, 1 );
         /* P_CREATEPEDSTRUCT */ sub_6615( ref l_U363, l_U377, l_U380, 2024698471, 7, 3, 2, 0, 0 );
        l_U376 =  /* CREATEPED */ sub_6732( ref l_U363 );
         /* F_GIVEPEDWEAPON */ sub_1328( g_U750, 68019059, 25000, 0, 1 );
        l_U381 = 1;
        break;
        case 1:
        if ( /* IS_PED_VALID */ sub_7450( l_U376 ))
        {
             /* WRITESCRIPTLOG */ sub_933( "RJM", "UPDATE_VIG_01 - Registering piVignettePassos", 0 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U376, 1 );
            ISEQ_REGISTER_ENTITY( -2007826629, "passos", l_U376, 0 );
        }
        ISEQ_START( -2007826629 );
        l_U381 = 2;
        break;
        case 2:
        if (l_U382)
        {
            PED_SET_ACTION_INTENTION( l_U376, 48, 1000, 0, 0, 0 );
            l_U382 = 0;
        }
        break;
    }
    return;
}

/* LOADISEQ */ void sub_8903(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to load does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 0)
    {
        ISEQ_REQUEST( uParam0 );
        ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
        if (iParam1 == 1)
        {
            while ((ISEQ_QUERY_STATE( uParam0, 1 )) == 1)
            {
                DISPLAYF( "[SP]### Waiting for interactive sequence to be loaded: {0} {1} ###", 2, 1281, ref uVar4, 513, uParam0 );
                WAIT( 0 );
            }
        }
    }
    return;
}

/* CLEAN_VIG_01 */ void sub_9474()
{
    ISEQ_UNREGISTER_ENTITY( -2007826629, "passos" );
     /* TERMINATEISEQ */ sub_9526( -2007826629, 1 );
     /* CLEANPED */ sub_6505( l_U376 );
     /* UNLOADMODEL */ sub_9842( 2024698471 );
    l_U382 = 0;
    l_U264._fU4 = 0;
    l_U381 = 0;
    return;
}

/* TERMINATEISEQ */ void sub_9526(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to terminate does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 1)
    {
        ISEQ_TERMINATE( uParam0 );
    }
    ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
    if (iParam1 == 1)
    {
        while ((ISEQ_IS_LOADED( uParam0 )) == 1)
        {
            DISPLAYF( "[SP]### Waiting for interactive sequence to terminate: {0} {1} ###", 2, 1281, ref uVar4, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* UNLOADMODEL */ void sub_9842(unknown uParam0)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 1)
    {
        SET_MODEL_AS_NO_LONGER_NEEDED( uParam0 );
    }
    else
    {
         /* WRITE_STRING */ sub_1713( "[SP]### ERROR! (UnloadModel) Trying to unload a model that isn't in the img! ###" );
    }
    return;
}

/* P_RESET_ISEQUENCE_WIDGET_BOOLS */ void sub_10024(int iParam0)
{
    iParam0->_fU0 = 0;
    iParam0->_fU4 = 0;
    iParam0->_fU12 = 0;
    iParam0->_fU16 = 0;
    return;
}

/* HANDLE_VIGNETTE_01B */ void sub_10107()
{
    int iVar2;
    unknown uVar3;

    if (l_U273._fU0)
    {
        if ( /* IS_MAX_VALID */ sub_8603())
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_1224(), 1 );
            iVar2 = GET_HASH_KEY( ref g_U2473 );
            uVar3 = GET_INTERIOR_AT_COORDS( l_U273._fU20 );
            SET_INTERIOR_ACTIVE( uVar3, 1, 0 );
            LOAD_SCENE_FOR_ROOM_BY_KEY( uVar3, iVar2 );
            SET_PED_COORDS(  /* PLAYER_PED_ID */ sub_1224(), l_U273._fU20, 1 );
            SET_PED_HEADING(  /* PLAYER_PED_ID */ sub_1224(), l_U273._fU32 );
            if (iVar2 != -1)
            {
                SET_ROOM_FOR_PED_BY_KEY(  /* PLAYER_PED_ID */ sub_1224(), iVar2 );
            }
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_1224(), 0 );
        }
        l_U273._fU0 = 0;
    }
    if (l_U273._fU4)
    {
         /* UPDATE_VIG_01B */ sub_10324();
    }
    if (l_U273._fU12)
    {
         /* CLEAN_VIG_01B */ sub_11001();
         /* P_RESET_ISEQUENCE_WIDGET_BOOLS */ sub_10024( ref l_U273 );
    }
    return;
}

/* UPDATE_VIG_01B */ void sub_10324()
{
    if ( /* IS_PED_VALID */ sub_7450( l_U410 ))
    {
        SET_PED_COORDS( l_U410, l_U411, 1 );
        SET_PED_HEADING( l_U410, 65446 );
    }
    if ( /* IS_PED_VALID */ sub_7450( l_U396 ))
    {
        SET_PED_COORDS( l_U396, l_U414, 1 );
        SET_PED_HEADING( l_U396, 65446 );
    }
    switch (l_U418)
    {
        case 0:
         /* LOADMODEL */ sub_5759( 1853260236, 1 );
         /* LOADMODEL */ sub_5759( 1864850433, 1 );
         /* LOADISEQ */ sub_8903( -596711032, 1 );
         /* P_CREATEPEDSTRUCT */ sub_6615( ref l_U383, l_U414, 65446, 1853260236, 7, 3, 2, 0, 0 );
         /* P_CREATEPEDSTRUCT */ sub_6615( ref l_U397, l_U411, 65446, 1864850433, 7, 3, 2, 0, 0 );
        l_U410 =  /* CREATEPED */ sub_6732( ref l_U397 );
        l_U396 =  /* CREATEPED */ sub_6732( ref l_U383 );
        SET_ROOM_FOR_PED_BY_NAME( l_U410, ref g_U2473 );
        SET_ROOM_FOR_PED_BY_NAME( l_U396, ref g_U2473 );
        l_U418 = 1;
        break;
        case 1:
        if ( /* IS_PED_VALID */ sub_7450( l_U410 ))
        {
             /* WRITESCRIPTLOG */ sub_933( "RJM", "UPDATE_VIG_01B - Registering piBarGirl", 0 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U410, 1 );
            I_SEQUENCE_REGISTER_ENTITY( l_U417, "bargirl", l_U410, 0 );
        }
        if ( /* IS_PED_VALID */ sub_7450( l_U396 ))
        {
             /* WRITESCRIPTLOG */ sub_933( "RJM", "UPDATE_VIG_01B - Registering piBartender", 0 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U396, 1 );
            I_SEQUENCE_REGISTER_ENTITY( l_U417, "bartender", l_U396, 0 );
        }
        I_SEQUENCE_START( l_U417 );
        l_U418 = 2;
        break;
        case 2:
        if (l_U419)
        {
            PED_SET_ACTION_INTENTION( l_U410, 37, 1000, 0, 0, 0 );
            l_U419 = 0;
        }
        if (l_U420)
        {
            PED_SET_ACTION_INTENTION( l_U396, 38, 1000, 0, 0, 0 );
            l_U420 = 0;
        }
        break;
    }
    return;
}

/* CLEAN_VIG_01B */ void sub_11001()
{
    ISEQ_UNREGISTER_ENTITY( -596711032, "bargirl" );
    ISEQ_UNREGISTER_ENTITY( -596711032, "bartender" );
     /* TERMINATEISEQ */ sub_9526( -596711032, 1 );
     /* CLEANPED */ sub_6505( l_U410 );
     /* CLEANPED */ sub_6505( l_U396 );
     /* UNLOADMODEL */ sub_9842( 1853260236 );
     /* UNLOADMODEL */ sub_9842( 1864850433 );
    l_U419 = 0;
    l_U273._fU4 = 0;
    l_U418 = 0;
    return;
}

/* HANDLE_VIGNETTE_03 */ void sub_11169()
{
    int iVar2;
    unknown uVar3;

    if (l_U282._fU0)
    {
        if ( /* IS_MAX_VALID */ sub_8603())
        {
            iVar2 = GET_HASH_KEY( ref g_U2489 );
            uVar3 = GET_INTERIOR_AT_COORDS( l_U282._fU20 );
            SET_INTERIOR_ACTIVE( uVar3, 1, 0 );
            LOAD_SCENE_FOR_ROOM_BY_KEY( uVar3, iVar2 );
            SET_PED_COORDS(  /* PLAYER_PED_ID */ sub_1224(), l_U282._fU20, 1 );
            SET_PED_HEADING(  /* PLAYER_PED_ID */ sub_1224(), l_U282._fU32 );
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_1224(), 1 );
            if (iVar2 != -1)
            {
                SET_ROOM_FOR_PED_BY_KEY(  /* PLAYER_PED_ID */ sub_1224(), iVar2 );
            }
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_1224(), 0 );
        }
        l_U282._fU0 = 0;
    }
    if (l_U282._fU4)
    {
         /* UPDATE_VIG_03 */ sub_11385();
    }
    if (l_U282._fU12)
    {
         /* CLEAN_VIG_03 */ sub_12065();
         /* P_RESET_ISEQUENCE_WIDGET_BOOLS */ sub_10024( ref l_U282 );
    }
    return;
}

/* UPDATE_VIG_03 */ void sub_11385()
{
    switch (l_U435)
    {
        case 0:
         /* LOADMODEL */ sub_5759( g_U2249, 1 );
         /* LOADISEQ */ sub_8903( -1679907246, 1 );
         /* P_CREATEPEDSTRUCTWITHNAME */ sub_11512( ref l_U421, 2.61000000, -318.00000000, -4.04000000, 65356, -119177685, 7, 3, 2, 0, 0 );
        l_U434 =  /* CREATEPED */ sub_6732( ref l_U421 );
        l_U435 = 1;
        break;
        case 1:
        if ( /* IS_PED_VALID */ sub_7450( l_U434 ))
        {
             /* WRITESCRIPTLOG */ sub_933( "RJM", "UPDATE_VIG_03 - Registering piBarCaller", 0 );
            SET_PED_CAN_RAGDOLL_FROM_PLAYER_IMPACT( l_U434, 0 );
            SET_PED_STAND_GROUND_ON_PLAYER_IMPACT( l_U434, 1 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U434, 1 );
            SET_ROOM_FOR_PED_BY_NAME( l_U434, ref g_U2489 );
            ISEQ_REGISTER_ENTITY( -1679907246, "caller", l_U434, 0 );
        }
        ISEQ_START( -1679907246 );
        l_U435 = 2;
        break;
        case 2:
        if (l_U436)
        {
            PED_SET_ACTION_INTENTION( l_U434, 47, 1000, 0, 0, 0 );
             /* WRITESCRIPTLOG */ sub_933( "RJM", "UPDATE_VIG_03 - Interrupting vignette", 0 );
            l_U436 = 0;
            l_U435 = 3;
        }
        if (ISEQ_QUERY_ENTITY_STATE( -1679907246, "caller", 6 ))
        {
             /* WRITESCRIPTLOG */ sub_933( "RJM", "UPDATE_VIG_03 - Done, cleaning up vignette", 0 );
            l_U435 = 3;
        }
        break;
        case 3: break;
    }
    return;
}

/* P_CREATEPEDSTRUCTWITHNAME */ void sub_11512(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU20 = uParam5;
    iParam0->_fU12 = uParam4;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU16 = GET_SCENE_PED_MODEL( uParam5 );
    iParam0->_fU48 = uParam10;
    return;
}

/* CLEAN_VIG_03 */ void sub_12065()
{
    ISEQ_UNREGISTER_ENTITY( -1679907246, "caller" );
     /* TERMINATEISEQ */ sub_9526( -1679907246, 1 );
     /* CLEANPED */ sub_6505( l_U434 );
     /* UNLOADMODEL */ sub_9842( g_U2249 );
    l_U436 = 0;
    l_U282._fU4 = 0;
    l_U435 = 0;
    return;
}

/* HANDLE_VIGNETTE_06 */ void sub_12187()
{
    if (l_U291._fU0)
    {
        if ( /* IS_MAX_VALID */ sub_8603())
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_1224(), 1 );
            SET_PED_COORDS(  /* PLAYER_PED_ID */ sub_1224(), l_U291._fU20, 1 );
            SET_PED_HEADING(  /* PLAYER_PED_ID */ sub_1224(), l_U291._fU32 );
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_1224(), 0 );
        }
        l_U291._fU0 = 0;
    }
    if (l_U291._fU4)
    {
         /* UPDATE_VIG_06 */ sub_12328();
    }
    if (l_U291._fU12)
    {
         /* UNREGISTER_PEDS_VIG_06 */ sub_16892();
         /* CLEAN_VIG_06 */ sub_17099();
         /* P_RESET_ISEQUENCE_WIDGET_BOOLS */ sub_10024( ref l_U291 );
    }
    return;
}

/* UPDATE_VIG_06 */ void sub_12328()
{
    switch (l_U437)
    {
        case 0:
         /* WRITESCRIPTLOG */ sub_933( "TEH", "Setting up Vig 6", 0 );
         /* LOADMODEL */ sub_5759( g_U2250, 1 );
         /* CREATE_VIG_6_PEDS_AND_OBJECTS */ sub_12432();
         /* LOADISEQ */ sub_8903( -1988558453, 1 );
        l_U437 = 1;
        break;
        case 1:
         /* WRITESCRIPTLOG */ sub_933( "TEH", "Running Vig 6", 0 );
         /* REGISTER_PEDS_VIG_06 */ sub_15896();
         /* TELPORT_PEDS_VIG_06 */ sub_16234();
        ISEQ_START( -1988558453 );
        l_U437 = 2;
        break;
        case 2:
        if (l_U764[0])
        {
            PED_SET_ACTION_INTENTION( l_U179[0], 47, 1000, 0, 0, 0 );
            l_U764[0] = 0;
        }
        if (l_U764[1])
        {
            PED_SET_ACTION_INTENTION( l_U179[1], 48, 1000, 0, 0, 0 );
            l_U764[1] = 0;
        }
        if (l_U764[2])
        {
            PED_SET_ACTION_INTENTION( l_U209[0], 49, 1000, 0, 0, 0 );
            l_U764[2] = 0;
        }
        if (l_U764[3])
        {
            PED_SET_ACTION_INTENTION( l_U209[1], 50, 1000, 0, 0, 0 );
            l_U764[3] = 0;
        }
        if (l_U764[4])
        {
            PED_SET_ACTION_INTENTION( l_U226[0], 51, 1000, 0, 0, 0 );
            l_U764[4] = 0;
        }
        break;
    }
    return;
}

/* CREATE_VIG_6_PEDS_AND_OBJECTS */ void sub_12432()
{
    int I;

     /* WRITESCRIPTLOG */ sub_933( "TEH", "CREATE_VIG_6_PEDS_AND_OBJECTS - start", 0 );
    l_U234[0] =  /* CREATEVEHICLE */ sub_12558( 1839686620, -19.22000000, -322.87500000, -0.61000000, -95.00000000, 1, 0, 0 );
    WAIT( 10 );
     /* P_SET_STANDARD_VEHICLE_OPTIONS */ sub_12892( l_U234[0], 0, 1 );
    FREEZE_VEHICLE_POSITION( l_U234[0], 1 );
    SET_VEHICLE_COLOUR_COMBINATION( l_U234[0], 1 );
    SET_VEHICLE_DIRT_LEVEL( l_U234[0], 10.90000000 );
    l_U234[1] =  /* CREATEVEHICLE */ sub_12558( 557810561, -18.25000000, -317.25000000, -0.61000000, 4.00000000, 1, 0, 0 );
    WAIT( 10 );
     /* P_SET_STANDARD_VEHICLE_OPTIONS */ sub_12892( l_U234[1], 0, 1 );
    FREEZE_VEHICLE_POSITION( l_U234[1], 1 );
    SET_VEHICLE_COLOUR_COMBINATION( l_U234[1], 2 );
    SET_VEHICLE_DIRT_LEVEL( l_U234[1], 15.90000000 );
    SET_VEHICLE_EXTRA( l_U234[1], 1, 1 );
    SET_VEHICLE_EXTRA( l_U234[1], 2, 1 );
    SET_VEHICLE_EXTRA( l_U234[1], 3, 1 );
    SET_VEHICLE_EXTRA( l_U234[1], 4, 1 );
    SET_VEHICLE_EXTRA( l_U234[1], 5, 1 );
    SET_VEHICLE_EXTRA( l_U234[1], 6, 1 );
    SET_VEHICLE_EXTRA( l_U234[1], 7, 0 );
    SET_VEHICLE_EXTRA( l_U234[1], 8, 0 );
     /* P_SETUP_AI_GROUP */ sub_13636( ref l_U228, 1.00000000, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_11512( ref l_U152[0], -18.95000000, -321.40000000, -0.66000000, -9.54500000, -486921312, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_11512( ref l_U152[1], -20.61000000, -321.20000000, -0.66000000, -54.54500000, -863385930, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_11512( ref l_U182[0], -20.53000000, -318.67000000, -0.66000000, -148.43000000, -203706296, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_11512( ref l_U182[1], -19.65000000, -318.42000000, -0.66000000, -99.54500000, 1716597788, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_11512( ref l_U212[0], -19.65771000, -315.34370000, -0.66237900, 266.61710000, -2038190238, 7, 3, 2, 0, 0 );
     /* PED_INITIALIZE */ sub_14291( ref l_U152[0], ref l_U179[0], 434544317, "AIT_NORMAL", 0, 25000, 2, 0, 25000 );
     /* P_QUICK_ADD_PED_TO_GROUP */ sub_14982( l_U179[0], ref l_U228 );
     /* SETUP_GARAGE_GUY */ sub_15370( ref l_U179[0] );
     /* PED_INITIALIZE */ sub_14291( ref l_U152[1], ref l_U179[1], -862236369, "AIT_NORMAL", 0, 25000, 2, 0, 25000 );
     /* P_QUICK_ADD_PED_TO_GROUP */ sub_14982( l_U179[1], ref l_U228 );
     /* SETUP_GARAGE_GUY */ sub_15370( ref l_U179[1] );
    for ( I = 0; I <= (l_U209 - 1); I++ )
    {
         /* PED_INITIALIZE */ sub_14291( ref l_U182[I], ref l_U209[I], -862236369, "AIT_NORMAL", 0, 25000, 2, 0, 25000 );
         /* P_QUICK_ADD_PED_TO_GROUP */ sub_14982( l_U209[I], ref l_U228 );
         /* SETUP_GARAGE_GUY */ sub_15370( ref l_U209[I] );
    }
    for ( I = 0; I <= (l_U226 - 1); I++ )
    {
         /* PED_INITIALIZE */ sub_14291( ref l_U212[I], ref l_U226[I], -862236369, "AIT_NORMAL", 0, 25000, 2, 0, 25000 );
         /* P_QUICK_ADD_PED_TO_GROUP */ sub_14982( l_U226[I], ref l_U228 );
         /* SETUP_GARAGE_GUY */ sub_15370( ref l_U226[I] );
    }
     /* P_SETUP_AI_GROUP */ sub_13636( ref l_U228, 1.00000000, 0 );
     /* WRITESCRIPTLOG */ sub_933( "TEH", "CREATE_VIG_6_PEDS_AND_OBJECTS - end", 0 );
    return;
}

/* CREATEVEHICLE */ void sub_12558(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, int iParam5, unknown uParam6, unknown uParam7)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a vehicle with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_5759( uParam0, 1 );
    }
    Result = CREATE_VEHICLE( uParam0, uParam1, uParam4, uParam6, uParam7 );
    if (iParam5 == 1)
    {
        while ((DOES_VEHICLE_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for vehicle to exist: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    if (DOES_VEHICLE_EXIST( Result ))
    {
        SET_PETROLTANK_BURN_RATE( Result, 125.00000000 );
    }
    return Result;
}

/* P_SET_STANDARD_VEHICLE_OPTIONS */ void sub_12892(unknown uParam0, boolean bParam1, unknown uParam2)
{
     /* WRITESCRIPTLOG */ sub_933( "SBA", "P_SET_STANDARD_VEHICLE_OPTIONS: Starting", "***" );
    if ( /* IS_VEHICLE_VALID */ sub_12997( uParam0 ))
    {
         /* WRITESCRIPTLOG */ sub_933( "SBA", "P_SET_STANDARD_VEHICLE_OPTIONS: Car Valid - setting options", "***" );
        SET_VEHICLE_ON_GROUND_PROPERLY( uParam0 );
        SET_VEHICLE_CAN_BE_DAMAGED( uParam0, 1 );
        if (bParam1)
        {
            SET_VEHICLE_ENGINE_ON( uParam0, 1, 1 );
        }
        SET_VEHICLE_ENGINE_HEALTH( uParam0, 600.00000000 );
        SET_VEHICLE_PETROL_TANK_HEALTH( uParam0, 300.00000000 );
        SET_VEHICLE_PROOFS( uParam0, 0, 1, 1, 0, 0 );
        SET_VEHICLE_ONLY_DAMAGED_BY_PLAYER( uParam0, uParam2 );
    }
    else
    {
         /* WRITESCRIPTLOG */ sub_933( "SBA", "P_SET_STANDARD_VEHICLE_OPTIONS: CAR IS INVALID!", "***" );
    }
    return;
}

/* IS_VEHICLE_VALID */ int sub_12997(unknown uParam0)
{
    if ((NOT (IS_VEHICLE_DEAD( uParam0 ))) AND (DOES_VEHICLE_EXIST( uParam0 )))
    {
        return 1;
    }
    return 0;
}

/* P_SETUP_AI_GROUP */ void sub_13636(int iParam0, unknown uParam1, boolean bParam2)
{
    iParam0->_fU4 = uParam1;
    iParam0->_fU0 = CREATE_GROUP( 3, 1 );
    if (bParam2)
    {
        PRINTSTRING( "[MSWW]### P_SETUP_AI_GROUP TOLD TO WAIT FOR GROUP TO EXIST ###" );
        PRINTNL();
        while (NOT (DOES_GROUP_EXIST( iParam0->_fU0 )))
        {
            WAIT( 0 );
            PRINTSTRING( "[MSWW]### GROUP ###" );
            PRINTNL();
        }
        PRINTSTRING( "[MSWW]### P_SETUP_AI_GROUP created group with ID: " );
        PRINTINT( iParam0->_fU0 );
        PRINTNL();
    }
    SET_GROUP_RATIO_FIRING_AT_VISIBLE( iParam0->_fU0, iParam0->_fU4 );
    SET_GROUP_RATIO_FIRING_AT_INVISIBLE( iParam0->_fU0, iParam0->_fU4 );
    if (iParam0->_fU8)
    {
        SET_GROUP_FORMATION( iParam0->_fU0, iParam0->_fU12 );
        SET_GROUP_FORMATION_SPACING( iParam0->_fU0, iParam0->_fU16 );
        SET_GROUP_FORMATION_MAX_MOVE_SPEED( iParam0->_fU0, iParam0->_fU20 );
    }
    return;
}

/* PED_INITIALIZE */ void sub_14291(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, int iParam7, unknown uParam8)
{
    unknown uVar11;

     /* CLEANPED */ sub_6505( (uParam1^) );
    (uParam1^) =  /* CREATEPED */ sub_6732( uParam0 );
    if ( /* IS_PED_VALID */ sub_7450( (uParam1^) ))
    {
        uVar11 =  /* F_GIVEPEDWEAPON */ sub_1328( (uParam1^), uParam2, uParam5, 0, 1 );
        if (iParam7 != 0)
        {
             /* F_GIVEPEDWEAPONTOHOLSTER */ sub_14385( (uParam1^), iParam7, 0, uParam8, 0 );
        }
        SET_PED_AI_TEMPLATE( (uParam1^), uParam3 );
        SET_PED_ALERTNESS( (uParam1^), uParam6 );
        switch (uParam4)
        {
            case 0: break;
            case 1:
            ENABLE_WEAPON_ATTACHMENT( uVar11, 13, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uVar11, 13, 1 );
            break;
            case 2:
            ENABLE_WEAPON_ATTACHMENT( uVar11, 14, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uVar11, 14, 1 );
            break;
            case 3:
            ENABLE_WEAPON_ATTACHMENT( uVar11, 12, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uVar11, 12, 1 );
            break;
        }
    }
    return;
}

/* F_GIVEPEDWEAPONTOHOLSTER */ void sub_14385(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's holster MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HOLSTER( uParam0, uParam1, uParam3, uParam2 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
                    DISPLAYF( "[SP]### Waiting for a weapon to exist: {} ###", 1, 513, uParam1 );
                }
            }
        }
    }
    else
    {
         /* WRITE_STRING */ sub_1713( "[SP]### (F_GivePedWeaponToHolster) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

/* P_QUICK_ADD_PED_TO_GROUP */ void sub_14982(unknown uParam0, int iParam1)
{
    int iVar4;
    unknown uVar5;

    if ((DOES_GROUP_EXIST( iParam1->_fU0 )) == 0)
    {
         /* WRITE_STRING */ sub_1713( "[SP]### Warning!!! Group does not exist. Creating new group specified attributes. ###" );
        if (iParam1->_fU4 > 0)
        {
             /* P_SETUP_AI_GROUP */ sub_13636( iParam1, iParam1->_fU4, 0 );
        }
        else
        {
             /* P_SETUP_AI_GROUP */ sub_13636( iParam1, 1056964608, 0 );
        }
    }
    else
    {
        PRINTSTRING( "[MSWW]### P_QUICK_ADD_PED_TO_GROUP adding ped to group with ID: " );
        PRINTINT( iParam1->_fU0 );
        PRINTNL();
    }
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        GET_GROUP_SIZE( iParam1->_fU0, ref iVar4, ref uVar5 );
        if (iVar4 == 0)
        {
            SET_PED_AS_GROUP_LEADER( uParam0, iParam1->_fU0 );
        }
        else
        {
            SET_PED_AS_GROUP_MEMBER( uParam0, iParam1->_fU0 );
        }
        SET_PED_NEVER_LEAVES_GROUP( uParam0, 1 );
    }
    return;
}

/* SETUP_GARAGE_GUY */ void sub_15370(unknown uParam0)
{
    if ( /* IS_PED_VALID */ sub_7450( (uParam0^) ))
    {
        SET_PED_ONLY_DAMAGED_BY_PLAYER( (uParam0^), 1 );
        SET_PED_GORE_FROM_NPC( (uParam0^), 0 );
        SET_PED_CHANCE_TO_REACT_TO_IMMINENT_DANGER( (uParam0^), 75 );
        SET_PED_COMBAT_ATTRIBUTES( (uParam0^), 131072, 0 );
        SET_PED_ALERTNESS( (uParam0^), 1 );
    }
    return;
}

/* REGISTER_PEDS_VIG_06 */ void sub_15896()
{
     /* WRITESCRIPTLOG */ sub_933( "TEH", "REGISTER_PEDS_VIG_06- start", 0 );
    ISEQ_REGISTER_ENTITY( -1988558453, "VIG_06_NYBAR_GMED", l_U179[0], 0 );
    ISEQ_REGISTER_ENTITY( -1988558453, "VIG_06_NYBAR_GMED1", l_U179[1], 0 );
    ISEQ_REGISTER_ENTITY( -1988558453, "VIG_06_NYBAR_GMED2", l_U209[0], 0 );
    ISEQ_REGISTER_ENTITY( -1988558453, "VIG_06_NYBAR_GMED3", l_U209[1], 0 );
    ISEQ_REGISTER_ENTITY( -1988558453, "VIG_06_NYBAR_GMED4", l_U226[0], 0 );
     /* WRITESCRIPTLOG */ sub_933( "TEH", "REGISTER_PEDS_VIG_06 - end", 0 );
    return;
}

/* TELPORT_PEDS_VIG_06 */ void sub_16234()
{
     /* TELEPORTPED */ sub_16298( l_U179[0], -19.15000000, -321.40000000, -0.66000000, -9.54500000 );
     /* TELEPORTPED */ sub_16298( l_U179[1], -20.61000000, -321.65000000, -0.66000000, -54.54500000 );
     /* TELEPORTPED */ sub_16298( l_U209[0], -20.53000000, -318.67000000, -0.66000000, -148.43000000 );
     /* TELEPORTPED */ sub_16298( l_U209[1], -19.65000000, -318.42000000, -0.66000000, -99.54500000 );
     /* TELEPORTPED */ sub_16298( l_U226[0], -19.65771000, -316.54370000, -0.66237900, 266.61710000 );
    CLEAR_PED_TASKS_IMMEDIATELY( l_U179[0] );
    CLEAR_PED_TASKS_IMMEDIATELY( l_U179[1] );
    CLEAR_PED_TASKS_IMMEDIATELY( l_U209[0] );
    CLEAR_PED_TASKS_IMMEDIATELY( l_U209[1] );
    CLEAR_PED_TASKS_IMMEDIATELY( l_U226[0] );
    return;
}

/* TELEPORTPED */ void sub_16298(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_COORDS( uParam0, uParam1, 1 );
        SET_PED_HEADING( uParam0, uParam4 );
    }
    return;
}

/* UNREGISTER_PEDS_VIG_06 */ void sub_16892()
{
    ISEQ_UNREGISTER_ENTITY( -1988558453, "VIG_06_NYBAR_GMED" );
    ISEQ_UNREGISTER_ENTITY( -1988558453, "VIG_06_NYBAR_GMED1" );
    ISEQ_UNREGISTER_ENTITY( -1988558453, "VIG_06_NYBAR_GMED2" );
    ISEQ_UNREGISTER_ENTITY( -1988558453, "VIG_06_NYBAR_GMED3" );
    ISEQ_UNREGISTER_ENTITY( -1988558453, "VIG_06_NYBAR_GMED4" );
    return;
}

/* CLEAN_VIG_06 */ void sub_17099()
{
     /* TERMINATEISEQ */ sub_9526( -1988558453, 1 );
     /* CLEANUP_VIG_06_ASSETS */ sub_17135();
    l_U764[0] = 0;
    l_U764[1] = 0;
    l_U764[2] = 0;
    l_U764[3] = 0;
    l_U764[4] = 0;
     /* UNLOADMODEL */ sub_9842( g_U2250 );
    l_U291._fU4 = 0;
    l_U437 = 0;
    return;
}

/* CLEANUP_VIG_06_ASSETS */ void sub_17135()
{
     /* CLEANPED */ sub_6505( l_U179[0] );
     /* CLEANPED */ sub_6505( l_U179[1] );
     /* CLEANPED */ sub_6505( l_U209[0] );
     /* CLEANPED */ sub_6505( l_U209[1] );
     /* CLEANPED */ sub_6505( l_U226[0] );
     /* CLEANVEHICLEARRAY */ sub_17238( ref l_U234 );
    return;
}

/* CLEANVEHICLEARRAY */ void sub_17238(unknown uParam0)
{
    int I;

    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
         /* CLEANVEHICLE */ sub_17292( (uParam0^)[I] );
    }
    return;
}

/* CLEANVEHICLE */ void sub_17292(unknown uParam0)
{
    if (IS_VEHICLE_DEAD( uParam0 ))
    {
        ;
    }
    if (DOES_VEHICLE_EXIST( uParam0 ))
    {
        DELETE_VEHICLE( ref uParam0 );
    }
    return;
}

/* HANDLE_VIGNETTE_07 */ void sub_17482()
{
    if (l_U300._fU0)
    {
         /* ISEQUENCE_TELEPORT_PLAYER */ sub_17529( ref l_U300 );
    }
    if (l_U300._fU4)
    {
         /* RUN_VIG_07 */ sub_17678();
    }
    if (l_U300._fU12)
    {
         /* CLEAN_VIG_07 */ sub_18414();
         /* P_RESET_ISEQUENCE_WIDGET_BOOLS */ sub_10024( ref l_U300 );
    }
    return;
}

/* ISEQUENCE_TELEPORT_PLAYER */ void sub_17529(int iParam0)
{
     /* P_FADE_OUT_AND_WAIT */ sub_6082( 1000 );
    if ( /* IS_MAX_VALID */ sub_8603())
    {
        FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_1224(), 1 );
    }
     /* TELEPORTPED */ sub_16298(  /* PLAYER_PED_ID */ sub_1224(), iParam0->_fU20, iParam0->_fU32 );
    if ( /* IS_MAX_VALID */ sub_8603())
    {
        FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_1224(), 0 );
    }
     /* P_FADE_IN_AND_WAIT */ sub_5130( 1000 );
    iParam0->_fU0 = 0;
    return;
}

/* RUN_VIG_07 */ void sub_17678()
{
    switch (l_U770)
    {
        case 0:
         /* MAKE_PASSOS_VIG_07 */ sub_17738( 0 );
         /* LOADISEQ */ sub_8903( -760081408, 1 );
        l_U770 = 1;
        break;
        case 1:
        if ( /* IS_PED_VALID */ sub_7450( l_U771 ))
        {
             /* WRITESCRIPTLOG */ sub_933( "SBA", "RUN_VIG_07 - Registering piPassos_Vig07", "***" );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U771, 1 );
            ISEQ_REGISTER_ENTITY( -760081408, "passos", l_U771, 0 );
        }
        ISEQ_START( -760081408 );
        l_U770 = 2;
        break;
        case 2:
        if (l_U789)
        {
            if ( /* IS_PED_VALID */ sub_7450( l_U771 ))
            {
                 /* WRITESCRIPTLOG */ sub_933( "SBA", "RUN_VIG_07 - Passos start shooting", "***" );
                PED_SET_ACTION_INTENTION( l_U771, 47, 1000, 0, 0, 0 );
            }
            l_U789 = 0;
        }
        if (l_U790)
        {
             /* WRITESCRIPTLOG */ sub_933( "SBA", "Transition to VIG07B", "***" );
             /* LOADISEQ */ sub_8903( 320396699, 1 );
            if ( /* IS_PED_VALID */ sub_7450( l_U771 ))
            {
                PED_SET_ACTION_INTENTION( l_U771, 56, 1000, 0, 0, 0 );
            }
            l_U790 = 0;
        }
        if (ISEQ_QUERY_STATE( -760081408, 6 ))
        {
             /* WRITESCRIPTLOG */ sub_933( "SBA", "RUN_VIGNETTE_07: DONE!", "***" );
            l_U770 = 0;
            l_U300._fU4 = 0;
        }
        break;
    }
    return;
}

/* MAKE_PASSOS_VIG_07 */ void sub_17738(boolean bParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;

     /* WRITESCRIPTLOG */ sub_933( "SBA", "MAKE_PASSOS_VIG_07", "***" );
    if (NOT bParam0)
    {
        uVar3 = {l_U785};
        uVar6 = l_U788;
    }
    else
    {
        uVar3 = {g_U2440};
        uVar6 = l_U792;
    }
     /* LOADMODEL */ sub_5759( 2024698471, 1 );
     /* P_CREATEPEDSTRUCT */ sub_6615( ref l_U772, uVar3, uVar6, 2024698471, 7, 3, 2, 0, 0 );
     /* CLEANPED */ sub_6505( l_U771 );
    l_U771 =  /* CREATEPED */ sub_6732( ref l_U772 );
     /* F_GIVEPEDWEAPON */ sub_1328( l_U771, -862236369, 25000, 0, 0 );
    return;
}

/* CLEAN_VIG_07 */ void sub_18414()
{
     /* WRITESCRIPTLOG */ sub_933( "SBA", "CLEAN_VIG_07", "***" );
    ISEQ_UNREGISTER_ENTITY( -760081408, "passos" );
     /* TERMINATEISEQ */ sub_9526( -760081408, 1 );
     /* CLEANPED */ sub_6505( l_U771 );
     /* UNLOADMODEL */ sub_9842( 2024698471 );
    l_U300._fU4 = 0;
    l_U770 = 0;
    return;
}

/* HANDLE_VIGNETTE_07B */ void sub_18562()
{
    if (l_U309._fU0)
    {
         /* ISEQUENCE_TELEPORT_PLAYER */ sub_17529( ref l_U309 );
    }
    if (l_U309._fU4)
    {
         /* RUN_VIG_07B */ sub_18627();
    }
    if (l_U309._fU12)
    {
         /* CLEAN_VIG_07B */ sub_19353();
         /* P_RESET_ISEQUENCE_WIDGET_BOOLS */ sub_10024( ref l_U309 );
    }
    return;
}

/* RUN_VIG_07B */ void sub_18627()
{
    switch (l_U791)
    {
        case 0:
         /* CREATE_VIG_07B_PARKED_CARS */ sub_18687();
         /* MAKE_PASSOS_VIG_07 */ sub_17738( 1 );
         /* LOADISEQ */ sub_8903( 320396699, 1 );
        l_U791 = 1;
        break;
        case 1:
        if ( /* IS_PED_VALID */ sub_7450( l_U771 ))
        {
             /* TELEPORTPED */ sub_16298( l_U771, g_U2440, g_U2439 );
            WAIT( 1 );
            SET_PED_SYNC_POINT( l_U771, g_U2440, g_U2443 );
             /* WRITE_STRING */ sub_1713( "bswtest" );
             /* WRITE_VECTOR_FLOAT */ sub_19063( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( g_U750 ), GET_PED_HEADING( g_U750 ) );
             /* WRITESCRIPTLOG */ sub_933( "SBA", "RUN_VIG_07B - Registering piPassos_Vig07B", "***" );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U771, 1 );
            ISEQ_REGISTER_ENTITY( 320396699, "passos", l_U771, 0 );
        }
        ISEQ_START( 320396699 );
        l_U791 = 2;
        break;
        case 2:
        if (ISEQ_QUERY_STATE( 320396699, 6 ))
        {
             /* WRITESCRIPTLOG */ sub_933( "SBA", "RUN_VIGNETTE_07B: DONE!", "***" );
            l_U791 = 0;
            l_U309._fU4 = 0;
        }
        break;
    }
    return;
}

/* CREATE_VIG_07B_PARKED_CARS */ void sub_18687()
{
     /* WRITESCRIPTLOG */ sub_933( "SBA", "CREATE_VIG_07B_PARKED_CARS - start", "***" );
     /* LOADMODEL */ sub_5759( 1839686620, 1 );
     /* LOADMODEL */ sub_5759( 557810561, 1 );
    l_U234[0] =  /* CREATEVEHICLE */ sub_12558( 1839686620, -19.47000000, -323.37500000, -0.61000000, -95.00000000, 1, 0, 0 );
    l_U234[1] =  /* CREATEVEHICLE */ sub_12558( 557810561, -18.25000000, -317.25000000, -0.61000000, 4.00000000, 1, 0, 0 );
     /* P_SET_STANDARD_VEHICLE_OPTIONS */ sub_12892( l_U234[0], 0, 1 );
     /* P_SET_STANDARD_VEHICLE_OPTIONS */ sub_12892( l_U234[1], 0, 1 );
    return;
}

/* WRITE_VECTOR_FLOAT */ void sub_19063(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    PRINTVECTOR( uParam0 );
    PRINTFLOAT( uParam3 );
    PRINTNL();
    return;
}

/* CLEAN_VIG_07B */ void sub_19353()
{
     /* WRITESCRIPTLOG */ sub_933( "SBA", "CLEAN_VIG_07B", "***" );
    ISEQ_UNREGISTER_ENTITY( 320396699, "passos" );
     /* TERMINATEISEQ */ sub_9526( 320396699, 1 );
     /* CLEANPED */ sub_6505( l_U771 );
     /* CLEANVEHICLEARRAY */ sub_17238( ref l_U234 );
     /* UNLOADMODEL */ sub_9842( 2024698471 );
     /* UNLOADMODEL */ sub_9842( 1839686620 );
     /* UNLOADMODEL */ sub_9842( 557810561 );
     /* UNLOADMODEL */ sub_9842( -425284483 );
    l_U309._fU4 = 0;
    l_U791 = 0;
    return;
}

/* HANDLE_VIGNETTE_08B */ void sub_19542()
{
    if (l_U327._fU0)
    {
         /* ISEQUENCE_TELEPORT_PLAYER */ sub_17529( ref l_U327 );
    }
    if (l_U327._fU4)
    {
         /* RUN_VIGNETTE_08B */ sub_19607();
    }
    if (l_U327._fU12)
    {
         /* CLEAN_VIG_08B */ sub_22696();
         /* SET_BOOL_ARRAY */ sub_2341( ref l_U816, 0 );
         /* SET_BOOL_ARRAY */ sub_2341( ref l_U820, 0 );
         /* P_RESET_ISEQUENCE_WIDGET_BOOLS */ sub_10024( ref l_U327 );
    }
    return;
}

/* RUN_VIGNETTE_08B */ void sub_19607()
{
    unknown uVar2;

    switch (l_U795)
    {
        case 0:
         /* WRITESCRIPTLOG */ sub_933( "SBA", "RUN_VIGNETTE_08B: state = 0", "***" );
         /* LOAD_ASSETS_VIGNETTE_08B */ sub_19719();
         /* CREATE_CARS_VIGNETTE_08B */ sub_20066();
         /* CREATE_ENEMIES_VIGNETTE_08B */ sub_20252( ref l_U824, l_U798, ref l_U808 );
         /* CREATE_ENEMIES_VIGNETTE_08B */ sub_20252( ref l_U894, l_U803, ref l_U812 );
         /* WRITESCRIPTLOG */ sub_933( "SBA", "RUN_VIGNETTE_08B: GOING TO State = 1", "***" );
        l_U795 = 1;
        break;
        case 1:
        if (l_U796)
        {
             /* TASK_PED_TO_LEAVE_CAR */ sub_21571( ref l_U824[0], l_U798, 0 );
             /* TASK_PED_TO_LEAVE_CAR */ sub_21571( ref l_U824[1], l_U798, 1 );
             /* TASK_PED_TO_LEAVE_CAR */ sub_21571( ref l_U824[2], l_U798, 0 );
             /* TASK_PED_TO_LEAVE_CAR */ sub_21571( ref l_U894[0], l_U803, 0 );
             /* TASK_PED_TO_LEAVE_CAR */ sub_21571( ref l_U894[1], l_U803, 1 );
             /* TASK_PED_TO_LEAVE_CAR */ sub_21571( ref l_U894[2], l_U803, 0 );
            l_U796 = 0;
            l_U795 = 2;
        }
        break;
        case 2:
        if (( /* F_IS_PED_DONE_EXITING_VEHICLE */ sub_21949( l_U894[0]._fU52 )) AND ( /* F_IS_PED_DONE_EXITING_VEHICLE */ sub_21949( l_U824[0]._fU52 )))
        {
             /* WRITESCRIPTLOG */ sub_933( "SBA", "RUN_VIGNETTE_08B: DONE!", "***" );
             /* PED_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS */ sub_22237( ref l_U824[0]._fU52, 0 );
             /* PED_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS */ sub_22237( ref l_U824[1]._fU52, 0 );
             /* PED_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS */ sub_22237( ref l_U824[2]._fU52, 0 );
             /* PED_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS */ sub_22237( ref l_U894[0]._fU52, 0 );
             /* PED_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS */ sub_22237( ref l_U894[1]._fU52, 0 );
             /* PED_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS */ sub_22237( ref l_U894[1]._fU52, 0 );
             /* LOCK_CLOSED_CAR_DOOR */ sub_22421( l_U798, 0, ref l_U816[0] );
             /* LOCK_CLOSED_CAR_DOOR */ sub_22421( l_U798, 3, ref l_U816[2] );
             /* LOCK_CLOSED_CAR_DOOR */ sub_22421( l_U803, 0, ref l_U820[0] );
             /* LOCK_CLOSED_CAR_DOOR */ sub_22421( l_U803, 2, ref l_U820[2] );
            l_U795 = 0;
            l_U327._fU4 = 0;
        }
        break;
    }
    return;
}

/* LOAD_ASSETS_VIGNETTE_08B */ void sub_19719()
{
     /* WRITESCRIPTLOG */ sub_933( "SBA", "LOAD_ASSETS_VIGNETTE_08B", "***" );
     /* LOADMODEL */ sub_5759( g_U2250, 1 );
     /* LOADMODEL */ sub_5759( 557810561, 1 );
     /* LOADANIMDICT */ sub_1800( "LEVEL_S_NYBAR_CP_02", 0, 1 );
     /* LOADANIMDICT */ sub_1800( "VEH@CAR_GENSEDAN", 0, 1 );
     /* LOADACTIONTREE */ sub_19904( "Vehicle/Vehicle_Car.act", 1 );
    return;
}

/* LOADACTIONTREE */ void sub_19904(unknown uParam0, int iParam1)
{
    ACTION_TREE_LOAD( uParam0 );
    if (iParam1 == 1)
    {
        while ((IS_ACTION_TREE_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an Action Tree to be loaded: {} ###", 1, 1537, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* CREATE_CARS_VIGNETTE_08B */ void sub_20066()
{
     /* WRITESCRIPTLOG */ sub_933( "SBA", "CREATE_CARS_VIGNETTE_08B", "***" );
    l_U798 =  /* CREATEVEHICLE */ sub_12558( 557810561, l_U799, l_U802, 0, 0, 0 );
    SET_VEHICLE_ON_GROUND_PROPERLY( l_U798 );
    l_U803 =  /* CREATEVEHICLE */ sub_12558( 557810561, l_U804, l_U807, 0, 0, 0 );
    SET_VEHICLE_ON_GROUND_PROPERLY( l_U803 );
    return;
}

/* CREATE_ENEMIES_VIGNETTE_08B */ void sub_20252(unknown uParam0, int iParam1, unknown uParam2)
{
    int I;

     /* WRITESCRIPTLOG */ sub_933( "SBA", "CREATE_ENEMIES_VIGNETTE_08B", "***" );
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
         /* P_CREATEPEDSTRUCTWITHNAME */ sub_11512( ref (uParam0^)[I]._fU0, (uParam0^)[I]._fU60, (uParam0^)[I]._fU84, (uParam0^)[I]._fU88, 7, 3, 2, 0, 0 );
        if (iParam1 == l_U803)
        {
            (uParam0^)[I]._fU52 =  /* CREATEPEDINVEHICLE */ sub_20439( ref (uParam0^)[I]._fU0, iParam1, (uParam2^)[I], 0, 0 );
        }
        else
        {
            (uParam0^)[I]._fU52 =  /* CREATEPEDINVEHICLE */ sub_20439( ref (uParam0^)[I]._fU0, iParam1, (uParam2^)[I], 0,  /* FIND_PATH_FOR_CAR_SEAT */ sub_21046( (uParam2^)[I] ) );
        }
         /* F_GIVEPEDWEAPON */ sub_1328( (uParam0^)[I]._fU52, -862236369, 25000, 0, 0 );
        SET_PED_NAME_DEBUG( (uParam0^)[I]._fU52, (uParam0^)[I]._fU56 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( (uParam0^)[I]._fU52, 1 );
    }
    return;
}

/* CREATEPEDINVEHICLE */ void sub_20439(int iParam0, unknown uParam1, unknown uParam2, int iParam3, unknown uParam4)
{
    if ((HAS_MODEL_LOADED( iParam0->_fU16 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_5759( iParam0->_fU16, 1 );
    }
    if (((IS_VEHICLE_DEAD( uParam1 )) == 0) AND ((DOES_VEHICLE_EXIST( uParam1 )) == 1))
    {
        iParam0->_fU40 = CREATE_PED_INSIDE_VEHICLE( uParam1, iParam0->_fU24, iParam0->_fU16, uParam2, uParam4, iParam0->_fU48 );
    }
    else
    {
        SCRIPT_ASSERT( "The vehicle your trying to create a ped inside of is not valid!!!", 0 );
    }
    if (iParam3 == 1)
    {
        while ((DOES_PED_EXIST( iParam0->_fU40 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for ped created inside a vehicle to exist... ###", 0 );
            WAIT( 0 );
        }
    }
     /* SETPEDDEFAULTSTATS */ sub_7223( iParam0->_fU40 );
     /* SETPEDDEFAULTTEMPLATE */ sub_7324( iParam0->_fU40 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        iParam0->_fU44 = 1;
    }
    return iParam0->_fU40;
}

/* FIND_PATH_FOR_CAR_SEAT */ string sub_21046(unknown uParam0)
{
    switch (uParam0)
    {
        case 0:
        return "/Global/VehicleCar/Passenger_FrontRight/CAR_GENSEDAN2";
        break;
        case 1:
        return "/Global/VehicleCar/Passenger_BackLeft/CAR_GENSEDAN2";
        break;
        case 2:
        return "/Global/VehicleCar/Passenger_BackRight/CAR_GENSEDAN2";
        break;
    }
    return "/Global/VehicleCar/Driver/CAR_GENSEDAN2";
}

/* TASK_PED_TO_LEAVE_CAR */ void sub_21571(int iParam0, unknown uParam1, boolean bParam2)
{
    if (( /* IS_VEHICLE_VALID */ sub_12997( uParam1 )) AND ( /* IS_PED_VALID */ sub_7450( iParam0->_fU52 )))
    {
        if (bParam2)
        {
             /* WRITESCRIPTLOG */ sub_933( "SBA", "TASK_PED_TO_LEAVE_CAR: Exitting car but NOT closing door", "***" );
            TASK_LEAVE_VEHICLE_DONT_CLOSE_DOOR( iParam0->_fU52, uParam1 );
        }
        else
        {
             /* WRITESCRIPTLOG */ sub_933( "SBA", "TASK_PED_TO_LEAVE_CAR: Exitting car and closing door", "***" );
            TASK_LEAVE_VEHICLE( iParam0->_fU52, uParam1 );
        }
    }
    return;
}

/* F_IS_PED_DONE_EXITING_VEHICLE */ int sub_21949(unknown uParam0)
{
    if (( /* F_GET_SCRIPT_TASK_STATUS */ sub_21994( uParam0, 11 )) == 7)
    {
         /* WRITESCRIPTLOG */ sub_933( "SBA", "F_IS_PED_DONE_EXITING_VEHICLE:  TRUE!", "***" );
        return 1;
    }
    return 0;
}

/* F_GET_SCRIPT_TASK_STATUS */ int sub_21994(unknown uParam0, unknown uParam1)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        return GET_SCRIPT_TASK_STATUS( uParam0, uParam1 );
    }
    return 0;
}

/* PED_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS */ void sub_22237(unknown uParam0, unknown uParam1)
{
    if ( /* IS_PED_VALID */ sub_7450( (uParam0^) ))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( (uParam0^), uParam1 );
    }
    return;
}

/* LOCK_CLOSED_CAR_DOOR */ void sub_22421(unknown uParam0, unknown uParam1, unknown uParam2)
{
    if (NOT (uParam2^))
    {
        if ( /* IS_VEHICLE_VALID */ sub_12997( uParam0 ))
        {
            if ((GET_VEHICLE_DOOR_ANGLE_RATIO( uParam0, uParam1 )) <= l_U797)
            {
                 /* WRITESCRIPTLOG */ sub_933( "SBA", "LOCK_CLOSED_CAR_DOOR: shuting and latching door!", "***" );
                SET_VEHICLE_DOOR_SHUT( uParam0, uParam1, 0, 0 );
                SET_VEHICLE_DOOR_LATCHED( uParam0, uParam1, 1, 1 );
                (uParam2^) = 1;
            }
        }
    }
    return;
}

/* CLEAN_VIG_08B */ void sub_22696()
{
     /* WRITESCRIPTLOG */ sub_933( "SBA", "CLEAN_VIG_08B", "***" );
     /* CLEAN_PEDS_VIG_08B */ sub_22764( ref l_U824, l_U793 );
     /* CLEAN_PEDS_VIG_08B */ sub_22764( ref l_U894, l_U794 );
     /* TERMINATEISEQ */ sub_9526( 1537241033, 1 );
     /* CLEANVEHICLE */ sub_17292( l_U798 );
     /* CLEANVEHICLE */ sub_17292( l_U803 );
     /* UNLOADMODEL */ sub_9842( g_U2250 );
     /* UNLOADMODEL */ sub_9842( 557810561 );
     /* UNLOADANIMDICT */ sub_23012( "LEVEL_S_NYBAR_CP_02" );
     /* UNLOADANIMDICT */ sub_23012( "VEH@CAR_GENSEDAN" );
    l_U795 = 0;
    return;
}

/* CLEAN_PEDS_VIG_08B */ void sub_22764(unknown uParam0, unknown uParam1)
{
    int I;

     /* WRITESCRIPTLOG */ sub_933( "SBA", "CLEAN_PEDS_VIG_08B", "***" );
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        if ( /* IS_PED_VALID */ sub_7450( (uParam0^)[I]._fU52 ))
        {
            I_SEQUENCE_UNREGISTER_ENTITY( uParam1, (uParam0^)[I]._fU56 );
             /* CLEANPED */ sub_6505( (uParam0^)[I]._fU52 );
        }
    }
    return;
}

/* UNLOADANIMDICT */ void sub_23012(unknown uParam0)
{
    REMOVE_ANIM_DICT( uParam0, 0 );
    return;
}

/* HANDLE_VIGNETTE_09 */ void sub_23132()
{
    if (l_U336._fU0)
    {
         /* ISEQUENCE_TELEPORT_PLAYER */ sub_17529( ref l_U336 );
    }
    if (l_U336._fU4)
    {
         /* RUN_VIG_09 */ sub_23196();
    }
    if (l_U336._fU12)
    {
        l_U983 = 0;
        if ( /* IS_PED_VALID */ sub_7450( g_U750 ))
        {
            PED_FINISH_ACTION_INTENTION( g_U750, 55 );
        }
         /* CLEAN_VIG_09 */ sub_23795();
         /* P_RESET_ISEQUENCE_WIDGET_BOOLS */ sub_10024( ref l_U336 );
    }
    return;
}

/* RUN_VIG_09 */ void sub_23196()
{
    switch (l_U964)
    {
        case 0:
         /* MAKE_PASSOS_VIG_09 */ sub_23255();
         /* LOADISEQ */ sub_8903( -236629402, 1 );
        l_U964 = 1;
        break;
        case 1:
        if ( /* IS_PED_VALID */ sub_7450( l_U965 ))
        {
             /* WRITESCRIPTLOG */ sub_933( "SBA", "RUN_VIG_09 - Registering piPassos_Vig09", "***" );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U965, 1 );
            ISEQ_REGISTER_ENTITY( -236629402, "passos", l_U965, 0 );
        }
        ISEQ_START( -236629402 );
        l_U964 = 2;
        break;
        case 2:
        if (l_U983)
        {
            if ( /* IS_PED_VALID */ sub_7450( g_U750 ))
            {
                PED_SET_ACTION_INTENTION( g_U750, 55, -1, 0, 0, 0 );
            }
        }
        else if ( /* IS_PED_VALID */ sub_7450( g_U750 ))
        {
            PED_FINISH_ACTION_INTENTION( g_U750, 55 );
        }
        if (ISEQ_QUERY_STATE( -236629402, 6 ))
        {
             /* WRITESCRIPTLOG */ sub_933( "SBA", "RUN_VIGNETTE_09: DONE!", "***" );
            l_U964 = 0;
            l_U336._fU4 = 0;
        }
        break;
    }
    return;
}

/* MAKE_PASSOS_VIG_09 */ void sub_23255()
{
     /* WRITESCRIPTLOG */ sub_933( "SBA", "MAKE_PASSOS_VIG_09", "***" );
     /* LOADMODEL */ sub_5759( 2024698471, 1 );
     /* P_CREATEPEDSTRUCT */ sub_6615( ref l_U966, l_U979, l_U982, 2024698471, 7, 3, 2, 0, 0 );
     /* CLEANPED */ sub_6505( l_U965 );
    l_U965 =  /* CREATEPED */ sub_6732( ref l_U966 );
     /* F_GIVEPEDWEAPON */ sub_1328( l_U965, -862236369, 25000, 0, 0 );
    return;
}

/* CLEAN_VIG_09 */ void sub_23795()
{
     /* WRITESCRIPTLOG */ sub_933( "SBA", "CLEAN_VIG_09", "***" );
    ISEQ_UNREGISTER_ENTITY( -236629402, "passos" );
     /* TERMINATEISEQ */ sub_9526( -236629402, 1 );
     /* CLEANPED */ sub_6505( l_U965 );
     /* UNLOADMODEL */ sub_9842( 2024698471 );
    l_U336._fU4 = 0;
    l_U964 = 0;
    return;
}

/* HANDLE_BLENDOUT_04_01A */ void sub_23951()
{
    unknown uVar2;
    unknown uVar3;

    if (l_U255._fU0)
    {
         /* ISEQUENCE_TELEPORT_PLAYER */ sub_17529( ref l_U255 );
    }
    if (l_U255._fU4)
    {
        if ( /* HANDLE_04_01_A_BLENDOUT */ sub_24050( 0, ref l_U526, ref l_U540, ref l_U554, ref l_U568, ref l_U582, ref l_U596, ref l_U610, ref uVar2, ref uVar3 ))
        {
            l_U255._fU4 = 0;
        }
    }
    if (l_U255._fU12)
    {
         /* UNREGISTER_BLENDOUTA_PEDS */ sub_32002();
         /* TERMINATEISEQ */ sub_9526( 1066718456, 1 );
         /* CLEANUP_04_01A_ASSETS */ sub_34298();
         /* UNLOAD_04_01A_ASSETS */ sub_34400();
        l_U525 = 1;
         /* NIS_POST_SETUP */ sub_34499( 1, 1 );
        SET_PLAYER_FORCED_AIM(  /* PLAYER_ID */ sub_1262(), 0, 0 );
        ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
        DEACTIVATE_BULLET_TIME( 0, 0 );
        DISPLAY_HUD( 1 );
        ENABLE_CROSSHAIR( 0 );
        ENABLE_MPM( 0 );
         /* P_RESET_ISEQUENCE_WIDGET_BOOLS */ sub_10024( ref l_U255 );
    }
    return;
}

/* HANDLE_04_01_A_BLENDOUT */ int sub_24050(boolean bParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
    vector vVar12;

    switch (l_U525)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_933( "RJM", "HANDLE_04_01_A_BLENDOUT - in BLEND_A_INIT", 0 );
         /* NIS_PRE_SETUP */ sub_24246( 1, 0, 0, 0 );
        if (NOT bParam0)
        {
            SET_TIME_OF_DAY( 12, 0 );
            FREEZE_TIME_OF_DAY( 12, 0 );
            SET_WEATHER_TYPE_NOW_PERSIST( "CLOUDY" );
             /* BLOCKLOAD_04_01A_ASSETS */ sub_24463();
             /* CREATE_BLENDOUT_ONLY_PEDS */ sub_24965();
            if ( /* IS_MAX_VALID */ sub_8603())
            {
                REMOVE_ALL_PED_WEAPONS(  /* PLAYER_PED_ID */ sub_1224() );
                 /* F_GIVEPEDWEAPON */ sub_1328(  /* PLAYER_PED_ID */ sub_1224(), -862236369, 25000, 0, 0 );
            }
        }
        if ( /* IS_MAX_VALID */ sub_8603())
        {
            SET_ADRENALINE_AMT( 0.50000000 );
        }
        if ( /* IS_PED_VALID */ sub_7450( (uParam2^) ))
        {
            SET_PED_CAN_TRIGGER_BULLET_CAM( (uParam2^), 1 );
        }
         /* NIS_CREATE_STATIC_CAM */ sub_25618( ref l_U624, -3.01835200, -305.72660000, 1.21078300, -4.68366300, -0.03838200, -37.11246000, 45, 0 );
         /* NIS_CREATE_STATIC_CAM */ sub_25618( ref l_U655, -2.12926000, -306.44150000, 1.28760200, -5.46349200, 0.00000600, -20.50979000, 45, 10000 );
         /* NIS_CREATE_STATIC_CAM */ sub_25618( ref l_U686, -2.27030800, -306.81850000, 1.32609500, -5.46342900, 0.00001500, -20.51019000, 28, 10000 );
        l_U762 = 0;
         /* F_GIVEPEDWEAPON */ sub_1328( (uParam5^), -862236369, 25000, 0, 0 );
        if ((ISEQ_QUERY_STATE( 1066718456, 3 )) == 0)
        {
             /* WRITESCRIPTLOG */ sub_933( "RJM", "We're playing from Checkpoint 1 - Cutscene hasn't registered the ISEQ", 0 );
             /* REGISTER_BLENDOUTA_PEDS */ sub_26231( uParam1, uParam2, uParam3, uParam4, uParam5, uParam6, uParam7 );
            ISEQ_START( 1066718456 );
        }
        SET_CAM_SIDE_LEFT( 1 );
        DISPLAY_HUD( 0 );
        ENABLE_MPM( 1 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( g_U2253[1]._fU16, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( g_U2253[1]._fU20, 1065353216, 0 );
         /* NIS_PLAY_INTERP_WITH_STATIC_CAMS */ sub_27515( ref l_U624, ref l_U655, 1375, 1, 1 );
         /* CREATETIMER */ sub_25770( ref l_U717, 500, 1, 0 );
         /* STARTTIMER */ sub_27615( ref l_U717 );
         /* CREATETIMER */ sub_25770( ref l_U726, 1375, 1, 0 );
         /* STARTTIMER */ sub_27615( ref l_U726 );
         /* WRITESCRIPTLOG */ sub_933( "RJM", "HANDLE_04_01_A_BLENDOUT - Going to BLEND_A_START", 0 );
        l_U525 = 2;
        break;
        case 2:
        if (IS_SCREEN_FADED_OUT())
        {
            if (NOT ( /* F_IMAGEFX_FADE_IN */ sub_27900()))
            {
                DO_SCREEN_FADE_IN( 500 );
            }
        }
        if (NOT (IS_PED_DEAD( (uParam2^) )))
        {
            CAMERA_POINT_AT_PED( (uParam2^), 0 );
        }
         /* WRITESCRIPTLOG */ sub_933( "RJM", "HANDLE_04_01_A_BLENDOUT - Going to BLEND_A_WAIT_TO_ENABLE_BULLET_TIME", 0 );
        l_U525 = 3;
        break;
        case 3:
        if ( /* ISTIMERDONE */ sub_28277( ref l_U717 ))
        {
            ACTIVATE_BULLET_TIME( 0, 1, 1 );
             /* CREATETIMER */ sub_25770( ref l_U717, 300, 1, 0 );
             /* STARTTIMER */ sub_27615( ref l_U717 );
             /* LOADSEAMLESSCUTSCENE */ sub_28510( "04_01_nybar_win", 0 );
             /* LOADISEQ */ sub_8903( 525357828, 0 );
             /* WRITESCRIPTLOG */ sub_933( "RJM", "HANDLE_04_01_A_BLENDOUT - Going to BLEND_A_WAIT_TO_ENABLE_CURSOR", 0 );
            l_U525 = 4;
        }
        break;
        case 4:
        if ( /* ISTIMERDONE */ sub_28277( ref l_U717 ))
        {
            ENABLE_CROSSHAIR( 1 );
            SET_CROSSHAIR_PULSE();
             /* CREATETIMER */ sub_25770( ref l_U717, 900, 1, 0 );
             /* STARTTIMER */ sub_27615( ref l_U717 );
             /* CREATETIMER */ sub_25770( ref l_U735, 890, 1, 0 );
             /* STARTTIMER */ sub_27615( ref l_U735 );
             /* WRITESCRIPTLOG */ sub_933( "RJM", "HANDLE_04_01_A_BLENDOUT - Going to BLEND_A_WAIT_FOR_TONY_DEAD", 0 );
            l_U525 = 5;
        }
        break;
        case 5:
        if ( /* ISTIMERDONE */ sub_28277( ref l_U726 ))
        {
             /* WRITESCRIPTLOG */ sub_933( "RJM", "Displaying reticule, and returning player control", 0 );
             /* NIS_PLAY_INTERP_WITH_STATIC_CAMS */ sub_27515( ref l_U655, ref l_U686, 7500, 1, 1 );
            ACTIVATE_BULLET_TIME( 0, 0.20000000, 1 );
        }
        if (NOT l_U762)
        {
            if ( /* ISTIMERDONE */ sub_28277( ref l_U735 ))
            {
                 /* WRITESCRIPTLOG */ sub_933( "RJM", "HANDLE_04_01_A_BLENDOUT - Max took too long, reticle's disabled, and he can't fire", 0 );
                l_U762 = 1;
                ENABLE_CROSSHAIR( 0 );
            }
        }
        if ((NOT l_U762) AND (IS_CONTROL_JUST_PRESSED( 2, 4 )))
        {
            SET_ARCADEMODE_EVENT( 3, (uParam2^) );
            ISEQ_UNREGISTER_ENTITY( 1066718456, "tony" );
            SET_PED_SHOOTS_AT_COORD(  /* PLAYER_PED_ID */ sub_1224(), 1.76000000, -298.68000000, 0.36000000 );
             /* CREATETIMER */ sub_25770( ref l_U717, 60, 1, 1 );
             /* STARTTIMER */ sub_27615( ref l_U717 );
             /* WRITESCRIPTLOG */ sub_933( "RJM", "HANDLE_04_01_A_BLENDOUT - Going to BLEND_A_WAIT_TO_START_SUCCESS_SCENE", 0 );
            l_U525 = 6;
        }
        if ( /* ISTIMERDONE */ sub_28277( ref l_U717 ))
        {
             /* CREATETIMER */ sub_25770( ref l_U717, 8000, 1, 0 );
             /* STARTTIMER */ sub_27615( ref l_U717 );
             /* NIS_PRE_SETUP */ sub_24246( 1, 0, 0, 1 );
            DEACTIVATE_BULLET_TIME( 0, 0 );
            if ( /* IS_PED_VALID */ sub_7450( (uParam3^) ))
            {
                vVar12 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( (uParam3^) )};
                vVar12 = {vVar12 + (vector( 0.50000000, 0, -1.00000000))};
                 /* TELEPORTPED */ sub_16298( (uParam3^), vVar12, GET_PED_HEADING( (uParam3^) ) );
                if ( /* IS_PED_VALID */ sub_7450( (uParam7^) ))
                {
                    SET_PED_DEFAULT_AIM_AT_PED( (uParam7^), (uParam3^) );
                }
            }
            CAMERA_PLAY_ANIMATED( "LEVEL_S_NYBAR_CP_00", "B_OUT_04_01A_NY_BAR_FWD_CAM", 0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0 );
             /* P_IMAGEFX_START_BULLETCAM */ sub_29814( "NY_TONY_SCRIPTED_FAIL_FX", 0 );
             /* CREATETIMER */ sub_25770( ref l_U744, 2000, 1, 0 );
             /* STARTTIMER */ sub_27615( ref l_U744 );
             /* CREATETIMER */ sub_25770( ref l_U753, l_U763, 1, 0 );
             /* STARTTIMER */ sub_27615( ref l_U753 );
             /* WRITESCRIPTLOG */ sub_933( "RJM", "HANDLE_04_01_A_BLENDOUT - Going to BLEND_A_FAIL_WAIT_FOR_CAMERA", 0 );
            l_U525 = 9;
        }
        break;
        case 6:
        if ( /* ISTIMERDONE */ sub_28277( ref l_U717 ))
        {
            ENABLE_CROSSHAIR( 0 );
             /* TERMINATEISEQ */ sub_9526( 1066718456, 0 );
             /* LOADSEAMLESSCUTSCENE */ sub_28510( "04_01_nybar_win", 1 );
             /* LOADISEQ */ sub_8903( 525357828, 1 );
             /* WRITESCRIPTLOG */ sub_933( "RJM", "HANDLE_04_01_A_BLENDOUT - Going to BLEND_A_SUCCESS_REGISTER_PEDS", 0 );
            l_U525 = 7;
            break;
        }
        return 0;
        case 7:
        if ( /* IS_MAX_VALID */ sub_8603())
        {
             /* WRITESCRIPTLOG */ sub_933( "RJM", "Registering player with 04_01_pt01", 0 );
            HIDE_PED_WEAPON_FOR_SCRIPTED_CUTSCENE(  /* PLAYER_PED_ID */ sub_1224(), 1 );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_1224(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
            CUTSCENE_REGISTER_PED_TELEPORT(  /* PLAYER_PED_ID */ sub_1224(), g_U2416, g_U2419 );
            CUTSCENE_REGISTER_SET_PLAYER_IN_COVER( "GenCover", "47E254B1_146226EB_Corner2", 1, 0 );
            CUTSCENE_SET_COVER_CAMERA_DIRECTION( g_U2253[2]._fU16, g_U2253[2]._fU20 );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_1224(), 0, 0 ), "W_PI_Clt1911_Aa_H^5", 0 );
            ISEQ_REGISTER_ENTITY( 525357828, "max",  /* PLAYER_PED_ID */ sub_1224(), 0 );
        }
        if ( /* IS_PED_VALID */ sub_7450( (uParam2^) ))
        {
             /* WRITESCRIPTLOG */ sub_933( "RJM", "Registering Tony with 04_01_pt01", 0 );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( (uParam2^), 0, 0 ), "W_PI_Clt1911_Aa_H", 0 );
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam2^), "FB_Tony_D", 0 );
            SET_PED_GORE( (uParam2^), 1 );
        }
        if (((IS_PED_DEAD( (uParam1^) )) == 0) AND ((DOES_PED_EXIST( (uParam1^) )) == 1))
        {
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( (uParam1^), 0, 0 ), "W_PI_38_Ba_H", 0 );
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam1^), "FB_Pass_NY", 0 );
        }
        if (((IS_PED_DEAD( (uParam3^) )) == 0) AND ((DOES_PED_EXIST( (uParam3^) )) == 1))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam3^), "Bar_Girl_F_Avg", 0 );
            CUTSCENE_REGISTER_PED_TELEPORT( (uParam3^), -4.74000000, -314.49800000, -0.30000000, 65446 );
            ISEQ_REGISTER_ENTITY( -596711032, "bargirl", (uParam3^), 0 );
        }
        if (((IS_PED_DEAD( (uParam4^) )) == 0) AND ((DOES_PED_EXIST( (uParam4^) )) == 1))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam4^), "Bar_Tend_Fat", 0 );
            CUTSCENE_REGISTER_PED_TELEPORT( (uParam4^), -4.59000000, -312.60000000, -0.30000000, 65446 );
            ISEQ_REGISTER_ENTITY( -596711032, "bartender", (uParam4^), 0 );
        }
        if ( /* IS_PED_VALID */ sub_7450( (uParam5^) ))
        {
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( (uParam5^), 0, 0 ), "W_PI_Clt1911_Aa_H^3", 0 );
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam5^), "G_NY_T_Thug_C", 0 );
        }
        if ( /* IS_PED_VALID */ sub_7450( (uParam8^) ))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam8^), "G_NY_T_Sold_A", 0 );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( (uParam8^), ref g_U2219 );
            CUTSCENE_REGISTER_PED_TELEPORT( (uParam8^), g_U2424, g_U2427 );
            ISEQ_REGISTER_ENTITY( 525357828, "gmed1", (uParam8^), 0 );
        }
        if ( /* IS_PED_VALID */ sub_7450( (uParam9^) ))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam9^), "G_NY_T_Sold_A^4", 0 );
            CUTSCENE_REGISTER_SET_PED_IN_COVER( (uParam9^), "GenCover", "47E254B1_8E4C212D_Popover1", 0, 1 );
            ISEQ_REGISTER_ENTITY( 525357828, "gmed2", (uParam9^), 0 );
        }
        if ( /* IS_PED_VALID */ sub_7450( (uParam6^) ))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam6^), "G_NY_T_Thug_B", 0 );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( (uParam6^), ref g_U2219 );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( (uParam6^), 0, 0 ), "W_PI_Clt1911_Aa_H^1", 0 );
            CUTSCENE_REGISTER_PED_TELEPORT( (uParam6^), g_U2420, g_U2423 );
            ISEQ_REGISTER_ENTITY( 525357828, "gmed", (uParam6^), 0 );
        }
        if ( /* IS_PED_VALID */ sub_7450( (uParam7^) ))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam7^), "G_NY_T_Thug_A", 0 );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( (uParam7^), 0, 0 ), "W_PI_Clt1911_Aa_H^2", 0 );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( (uParam7^), ref g_U2219 );
            CUTSCENE_REGISTER_PED_TELEPORT( (uParam7^), g_U2432, g_U2435 );
            ISEQ_REGISTER_ENTITY( 525357828, "gmed3", (uParam7^), 0 );
        }
        CUTSCENE_REGISTER_ISEQ( 525357828 );
        CUTSCENE_REGISTER_ISEQ( -596711032 );
        DEACTIVATE_BULLET_TIME( 0, 0 );
        START_SEAMLESS_CUTSCENE();
        ENABLE_MPM( 0 );
         /* WRITESCRIPTLOG */ sub_933( "RJM", "HANDLE_04_01_A_BLENDOUT - Going to BLEND_A_SUCCESS_WAIT_FOR_END", 0 );
        l_U525 = 8;
        break;
        case 8:
        if (HAS_CUTSCENE_FINISHED())
        {
             /* UNREGISTER_BLENDOUTA_PEDS */ sub_32002();
            CAMERA_PLAY_ANIMATED( l_U514, l_U513, 0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0 );
            return 1;
        }
        break;
        case 9:
        if (( /* IS_MAX_VALID */ sub_8603()) AND ( /* IS_PED_VALID */ sub_7450( (uParam2^) )))
        {
            if ( /* ISTIMERDONE */ sub_28277( ref l_U753 ))
            {
                 /* WRITESCRIPTLOG */ sub_933( "RJM", "Playing headsoup on Max during failure", 0 );
                PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_1224(), 47, 1000, 0, 0, 0 );
                START_PARTICLE_FX_NON_LOOPED_ON_PED_BONE( "CS_Blood_ImpactSplash_S",  /* PLAYER_PED_ID */ sub_1224(), 0.25000000, 0, 0, 0, 180, 0, 65488, 1 );
                START_PARTICLE_FX_NON_LOOPED_ON_PED_BONE( "CS_Blood_Exit_S",  /* PLAYER_PED_ID */ sub_1224(), 0.25000000, 0, 0, 0, 180, 0, 65488, 1 );
            }
        }
        if (( /* IS_PED_VALID */ sub_7450( (uParam1^) )) AND ( /* IS_PED_VALID */ sub_7450( (uParam5^) )))
        {
            if (PED_ANIM_EVENT( (uParam5^), -1531652494 ))
            {
                 /* WRITESCRIPTLOG */ sub_933( "RJM", "Playing headsoup on Passos during failure", 0 );
                START_PARTICLE_FX_NON_LOOPED_ON_PED_BONE( "CS_Blood_ImpactSplash_S", (uParam1^), 0.25000000, 0, 0, 0, 180, 0, 65488, 1 );
                START_PARTICLE_FX_NON_LOOPED_ON_PED_BONE( "CS_Blood_Exit_S", (uParam1^), 0.25000000, 0, 0, 0, 180, 0, 65488, 1 );
            }
        }
        if ( /* ISTIMERDONE */ sub_28277( ref l_U744 ))
        {
             /* RESET_SCRIPT_SPEECH_STRUCT */ sub_32770( ref l_U515 );
             /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_32880( 1, (uParam2^), "TONY", ref l_U515, 2, 0 );
             /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_32880( 2, (uParam3^), "Bar_Girl_F_Avg", ref l_U515, 2, 0 );
             /* PLAY_SINGLE_SPEECH */ sub_33160( "SNYC_0401FAIL", ref l_U515, 8, 1 );
        }
        if ( /* ISTIMERDONE */ sub_28277( ref l_U717 ))
        {
            g_U2200 = 1;
             /* WRITESCRIPTLOG */ sub_933( "RJM", "HANDLE_04_01_A_BLENDOUT - Going to BLEND_A_FAIL_WAIT_FOR_FADE", 0 );
            l_U525 = 10;
        }
        break;
        case 10:
         /* UNREGISTER_BLENDOUTA_PEDS */ sub_32002();
         /* WRITESCRIPTLOG */ sub_933( "RJM", "HANDLE_04_01_A_BLENDOUT - Going to BLEND_A_IDLE", 0 );
        l_U525 = 0;
        break;
        case 0: break;
    }
    return 0;
}

/* NIS_PRE_SETUP */ void sub_24246(int iParam0, int iParam1, unknown uParam2, boolean bParam3)
{
    END_POSTFX_BLENDER( 12, 0 );
    if (bParam3)
    {
        STOP_ALL_IMAGEFX( 0 );
    }
    SET_WIDESCREEN_BORDERS( 1, 500 );
    DISPLAY_HUD( 0 );
    if (iParam0 == 1)
    {
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1224() )))
        {
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_1262(), 0, uParam2 );
            SET_PED_DUCKING(  /* PLAYER_PED_ID */ sub_1224(), 0 );
            if (iParam1 == 1)
            {
                CLEAR_PED_TASKS_IMMEDIATELY(  /* PLAYER_PED_ID */ sub_1224() );
            }
            SET_PED_INVINCIBLE(  /* PLAYER_PED_ID */ sub_1224(), 1 );
        }
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    return;
}

/* BLOCKLOAD_04_01A_ASSETS */ void sub_24463()
{
     /* BLOCKLOADMODEL */ sub_24504( g_U2248 );
     /* BLOCKLOADMODEL */ sub_24504( 1853260236 );
     /* BLOCKLOADMODEL */ sub_24504( 1864850433 );
     /* BLOCKLOADMODEL */ sub_24504( -695927253 );
     /* BLOCKLOADMODEL */ sub_24504( 2080318414 );
     /* LOADISEQ */ sub_8903( 1066718456, 1 );
    return;
}

/* BLOCKLOADMODEL */ void sub_24504(unknown uParam0)
{
    DISPLAYF( "[MSWW]### Trying to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
         /* WRITE_STRING */ sub_1713( "[SP]### ERROR! (BlockLoadModel) Trying to block load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    LOAD_ALL_OBJECTS_NOW();
    while ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        LOAD_ALL_OBJECTS_NOW();
        DISPLAYF( "[SP]### Waiting to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
        WAIT( 0 );
    }
    DISPLAYF( "[MSWW]### Has loaded model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
    return;
}

/* CREATE_BLENDOUT_ONLY_PEDS */ void sub_24965()
{
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_11512( ref l_U527, g_U725[0]._fU0, g_U725[0]._fU12, -1756913695, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_11512( ref l_U541, -1.80600000, -303.75300000, -0.26800000, -150.00000000, 417317379, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_11512( ref l_U555, -1.27900000, -304.48500000, -0.26700000, -90.00000000, 2039064213, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_11512( ref l_U569, -4.67800000, -306.42800000, -0.27200000, -90.00000000, 553761934, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_11512( ref l_U583, -2.74100000, -302.63500000, -0.29000000, 65386, 725084468, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_11512( ref l_U597, -0.57400000, -306.12400000, -0.28200000, 0.00000000, 1497998925, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_11512( ref l_U611, -1.29400000, -307.27800000, -0.29300000, 0.00000000, 1339582665, 26, 6, 0, 0, 0 );
     /* PREP_BLENDOUT_ONLY_PEDS */ sub_25307( ref l_U526, l_U527 );
     /* PREP_BLENDOUT_ONLY_PEDS */ sub_25307( ref l_U540, l_U541 );
     /* PREP_BLENDOUT_ONLY_PEDS */ sub_25307( ref l_U554, l_U555 );
     /* PREP_BLENDOUT_ONLY_PEDS */ sub_25307( ref l_U568, l_U569 );
     /* PREP_BLENDOUT_ONLY_PEDS */ sub_25307( ref l_U582, l_U583 );
     /* PREP_BLENDOUT_ONLY_PEDS */ sub_25307( ref l_U596, l_U597 );
     /* PREP_BLENDOUT_ONLY_PEDS */ sub_25307( ref l_U610, l_U611 );
    return;
}

/* PREP_BLENDOUT_ONLY_PEDS */ void sub_25307(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13)
{
    (uParam0^) =  /* CREATEPED */ sub_6732( ref uParam1 );
    if ( /* IS_PED_VALID */ sub_7450( (uParam0^) ))
    {
        SET_ROOM_FOR_PED_BY_NAME( (uParam0^), ref g_U2473 );
    }
    return;
}

/* NIS_CREATE_STATIC_CAM */ void sub_25618(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    iParam0->_fU4 = {uParam4};
    iParam0->_fU16 = {uParam1};
    iParam0->_fU28 = uParam7;
    iParam0->_fU32 = 0;
    iParam0->_fU36 = 0;
    iParam0->_fU84 = uParam8;
    iParam0->_fU88 = 0;
    iParam0->_fU92 = 0;
    iParam0->_fU40 = 0;
    iParam0->_fU44 = 0;
    iParam0->_fU100 = 1;
    iParam0->_fU104 = 1;
    iParam0->_fU96 = 0;
     /* CREATETIMER */ sub_25770( iParam0 + 48, uParam8, 1, 0 );
    iParam0->_fU0 = CREATE_CAM_WITH_PARAMS( ref g_U649, iParam0->_fU16, iParam0->_fU4, iParam0->_fU28, 1 );
    SET_CAM_PARAMS( iParam0->_fU0, iParam0->_fU16, iParam0->_fU4, iParam0->_fU28, 0, 1, 1 );
    return;
}

/* CREATETIMER */ void sub_25770(int iParam0, unknown uParam1, boolean bParam2, int iParam3)
{
    if (bParam2)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam3 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU12 = uParam1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = bParam2;
    iParam0->_fU32 = iParam3;
    iParam0->_fU8 = 0;
    return;
}

/* REGISTER_BLENDOUTA_PEDS */ void sub_26231(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    if ( /* IS_MAX_VALID */ sub_8603())
    {
         /* WRITESCRIPTLOG */ sub_933( "RJM", "REGISTER_BLENDOUTA_PEDS - Registering Max", 0 );
         /* TELEPORTPED */ sub_16298(  /* PLAYER_PED_ID */ sub_1224(), -2.34300000, -305.34100000, -0.28300000, 65506 );
        ISEQ_REGISTER_ENTITY( 1066718456, "max",  /* PLAYER_PED_ID */ sub_1224(), 0 );
    }
    if ( /* IS_PED_VALID */ sub_7450( (uParam0^) ))
    {
         /* WRITESCRIPTLOG */ sub_933( "RJM", "REGISTER_BLENDOUTA_PEDS - Registering Passos", 0 );
         /* TELEPORTPED */ sub_16298( (uParam0^), -3.48000000, -304.07700000, -0.26800000, 65446 );
        ISEQ_REGISTER_ENTITY( 1066718456, "passos", (uParam0^), 0 );
    }
    if ( /* IS_PED_VALID */ sub_7450( (uParam1^) ))
    {
         /* WRITESCRIPTLOG */ sub_933( "RJM", "REGISTER_BLENDOUTA_PEDS - Registering Tony", 0 );
         /* TELEPORTPED */ sub_16298( (uParam1^), -1.00000000, -303.35300000, -0.26800000, -150.00000000 );
        SET_PED_INVINCIBLE( (uParam1^), 1 );
         /* F_GIVEPEDWEAPON */ sub_1328( (uParam1^), -862236369, 25000, 0, 0 );
        SET_ROOM_FOR_PED_BY_NAME( (uParam1^), ref g_U2473 );
        ISEQ_REGISTER_ENTITY( 1066718456, "tony", (uParam1^), 0 );
    }
    if ( /* IS_PED_VALID */ sub_7450( (uParam4^) ))
    {
         /* WRITESCRIPTLOG */ sub_933( "RJM", "REGISTER_BLENDOUTA_PEDS - Registering Thug1", 0 );
         /* TELEPORTPED */ sub_16298( (uParam4^), -2.74100000, -302.63500000, -0.29000000, 65386 );
        SET_ROOM_FOR_PED_BY_NAME( (uParam4^), ref g_U2473 );
        SET_PED_VISIBLE( (uParam4^), 1 );
        ISEQ_REGISTER_ENTITY( 1066718456, "thug1", (uParam4^), 0 );
    }
    if ( /* IS_PED_VALID */ sub_7450( (uParam5^) ))
    {
         /* WRITESCRIPTLOG */ sub_933( "RJM", "REGISTER_BLENDOUTA_PEDS - Registering Thug2", 0 );
         /* TELEPORTPED */ sub_16298( (uParam5^), -0.57400000, -306.12400000, -0.28200000, 0.00000000 );
        SET_ROOM_FOR_PED_BY_NAME( (uParam5^), ref g_U2473 );
        SET_PED_VISIBLE( (uParam5^), 1 );
        ISEQ_REGISTER_ENTITY( 1066718456, "thug2", (uParam5^), 0 );
    }
    if ( /* IS_PED_VALID */ sub_7450( (uParam6^) ))
    {
         /* WRITESCRIPTLOG */ sub_933( "RJM", "REGISTER_BLENDOUTA_PEDS - Registering Thug3", 0 );
         /* TELEPORTPED */ sub_16298( (uParam6^), -1.29400000, -307.27800000, -0.29300000, 0.00000000 );
        SET_PED_VISIBLE( (uParam6^), 1 );
        SET_ROOM_FOR_PED_BY_NAME( (uParam6^), ref g_U2473 );
        ISEQ_REGISTER_ENTITY( 1066718456, "thug3", (uParam6^), 0 );
    }
    if ( /* IS_PED_VALID */ sub_7450( (uParam2^) ))
    {
         /* WRITESCRIPTLOG */ sub_933( "RJM", "REGISTER_BLENDOUTA_PEDS - Registering Bar Girl", 0 );
         /* TELEPORTPED */ sub_16298( (uParam2^), -1.27900000, -304.48500000, -0.26700000, -90.00000000 );
        ISEQ_REGISTER_ENTITY( 1066718456, "bargirl", (uParam2^), 0 );
    }
    if ( /* IS_PED_VALID */ sub_7450( (uParam3^) ))
    {
         /* WRITESCRIPTLOG */ sub_933( "RJM", "REGISTER_BLENDOUTA_PEDS - Registering Bartender", 0 );
         /* TELEPORTPED */ sub_16298( (uParam3^), -4.67800000, -306.42800000, -0.27200000, -90.00000000 );
        ISEQ_REGISTER_ENTITY( 1066718456, "bartender", (uParam3^), 0 );
    }
    return;
}

/* NIS_PLAY_INTERP_WITH_STATIC_CAMS */ void sub_27515(int iParam0, int iParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
    SET_CAM_ACTIVE_WITH_INTERP( iParam1->_fU0, iParam0->_fU0, uParam2, uParam3, uParam4 );
    RENDER_SCRIPT_CAMS( 1, 0, 3000, 0 );
     /* STARTTIMER */ sub_27615( iParam1 + 48 );
    iParam1->_fU32 = 1;
    iParam1->_fU40 = 1;
    return;
}

/* STARTTIMER */ void sub_27615(int iParam0)
{
    if (NOT iParam0->_fU20)
    {
        iParam0->_fU20 = 1;
        iParam0->_fU16 = 0;
        if (iParam0->_fU28)
        {
            iParam0->_fU0 = TIMERA();
        }
        else
        {
            iParam0->_fU0 = TIMERB();
        }
        if (iParam0->_fU32 == 1)
        {
            iParam0->_fU0 = TIMERSYSTEM();
        }
        iParam0->_fU4 = iParam0->_fU0;
    }
    return;
}

/* F_IMAGEFX_FADE_IN */ int sub_27900()
{
    if (l_U511)
    {
         /* WRITESCRIPTLOG */ sub_933( "CO", "F_IMAGEFX_FADE_IN: IMAGEFX START", 0 );
        START_PANEL_WIPE( 0, 6 );
        PLAY_IMAGEFX( "BULLETCAM_IMPACT", 3, 1 );
        PLAY_IMAGEFX( "BLACK_FADE_UP_FAST_01", 3, 1 );
        DO_SCREEN_FADE_IN( 0 );
        l_U511 = 0;
        return 1;
        break;
    }
     /* WRITESCRIPTLOG */ sub_933( "CO", "F_IMAGEFX_FADE_IN: NORMAL START", 0 );
    return 0;
}

/* ISTIMERDONE */ int sub_28277(int iParam0)
{
    if (iParam0->_fU16)
    {
        return 0;
    }
    else if (NOT iParam0->_fU20)
    {
        return 0;
    }
    if (iParam0->_fU28)
    {
        iParam0->_fU4 = TIMERA();
    }
    else
    {
        iParam0->_fU4 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU4 = TIMERSYSTEM();
    }
    if ((iParam0->_fU4 - iParam0->_fU0) >= iParam0->_fU12)
    {
        iParam0->_fU16 = 1;
        iParam0->_fU20 = 0;
        return 1;
        break;
    }
    return 0;
}

/* LOADSEAMLESSCUTSCENE */ void sub_28510(unknown uParam0, int iParam1)
{
    if (HAS_CUTSCENE_LOADED())
    {
        if (NOT (CUTSCENE_IS_LOADED( uParam0 )))
        {
            SCRIPT_ASSERT( "Another cutscene is already loaded.  You can only load one cutscene into memory.  Your current cutscene will not load into memory.", 0 );
        }
    }
    if (NOT (CUTSCENE_IS_LOADED( uParam0 )))
    {
        PRE_STREAM_SEAMLESS_CUTSCENE( uParam0 );
        if (iParam1 == 1)
        {
            while ((CUTSCENE_IS_LOADED( uParam0 )) == 0)
            {
                DISPLAYF( "[SP]### Waiting for seamless cutscene to load: {} ###", 1, 1537, uParam0 );
                WAIT( 0 );
            }
        }
    }
    return;
}

/* P_IMAGEFX_START_BULLETCAM */ void sub_29814(unknown uParam0, boolean bParam1)
{
    PRINTSTRING( "[CO] P_IMAGEFX_START_BULLETCAM: Starting BulletCam: " );
    PRINTSTRING( uParam0 );
    PRINTNL();
     /* CLEANCAMERA */ sub_29934( ref l_U512 );
    l_U512 = CREATE_CAM( "DEFAULT_BULLET_CAMERA", 1 );
    SETUP_BULLET_CAMERA_SCENE( l_U512, uParam0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, "", "" );
    if (bParam1)
    {
        RENDER_SCRIPT_CAMS( 1, 0, 3000, 0 );
    }
    return;
}

/* CLEANCAMERA */ void sub_29934(unknown uParam0)
{
    if ((DOES_CAM_EXIST( (uParam0^) )) == 1)
    {
        if ((IS_CAM_ACTIVE( (uParam0^) )) == 1)
        {
            SET_CAM_ACTIVE( (uParam0^), 0 );
        }
        DESTROY_CAM( (uParam0^) );
    }
    (uParam0^) = nil;
    return;
}

/* UNREGISTER_BLENDOUTA_PEDS */ void sub_32002()
{
     /* WRITESCRIPTLOG */ sub_933( "RJM", "UNREGISTER_BLENDOUTA_PEDS", 0 );
    ISEQ_UNREGISTER_ENTITY( 1066718456, "max" );
    ISEQ_UNREGISTER_ENTITY( 1066718456, "passos" );
    ISEQ_UNREGISTER_ENTITY( 1066718456, "tony" );
    ISEQ_UNREGISTER_ENTITY( 1066718456, "thug1" );
    ISEQ_UNREGISTER_ENTITY( 1066718456, "thug2" );
    ISEQ_UNREGISTER_ENTITY( 1066718456, "thug3" );
    ISEQ_UNREGISTER_ENTITY( 1066718456, "bargirl" );
    ISEQ_UNREGISTER_ENTITY( 1066718456, "bartender" );
     /* TERMINATEISEQ */ sub_9526( 1066718456, 0 );
    return;
}

/* RESET_SCRIPT_SPEECH_STRUCT */ void sub_32770(int iParam0)
{
    iParam0->_fU4 = -1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = 0;
    iParam0->_fU32 = 0;
    iParam0->_fU36 = 0;
    return;
}

/* ADD_PED_FOR_SCRIPT_SPEECH */ void sub_32880(int iParam0, unknown uParam1, unknown uParam2, int iParam3, unknown uParam4, unknown uParam5)
{
    if (iParam3->_fU32)
    {
        ;
    }
    else if (iParam3->_fU36 == 0)
    {
        iParam3->_fU36 = 1;
        iParam3->_fU4 = CREATE_NEW_SCRIPTED_CONVERSATION( uParam4 );
        if (iParam3->_fU4 == -1)
        {
            iParam3->_fU32 = 1;
        }
    }
    if ((iParam0 < 9) AND ((iParam0 >= 0) AND ((iParam3->_fU4 < 4) AND (iParam3->_fU4 >= 0))))
    {
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU0 = uParam1;
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU4 = GET_HASH_KEY( uParam2 );
        if (NOT (IS_PED_INJURED( uParam1 )))
        {
            SET_PED_CAN_PLAY_AMBIENT_ANIMS( uParam1, uParam5 );
        }
    }
    return;
}

/* PLAY_SINGLE_SPEECH */ void sub_33160(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return  /* PLAY_SINGLE_SPEECH_FROM_BLOCK */ sub_33205( uParam0, ref g_U157._fU0, uParam1, uParam2, uParam3 );
}

/* PLAY_SINGLE_SPEECH_FROM_BLOCK */ void sub_33205(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    StrCopy( ref cVar11[0], uParam0, 16 );
    StrCopy( ref cVar11[1], "END", 16 );
    return  /* PLAYSPEECHMAIN */ sub_33292( ref cVar11, uParam2, uParam3, 0, 0, 0, 0, ref cVar7, uParam4 );
}

/* PLAYSPEECHMAIN */ int sub_33292(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    int I;
    unknown uVar12;
    unknown uVar13;

    if (iParam1->_fU4 == -1)
    {
        return 0;
    }
    iParam1->_fU0 = uParam2;
    if (NOT ( /* CANTHISSPEECHBEPLAYED */ sub_33344( iParam1 )))
    {
        return 0;
    }
    uVar12 = iParam1->_fU4;
    uVar13 = GET_HASH_KEY( ref (uParam0^)[0] );
    iParam1->_fU16 = uVar13;
    SET_CONVERSATION_CHECK_HASH( uVar12, uVar13 );
    g_U157._fU132 = 0;
    iParam1->_fU24 = 0;
    iParam1->_fU28 = uParam5;
    if (bParam3)
    {
        if (iParam1->_fU20)
        {
            iParam1->_fU20 = 0;
        }
    }
    else
    {
        iParam1->_fU20 = 0;
        if (bParam4)
        {
            iParam1->_fU12 = uParam6;
            iParam1->_fU20 = 0;
        }
        else
        {
            iParam1->_fU12 = 0;
            iParam1->_fU20 = 0;
        }
    }
    iParam1->_fU24 = bParam4;
    for ( I = 0; I <= 24; I++ )
    {
        StrCopy( ref g_U233[uVar12][I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        g_U233[uVar12][I] = {(uParam0^)[I]};
    }
    g_U192[uVar12] = {(iParam1^)};
     /* COPYHIDDENSPEECHSTUCT */ sub_33862( ref g_U16[uVar12], ref g_U157 );
    StrCopy( ref g_U16[uVar12]._fU0, uParam7, 16 );
    g_U16[uVar12]._fU136 = uParam8;
    g_U11[iParam1->_fU4] = 1;
    return 1;
}

/* CANTHISSPEECHBEPLAYED */ int sub_33344(int iParam0)
{
    switch (g_U11[iParam0->_fU4])
    {
        case 1:
        case 2:
        return 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING( iParam0->_fU4 ))
    {
        if (g_U1[iParam0->_fU4] > iParam0->_fU0)
        {
            return 0;
        }
        STOP_SCRIPTED_CONVERSATION( iParam0->_fU4, 0, 0 );
    }
    g_U1[iParam0->_fU4] = iParam0->_fU0;
    g_U6[iParam0->_fU4]++;
    if (g_U6[iParam0->_fU4] > 100000)
    {
        g_U6[iParam0->_fU4] = 1;
    }
    iParam0->_fU8 = g_U6[iParam0->_fU4];
    return 1;
}

/* COPYHIDDENSPEECHSTUCT */ void sub_33862(int iParam0, int iParam1)
{
    int I;

    iParam0->_fU0 = {iParam1->_fU0};
    for ( I = 0; I <= 8; I++ )
    {
        iParam0->_fU92[I] = iParam1->_fU92[I];
    }
    iParam0->_fU132 = iParam1->_fU132;
    iParam0->_fU136 = iParam1->_fU136;
    return;
}

/* CLEANUP_04_01A_ASSETS */ void sub_34298()
{
     /* CLEANPED */ sub_6505( l_U540 );
     /* CLEANPED */ sub_6505( l_U554 );
     /* CLEANPED */ sub_6505( l_U568 );
     /* CLEANPED */ sub_6505( l_U582 );
     /* CLEANPED */ sub_6505( l_U596 );
     /* CLEANPED */ sub_6505( l_U610 );
    return;
}

/* UNLOAD_04_01A_ASSETS */ void sub_34400()
{
     /* UNLOADMODEL */ sub_9842( g_U2248 );
     /* UNLOADMODEL */ sub_9842( 1853260236 );
     /* UNLOADMODEL */ sub_9842( 1864850433 );
     /* UNLOADMODEL */ sub_9842( -695927253 );
     /* UNLOADMODEL */ sub_9842( 2080318414 );
    return;
}

/* NIS_POST_SETUP */ void sub_34499(boolean bParam0, boolean bParam1)
{
    SET_WIDESCREEN_BORDERS( 0, 500 );
    DISPLAY_HUD( 1 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1224() )))
    {
        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_1262(), 1, 0 );
        SET_PED_INVINCIBLE(  /* PLAYER_PED_ID */ sub_1224(), 0 );
        if (bParam0)
        {
             /* P_MAX_RELOAD_WEAPONS */ sub_34597();
        }
    }
    PULSE_CROSSHAIR( 1 );
    if (bParam1)
    {
        DESTROY_ALL_CAMS();
    }
    return;
}

/* P_MAX_RELOAD_WEAPONS */ void sub_34597()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1224() )) == 0)
    {
        uVar2 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_1224(), 0, 0 );
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_1224(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
        {
            uVar4 = GET_MAX_AMMO_IN_HAND_CLIP_MP(  /* PLAYER_PED_ID */ sub_1224(), 0 );
            SET_WEAPON_AMMO_IN_CLIP( uVar2, uVar4 );
        }
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            uVar5 = GET_MAX_AMMO_IN_HAND_CLIP_MP(  /* PLAYER_PED_ID */ sub_1224(), 1 );
            SET_WEAPON_AMMO_IN_CLIP( uVar3, uVar5 );
        }
    }
    return;
}

/* CLEANUPFANTEST */ void sub_34889()
{
     /* WRITESCRIPTLOG */ sub_933( "SBA", "CleanUpFanTest", "***" );
     /* CLEANPED */ sub_6505( l_U1004 );
     /* CLEANOBJECT */ sub_7609( l_U1016 );
     /* UNLOADMODEL */ sub_9842( l_U1017 );
     /* UNLOADMODEL */ sub_9842( g_U2248 );
    return;
}

