void main()
{
    l_U0 = 0;
    l_U1 = 1;
    l_U2 = 0;
    l_U3 = 1.00000000;
    l_U4 = -5.00000000;
    l_U5 = 0;
    l_U6 = 0;
    l_U7 = 0;
    l_U11 = 42;
    l_U12 = 0;
    l_U13 = 0;
    l_U14 = 0;
    l_U15 = 0;
    l_U16 = 0;
    l_U17 = 90.00000000;
    l_U18 = {0.00000000, 0.00000000, 0.00000000};
    l_U21 = {0.00000000, 0.00000000, 0.00000000};
    l_U24 = 0;
    l_U25 = 0;
    l_U26 = 0;
    l_U27 = 0;
    l_U28 = 0;
    l_U29 = 0;
    l_U30 = nil;
    l_U31 = {0.00000000, 0.00000000, 0.00000000};
    l_U34 = 0;
    l_U35 = 0;
    l_U36 = 0;
    l_U37 = 0.05000000;
    l_U38 = 0;
    l_U39 = 0;
    l_U40 = 0;
    l_U41 = 0;
    l_U42 = 0;
    l_U43 = 0;
    l_U44 = 0;
    l_U45 = {0, 0, 0};
    StrCopy( ref l_U48, "DUMMY", 32 );
    l_U56 = 1;
    l_U61 = 0;
    l_U62 = 0;
    l_U63 = 0;
    l_U66 = 0;
    l_U111 = -1;
    l_U112 = {64536, 64536, 64536};
    l_U115 = "PED_DEF";
    l_U157 = 1.00000000;
    l_U169 = 0;
    l_U210 = 0;
    l_U230 = 1;
    l_U231 = 1;
    l_U271 = 0;
    l_U500 = 0;
    l_U501 = 0;
    l_U502 = 0;
    l_U503 = 0;
    l_U504 = 1;
    l_U505 = 0;
    l_U579 = 0;
    StrCopy( ref l_U735, "MID_00_NYBAR", 32 );
    l_U761 = 4;
    StrCopy( ref l_U776, "mid_01_nybar_concat", 32 );
    l_U802 = 4;
    l_U862 = 0;
    l_U863 = {g_U2253[5]._fU0};
    l_U866 = g_U2253[5]._fU12;
     /* WRITESCRIPTLOG */ sub_580( "SP", "Script s_nyc_cutscene.sc is starting...", "###" );
     /* P_FADE_IN_AND_WAIT */ sub_699( 0 );
     /* INIT_CUTSCENE_WIDGETS */ sub_853();
    while (true)
    {
         /* P_HANDLE_SCENES */ sub_2335();
        WAIT( 0 );
    }
     /* WRITESCRIPTLOG */ sub_580( "SP", "Script s_nyc_cutscene.sc is terminating...", "###" );
    return;
}

/* WRITESCRIPTLOG */ void sub_580(unknown uParam0, unknown uParam1, string sParam2)
{
    unknown uVar5;

    if (IS_STRING_NULL( sParam2 ))
    {
        sParam2 = "###";
    }
    uVar5 = GET_REAL_GAME_TIMER();
    DISPLAYF( "[{0}][{1}]{3} {2} {3}", 4, 513, uVar5, 1537, uParam0, 1537, uParam1, 1537, sParam2 );
    return;
}

/* P_FADE_IN_AND_WAIT */ void sub_699(unknown uParam0)
{
    if ((IS_SCREEN_FADING_IN() == 0) AND (IS_SCREEN_FADED_IN() == 0))
    {
        DO_SCREEN_FADE_IN( uParam0 );
        while (IS_SCREEN_FADED_IN() == 0)
        {
            DISPLAYF( "[SP]### Waiting for screen to fade in... ###", 0 );
            WAIT( 0 );
        }
    }
    return;
}

/* INIT_CUTSCENE_WIDGETS */ void sub_853()
{
    int I;

    I = 0;
    StrCopy( ref l_U283[0], "04_01_NYBAR shots", 32 );
    StrCopy( ref l_U283[1], "04_01_NYBAR_concat", 32 );
    StrCopy( ref l_U283[2], "04_02_NYBAR", 32 );
    StrCopy( ref l_U283[3], "MID_00_NYBAR", 32 );
    StrCopy( ref l_U283[4], "MID_00A_NYBAR High - not ready!", 32 );
    StrCopy( ref l_U283[5], "MID_00B_NYBAR High - not ready!", 32 );
    StrCopy( ref l_U283[6], "MID_00B_NYBAR Bar - not ready!", 32 );
    StrCopy( ref l_U283[7], "MID_00C_NYBAR - not ready!", 32 );
    StrCopy( ref l_U283[8], "MID_01_NYBAR", 32 );
    StrCopy( ref l_U283[9], "MID_02A_NYBAR - not ready!", 32 );
    StrCopy( ref l_U283[10], "MID_02AA_NYBAR", 32 );
    StrCopy( ref l_U283[11], "MID_02AB_NYBAR", 32 );
    StrCopy( ref l_U283[12], "MID_02B_NYBAR - not ready!", 32 );
    StrCopy( ref l_U283[13], "MID_02C_NYBAR - not ready!", 32 );
    StrCopy( ref l_U283[14], "MID_03_NYBAR", 32 );
    StrCopy( ref l_U283[15], "MID_03B_NYBAR - not ready!", 32 );
    StrCopy( ref l_U283[16], "MID_04_NYBAR - not ready!", 32 );
    StrCopy( ref l_U283[17], "MID_05A_NYBAR - not ready!", 32 );
    StrCopy( ref l_U283[18], "MID_05B_NYBAR - not ready!", 32 );
    StrCopy( ref l_U283[19], "MID_06_NYBAR_concat", 32 );
    StrCopy( ref l_U283[20], "MID_08_NYBAR", 32 );
    StrCopy( ref l_U283[21], "MID_08_NYBAR_sh5", 32 );
    StrCopy( ref l_U283[22], "04_02_nybar_sh7", 32 );
    StrCopy( ref l_U283[23], "04_02_nybar_sh8", 32 );
    StrCopy( ref l_U283[24], "04_02_nybar_sh9", 32 );
    StrCopy( ref l_U283[25], "04_02_nybar_sh10", 32 );
    StrCopy( ref l_U283[26], "04_02_nybar_sh11", 32 );
    START_WIDGET_GROUP( "NY BAR CUTSCENES" );
    START_NEW_WIDGET_COMBO();
    for ( I = 0; I <= 26; I++ )
    {
        ADD_TO_WIDGET_COMBO( ref l_U283[I] );
    }
    STOP_WIDGET_COMBO( "Cutscene", ref l_U500 );
     /* CREATE_04_01_WIDGETS */ sub_1842();
    ADD_WIDGET_BOOL( "Play Scene", ref l_U501 );
    ADD_WIDGET_BOOL( "Capture video", ref l_U503 );
    ADD_WIDGET_BOOL( "Use 04_01 dropdown for 04_01 scenes", ref l_U502 );
    STOP_WIDGET_GROUP();
    return;
}

/* CREATE_04_01_WIDGETS */ void sub_1842()
{
    int I;

    StrCopy( ref l_U506[0], "04_01_nybar_sh01", 32 );
    StrCopy( ref l_U506[1], "04_01_nybar_sh02", 32 );
    StrCopy( ref l_U506[2], "04_01_nybar_sh03", 32 );
    StrCopy( ref l_U506[3], "04_01_nybar_sh04", 32 );
    StrCopy( ref l_U506[4], "04_01_nybar_pt01", 32 );
    StrCopy( ref l_U506[5], "04_01_nybar_pt02", 32 );
    StrCopy( ref l_U506[6], "04_01_nybar_pt03", 32 );
    StrCopy( ref l_U506[7], "04_01_nybar_pt04", 32 );
    StrCopy( ref l_U506[8], "04_01_nybar_pt05", 32 );
    START_NEW_WIDGET_COMBO();
    for ( I = 0; I < l_U506; I++ )
    {
        ADD_TO_WIDGET_COMBO( ref l_U506[I] );
    }
    STOP_WIDGET_COMBO( "04_01 Shots:", ref l_U579 );
    return;
}

/* P_HANDLE_SCENES */ void sub_2335()
{
    if (l_U501)
    {
        switch (l_U500)
        {
            case 0:
             /* PLAY_CUTSCENE_04_01_SHOTS */ sub_2439( 1, l_U503 );
            break;
            case 1:
             /* DEBUG_PLAY_CUTSCENE_04_01_CONCAT */ sub_14677( l_U503 );
            break;
            case 3:
             /* PLAY_MYC_MID_00 */ sub_15486( 0, l_U503 );
            break;
            case 8:
             /* PLAY_NYC_MID_01 */ sub_19696( 0, ref l_U817, ref l_U861, l_U503 );
            break;
            case 20:
             /* PLAY_MIDSCENE_08 */ sub_23850( l_U503 );
            break;
            case 21:
             /* PLAY_MIDSCENE_08_SH5 */ sub_25155( l_U503 );
            break;
            default:
            DISPLAYF( "[RJM] Menu option '{}' isn't implemented yet.", 1, 1281, ref l_U283[l_U500] );
            break;
        }
        l_U501 = 0;
        l_U503 = 0;
    }
    return;
}

/* PLAY_CUTSCENE_04_01_SHOTS */ void sub_2439(boolean bParam0, boolean bParam1)
{
    int I;

     /* WRITESCRIPTLOG */ sub_580( "RJM", "PLAY_CUTSCENE_04_01 start", 0 );
     /* NIS_PRE_SETUP */ sub_2521( 1, 0, 0, 1 );
     /* BLOCKLOAD_04_01_ASSETS */ sub_2786( 0 );
     /* CREATE_04_01_PEDS_AND_OBJECTS */ sub_3379( 0 );
    for ( I = 0; I < l_U506; I++ )
    {
        DISPLAYF( "RJM - Loading {}", 1, 1281, ref l_U506[l_U579] );
         /* LOADSEAMLESSCUTSCENE */ sub_5415( ref l_U506[l_U579], 1 );
        I = l_U579;
        switch (I)
        {
            case 0:
            case 1:
             /* REGISTER_PEDS_SH01_SH02 */ sub_5843();
            break;
            case 2:
             /* REGISTER_PEDS_SH03 */ sub_6628();
            break;
            case 3:
             /* REGISTER_PEDS_SH04 */ sub_7973();
            break;
            case 4:
             /* REGISTER_PEDS_PART1 */ sub_8923();
            break;
            case 5:
             /* REGISTER_PEDS_PART2 */ sub_9660();
            break;
            case 6:
             /* REGISTER_PEDS_PART3 */ sub_10712();
            break;
            case 7:
             /* REGISTER_PEDS_PART4 */ sub_11474();
            break;
            case 8:
             /* REGISTER_PEDS_PART5 */ sub_12173();
            break;
        }
        if (bParam1)
        {
            if (bParam0)
            {
                DISPLAYF( "Recording cutscene {}", 1, 1281, ref l_U506[l_U579] );
                START_CUTSCENE_CAPTURE( ref l_U506[l_U579] );
            }
            else
            {
                SCRIPT_ASSERT( "[MF] Cutscene capture can only occur on single scene playback! Cutscene recording has been halted", 0 );
            }
        }
        REGISTER_HIDE_ENTITY_AT_POSITION( g_U2034._fU0, g_U2034._fU4 );
        REGISTER_HIDE_ENTITY_AT_POSITION( g_U2041._fU0, g_U2041._fU4 );
        START_SEAMLESS_CUTSCENE();
        while (NOT HAS_CUTSCENE_FINISHED())
        {
            WAIT( 0 );
        }
        while (NOT HAS_CUTSCENE_UNLOADED())
        {
            WAIT( 0 );
        }
        if (bParam0)
        {
             /* WRITESCRIPTLOG */ sub_580( "RJM", "Exiting the cutscene after playing a single scene...", 0 );
            I = l_U506 + 1;
        }
    }
    if ((bParam0) AND (bParam1))
    {
        STOP_CUTSCENE_CAPTURE();
    }
     /* CLEANUP_04_01_ASSETS */ sub_14086();
     /* UNLOAD_04_01_ASSETS */ sub_14366();
     /* WRITESCRIPTLOG */ sub_580( "RJM", "PLAY_CUTSCENE_04_01 end", 0 );
    return;
}

/* NIS_PRE_SETUP */ void sub_2521(int iParam0, int iParam1, unknown uParam2, boolean bParam3)
{
    END_POSTFX_BLENDER( 12, 0 );
    if (bParam3)
    {
        STOP_ALL_IMAGEFX( 0 );
    }
    SET_WIDESCREEN_BORDERS( 1, 500 );
    DISPLAY_HUD( 0 );
    if (iParam0 == 1)
    {
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2599() )))
        {
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_2637(), 0, uParam2 );
            SET_PED_DUCKING(  /* PLAYER_PED_ID */ sub_2599(), 0 );
            if (iParam1 == 1)
            {
                CLEAR_PED_TASKS_IMMEDIATELY(  /* PLAYER_PED_ID */ sub_2599() );
            }
            SET_PED_INVINCIBLE(  /* PLAYER_PED_ID */ sub_2599(), 1 );
        }
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    return;
}

/* PLAYER_PED_ID */ int sub_2599()
{
    if (DOES_MAIN_PLAYER_EXIST())
    {
        return GET_PLAYER_PED(  /* PLAYER_ID */ sub_2637() );
    }
    return 0;
}

/* PLAYER_ID */ void sub_2637()
{
    return GET_PLAYER_ID();
}

/* BLOCKLOAD_04_01_ASSETS */ void sub_2786(boolean bParam0)
{
     /* BLOCKLOADMODEL */ sub_2826( 2024698471 );
     /* BLOCKLOADMODEL */ sub_2826( -695927253 );
     /* BLOCKLOADMODEL */ sub_2826( 1853260236 );
     /* BLOCKLOADMODEL */ sub_2826( 2080318414 );
     /* BLOCKLOADMODEL */ sub_2826( -1466860302 );
     /* BLOCKLOADMODEL */ sub_2826( -1772627841 );
     /* BLOCKLOADMODEL */ sub_2826( 466468872 );
     /* BLOCKLOADMODEL */ sub_2826( -954717288 );
    if (NOT bParam0)
    {
         /* BLOCKLOADMODEL */ sub_2826( -669185763 );
         /* BLOCKLOADMODEL */ sub_2826( 1864850433 );
    }
    return;
}

/* BLOCKLOADMODEL */ void sub_2826(unknown uParam0)
{
    DISPLAYF( "[MSWW]### Trying to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
         /* WRITE_STRING */ sub_3028( "[SP]### ERROR! (BlockLoadModel) Trying to block load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    LOAD_ALL_OBJECTS_NOW();
    while ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        LOAD_ALL_OBJECTS_NOW();
        DISPLAYF( "[SP]### Waiting to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
        WAIT( 0 );
    }
    DISPLAYF( "[MSWW]### Has loaded model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
    return;
}

/* WRITE_STRING */ void sub_3028(unknown uParam0)
{
    PRINTSTRING( uParam0 );
    PRINTNL();
    return;
}

/* CREATE_04_01_PEDS_AND_OBJECTS */ void sub_3379(boolean bParam0)
{
     /* WRITESCRIPTLOG */ sub_580( "RJM", "CREATE_04_01_PEDS_AND_OBJECTS - start", 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_3498( ref l_U609, 0, 0, 0, 0.00000000, -1756913695, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_3498( ref l_U581, 0, 0, 0, 0.00000000, 417317379, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_3498( ref l_U595, 0, 0, 0, 0.00000000, 553761934, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_3498( ref l_U623, 0, 0, 0, 0.00000000, 2039064213, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_3498( ref l_U637, 0, 0, 0, 0.00000000, 447804312, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_3498( ref l_U651, 0, 0, 0, 0.00000000, -973020229, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_3498( ref l_U665, 0, 0, 0, 0.00000000, 550844176, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_3498( ref l_U679, 0, 0, 0, 0.00000000, 1274495363, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_3498( ref l_U693, 0, 0, 0, 0.00000000, -743442735, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_3498( ref l_U707, 0, 0, 0, 0.00000000, 1339582665, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_3498( ref l_U721, 0, 0, 0, 0.00000000, 786146427, 26, 6, 0, 0, 0 );
    l_U608 =  /* CREATEPED */ sub_3937( ref l_U609 );
     /* PREP_PED_FOR_CUT04_01 */ sub_4895( l_U608 );
    l_U580 =  /* CREATEPED */ sub_3937( ref l_U581 );
     /* PREP_PED_FOR_CUT04_01 */ sub_4895( l_U580 );
    l_U594 =  /* CREATEPED */ sub_3937( ref l_U595 );
     /* PREP_PED_FOR_CUT04_01 */ sub_4895( l_U594 );
    l_U636 =  /* CREATEPED */ sub_3937( ref l_U637 );
     /* PREP_PED_FOR_CUT04_01 */ sub_4895( l_U636 );
    l_U650 =  /* CREATEPED */ sub_3937( ref l_U651 );
     /* PREP_PED_FOR_CUT04_01 */ sub_4895( l_U650 );
    l_U664 =  /* CREATEPED */ sub_3937( ref l_U665 );
     /* PREP_PED_FOR_CUT04_01 */ sub_4895( l_U664 );
    l_U678 =  /* CREATEPED */ sub_3937( ref l_U679 );
     /* PREP_PED_FOR_CUT04_01 */ sub_4895( l_U678 );
    if (NOT bParam0)
    {
        l_U622 =  /* CREATEPED */ sub_3937( ref l_U623 );
         /* PREP_PED_FOR_CUT04_01 */ sub_4895( l_U622 );
        l_U692 =  /* CREATEPED */ sub_3937( ref l_U693 );
         /* PREP_PED_FOR_CUT04_01 */ sub_4895( l_U692 );
        l_U706 =  /* CREATEPED */ sub_3937( ref l_U707 );
         /* PREP_PED_FOR_CUT04_01 */ sub_4895( l_U706 );
        l_U720 =  /* CREATEPED */ sub_3937( ref l_U721 );
         /* PREP_PED_FOR_CUT04_01 */ sub_4895( l_U720 );
    }
     /* WRITESCRIPTLOG */ sub_580( "RJM", "CREATE_04_01_PEDS_AND_OBJECTS - end", 0 );
    return;
}

/* P_CREATEPEDSTRUCTWITHNAME */ void sub_3498(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU20 = uParam5;
    iParam0->_fU12 = uParam4;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU16 = GET_SCENE_PED_MODEL( uParam5 );
    iParam0->_fU48 = uParam10;
    return;
}

/* CREATEPED */ void sub_3937(int iParam0)
{
    int iVar3;

    iVar3 = 0;
    if (iParam0->_fU16 == 0)
    {
        if (iParam0->_fU20 != 0)
        {
            iVar3 = GET_SCENE_PED_MODEL( iParam0->_fU20 );
        }
    }
    else
    {
        iVar3 = iParam0->_fU16;
    }
    if ((HAS_MODEL_LOADED( iVar3 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_4119( iParam0->_fU16, 1 );
    }
    iParam0->_fU40 = CREATE_PED( iParam0->_fU24, iParam0->_fU16, iParam0->_fU0, iParam0->_fU12, 1, iParam0->_fU48 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( iParam0->_fU40, 1 );
        SET_PED_COORDS_NO_OFFSET( iParam0->_fU40, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU40 ) );
        SET_PED_HEADING( iParam0->_fU40, iParam0->_fU12 );
        iParam0->_fU44 = 1;
    }
    else
    {
        SCRIPT_ASSERT( "Error: The ped you created doesn't exist or is dead!", 0 );
    }
     /* SETPEDDEFAULTSTATS */ sub_4668( iParam0->_fU40 );
     /* SETPEDDEFAULTTEMPLATE */ sub_4769( iParam0->_fU40 );
    return iParam0->_fU40;
}

/* LOADMODEL */ void sub_4119(unknown uParam0, boolean bParam1)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
         /* WRITE_STRING */ sub_3028( "[SP]### ERROR! (LoadModel) Trying to load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    if (bParam1)
    {
        while ((HAS_MODEL_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* SETPEDDEFAULTSTATS */ void sub_4668(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_HEALTH( uParam0, 200, 0 );
        SET_PED_ACCURACY( uParam0, -729479261 );
    }
    return;
}

/* SETPEDDEFAULTTEMPLATE */ void sub_4769(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_AI_TEMPLATE( uParam0, "AIT_DEFAULT_GENERIC" );
    }
    return;
}

/* PREP_PED_FOR_CUT04_01 */ void sub_4895(unknown uParam0)
{
    if ( /* IS_PED_VALID */ sub_4931( uParam0 ))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uParam0, 1 );
        SET_PED_CAN_RAGDOLL_FROM_PLAYER_IMPACT( uParam0, 0 );
        SET_ROOM_FOR_PED_BY_NAME( uParam0, ref g_U2473 );
    }
    return;
}

/* IS_PED_VALID */ int sub_4931(unknown uParam0)
{
    if ((NOT (IS_PED_DEAD( uParam0 ))) AND (DOES_PED_EXIST( uParam0 )))
    {
        return 1;
    }
    return 0;
}

/* LOADSEAMLESSCUTSCENE */ void sub_5415(unknown uParam0, int iParam1)
{
    if (HAS_CUTSCENE_LOADED())
    {
        if (NOT (CUTSCENE_IS_LOADED( uParam0 )))
        {
            SCRIPT_ASSERT( "Another cutscene is already loaded.  You can only load one cutscene into memory.  Your current cutscene will not load into memory.", 0 );
        }
    }
    if (NOT (CUTSCENE_IS_LOADED( uParam0 )))
    {
        PRE_STREAM_SEAMLESS_CUTSCENE( uParam0 );
        if (iParam1 == 1)
        {
            while ((CUTSCENE_IS_LOADED( uParam0 )) == 0)
            {
                DISPLAYF( "[SP]### Waiting for seamless cutscene to load: {} ###", 1, 1537, uParam0 );
                WAIT( 0 );
            }
        }
    }
    return;
}

/* REGISTER_PEDS_SH01_SH02 */ void sub_5843()
{
     /* WRITESCRIPTLOG */ sub_580( "RJM", "REGISTER_PEDS_SH01 - start", 0 );
    if ( /* IS_MAX_VALID */ sub_5920())
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering player with 04_01_SH01", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_2599(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U580 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piTony with FB_Tony_D", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U580, "FB_Tony_D", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U594 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piBartender with Bar_Tend_Fat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U594, "Bar_Tend_Fat", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U636 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piMarty with G_NY_T_THUG_A", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U636, "G_NY_T_THUG_A", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U664 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piGrunt2 with G_NY_T_THUG_B", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U664, "G_NY_T_THUG_B", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U678 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piBarPCrazyGuy with C_NY_C_BarP_A", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U678, "C_NY_C_BarP_A", 0 );
    }
     /* WRITESCRIPTLOG */ sub_580( "RJM", "REGISTER_PEDS_SH01 - end", 0 );
    return;
}

/* IS_MAX_VALID */ int sub_5920()
{
    if ( /* IS_PED_VALID */ sub_4931(  /* PLAYER_PED_ID */ sub_2599() ))
    {
        return 1;
    }
    return 0;
}

/* REGISTER_PEDS_SH03 */ void sub_6628()
{
     /* WRITESCRIPTLOG */ sub_580( "RJM", "REGISTER_PEDS_SH03 - start", 0 );
    if ( /* IS_MAX_VALID */ sub_5920())
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering player with 04_01_SH01", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_2599(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U580 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piTony with FB_Tony_D", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U580, "FB_Tony_D", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U594 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piBartender with Bar_Tend_Fat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U594, "Bar_Tend_Fat", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U608 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piCut04Passos with 04_01_pt03", 0 );
        REMOVE_ALL_PED_WEAPONS( l_U608 );
         /* F_GIVEPEDWEAPON */ sub_7107( l_U608, -862236369, 25000, 0, 0 );
        while (NOT (GET_DOES_WEAPON_EXIST( GET_WEAPON_FROM_HAND( l_U608, 0, 0 ) )))
        {
            WAIT( 0 );
        }
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U608, "FB_Pass_NY", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U608, 0, 0 ), "W_PI_Clt1911_Aa_H", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U636 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piMarty with G_NY_T_THUG_A", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U636, "G_NY_T_Sold_A", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U664 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piGrunt2 with G_NY_T_Sold_A^1", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U664, "G_NY_T_Sold_A^1", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U678 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piBarPCrazyGuy with G_NY_T_THUG_B", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U678, "G_NY_T_Sold_A^2", 0 );
    }
     /* WRITESCRIPTLOG */ sub_580( "RJM", "REGISTER_PEDS_SH03 - end", 0 );
    return;
}

/* F_GIVEPEDWEAPON */ void sub_7107(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's hand MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, uParam2, uParam3 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
                    DISPLAYF( "[SP]### Waiting for a weapon to exist: {} ###", 1, 513, uParam1 );
                }
            }
        }
    }
    else
    {
         /* WRITE_STRING */ sub_3028( "[SP]### (F_GivePedWeapon) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

/* REGISTER_PEDS_SH04 */ void sub_7973()
{
     /* WRITESCRIPTLOG */ sub_580( "RJM", "REGISTER_PEDS_SH04 - start", 0 );
    if ( /* IS_MAX_VALID */ sub_5920())
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering player with 04_01_SH04", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_2599(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U580 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piTony with FB_Tony_D", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U580, "FB_Tony_D", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U594 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piBartender with Bar_Tend_Fat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U594, "Bar_Tend_Fat", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U608 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piCut04Passos with 04_01_pt03", 0 );
        REMOVE_ALL_PED_WEAPONS( l_U608 );
         /* F_GIVEPEDWEAPON */ sub_7107( l_U608, -862236369, 25000, 0, 0 );
        while (NOT (GET_DOES_WEAPON_EXIST( GET_WEAPON_FROM_HAND( l_U608, 0, 0 ) )))
        {
            WAIT( 0 );
        }
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U608, "FB_Pass_NY", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U608, 0, 0 ), "W_PI_Clt1911_Aa_H", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U636 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piMarty with G_NY_T_THUG_A", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U636, "G_NY_T_Sold_A", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U664 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piGrunt2 with G_NY_T_Sold_A^1", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U664, "G_NY_T_Sold_A^1", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U678 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piBarPCrazyGuy with G_NY_T_THUG_B", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U678, "G_NY_T_Sold_A^2", 0 );
    }
     /* WRITESCRIPTLOG */ sub_580( "RJM", "REGISTER_PEDS_SH04 - end", 0 );
    return;
}

/* REGISTER_PEDS_PART1 */ void sub_8923()
{
     /* WRITESCRIPTLOG */ sub_580( "RJM", "REGISTER_PEDS_PART1 - start", 0 );
    if ( /* IS_MAX_VALID */ sub_5920())
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering player with 04_01_pt01", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_2599(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U580 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piTony with FB_Tony_D", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U580, "FB_Tony_D", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U594 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piBartender with Bar_Tend_Fat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U594, "Bar_Tend_Fat", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U664 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piGrunt1 with G_NY_T_Sold_A", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U664, "G_NY_T_Sold_A", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U636 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piMarty with G_NY_T_Sold_A^3", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U636, "G_NY_T_Sold_A^3", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U678 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piGrunt2 with G_NY_T_Sold_A^2", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U678, "G_NY_T_Sold_A^2", 0 );
    }
     /* WRITESCRIPTLOG */ sub_580( "RJM", "REGISTER_PEDS_PART1 - end", 0 );
    return;
}

/* REGISTER_PEDS_PART2 */ void sub_9660()
{
     /* WRITESCRIPTLOG */ sub_580( "RJM", "REGISTER_PEDS_PART2 - start", 0 );
    if ( /* IS_MAX_VALID */ sub_5920())
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering player with 04_01_pt01", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_2599(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U580 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piTony with 04_01_pt02", 0 );
        REMOVE_ALL_PED_WEAPONS( l_U580 );
         /* F_GIVEPEDWEAPON */ sub_7107( l_U580, -862236369, 25000, 0, 0 );
        while (NOT (GET_DOES_WEAPON_EXIST( GET_WEAPON_FROM_HAND( l_U580, 0, 0 ) )))
        {
            WAIT( 0 );
        }
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U580, "FB_Tony_D", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U580, 0, 0 ), "W_PI_Clt1911_Aa_H", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U594 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piBartender with 04_01_pt02", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U594, "Bar_Tend_Fat", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U608 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piCut04Passos with 04_01_pt02", 0 );
        REMOVE_ALL_PED_WEAPONS( l_U608 );
         /* F_GIVEPEDWEAPON */ sub_7107( l_U608, -862236369, 25000, 0, 0 );
        while (NOT (GET_DOES_WEAPON_EXIST( GET_WEAPON_FROM_HAND( l_U608, 0, 0 ) )))
        {
            WAIT( 0 );
        }
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U608, "FB_Pass_NY", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U608, 0, 0 ), "W_PI_Clt1911_Aa_H^1", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U650 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piGrunt1 with 04_01_pt02", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U650, "G_NY_T_Sold_A", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U636 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piMarty with 04_01_pt02", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U636, "G_NY_T_Sold_A^1", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U678 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piGrunt2 with 04_01_pt02", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U678, "G_NY_T_Sold_A^2", 0 );
    }
     /* WRITESCRIPTLOG */ sub_580( "RJM", "REGISTER_PEDS_PART2 - end", 0 );
    return;
}

/* REGISTER_PEDS_PART3 */ void sub_10712()
{
     /* WRITESCRIPTLOG */ sub_580( "RJM", "REGISTER_PEDS_PART3 - start", 0 );
    if ( /* IS_MAX_VALID */ sub_5920())
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering player with 04_01_pt01", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_2599(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U608 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piCut04Passos with 04_01_pt03", 0 );
        REMOVE_ALL_PED_WEAPONS( l_U608 );
         /* F_GIVEPEDWEAPON */ sub_7107( l_U608, -862236369, 25000, 0, 0 );
        while (NOT (GET_DOES_WEAPON_EXIST( GET_WEAPON_FROM_HAND( l_U608, 0, 0 ) )))
        {
            WAIT( 0 );
        }
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U608, "FB_Pass_NY", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U608, 0, 0 ), "W_PI_Clt1911_Aa_H", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U594 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piBartender with 04_01_pt03", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U594, "Bar_Tend_Fat", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U678 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piBarPCrazyGuy with 04_01_pt03", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U678, "G_NY_T_Sold_A", 0 );
    }
    if (DOES_OBJECT_EXIST( l_U734 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering oiPistol with 04_01_pt03", 0 );
        REGISTER_OBJECT_PRE_SEAMLESS_CUTSCENE( l_U734, "W_PI_Clt1911_Aa_H^1", 0 );
    }
     /* WRITESCRIPTLOG */ sub_580( "RJM", "REGISTER_PEDS_PART3 - end", 0 );
    return;
}

/* REGISTER_PEDS_PART4 */ void sub_11474()
{
     /* WRITESCRIPTLOG */ sub_580( "RJM", "REGISTER_PEDS_PART4 - start", 0 );
    if ( /* IS_MAX_VALID */ sub_5920())
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering player with 04_01_pt01", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_2599(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U622 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piBarGirl with 04_01_pt04", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U622, "Bar_Girl_F_Avg", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U594 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piBartender with 04_01_pt04", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U594, "Bar_Tend_Fat", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U608 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piCut04Passos with 04_01_pt04", 0 );
        REMOVE_ALL_PED_WEAPONS( l_U608 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U608, "FB_Pass_NY", 0 );
    }
    if (DOES_OBJECT_EXIST( l_U734 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering oiPistol with 04_01_pt04", 0 );
        REGISTER_OBJECT_PRE_SEAMLESS_CUTSCENE( l_U734, "W_PI_Clt1911_Aa_H^1", 0 );
    }
    REGISTER_HIDE_ENTITY_AT_POSITION( g_U2034._fU0, g_U2034._fU4 );
    REGISTER_HIDE_ENTITY_AT_POSITION( g_U2041._fU0, g_U2041._fU4 );
     /* WRITESCRIPTLOG */ sub_580( "RJM", "REGISTER_PEDS_PART4 - end", 0 );
    return;
}

/* REGISTER_PEDS_PART5 */ void sub_12173()
{
     /* WRITESCRIPTLOG */ sub_580( "RJM", "REGISTER_PEDS_PART5 - start", 0 );
    if ( /* IS_PED_VALID */ sub_4931( l_U580 ))
    {
        REMOVE_ALL_PED_WEAPONS( l_U580 );
         /* F_GIVEPEDWEAPON */ sub_7107( l_U580, -862236369, 25000, 0, 0 );
        while (NOT (GET_DOES_WEAPON_EXIST( GET_WEAPON_FROM_HAND( l_U580, 0, 0 ) )))
        {
            WAIT( 0 );
        }
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U636 ))
    {
        REMOVE_ALL_PED_WEAPONS( l_U636 );
         /* F_GIVEPEDWEAPON */ sub_7107( l_U636, -862236369, 25000, 0, 0 );
        while (NOT (GET_DOES_WEAPON_EXIST( GET_WEAPON_FROM_HAND( l_U636, 0, 0 ) )))
        {
            WAIT( 0 );
        }
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U608 ))
    {
        REMOVE_ALL_PED_WEAPONS( l_U608 );
         /* F_GIVEPEDWEAPON */ sub_7107( l_U608, -862236369, 25000, 0, 0 );
        while (NOT (GET_DOES_WEAPON_EXIST( GET_WEAPON_FROM_HAND( l_U608, 0, 0 ) )))
        {
            WAIT( 0 );
        }
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U692 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piShot5Guy1 with 04_01_pt05", 0 );
        REMOVE_ALL_PED_WEAPONS( l_U692 );
         /* F_GIVEPEDWEAPON */ sub_7107( l_U692, -862236369, 25000, 0, 0 );
        while (NOT (GET_DOES_WEAPON_EXIST( GET_WEAPON_FROM_HAND( l_U692, 0, 0 ) )))
        {
            WAIT( 0 );
        }
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U650 ))
    {
        REMOVE_ALL_PED_WEAPONS( l_U650 );
         /* F_GIVEPEDWEAPON */ sub_7107( l_U650, -862236369, 25000, 0, 0 );
        while (NOT (GET_DOES_WEAPON_EXIST( GET_WEAPON_FROM_HAND( l_U650, 0, 0 ) )))
        {
            WAIT( 0 );
        }
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U594 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piBartender with 04_01_pt05", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U594, "Bar_Tend_Fat", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U622 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piBarGirl with 04_01_pt05", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U622, "Bar_Girl_F_Avg", 0 );
    }
    REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U650, "G_NY_T_Sold_A", 0 );
    REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U650, 0, 0 ), "W_PI_Clt1911_Aa_H^3", 0 );
    if ( /* IS_PED_VALID */ sub_4931( l_U664 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piGrunt2 with 04_01_pt05", 0 );
        REMOVE_ALL_PED_WEAPONS( l_U664 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U664, "G_NY_T_Sold_A^2", 0 );
    }
    REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U692, "G_NY_T_Sold_A^1", 0 );
    REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U692, 0, 0 ), "W_PI_Clt1911_Aa_H^1", 0 );
    REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U636, "G_NY_T_Sold_A^3", 0 );
    REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U636, 0, 0 ), "W_PI_Clt1911_Aa_H^2", 0 );
    REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U580, "FB_Tony_D", 0 );
    REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U580, 0, 0 ), "W_PI_Clt1911_Aa_H", 0 );
    REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U608, "FB_Pass_NY", 0 );
    REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U608, 0, 0 ), "W_PI_Clt1911_Aa_H^4", 0 );
    if ( /* IS_PED_VALID */ sub_4931( l_U706 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piShot5Guy2 with 04_01_pt05", 0 );
        REMOVE_ALL_PED_WEAPONS( l_U706 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U706, "G_NY_T_Sold_A^4", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U720 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piShot5Guy3 with 04_01_pt05", 0 );
        REMOVE_ALL_PED_WEAPONS( l_U720 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U720, "G_NY_T_Sold_A^5", 0 );
    }
     /* WRITESCRIPTLOG */ sub_580( "RJM", "REGISTER_PEDS_PART5 - end", 0 );
    return;
}

/* CLEANUP_04_01_ASSETS */ void sub_14086()
{
     /* CLEANPED */ sub_14124( l_U608 );
     /* CLEANPED */ sub_14124( l_U580 );
     /* CLEANPED */ sub_14124( l_U594 );
     /* CLEANPED */ sub_14124( l_U622 );
     /* CLEANPED */ sub_14124( l_U636 );
     /* CLEANPED */ sub_14124( l_U650 );
     /* CLEANPED */ sub_14124( l_U664 );
     /* CLEANPED */ sub_14124( l_U692 );
     /* CLEANPED */ sub_14124( l_U706 );
     /* CLEANPED */ sub_14124( l_U720 );
     /* CLEANOBJECT */ sub_14304( l_U734 );
    return;
}

/* CLEANPED */ void sub_14124(unknown uParam0)
{
    if (DOES_PED_EXIST( uParam0 ))
    {
        if ((NOT (IS_PED_DEAD( uParam0 ))) || (IS_PED_DEAD( uParam0 )))
        {
            REMOVE_ALL_PED_WEAPONS( uParam0 );
            DELETE_PED( ref uParam0 );
        }
    }
    return;
}

/* CLEANOBJECT */ void sub_14304(unknown uParam0)
{
    if (DOES_OBJECT_EXIST( uParam0 ))
    {
        DELETE_OBJECT( ref uParam0 );
    }
    return;
}

/* UNLOAD_04_01_ASSETS */ void sub_14366()
{
     /* UNLOADMODEL */ sub_14403( -695927253 );
     /* UNLOADMODEL */ sub_14403( 1853260236 );
     /* UNLOADMODEL */ sub_14403( -669185763 );
     /* UNLOADMODEL */ sub_14403( -1466860302 );
     /* UNLOADMODEL */ sub_14403( 2024698471 );
     /* UNLOADMODEL */ sub_14403( 1864850433 );
     /* UNLOADMODEL */ sub_14403( 466468872 );
    return;
}

/* UNLOADMODEL */ void sub_14403(unknown uParam0)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 1)
    {
        SET_MODEL_AS_NO_LONGER_NEEDED( uParam0 );
    }
    else
    {
         /* WRITE_STRING */ sub_3028( "[SP]### ERROR! (UnloadModel) Trying to unload a model that isn't in the img! ###" );
    }
    return;
}

/* DEBUG_PLAY_CUTSCENE_04_01_CONCAT */ void sub_14677(boolean bParam0)
{
    string sVar3;

    sVar3 = "04_01_nybar_concat";
     /* LOADSEAMLESSCUTSCENE */ sub_5415( sVar3, 1 );
     /* BLOCKLOAD_04_01_ASSETS */ sub_2786( 0 );
     /* CREATE_04_01_PEDS_AND_OBJECTS */ sub_3379( 0 );
    if ( /* IS_MAX_VALID */ sub_5920())
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering player with 04_01_pt01", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_2599(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U580 ))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U580, "FB_Tony_D", 0 );
        SET_PED_GORE( l_U580, 1 );
    }
    if (((IS_PED_DEAD( l_U608 )) == 0) AND ((DOES_PED_EXIST( l_U608 )) == 1))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U608, "FB_Pass_NY", 0 );
    }
    if (((IS_PED_DEAD( l_U622 )) == 0) AND ((DOES_PED_EXIST( l_U622 )) == 1))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U622, "Bar_Girl_F_Avg", 0 );
    }
    if (((IS_PED_DEAD( l_U594 )) == 0) AND ((DOES_PED_EXIST( l_U594 )) == 1))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U594, "Bar_Tend_Fat", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U678 ))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U678, "G_NY_T_Sold_A", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U706 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piShot5Guy2 with 04_01_pt05", 0 );
        REMOVE_ALL_PED_WEAPONS( l_U706 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U706, "G_NY_T_Sold_A^4", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( l_U720 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering piShot5Guy3 with 04_01_pt05", 0 );
        REMOVE_ALL_PED_WEAPONS( l_U720 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U720, "G_NY_T_Sold_A^5", 0 );
    }
    if (bParam0)
    {
        START_CUTSCENE_CAPTURE( sVar3 );
    }
    START_SEAMLESS_CUTSCENE();
    while (NOT HAS_CUTSCENE_FINISHED())
    {
        WAIT( 0 );
    }
    if (bParam0)
    {
        STOP_CUTSCENE_CAPTURE();
    }
     /* CLEANUP_04_01_ASSETS */ sub_14086();
     /* UNLOAD_04_01_ASSETS */ sub_14366();
    return;
}

/* PLAY_MYC_MID_00 */ void sub_15486(boolean bParam0, boolean bParam1)
{
    int Result;
    unknown uVar5;
    unknown uVar6;

    Result = 0;
    switch (l_U761)
    {
        case 4:
         /* WRITESCRIPTLOG */ sub_580( "SBA", "PLAY_MYC_MID_00 start", "*****" );
         /* LOADSEAMLESSCUTSCENE */ sub_5415( ref l_U735, 1 );
         /* LOADISEQ */ sub_15604( 984969677, 1 );
         /* NIS_PRE_SETUP */ sub_2521( 1, 0, 0, 1 );
        if (NOT bParam0)
        {
             /* BLOCKLOAD_NYC_MID_00_ASSETS */ sub_15913();
             /* P_SETUP_NYC_MID_00 */ sub_16009();
        }
        if (bParam0)
        {
            CUTSCENE_REGISTER_ISEQ( 984969677 );
        }
         /* REGISTER_PEDS_NYC_MID_00 */ sub_16161( bParam0 );
         /* WRITESCRIPTLOG */ sub_580( "RJM", "PLAY_MYC_MID_00 - hiding doors", 0 );
        uVar5 = DOOR_FIND_CLOSEST( g_U2055._fU0, g_U2055._fU4 );
        if (DOES_OBJECT_EXIST( uVar5 ))
        {
             /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering Left Door", 0 );
            REGISTER_OBJECT_PRE_SEAMLESS_CUTSCENE( uVar5, "P_DR_EXT", 0 );
        }
        uVar6 = DOOR_FIND_CLOSEST( g_U2062._fU0, g_U2062._fU4 );
        if (DOES_OBJECT_EXIST( uVar6 ))
        {
             /* WRITESCRIPTLOG */ sub_580( "RJM", "Registering Right Door", 0 );
            REGISTER_OBJECT_PRE_SEAMLESS_CUTSCENE( uVar6, "P_DR_EXT01", 0 );
        }
        if (bParam1)
        {
            START_CUTSCENE_CAPTURE( ref l_U735 );
        }
        CUTSCENE_ENABLE_SKIP( 0 );
        START_SEAMLESS_CUTSCENE();
        l_U505 = 6;
        l_U761 = 6;
        break;
        case 6:
        if (HAS_CUTSCENE_FINISHED())
        {
            if (bParam1)
            {
                STOP_CUTSCENE_CAPTURE();
            }
             /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_17917( l_U743, 1 );
             /* P_PLAYER_UNHOLSTER_WEAPONS */ sub_18951( l_U743, 1 );
            if (bParam0)
            {
                CAMERA_PLAY_ANIMATED( "LEVEL_S_NYBAR_CP_02", "BLEND_OUT_MID_00_NYBAR_RIFLE_CAM", 0, -13.01500000, -318.12700000, 0.04400000, 0.00000000, 0, 0 );
            }
             /* CLEANPED */ sub_14124( l_U762 );
            if (NOT bParam0)
            {
                 /* UNLOADMODEL */ sub_14403( 2024698471 );
            }
             /* NIS_POST_SETUP */ sub_19278( 1, 1 );
             /* WRITESCRIPTLOG */ sub_580( "SBA", "PLAY_MYC_MID_00 end", "*****" );
            Result = 1;
            l_U761 = 0;
        }
        else if (GET_CUTSCENE_TIME_MS() >= 12000)
        {
            CUTSCENE_ENABLE_SKIP( 1 );
        }
        break;
    }
    return Result;
}

/* LOADISEQ */ void sub_15604(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to load does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 0)
    {
        ISEQ_REQUEST( uParam0 );
        ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
        if (iParam1 == 1)
        {
            while ((ISEQ_QUERY_STATE( uParam0, 1 )) == 1)
            {
                DISPLAYF( "[SP]### Waiting for interactive sequence to be loaded: {0} {1} ###", 2, 1281, ref uVar4, 513, uParam0 );
                WAIT( 0 );
            }
        }
    }
    return;
}

/* BLOCKLOAD_NYC_MID_00_ASSETS */ void sub_15913()
{
     /* WRITESCRIPTLOG */ sub_580( "SBA", "P_SETUP_NYC_MID_00", "***" );
     /* BLOCKLOADMODEL */ sub_2826( 2024698471 );
    return;
}

/* P_SETUP_NYC_MID_00 */ void sub_16009()
{
     /* WRITESCRIPTLOG */ sub_580( "SBA", "P_SETUP_NYC_MID_00", "***" );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_3498( ref l_U763, 0, 0, 0, 0.00000000, -1756913695, 26, 6, 0, 0, 0 );
     /* CLEANPED */ sub_14124( l_U762 );
    l_U762 =  /* CREATEPED */ sub_3937( ref l_U763 );
    return;
}

/* REGISTER_PEDS_NYC_MID_00 */ void sub_16161(boolean bParam0)
{
    unknown uVar3;

     /* WRITESCRIPTLOG */ sub_580( "SBA", "REGISTER_PEDS_NYC_MID_00", "***" );
    if (bParam0)
    {
         /* WRITESCRIPTLOG */ sub_580( "SBA", "FROM FLOW: Registering passos with NYC_MID_00", "***" );
        uVar3 = g_U750;
    }
    else
    {
         /* WRITESCRIPTLOG */ sub_580( "SBA", "FROM CUTSCENE SCRIPT: Registering passos with NYC_MID_00", "***" );
        uVar3 = l_U762;
    }
    if ( /* IS_PED_VALID */ sub_4931( uVar3 ))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( uVar3, "FB_Pass_NY", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( uVar3, 0, 0 ), "W_PI_Clt1911_Aa_H^1", 0 );
        ISEQ_REGISTER_ENTITY( 984969677, "passos", uVar3, 0 );
        CUTSCENE_REGISTER_PED_TELEPORT( uVar3, g_U2436, g_U2439 );
    }
    if ( /* IS_MAX_VALID */ sub_5920())
    {
        if (bParam0)
        {
             /* P_PLAYER_HOLSTER_WEAPONS */ sub_16553( ref l_U743, 1, 1 );
             /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_17917( l_U743, 0 );
             /* P_EQUIP_PLAYER_WITH_SINGLE_HANDED_WEAPON */ sub_18050( 1 );
        }
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_2599(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_2599(), 0, 0 ), "W_PI_Clt1911_Aa_H", 0 );
        ISEQ_REGISTER_ENTITY( 984969677, "max",  /* PLAYER_PED_ID */ sub_2599(), 0 );
    }
    return;
}

/* P_PLAYER_HOLSTER_WEAPONS */ void sub_16553(int iParam0, int iParam1, unknown uParam2)
{
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;

     /* RESET_WEAPON_CONFIG */ sub_16592( iParam0 );
    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2599() )) == 0)
    {
        uVar5 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_2599(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
        {
            if (( /* IS_WEAPON_SINGLE_HANDED */ sub_16793( uVar5 )) == 1)
            {
                ref iParam0->_fU0->_fU0 = uVar5;
                ref iParam0->_fU0->_fU4 = GET_WEAPON_TYPE( uVar5 );
            }
            else if (( /* IS_WEAPON_TWO_HANDED */ sub_17047( uVar5 )) == 1)
            {
                ref iParam0->_fU24->_fU0 = uVar5;
                ref iParam0->_fU24->_fU4 = GET_WEAPON_TYPE( uVar5 );
            }
        }
        uVar6 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_2599(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar6 )) == 1)
        {
            ref iParam0->_fU12->_fU0 = uVar6;
            ref iParam0->_fU12->_fU4 = GET_WEAPON_TYPE( uVar6 );
        }
        uVar7 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_2599(), 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar7 )) == 1)
        {
            ref iParam0->_fU36->_fU0 = uVar7;
            ref iParam0->_fU36->_fU4 = GET_WEAPON_TYPE( uVar7 );
        }
        uVar8 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_2599(), 1 );
        if ((GET_DOES_WEAPON_EXIST( uVar8 )) == 1)
        {
            ref iParam0->_fU48->_fU0 = uVar8;
            ref iParam0->_fU48->_fU4 = GET_WEAPON_TYPE( uVar8 );
        }
        uVar9 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_2599(), 2 );
        if ((GET_DOES_WEAPON_EXIST( uVar9 )) == 1)
        {
            ref iParam0->_fU60->_fU0 = uVar9;
            ref iParam0->_fU60->_fU4 = GET_WEAPON_TYPE( uVar9 );
        }
    }
    if (iParam1 == 0)
    {
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2599() )) == 0)
        {
            uVar10 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_2599(), 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar10 )) == 1)
            {
                SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_2599(), 0, 0, uParam2 );
            }
            uVar11 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_2599(), 1, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar11 )) == 1)
            {
                SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_2599(), 0, 1, uParam2 );
            }
        }
    }
    else if (iParam1 == 1)
    {
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2599() )) == 0)
        {
            uVar12 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_2599(), 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar12 )) == 1)
            {
                if (( /* IS_WEAPON_TWO_HANDED */ sub_17047( uVar12 )) == 1)
                {
                    SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_2599(), 0, 0, uParam2 );
                }
            }
            uVar13 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_2599(), 1, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar13 )) == 1)
            {
                SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_2599(), 0, 1, uParam2 );
            }
        }
    }
    return;
}

/* RESET_WEAPON_CONFIG */ void sub_16592(int iParam0)
{
    ref iParam0->_fU0->_fU0 = 0;
    ref iParam0->_fU0->_fU4 = 0;
    ref iParam0->_fU12->_fU0 = 0;
    ref iParam0->_fU12->_fU4 = 0;
    ref iParam0->_fU24->_fU0 = 0;
    ref iParam0->_fU24->_fU4 = 0;
    ref iParam0->_fU36->_fU0 = 0;
    ref iParam0->_fU36->_fU4 = 0;
    ref iParam0->_fU48->_fU0 = 0;
    ref iParam0->_fU48->_fU4 = 0;
    ref iParam0->_fU60->_fU0 = 0;
    ref iParam0->_fU60->_fU4 = 0;
    return;
}

/* IS_WEAPON_SINGLE_HANDED */ int sub_16793(unknown uParam0)
{
    int iVar3;

    if ((GET_DOES_WEAPON_EXIST( uParam0 )) == 1)
    {
        iVar3 = GET_WEAPON_TYPE( uParam0 );
        if ((iVar3 == 1194438308) || ((iVar3 == -76667461) || ((iVar3 == -1404433099) || ((iVar3 == 1131969637) || ((iVar3 == -691403429) || ((iVar3 == 1845102363) || ((iVar3 == 150541352) || ((iVar3 == -820634585) || ((iVar3 == -612753081) || ((iVar3 == 811797242) || ((iVar3 == 68019059) || ((iVar3 == -1464892298) || ((iVar3 == 456708483) || ((iVar3 == -862236369) || (iVar3 == 406496141)))))))))))))))
        {
            return 1;
        }
    }
    return 0;
}

/* IS_WEAPON_TWO_HANDED */ int sub_17047(unknown uParam0)
{
    int iVar3;

    if ((GET_DOES_WEAPON_EXIST( uParam0 )) == 1)
    {
        iVar3 = GET_WEAPON_TYPE( uParam0 );
        if ((iVar3 == -2075384407) || ((iVar3 == 10648147) || ((iVar3 == 1224272620) || ((iVar3 == 1478009203) || ((iVar3 == 1964270085) || ((iVar3 == -110877124) || ((iVar3 == 427207702) || ((iVar3 == 319712764) || ((iVar3 == 514118749) || ((iVar3 == -184942895) || ((iVar3 == -168327769) || ((iVar3 == 434544317) || ((iVar3 == -1659006841) || ((iVar3 == 930042831) || ((iVar3 == 1001413062) || ((iVar3 == 377623895) || ((iVar3 == -1312131151) || ((iVar3 == -1787162676) || ((iVar3 == 724901397) || ((iVar3 == 57534114) || ((iVar3 == 840671040) || ((iVar3 == 1308526797) || ((iVar3 == -1074756423) || ((iVar3 == 1992962408) || (iVar3 == -1013714740)))))))))))))))))))))))))
        {
            return 1;
        }
    }
    return 0;
}

/* P_SET_TWO_HANDED_WEAPON_VISIBLE */ void sub_17917(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18)
{
    unknown uVar21;
    unknown uVar22;

    uVar21 = uParam0._fU24._fU0;
    if ((GET_DOES_WEAPON_EXIST( uVar21 )) == 1)
    {
        SET_WEAPON_VISIBLE( uVar21, uParam18 );
    }
    uVar22 = uParam0._fU60._fU0;
    if ((GET_DOES_WEAPON_EXIST( uVar22 )) == 1)
    {
        SET_WEAPON_VISIBLE( uVar22, uParam18 );
    }
    return;
}

/* P_EQUIP_PLAYER_WITH_SINGLE_HANDED_WEAPON */ void sub_18050(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2599() )) == 0)
    {
        iVar3 = 0;
        uVar4 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_2599(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar4 )) == 0)
        {
            iVar3 = 1;
        }
        if ((( /* IS_WEAPON_SINGLE_HANDED */ sub_16793( uVar4 )) == 0) AND ((GET_DOES_WEAPON_EXIST( uVar4 )) == 1))
        {
            iVar3 = 1;
        }
        if (iVar3 == 1)
        {
            uVar5 =  /* F_GET_SINGLE_HANDED_WEAPON_FROM_PLAYER */ sub_18198();
            if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
            {
                SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_2599(), uVar5, 0, uParam0 );
            }
        }
    }
    return;
}

/* F_GET_SINGLE_HANDED_WEAPON_FROM_PLAYER */ int sub_18198()
{
    unknown Result;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2599() )) == 0)
    {
        Result = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_2599(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( Result )) == 1)
        {
            if (( /* IS_WEAPON_SINGLE_HANDED */ sub_16793( Result )) == 1)
            {
                return Result;
            }
        }
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_2599(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            return uVar3;
        }
        uVar4 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_2599(), 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar4 )) == 1)
        {
            return uVar4;
        }
        uVar5 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_2599(), 1 );
        if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
        {
            return uVar5;
        }
    }
    return 0;
}

/* P_PLAYER_UNHOLSTER_WEAPONS */ void sub_18951(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18)
{
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2599() )) == 0)
    {
        uVar21 = uParam0._fU0._fU0;
        if ((GET_DOES_WEAPON_EXIST( uVar21 )) == 1)
        {
            SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_2599(), uVar21, 0, uParam18 );
        }
        uVar22 = uParam0._fU12._fU0;
        if ((GET_DOES_WEAPON_EXIST( uVar22 )) == 1)
        {
            SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_2599(), uVar22, 1, uParam18 );
        }
        uVar23 = uParam0._fU24._fU0;
        if ((GET_DOES_WEAPON_EXIST( uVar23 )) == 1)
        {
            SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_2599(), uVar23, 0, uParam18 );
        }
    }
    return;
}

/* NIS_POST_SETUP */ void sub_19278(boolean bParam0, boolean bParam1)
{
    SET_WIDESCREEN_BORDERS( 0, 500 );
    DISPLAY_HUD( 1 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2599() )))
    {
        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_2637(), 1, 0 );
        SET_PED_INVINCIBLE(  /* PLAYER_PED_ID */ sub_2599(), 0 );
        if (bParam0)
        {
             /* P_MAX_RELOAD_WEAPONS */ sub_19376();
        }
    }
    PULSE_CROSSHAIR( 1 );
    if (bParam1)
    {
        DESTROY_ALL_CAMS();
    }
    return;
}

/* P_MAX_RELOAD_WEAPONS */ void sub_19376()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2599() )) == 0)
    {
        uVar2 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_2599(), 0, 0 );
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_2599(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
        {
            uVar4 = GET_MAX_AMMO_IN_HAND_CLIP_MP(  /* PLAYER_PED_ID */ sub_2599(), 0 );
            SET_WEAPON_AMMO_IN_CLIP( uVar2, uVar4 );
        }
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            uVar5 = GET_MAX_AMMO_IN_HAND_CLIP_MP(  /* PLAYER_PED_ID */ sub_2599(), 1 );
            SET_WEAPON_AMMO_IN_CLIP( uVar3, uVar5 );
        }
    }
    return;
}

/* PLAY_NYC_MID_01 */ void sub_19696(boolean bParam0, unknown uParam1, unknown uParam2, boolean bParam3)
{
    int I;
    int Result;
    unknown uVar8;

    Result = 0;
    switch (l_U802)
    {
        case 4:
         /* LOADSEAMLESSCUTSCENE */ sub_5415( ref l_U776, 1 );
         /* LOADISEQ */ sub_15604( -850158086, 1 );
         /* LOADANIMDICT */ sub_19810( "LEVEL_S_NYBAR_MID_01_BLENDOUT", 0, 1 );
         /* WRITESCRIPTLOG */ sub_580( "SBA", "PLAY_NYC_MID_01 start", "*****" );
         /* NIS_PRE_SETUP */ sub_2521( 1, 0, 0, 1 );
        if (NOT bParam0)
        {
             /* BLOCKLOAD_NYC_MID_01_ASSETS */ sub_20036();
             /* P_SETUP_NYC_MID_01 */ sub_20459();
            l_U504 = 3;
        }
        else
        {
            CUTSCENE_SET_COVER_CAMERA_DIRECTION( g_U2448, g_U2449 );
        }
        if ( /* IS_PED_VALID */ sub_4931(  /* PLAYER_PED_ID */ sub_2599() ))
        {
             /* P_PLAYER_HOLSTER_WEAPONS */ sub_16553( ref l_U784, 0, 1 );
             /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_17917( l_U784, 0 );
             /* P_EQUIP_PLAYER_WITH_SINGLE_HANDED_WEAPON */ sub_18050( 1 );
            uVar8 =  /* F_GET_SINGLE_HANDED_WEAPON_FROM_PLAYER */ sub_18198();
        }
         /* REGISTER_PEDS_NYC_MID_01 */ sub_21426( bParam0, uParam1, uParam2, ref uVar8 );
        if (bParam3)
        {
            START_CUTSCENE_CAPTURE( ref l_U776 );
        }
        CUTSCENE_ENABLE_SKIP( 0 );
        START_SEAMLESS_CUTSCENE();
        l_U869 = 0;
        l_U868 = 0;
        l_U802 = 6;
        break;
        case 6:
        if (HAS_CUTSCENE_FINISHED())
        {
            if (bParam3)
            {
                STOP_CUTSCENE_CAPTURE();
            }
            if (GET_DOES_WEAPON_EXIST(  /* F_GET_TWO_HANDED_WEAPON_FROM_PLAYER */ sub_22872() ))
            {
                 /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_17917( l_U784, 1 );
            }
            else
            {
                 /* P_PLAYER_UNHOLSTER_WEAPONS */ sub_18951( l_U784, 1 );
            }
            for ( I = 0; I <= ((uParam1^) - 1); I++ )
            {
                if ( /* IS_PED_VALID */ sub_4931( (uParam1^)[I] ))
                {
                    SET_PED_CURRENT_WEAPON_VISIBLE( (uParam1^)[I], 1 );
                }
            }
            if (NOT bParam0)
            {
                 /* CLEAN_UP_MID01_ASSETS */ sub_23143();
                 /* UNLOAD_NYC_MID_01_ASSETS */ sub_23324();
            }
             /* WRITESCRIPTLOG */ sub_580( "SBA", "PLAY_NYC_MID_01 end", "*****" );
            Result = 1;
            l_U802 = 0;
        }
        else if ((NOT l_U869) AND (l_U504 == 3))
        {
            if (GET_CUTSCENE_TIME_MS() >= 2700)
            {
                 /* WRITESCRIPTLOG */ sub_580( "BSW", "playing music: mid_01 setting newMusicStage = MC_CUTSCENE_CARSKID", 0 );
                l_U505 = 3;
                CUTSCENE_ENABLE_SKIP( 1 );
                l_U869 = 1;
            }
        }
        if ((NOT l_U868) AND (l_U504 == 4))
        {
            if (GET_CUTSCENE_TIME_MS() >= 17000)
            {
                 /* WRITESCRIPTLOG */ sub_580( "BSW", "playing music: mid_01 setting newMusicStage = MC_CUTSCENE_SETTING_UP_FOR_FALL_LINE", 0 );
                l_U505 = 4;
                l_U868 = 1;
            }
        }
        break;
    }
    return Result;
}

/* LOADANIMDICT */ void sub_19810(unknown uParam0, unknown uParam1, int iParam2)
{
    REQUEST_ANIM_DICT( uParam0, uParam1 );
    "[doubled result, dropped if not asigned]";
    if (iParam2 == 1)
    {
        while ((HAS_ANIM_DICT_LOADED( uParam0, uParam1 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an animation dictionary to be loaded: {} ###", 1, 1537, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* BLOCKLOAD_NYC_MID_01_ASSETS */ void sub_20036()
{
     /* WRITESCRIPTLOG */ sub_580( "SBA", "BLOCKLOAD_NYC_MID_01_ASSETS", "***" );
     /* BLOCKLOADMODEL */ sub_2826( 2024698471 );
     /* BLOCKLOADMODEL */ sub_2826( g_U2250 );
     /* BLOCKLOADMODEL */ sub_2826( 557810561 );
     /* BLOCKLOADWEAPON */ sub_20158( -862236369 );
    return;
}

/* BLOCKLOADWEAPON */ void sub_20158(unknown uParam0)
{
    DISPLAYF( "[MSWW]### Trying to load weapon: {!f1} : {1} ###", 2, 1, 199730165, 513, uParam0 );
    REQUEST_WEAPON( uParam0 );
    LOAD_ALL_OBJECTS_NOW();
    while ((HAS_WEAPON_LOADED( uParam0 )) == 0)
    {
        LOAD_ALL_OBJECTS_NOW();
        DISPLAYF( "[SP]### Waiting to load weapon: {!f1} : {1} ###", 2, 1, 199730165, 513, uParam0 );
        WAIT( 0 );
    }
    DISPLAYF( "[MSWW]### Has loaded weapon: {!f1} : {1} ###", 2, 1, 199730165, 513, uParam0 );
    return;
}

/* P_SETUP_NYC_MID_01 */ void sub_20459()
{
    int I;

     /* WRITESCRIPTLOG */ sub_580( "SBA", "P_SETUP_NYC_MID_01", "***" );
    if ( /* IS_MAX_VALID */ sub_5920())
    {
         /* F_GIVEPEDWEAPON */ sub_7107(  /* PLAYER_PED_ID */ sub_2599(), -862236369, 200, 0, 1 );
    }
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_3498( ref l_U804, 0, 0, 0, 0.00000000, -1756913695, 26, 6, 0, 0, 0 );
     /* CLEANPED */ sub_14124( l_U803 );
    l_U803 =  /* CREATEPED */ sub_3937( ref l_U804 );
     /* F_GIVEPEDWEAPON */ sub_7107( l_U803, -862236369, 200, 0, 1 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_3498( ref l_U821[0], -96.16000000, -322.94000000, 0.26000000, -84.31000000, -1633679208, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_3498( ref l_U821[1], -95.19000000, -323.17000000, 0.26000000, -84.31000000, 1143414953, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_3498( ref l_U821[2], -93.24000000, -323.63000000, 0.26000000, -74.31000000, 2108318266, 7, 3, 2, 0, 0 );
    for ( I = 0; I <= 2; I++ )
    {
         /* CLEANPED */ sub_14124( l_U817[I] );
        l_U817[I] =  /* CREATEPED */ sub_3937( ref l_U821[I] );
         /* PREP_PED_FOR_NYC_MID_01 */ sub_20826( l_U817[I] );
    }
     /* CLEANVEHICLE */ sub_20918( l_U861 );
    l_U861 =  /* CREATEVEHICLE */ sub_21017( 557810561, -108.86600000, -316.92500000, 2.40000000, 0.00000000, 0, 0, 0 );
    return;
}

/* PREP_PED_FOR_NYC_MID_01 */ void sub_20826(unknown uParam0)
{
    if ( /* IS_PED_VALID */ sub_4931( uParam0 ))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uParam0, 1 );
        SET_PED_CAN_RAGDOLL_FROM_PLAYER_IMPACT( uParam0, 0 );
    }
    return;
}

/* CLEANVEHICLE */ void sub_20918(unknown uParam0)
{
    if (IS_VEHICLE_DEAD( uParam0 ))
    {
        ;
    }
    if (DOES_VEHICLE_EXIST( uParam0 ))
    {
        DELETE_VEHICLE( ref uParam0 );
    }
    return;
}

/* CREATEVEHICLE */ void sub_21017(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, int iParam5, unknown uParam6, unknown uParam7)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a vehicle with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_4119( uParam0, 1 );
    }
    Result = CREATE_VEHICLE( uParam0, uParam1, uParam4, uParam6, uParam7 );
    if (iParam5 == 1)
    {
        while ((DOES_VEHICLE_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for vehicle to exist: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    if (DOES_VEHICLE_EXIST( Result ))
    {
        SET_PETROLTANK_BURN_RATE( Result, 125.00000000 );
    }
    return Result;
}

/* REGISTER_PEDS_NYC_MID_01 */ void sub_21426(boolean bParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
     /* WRITESCRIPTLOG */ sub_580( "SBA", "REGISTER_PEDS_NYC_MID_01", "***" );
    if ( /* IS_MAX_VALID */ sub_5920())
    {
         /* WRITESCRIPTLOG */ sub_580( "SBA", "Registering player with NYC_MID_01", "***" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( (uParam3^), "W_PI_Clt1911_Aa_H^1", 0 );
        CUTSCENE_REGISTER_PED_TELEPORT(  /* PLAYER_PED_ID */ sub_2599(), l_U863, l_U866 );
        ISEQ_REGISTER_ENTITY( -850158086, "max",  /* PLAYER_PED_ID */ sub_2599(), 0 );
        CUTSCENE_REGISTER_ISEQ( -850158086 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_2599(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
        CUTSCENE_REGISTER_SET_PLAYER_IN_COVER( "GenCover", "47E254B1_556B395F_Corner2", 1, 0 );
    }
    if (bParam0)
    {
        if ( /* IS_PED_VALID */ sub_4931( g_U750 ))
        {
             /* WRITESCRIPTLOG */ sub_580( "SBA", "FROM FLOW: Registering passos with NYC_MID_01", "***" );
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( g_U750, "FB_Pass_NY", 0 );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( g_U750, 0, 0 ), "W_PI_Clt1911_Aa_H", 0 );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( g_U750, ref g_U2203 );
            CUTSCENE_REGISTER_PED_TELEPORT( g_U750, -53.82198000, -338.01680000, 4.20000000, 66.36500000 );
        }
    }
    else if ( /* IS_PED_VALID */ sub_4931( l_U803 ))
    {
         /* WRITESCRIPTLOG */ sub_580( "SBA", "FROM CUTSCENE SCRIPT: Registering passos with NYC_MID_01", "***" );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U803, "FB_Pass_NY", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U803, 0, 0 ), "W_PI_Clt1911_Aa_H", 0 );
    }
    if (DOES_VEHICLE_EXIST( (uParam2^) ))
    {
         /* WRITESCRIPTLOG */ sub_580( "SBA", "FROM CUTSCENE SCRIPT: Registering thug car with NYC_MID_01", "***" );
        REGISTER_VEHICLE_PRE_SEAMLESS_CUTSCENE( (uParam2^), "car_gensedan", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( (uParam1^)[0] ))
    {
         /* WRITESCRIPTLOG */ sub_580( "SBA", "Registering piThugs[0] with NYC_MID_01", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam1^)[0], "G_NY_T_Sold_BB", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( (uParam1^)[0], ref g_U2203 );
        CUTSCENE_REGISTER_PED_TELEPORT( (uParam1^)[0], -60.16000000, -326.58000000, 0.32000000, 230 );
        SET_PED_CURRENT_WEAPON_VISIBLE( (uParam1^)[0], 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( (uParam1^)[1] ))
    {
         /* WRITESCRIPTLOG */ sub_580( "SBA", "Registering piThugs[1] with NYC_MID_01", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam1^)[1], "G_NY_T_Sold_BB^1", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( (uParam1^)[1], ref g_U2203 );
        CUTSCENE_REGISTER_SET_PED_IN_COVER( (uParam1^)[1], "GenCover", "47E254B1_DC2D39A6_Corner2", 0, 0 );
        SET_PED_CURRENT_WEAPON_VISIBLE( (uParam1^)[1], 0 );
    }
    if ( /* IS_PED_VALID */ sub_4931( (uParam1^)[2] ))
    {
         /* WRITESCRIPTLOG */ sub_580( "SBA", "Registering piThugs[2] with NYC_MID_01", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam1^)[2], "G_NY_T_Sold_BB^2", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( (uParam1^)[2], ref g_U2203 );
        CUTSCENE_REGISTER_PED_TELEPORT( (uParam1^)[2], -61.24000000, -327.30000000, 0.28000000, 270 );
        SET_PED_CURRENT_WEAPON_VISIBLE( (uParam1^)[2], 0 );
    }
    return;
}

/* F_GET_TWO_HANDED_WEAPON_FROM_PLAYER */ int sub_22872()
{
    unknown Result;
    unknown uVar3;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2599() )) == 0)
    {
        Result = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_2599(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( Result )) == 1)
        {
            if (( /* IS_WEAPON_TWO_HANDED */ sub_17047( Result )) == 1)
            {
                return Result;
            }
        }
        uVar3 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_2599(), 2 );
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            return uVar3;
        }
    }
    return 0;
}

/* CLEAN_UP_MID01_ASSETS */ void sub_23143()
{
     /* WRITESCRIPTLOG */ sub_580( "SBA", "CLEAN_UP_MID01_ASSETS", "***" );
     /* CLEANPEDARRAY */ sub_23222( ref l_U817 );
     /* CLEANVEHICLE */ sub_20918( l_U861 );
     /* CLEANPED */ sub_14124( l_U803 );
    return;
}

/* CLEANPEDARRAY */ void sub_23222(unknown uParam0)
{
    int I;

    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
         /* CLEANPED */ sub_14124( (uParam0^)[I] );
    }
    return;
}

/* UNLOAD_NYC_MID_01_ASSETS */ void sub_23324()
{
     /* WRITESCRIPTLOG */ sub_580( "SBA", "UNLOAD_NYC_MID_01_ASSETS", "***" );
     /* UNLOADMODEL */ sub_14403( 2024698471 );
     /* UNLOADMODEL */ sub_14403( g_U2250 );
     /* UNLOADMODEL */ sub_14403( 557810561 );
     /* UNLOADWEAPON */ sub_23440( -862236369 );
    return;
}

/* UNLOADWEAPON */ void sub_23440(unknown uParam0)
{
    SET_WEAPON_AS_NO_LONGER_NEEDED( uParam0 );
    return;
}

/* PLAY_MIDSCENE_08 */ void sub_23850(boolean bParam0)
{
     /* LOADSEAMLESSCUTSCENE */ sub_5415( "mid_08_nybar_concat", 1 );
     /* CREATE_SNOW_FX_FOR_MID_08 */ sub_23908( 1 );
    if (bParam0)
    {
        START_CUTSCENE_CAPTURE( "mid_08_nybar_concat" );
    }
    START_SEAMLESS_CUTSCENE();
    while (NOT HAS_CUTSCENE_FINISHED())
    {
        WAIT( 0 );
    }
    if (bParam0)
    {
        STOP_CUTSCENE_CAPTURE();
    }
    return;
}

/* CREATE_SNOW_FX_FOR_MID_08 */ void sub_23908(unknown uParam0)
{
    vector vVar3;
    vector vVar6;
    vector vVar9;
    vector vVar12;
    vector vVar15;
    vector vVar18;
    vector vVar21;
    vector vVar24;
    vector vVar27;
    float fVar30;
    float fVar31;

    vVar3 = {-145.86450000, -16.21313000, -8.50000000};
    vVar6 = {-143.74710000, -16.86111000, -8.50000000};
    vVar9 = {-140.62700000, -16.68133000, -8.50000000};
    vVar12 = {-138.35160000, -16.74670000, -8.50000000};
    vVar15 = {-126.97470000, -17.15432000, -8.50000000};
    vVar18 = {-122.79310000, -13.07062000, -8.50000000};
    vVar21 = {-124.22460000, -22.69810000, -8.50000000};
    vVar24 = {-123.82480000, -28.63766000, -8.50000000};
    vVar27 = {-125.21000000, -12.25000000, -8.50000000};
    fVar30 = 2.00000000;
    fVar31 = 4.00000000;
    switch (uParam0)
    {
        case 1:
        l_U272[0] = START_PARTICLE_FX_LOOPED_AT_COORD( "CS_NYC_Snow_S", vVar3, 0.00000000, 0.00000000, 0.00000000, 1.00000000 );
        l_U272[1] = START_PARTICLE_FX_LOOPED_AT_COORD( "CS_NYC_Snow_S", vVar6, 0.00000000, 0.00000000, 0.00000000, 1.00000000 );
        break;
        case 2:
        l_U272[2] = START_PARTICLE_FX_LOOPED_AT_COORD( "CS_NYC_Snow_S", vVar9, 0.00000000, 0.00000000, 0.00000000, 1.00000000 );
        ADD_NEARBY_COLLISION_TO_PARTICLE_FX( l_U272[2], vVar9.x, vVar9.y, vVar9.z - fVar31, fVar30 );
        l_U272[3] = START_PARTICLE_FX_LOOPED_AT_COORD( "CS_NYC_Snow_S", vVar12, 0.00000000, 0.00000000, 0.00000000, 1.00000000 );
        ADD_NEARBY_COLLISION_TO_PARTICLE_FX( l_U272[3], vVar12.x, vVar12.y, vVar12.z - fVar31, fVar30 );
        l_U272[4] = START_PARTICLE_FX_LOOPED_AT_COORD( "CS_NYC_Snow_S", vVar15, 0.00000000, 0.00000000, 0.00000000, 1.00000000 );
        ADD_NEARBY_COLLISION_TO_PARTICLE_FX( l_U272[4], vVar15.x, vVar15.y, vVar15.z - fVar31, fVar30 );
        break;
        case 3:
        STOP_PARTICLE_FX_LOOPED( l_U272[0] );
        STOP_PARTICLE_FX_LOOPED( l_U272[1] );
        l_U272[5] = START_PARTICLE_FX_LOOPED_AT_COORD( "CS_NYC_Snow_S", vVar18, 0.00000000, 0.00000000, 0.00000000, 1.00000000 );
        ADD_NEARBY_COLLISION_TO_PARTICLE_FX( l_U272[5], vVar18.x, vVar18.y, vVar18.z - fVar31, fVar30 );
        l_U272[6] = START_PARTICLE_FX_LOOPED_AT_COORD( "CS_NYC_Snow_S", vVar21, 0.00000000, 0.00000000, 0.00000000, 1.00000000 );
        ADD_NEARBY_COLLISION_TO_PARTICLE_FX( l_U272[6], vVar21.x, vVar21.y, vVar21.z - fVar31, fVar30 );
        break;
        case 4:
        STOP_PARTICLE_FX_LOOPED( l_U272[2] );
        STOP_PARTICLE_FX_LOOPED( l_U272[3] );
        STOP_PARTICLE_FX_LOOPED( l_U272[4] );
        l_U272[7] = START_PARTICLE_FX_LOOPED_AT_COORD( "CS_NYC_Snow_S", vVar24, 0.00000000, 0.00000000, 0.00000000, 1.00000000 );
        ADD_NEARBY_COLLISION_TO_PARTICLE_FX( l_U272[7], vVar24.x, vVar24.y, vVar24.z - fVar31, fVar30 );
        l_U272[8] = START_PARTICLE_FX_LOOPED_AT_COORD( "CS_NYC_Snow_S", vVar27, 0.00000000, 0.00000000, 0.00000000, 1.00000000 );
        ADD_NEARBY_COLLISION_TO_PARTICLE_FX( l_U272[7], vVar27.x, vVar27.y, vVar27.z - fVar31, fVar30 );
        break;
    }
    return;
}

/* PLAY_MIDSCENE_08_SH5 */ void sub_25155(boolean bParam0)
{
     /* LOADSEAMLESSCUTSCENE */ sub_5415( "mid_08_nybar_sh5", 1 );
    if (bParam0)
    {
        START_CUTSCENE_CAPTURE( "mid_08_nybar_sh5" );
    }
    START_SEAMLESS_CUTSCENE();
    while (NOT HAS_CUTSCENE_FINISHED())
    {
        WAIT( 0 );
    }
    if (bParam0)
    {
        STOP_CUTSCENE_CAPTURE();
    }
    return;
}

