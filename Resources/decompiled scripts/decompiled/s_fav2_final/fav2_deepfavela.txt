void main()
{
    l_U0 = 0;
    l_U1 = 1;
    l_U2 = 0;
    l_U3 = 1.00000000;
    l_U4 = -5.00000000;
    l_U5 = 0;
    l_U6 = 0;
    l_U7 = 0;
    l_U11 = 42;
    l_U12 = 0;
    l_U13 = 0;
    l_U14 = 0;
    l_U15 = 0;
    l_U16 = 0;
    l_U17 = 90.00000000;
    l_U18 = {0.00000000, 0.00000000, 0.00000000};
    l_U21 = {0.00000000, 0.00000000, 0.00000000};
    l_U24 = 0;
    l_U25 = 0;
    l_U26 = 0;
    l_U27 = 0;
    l_U28 = 0;
    l_U29 = 0;
    l_U30 = nil;
    l_U31 = {0.00000000, 0.00000000, 0.00000000};
    l_U34 = 0;
    l_U35 = 0;
    l_U36 = 0;
    l_U38 = 0;
    l_U39 = 0;
    l_U40 = 1500;
    l_U53 = 0;
    l_U90 = 0;
    l_U91 = 0;
    l_U92 = 0;
    l_U93 = 0;
    l_U94 = 0;
    l_U131 = 0;
    l_U132 = 1;
    l_U133 = 0;
    l_U134 = 0;
    l_U135 = 0;
    l_U136 = 0;
    l_U137 = 0;
    l_U745 = 0;
    l_U746 = 0;
    l_U747 = 0;
    l_U748 = 0;
    l_U749 = 0;
    l_U750 = 0;
    l_U765 = {-71.88000000, 116.30000000, 16.82000000};
    l_U768 = 136.93000000;
    l_U770 = {-71.67000000, 114.84000000, 16.82000000};
    l_U773 = {0.00000000, 0.00000000, -30.00000000};
    l_U800 = {-98.35000000, 121.98000000, 14.48000000};
    l_U803 = 185.00000000;
    l_U805 = {-98.02000000, 120.98000000, 14.60000000};
    l_U808 = {0.00000000, 0.00000000, 170.00000000};
    l_U812 = {-99.10000000, 121.02000000, 14.60000000};
    l_U815 = {0.00000000, 0.00000000, 170.00000000};
    l_U842 = {-122.43200000, 114.40800000, 15.62400000};
    l_U845 = -90.33900000;
    l_U847 = {-121.70000000, 113.60000000, 15.62400000};
    l_U850 = {0.00000000, 0.00000000, -100.00000000};
    l_U876 = {-113.77500000, 94.14600000, 19.96000000};
    l_U879 = -103.33900000;
    l_U881 = {-112.47530000, 95.26500000, 19.96400000};
    l_U884 = {0.00000000, 0.00000000, 70.00000000};
    l_U910 = {-79.14999000, 84.85000000, 24.34154000};
    l_U913 = 118.00000000;
    l_U915 = {-81.10000000, 83.10000000, 24.45000000};
    l_U918 = {0.00000000, 0.00000000, -60.97000000};
    l_U922 = {-81.55800000, 83.95800000, 24.45000000};
    l_U925 = {0.00000000, 0.00000000, -60.97000000};
    l_U951 = {-115.30200000, 100.90100000, 19.69200000};
    l_U954 = -81.55200000;
    l_U956 = {-114.66400000, 101.42300000, 19.83000000};
    l_U959 = {0.00000000, 0.00000000, -95.31000000};
    l_U963 = {-114.54300000, 100.40800000, 19.83000000};
    l_U966 = {0.00000000, 0.00000000, -80.31000000};
    l_U992 = {-81.09000000, 81.95800000, 27.82500000};
    l_U995 = 23.69200000;
    l_U1020 = {-100.69900000, 114.60800000, 8.68500000};
    l_U1023 = -102.75200000;
    l_U1148 = 0;
    l_U1149 = 0;
    l_U1150 = 0;
    l_U1151 = 0;
    l_U1152 = 0;
    l_U1153 = 0;
    l_U1154 = 0;
    l_U1155 = 0;
    l_U1156 = 1;
    l_U1157 = 500;
    l_U1167 = {-82.59700000, 62.08100000, 26.20000000};
    l_U1170 = 50.00000000;
    l_U1172 = {-81.02000000, 60.17200000, 28.00000000};
    l_U1175 = {0.00000000, 0.00000000, -77.50000000};
    l_U1178 = 0;
    l_U1179 = 2000;
    l_U1180 = 1000;
    l_U1181 = {-79.97800000, 60.32900000, 28.10000000};
    l_U1184 = 0.00000000;
    l_U1185 = -8.40800000;
    l_U1186 = -9.89700000;
    l_U1196 = 3000;
    l_U1236 = {-109.16500000, 100.11200000, 19.77000000};
    l_U1239 = 30.00000000;
    l_U1240 = -30.00000000;
    l_U1241 = -20.00000000;
    l_U1242 = 0;
    l_U1243 = 1;
    l_U1244 = 1;
    l_U1245 = {-99.12000000, 129.09000000, 18.72000000};
    l_U1248 = -102.17000000;
    l_U1249 = {-91.37000000, 128.04000000, 18.54000000};
    l_U1252 = -106.87000000;
    l_U1253 = {-90.72000000, 130.33000000, 24.22000000};
    l_U1256 = -103.45000000;
    l_U1257 = {-105.17000000, 138.15000000, 20.16000000};
    l_U1260 = -88.06000000;
    l_U1261 = {-100.11000000, 137.34000000, 20.70000000};
    l_U1264 = -88.60000000;
    l_U1335 = 0;
    l_U1336 = 0;
    l_U1337 = 0;
    l_U1338 = 0;
    l_U1339 = 0;
    l_U1340 = 1;
    l_U1341 = 0;
    l_U1414 = 0;
    l_U1424 = 12000;
    l_U1473 = 0;
    l_U1474 = 0;
    l_U1475 = 0;
    l_U1476 = 0;
    l_U1477 = 0;
    l_U1618 = {-94.79100000, 73.96300000, 25.19000000};
    l_U1621 = -14.14000000;
    l_U1622 = {-95.80100000, 75.83900000, 25.20000000};
    l_U1625 = -103.24000000;
    l_U1626 = {-93.06000000, 71.83000000, 22.75000000};
    l_U1629 = -35.24000000;
    l_U1630 = {-93.28000000, 74.94000000, 22.75000000};
    l_U1633 = -9.87000000;
    l_U1634 = {-85.67000000, 81.16000000, 22.75000000};
    l_U1637 = 133.18000000;
    l_U1638 = {-99.72145000, 84.07689000, 22.75338000};
    l_U1641 = {-98.72000000, 80.23000000, 22.75000000};
    l_U1644 = {-99.15000000, 84.31000000, 22.75000000};
    l_U1647 = 0;
    l_U1648 = 0;
    l_U1649 = 0;
    l_U1650 = 0;
    l_U1651 = 0;
    l_U1652 = 0;
    l_U1653 = 0;
    l_U1705 = 0;
    l_U1706 = {-84.79000000, 116.51000000, 15.42000000};
    l_U1709 = {-114.24000000, 125.61000000, 13.82000000};
    l_U1742 = {-117.12200000, 110.65200000, 15.67571000};
    l_U1745 = -45.00000000;
    l_U1746 = {-118.55200000, 111.38900000, 15.67571000};
    l_U1749 = -90.00000000;
    l_U1750 = 0;
    l_U1796 = 0;
    sub_1970( "SP", "Script fav2_deepFavela.sc is starting...", 0 );
    l_U92 = 1;
    while (IS_EXITFLAG_SET() == 0)
    {
        sub_2039();
        sub_10908();
        WAIT( 0 );
    }
    sub_4581();
    sub_61707();
    SET_SCRIPT_AS_NO_LONGER_NEEDED( "fav2_deepFavela" );
    SET_EXITFLAG_RESPONSE();
    sub_1970( "SP", "Script fav2_deepFavela.sc is terminating...", 0 );
    return;
}

void sub_1970(unknown uParam0, unknown uParam1, string sParam2)
{
    unknown uVar5;

    if (IS_STRING_NULL( sParam2 ))
    {
        sParam2 = "###";
    }
    uVar5 = GET_REAL_GAME_TIMER();
    return;
}

void sub_2039()
{
    if (g_U782 == 2)
    {
        switch (l_U137)
        {
            case 0:
            if ((l_U744 == 1) || ((sub_2194()) || (IS_PED_DEAD( sub_2121() ))))
            {
                SET_PED_INVINCIBLE( sub_2121(), 0 );
                l_U137 = 1;
                sub_1970( "kja", "eFailState = FAIL_WAITING_FOR_PLAYER", 0 );
            }
            break;
            case 1:
            if (sub_2712())
            {
                l_U137 = 2;
            }
            else if ((sub_2752( 0 )) == 1)
            {
                l_U137 = 2;
            }
            break;
            case 2:
            if (NOT (IS_PED_DEAD( sub_2121() )))
            {
                if ((g_U1312[2]._fU40 != 4) AND (g_U1312[2]._fU40 != 0))
                {
                    sub_1970( "kja", "Shutting down script for MCE_DEEP_FAV.", 0 );
                    sub_4198( ref g_U1312[2] );
                }
                l_U137 = 3;
                sub_1970( "kja", "eFailState = FAIL_CLEANUP_ALL", 0 );
            }
            break;
            case 3:
            sub_1970( "kja", "eFailState = FAIL_CLEANUP_ALL", 0 );
            if ((NOT (IS_PED_DEAD( sub_2121() ))) AND (NOT (IS_PLAYER_DEAD( sub_2143() ))))
            {
                SET_PLAYER_CONTROL( sub_2143(), 0, 0 );
                if (GET_IS_PED_FORCED_TO_WALK( sub_2121() ))
                {
                    SET_PED_FORCED_TO_WALK( sub_2121(), 0 );
                }
            }
            sub_4411( ref l_U743 );
            DO_SCREEN_FADE_OUT( 0 );
            DESTROY_ALL_CAMS();
            RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
            CAMERA_CLEAR_POINT_AT_TARGET();
            CLEAR_PED_PRIMARY_LOOKAT( sub_2121() );
            AUDIO_MUSIC_SUSPEND( 500 );
            ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
            CLEAR_NAMED_CUTSCENE( "mid_03_f2_concat" );
            sub_4581();
            l_U137 = 4;
            sub_1970( "kja", "eFailState = FAIL_RESTORE_PLAYER", 0 );
            break;
            case 4:
            sub_1970( "kja", "eFailState = FAIL_RESTORE_PLAYER", 0 );
            sub_6625( ref l_U54, sub_2121() );
            l_U137 = 5;
            sub_1970( "kja", "eFailState = FAIL_RESTART_CHECKPOINT", 0 );
            break;
            case 5:
            sub_1970( "kja", "eFailState = FAIL_RESTART_CHECKPOINT", 0 );
            sub_4198( ref g_U1312[2] );
            l_U92 = 1;
            l_U137 = 0;
            sub_1970( "kja", "eFailState = FAIL_IDLE", 0 );
            break;
        }
    }
    else if ((sub_2712()) || ((IS_PED_DEAD( sub_2121() )) == 1))
    {
        sub_4198( ref g_U1312[2] );
        SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
    }
    return;
}

int sub_2121()
{
    if (DOES_MAIN_PLAYER_EXIST())
    {
        return GET_PLAYER_PED( sub_2143() );
    }
    return 0;
}

void sub_2143()
{
    return GET_PLAYER_ID();
}

int sub_2194()
{
    if (HAS_SELECTED_RETRY_CHECKPOINT())
    {
        if (IS_IN_NYMINUTE_MODE())
        {
            SWITCH_TO_LEVEL( GET_INDEX_OF_CURRENT_LEVEL() );
        }
        if (HAS_CUTSCENE_FINISHED() == 0)
        {
            return 0;
        }
        g_U665 = 0;
        g_U648 = 1;
        DO_SCREEN_FADE_OUT( 0 );
        ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 1 );
        TERMINATE_GAME_BULLET_CAMERA();
        if (IS_ANIMATED_CAMERA_PLAYING())
        {
            CAMERA_ANIMATED_STOP( 0, 0 );
        }
        STOP_ALL_SCRIPTED_CONVERSATIONS( 0 );
        DEACTIVATE_BULLET_TIME( 1, 0 );
        END_POSTFX_BLENDER( 0, 0 );
        END_POSTFX_BLENDER( 2, 0 );
        END_POSTFX_BLENDER( 3, 0 );
        END_POSTFX_BLENDER( 4, 0 );
        END_POSTFX_BLENDER( 5, 0 );
        END_POSTFX_BLENDER( 7, 0 );
        END_POSTFX_BLENDER( 9, 0 );
        END_POSTFX_BLENDER( 10, 0 );
        END_POSTFX_BLENDER( 11, 0 );
        END_POSTFX_BLENDER( 12, 0 );
        END_POSTFX_BLENDER( 13, 0 );
        END_POSTFX_BLENDER( 14, 0 );
        END_POSTFX_BLENDER( 15, 0 );
        END_POSTFX_BLENDER( 16, 0 );
        STOP_ALL_IMAGEFX( 0 );
        if (NOT (IS_PED_DEAD( sub_2121() )))
        {
            SET_PED_FORCED_TO_WALK( sub_2121(), 0 );
            SET_PLAYER_FORCED_AIM( sub_2143(), 0, 0 );
            SET_PLAYER_CAN_USE_SHOOTDODGE( sub_2143(), 1 );
            if ((IS_PED_VISIBLE( sub_2121() )) == 0)
            {
                SET_PED_VISIBLE( sub_2121(), 1 );
            }
        }
        CLEAR_PRINTS();
        CLEAR_HELP();
        SET_INTERACTIONTEXT_VISIBLE( 0 );
        RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
        DESTROY_ALL_CAMS();
        AUDIO_MUSIC_SUSPEND( 500 );
        return 1;
    }
    return 0;
}

void sub_2712()
{
    return g_U648;
}

int sub_2752(int iParam0)
{
    iParam0 = 1;
    switch (l_U39)
    {
        case 0:
        if (NOT (sub_2813( ref l_U41 )))
        {
            if ((IS_DEATH_PANEL_WIPE_ALLOWED()) AND (IS_PED_DEAD( sub_2121() )))
            {
                l_U40 = 2000;
                ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 1 );
            }
            sub_2923( ref l_U41, l_U40, 1, 1 );
            sub_3059( ref l_U41 );
        }
        if (sub_3179( ref l_U41 ))
        {
            sub_1970( "NS", " show fail/retry text", 0 );
            if ((IS_DEATH_PANEL_WIPE_ALLOWED()) AND (IS_PED_DEAD( sub_2121() )))
            {
                if ((IS_BULLET_CAMERA_RUNNING( 0 )) == 0)
                {
                    if (IS_SCREEN_FADED_OUT())
                    {
                        DO_SCREEN_FADE_IN( 0 );
                    }
                }
                ENABLE_DEATHHELPERTEXT( 1, 1, 0 );
            }
            else if (IS_SCREEN_FADED_OUT())
            {
                DO_SCREEN_FADE_IN( 0 );
                ENABLE_DEATHHELPERTEXT( 1, iParam0, 0 );
            }
            else
            {
                ENABLE_DEATHHELPERTEXT( 1, iParam0, 0 );
            }
            if (NOT (IS_PLAYER_DEAD( sub_2143() )))
            {
                SET_PLAYER_CONTROL( sub_2143(), 0, 0 );
            }
            DISPLAY_HUD( 0 );
            l_U39 = 1;
        }
        break;
        case 1:
        if ((((NOT IS_QUIT_CONFIRMING()) == 1) AND (IS_BUTTON_JUST_PRESSED( 0, 501 ))) || ((N_1855335259()) || (IS_CONTROL_JUST_PRESSED( 2, 82 ))))
        {
            if (IS_QUIT_CONFIRMING() == 1)
            {
                l_U39 = 2;
            }
            else
            {
                l_U39 = 3;
            }
        }
        break;
        case 2:
        sub_1970( "NS", "Player will QUIT", 0 );
        sub_3666();
        if (iParam0 == 1)
        {
            DO_SCREEN_FADE_OUT( 0 );
        }
        START_PANEL_WIPE( 0, 6 );
        SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
        RETURN_TO_TITLESCREEN( 0 );
        break;
        case 3:
        sub_1970( "NS", "Player will RETRY", 0 );
        if (IS_IN_NYMINUTE_MODE())
        {
            SWITCH_TO_LEVEL( GET_INDEX_OF_CURRENT_LEVEL() );
        }
        if (iParam0 == 1)
        {
            DO_SCREEN_FADE_OUT( 0 );
        }
        sub_3666();
        return 1;
        break;
    }
    return 0;
}

int sub_2813(int iParam0)
{
    if (iParam0->_fU20 == 1)
    {
        return 1;
    }
    if (iParam0->_fU16 == 1)
    {
        return 1;
    }
    return 0;
}

void sub_2923(int iParam0, unknown uParam1, boolean bParam2, int iParam3)
{
    if (bParam2)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam3 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU12 = uParam1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = bParam2;
    iParam0->_fU32 = iParam3;
    iParam0->_fU8 = 0;
    return;
}

void sub_3059(int iParam0)
{
    if (NOT iParam0->_fU20)
    {
        iParam0->_fU20 = 1;
        iParam0->_fU16 = 0;
        if (iParam0->_fU28)
        {
            iParam0->_fU0 = TIMERA();
        }
        else
        {
            iParam0->_fU0 = TIMERB();
        }
        if (iParam0->_fU32 == 1)
        {
            iParam0->_fU0 = TIMERSYSTEM();
        }
        iParam0->_fU4 = iParam0->_fU0;
    }
    return;
}

int sub_3179(int iParam0)
{
    if (iParam0->_fU16)
    {
        return 0;
    }
    else if (NOT iParam0->_fU20)
    {
        return 0;
    }
    if (iParam0->_fU28)
    {
        iParam0->_fU4 = TIMERA();
    }
    else
    {
        iParam0->_fU4 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU4 = TIMERSYSTEM();
    }
    if ((iParam0->_fU4 - iParam0->_fU0) >= iParam0->_fU12)
    {
        iParam0->_fU16 = 1;
        iParam0->_fU20 = 0;
        return 1;
        break;
    }
    return 0;
}

void sub_3666()
{
    sub_1970( "NS", "P_PostFailRetryCleanup", 0 );
    sub_3716( ref l_U41 );
    ENABLE_DEATHHELPERTEXT( 0, 0, 2000 );
    SET_SCRIPT_CONTROL_RESET_ON_PLAYER_DEATH( 0 );
    if (NOT (IS_PLAYER_DEAD( sub_2143() )))
    {
        SET_PLAYER_CONTROL( sub_2143(), 1, 0 );
    }
    DISPLAY_HUD( 1 );
    l_U38 = 0;
    l_U38 = l_U38;
    l_U39 = 0;
    return;
}

void sub_3716(int iParam0)
{
    if (iParam0->_fU28)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    return;
}

void sub_4198(int iParam0)
{
    iParam0->_fU36 = 0;
    iParam0->_fU40 = 0;
    return;
}

void sub_4411(unknown uParam0)
{
    if ((DOES_CAM_EXIST( (uParam0^) )) == 1)
    {
        if ((IS_CAM_ACTIVE( (uParam0^) )) == 1)
        {
            SET_CAM_ACTIVE( (uParam0^), 0 );
        }
        DESTROY_CAM( (uParam0^) );
    }
    (uParam0^) = nil;
    return;
}

void sub_4581()
{
    sub_1970( "SP", "P_CLEANUP_ALL", 0 );
    ISEQ_UNREGISTER_ENTITY( 1642996674, "CIV" );
    ISEQ_UNREGISTER_ENTITY( 1642996674, "DOOR" );
    ISEQ_TERMINATE( 1642996674 );
    ISEQ_UNREGISTER_ENTITY( 976803717, "CIV" );
    ISEQ_UNREGISTER_ENTITY( 976803717, "SHUTTERA" );
    ISEQ_UNREGISTER_ENTITY( 976803717, "SHUTTERB" );
    ISEQ_TERMINATE( 976803717 );
    ISEQ_UNREGISTER_ENTITY( -1344695955, "CIV" );
    ISEQ_UNREGISTER_ENTITY( -1344695955, "DOOR" );
    ISEQ_TERMINATE( -1344695955 );
    ISEQ_UNREGISTER_ENTITY( 391883775, "CIV1" );
    ISEQ_UNREGISTER_ENTITY( 391883775, "DOOR1" );
    ISEQ_TERMINATE( 391883775 );
    ISEQ_UNREGISTER_ENTITY( 367252975, "ENEMY" );
    ISEQ_TERMINATE( 367252975 );
    ISEQ_UNREGISTER_ENTITY( 1284098821, "ENEMY" );
    ISEQ_TERMINATE( 1284098821 );
    ISEQ_UNREGISTER_ENTITY( -666691999, "player" );
    ISEQ_TERMINATE( -666691999 );
    ISEQ_UNREGISTER_ENTITY( 698501614, "pedalley_male" );
    ISEQ_TERMINATE( 698501614 );
    ISEQ_UNREGISTER_ENTITY( 864352828, "cs_1" );
    ISEQ_UNREGISTER_ENTITY( 864352828, "cs_2" );
    ISEQ_UNREGISTER_ENTITY( 864352828, "ufe_1" );
    ISEQ_UNREGISTER_ENTITY( 864352828, "ufe_2" );
    ISEQ_UNREGISTER_ENTITY( 864352828, "ufe_3" );
    ISEQ_TERMINATE( 864352828 );
    ISEQ_UNREGISTER_ENTITY( 337545548, "rfscrm1_male1" );
    ISEQ_UNREGISTER_ENTITY( 337545548, "rfscrm1_male2" );
    ISEQ_UNREGISTER_ENTITY( 337545548, "rfscrm1_male3" );
    ISEQ_UNREGISTER_ENTITY( 337545548, "rfscrm1_male4" );
    ISEQ_UNREGISTER_ENTITY( 337545548, "rfscrm1_male5" );
    ISEQ_TERMINATE( 337545548 );
    ISEQ_UNREGISTER_ENTITY( -1612096529, "flee_male" );
    ISEQ_TERMINATE( -1612096529 );
    ISEQ_UNREGISTER_ENTITY( -4482154, "flee_female" );
    ISEQ_TERMINATE( -4482154 );
    ISEQ_UNREGISTER_ENTITY( 1987392575, "drag2_male" );
    ISEQ_TERMINATE( 1987392575 );
    ISEQ_UNREGISTER_ENTITY( -777471265, "csrunner2" );
    ISEQ_TERMINATE( -777471265 );
    ISEQ_UNREGISTER_ENTITY( -309100710, "CIV" );
    ISEQ_UNREGISTER_ENTITY( -309100710, "SHUTTERA" );
    ISEQ_UNREGISTER_ENTITY( -309100710, "SHUTTERB" );
    ISEQ_TERMINATE( -309100710 );
    ISEQ_UNREGISTER_ENTITY( 209679190, "CIV2" );
    ISEQ_UNREGISTER_ENTITY( 209679190, "SHUTTERA1" );
    ISEQ_UNREGISTER_ENTITY( 209679190, "SHUTTERB1" );
    ISEQ_TERMINATE( 209679190 );
    ISEQ_UNREGISTER_ENTITY( 1934821569, "UFE1" );
    ISEQ_UNREGISTER_ENTITY( 1934821569, "UFE2" );
    sub_5590( l_U1739[0] );
    sub_5590( l_U1739[1] );
    sub_5590( l_U937 );
    sub_5590( l_U751 );
    sub_5702( l_U769 );
    sub_5590( l_U896 );
    sub_5702( l_U914 );
    sub_5702( l_U921 );
    sub_5590( l_U828 );
    sub_5702( l_U846 );
    sub_5590( l_U862 );
    sub_5702( l_U880 );
    sub_5816( ref l_U1139 );
    sub_5590( l_U978 );
    sub_5590( l_U1006 );
    sub_5816( ref l_U1233 );
    sub_5816( ref l_U1395 );
    sub_5816( ref l_U1139 );
    sub_5816( ref l_U1612 );
    sub_5590( l_U1676 );
    sub_5590( l_U1330 );
    sub_5590( l_U1331 );
    sub_5590( l_U1332 );
    sub_5590( l_U1333 );
    sub_5590( l_U1334 );
    sub_5590( l_U1454 );
    sub_5590( l_U1440 );
    sub_5590( l_U1704 );
    sub_5590( l_U1413 );
    sub_5590( l_U1690 );
    sub_5590( l_U1479 );
    sub_6055( l_U1478 );
    sub_5590( l_U1525 );
    sub_6055( l_U1524 );
    sub_5590( l_U1527 );
    sub_6055( l_U1526 );
    sub_5590( l_U1495 );
    sub_5590( l_U1509 );
    sub_5590( l_U1523 );
    sub_5702( l_U1171 );
    sub_5590( l_U786 );
    sub_5702( l_U804 );
    sub_5702( l_U811 );
    sub_6224( l_U707 );
    CLEAR_NAMED_CUTSCENE( "mid_02_f2_concat" );
    if (((CUTSCENE_NAMED_IS_LOADING( "mid_01_fav2_concat" )) == 1) || ((CUTSCENE_IS_LOADED( "mid_01_fav2_concat" )) == 1))
    {
        CLEAR_NAMED_CUTSCENE( "mid_01_fav2_concat" );
    }
    STOP_SOUND( l_U1425, 0 );
    STOP_SOUND( l_U1426, 0 );
    RELEASE_NAMED_SCRIPT_AUDIO_BANK( "SCRIPT_MISSION\S_FAV2_DEEP_INTO_THE_FAVELA" );
    STOP_SCRIPT_STREAM( 0 );
    STOP_SCRIPT_STREAM( 1 );
    sub_3716( ref l_U1158 );
    SET_PLAYER_THREAT_REACTION( sub_2121(), 1 );
    return;
}

void sub_5590(unknown uParam0)
{
    if (DOES_PED_EXIST( uParam0 ))
    {
        if ((NOT (IS_PED_DEAD( uParam0 ))) || (IS_PED_DEAD( uParam0 )))
        {
            REMOVE_ALL_PED_WEAPONS( uParam0 );
            DELETE_PED( ref uParam0 );
        }
    }
    return;
}

void sub_5702(unknown uParam0)
{
    if (DOES_OBJECT_EXIST( uParam0 ))
    {
        DELETE_OBJECT( ref uParam0 );
    }
    return;
}

void sub_5816(unknown uParam0)
{
    int I;

    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_5590( (uParam0^)[I] );
    }
    return;
}

void sub_6055(unknown uParam0)
{
    if (IS_VEHICLE_DEAD( uParam0 ))
    {
        ;
    }
    if (DOES_VEHICLE_EXIST( uParam0 ))
    {
        DELETE_VEHICLE( ref uParam0 );
    }
    return;
}

void sub_6224(unknown uParam0)
{
    if ((DOES_PLACEMENT_EXIST( uParam0 )) == 1)
    {
        REMOVE_PLACEMENT( uParam0 );
    }
    return;
}

void sub_6625(int iParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    int iVar9;
    int iVar10;
    int iVar11;
    unknown uVar12;
    unknown uVar13;

    sub_1970( "GA", "Restoring the player to the checkpoint - Start", 0 );
    if (g_U665)
    {
        INCREMENT_CHECKPOINT_ATTEMPT();
    }
    g_U648 = 0;
    if (iParam0->_fU0 == 0)
    {
        SCRIPT_ASSERT( "ERROR: Trying to restore a checkpoint that hasn't been saved!!!", 0 );
    }
    sub_6811( iParam0->_fU52 );
    if (SCRIPT_VAR_EXISTS( "SV_LOAD_CNT" ))
    {
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", (SCRIPT_VAR_GET_INT( "SV_LOAD_CNT" )) + 1 );
    }
    else
    {
        SCRIPT_VAR_ADD_INT( "SV_LOAD_CNT" );
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", 1 );
    }
    CLEAR_KILL_STREAK_RECORDS();
    AUDIO_MUSIC_SUSPEND( 0 );
    DEACTIVATE_BULLET_TIME( 1, 0 );
    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
    REMOVE_ALL_ENVIRONMENT_BLOOD();
    RESET_BLOOD_EFFECTS();
    REMOVE_ALL_GLINTS();
    RESET_DESTROYED_COVER();
    RESET_ALL_PTFX();
    uVar4 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam1 )};
    CLEAR_AREA( iParam0->_fU4, 10000.00000000, 1 );
    if (NOT (IS_PED_DEAD( uParam1 )))
    {
        SET_PED_COORDS( uParam1, iParam0->_fU4, 1 );
        sub_7888( uParam1 );
        SET_PED_HEADING( uParam1, iParam0->_fU16 );
    }
    CLEAR_AREA( uVar4, 3.00000000, 1 );
    LOAD_SCENE( iParam0->_fU4 );
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
    iParam0->_fU28 = GET_PED_MAX_HEALTH( uParam1 );
    SET_PED_HEALTH( uParam1, iParam0->_fU28, 0 );
    RESET_PED_GORE( uParam1 );
    RESET_PED_VISIBLE_DAMAGE( uParam1 );
    REMOVE_ALL_PED_WEAPONS( uParam1 );
    if (NOT (iParam0->_fU56 == -1569615261))
    {
        uVar7 = sub_8180( uParam1, iParam0->_fU56, 0, iParam0->_fU76, 1 );
        sub_8540( uVar7, iParam0 + 96, iParam0 + 100 );
    }
    if (NOT (iParam0->_fU60 == -1569615261))
    {
        uVar7 = sub_8180( uParam1, iParam0->_fU60, 1, iParam0->_fU80, 1 );
        sub_8540( uVar7, iParam0 + 104, iParam0 + 108 );
    }
    if (NOT (iParam0->_fU64 == -1569615261))
    {
        uVar7 = sub_8180( uParam1, iParam0->_fU64, 2, iParam0->_fU84, 1 );
        sub_8540( uVar7, iParam0 + 112, iParam0 + 116 );
    }
    if (NOT (iParam0->_fU68 == -1569615261))
    {
        uVar7 = sub_8825( uParam1, iParam0->_fU68, iParam0->_fU88, 0, 1 );
        sub_8540( uVar7, iParam0 + 120, iParam0 + 124 );
    }
    if (NOT (iParam0->_fU72 == -1569615261))
    {
        uVar7 = sub_8825( uParam1, iParam0->_fU72, iParam0->_fU92, 1, 1 );
        sub_8540( uVar7, iParam0 + 128, iParam0 + 132 );
    }
    if (g_U665 == 1)
    {
        if ((IS_PED_DEAD( uParam1 )) == 0)
        {
            if (iParam0->_fU68 != -1569615261)
            {
                uVar7 = GET_WEAPON_FROM_HAND( uParam1, 0, 0 );
                if ((GET_DOES_WEAPON_EXIST( uVar7 )) == 1)
                {
                    uVar8 = GET_WEAPON_TYPE( uVar7 );
                    if ((sub_9320( uVar8 )) == 1)
                    {
                        iVar9 = GET_MAX_AMMO_IN_HAND_CLIP_MP( uParam1, 0 );
                        iVar10 = iParam0->_fU88;
                        if (iVar10 < iVar9)
                        {
                            iVar11 = iVar9 - iVar10;
                            ADD_AMMO_TO_PED( uParam1, uVar8, iVar11, 0 );
                            SET_WEAPON_AMMO_IN_CLIP( uVar7, iVar9 );
                        }
                    }
                }
            }
        }
    }
    sub_9481( iParam0->_fU52 );
    SET_ADRENALINE_AMT( iParam0->_fU32 );
    if (GET_ADRENALINE_AMT() < 0.20000000)
    {
        SET_ADRENALINE_AMT( 0.20000000 );
    }
    SET_PAYNEKILLER_AMT( iParam0->_fU36 );
    SET_PED_DUCKING( sub_2121(), 0 );
    GET_TIME_OF_DAY( ref uVar12, ref uVar13 );
    if (iParam0->_fU140 == 1)
    {
        FREEZE_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    else
    {
        RELEASE_TIME_OF_DAY();
        SET_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    SET_PED_SWEAT( uParam1, iParam0->_fU136, -1.00000000 );
    RESTORE_PICKUPS();
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( iParam0->_fU20, 1065353216, 0 );
    SET_GAMEPLAY_CAM_RELATIVE_PITCH( iParam0->_fU24, 1065353216, 0 );
    HANDLE_CHECKPOINT_RESTART();
    if (g_U665)
    {
        ADJUST_AMMO_ATTEMPTS();
        ADJUST_PAIN_KILLERS_ATTEMPTS();
    }
    g_U665 = 1;
    DISPLAY_HUD( 1 );
    if (IS_DEATH_PANEL_WIPE_ALLOWED())
    {
        if (IS_BULLET_CAMERA_WIPE_STOPPED())
        {
            RESUME_BULLET_CAMERA_WIPE_ON_FADEIN();
        }
    }
    sub_1970( "GA", "Restoring the player to the checkpoint - End", 0 );
    return;
}

void sub_6811(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    iVar3 = 0;
    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        iVar3 = sub_6843( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, iVar3, 513, uParam0 );
    END_CONTEXT( ref uVar4 );
    return;
}

int sub_6843(unknown uParam0)
{
    if (ARE_STRINGS_EQUAL( uParam0, "s_air" ))
    {
        return 21;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_beach" ))
    {
        return 22;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_boat" ))
    {
        return 10;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_booze" ))
    {
        return 0;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_busdep" ))
    {
        return 17;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_cemet" ))
    {
        return 15;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_club" ))
    {
        return 5;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_clubride" ))
    {
        return 4;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fashion" ))
    {
        return 3;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav0" ))
    {
        return 13;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav1" ))
    {
        return 14;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav2" ))
    {
        return 16;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fire" ))
    {
        return 12;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_hotel" ))
    {
        return 19;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_intro" ))
    {
        return 1;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_marina" ))
    {
        return 9;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc" ))
    {
        return 7;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc2" ))
    {
        return 8;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_office" ))
    {
        return 11;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_pana" ))
    {
        return 18;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_police" ))
    {
        return 20;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_stad" ))
    {
        return 6;
    };;;;;;;;;;;;;;;;;;;;;;
    return 99;
}

void sub_7888(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
        SET_LOAD_COLLISION_FOR_PED_FLAG( uParam0, 1 );
        SET_PED_COORDS_NO_OFFSET( uParam0, uVar3 );
        FREEZE_PED_POSITION( uParam0, 1 );
        REQUEST_COLLISION_AT_COORD( uVar3 );
        if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
        {
            FREEZE_PED_POSITION( uParam0, 0 );
        }
    }
    return;
}

void sub_8180(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's holster MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HOLSTER( uParam0, uParam1, uParam3, uParam2 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
                }
            }
        }
    }
    else
    {
        sub_8496( "[SP]### (F_GivePedWeaponToHolster) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

void sub_8496(unknown uParam0)
{
    return;
}

void sub_8540(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        if (IS_BIT_SET( (uParam1^), I ))
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, IS_BIT_SET( (uParam2^), I ) );
        }
        else
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
        }
    }
    return;
}

void sub_8825(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's hand MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, uParam2, uParam3 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
                }
            }
        }
    }
    else
    {
        sub_8496( "[SP]### (F_GivePedWeapon) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

int sub_9320(unknown uParam0)
{
    int iVar3;

    iVar3 = GET_WEAPONTYPE_AMMO( uParam0 );
    if ((iVar3 == -1383321053) || ((iVar3 == -1295933220) || ((iVar3 == 1138793073) || (iVar3 == -1088031219))))
    {
        return 1;
    }
    return 0;
}

void sub_9481(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        uVar3 = sub_6843( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, uParam0 );
    sub_9553( uVar3 );
    START_CONTEXT( ref uVar4 );
    return;
}

void sub_9553(int iParam0)
{
    if (iParam0 != 3)
    {
        END_CONTEXT( "S_FAS_GG_PT" );
    }
    if (iParam0 != 5)
    {
        END_CONTEXT( "S_CLB_GG_M3" );
        END_CONTEXT( "S_CLB_MS" );
    }
    if (iParam0 != 6)
    {
        END_CONTEXT( "S_STA_GG_M1" );
        END_CONTEXT( "S_STA_GG_M81" );
    }
    if (iParam0 != 7)
    {
        END_CONTEXT( "S_NY1_GG_19" );
    }
    if (iParam0 != 8)
    {
        END_CONTEXT( "S_NY2_GG_40" );
        END_CONTEXT( "S_NY2_GG_M5" );
    }
    if (iParam0 != 9)
    {
        END_CONTEXT( "S_MAR_GG_LM" );
        END_CONTEXT( "S_MAR_GG_9M" );
    }
    if (iParam0 != 11)
    {
        END_CONTEXT( "S_OFF_GG_MD" );
    }
    if (iParam0 != 14)
    {
        END_CONTEXT( "S_FV1_GG_SP" );
        END_CONTEXT( "S_FV1_GG_SA" );
    }
    if (iParam0 != 15)
    {
        END_CONTEXT( "S_NYC_GG_6M" );
        END_CONTEXT( "S_NYC_GG_A9" );
    }
    if (iParam0 != 16)
    {
        END_CONTEXT( "S_FV2_GG_D5" );
        END_CONTEXT( "S_FV2_GG_97" );
    }
    if (iParam0 != 17)
    {
        END_CONTEXT( "S_BUS_GG_M4" );
        END_CONTEXT( "S_BUS_GG_FN" );
    }
    if (iParam0 != 18)
    {
        END_CONTEXT( "S_PAN_GG_AK" );
        END_CONTEXT( "S_PAN_GG_SS" );
    }
    if (iParam0 != 19)
    {
        END_CONTEXT( "S_HOT_GG_G3" );
        END_CONTEXT( "S_HOT_GG_LA" );
    }
    if (iParam0 != 20)
    {
        END_CONTEXT( "S_POL_GG_G6" );
        END_CONTEXT( "S_POL_GG_RP" );
        END_CONTEXT( "S_POL_GG_MP" );
    }
    if (iParam0 != 21)
    {
        END_CONTEXT( "S_AIR_GG_RG" );
        END_CONTEXT( "S_AIR_GG_PD" );
    }
    return;
}

void sub_10908()
{
    unknown uVar2;

    switch (l_U92)
    {
        case 0: break;
        case 1:
        sub_1970( "SP", "eCheckpointState = CHECKPOINT_INIT_SCRIPT_DATA", 0 );
        sub_11107();
        sub_15675();
        sub_16169( "SFV2AUD" );
        SET_SCRIPT_CONTROL_RESET_ON_PLAYER_DEATH( 1 );
        l_U92 = 2;
        sub_1970( "SP", "eCheckpointState = CHECKPOINT_SETUP_START_POINT", 0 );
        break;
        case 2:
        sub_1970( "SP", "eCheckpointState = CHECKPOINT_SETUP_START_POINT", 0 );
        if (g_U782 < 2)
        {
            l_U93 = 1;
            l_U92 = 6;
            sub_1970( "SP", "eCheckpointState = CHECKPOINT_HANDLE_MID_01_CUTSCENE", 0 );
        }
        else
        {
            l_U92 = 3;
            sub_1970( "SP", "eCheckpointState = CHECKPOINT_INIT_REQUEST_ASSETS", 0 );
        }
        break;
        case 3:
        sub_1970( "SP", "eCheckpointState = CHECKPOINT_INIT_REQUEST_ASSETS", 0 );
        sub_16655();
        sub_17086();
        l_U92 = 4;
        sub_1970( "SP", "eCheckpointState = CHECKPOINT_INIT_LOAD_ASSETS", 0 );
        break;
        case 4:
        if ((sub_18470() == 1) AND (sub_18231() == 1))
        {
            sub_1970( "CO", "ASSETS ARE LOADED", 0 );
            sub_18996();
            sub_20297();
            sub_20719();
            sub_20959();
            sub_21550();
            sub_21948();
            if ((NOT l_U90) AND (g_U781 == 2))
            {
                if ((sub_22028( ref l_U54 )) == 0)
                {
                    sub_8825( sub_2121(), g_U1310, 200, 0, 0 );
                }
                l_U92 = 5;
                sub_1970( "SP", "eCheckpointState = CHECKPOINT_DEBUG_WAIT_FOR_WEAPON", 0 );
            }
            else
            {
                l_U131 = 1;
                l_U92 = 7;
                sub_1970( "SP", "eCheckpointState = CHECKPOINT_HANDLE_MID_01_BLENDOUT", 0 );
            }
        }
        break;
        case 5:
        if ((IS_PED_DEAD( sub_2121() )) == 0)
        {
            uVar2 = GET_WEAPON_FROM_HAND( sub_2121(), 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
            {
                l_U131 = 1;
                l_U92 = 7;
                sub_1970( "SP", "eCheckpointState = CHECKPOINT_HANDLE_MID_01_BLENDOUT", 0 );
            }
        }
        break;
        case 6:
        if (sub_22533( ref l_U432, 0 ))
        {
            sub_22679();
        }
        if (sub_22743() == 1)
        {
            l_U131 = 1;
            sub_18996();
            sub_20297();
            sub_20959();
            sub_21550();
            sub_20719();
            l_U92 = 7;
            sub_1970( "SP", "eCheckpointState = CHECKPOINT_HANDLE_MID_01_BLENDOUT", 0 );
            break;
        }
        return;
        case 7:
        sub_28934();
        if (sub_31487() == 1)
        {
            if (((CUTSCENE_NAMED_IS_LOADING( "mid_01_fav2_concat" )) == 1) || ((CUTSCENE_IS_LOADED( "mid_01_fav2_concat" )) == 1))
            {
                sub_1970( "ka", "Clearing mid_01_fav2_concat", 0 );
                CLEAR_NAMED_CUTSCENE( "mid_01_fav2_concat" );
            }
            else
            {
                sub_1970( "ka", "mid_01_fav2_concat is not loaded", 0 );
            }
            SET_PLAYER_CAN_USE_SHOOTDODGE( sub_2143(), 1 );
            l_U92 = 8;
            sub_1970( "SP", "eCheckpointState = CHECKPOINT_START_GAMEPLAY", 0 );
            break;
        }
        return;
        case 8:
        sub_1970( "SP", "eCheckpointState = CHECKPOINT_START_GAMEPLAY", 0 );
        sub_28934();
        sub_33289();
        sub_33506();
        sub_36559();
        sub_37316();
        sub_37529();
        l_U136 = 0;
        sub_15409( ref g_U1107, 0 );
        sub_38414( ref g_U1107, 1, 1, 0.35000000 );
        sub_15409( ref g_U1121, 0 );
        sub_15409( ref g_U1135, 1 );
        sub_15409( ref g_U1156, 1 );
        if (((CUTSCENE_NAMED_IS_LOADING( "mid_02_f2_concat" )) == 0) AND ((CUTSCENE_IS_LOADED( "mid_02_f2_concat" )) == 0))
        {
            PRE_STREAM_SEAMLESS_CUTSCENE( "mid_02_f2_concat" );
        }
        DO_SCREEN_FADE_IN( 0 );
        if ((IS_PLAYER_DEAD( sub_2143() )) == 0)
        {
            SET_PLAYER_CONTROL( sub_2143(), 1, 0 );
        }
        sub_38725( ref l_U54, 2, 0 );
        sub_43205();
        l_U92 = 9;
        sub_1970( "SP", "eCheckpointState = CHECKPOINT_HANDLE_GOTO_MID_02", 0 );
        break;
        case 9:
        if ((sub_22533( ref l_U159, 0 )) == 1)
        {
            l_U135 = 1;
            ENABLE_WALLA_ZONE( "S_FAV2_WZ_DEEP_INTO_FAVELA_RAID_CS", 1 );
            ENABLE_WALLA_ZONE( "S_FAV2_WZ_DEEP_INTO_FAVELA_RAID_CS_02", 1 );
            ENABLE_WALLA_ZONE( "S_FAV2_WZ_DEEP_INTO_FAVELA_RAID_UFE", 1 );
            ENABLE_WALLA_ZONE( "S_FAV2_WZ_DEEP_INTO_FAVELA_RAID_UFE_02", 1 );
            ENABLE_WALLA_ZONE( "S_FAV2_WZ_STARTING_POINT_PANIC", 1 );
            ENABLE_WALLA_ZONE( "S_FAV2_WZ_BASE_PANIC_LAYER", 1 );
            ENABLE_WALLA_ZONE( "S_FAV2_WZ_SHOOTING_LAYER", 1 );
            ENABLE_WALLA_ZONE( "S_FAV2_WZ_STARTING_POINT_PANIC", 1 );
            ENABLE_WALLA_ZONE( "S_FAV2_WZ_START_CLOSE_FIGHT", 1 );
            ENABLE_WALLA_ZONE( "S_FAV2_WZ_START_STREET_FIGHT", 1 );
            ENABLE_STATIC_EMITTER( "S_FAV2_SE_ARREST_MOTHER", 1 );
            ENABLE_STATIC_EMITTER( "S_FAV2_SE_ARREST_POLICE", 1 );
            ENABLE_STATIC_EMITTER( "S_FAV2_SE_PA_RAID", 1 );
            sub_43969();
            sub_44240();
            sub_44635();
            sub_44908();
            sub_15217( ref l_U729, 729926863, -95.21690000, 85.99213000, 25.17200000, 0.00000000, 0.00000000, 0.00000000 );
            sub_15265( ref l_U729, 0 );
            sub_15409( ref l_U729, 1 );
        }
        if ((sub_22533( ref l_U138, 0 )) == 1)
        {
            sub_45317();
            l_U1153 = 1;
        }
        if ((sub_22533( ref l_U201, 0 )) == 1)
        {
            sub_1970( "SP", "tbDeepFavVistaSpeech", 0 );
            sub_46160();
            ADD_EXPLOSION( l_U1706, 0, 0.20000000, 1, 0, 1065353216 );
        }
        if ((sub_22533( ref l_U285, 0 )) == 1)
        {
            CAMERA_POINT_AT_COORD( -94.19115000, 111.26280000, 12.76659000, 20000 );
            if (NOT (IS_PED_DEAD( sub_2121() )))
            {
                CLEAR_PED_PRIMARY_LOOKAT( sub_2121() );
                SET_COORD_PRIMARY_LOOKAT( sub_2121(), -94.19115000, 111.26280000, 12.76659000 );
            }
            sub_2923( ref l_U1781, 500, 1, 0 );
            sub_3059( ref l_U1781 );
        }
        if (sub_3179( ref l_U1781 ))
        {
            l_U94 = 1;
            l_U92 = 10;
            sub_1970( "SP", "eCheckpointState = CHECKPOINT_HANDLE_MID_02_CUTSCENE", 0 );
        }
        if (l_U1750 == 0)
        {
            if (sub_46583())
            {
                sub_46699();
                l_U1750 = 1;
            }
        }
        if (sub_22575( l_U1739[0], l_U684 ))
        {
            sub_5590( l_U1739[0] );
        }
        if (sub_22575( l_U1739[1], l_U684 ))
        {
            sub_5590( l_U1739[1] );
        }
        sub_47175();
        sub_55187();
        break;
        case 10:
        sub_47175();
        if (sub_55263() == 1)
        {
            CAMERA_CLEAR_POINT_AT_TARGET();
            CLEAR_PED_PRIMARY_LOOKAT( sub_2121() );
            l_U92 = 11;
            sub_1970( "SP", "eCheckpointState = CHECKPOINT_HANDLE_MID_02_BLENDOUT", 0 );
            break;
        }
        return;
        case 11:
        sub_47175();
        if (sub_57884() == 1)
        {
            sub_58425();
            sub_58614();
            sub_2923( ref l_U1415, l_U1424, 1, 0 );
            sub_3059( ref l_U1415 );
            sub_2923( ref l_U853, 2000, 1, 0 );
            sub_3059( ref l_U853 );
            l_U1414 = 1;
            l_U92 = 12;
            sub_1970( "SP", "eCheckpointState = CHECKPOINT_HANDLE_GOTO_RAID", 0 );
        }
        else
        {
            return;
        }
        break;
        case 12:
        if ((sub_59119( l_U390 )) == 1)
        {
            if (l_U750 == 0)
            {
                sub_1970( "kja", "Inside Trigger, start the Raid Checkpoint", 0 );
                PRE_STREAM_SEAMLESS_CUTSCENE( "mid_03_f2_concat" );
                AUDIO_MUSIC_FORCE_TRACK( "FAV2_SONG_01", "FAV2_1_3_4", "", 0.00000000, 0, 0, -1082130432, 0 );
                l_U750 = 1;
            }
        }
        if (l_U1155 == 1)
        {
            if (sub_59320())
            {
                l_U1155 = 0;
            }
        }
        if (l_U1414 == 0)
        {
            if (sub_22533( ref l_U369, 0 ))
            {
                ;
            }
        }
        sub_47175();
        if ((sub_22533( ref l_U411, 0 )) == 1)
        {
            ISEQ_UNREGISTER_ENTITY( 337545548, "rfscrm1_male1" );
            ISEQ_UNREGISTER_ENTITY( 337545548, "rfscrm1_male2" );
            ISEQ_UNREGISTER_ENTITY( 337545548, "rfscrm1_male3" );
            ISEQ_UNREGISTER_ENTITY( 337545548, "rfscrm1_male4" );
            ISEQ_UNREGISTER_ENTITY( 337545548, "rfscrm1_male5" );
            ISEQ_TERMINATE( 337545548 );
            sub_5590( l_U1330 );
            sub_5590( l_U1331 );
            sub_5590( l_U1332 );
            sub_5590( l_U1333 );
            sub_5590( l_U1334 );
            l_U135 = 0;
            g_U1040 = 1;
            l_U92 = 13;
            sub_1970( "SP", "eCheckpointState = CHECKPOINT_FINISHED", 0 );
        }
        sub_59735( l_U642, l_U663 );
        break;
        case 13:
        sub_1970( "SP", "eCheckpointState = CHECKPOINT_FINISHED", 0 );
        SET_PED_FORCED_TO_WALK( sub_2121(), 0 );
        SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
        l_U92 = 0;
        sub_1970( "SP", "eCheckpointState = CHECKPOINT_IDLE", 0 );
        break;
    }
    sub_60153();
    sub_60933();
    if (NOT l_U91)
    {
        if (sub_61295())
        {
            if (NOT (IS_PED_DEAD( sub_2121() )))
            {
                SET_PLAYER_THREAT_REACTION( sub_2121(), 1 );
            }
            l_U91 = 1;
        }
    }
    sub_61435( l_U600, l_U621, 0 );
    return;
}

void sub_11107()
{
    sub_1970( "SP", "P_INIT_GAMEPLAY_STRUCTS", 0 );
    sub_11179( ref l_U752, l_U765, l_U768, -264168413, 26, 6, 1, 0, 0 );
    sub_11179( ref l_U787, l_U800, l_U803, -264168413, 26, 6, 1, 0, 0 );
    sub_11179( ref l_U897, l_U910, l_U913, -264168413, 26, 6, 1, 0, 0 );
    sub_11179( ref l_U938, l_U951, l_U954, -264168413, 26, 6, 1, 0, 0 );
    sub_11179( ref l_U829, l_U842, l_U845, -1941824087, 26, 6, 1, 0, 0 );
    sub_11179( ref l_U863, l_U876, l_U879, -1941824087, 26, 6, 1, 0, 0 );
    sub_11179( ref l_U979, l_U992, l_U995, 1521913477, 26, 6, 1, 0, 0 );
    sub_11179( ref l_U1007, l_U1020, l_U1023, 1508051060, 26, 6, 1, 0, 0 );
    sub_11179( ref l_U1034[0], -64.85686000, 53.13986000, 26.61888000, 0.00000000, 2002165758, 26, 6, 0, 0, 0 );
    sub_11179( ref l_U1034[1], -64.85686000, 54.13986000, 26.61888000, 0.00000000, 1024958607, 26, 6, 0, 0, 0 );
    sub_11179( ref l_U1034[2], -64.85686000, 55.13986000, 26.61888000, 0.00000000, 1679798718, 26, 6, 0, 0, 0 );
    sub_11179( ref l_U1034[3], -64.85686000, 56.13986000, 26.61888000, 0.00000000, 390828971, 26, 6, 0, 0, 0 );
    sub_11179( ref l_U1034[4], -64.85686000, 53.13986000, 26.61888000, 0.00000000, 390828971, 26, 6, 0, 0, 0 );
    sub_11179( ref l_U1034[5], -64.85686000, 54.13986000, 26.61888000, 0.00000000, 2002165758, 26, 6, 0, 0, 0 );
    sub_11179( ref l_U1034[6], -64.85686000, 55.13986000, 26.61888000, 0.00000000, 1024958607, 26, 6, 0, 0, 0 );
    sub_11179( ref l_U1034[7], -64.85686000, 56.13986000, 26.61888000, 0.00000000, 1679798718, 26, 6, 0, 0, 0 );
    sub_11179( ref l_U1206[0], -102.06350000, 114.12350000, 8.63893500, 0.00000000, -2138765675, 26, 6, 0, 0, 0 );
    sub_11179( ref l_U1206[1], -103.06350000, 114.12350000, 8.63893500, 0.00000000, -365098835, 26, 6, 0, 0, 0 );
    sub_11179( ref l_U1342[0], -109.20500000, 96.19660000, 20.89640000, 53.84670000, -1193129198, 8, 4, 0, 0, 0 );
    sub_11179( ref l_U1342[1], -83.90000000, 70.22000000, 24.81000000, 340.00000000, 1521913477, 8, 4, 0, 0, 0 );
    sub_11179( ref l_U1342[2], -109.50500000, 94.54140000, 20.89640000, -32.14120000, -1941824087, 8, 4, 0, 0, 0 );
    sub_11179( ref l_U1342[3], -118.38200000, 105.09900000, 19.99040000, -102.29500000, -416827579, 8, 4, 0, 0, 0 );
    sub_11179( ref l_U1546[0], l_U1618, l_U1621, -264168413, 8, 4, 0, 0, 0 );
    sub_11179( ref l_U1546[1], l_U1622, l_U1625, -42921772, 8, 4, 0, 0, 0 );
    sub_11179( ref l_U1546[2], l_U1626, l_U1629, 1161415791, 7, 3, 2, 0, 0 );
    sub_11179( ref l_U1546[3], l_U1630, l_U1633, -369334781, 7, 3, 2, 0, 0 );
    sub_11179( ref l_U1546[4], l_U1634, l_U1637, -1351233666, 7, 3, 2, 0, 0 );
    sub_11179( ref l_U1663, -99.71370000, 68.70880000, 22.74940000, -89.00000000, 1508051060, 8, 4, 0, 0, 0 );
    sub_11179( ref l_U1317, l_U1261, l_U1264, -58376829, 7, 3, 2, 0, 0 );
    sub_11179( ref l_U1304, l_U1257, l_U1260, -365098835, 7, 3, 2, 0, 0 );
    sub_11179( ref l_U1291, l_U1253, l_U1256, -1231161671, 8, 4, 0, 0, 0 );
    sub_11179( ref l_U1278, l_U1249, l_U1252, -42921772, 8, 4, 0, 0, 0 );
    sub_11179( ref l_U1265, l_U1245, l_U1248, -264168413, 8, 4, 0, 0, 0 );
    sub_11179( ref l_U1441, -84.96000000, 122.98000000, 19.64000000, 74.92000000, -365098835, 7, 3, 2, 0, 0 );
    sub_11179( ref l_U1427, -83.41000000, 119.86000000, 17.45000000, 74.92000000, 1481102043, 8, 4, 0, 0, 0 );
    sub_11179( ref l_U1400, -118.96710000, 106.50000000, 15.67924000, 20.38220000, -1941824087, 8, 4, 0, 0, 0 );
    sub_11179( ref l_U1677, -119.23900000, 117.87200000, 17.21500000, -76.67400000, -264168413, 7, 3, 2, 0, 0 );
    sub_11179( ref l_U1691, -102.20300000, 123.31700000, 14.02200000, 170.00000000, -1231161671, 7, 3, 2, 0, 0 );
    sub_11179( ref l_U1712[0], l_U1742, l_U1745, -58376829, 7, 3, 2, 0, 0 );
    sub_11179( ref l_U1712[1], l_U1746, l_U1749, -852207848, 7, 3, 2, 0, 0 );
    sub_12802( ref l_U222, "TRIG_DEEPFAV_ALY_ON_ROOF", -96.81730000, 81.06230000, 25.05150000, 8.00000000, 8.00000000, 4.00000000, 0.00000000, 0.00000000, -10.72440000, 1 );
    sub_12802( ref l_U243, "TRIG_DEEPFAV_ALY_SHT_CLEANUP", -99.03900000, 86.46830000, 22.22000000, 6.00000000, 6.00000000, 4.00000000, 0.00000000, 0.00000000, -21.11000000, 1 );
    sub_12802( ref l_U264, "TRIG_DEEPFAV_ALY_SHT_TERMINATE", -98.31150000, 94.90680000, 19.20000000, 6.00000000, 6.00000000, 10.00000000, 0.00000000, 0.00000000, -43.53880000, 1 );
    sub_12802( ref l_U138, "TRIG_DEEPFAV_START_HELI_FLY_01", -90.49960000, 90.19370000, 23.47000000, 3.00000000, 3.00000000, 4.00000000, 0.00000000, 0.00000000, -63.39000000, 1 );
    sub_12802( ref l_U159, "TRIG_DEEPFAV_ROOFSCRAMBLE_START", -83.36370000, 84.56530000, 22.55570000, 3.00000000, 3.00000000, 4.00000000, 0.00000000, 0.00000000, -62.30030000, 1 );
    sub_12802( ref l_U180, "tbPlayMono", -84.26000000, 85.80000000, 22.31000000, 4.00000000, 5.00000000, 5.00000000, 0.00000000, 0.00000000, -61.71000000, 1 );
    sub_12802( ref l_U201, "TRIG_DEEPFAV_VISTA_SPEECH", -86.47000000, 88.21000000, 22.31000000, 4.00000000, 5.00000000, 5.00000000, 0.00000000, 0.00000000, -37.18000000, 1 );
    sub_12802( ref l_U285, "TRIG_MID_02_CUTSCENE", -106.38000000, 96.17000000, 19.20000000, 6.00000000, 6.00000000, 10.00000000, 0.00000000, 0.00000000, 5.65000000, 1 );
    sub_12802( ref l_U306, "TRIG_DEEPFAV_ROOFSCRAM_PEDCLEAN1", -84.01000000, 123.76000000, 18.41000000, 3.00000000, 3.00000000, 4.00000000, 0.00000000, 0.00000000, -99.96000000, 1 );
    sub_12802( ref l_U327, "TRIG_DEEPFAV_ROOFSCRAM_PEDCLEAN2", -89.81000000, 130.90000000, 18.41000000, 10.00000000, 4.00000000, 4.00000000, 0.00000000, 0.00000000, -99.96000000, 1 );
    sub_12802( ref l_U348, "TRIG_DEEPFAV_ROOFSCRAM_PEDCLEAN3", -77.54000000, 129.97000000, 21.11000000, 6.00000000, 6.00000000, 6.00000000, 0.00000000, 0.00000000, -99.96000000, 1 );
    sub_12802( ref l_U390, "TRIG_DEEPFAV_START_RAID_SCRIPT", -113.13800000, 102.76900000, 14.89200000, 6.00000000, 6.00000000, 10.00000000, 0.00000000, 0.00000000, -74.36750000, 1 );
    sub_12802( ref l_U369, "TRIG_DEEPFAV_INJURED_CIV_START", -113.86200000, 104.95600000, 14.89200000, 6.00000000, 6.00000000, 10.00000000, 0.00000000, 0.00000000, -74.36750000, 1 );
    sub_12802( ref l_U411, "TRIG_DEEPFAV_END", -126.82000000, 118.54000000, 10.03000000, 3.00000000, 3.00000000, 4.00000000, 0.00000000, 0.00000000, -99.14000000, 1 );
    sub_12802( ref l_U432, "tbPreLoadGamePlayAssets", -33.00000000, 77.97000000, 25.87000000, 14.00000000, 5.00000000, 12.00000000, 0.00000000, 0.00000000, -90.00000000, 1 );
    sub_12802( ref l_U453, "TRIG_DEEPFAV_KILLZONE", -107.79000000, 109.99000000, 11.55000000, 14.15000000, 12.00000000, 4.50000000, 0.00000000, 0.00000000, -74.30000000, 1 );
    sub_12802( ref l_U474, "Killbox01", -103.62000000, 104.18000000, 11.89000000, 14.15000000, 8.29000000, 7.95000000, 0.00000000, 0.00000000, -13.31000000, 1 );
    sub_12802( ref l_U495, "Killbox02", -87.58000000, 95.19000000, 15.93000000, 14.15000000, 8.29000000, 7.95000000, 0.00000000, 0.00000000, -31.07000000, 1 );
    sub_12802( ref l_U516, "Killbox03", -80.15000000, 91.31000000, 16.29000000, 14.15000000, 8.29000000, 7.95000000, 0.00000000, 0.00000000, -31.07000000, 1 );
    sub_12802( ref l_U537, "Killbox04", -94.89000000, 99.77000000, 15.07000000, 14.15000000, 8.29000000, 7.95000000, -0.26848200, -27.35940000, -40.25000000, 1 );
    sub_12802( ref l_U558, "Killbox05", -108.49000000, 105.82000000, 10.73000000, 14.15000000, 8.29000000, 7.95000000, -0.26848400, -27.35940000, -74.26000000, 1 );
    sub_12802( ref l_U579, "Killbox06", -99.22000000, 100.05000000, 11.58000000, 14.15000000, 8.29000000, 7.95000000, 0.00000000, 0.00000000, -25.06000000, 1 );
    sub_12802( ref l_U600, "TRIG_START_ALLEY_CAM", -82.60000000, 81.85000000, 21.49870000, 5.00000000, 10.00000000, 4.00000000, 0.00000000, 0.00000000, -61.99000000, 1 );
    sub_12802( ref l_U621, "TRIG_END_ALLEY_CAM", -105.78000000, 97.85000000, 19.74000000, 5.00000000, 10.00000000, 4.00000000, 0.00000000, 0.00000000, -18.09000000, 1 );
    sub_12802( ref l_U642, "TRIG_FORCE_WALK", -126.60000000, 118.13000000, 10.05000000, 3.00000000, 6.00000000, 4.00000000, 0.00000000, 0.00000000, -101.08000000, 1 );
    sub_12802( ref l_U663, "TRIG_FORCE_UNWALK", -116.14800000, 112.62100000, 14.58860000, 3.00000000, 3.00000000, 4.00000000, 0.00000000, 0.00000000, -73.09120000, 1 );
    sub_12802( ref l_U684, "tbKillVig01", -124.68000000, 117.88000000, 10.00000000, 3.00000000, 6.00000000, 4.00000000, 0.00000000, 0.00000000, -101.08000000, 1 );
    sub_15050( ref l_U706, "TETH_DEEP_FAV_RAID_STAIRS", -137.15700000, 119.02000000, 6.97782000, 8.00000000, 10.00000000, 6.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_15050( ref l_U705, "teTetherVig01", -124.68000000, 117.88000000, 10.00000000, 3.00000000, 6.00000000, 4.00000000, 0.00000000, 0.00000000, -101.08000000, 1 );
    sub_15217( ref l_U708, -2056310819, -84.26347000, 65.71819000, 26.15809000, 0.00000000, 0.00000000, 0.00000000 );
    sub_15265( ref l_U708, 0 );
    sub_15409( ref l_U708, 1 );
    sub_15217( ref l_U715, 729926863, -82.52135000, 71.31554000, 25.73150000, 0.00000000, 0.00000000, 0.00000000 );
    sub_15265( ref l_U715, 0 );
    sub_15409( ref l_U715, 1 );
    sub_15217( ref l_U722, -1006708222, -79.60078000, 77.01289000, 22.43081000, 0.00000000, 0.00000000, 0.00000000 );
    sub_15265( ref l_U722, 0 );
    sub_15409( ref l_U722, 1 );
    return;
}

void sub_11179(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU20 = uParam5;
    iParam0->_fU12 = uParam4;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU16 = GET_SCENE_PED_MODEL( uParam5 );
    iParam0->_fU48 = uParam10;
    return;
}

void sub_12802(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    StrCopy( ref iParam0->_fU0, uParam1, 64 );
    iParam0->_fU64 = 0;
    iParam0->_fU68 = 0;
    iParam0->_fU72 = {uParam2};
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 1, iParam0 + 0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

void sub_15050(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    iParam0->_fU0 = uParam1;
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 2, iParam0->_fU0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

void sub_15217(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7)
{
    iParam0->_fU0 = uParam1;
    iParam0->_fU4 = {uParam2};
    iParam0->_fU16 = {uParam5};
    return;
}

void sub_15265(int iParam0, unknown uParam1)
{
    if ((sub_15277( iParam0 )) == 0)
    {
        sub_15343( iParam0 );
    }
    DOOR_SET_IS_AFFECTED_BY_BULLETS( DOOR_FIND_CLOSEST( iParam0->_fU0, iParam0->_fU4 ), uParam1 );
    return;
}

int sub_15277(int iParam0)
{
    int iVar3;

    iVar3 = DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS( iParam0->_fU4, 1.00000000, iParam0->_fU0 );
    if (iVar3 == 1)
    {
        return 1;
    }
    return 0;
}

void sub_15343(unknown uParam0)
{
    (uParam0^) = {(uParam0^)};
    return;
}

void sub_15409(int iParam0, int iParam1)
{
    int iVar4;
    float fVar5;

    if ((sub_15277( iParam0 )) == 0)
    {
        sub_15343( iParam0 );
    }
    if (iParam1 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, 0.00000000 );
    }
    else
    {
        iVar4 = 0;
        fVar5 = 0.00000000;
        GET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, ref iVar4, ref fVar5 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar5 );
    }
    return;
}

void sub_15675()
{
    sub_1970( "SP", "P_INIT_SCRIPT_VARIABLES", 0 );
    l_U1024 = 0;
    l_U996 = 0;
    l_U1148 = 0;
    l_U1149 = 0;
    l_U1150 = 0;
    l_U1151 = 0;
    l_U1178 = 0;
    l_U1335 = 0;
    l_U1336 = 0;
    l_U1337 = 0;
    l_U1338 = 0;
    l_U1339 = 0;
    l_U1341 = 0;
    l_U1647 = 0;
    l_U1648 = 0;
    l_U1649 = 0;
    l_U1650 = 0;
    l_U1651 = 0;
    l_U1652 = 0;
    l_U1653 = 0;
    l_U1414 = 0;
    l_U1153 = 0;
    l_U1154 = 0;
    l_U1155 = 0;
    l_U818 = 0;
    l_U776 = 0;
    l_U1750 = 0;
    l_U1705 = 0;
    l_U1473 = 0;
    l_U1474 = 0;
    l_U1475 = 0;
    l_U1476 = 0;
    l_U1477 = 0;
    l_U750 = 0;
    l_U1156 = 1;
    l_U745 = 0;
    l_U746 = 0;
    l_U747 = 0;
    l_U748 = 0;
    l_U744 = 0;
    l_U749 = 0;
    l_U1243 = 1;
    l_U1244 = 1;
    l_U1242 = 0;
    sub_3716( ref l_U928 );
    sub_3716( ref l_U1025 );
    sub_3716( ref l_U997 );
    sub_3716( ref l_U1415 );
    sub_3716( ref l_U1415 );
    sub_3716( ref l_U1455 );
    sub_3716( ref l_U1464 );
    sub_3716( ref l_U1528 );
    sub_3716( ref l_U1654 );
    sub_3716( ref l_U853 );
    sub_3716( ref l_U819 );
    sub_3716( ref l_U777 );
    sub_3716( ref l_U1781 );
    l_U93 = 0;
    l_U94 = 0;
    l_U131 = 0;
    l_U132 = 1;
    l_U133 = 0;
    l_U134 = 0;
    l_U135 = 0;
    l_U136 = 0;
    return;
}

void sub_16169(unknown uParam0)
{
    StrCopy( ref g_U157._fU0, uParam0, 16 );
    sub_16189();
    return;
}

void sub_16189()
{
    int I;

    for ( I = 0; I <= 8; I++ )
    {
        g_U157._fU16[I]._fU0 = nil;
        g_U157._fU16[I]._fU4 = 0;
        g_U157._fU92[I] = 0;
    }
    return;
}

void sub_16655()
{
    sub_1970( "SP", "P_REQUEST_GAMEPLAY_ASSETS_1", 0 );
    sub_16712( 503245124, 0 );
    sub_16712( -2101464387, 0 );
    sub_16712( -194111775, 0 );
    sub_16712( 284807160, 0 );
    sub_16712( 1686109657, 0 );
    sub_16712( 1232833631, 0 );
    sub_16712( 2072171637, 0 );
    sub_16712( 1678648716, 0 );
    sub_16712( -1006708222, 0 );
    sub_16712( 694578091, 0 );
    sub_16982( g_U1310, 0 );
    sub_16982( g_U1311, 0 );
    sub_16982( g_U1308, 0 );
    sub_16982( g_U1309, 0 );
    return;
}

void sub_16712(unknown uParam0, boolean bParam1)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
        sub_8496( "[SP]### ERROR! (LoadModel) Trying to load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    if (bParam1)
    {
        while ((HAS_MODEL_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_16982(unknown uParam0, boolean bParam1)
{
    REQUEST_WEAPON( uParam0 );
    if (bParam1)
    {
        while ((HAS_WEAPON_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_17086()
{
    sub_1970( "SP", "P_REQUEST_GAMEPLAY_ASSETS_2", 0 );
    sub_17160( "LEVEL_S_FAV2_DEATH", 0, 0 );
    sub_17160( "veh@helicopter", 0, 0 );
    sub_17279( "VEHICLE/vehicle_heli", 0 );
    sub_17279( "LEVEL/S_FAV2/S_FAV2_DEAD_CS", 0 );
    sub_17279( "LEVEL/S_FAV2/S_FAV2_HELI_DRIVER_CP02", 0 );
    sub_17432( 1284098821, 0 );
    sub_17432( 367252975, 0 );
    sub_17432( -666691999, 0 );
    sub_17432( 698501614, 0 );
    sub_17432( 864352828, 0 );
    sub_17432( 337545548, 0 );
    sub_17432( -1612096529, 0 );
    sub_17432( -4482154, 0 );
    sub_17432( 1987392575, 0 );
    sub_17432( -777471265, 0 );
    sub_17432( -1344695955, 0 );
    sub_17432( -309100710, 0 );
    sub_17432( 209679190, 0 );
    sub_17432( 391883775, 0 );
    sub_17432( 976803717, 0 );
    sub_17432( 1642996674, 0 );
    sub_17432( 1934821569, 0 );
    sub_17432( 791066139, 0 );
    sub_17818( 87, 0 );
    sub_17818( 122, 0 );
    sub_17818( 296, 0 );
    sub_17818( 297, 0 );
    sub_17818( 298, 0 );
    sub_17965( "SCRIPT_MISSION\S_FAV2_DEEP_INTO_THE_FAVELA", 0 );
    sub_18052( "S_FAV2_FLYBY_03", 0, 0 );
    sub_18052( "S_FAV2_FLYBY_04", 1, 0 );
    return;
}

void sub_17160(unknown uParam0, unknown uParam1, int iParam2)
{
    REQUEST_ANIM_DICT( uParam0, uParam1 );
    "[doubled result, dropped if not asigned]";
    if (iParam2 == 1)
    {
        while ((HAS_ANIM_DICT_LOADED( uParam0, uParam1 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_17279(unknown uParam0, int iParam1)
{
    ACTION_TREE_LOAD( uParam0 );
    if (iParam1 == 1)
    {
        while ((IS_ACTION_TREE_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_17432(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to load does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 0)
    {
        ISEQ_REQUEST( uParam0 );
        ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
        if (iParam1 == 1)
        {
            while ((ISEQ_QUERY_STATE( uParam0, 1 )) == 1)
            {
                WAIT( 0 );
            }
        }
    }
    return;
}

void sub_17818(unknown uParam0, int iParam1)
{
    REQUEST_VEHICLE_RECORDING( uParam0 );
    if (iParam1 == 1)
    {
        while ((HAS_VEHICLE_RECORDING_BEEN_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_17965(unknown uParam0, int iParam1)
{
    LOAD_SCRIPT_AUDIO_BANK( uParam0 );
    if (iParam1 == 1)
    {
        while ((IS_SCRIPT_AUDIO_BANK_LOADED( uParam0, 0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_18052(unknown uParam0, unknown uParam1, int iParam2)
{
    if (iParam2 == 0)
    {
        REQUEST_SCRIPT_STREAM( uParam0, uParam1 );
    }
    else
    {
        while ((LOAD_SCRIPT_STREAM( uParam0, uParam1 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

int sub_18231()
{
    if (((HAS_WEAPON_LOADED( g_U1309 )) == 1) AND (((HAS_WEAPON_LOADED( g_U1308 )) == 1) AND (((HAS_WEAPON_LOADED( g_U1311 )) == 1) AND (((HAS_WEAPON_LOADED( g_U1310 )) == 1) AND (((HAS_MODEL_LOADED( 694578091 )) == 1) AND (((HAS_MODEL_LOADED( -1006708222 )) == 1) AND (((HAS_MODEL_LOADED( 1678648716 )) == 1) AND (((HAS_MODEL_LOADED( 2072171637 )) == 1) AND (((HAS_MODEL_LOADED( 1232833631 )) == 1) AND (((HAS_MODEL_LOADED( 1686109657 )) == 1) AND (((HAS_MODEL_LOADED( 284807160 )) == 1) AND (((HAS_MODEL_LOADED( -194111775 )) == 1) AND (((HAS_MODEL_LOADED( -2101464387 )) == 1) AND ((HAS_MODEL_LOADED( 503245124 )) == 1))))))))))))))
    {
        return 1;
    }
    return 0;
}

int sub_18470()
{
    if (((sub_18856( 297 )) == 1) AND (((sub_18856( 297 )) == 1) AND (((sub_18856( 296 )) == 1) AND (((sub_18856( 122 )) == 1) AND (((sub_18856( 87 )) == 1) AND (((ISEQ_IS_LOADED( 1934821569 )) == 1) AND (((ISEQ_IS_LOADED( 1642996674 )) == 1) AND (((ISEQ_IS_LOADED( 1642996674 )) == 1) AND (((ISEQ_IS_LOADED( 976803717 )) == 1) AND (((ISEQ_IS_LOADED( 391883775 )) == 1) AND (((ISEQ_IS_LOADED( 209679190 )) == 1) AND (((ISEQ_IS_LOADED( -309100710 )) == 1) AND (((ISEQ_IS_LOADED( -1344695955 )) == 1) AND (((ISEQ_IS_LOADED( 367252975 )) == 1) AND (((ISEQ_IS_LOADED( 1284098821 )) == 1) AND (((ISEQ_IS_LOADED( -777471265 )) == 1) AND (((ISEQ_IS_LOADED( 1987392575 )) == 1) AND (((ISEQ_IS_LOADED( -4482154 )) == 1) AND (((ISEQ_IS_LOADED( -1612096529 )) == 1) AND (((ISEQ_IS_LOADED( 337545548 )) == 1) AND (((ISEQ_IS_LOADED( 864352828 )) == 1) AND (((ISEQ_IS_LOADED( 698501614 )) == 1) AND (((ISEQ_IS_LOADED( -666691999 )) == 1) AND (((IS_ACTION_TREE_LOADED( "LEVEL/S_FAV2/S_FAV2_DEAD_CS" )) == 1) AND (((HAS_ANIM_DICT_LOADED( "LEVEL_S_FAV2_DEATH", 0 )) == 1) AND ((HAS_ANIM_DICT_LOADED( "LEVEL_S_FAV2_CP_02", 0 )) == 1))))))))))))))))))))))))))
    {
        return 1;
    }
    return 0;
}

void sub_18856(unknown uParam0)
{
    REQUEST_VEHICLE_RECORDING( uParam0 );
    return HAS_VEHICLE_RECORDING_BEEN_LOADED( uParam0 );
}

void sub_18996()
{
    int I;
    unknown uVar3;

    sub_1970( "SP", "P_CREATE_S_FAV2_10_ALLEY_SHOOT_PEDS", 0 );
    for ( I = 0; I < l_U1612; I++ )
    {
        sub_5590( l_U1612[I] );
        l_U1612[I] = sub_19093( ref l_U1546[I] );
        if (((IS_PED_DEAD( l_U1612[I] )) == 0) AND ((DOES_PED_EXIST( l_U1612[I] )) == 1))
        {
            SET_BULLET_CAM_PREF( l_U1612[I], "ALL_LMS_01", "ALL_LMS_03", "ALL_LMS_05", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1612[I], 1 );
            SET_PED_PROOFS( l_U1612[I], 0, 0, 0, 1, 0 );
            SET_PED_AS_ONE_SHOT_KILL( l_U1612[I], 1 );
            SET_PED_FREEZE_PROCESSING( l_U1612[I], 1 );
            if (NOT (IS_PED_DEAD( sub_2121() )))
            {
                REGISTER_TARGET( l_U1612[I], sub_2121() );
            }
            if (I == 0)
            {
                sub_8825( l_U1612[I], g_U1310, 25000, 0, 0 );
            }
            else if (I == 1)
            {
                sub_8825( l_U1612[I], g_U1310, 25000, 0, 0 );
            }
            else if (I == 2)
            {
                sub_8825( l_U1612[I], g_U1308, 25000, 0, 0 );
            }
            else if (I == 3)
            {
                sub_8825( l_U1612[I], g_U1308, 25000, 0, 0 );
            }
            else if (I == 4)
            {
                sub_8825( l_U1612[I], g_U1310, 25000, 0, 0 );
            };;;;;
        }
    }
    l_U133 = 1;
    sub_20195( ref l_U1612, "AlleyShoot_" );
    return;
}

void sub_19093(int iParam0)
{
    int iVar3;

    iVar3 = 0;
    if (iParam0->_fU16 == 0)
    {
        if (iParam0->_fU20 != 0)
        {
            iVar3 = GET_SCENE_PED_MODEL( iParam0->_fU20 );
        }
    }
    else
    {
        iVar3 = iParam0->_fU16;
    }
    if ((HAS_MODEL_LOADED( iVar3 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
        sub_16712( iParam0->_fU16, 1 );
    }
    iParam0->_fU40 = CREATE_PED( iParam0->_fU24, iParam0->_fU16, iParam0->_fU0, iParam0->_fU12, 1, iParam0->_fU48 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( iParam0->_fU40, 1 );
        SET_PED_COORDS_NO_OFFSET( iParam0->_fU40, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU40 ) );
        SET_PED_HEADING( iParam0->_fU40, iParam0->_fU12 );
        iParam0->_fU44 = 1;
    }
    else
    {
        SCRIPT_ASSERT( "Error: The ped you created doesn't exist or is dead!", 0 );
    }
    sub_19572( iParam0->_fU40 );
    sub_19652( iParam0->_fU40 );
    return iParam0->_fU40;
}

void sub_19572(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_HEALTH( uParam0, 200, 0 );
        SET_PED_ACCURACY( uParam0, -729479261 );
    }
    return;
}

void sub_19652(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_AI_TEMPLATE( uParam0, "AIT_DEFAULT_GENERIC" );
    }
    return;
}

void sub_20195(unknown uParam0, unknown uParam1)
{
    int I;
    char[32] cVar5;

    for ( I = 0; I < (uParam0^); I++ )
    {
        if (DOES_PED_EXIST( (uParam0^)[I] ))
        {
            StrCopy( ref cVar5, uParam1, 32 );
            ConcatString(ref cVar5, " ", 32);
            ConcatString(ref cVar5, I, 32);
            SET_PED_NAME_DEBUG( (uParam0^)[I], ref cVar5 );
        }
    }
    return;
}

void sub_20297()
{
    sub_1970( "SA", "P_CREATE_S_FAV2_VISTA_ROOFTOP_RUN_01", 0 );
    l_U978 = sub_19093( ref l_U979 );
    if (NOT (IS_PED_DEAD( l_U978 )))
    {
        SET_BULLET_CAM_PREF( l_U978, "ALL_LMS_01", "ALL_LMS_03", "ALL_LMS_05", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
        SET_PED_NAME_DEBUG( l_U978, "piVistaRooftopRun01" );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U978, 1 );
        SET_PED_AS_ONE_SHOT_KILL( l_U978, 1 );
        sub_20525( l_U978, l_U992, l_U995 );
        ISEQ_REGISTER_ENTITY( 1284098821, "ENEMY", l_U978, 0 );
    }
    sub_20614( l_U978 );
    return;
}

void sub_20525(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_COORDS( uParam0, uParam1, 1 );
        SET_PED_HEADING( uParam0, uParam4 );
    }
    return;
}

void sub_20614(unknown uParam0)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_FREEZE_PROCESSING( uParam0, 1 );
        SET_PED_VISIBLE( uParam0, 0 );
        SET_PED_VISIBLE_DURING_SEQUENCE( uParam0, 0 );
        FREEZE_PED_POSITION( uParam0, 1 );
        SET_PED_COLLISION( uParam0, 0 );
        SET_PED_PROOFS( uParam0, 1, 1, 1, 1, 1 );
    }
    return;
}

void sub_20719()
{
    sub_1970( "SP", "P_CREATE_S_FAV2_VISTA_LOWER_LEVEL_RUN_01", 0 );
    l_U1006 = sub_19093( ref l_U1007 );
    if (NOT (IS_PED_DEAD( l_U1006 )))
    {
        sub_8825( l_U1006, g_U1310, 25000, 0, 0 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1006, 1 );
        SET_PED_AS_ONE_SHOT_KILL( l_U1006, 1 );
        SET_PED_NAME_DEBUG( l_U1006, "piVistaLLRun01" );
        sub_20525( l_U1006, l_U1020, l_U1023 );
        ISEQ_REGISTER_ENTITY( 367252975, "ENEMY", l_U1006, 0 );
        ISEQ_START( 367252975 );
    }
    return;
}

void sub_20959()
{
    sub_1970( "SA", "P_CREATE_00A_FirstWindow", 0 );
    sub_5590( l_U896 );
    l_U896 = sub_19093( ref l_U897 );
    sub_5702( l_U914 );
    l_U914 = sub_21061( 2072171637, l_U915, l_U918, 0, 1, 0 );
    if (DOES_OBJECT_EXIST( l_U914 ))
    {
        FREEZE_OBJECT_POSITION( l_U914, 1 );
    }
    sub_5702( l_U921 );
    l_U921 = sub_21061( 1678648716, l_U922, l_U925, 0, 1, 0 );
    if (DOES_OBJECT_EXIST( l_U921 ))
    {
        FREEZE_OBJECT_POSITION( l_U921, 1 );
    }
    if (NOT (IS_PED_DEAD( l_U896 )))
    {
        SET_PED_NAME_DEBUG( l_U896, "pi00AFirstWindow" );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U896, 1 );
        ISEQ_REGISTER_ENTITY( -309100710, "CIV", l_U896, 0 );
        ISEQ_REGISTER_ENTITY( -309100710, "SHUTTERA", l_U914, 1 );
        ISEQ_REGISTER_ENTITY( -309100710, "SHUTTERB", l_U921, 1 );
        ISEQ_START( -309100710 );
    }
    return;
}

void sub_21061(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
        sub_16712( uParam0, 1 );
    }
    Result = CREATE_OBJECT( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

void sub_21550()
{
    sub_5590( l_U786 );
    l_U786 = sub_19093( ref l_U787 );
    sub_5702( l_U804 );
    l_U804 = sub_21061( 2072171637, l_U805, l_U808, 0, 1, 0 );
    if (DOES_OBJECT_EXIST( l_U804 ))
    {
        FREEZE_OBJECT_POSITION( l_U804, 1 );
    }
    sub_5702( l_U811 );
    l_U811 = sub_21061( 1678648716, l_U812, l_U815, 0, 1, 0 );
    if (DOES_OBJECT_EXIST( l_U811 ))
    {
        FREEZE_OBJECT_POSITION( l_U811, 1 );
    }
    if (NOT (IS_PED_DEAD( l_U786 )))
    {
        SET_BULLET_CAM_PREF( l_U786, "ALL_LMS_01", "ALL_LMS_03", "ALL_LMS_05", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
        SET_PED_NAME_DEBUG( l_U786, "pi00BWindow01" );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U786, 1 );
        ISEQ_REGISTER_ENTITY( 976803717, "CIV", l_U786, 0 );
        ISEQ_REGISTER_ENTITY( 976803717, "SHUTTERA", l_U804, 1 );
        ISEQ_REGISTER_ENTITY( 976803717, "SHUTTERB", l_U811, 1 );
        ISEQ_START( 976803717 );
    }
    return;
}

void sub_21948()
{
    sub_1970( "ka", "P_CREATE_CAMERA()", 0 );
    SET_CAM_VIEW_MODE( 0 );
    return;
}

int sub_22028(unknown uParam0)
{
    sub_1970( "rw", "HAS_SAVEFILE_LOADED()", 0 );
    if (IS_ARCADE_MODE_ACTIVE())
    {
        return 0;
    }
    if (HAS_LOAD_JUST_OCCURRED())
    {
        if ((GET_CHECKPOINT_SELECTED() == 1) || (GET_CHECKPOINT_SELECTED() == 0))
        {
            return 0;
        }
        else
        {
            g_U665 = 0;
            CHECKPOINT_STORAGE_LOAD( uParam0, g_U666 );
            sub_6625( uParam0, sub_2121() );
        }
        if (IS_IN_STORY_MODE())
        {
            START_CONTEXT( "LEVEL" );
        }
        return 1;
    }
    return 0;
}

void sub_22533(int iParam0, unknown uParam1)
{
    if (iParam0->_fU64 == 1)
    {
        return 0;
    }
    else
    {
        iParam0->_fU64 = sub_22575( sub_2121(), (iParam0^) );
        if ((iParam0->_fU64) AND (uParam1))
        {
            GAMEPLAY_HELPER_BOX_SET_ENABLED( iParam0 + 0, 0 );
        }
    }
    return iParam0->_fU64;
}

int sub_22575(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        return IS_PED_IN_GAMEPLAY_HELPER_BOX( uParam0, ref uParam1._fU0 );
    }
    return 0;
}

void sub_22679()
{
    sub_1970( "NS", "P_PRE__REQUEST_GAMEPLAY_ASSETS()", 0 );
    return;
}

int sub_22743()
{
    int I;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    int iVar16;
    unknown[1] uVar17;

    array(ref uVar17, 1);
    switch (l_U93)
    {
        case 0: break;
        case 1:
        sub_22831();
        ENABLE_WALLA_ZONE( "S_FAV2_WZ_DEEP_INTO_FAVELA_RAID_CS", 0 );
        ENABLE_WALLA_ZONE( "S_FAV2_WZ_DEEP_INTO_FAVELA_RAID_CS_02", 0 );
        ENABLE_WALLA_ZONE( "S_FAV2_WZ_DEEP_INTO_FAVELA_RAID_UFE", 0 );
        ENABLE_WALLA_ZONE( "S_FAV2_WZ_DEEP_INTO_FAVELA_RAID_UFE_02", 0 );
        ENABLE_WALLA_ZONE( "S_FAV2_WZ_STARTING_POINT_PANIC", 0 );
        ENABLE_WALLA_ZONE( "S_FAV2_WZ_BASE_PANIC_LAYER", 0 );
        ENABLE_WALLA_ZONE( "S_FAV2_WZ_SHOOTING_LAYER", 0 );
        ENABLE_WALLA_ZONE( "S_FAV2_WZ_STARTING_POINT_PANIC", 0 );
        ENABLE_WALLA_ZONE( "S_FAV2_WZ_START_CLOSE_FIGHT", 0 );
        ENABLE_WALLA_ZONE( "S_FAV2_WZ_START_STREET_FIGHT", 0 );
        ENABLE_STATIC_EMITTER( "S_FAV2_SE_ARREST_MOTHER", 0 );
        ENABLE_STATIC_EMITTER( "S_FAV2_SE_ARREST_POLICE", 0 );
        ENABLE_STATIC_EMITTER( "S_FAV2_SE_PA_RAID", 0 );
        l_U93 = 2;
        sub_1970( "SP", "eMid01CutsceneState = CUTSCENE_LOAD_ASSETS", 0 );
        break;
        case 2:
        if (sub_23610() == 1)
        {
            l_U93 = 3;
            sub_1970( "SP", "eMid01CutsceneState = CUTSCENE_SETUP", 0 );
            break;
        }
        return 0;
        case 3:
        sub_1970( "SP", "eMid01CutsceneState = CUTSCENE_SETUP", 0 );
        for ( I = 0; I < l_U1139; I++ )
        {
            sub_5590( l_U1139[I] );
            l_U1139[I] = sub_19093( ref l_U1034[I] );
            if (((IS_PED_DEAD( l_U1139[I] )) == 0) AND ((DOES_PED_EXIST( l_U1139[I] )) == 1))
            {
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1139[I], 1 );
                SET_PED_FREEZE_PROCESSING( l_U1139[I], 1 );
                sub_8825( l_U1139[I], g_U1308, 25000, 0, 0 );
            }
        }
        sub_20195( ref l_U1139, "piMid01CutEnemies_" );
        l_U93 = 4;
        sub_1970( "SP", "eMid01CutsceneState = CUTSCENE_WAITING_FOR_HANDOFF", 0 );
        break;
        case 4:
        if (g_U1039 == 1)
        {
            sub_24214( ref l_U95, 1, 1 );
            sub_25480( l_U95, 0 );
            AUDIO_MUSIC_REQUEST_ONESHOT( "FAV2_ONESHOT_C", 0 );
            uVar3 = sub_25610( l_U95 );
            if (((GET_DOES_WEAPON_EXIST( uVar3 )) == 1) AND ((IS_PED_DEAD( sub_2121() )) == 0))
            {
                SELECT_WEAPON_TO_HAND( sub_2121(), uVar3, 0, 1 );
            }
            if ((IS_PED_DEAD( sub_2121() )) == 0)
            {
                CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( sub_2121(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
                CUTSCENE_REGISTER_PED_TELEPORT( sub_2121(), l_U1167, l_U1170 );
                REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar3, "W_PI_PT92_Aa_H", 0 );
            }
            if (((IS_PED_DEAD( l_U1139[0] )) == 0) AND ((DOES_PED_EXIST( l_U1139[0] )) == 1))
            {
                SET_PED_FREEZE_PROCESSING( l_U1139[0], 0 );
                REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1139[0], "M_F2_UFE_B", 1 );
                uVar4 = GET_WEAPON_FROM_HAND( l_U1139[0], 0, 0 );
                if ((GET_DOES_WEAPON_EXIST( uVar4 )) == 1)
                {
                    REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar4, "W_AR_FAL_Aa_H", 1 );
                }
            }
            if (((IS_PED_DEAD( l_U1139[1] )) == 0) AND ((DOES_PED_EXIST( l_U1139[1] )) == 1))
            {
                SET_PED_FREEZE_PROCESSING( l_U1139[1], 0 );
                REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1139[1], "M_F2_UFE_B^1", 1 );
                uVar5 = GET_WEAPON_FROM_HAND( l_U1139[1], 0, 0 );
                if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
                {
                    REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar5, "W_AR_FAL_Aa_H^1", 1 );
                }
            }
            if (((IS_PED_DEAD( l_U1139[2] )) == 0) AND ((DOES_PED_EXIST( l_U1139[2] )) == 1))
            {
                SET_PED_FREEZE_PROCESSING( l_U1139[2], 0 );
                REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1139[2], "M_F2_UFE_B^2", 1 );
                uVar6 = GET_WEAPON_FROM_HAND( l_U1139[2], 0, 0 );
                if ((GET_DOES_WEAPON_EXIST( uVar6 )) == 1)
                {
                    REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar6, "W_AR_FAL_Aa_H^2", 1 );
                }
            }
            if (((IS_PED_DEAD( l_U1139[3] )) == 0) AND ((DOES_PED_EXIST( l_U1139[3] )) == 1))
            {
                SET_PED_FREEZE_PROCESSING( l_U1139[3], 0 );
                REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1139[3], "M_F2_UFE_B^3", 1 );
                uVar7 = GET_WEAPON_FROM_HAND( l_U1139[3], 0, 0 );
                if ((GET_DOES_WEAPON_EXIST( uVar7 )) == 1)
                {
                    REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar7, "W_AR_FAL_Aa_H^3", 1 );
                }
            }
            if (((IS_PED_DEAD( l_U1139[4] )) == 0) AND ((DOES_PED_EXIST( l_U1139[4] )) == 1))
            {
                SET_PED_FREEZE_PROCESSING( l_U1139[4], 0 );
                REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1139[4], "M_F2_UFE_B^4", 1 );
                uVar8 = GET_WEAPON_FROM_HAND( l_U1139[4], 0, 0 );
                if ((GET_DOES_WEAPON_EXIST( uVar8 )) == 1)
                {
                    REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar8, "W_AR_FAL_Aa_H^4", 1 );
                }
            }
            if (((IS_PED_DEAD( l_U1139[5] )) == 0) AND ((DOES_PED_EXIST( l_U1139[5] )) == 1))
            {
                SET_PED_FREEZE_PROCESSING( l_U1139[5], 0 );
                REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1139[5], "M_F2_UFE_B^5", 1 );
                uVar9 = GET_WEAPON_FROM_HAND( l_U1139[5], 0, 0 );
                if ((GET_DOES_WEAPON_EXIST( uVar9 )) == 1)
                {
                    REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar9, "W_AR_FAL_Aa_H^5", 1 );
                }
            }
            if (((IS_PED_DEAD( l_U1139[6] )) == 0) AND ((DOES_PED_EXIST( l_U1139[6] )) == 1))
            {
                SET_PED_FREEZE_PROCESSING( l_U1139[6], 0 );
                REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1139[6], "M_F2_UFE_B^6", 1 );
                uVar10 = GET_WEAPON_FROM_HAND( l_U1139[6], 0, 0 );
                if ((GET_DOES_WEAPON_EXIST( uVar10 )) == 1)
                {
                    REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar10, "W_AR_FAL_Aa_H^6", 1 );
                }
            }
            if (((IS_PED_DEAD( l_U1139[7] )) == 0) AND ((DOES_PED_EXIST( l_U1139[7] )) == 1))
            {
                SET_PED_FREEZE_PROCESSING( l_U1139[7], 0 );
                REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1139[7], "M_F2_UFE_B^7", 1 );
                uVar11 = GET_WEAPON_FROM_HAND( l_U1139[7], 0, 0 );
                if ((GET_DOES_WEAPON_EXIST( uVar11 )) == 1)
                {
                    REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar11, "W_AR_FAL_Aa_H^7", 1 );
                }
            }
            CUTSCENE_OBJECT_OVERRIDE_VISIBILITY( "P_DoorMet_01_H" );
            sub_27234();
            ISEQ_REGISTER_ENTITY( -666691999, "player", sub_2121(), 0 );
            ISEQ_REGISTER_ENTITY( -666691999, "door", l_U1171, 1 );
            CUTSCENE_REGISTER_ISEQ( -666691999 );
            CUTSCENE_ENABLE_SKIP( 0 );
            START_SEAMLESS_CUTSCENE();
            l_U93 = 6;
            sub_1970( "SP", "eMid01CutsceneState = CUTSCENE_FIRST_FRAME", 0 );
        }
        else
        {
            return 0;
        }
        break;
        case 6:
        sub_1970( "SP", "eMid01CutsceneState = CUTSCENE_FIRST_FRAME", 0 );
        DO_SCREEN_FADE_IN( 0 );
        CAMERA_ANIMATED_STOP( 0, 0 );
        l_U93 = 7;
        sub_1970( "SP", "eMid01CutsceneState = CUTSCENE_PLAYING", 0 );
        break;
        case 7:
        if (HAS_CUTSCENE_FINISHED() == 0)
        {
            uVar14 = GET_CUTSCENE_SECTION_PLAYING();
            uVar15 = GET_CUTSCENE_TIME();
            iVar16 = GET_CUTSCENE_TIME_MS();
            if (l_U1148 == 0)
            {
                if (iVar16 >= 25000)
                {
                    sub_16655();
                    l_U1148 = 1;
                }
            }
            if (l_U1149 == 0)
            {
                if (l_U1150 == 0)
                {
                    if (l_U1148 == 1)
                    {
                        if (sub_18231() == 1)
                        {
                            sub_17086();
                            l_U1149 = 1;
                        }
                    }
                }
            }
            if (l_U1150 == 0)
            {
                if (l_U1149 == 1)
                {
                    if (sub_18470() == 1)
                    {
                        l_U1150 = 1;
                    }
                }
            }
            if (l_U745 == 0)
            {
                if (iVar16 >= 1845)
                {
                    AUDIO_MUSIC_PLAY_ONESHOT();
                    l_U745 = 1;
                }
            }
            if (l_U747 == 0)
            {
                if (iVar16 >= 4000)
                {
                    AUDIO_MUSIC_REQUEST_ONESHOT( "FAV2_ONESHOT_D", 0 );
                    l_U747 = 1;
                }
            }
            if (l_U746 == 0)
            {
                if (iVar16 >= 7058)
                {
                    AUDIO_MUSIC_PLAY_ONESHOT();
                    l_U746 = 1;
                }
            }
            if (l_U748 == 0)
            {
                if (iVar16 >= 21406)
                {
                    AUDIO_MUSIC_SUSPEND( 10000 );
                }
            }
            if (l_U1154 == 0)
            {
                if (iVar16 >= 20000)
                {
                    sub_28242( -1882305097 );
                    l_U1154 = 1;
                }
            }
            if ((IS_SCREEN_FADING_OUT() == 1) || (IS_SCREEN_FADED_OUT() == 1))
            {
                CUTSCENE_DISABLE_FADE_IN_GAME_AT_END( 1 );
                l_U1151 = 1;
            }
        }
        else if (l_U1151 == 1)
        {
            sub_20525( sub_2121(), g_U783[2], g_U910[2] );
            if ((IS_PED_DEAD( sub_2121() )) == 0)
            {
                FREEZE_PED_POSITION( sub_2121(), 1 );
            }
            LOAD_SCENE( l_U1167 );
            if ((IS_PED_DEAD( sub_2121() )) == 0)
            {
                FREEZE_PED_POSITION( sub_2121(), 0 );
            }
            sub_20525( sub_2121(), l_U1167, l_U1170 );
            SET_GAMEPLAY_CAM_RELATIVE_HEADING( g_U953[2], 1065353216, 0 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( g_U996[2], 1065353216, 0 );
            if (l_U1150 == 0)
            {
                l_U1150 = 1;
            }
        }
        sub_15409( ref g_U1079, 1 );
        sub_15409( ref g_U1086, 1 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( g_U953[2], 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( g_U996[2], 1065353216, 0 );
        CLEAR_NAMED_CUTSCENE( "mid_01_fav2_concat" );
        sub_5816( ref l_U1139 );
        sub_28242( -1882305097 );
        sub_28242( 744359422 );
        l_U93 = 0;
        sub_1970( "SP", "eMid01CutsceneState = CUTSCENE_IDLE", 0 );
        return 1;;
        break;
    }
    return 0;
}

void sub_22831()
{
    sub_1970( "SP", "P_REQUEST_MID_01_CUTSCENE_ASSETS", 0 );
    PRE_STREAM_SEAMLESS_CUTSCENE( "mid_01_fav2_concat" );
    sub_16712( -1882305097, 0 );
    sub_16712( -1006708222, 0 );
    sub_16982( g_U1310, 0 );
    sub_16982( g_U1311, 0 );
    sub_16982( g_U1308, 0 );
    sub_16982( g_U1309, 0 );
    sub_17160( "LEVEL_S_FAV2_CP_02", 0, 0 );
    sub_17432( -666691999, 0 );
    return;
}

int sub_23610()
{
    if (((HAS_ANIM_DICT_LOADED( "LEVEL_S_FAV2_CP_02", 0 )) == 1) AND (((HAS_WEAPON_LOADED( g_U1309 )) == 1) AND (((HAS_WEAPON_LOADED( g_U1308 )) == 1) AND (((HAS_WEAPON_LOADED( g_U1311 )) == 1) AND (((HAS_WEAPON_LOADED( g_U1310 )) == 1) AND (((HAS_MODEL_LOADED( -1006708222 )) == 1) AND (((ISEQ_IS_LOADED( -666691999 )) == 1) AND (((HAS_MODEL_LOADED( -1882305097 )) == 1) AND ((CUTSCENE_IS_LOADED( "mid_01_fav2_concat" )) == 1)))))))))
    {
        return 1;
    }
    return 0;
}

void sub_24214(int iParam0, int iParam1, unknown uParam2)
{
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;

    sub_24226( iParam0 );
    if ((IS_PED_DEAD( sub_2121() )) == 0)
    {
        uVar5 = GET_WEAPON_FROM_HAND( sub_2121(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
        {
            if ((sub_24405( uVar5 )) == 1)
            {
                ref iParam0->_fU0->_fU0 = uVar5;
                ref iParam0->_fU0->_fU4 = GET_WEAPON_TYPE( uVar5 );
            }
            else if ((sub_24633( uVar5 )) == 1)
            {
                ref iParam0->_fU24->_fU0 = uVar5;
                ref iParam0->_fU24->_fU4 = GET_WEAPON_TYPE( uVar5 );
            }
        }
        uVar6 = GET_WEAPON_FROM_HAND( sub_2121(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar6 )) == 1)
        {
            ref iParam0->_fU12->_fU0 = uVar6;
            ref iParam0->_fU12->_fU4 = GET_WEAPON_TYPE( uVar6 );
        }
        uVar7 = GET_WEAPON_FROM_HOLSTER( sub_2121(), 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar7 )) == 1)
        {
            ref iParam0->_fU36->_fU0 = uVar7;
            ref iParam0->_fU36->_fU4 = GET_WEAPON_TYPE( uVar7 );
        }
        uVar8 = GET_WEAPON_FROM_HOLSTER( sub_2121(), 1 );
        if ((GET_DOES_WEAPON_EXIST( uVar8 )) == 1)
        {
            ref iParam0->_fU48->_fU0 = uVar8;
            ref iParam0->_fU48->_fU4 = GET_WEAPON_TYPE( uVar8 );
        }
        uVar9 = GET_WEAPON_FROM_HOLSTER( sub_2121(), 2 );
        if ((GET_DOES_WEAPON_EXIST( uVar9 )) == 1)
        {
            ref iParam0->_fU60->_fU0 = uVar9;
            ref iParam0->_fU60->_fU4 = GET_WEAPON_TYPE( uVar9 );
        }
    }
    if (iParam1 == 0)
    {
        if ((IS_PED_DEAD( sub_2121() )) == 0)
        {
            uVar10 = GET_WEAPON_FROM_HAND( sub_2121(), 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar10 )) == 1)
            {
                SELECT_WEAPON_TO_HAND( sub_2121(), 0, 0, uParam2 );
            }
            uVar11 = GET_WEAPON_FROM_HAND( sub_2121(), 1, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar11 )) == 1)
            {
                SELECT_WEAPON_TO_HAND( sub_2121(), 0, 1, uParam2 );
            }
        }
    }
    else if (iParam1 == 1)
    {
        if ((IS_PED_DEAD( sub_2121() )) == 0)
        {
            uVar12 = GET_WEAPON_FROM_HAND( sub_2121(), 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar12 )) == 1)
            {
                if ((sub_24633( uVar12 )) == 1)
                {
                    SELECT_WEAPON_TO_HAND( sub_2121(), 0, 0, uParam2 );
                }
            }
            uVar13 = GET_WEAPON_FROM_HAND( sub_2121(), 1, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar13 )) == 1)
            {
                SELECT_WEAPON_TO_HAND( sub_2121(), 0, 1, uParam2 );
            }
        }
    }
    return;
}

void sub_24226(int iParam0)
{
    ref iParam0->_fU0->_fU0 = 0;
    ref iParam0->_fU0->_fU4 = 0;
    ref iParam0->_fU12->_fU0 = 0;
    ref iParam0->_fU12->_fU4 = 0;
    ref iParam0->_fU24->_fU0 = 0;
    ref iParam0->_fU24->_fU4 = 0;
    ref iParam0->_fU36->_fU0 = 0;
    ref iParam0->_fU36->_fU4 = 0;
    ref iParam0->_fU48->_fU0 = 0;
    ref iParam0->_fU48->_fU4 = 0;
    ref iParam0->_fU60->_fU0 = 0;
    ref iParam0->_fU60->_fU4 = 0;
    return;
}

int sub_24405(unknown uParam0)
{
    int iVar3;

    if ((GET_DOES_WEAPON_EXIST( uParam0 )) == 1)
    {
        iVar3 = GET_WEAPON_TYPE( uParam0 );
        if ((iVar3 == 1194438308) || ((iVar3 == -76667461) || ((iVar3 == -1404433099) || ((iVar3 == 1131969637) || ((iVar3 == -691403429) || ((iVar3 == 1845102363) || ((iVar3 == 150541352) || ((iVar3 == -820634585) || ((iVar3 == -612753081) || ((iVar3 == 811797242) || ((iVar3 == 68019059) || ((iVar3 == -1464892298) || ((iVar3 == 456708483) || ((iVar3 == -862236369) || (iVar3 == 406496141)))))))))))))))
        {
            return 1;
        }
    }
    return 0;
}

int sub_24633(unknown uParam0)
{
    int iVar3;

    if ((GET_DOES_WEAPON_EXIST( uParam0 )) == 1)
    {
        iVar3 = GET_WEAPON_TYPE( uParam0 );
        if ((iVar3 == -2075384407) || ((iVar3 == 10648147) || ((iVar3 == 1224272620) || ((iVar3 == 1478009203) || ((iVar3 == 1964270085) || ((iVar3 == -110877124) || ((iVar3 == 427207702) || ((iVar3 == 319712764) || ((iVar3 == 514118749) || ((iVar3 == -184942895) || ((iVar3 == -168327769) || ((iVar3 == 434544317) || ((iVar3 == -1659006841) || ((iVar3 == 930042831) || ((iVar3 == 1001413062) || ((iVar3 == 377623895) || ((iVar3 == -1312131151) || ((iVar3 == -1787162676) || ((iVar3 == 724901397) || ((iVar3 == 57534114) || ((iVar3 == 840671040) || ((iVar3 == 1308526797) || ((iVar3 == -1074756423) || ((iVar3 == 1992962408) || (iVar3 == -1013714740)))))))))))))))))))))))))
        {
            return 1;
        }
    }
    return 0;
}

void sub_25480(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18)
{
    unknown uVar21;
    unknown uVar22;

    uVar21 = uParam0._fU24._fU0;
    if ((GET_DOES_WEAPON_EXIST( uVar21 )) == 1)
    {
        SET_WEAPON_VISIBLE( uVar21, uParam18 );
    }
    uVar22 = uParam0._fU60._fU0;
    if ((GET_DOES_WEAPON_EXIST( uVar22 )) == 1)
    {
        SET_WEAPON_VISIBLE( uVar22, uParam18 );
    }
    return;
}

int sub_25610(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17)
{
    unknown Result;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;

    Result = uParam0._fU0._fU0;
    if ((GET_DOES_WEAPON_EXIST( Result )) == 1)
    {
        if ((sub_24405( Result )) == 1)
        {
            return Result;
        }
    }
    uVar21 = uParam0._fU12._fU0;
    if ((GET_DOES_WEAPON_EXIST( uVar21 )) == 1)
    {
        if ((sub_24405( uVar21 )) == 1)
        {
            return uVar21;
        }
    }
    uVar22 = uParam0._fU36._fU0;
    if ((GET_DOES_WEAPON_EXIST( uVar22 )) == 1)
    {
        if ((sub_24405( uVar22 )) == 1)
        {
            return uVar22;
        }
    }
    uVar23 = uParam0._fU48._fU0;
    if ((GET_DOES_WEAPON_EXIST( uVar23 )) == 1)
    {
        if ((sub_24405( uVar23 )) == 1)
        {
            return uVar23;
        }
    }
    return 0;
}

void sub_27234()
{
    sub_1970( "SP", "P_CREATE_MID_01_BLEND_DOOR", 0 );
    sub_5702( l_U1171 );
    l_U1171 = sub_27314( -1006708222, l_U1172, l_U1175, 0, 0, 0 );
    if ((DOES_OBJECT_EXIST( l_U1171 )) == 1)
    {
        SET_OBJECT_COLLISION( l_U1171, 0 );
    }
    return;
}

void sub_27314(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
        sub_16712( uParam0, 1 );
    }
    Result = CREATE_OBJECT_NO_OFFSET( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

void sub_28242(unknown uParam0)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 1)
    {
        SET_MODEL_AS_NO_LONGER_NEEDED( uParam0 );
    }
    else
    {
        sub_8496( "[SP]### ERROR! (UnloadModel) Trying to unload a model that isn't in the img! ###" );
    }
    return;
}

void sub_28934()
{
    vector vVar2;
    int I;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;

    vVar2 = {0.50000000, 0.50000000, 0.00000000};
    switch (l_U133)
    {
        case 0: break;
        case 1:
        sub_1970( "SP", "issAlleyShootState = ISS_LOADING", 0 );
        for ( I = 0; I < l_U1612; I++ )
        {
            if (((IS_PED_DEAD( l_U1612[I] )) == 0) AND ((DOES_PED_EXIST( l_U1612[I] )) == 1))
            {
                SET_PED_FREEZE_PROCESSING( l_U1612[I], 0 );
            }
        }
        sub_20525( l_U1612[0], l_U1618, l_U1621 );
        sub_20525( l_U1612[1], l_U1622, l_U1625 );
        sub_20525( l_U1612[2], l_U1626, l_U1629 );
        sub_20525( l_U1612[3], l_U1630, l_U1633 );
        sub_20525( l_U1612[4], l_U1634, l_U1637 );
        ISEQ_REGISTER_ENTITY( 864352828, "cs_1", l_U1612[0], 0 );
        ISEQ_REGISTER_ENTITY( 864352828, "cs_2", l_U1612[1], 0 );
        ISEQ_REGISTER_ENTITY( 864352828, "ufe_1", l_U1612[2], 0 );
        ISEQ_REGISTER_ENTITY( 864352828, "ufe_2", l_U1612[3], 0 );
        ISEQ_REGISTER_ENTITY( 864352828, "ufe_3", l_U1612[4], 0 );
        ISEQ_START( 864352828 );
        if ((NOT (IS_PED_DEAD( l_U1612[0] ))) AND (NOT (IS_PED_DEAD( sub_2121() ))))
        {
            sub_1970( "SA", "Lookat 0", 0 );
            SET_PED_PRIMARY_LOOKAT( sub_2121(), l_U1612[0] );
        }
        l_U133 = 2;
        l_U1653 = 1;
        sub_1970( "SP", "issAlleyShootState = ISS_PLAYING", 0 );
        break;
        case 2:
        if (l_U1648 == 0)
        {
            if (((IS_PED_DEAD( l_U1612[2] )) == 0) AND (((DOES_PED_EXIST( l_U1612[2] )) == 1) AND (((IS_PED_DEAD( l_U1612[1] )) == 0) AND ((DOES_PED_EXIST( l_U1612[1] )) == 1))))
            {
                if ((PED_GET_ACTION_INTENTION_STATUS( l_U1612[1], 47 )) == 3)
                {
                    sub_1970( "SP", "Alley Shoot Male 2 Gets Shot", 0 );
                    SHOOT_SINGLE_BULLET_BETWEEN_COORDS( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_BONE_COORDS( l_U1612[2], 54548, vVar2 ), "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_BONE_COORDS( l_U1612[1], 65488, 0.00000000, 0.00000000, 0.00000000 ), 50, 1, g_U1311, l_U1612[2] );
                    START_PARTICLE_FX_NON_LOOPED_ON_PED_BONE( "WE_AK47_MZFL_01_S", l_U1612[2], vVar2, 0.00000000, 0.00000000, 0.00000000, 54548, 2.00000000 );
                    l_U1648 = 1;
                }
            }
        }
        if (l_U1649 == 0)
        {
            if (((IS_PED_DEAD( l_U1612[1] )) == 0) AND ((DOES_PED_EXIST( l_U1612[1] )) == 1))
            {
                if ((PED_GET_ACTION_INTENTION_STATUS( l_U1612[1], 48 )) == 3)
                {
                    sub_1970( "SP", "Alley Shoot Male 2 Gets Deleted", 0 );
                    ISEQ_UNREGISTER_ENTITY( 864352828, "cs_2" );
                    sub_5590( l_U1612[1] );
                    l_U1649 = 1;
                }
            }
        }
        if (l_U1647 == 0)
        {
            if (((IS_PED_DEAD( l_U1612[0] )) == 0) AND ((DOES_PED_EXIST( l_U1612[0] )) == 1))
            {
                OPEN_SEQUENCE_TASK( ref uVar6 );
                TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
                TASK_GO_STRAIGHT_TO_COORD( 0, l_U1638, 3, -1 );
                TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
                CLOSE_SEQUENCE_TASK( uVar6 );
                TASK_PERFORM_SEQUENCE( l_U1612[0], uVar6 );
                CLEAR_SEQUENCE_TASK( uVar6 );
                l_U1647 = 1;
            }
        }
        if ((ISEQ_IS_LOADED( 864352828 )) == 0)
        {
            l_U133 = 3;
        }
        break;
        case 3:
        sub_1970( "SP", "issAlleyShootState = ISS_FINISHED", 0 );
        if (NOT l_U1650)
        {
            if (((IS_PED_DEAD( l_U1612[2] )) == 0) AND ((DOES_PED_EXIST( l_U1612[2] )) == 1))
            {
                sub_1970( "CO", "piAlleyShoot[2] triggered", "*************" );
                OPEN_SEQUENCE_TASK( ref uVar7 );
                TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
                TASK_GO_TO_COORD_WHILE_AIMING_AT_COORD( 0, l_U1641, -100.24000000, 80.62000000, 23.75000000, 2, 0, 1056964608, 0, 1, 0 );
                TASK_GO_STRAIGHT_TO_COORD( 0, l_U1644, 2, -1 );
                CLOSE_SEQUENCE_TASK( uVar7 );
                TASK_PERFORM_SEQUENCE( l_U1612[2], uVar7 );
                CLEAR_SEQUENCE_TASK( uVar7 );
                l_U1650 = 1;
            }
        }
        if (NOT l_U1651)
        {
            if (((IS_PED_DEAD( l_U1612[3] )) == 0) AND ((DOES_PED_EXIST( l_U1612[3] )) == 1))
            {
                sub_1970( "CO", "piAlleyShoot[3] triggered", "*************" );
                OPEN_SEQUENCE_TASK( ref uVar8 );
                TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
                TASK_GO_TO_COORD_WHILE_AIMING_AT_COORD( 0, l_U1641, -100.24000000, 80.62000000, 23.75000000, 2, 0, 1056964608, 0, 1, 0 );
                TASK_GO_STRAIGHT_TO_COORD( 0, l_U1644, 2, -1 );
                CLOSE_SEQUENCE_TASK( uVar8 );
                TASK_PERFORM_SEQUENCE( l_U1612[3], uVar8 );
                CLEAR_SEQUENCE_TASK( uVar8 );
                l_U1651 = 1;
            }
        }
        if (NOT l_U1652)
        {
            if (((IS_PED_DEAD( l_U1612[4] )) == 0) AND ((DOES_PED_EXIST( l_U1612[4] )) == 1))
            {
                sub_1970( "CO", "piAlleyShoot[4] triggered", "*************" );
                OPEN_SEQUENCE_TASK( ref uVar9 );
                TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
                TASK_GO_TO_COORD_WHILE_AIMING_AT_COORD( 0, l_U1641, -100.24000000, 80.62000000, 23.75000000, 2, 0, 1056964608, 0, 1, 0 );
                TASK_GO_STRAIGHT_TO_COORD( 0, l_U1644, 2, -1 );
                CLOSE_SEQUENCE_TASK( uVar9 );
                TASK_PERFORM_SEQUENCE( l_U1612[4], uVar9 );
                CLEAR_SEQUENCE_TASK( uVar9 );
                l_U1652 = 1;
            }
        }
        l_U1653 = 0;
        sub_2923( ref l_U1654, 8000, 1, 0 );
        sub_3059( ref l_U1654 );
        l_U133 = 0;
        break;
    }
    for ( I = 0; I < l_U1612; I++ )
    {
        if ((sub_22575( l_U1612[I], l_U243 )) == 1)
        {
            if (((IS_PED_DEAD( l_U1612[I] )) == 0) AND ((DOES_PED_EXIST( l_U1612[I] )) == 1))
            {
                CLEAR_PED_TASKS( l_U1612[I] );
                if (I == 0)
                {
                    ISEQ_UNREGISTER_ENTITY( 864352828, "cs_1" );
                }
                else if (I == 1)
                {
                    ISEQ_UNREGISTER_ENTITY( 864352828, "cs_2" );
                }
                else if (I == 2)
                {
                    ISEQ_UNREGISTER_ENTITY( 864352828, "ufe_1" );
                }
                else if (I == 3)
                {
                    ISEQ_UNREGISTER_ENTITY( 864352828, "ufe_2" );
                }
                else if (I == 4)
                {
                    ISEQ_UNREGISTER_ENTITY( 864352828, "ufe_3" );
                };;;;;
            }
            sub_5590( l_U1612[I] );
        }
    }
    if ((sub_22533( ref l_U264, 0 )) == 1)
    {
        sub_1970( "SP", "Triggered Alley Shoot Terminate", 0 );
        ISEQ_UNREGISTER_ENTITY( 864352828, "cs_1" );
        ISEQ_UNREGISTER_ENTITY( 864352828, "cs_2" );
        ISEQ_UNREGISTER_ENTITY( 864352828, "ufe_1" );
        ISEQ_UNREGISTER_ENTITY( 864352828, "ufe_2" );
        ISEQ_UNREGISTER_ENTITY( 864352828, "ufe_3" );
        ISEQ_TERMINATE( 864352828 );
        sub_2923( ref l_U887, 500, 1, 0 );
        sub_3059( ref l_U887 );
        sub_2923( ref l_U969, 500, 1, 0 );
        sub_3059( ref l_U969 );
        l_U133 = 0;
        sub_5816( ref l_U1612 );
        sub_28242( 284807160 );
    }
    return;
}

int sub_31487()
{
    unknown uVar2;
    unknown uVar3;

    switch (l_U131)
    {
        case 0: break;
        case 1:
        sub_1970( "SP", "eMid01BlendState = BLEND_SETUP", 0 );
        sub_31594( 1, 0, 0, 0 );
        if ((ISEQ_QUERY_STATE( -666691999, 3 )) == 0)
        {
            sub_27234();
            l_U91 = 0;
            sub_20525( sub_2121(), l_U1167, l_U1170 );
            ISEQ_REGISTER_ENTITY( -666691999, "player", sub_2121(), 0 );
            ISEQ_REGISTER_ENTITY( -666691999, "door", l_U1171, 1 );
            ISEQ_START( -666691999 );
        }
        if (NOT (IS_PED_DEAD( sub_2121() )))
        {
            SET_PLAYER_THREAT_REACTION( sub_2121(), 0 );
        }
        if ((DOES_OBJECT_EXIST( l_U1171 )) == 1)
        {
            SET_OBJECT_ROTATION( l_U1171, l_U1175 );
        }
        sub_25480( l_U95, 1 );
        CAMERA_PLAY_ANIMATED( "LEVEL_S_FAV2_CP_02", "B_OUT_MID_01_F2_FWD_CAM", 0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0 );
        AUDIO_MUSIC_FORCE_TRACK( "FAV2_SONG_01", "FAV2_1_2_4", "", 0.00000000, 2000, 3000, -1082130432, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( l_U1185, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U1186, 1065353216, 0 );
        l_U131 = 2;
        sub_1970( "SP", "eMid01BlendState = BLEND_FIRST_FRAME", 0 );
        break;
        case 2:
        sub_1970( "SP", "eMid01BlendState = BLEND_FIRST_FRAME", 0 );
        if ((IS_DEATH_PANEL_WIPE_ALLOWED()) || (IS_SCREEN_FADED_OUT()))
        {
            DO_SCREEN_FADE_IN( 0 );
        }
        sub_2923( ref l_U1187, l_U1196, 1, 0 );
        sub_3059( ref l_U1187 );
        l_U131 = 3;
        sub_1970( "SP", "eMid01BlendState = BLEND_PLAYING", 0 );
        break;
        case 3:
        if (IS_ANIMATED_CAMERA_PLAYING() == 0)
        {
            sub_32356( 1, 1 );
            uVar2 = DOOR_FIND_CLOSEST( g_U1079._fU0, g_U1079._fU4 );
            if ((DOES_OBJECT_EXIST( uVar2 )) == 1)
            {
                SET_OBJECT_VISIBLE( uVar2, 1 );
                SET_OBJECT_COLLISION( uVar2, 1 );
                SET_OBJECT_ROTATION( uVar2, 0, 0, 65401 );
                FREEZE_OBJECT_POSITION( uVar2, 1 );
            }
            return 1;
        }
        else if (CAMERA_ANIMATED_CURRENT_TIME() >= ((CAMERA_ANIMATED_LENGTH( "LEVEL_S_FAV2_CP_02", "B_OUT_MID_01_F2_FWD_CAM" )) - 1))
        {
            SET_GAMEPLAY_CAM_RELATIVE_HEADING( l_U1185, 1065353216, 0 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U1186, 1065353216, 0 );
            CAMERA_FREEZE_FRAME( 1, l_U1180, 0, 0 );
            sub_32356( 1, 1 );
            uVar2 = DOOR_FIND_CLOSEST( g_U1079._fU0, g_U1079._fU4 );
            if ((DOES_OBJECT_EXIST( uVar2 )) == 1)
            {
                SET_OBJECT_VISIBLE( uVar2, 1 );
                SET_OBJECT_COLLISION( uVar2, 1 );
                SET_OBJECT_ROTATION( uVar2, 0, 0, 65401 );
                FREEZE_OBJECT_POSITION( uVar2, 1 );
            }
            return 1;
        }
        break;
    }
    return 0;
}

void sub_31594(int iParam0, int iParam1, unknown uParam2, boolean bParam3)
{
    END_POSTFX_BLENDER( 12, 0 );
    if (bParam3)
    {
        STOP_ALL_IMAGEFX( 0 );
    }
    SET_WIDESCREEN_BORDERS( 1, 500 );
    DISPLAY_HUD( 0 );
    if (iParam0 == 1)
    {
        if (NOT (IS_PED_DEAD( sub_2121() )))
        {
            SET_PLAYER_CONTROL( sub_2143(), 0, uParam2 );
            SET_PED_DUCKING( sub_2121(), 0 );
            if (iParam1 == 1)
            {
                CLEAR_PED_TASKS_IMMEDIATELY( sub_2121() );
            }
            SET_PED_INVINCIBLE( sub_2121(), 1 );
        }
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    return;
}

void sub_32356(boolean bParam0, boolean bParam1)
{
    SET_WIDESCREEN_BORDERS( 0, 500 );
    DISPLAY_HUD( 1 );
    if (NOT (IS_PED_DEAD( sub_2121() )))
    {
        SET_PLAYER_CONTROL( sub_2143(), 1, 0 );
        SET_PED_INVINCIBLE( sub_2121(), 0 );
        if (bParam0)
        {
            sub_32437();
        }
    }
    PULSE_CROSSHAIR( 1 );
    if (bParam1)
    {
        DESTROY_ALL_CAMS();
    }
    return;
}

void sub_32437()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD( sub_2121() )) == 0)
    {
        uVar2 = GET_WEAPON_FROM_HAND( sub_2121(), 0, 0 );
        uVar3 = GET_WEAPON_FROM_HAND( sub_2121(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
        {
            uVar4 = GET_MAX_AMMO_IN_HAND_CLIP_MP( sub_2121(), 0 );
            SET_WEAPON_AMMO_IN_CLIP( uVar2, uVar4 );
        }
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            uVar5 = GET_MAX_AMMO_IN_HAND_CLIP_MP( sub_2121(), 1 );
            SET_WEAPON_AMMO_IN_CLIP( uVar3, uVar5 );
        }
    }
    return;
}

void sub_33289()
{
    sub_1970( "SP", "P_CREATE_PLACEMENTS", 0 );
    sub_6224( l_U707 );
    l_U707 = sub_33386( 39142315, -83.05000000, 71.77000000, 24.80000000, 30.00000000, 0.00000000, 75.00000000, 0, 0, 0, 1119092736 );
    if ((DOES_PLACEMENT_EXIST( l_U707 )) == 1)
    {
        ;
    }
    return;
}

void sub_33386(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, int iParam8, unknown uParam9, unknown uParam10)
{
    unknown Result;

    Result = CREATE_PLACEMENT_ROTATE( uParam0, uParam1, uParam4, uParam7, 0, uParam9, uParam10 );
    if (iParam8 == 1)
    {
        while ((DOES_PLACEMENT_EXIST( Result )) == 0)
        {
            WAIT( 0 );
        }
    }
    return Result;
}

void sub_33506()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;

    sub_1970( "SP", "P_CREATE_S_FAV2_12_ROOF_SCRAMBLE_PEDS", 0 );
    sub_17818( 297, 1 );
    sub_17818( 298, 1 );
    sub_6055( l_U1524 );
    l_U1524 = sub_33623( 1232833631, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if ((NOT (IS_VEHICLE_DEAD( l_U1524 ))) AND (DOES_VEHICLE_EXIST( l_U1524 )))
    {
        SET_LOAD_COLLISION_FOR_VEHICLE_FLAG( l_U1524, 0 );
        SET_VEHICLE_PROOFS( l_U1524, 1, 1, 1, 1, 1 );
        SET_VEHICLE_ENGINE_ON( l_U1524, 1, 1 );
        SET_HELI_BLADES_FULL_SPEED( l_U1524 );
        SET_VEHICLE_COLOUR_COMBINATION( l_U1524, 0 );
    }
    sub_33973( ref uVar2, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( l_U1524 ), 0.00000000, 1686109657, 7, 3, 2, 0, 0 );
    sub_5590( l_U1525 );
    l_U1525 = sub_19093( ref uVar2 );
    if (((IS_PED_DEAD( l_U1525 )) == 0) AND (((DOES_PED_EXIST( l_U1525 )) == 1) AND (((IS_VEHICLE_DEAD( l_U1524 )) == 0) AND ((DOES_VEHICLE_EXIST( l_U1524 )) == 1))))
    {
        SET_PED_INTO_VEHICLE( l_U1525, l_U1524, -1 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1525, 1 );
        SET_PED_VISIBLE( l_U1525, 0 );
        SET_PED_COMBAT_ATTRIBUTES( l_U1525, 2, 0 );
        SET_PED_PROOFS( l_U1525, 1, 1, 1, 1, 1 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( l_U1525, 0 );
        SET_PED_AIM_LOCKONABLE( l_U1525, 0 );
    }
    sub_5590( l_U1509 );
    sub_11179( ref l_U1496, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( l_U1524 ), 0.00000000, 1161415791, 7, 3, 2, 0, 0 );
    l_U1509 = sub_19093( ref l_U1496 );
    if (NOT (IS_PED_DEAD( l_U1509 )))
    {
        ATTACH_PED_TO_VEHICLE( l_U1509, l_U1524, 0, 0.40000000, 2.00000000, 0.80000000, 0.00000000, 0.00000000, 1, 0, 0, 1 );
        SET_PED_NAME_DEBUG( l_U1509, "piHELIFLYBY_03" );
        CLEAR_PED_TASKS( l_U1509 );
        SET_PED_CAN_BE_TARGETTED( l_U1509, 0 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1509, 1 );
        SET_PED_PROOFS( l_U1509, 1, 1, 1, 1, 1 );
        PED_ACTION_TREE_PLAY_NODE( l_U1509, "/Global/S_FAV2_HELI_DRIVER_CP02/S_FAV2_DRIVER/DRIVER" );
    }
    if (((IS_VEHICLE_DEAD( l_U1524 )) == 0) AND ((DOES_VEHICLE_EXIST( l_U1524 )) == 1))
    {
        START_PLAYBACK_RECORDED_VEHICLE( l_U1524, 297 );
        PLAY_SCRIPT_STREAM_FROM_VEHICLE( l_U1524, 1 );
        sub_3716( ref l_U1537 );
        sub_2923( ref l_U1537, 3000, 1, 0 );
        sub_3059( ref l_U1537 );
    }
    l_U1477 = 1;
    sub_6055( l_U1526 );
    l_U1526 = sub_33623( 1232833631, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if ((NOT (IS_VEHICLE_DEAD( l_U1526 ))) AND (DOES_VEHICLE_EXIST( l_U1526 )))
    {
        SET_LOAD_COLLISION_FOR_VEHICLE_FLAG( l_U1526, 0 );
        SET_VEHICLE_PROOFS( l_U1526, 1, 1, 1, 1, 1 );
        SET_VEHICLE_ENGINE_ON( l_U1526, 1, 1 );
        SET_HELI_BLADES_FULL_SPEED( l_U1526 );
        SET_VEHICLE_COLOUR_COMBINATION( l_U1526, 0 );
        SET_VEHICLE_NAME_DEBUG( l_U1526, "viHeli_flyby" );
    }
    sub_33973( ref uVar15, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( l_U1526 ), 0.00000000, 1686109657, 7, 3, 2, 0, 0 );
    sub_5590( l_U1527 );
    l_U1527 = sub_19093( ref uVar15 );
    if (((IS_PED_DEAD( l_U1527 )) == 0) AND (((DOES_PED_EXIST( l_U1527 )) == 1) AND (((IS_VEHICLE_DEAD( l_U1526 )) == 0) AND ((DOES_VEHICLE_EXIST( l_U1526 )) == 1))))
    {
        SET_PED_INTO_VEHICLE( l_U1527, l_U1526, -1 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1527, 1 );
        SET_PED_VISIBLE( l_U1527, 0 );
        SET_PED_COMBAT_ATTRIBUTES( l_U1527, 2, 0 );
        SET_PED_PROOFS( l_U1527, 1, 1, 1, 1, 1 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( l_U1527, 0 );
        SET_PED_AIM_LOCKONABLE( l_U1527, 0 );
    }
    sub_5590( l_U1523 );
    sub_11179( ref l_U1510, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( l_U1526 ), 0.00000000, 1161415791, 7, 3, 2, 0, 0 );
    l_U1523 = sub_19093( ref l_U1510 );
    if (NOT (IS_PED_DEAD( l_U1523 )))
    {
        ATTACH_PED_TO_VEHICLE( l_U1523, l_U1526, 0, 0.40000000, 2.00000000, 0.80000000, 0.00000000, 0.00000000, 1, 0, 0, 1 );
        SET_PED_NAME_DEBUG( l_U1523, "piHELIFLYBY_04" );
        CLEAR_PED_TASKS( l_U1523 );
        SET_PED_CAN_BE_TARGETTED( l_U1523, 0 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1523, 1 );
        SET_PED_PROOFS( l_U1523, 1, 1, 1, 1, 1 );
        PED_ACTION_TREE_PLAY_NODE( l_U1523, "/Global/S_FAV2_HELI_DRIVER_CP02/S_FAV2_DRIVER/DRIVER" );
    }
    if (((IS_VEHICLE_DEAD( l_U1526 )) == 0) AND ((DOES_VEHICLE_EXIST( l_U1526 )) == 1))
    {
        START_PLAYBACK_RECORDED_VEHICLE( l_U1526, 296 );
        PAUSE_PLAYBACK_RECORDED_VEHICLE( l_U1526 );
    }
    l_U1474 = 1;
    sub_5590( l_U1330 );
    l_U1330 = sub_19093( ref l_U1265 );
    if (((IS_PED_DEAD( l_U1330 )) == 0) AND ((DOES_PED_EXIST( l_U1330 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U1330, "piRoofScramble1Male1" );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1330, 1 );
        SET_PED_AS_ONE_SHOT_KILL( l_U1330, 1 );
        uVar28 = sub_8825( l_U1330, g_U1310, 200, 0, 1 );
        SET_PED_MODEL_LOD_DISTANCES( l_U1265._fU16, 10.00000000, 80.00000000 );
        SET_BULLET_CAM_PREF( l_U1330, "ALL_LMS_01", "ALL_LMS_03", "ALL_LMS_05", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
    }
    sub_20614( l_U1330 );
    sub_5590( l_U1331 );
    l_U1331 = sub_19093( ref l_U1278 );
    if (((IS_PED_DEAD( l_U1331 )) == 0) AND ((DOES_PED_EXIST( l_U1331 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U1331, "piRoofScramble1Male2" );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1331, 1 );
        SET_PED_AS_ONE_SHOT_KILL( l_U1331, 1 );
        uVar29 = sub_8825( l_U1331, g_U1310, 200, 0, 1 );
        SET_BULLET_CAM_PREF( l_U1331, "ALL_LMS_01", "ALL_LMS_03", "ALL_LMS_05", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
        SET_PED_MODEL_LOD_DISTANCES( l_U1278._fU16, 10.00000000, 80.00000000 );
    }
    sub_20614( l_U1331 );
    sub_5590( l_U1332 );
    l_U1332 = sub_19093( ref l_U1291 );
    if (((IS_PED_DEAD( l_U1332 )) == 0) AND ((DOES_PED_EXIST( l_U1332 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U1332, "piRoofScramble1Male3" );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1332, 1 );
        SET_PED_AS_ONE_SHOT_KILL( l_U1332, 1 );
        uVar30 = sub_8825( l_U1332, g_U1310, 200, 0, 1 );
        SET_BULLET_CAM_PREF( l_U1332, "ALL_LMS_01", "ALL_LMS_03", "ALL_LMS_05", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
        SET_PED_MODEL_LOD_DISTANCES( l_U1291._fU16, 10.00000000, 80.00000000 );
    }
    sub_20614( l_U1332 );
    sub_5590( l_U1333 );
    l_U1333 = sub_19093( ref l_U1304 );
    if (((IS_PED_DEAD( l_U1333 )) == 0) AND ((DOES_PED_EXIST( l_U1333 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U1333, "piRoofScramble1Male4" );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1333, 1 );
        SET_PED_AS_ONE_SHOT_KILL( l_U1333, 1 );
        uVar31 = sub_8825( l_U1333, g_U1309, 200, 0, 1 );
        SET_BULLET_CAM_PREF( l_U1333, "ALL_LMS_01", "ALL_LMS_03", "ALL_LMS_05", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
        SET_PED_MODEL_LOD_DISTANCES( l_U1304._fU16, 10.00000000, 80.00000000 );
    }
    sub_20614( l_U1333 );
    sub_5590( l_U1334 );
    l_U1334 = sub_19093( ref l_U1317 );
    if (((IS_PED_DEAD( l_U1334 )) == 0) AND ((DOES_PED_EXIST( l_U1334 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U1334, "piRoofScramble1Male5" );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1334, 1 );
        SET_PED_AS_ONE_SHOT_KILL( l_U1334, 1 );
        uVar32 = sub_8825( l_U1334, g_U1308, 200, 0, 1 );
        SET_BULLET_CAM_PREF( l_U1334, "ALL_LMS_01", "ALL_LMS_03", "ALL_LMS_05", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
        SET_PED_MODEL_LOD_DISTANCES( l_U1317._fU16, 10.00000000, 80.00000000 );
    }
    sub_20614( l_U1334 );
    return;
}

void sub_33623(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, int iParam5, unknown uParam6, unknown uParam7)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a vehicle with MUST BE PRELOADED!!!!", 0 );
        sub_16712( uParam0, 1 );
    }
    Result = CREATE_VEHICLE( uParam0, uParam1, uParam4, uParam6, uParam7 );
    if (iParam5 == 1)
    {
        while ((DOES_VEHICLE_EXIST( Result )) == 0)
        {
            WAIT( 0 );
        }
    }
    if (DOES_VEHICLE_EXIST( Result ))
    {
        SET_PETROLTANK_BURN_RATE( Result, 125.00000000 );
    }
    return Result;
}

void sub_33973(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU12 = uParam4;
    iParam0->_fU16 = uParam5;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU48 = uParam10;
    return;
}

void sub_36559()
{
    sub_1970( "SP", "P_CREATE_DEAD_CS", 0 );
    sub_5590( l_U1395[0] );
    l_U1395[0] = sub_19093( ref l_U1342[0] );
    if (((IS_PED_DEAD( l_U1395[0] )) == 0) AND ((DOES_PED_EXIST( l_U1395[0] )) == 1))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1395[0], 1 );
        FREEZE_PED_POSITION( l_U1395[0], 1 );
        sub_36712( l_U1395[0] );
        FREEZE_PED_POSITION( l_U1395[0], 0 );
    }
    sub_5590( l_U1395[1] );
    l_U1395[1] = sub_19093( ref l_U1342[1] );
    if (((IS_PED_DEAD( l_U1395[1] )) == 0) AND ((DOES_PED_EXIST( l_U1395[1] )) == 1))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1395[1], 1 );
        SET_PED_CAN_BE_MELEED( l_U1395[1], 0 );
        SET_PED_CAN_BE_TARGETTED( l_U1395[1], 0 );
        STOP_PED_SPEAKING( l_U1395[1], 1 );
        SET_PED_AIM_LOCKONABLE( l_U1395[1], 0 );
        SET_COLLISION_BETWEEN_PEDS( l_U1395[1], 1 );
        SET_PED_STAND_GROUND_ON_PLAYER_IMPACT( l_U1395[1], 1 );
        SET_PED_AS_ONE_SHOT_KILL( l_U1395[1], 1 );
        PED_ACTION_TREE_PLAY_NODE( l_U1395[1], "/Global/S_FAV2_DEAD_CS/SEQ_START_Wall" );
    }
    sub_5590( l_U1395[2] );
    l_U1395[2] = sub_19093( ref l_U1342[2] );
    if (((IS_PED_DEAD( l_U1395[1] )) == 0) AND ((DOES_PED_EXIST( l_U1395[1] )) == 1))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1395[1], 1 );
        sub_36712( l_U1395[2] );
    }
    sub_5590( l_U1395[3] );
    l_U1395[3] = sub_19093( ref l_U1342[3] );
    if (((IS_PED_DEAD( l_U1395[1] )) == 0) AND ((DOES_PED_EXIST( l_U1395[1] )) == 1))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1395[1], 1 );
        FREEZE_PED_POSITION( l_U1395[3], 1 );
        sub_36712( l_U1395[3] );
        FREEZE_PED_POSITION( l_U1395[3], 0 );
    }
    sub_20195( ref l_U1395, "piDeadCS_" );
    return;
}

void sub_36712(unknown uParam0)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        STOP_PED_SPEAKING( uParam0, 1 );
        SET_PED_HEALTH( uParam0, 0, 0 );
        SET_PED_CORPSE( uParam0, 0 );
    }
    return;
}

void sub_37316()
{
    sub_17432( -1873929065, 1 );
    sub_5590( l_U1704 );
    l_U1704 = sub_19093( ref l_U1691 );
    if (((IS_PED_DEAD( l_U1704 )) == 0) AND ((DOES_PED_EXIST( l_U1704 )) == 1))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1704, 1 );
        SET_PED_NAME_DEBUG( l_U1704, "piBalconyRunner" );
        SET_PED_AS_ONE_SHOT_KILL( l_U1704, 1 );
        SET_BULLET_CAM_PREF( l_U1704, "ALL_LMS_01", "ALL_LMS_03", "ALL_LMS_05", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
    }
    sub_20614( l_U1704 );
    return;
}

void sub_37529()
{
    sub_1970( "NS", "P_CREATE_VIG_01()", 0 );
    sub_5816( ref l_U1739 );
    l_U1739[0] = sub_19093( ref l_U1712[0] );
    l_U1739[1] = sub_19093( ref l_U1712[1] );
    if (NOT (IS_PED_DEAD( l_U1739[0] )))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1739[0], 1 );
        sub_37669( ref l_U705, l_U1739[0], 1 );
        sub_8825( l_U1739[0], g_U1308, 25000, 0, 0 );
    }
    sub_37776( l_U1739[0], ref l_U1790 );
    if (NOT (IS_PED_DEAD( l_U1739[1] )))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1739[1], 1 );
        sub_37669( ref l_U705, l_U1739[1], 1 );
        sub_8825( l_U1739[1], g_U1308, 25000, 0, 0 );
    }
    sub_37776( l_U1739[1], ref l_U1790 );
    sub_20195( ref l_U1739, "piVIG_01" );
    sub_38324( ref l_U1739 );
    return;
}

void sub_37669(int iParam0, unknown uParam1, unknown uParam2)
{
    if (((IS_PED_DEAD( uParam1 )) == 0) AND ((DOES_PED_EXIST( uParam1 )) == 1))
    {
        SET_PED_TETHERING_ADD_BOX( uParam1, iParam0->_fU0 );
        SET_PED_TETHERING_OPTION( uParam1, uParam2 );
    }
    return;
}

void sub_37776(unknown uParam0, int iParam1)
{
    int iVar4;
    unknown uVar5;

    if ((DOES_GROUP_EXIST( iParam1->_fU0 )) == 0)
    {
        sub_8496( "[SP]### Warning!!! Group does not exist. Creating new group specified attributes. ###" );
        if (iParam1->_fU4 > 0)
        {
            sub_37919( iParam1, iParam1->_fU4, 0 );
        }
        else
        {
            sub_37919( iParam1, 1056964608, 0 );
        }
    }
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        GET_GROUP_SIZE( iParam1->_fU0, ref iVar4, ref uVar5 );
        if (iVar4 == 0)
        {
            SET_PED_AS_GROUP_LEADER( uParam0, iParam1->_fU0 );
        }
        else
        {
            SET_PED_AS_GROUP_MEMBER( uParam0, iParam1->_fU0 );
        }
        SET_PED_NEVER_LEAVES_GROUP( uParam0, 1 );
    }
    return;
}

void sub_37919(int iParam0, unknown uParam1, boolean bParam2)
{
    iParam0->_fU4 = uParam1;
    iParam0->_fU0 = CREATE_GROUP( 3, 1 );
    if (bParam2)
    {
        while (NOT (DOES_GROUP_EXIST( iParam0->_fU0 )))
        {
            WAIT( 0 );
        }
    }
    SET_GROUP_RATIO_FIRING_AT_VISIBLE( iParam0->_fU0, iParam0->_fU4 );
    SET_GROUP_RATIO_FIRING_AT_INVISIBLE( iParam0->_fU0, iParam0->_fU4 );
    if (iParam0->_fU8)
    {
        SET_GROUP_FORMATION( iParam0->_fU0, iParam0->_fU12 );
        SET_GROUP_FORMATION_SPACING( iParam0->_fU0, iParam0->_fU16 );
        SET_GROUP_FORMATION_MAX_MOVE_SPEED( iParam0->_fU0, iParam0->_fU20 );
    }
    return;
}

void sub_38324(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_20614( (uParam0^)[I] );
    }
    return;
}

void sub_38414(int iParam0, int iParam1, int iParam2, unknown uParam3)
{
    float fVar6;

    if ((sub_15277( iParam0 )) == 0)
    {
        sub_15343( iParam0 );
    }
    fVar6 = 0.00000000;
    if (iParam1 == 1)
    {
        fVar6 = uParam3;
    }
    else
    {
        fVar6 = -uParam3;
    }
    if (iParam2 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, fVar6 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar6 );
    }
    else
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar6 );
    }
    return;
}

void sub_38725(int iParam0, int iParam1, unknown uParam2)
{
    sub_1970( "CO", "CO_HANDLE_SAVEDATA : Saving Data", 0 );
    if ((g_U782 < iParam1) || (NOT iParam0->_fU0))
    {
        sub_1970( "CO", "CO_HANDLE_SAVEDATA : Saved Data", 0 );
        sub_38894( iParam0, iParam1, sub_2121(), g_U783[iParam1], g_U910[iParam1], g_U953[iParam1], g_U996[iParam1], uParam2 );
    }
    g_U782 = iParam1;
    sub_42524( g_U782 );
    return;
}

void sub_38894(int iParam0, int iParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, int iParam9)
{
    int iVar12;
    int iVar13;
    int iVar14;
    int iVar15;
    int iVar16;

    sub_1970( "GA", "Saving the player data for checkpoint - Start", 0 );
    if ((IS_PED_DEAD( uParam2 )) == 0)
    {
        sub_1970( "SP", "Saving to scripted data...", 0 );
        RESET_CHECKPOINT_ATTEMPTS();
        if (SCRIPT_VAR_EXISTS( "SV_SAVE_CNT" ))
        {
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", (SCRIPT_VAR_GET_INT( "SV_SAVE_CNT" )) + 1 );
        }
        else
        {
            SCRIPT_VAR_ADD_INT( "SV_SAVE_CNT" );
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", 1 );
        }
        sub_9481( iParam1 );
        sub_39153( iParam1 );
        iParam0->_fU52 = iParam1;
        iParam0->_fU4 = {uParam3};
        iParam0->_fU16 = uParam6;
        iParam0->_fU20 = uParam7;
        iParam0->_fU24 = uParam8;
        iParam0->_fU28 = GET_PED_HEALTH( uParam2 );
        iParam0->_fU56 = -1569615261;
        iParam0->_fU60 = -1569615261;
        iParam0->_fU64 = -1569615261;
        iParam0->_fU68 = -1569615261;
        iParam0->_fU72 = -1569615261;
        iParam0->_fU76 = 0;
        iParam0->_fU80 = 0;
        iParam0->_fU84 = 0;
        iParam0->_fU88 = 0;
        iParam0->_fU92 = 0;
        iVar12 = GET_WEAPON_FROM_HAND( uParam2, 0, 0 );
        iVar13 = GET_WEAPON_FROM_HAND( uParam2, 1, 0 );
        iVar14 = GET_WEAPON_FROM_HOLSTER( uParam2, 0 );
        iVar15 = GET_WEAPON_FROM_HOLSTER( uParam2, 1 );
        iVar16 = GET_WEAPON_FROM_HOLSTER( uParam2, 2 );
        if (GET_DOES_WEAPON_EXIST( iVar12 ))
        {
            iParam0->_fU68 = GET_WEAPON_TYPE( iVar12 );
            iParam0->_fU88 = (GET_WEAPON_AMMO( iVar12 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar12 ));
            sub_39604( iVar12, iParam0 + 120, iParam0 + 124 );
        }
        if (GET_DOES_WEAPON_EXIST( iVar13 ))
        {
            iParam0->_fU72 = GET_WEAPON_TYPE( iVar13 );
            iParam0->_fU92 = (GET_WEAPON_AMMO( iVar13 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar13 ));
            sub_39604( iVar13, iParam0 + 128, iParam0 + 132 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_39836( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar13 ) ))
                {
                    iParam0->_fU92 = GET_WEAPON_AMMO_IN_CLIP( iVar12 );
                }
            }
        }
        if ((iVar14 != iVar13) AND ((iVar14 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar14 ))))
        {
            iParam0->_fU56 = GET_WEAPON_TYPE( iVar14 );
            iParam0->_fU76 = (GET_WEAPON_AMMO( iVar14 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar14 ));
            sub_39604( iVar14, iParam0 + 96, iParam0 + 100 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_39836( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if (sub_39836( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
        }
        if ((iVar15 != iVar13) AND ((iVar15 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar15 ))))
        {
            iParam0->_fU60 = GET_WEAPON_TYPE( iVar15 );
            iParam0->_fU80 = (GET_WEAPON_AMMO( iVar15 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar15 ));
            sub_39604( iVar15, iParam0 + 104, iParam0 + 108 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_39836( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if (sub_39836( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if (sub_39836( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
        }
        if ((iVar16 != iVar13) AND ((iVar16 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar16 ))))
        {
            iParam0->_fU64 = GET_WEAPON_TYPE( iVar16 );
            iParam0->_fU84 = (GET_WEAPON_AMMO( iVar16 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar16 ));
            sub_39604( iVar16, iParam0 + 112, iParam0 + 116 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_39836( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if (sub_39836( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if (sub_39836( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar15 ))
            {
                if (sub_39836( GET_WEAPON_TYPE( iVar15 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
        }
        SAVE_PICKUPS();
        iParam0->_fU32 = GET_ADRENALINE_AMT();
        iParam0->_fU36 = GET_PAYNEKILLER_AMT();
        GET_TIME_OF_DAY( iParam0 + 40, iParam0 + 44 );
        iParam0->_fU140 = IS_TIME_OF_DAY_FROZEN();
        iParam0->_fU136 = GET_PED_SWEAT( uParam2 );
        if (iParam9 == 1)
        {
            if (IS_MAGDEMO() == 0)
            {
                ENABLE_CHECKPOINT_ICON();
            }
        }
        if (iParam1 >= 0)
        {
            sub_41394( iParam0 );
            iParam0->_fU0 = 1;
            if (IS_ARCADE_MODE_ACTIVE() == 0)
            {
                CHECKPOINT_STORAGE_SAVE( iParam0, g_U666, iParam0->_fU52 );
                REQUEST_SAVE();
            }
        }
        if (IS_ARCADE_MODE_ACTIVE())
        {
            UPDATE_ARCADE_CHECK_POINT( iParam0->_fU52 );
        }
    }
    else
    {
        SCRIPT_ASSERT( "Error: Player is dead while saving a checkpoint!!!", 0 );
    }
    sub_1970( "GA", "Saving the player data for checkpoint - End", 0 );
    return;
}

void sub_39153(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (iParam0 >= 0)
    {
        if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
        {
            uVar3 = sub_6843( ref uVar20 );
        }
        STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, iParam0 - 1 );
        sub_1970( "TEH", "Ending context", 0 );
        sub_1970( "TEH", "Ending context", 0 );
        END_CONTEXT( ref uVar4 );
    }
    return;
}

void sub_39604(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        CLEAR_BIT( uParam1, I );
        CLEAR_BIT( uParam2, I );
        if (IS_WEAPON_ATTACHMENT_ENABLED( uParam0, I ))
        {
            SET_BIT( uParam1, I );
            if (IS_WEAPON_ATTACHMENT_TOGGLED( uParam0, I ))
            {
                SET_BIT( uParam2, I );
            }
        }
    }
    return;
}

void sub_39836(int iParam0, int iParam1)
{
    int Result;

    Result = 0;
    if ((iParam0 == -612753081) || ((iParam0 == 68019059) || ((iParam0 == 456708483) || ((iParam0 == -862236369) || (iParam0 == 406496141)))))
    {
        if ((iParam1 == -612753081) || ((iParam1 == 68019059) || ((iParam1 == 456708483) || ((iParam1 == -862236369) || (iParam1 == 406496141)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 724901397) || ((iParam0 == 57534114) || ((iParam0 == 1308526797) || ((iParam0 == -1074756423) || (iParam0 == -1013714740)))))
    {
        if ((iParam1 == 724901397) || ((iParam1 == 57534114) || ((iParam1 == 1308526797) || ((iParam1 == -1074756423) || (iParam1 == -1013714740)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 514118749) || ((iParam0 == -184942895) || ((iParam0 == -168327769) || ((iParam0 == 1845102363) || (iParam0 == 434544317)))))
    {
        if ((iParam1 == 514118749) || ((iParam1 == -184942895) || ((iParam1 == -168327769) || ((iParam1 == 1845102363) || (iParam1 == 434544317)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -110877124) || (iParam0 == 319712764))
    {
        if ((iParam1 == -110877124) || (iParam1 == 319712764))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -1464892298) || ((iParam0 == 1194438308) || ((iParam0 == -1404433099) || ((iParam0 == 1478009203) || ((iParam0 == -691403429) || (iParam0 == 1964270085))))))
    {
        if ((iParam1 == -1464892298) || ((iParam1 == 1194438308) || ((iParam1 == -1404433099) || ((iParam1 == 1478009203) || ((iParam1 == -691403429) || (iParam1 == 1964270085))))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 10648147) || (iParam0 == 1224272620))
    {
        if ((iParam1 == 10648147) || (iParam1 == 1224272620))
        {
            Result = 1;
        }
    };;;;;;
    return Result;
}

void sub_41394(int iParam0)
{
    sub_8496( "CHECKPOINT DATA" );
    sub_41433( iParam0->_fU4 );
    sub_41456( iParam0->_fU16 );
    sub_41456( iParam0->_fU20 );
    sub_41456( iParam0->_fU24 );
    sub_41499( iParam0->_fU28 );
    sub_41499( iParam0->_fU56 );
    sub_41499( iParam0->_fU60 );
    sub_41499( iParam0->_fU64 );
    sub_41499( iParam0->_fU68 );
    sub_41499( iParam0->_fU72 );
    sub_41499( iParam0->_fU76 );
    sub_41499( iParam0->_fU80 );
    sub_41499( iParam0->_fU84 );
    sub_41499( iParam0->_fU88 );
    sub_41499( iParam0->_fU92 );
    sub_41456( iParam0->_fU32 );
    sub_41499( iParam0->_fU36 );
    sub_41499( iParam0->_fU40 );
    sub_41499( iParam0->_fU44 );
    sub_41456( iParam0->_fU136 );
    sub_41704( iParam0->_fU140 );
    sub_41499( iParam0->_fU52 );
    sub_8496( "---nRightHolsterAttachmentEnabled: " );
    sub_41499( iParam0->_fU96 );
    sub_8496( "---nRightHolsterAttachmentToggled: " );
    sub_41499( iParam0->_fU100 );
    sub_8496( "---nLeftHolsterAttachmentEnabled: " );
    sub_41499( iParam0->_fU104 );
    sub_8496( "---nLeftHolsterAttachmentToggled: " );
    sub_41499( iParam0->_fU108 );
    sub_8496( "---nRifleHolsterAttachmentEnabled: " );
    sub_41499( iParam0->_fU112 );
    sub_8496( "---nRifleHolsterAttachmentToggled: " );
    sub_41499( iParam0->_fU116 );
    sub_8496( "---nRightHandAttachmentEnabled: " );
    sub_41499( iParam0->_fU120 );
    sub_8496( "---nRightHandAttachmentToggled: " );
    sub_41499( iParam0->_fU124 );
    sub_8496( "---nLeftHandAttachmentEnabled: " );
    sub_41499( iParam0->_fU128 );
    sub_8496( "---nLeftHandAttachmentToggled: " );
    sub_41499( iParam0->_fU132 );
    sub_41499( g_U666 );
    sub_41499( 144 );
    return;
}

void sub_41433(unknown uParam0, unknown uParam1, unknown uParam2)
{
    return;
}

void sub_41456(unknown uParam0)
{
    return;
}

void sub_41499(unknown uParam0)
{
    return;
}

void sub_41704(boolean bParam0)
{
    if (bParam0)
    {
        ;
    }
    return;
}

void sub_42524(unknown uParam0)
{
    sub_1970( "CO", "P_SETUP_INITIAL_TIMECYCLE", 0 );
    switch (uParam0)
    {
        case 0:
        case 1:
        case 2:
        SET_WEATHER_TYPE_NOW_PERSIST( "SUNNY" );
        FREEZE_TIME_OF_DAY( 19, 0 );
        break;
        case 3:
        SET_WEATHER_TYPE_NOW_PERSIST( "SUNNY" );
        FREEZE_TIME_OF_DAY( 20, 0 );
        break;
        case 4:
        SET_WEATHER_TYPE_NOW_PERSIST( "SUNNY" );
        FREEZE_TIME_OF_DAY( 20, 10 );
        break;
        case 5:
        if (g_U1046 == 1)
        {
            sub_1970( "kja", "MCE_UFE_RUN bTimeofDayReleased = TRUE", 0 );
            FREEZE_TIME_OF_DAY( 20, 10 );
            break;
        }
        sub_1970( "kja", "MCE_UFE_RUN bTimeofDayReleased = FALSE: SO WE're SETTING WEATHER AND TOD TO 20:20", 0 );
        SET_WEATHER_TYPE_NOW_PERSIST( "DRIZZLE" );
        SET_PUDDLES( 0.11000000, 0.07000000, 0.11000000, 0.51300000 );
        FREEZE_TIME_OF_DAY( 20, 10 );
        case 6:
        case 7:
        case 8:
        if (g_U1046 == 1)
        {
            ;
        }
        else
        {
            SET_WEATHER_TYPE_NOW_PERSIST( "DRIZZLE" );
            SET_PUDDLES( 0.11000000, 0.07000000, 0.11000000, 0.51300000 );
            FREEZE_TIME_OF_DAY( 21, 0 );
        }
        break;
        case 9:
        SET_WEATHER_TYPE_NOW_PERSIST( "DRIZZLE" );
        SET_PUDDLES( 0.11000000, 0.07000000, 0.11000000, 0.51300000 );
        FREEZE_TIME_OF_DAY( 21, 0 );
        break;
        case 10:
        SET_WEATHER_TYPE_NOW_PERSIST( "DRIZZLE" );
        SET_PUDDLES( 0.11000000, 0.07000000, 0.11000000, 0.51300000 );
        FREEZE_TIME_OF_DAY( 22, 0 );
        break;
        default:
        FREEZE_TIME_OF_DAY( 19, 0 );
        break;
    }
    return;
}

void sub_43205()
{
    if ((NOT (IS_PED_DEAD( l_U1395[1] ))) AND (DOES_PED_EXIST( l_U1395[1] )))
    {
        SHOOT_SINGLE_BULLET_BETWEEN_COORDS( -83.08229000, 71.86590000, 25.80556000, -83.95000000, 69.81000000, 25.10000000, 100, 0, g_U1308, 0 );
        SHOOT_SINGLE_BULLET_BETWEEN_COORDS( -83.08229000, 71.86590000, 25.80556000, -83.85000000, 69.73000000, 25.40000000, 100, 0, g_U1308, 0 );
    }
    return;
}

void sub_43969()
{
    sub_1970( "SA", "P_CREATE_00A_DOOR_PEEK", 0 );
    sub_5590( l_U828 );
    l_U828 = sub_19093( ref l_U829 );
    if (NOT (IS_PED_DEAD( l_U828 )))
    {
        SET_PED_NAME_DEBUG( l_U828, "pi00ADOOR_PEEK" );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U828, 1 );
        ISEQ_REGISTER_ENTITY( -1344695955, "CIV", l_U828, 0 );
    }
    sub_5702( l_U846 );
    l_U846 = sub_21061( -1006708222, l_U847, l_U850, 0, 1, 0 );
    if (DOES_OBJECT_EXIST( l_U846 ))
    {
        FREEZE_OBJECT_POSITION( l_U846, 1 );
        ISEQ_REGISTER_ENTITY( -1344695955, "DOOR", l_U846, 1 );
    }
    ISEQ_START( -1344695955 );
    return;
}

void sub_44240()
{
    sub_1970( "ka", "P_CREATE_00B_FirstWindow", 0 );
    sub_5590( l_U937 );
    l_U937 = sub_19093( ref l_U938 );
    sub_5702( l_U955 );
    l_U955 = sub_21061( 2072171637, l_U956, l_U959, 0, 1, 0 );
    if (DOES_OBJECT_EXIST( l_U955 ))
    {
        FREEZE_OBJECT_POSITION( l_U955, 1 );
    }
    sub_5702( l_U962 );
    l_U962 = sub_21061( 1678648716, l_U963, l_U966, 0, 1, 0 );
    if (DOES_OBJECT_EXIST( l_U962 ))
    {
        FREEZE_OBJECT_POSITION( l_U962, 1 );
    }
    if (NOT (IS_PED_DEAD( l_U937 )))
    {
        SET_PED_NAME_DEBUG( l_U937, "pi00BFirstWindow" );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U937, 1 );
        SET_PED_AS_ONE_SHOT_KILL( l_U937, 1 );
        ISEQ_REGISTER_ENTITY( 209679190, "CIV2", l_U937, 0 );
        ISEQ_REGISTER_ENTITY( 209679190, "SHUTTERA1", l_U955, 1 );
        ISEQ_REGISTER_ENTITY( 209679190, "SHUTTERB1", l_U962, 1 );
        ISEQ_START( 209679190 );
    }
    return;
}

void sub_44635()
{
    sub_1970( "ka", "P_CREATE_00B_DOOR_PEEK", 0 );
    sub_5590( l_U862 );
    l_U862 = sub_19093( ref l_U863 );
    if (NOT (IS_PED_DEAD( l_U862 )))
    {
        SET_PED_NAME_DEBUG( l_U862, "pi00BDOOR_PEEK" );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U862, 1 );
        ISEQ_REGISTER_ENTITY( 391883775, "CIV1", l_U862, 0 );
    }
    sub_5702( l_U880 );
    l_U880 = sub_21061( 694578091, l_U881, l_U884, 0, 1, 0 );
    if (DOES_OBJECT_EXIST( l_U880 ))
    {
        FREEZE_OBJECT_POSITION( l_U880, 1 );
        ISEQ_REGISTER_ENTITY( 391883775, "DOOR1", l_U880, 1 );
    }
    ISEQ_START( 391883775 );
    return;
}

void sub_44908()
{
    sub_1970( "SA", "P_CREATE_00B_DOOR_02", 0 );
    sub_5590( l_U751 );
    l_U751 = sub_19093( ref l_U752 );
    sub_5702( l_U769 );
    l_U769 = sub_21061( -1006708222, l_U770, l_U773, 0, 1, 0 );
    if (DOES_OBJECT_EXIST( l_U769 ))
    {
        FREEZE_OBJECT_POSITION( l_U769, 1 );
    }
    if (NOT (IS_PED_DEAD( l_U751 )))
    {
        SET_BULLET_CAM_PREF( l_U751, "ALL_LMS_01", "ALL_LMS_03", "ALL_LMS_05", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
        SET_PED_NAME_DEBUG( l_U751, "pi00BDOOR_02" );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U751, 1 );
        ISEQ_REGISTER_ENTITY( 1642996674, "CIV", l_U751, 0 );
        ISEQ_REGISTER_ENTITY( 1642996674, "DOOR", l_U769, 1 );
        ISEQ_START( 1642996674 );
    }
    return;
}

void sub_45317()
{
    vector vVar2;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;

    sub_1970( "SP", "P_SETUP_HELI_FLYBY_01", 0 );
    vVar2 = {-145.38000000, 147.01700000, 12.52000000};
    sub_6055( l_U1478 );
    l_U1478 = sub_33623( 1232833631, vVar2, 0.00000000, 0, 0, 0 );
    if (((IS_VEHICLE_DEAD( l_U1478 )) == 0) AND ((DOES_VEHICLE_EXIST( l_U1478 )) == 1))
    {
        SET_VEHICLE_PROOFS( l_U1478, 1, 1, 1, 1, 1 );
        SET_VEHICLE_ENGINE_ON( l_U1478, 1, 1 );
        SET_VEHICLE_LIGHTS( l_U1478, 2 );
        SET_HELI_BLADES_FULL_SPEED( l_U1478 );
        SET_VEHICLE_COLOUR_COMBINATION( l_U1478, 0 );
        SET_LOAD_COLLISION_FOR_VEHICLE_FLAG( l_U1478, 0 );
    }
    sub_33973( ref uVar5, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( l_U1478 ), 0.00000000, 1686109657, 7, 3, 2, 0, 0 );
    sub_5590( l_U1479 );
    l_U1479 = sub_19093( ref uVar5 );
    if (((IS_VEHICLE_DEAD( l_U1478 )) == 0) AND ((DOES_VEHICLE_EXIST( l_U1478 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U1479, "piHeliDriver" );
        SET_PED_INTO_VEHICLE( l_U1479, l_U1478, -1 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1479, 1 );
        SET_PED_VISIBLE( l_U1479, 0 );
        SET_PED_COMBAT_ATTRIBUTES( l_U1479, 2, 0 );
        SET_PED_PROOFS( l_U1479, 1, 1, 1, 1, 1 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( l_U1479, 0 );
        SET_PED_AIM_LOCKONABLE( l_U1479, 0 );
    }
    sub_5590( l_U1495 );
    sub_11179( ref l_U1482, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( l_U1478 ), 0.00000000, -58376829, 7, 3, 2, 0, 0 );
    l_U1495 = sub_19093( ref l_U1482 );
    if (NOT (IS_PED_DEAD( l_U1495 )))
    {
        ATTACH_PED_TO_VEHICLE( l_U1495, l_U1478, 0, 0.40000000, 2.00000000, 0.80000000, 0.00000000, 0.00000000, 1, 0, 0, 1 );
        SET_PED_NAME_DEBUG( l_U1495, "piHeliFlyby2" );
        CLEAR_PED_TASKS( l_U1495 );
        SET_PED_CAN_BE_TARGETTED( l_U1495, 0 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1495, 1 );
        SET_PED_PROOFS( l_U1495, 1, 1, 1, 1, 1 );
        PED_ACTION_TREE_PLAY_NODE( l_U1495, "/Global/S_FAV2_HELI_DRIVER_CP02/S_FAV2_DRIVER/DRIVER" );
    }
    if (((IS_VEHICLE_DEAD( l_U1478 )) == 0) AND ((DOES_VEHICLE_EXIST( l_U1478 )) == 1))
    {
        START_PLAYBACK_RECORDED_VEHICLE( l_U1478, 122 );
        SKIP_TIME_IN_PLAYBACK_RECORDED_VEHICLE( l_U1478, 3000 );
    }
    l_U1475 = 1;
    return;
}

void sub_46160()
{
    sub_46175( l_U1704 );
    ISEQ_REGISTER_ENTITY( -1873929065, "csrunner4", l_U1704, 0 );
    ISEQ_START( -1873929065 );
    l_U1705 = 1;
    return;
}

void sub_46175(unknown uParam0)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_FREEZE_PROCESSING( uParam0, 0 );
        SET_PED_VISIBLE( uParam0, 1 );
        SET_PED_VISIBLE_DURING_SEQUENCE( uParam0, 1 );
        FREEZE_PED_POSITION( uParam0, 0 );
        SET_PED_COLLISION( uParam0, 1 );
        SET_PED_PROOFS( uParam0, 0, 0, 0, 0, 0 );
    }
    return;
}

int sub_46583()
{
    if (NOT (IS_PED_DEAD( l_U1739[0] )))
    {
        if (IS_PED_ON_SCREEN( l_U1739[0], 1 ))
        {
            return 1;
        }
    }
    if (NOT (IS_PED_DEAD( l_U1739[1] )))
    {
        if (IS_PED_ON_SCREEN( l_U1739[1], 1 ))
        {
            return 1;
        }
    }
    return 0;
}

void sub_46699()
{
    sub_1970( "NS", "P_VIG_01_ACTION()", 0 );
    sub_46744( ref l_U1739 );
    if (NOT (IS_PED_DEAD( l_U1739[0] )))
    {
        sub_20525( l_U1739[0], l_U1712[0]._fU0, l_U1712[0]._fU12 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1739[0], 0 );
        TASK_ATTACK_MOVE( l_U1739[0], -124.63000000, 117.57000000, 10.92000000, 10, 20, -1, 3 );
        ISEQ_REGISTER_ENTITY( 1934821569, "UFE1", l_U1739[0], 0 );
    }
    if (NOT (IS_PED_DEAD( l_U1739[1] )))
    {
        sub_20525( l_U1739[1], l_U1712[1]._fU0, l_U1712[1]._fU12 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1739[1], 0 );
        TASK_ATTACK_MOVE( l_U1739[1], -124.63000000, 117.57000000, 10.92000000, 10, 20, -1, 3 );
        ISEQ_REGISTER_ENTITY( 1934821569, "UFE2", l_U1739[1], 0 );
    }
    ISEQ_START( 1934821569 );
    return;
}

void sub_46744(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_46175( (uParam0^)[I] );
    }
    return;
}

void sub_47175()
{
    sub_28934();
    sub_47190();
    sub_48107();
    sub_48919();
    sub_51321();
    sub_51829();
    sub_52439();
    sub_52942();
    sub_53091();
    sub_53240();
    sub_53529();
    sub_53936();
    sub_54087();
    sub_54238();
    sub_54394();
    if (l_U1340 == 0)
    {
        if (l_U1341 == 1)
        {
            sub_54576();
            l_U136 = 1;
            sub_1970( "SP", "eHeliBombsState = HELI_BOMBS_01", 0 );
            l_U1340 = 1;
        }
    }
    return;
}

void sub_47190()
{
    boolean bVar2;
    int I;
    vector vVar4;
    vector vVar7;
    vector vVar10;
    vector vVar13;
    vector vVar16;
    unknown uVar19;

    bVar2 = false;
    if (l_U1653)
    {
        for ( I = 0; I < l_U1612; I++ )
        {
            if (DOES_PED_EXIST( l_U1612[I] ))
            {
                if ((IS_PED_DEAD( l_U1612[I] )) || (IS_PED_INJURED( l_U1612[I] )))
                {
                    if (NOT ((I == 1) AND (l_U1648)))
                    {
                        bVar2 = true;
                        l_U1650 = 1;
                        l_U1651 = 1;
                        l_U1652 = 1;
                    }
                }
            }
        }
        if (bVar2)
        {
            sub_1970( "CO", "Terminate ", "^^^^^^^^^^^" );
            vVar4 = {-97.18000000, 74.47000000, 25.30000000};
            vVar7 = {-101.20000000, 74.01000000, 25.30000000};
            vVar10 = {-91.47000000, 77.83000000, 22.75000000};
            vVar13 = {-100.05000000, 80.19000000, 22.75000000};
            vVar16 = {-99.16000000, 84.15000000, 22.75000000};
            OPEN_SEQUENCE_TASK( ref uVar19 );
            if (NOT (IS_PED_DEAD( sub_2121() )))
            {
                TASK_GO_TO_COORD_WHILE_AIMING_AT_COORD( 0, vVar4, -88.18000000, 75.34000000, 23.98000000, 3, 1, 1056964608, 0, 1, 0 );
                TASK_GO_TO_COORD_WHILE_AIMING_AT_COORD( 0, vVar7, -88.18000000, 75.34000000, 23.98000000, 3, 0, 1056964608, 0, 1, 0 );
                TASK_STAND_STILL( 0, -1 );
            }
            CLOSE_SEQUENCE_TASK( uVar19 );
            if (NOT (IS_PED_DEAD( l_U1612[0] )))
            {
                if (NOT (sub_22575( l_U1612[0], l_U222 )))
                {
                    CLEAR_PED_TASKS( l_U1612[0] );
                    TASK_PERFORM_SEQUENCE( l_U1612[0], uVar19 );
                    PED_SET_ACTION_INTENTION( l_U1612[0], 48, 1000, 0.00000000, 0.00000000, 0.00000000 );
                }
            }
            CLEAR_SEQUENCE_TASK( uVar19 );
            OPEN_SEQUENCE_TASK( ref uVar19 );
            if ((IS_PED_DEAD( sub_2121() )) == 0)
            {
                TASK_SHOOT_AT_PED( 0, sub_2121(), 2000, 0, 0, 0, 0 );
                TASK_GO_TO_COORD_WHILE_AIMING_AT_PED( 0, vVar10, sub_2121(), 3, 1, 1056964608, 0, 1, 0 );
                TASK_GO_TO_COORD_WHILE_AIMING_AT_PED( 0, vVar13, sub_2121(), 3, 1, 1056964608, 0, 1, 0 );
                TASK_GO_STRAIGHT_TO_COORD( 0, vVar16, 3, -1 );
            }
            CLOSE_SEQUENCE_TASK( uVar19 );
            if (NOT (IS_PED_DEAD( sub_2121() )))
            {
                if (NOT (IS_PED_DEAD( l_U1612[2] )))
                {
                    TASK_PERFORM_SEQUENCE( l_U1612[2], uVar19 );
                    PED_SET_ACTION_INTENTION( l_U1612[2], 48, 10000, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( sub_2121() ) );
                }
                if (NOT (IS_PED_DEAD( l_U1612[3] )))
                {
                    TASK_PERFORM_SEQUENCE( l_U1612[3], uVar19 );
                    PED_SET_ACTION_INTENTION( l_U1612[3], 48, 10000, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( sub_2121() ) );
                }
                if (NOT (IS_PED_DEAD( l_U1612[4] )))
                {
                    TASK_PERFORM_SEQUENCE( l_U1612[4], uVar19 );
                    PED_SET_ACTION_INTENTION( l_U1612[4], 48, 10000, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( sub_2121() ) );
                }
            }
            CLEAR_SEQUENCE_TASK( uVar19 );
            l_U1653 = 0;
        }
    }
    return;
}

void sub_48107()
{
    unknown uVar2;

    switch (l_U134)
    {
        case 0: break;
        case 1:
        sub_1970( "SP", "issAlleyRunState = ISS_LOADING", 0 );
        sub_5590( l_U1676 );
        l_U1676 = sub_19093( ref l_U1663 );
        if (((IS_PED_DEAD( l_U1676 )) == 0) AND ((DOES_PED_EXIST( l_U1676 )) == 1))
        {
            SET_PED_NAME_DEBUG( l_U1676, "piPedAlleyMale" );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1676, 1 );
            SET_PED_COMBAT_MOVEMENT( l_U1676, 1 );
            sub_8825( l_U1676, g_U1311, 25000, 0, 0 );
        }
        sub_20525( l_U1676, -93.26560000, 67.94740000, 22.74940000, -22.88550000 );
        ISEQ_REGISTER_ENTITY( 698501614, "pedalley_male", l_U1676, 0 );
        ISEQ_START( 698501614 );
        l_U134 = 2;
        sub_1970( "SP", "issAlleyRunState = ISS_PLAYING", 0 );
        break;
        case 2:
        if (((IS_PED_DEAD( l_U1676 )) == 0) AND ((DOES_PED_EXIST( l_U1676 )) == 1))
        {
            if ((PED_GET_ACTION_INTENTION_STATUS( l_U1676, 47 )) == 3)
            {
                sub_1970( "co", "Terminated issAlleyRunState", "***************" );
                SET_PED_COLLISION( l_U1676, 1 );
                OPEN_SEQUENCE_TASK( ref uVar2 );
                TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
                TASK_GO_STRAIGHT_TO_COORD( 0, -100.05000000, 80.68000000, 22.75000000, 3, -1 );
                TASK_GO_STRAIGHT_TO_COORD( 0, l_U1638, 3, -1 );
                CLOSE_SEQUENCE_TASK( uVar2 );
                TASK_PERFORM_SEQUENCE( l_U1676, uVar2 );
                CLEAR_SEQUENCE_TASK( uVar2 );
                l_U134 = 3;
                sub_1970( "SP", "issAlleyRunState = ISS_FINISHED", 0 );
            }
        }
        break;
        case 3:
        if (((IS_PED_DEAD( l_U1676 )) == 0) AND ((DOES_PED_EXIST( l_U1676 )) == 1))
        {
            if ((sub_22575( l_U1676, l_U243 )) == 1)
            {
                ISEQ_UNREGISTER_ENTITY( 698501614, "pedalley_male" );
                ISEQ_TERMINATE( 698501614 );
                sub_5590( l_U1676 );
                l_U134 = 0;
                sub_1970( "SP", "issAlleyRunState = ISS_IDLE", 0 );
            }
        }
        break;
    }
    return;
}

void sub_48919()
{
    switch (l_U135)
    {
        case 0:
        if (sub_3179( ref l_U1537 ))
        {
            if (((IS_VEHICLE_DEAD( l_U1524 )) == 0) AND ((DOES_VEHICLE_EXIST( l_U1524 )) == 1))
            {
                STOP_PLAYBACK_RECORDED_VEHICLE( l_U1524 );
                START_PLAYBACK_RECORDED_VEHICLE( l_U1524, 297 );
            }
            sub_3716( ref l_U1537 );
            sub_2923( ref l_U1537, 6000, 1, 0 );
            sub_3059( ref l_U1537 );
        }
        break;
        case 1:
        sub_1970( "SP", "issRoofScrambleState = ISS_LOADING", 0 );
        sub_46175( l_U1330 );
        sub_46175( l_U1331 );
        sub_46175( l_U1332 );
        sub_46175( l_U1333 );
        sub_46175( l_U1334 );
        sub_20525( l_U1330, l_U1245, l_U1248 );
        sub_20525( l_U1331, l_U1249, l_U1252 );
        sub_20525( l_U1332, l_U1253, l_U1256 );
        sub_20525( l_U1333, l_U1257, l_U1260 );
        sub_20525( l_U1334, l_U1261, l_U1264 );
        ISEQ_REGISTER_ENTITY( 337545548, "rfscrm1_male1", l_U1330, 0 );
        ISEQ_REGISTER_ENTITY( 337545548, "rfscrm1_male2", l_U1331, 0 );
        ISEQ_REGISTER_ENTITY( 337545548, "rfscrm1_male3", l_U1332, 0 );
        ISEQ_REGISTER_ENTITY( 337545548, "rfscrm1_male4", l_U1333, 0 );
        ISEQ_REGISTER_ENTITY( 337545548, "rfscrm1_male5", l_U1334, 0 );
        ISEQ_START( 337545548 );
        if (((IS_VEHICLE_DEAD( l_U1526 )) == 0) AND ((DOES_VEHICLE_EXIST( l_U1526 )) == 1))
        {
            PLAY_SCRIPT_STREAM_FROM_VEHICLE( l_U1526, 0 );
            UNPAUSE_PLAYBACK_RECORDED_VEHICLE( l_U1526 );
        }
        l_U135 = 2;
        sub_1970( "SP", "issRoofScrambleState = ISS_PLAYING", 0 );
        break;
        case 2:
        if (sub_3179( ref l_U1537 ))
        {
            if (((IS_VEHICLE_DEAD( l_U1524 )) == 0) AND ((DOES_VEHICLE_EXIST( l_U1524 )) == 1))
            {
                sub_3716( ref l_U1537 );
                STOP_PLAYBACK_RECORDED_VEHICLE( l_U1524 );
                START_PLAYBACK_RECORDED_VEHICLE( l_U1524, 298 );
            }
        }
        if (l_U1335 == 0)
        {
            if (((IS_PED_DEAD( l_U1330 )) == 0) AND ((DOES_PED_EXIST( l_U1330 )) == 1))
            {
                if (((sub_22575( l_U1330, l_U306 )) == 1) || ((PED_GET_ACTION_INTENTION_STATUS( l_U1330, 47 )) == 3))
                {
                    sub_1970( "SP", "rfscrm1_male1 is being deleted", 0 );
                    ISEQ_UNREGISTER_ENTITY( 337545548, "rfscrm1_male1" );
                    sub_5590( l_U1330 );
                    l_U1335 = 1;
                }
            }
        }
        if (l_U1336 == 0)
        {
            if (((IS_PED_DEAD( l_U1331 )) == 0) AND ((DOES_PED_EXIST( l_U1331 )) == 1))
            {
                if (((sub_22575( l_U1331, l_U306 )) == 1) || ((PED_GET_ACTION_INTENTION_STATUS( l_U1331, 47 )) == 3))
                {
                    sub_1970( "SP", "rfscrm1_male2 is being deleted", 0 );
                    ISEQ_UNREGISTER_ENTITY( 337545548, "rfscrm1_male2" );
                    sub_5590( l_U1331 );
                    l_U1336 = 1;
                }
            }
        }
        if (l_U1337 == 0)
        {
            if (((IS_PED_DEAD( l_U1332 )) == 0) AND ((DOES_PED_EXIST( l_U1332 )) == 1))
            {
                if (((sub_22575( l_U1332, l_U348 )) == 1) || ((PED_GET_ACTION_INTENTION_STATUS( l_U1332, 47 )) == 3))
                {
                    sub_1970( "SP", "rfscrm1_male3 is being deleted", 0 );
                    ISEQ_UNREGISTER_ENTITY( 337545548, "rfscrm1_male3" );
                    sub_5590( l_U1332 );
                    l_U1337 = 1;
                }
            }
        }
        if (l_U1338 == 0)
        {
            if (((IS_PED_DEAD( l_U1333 )) == 0) AND ((DOES_PED_EXIST( l_U1333 )) == 1))
            {
                if (((sub_22575( l_U1333, l_U327 )) == 1) || ((PED_GET_ACTION_INTENTION_STATUS( l_U1333, 47 )) == 3))
                {
                    sub_1970( "SP", "rfscrm1_male4 is being deleted", 0 );
                    ISEQ_UNREGISTER_ENTITY( 337545548, "rfscrm1_male4" );
                    sub_5590( l_U1333 );
                    l_U1338 = 1;
                }
            }
        }
        if (l_U1339 == 0)
        {
            if (((IS_PED_DEAD( l_U1334 )) == 0) AND ((DOES_PED_EXIST( l_U1334 )) == 1))
            {
                if (((sub_22575( l_U1334, l_U327 )) == 1) || ((PED_GET_ACTION_INTENTION_STATUS( l_U1334, 47 )) == 3))
                {
                    sub_1970( "SP", "rfscrm1_male5 is being deleted", 0 );
                    ISEQ_UNREGISTER_ENTITY( 337545548, "rfscrm1_male5" );
                    sub_5590( l_U1334 );
                    l_U1339 = 1;
                }
            }
        }
        if ((ISEQ_IS_LOADED( 337545548 )) == 0)
        {
            l_U135 = 3;
        }
        break;
        case 3:
        l_U1341 = 1;
        sub_50588();
        sub_1970( "SP", "issRoofScrambleState = ISS_FINISHED", 0 );
        l_U135 = 0;
        break;
    }
    return;
}

void sub_50588()
{
    sub_1970( "SP", "P_CREATE_ROOFTOP_CIVILIANS", 0 );
    sub_5590( l_U1454 );
    l_U1454 = sub_19093( ref l_U1441 );
    sub_50676( l_U1454, g_U1309, 1, 1, 1, 0 );
    if ((NOT (IS_PED_DEAD( l_U1454 ))) AND (DOES_PED_EXIST( l_U1454 )))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1454, 1 );
        FREEZE_PED_POSITION( l_U1454, 1 );
        SET_PED_FREEZE_PROCESSING( l_U1454, 1 );
        SET_PED_CAN_BE_TARGETTED( l_U1454, 0 );
        SET_PED_AIM_LOCKONABLE( l_U1454, 0 );
        SET_BULLET_CAM_PREF( l_U1454, "ALL_LMS_01", "ALL_LMS_03", "ALL_LMS_05", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
        SET_PED_NAME_DEBUG( l_U1454, "piRooftopUFE" );
    }
    sub_5590( l_U1440 );
    l_U1440 = sub_19093( ref l_U1427 );
    if ((NOT (IS_PED_DEAD( l_U1440 ))) AND (DOES_PED_EXIST( l_U1440 )))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1440, 1 );
        FREEZE_PED_POSITION( l_U1440, 1 );
        SET_PED_FREEZE_PROCESSING( l_U1440, 1 );
        SET_PED_CAN_BE_TARGETTED( l_U1440, 0 );
        SET_PED_AIM_LOCKONABLE( l_U1440, 0 );
        SET_BULLET_CAM_PREF( l_U1440, "ALL_LMS_01", "ALL_LMS_03", "ALL_LMS_05", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
        SET_PED_NAME_DEBUG( l_U1440, "piRooftopCivFemale01" );
    }
    sub_2923( ref l_U1455, 3000, 1, 0 );
    sub_3059( ref l_U1455 );
    return;
}

void sub_50676(unknown uParam0, unknown uParam1, boolean bParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    unknown Result;

    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        if (bParam2)
        {
            Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, 25000, 0 );
        }
        if ((NOT (ARE_STRINGS_EQUAL( uParam5, "" ))) || (NOT (IS_STRING_NULL( uParam5 ))))
        {
            if (GET_DOES_WEAPON_EXIST( Result ))
            {
                SET_WEAPON_LIGHT_DATA_BY_NAME( Result, "Flashlight_Default" );
            }
        }
        SET_PED_COMBAT_MOVEMENT( uParam0, uParam3 );
    }
    return Result;
}

void sub_51321()
{
    unknown uVar2;

    if (l_U1153)
    {
        if (sub_3179( ref l_U1455 ))
        {
            if ((NOT (IS_PED_DEAD( l_U1440 ))) AND (DOES_PED_EXIST( l_U1440 )))
            {
                FREEZE_PED_POSITION( l_U1440, 0 );
                SET_PED_FREEZE_PROCESSING( l_U1440, 0 );
                SET_PED_CAN_BE_TARGETTED( l_U1440, 1 );
                SET_PED_AIM_LOCKONABLE( l_U1440, 1 );
                ISEQ_REGISTER_ENTITY( -4482154, "flee_female", l_U1440, 0 );
                ISEQ_START( -4482154 );
            }
            if ((NOT (IS_PED_DEAD( l_U1454 ))) AND (DOES_PED_EXIST( l_U1454 )))
            {
                FREEZE_PED_POSITION( l_U1454, 0 );
                SET_PED_FREEZE_PROCESSING( l_U1454, 0 );
                SET_PED_CAN_BE_TARGETTED( l_U1454, 1 );
                SET_PED_AIM_LOCKONABLE( l_U1454, 1 );
                REGISTER_TARGET( l_U1454, l_U1440 );
                OPEN_SEQUENCE_TASK( ref uVar2 );
                TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
                if (NOT (IS_PED_DEAD( sub_2121() )))
                {
                    TASK_STAND_STILL( 0, 3500 );
                    TASK_GO_STRAIGHT_TO_COORD( 0, -87.18000000, 123.21000000, 19.61000000, 2, 20000 );
                    TASK_SHOOT_AT_PED( 0, l_U1440, 2000, 0, 0, 0, 0 );
                    TASK_GO_STRAIGHT_TO_COORD( 0, -84.96000000, 122.98000000, 19.64000000, 2, 20000 );
                }
                CLOSE_SEQUENCE_TASK( uVar2 );
                TASK_PERFORM_SEQUENCE( l_U1454, uVar2 );
                CLEAR_SEQUENCE_TASK( uVar2 );
            }
            sub_2923( ref l_U1464, 6500, 1, 0 );
            sub_3059( ref l_U1464 );
        }
        if (sub_3179( ref l_U1464 ))
        {
            if ((NOT (IS_PED_DEAD( l_U1440 ))) AND (DOES_PED_EXIST( l_U1440 )))
            {
                sub_36712( l_U1440 );
            }
            l_U1340 = 0;
        }
    }
    return;
}

void sub_51829()
{
    switch (l_U136)
    {
        case 0: break;
        case 1:
        if ((sub_3179( ref l_U1528 )) == 1)
        {
            ADD_EXPLOSION( -90.08000000, 117.53000000, 17.23000000, 0, 1, 1, 0, 1065353216 );
            sub_2923( ref l_U1528, 2000, 1, 0 );
            sub_3059( ref l_U1528 );
            l_U136 = 2;
            sub_1970( "SP", "eHeliBombsState = HELI_BOMBS_02", 0 );
        }
        break;
        case 2:
        if ((sub_3179( ref l_U1528 )) == 1)
        {
            sub_2923( ref l_U1528, 2000, 1, 0 );
            sub_3059( ref l_U1528 );
            l_U136 = 3;
            sub_1970( "SP", "eHeliBombsState = HELI_BOMBS_03", 0 );
        }
        break;
        case 3:
        if ((sub_3179( ref l_U1528 )) == 1)
        {
            ADD_EXPLOSION( -84.76000000, 133.73000000, 23.68000000, 0, 1, 1, 0, 1065353216 );
            l_U136 = 4;
            sub_1970( "SP", "eHeliBombsState = HELI_BOMBS_DONE", 0 );
        }
        break;
        case 4:
        if (((IS_VEHICLE_DEAD( l_U1478 )) == 0) AND ((DOES_VEHICLE_EXIST( l_U1478 )) == 1))
        {
            if ((IS_PLAYBACK_GOING_ON_FOR_VEHICLE( l_U1478 )) == 0)
            {
                sub_1970( "NS", "IS_PLAYBACK_GOING_ON_FOR_VEHICLE(viHeli) = FALSE", 0 );
                sub_5590( l_U1479 );
                sub_6055( l_U1478 );
                l_U818 = 1;
                l_U776 = 1;
                l_U136 = 0;
                sub_1970( "SP", "eHeliBombsState = HELI_BOMBS_IDLE", 0 );
            }
        }
        break;
    }
    return;
}

void sub_52439()
{
    if ((sub_3179( ref l_U1415 )) == 1)
    {
        if ((NOT (IS_PED_DEAD( l_U1413 ))) AND (DOES_PED_EXIST( l_U1413 )))
        {
            sub_36712( l_U1413 );
            sub_52512( 1987392575, 1 );
        }
    }
    if (((IS_PED_DEAD( sub_2121() )) == 0) AND (((IS_PED_DEAD( l_U1413 )) == 0) AND ((DOES_PED_EXIST( l_U1413 )) == 1)))
    {
        if ((sub_52771( sub_2121(), l_U1413, 1 )) < 1.00000000)
        {
            sub_36712( l_U1413 );
            sub_52512( 1987392575, 1 );
        }
    }
    return;
}

void sub_52512(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to terminate does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 1)
    {
        ISEQ_TERMINATE( uParam0 );
    }
    ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
    if (iParam1 == 1)
    {
        while ((ISEQ_IS_LOADED( uParam0 )) == 1)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_52771(unknown uParam0, unknown uParam1, boolean bParam2)
{
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;

    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        uVar5 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
    }
    if (NOT (IS_PED_DEAD( uParam1 )))
    {
        uVar8 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam1 )};
    }
    if (bParam2)
    {
        return VDIST( uVar5, uVar8 );
        break;
    }
    return VDIST( uVar5._fU0, uVar5._fU4, 0, uVar8._fU0, uVar8._fU4, 0 );
}

void sub_52942()
{
    if (sub_3179( ref l_U853 ))
    {
        if (NOT (IS_PED_DEAD( l_U828 )))
        {
            sub_1970( "SA", "pi00ADOOR_PEEK - ACT INT 01", 0 );
            sub_20525( l_U828, l_U829._fU0, l_U829._fU12 );
            PED_SET_ACTION_INTENTION( l_U828, 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
    }
    return;
}

void sub_53091()
{
    if (sub_3179( ref l_U887 ))
    {
        if (NOT (IS_PED_DEAD( l_U862 )))
        {
            sub_1970( "ka", "pi00BDOOR_PEEK - ACT INT 01", 0 );
            sub_20525( l_U862, l_U863._fU0, l_U863._fU12 );
            PED_SET_ACTION_INTENTION( l_U862, 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
    }
    return;
}

void sub_53240()
{
    if (NOT l_U996)
    {
        if (NOT (IS_PED_DEAD( l_U978 )))
        {
            if (IS_PED_ON_SCREEN( l_U978, 1 ))
            {
                sub_1970( "SA", "Triggering S_FAV2_VISTA_ROOFTOP_RUN_01 on los", 0 );
                sub_46175( l_U978 );
                ISEQ_START( 1284098821 );
                sub_2923( ref l_U997, 5000, 1, 0 );
                sub_3059( ref l_U997 );
                sub_2923( ref l_U928, 1000, 1, 0 );
                sub_3059( ref l_U928 );
                l_U996 = 1;
            }
        }
    }
    if (sub_3179( ref l_U997 ))
    {
        if (NOT (IS_PED_DEAD( l_U978 )))
        {
            sub_1970( "SA", "killing S_FAV2_VISTA_ROOFTOP_RUN_01", 0 );
            sub_5590( l_U978 );
        }
    }
    return;
}

void sub_53529()
{
    if (NOT l_U1024)
    {
        if (NOT (IS_PED_DEAD( l_U1006 )))
        {
            if ((HAS_CUTSCENE_FINISHED()) AND (IS_PED_ON_SCREEN( l_U1006, 1 )))
            {
                sub_1970( "SA", "Triggering P_HANDLE_S_FAV2_VISTA_LOWER_LEVEL_RUN_01 on los", 0 );
                PED_SET_ACTION_INTENTION( l_U1006, 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
                sub_3716( ref l_U1025 );
                sub_2923( ref l_U1025, 7500, 1, 0 );
                sub_3059( ref l_U1025 );
                l_U1024 = 1;
            }
        }
    }
    if (NOT (IS_PED_DEAD( l_U1006 )))
    {
        if (sub_3179( ref l_U1025 ))
        {
            sub_1970( "SA", "killing P_HANDLE_S_FAV2_VISTA_LOWER_LEVEL_RUN_01", 0 );
            sub_5590( l_U1006 );
        }
    }
    if (NOT (IS_PED_DEAD( l_U1006 )))
    {
        if (l_U94 == 7)
        {
            SET_PED_VISIBLE_DURING_SEQUENCE( l_U1006, 0 );
            SET_PED_VISIBLE( l_U1006, 0 );
        }
        else
        {
            SET_PED_VISIBLE_DURING_SEQUENCE( l_U1006, 1 );
            SET_PED_VISIBLE( l_U1006, 1 );
        }
    }
    return;
}

void sub_53936()
{
    if (sub_3179( ref l_U928 ))
    {
        if (NOT (IS_PED_DEAD( l_U896 )))
        {
            sub_1970( "SA", "pi00AFirstWindow - ACT INT 01", 0 );
            sub_20525( l_U896, l_U897._fU0, l_U897._fU12 );
            PED_SET_ACTION_INTENTION( l_U896, 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
    }
    return;
}

void sub_54087()
{
    if (sub_3179( ref l_U969 ))
    {
        if (NOT (IS_PED_DEAD( l_U937 )))
        {
            sub_1970( "ka", "pi00BFirstWindow - ACT INT 01", 0 );
            sub_20525( l_U937, l_U938._fU0, l_U938._fU12 );
            PED_SET_ACTION_INTENTION( l_U937, 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
    }
    return;
}

void sub_54238()
{
    if (l_U818)
    {
        sub_3716( ref l_U819 );
        sub_2923( ref l_U819, 5000, 1, 0 );
        sub_3059( ref l_U819 );
        l_U818 = 0;
    }
    if (sub_3179( ref l_U819 ))
    {
        if (NOT (IS_PED_DEAD( l_U786 )))
        {
            sub_20525( l_U786, l_U787._fU0, l_U787._fU12 );
            PED_SET_ACTION_INTENTION( l_U786, 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
    }
    return;
}

void sub_54394()
{
    if (l_U776 == 1)
    {
        sub_3716( ref l_U777 );
        sub_2923( ref l_U777, 8000, 1, 0 );
        sub_3059( ref l_U777 );
        l_U776 = 0;
    }
    if (sub_3179( ref l_U777 ))
    {
        if (NOT (IS_PED_DEAD( l_U751 )))
        {
            sub_20525( l_U751, l_U752._fU0, l_U752._fU12 );
            PED_SET_ACTION_INTENTION( l_U751, 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
    }
    return;
}

void sub_54576()
{
    vector vVar2;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;

    sub_1970( "SP", "P_SETUP_HELI_FLYBY_02", 0 );
    vVar2 = {-192.70000000, 7.15054700, 0.00000000};
    sub_6055( l_U1480 );
    l_U1480 = sub_33623( 1232833631, vVar2, 0.00000000, 1, 0, 0 );
    if (((IS_VEHICLE_DEAD( l_U1480 )) == 0) AND ((DOES_VEHICLE_EXIST( l_U1480 )) == 1))
    {
        SET_LOAD_COLLISION_FOR_VEHICLE_FLAG( l_U1480, 0 );
        SET_VEHICLE_NAME_DEBUG( l_U1480, "viHeli1" );
        SET_VEHICLE_DOOR_OPEN( l_U1480, 3 );
        SET_VEHICLE_DOOR_OPEN( l_U1480, 2 );
        SET_VEHICLE_DOORS_LOCKED( l_U1480, 2 );
        SET_VEHICLE_PROOFS( l_U1480, 1, 1, 1, 1, 1 );
        SET_VEHICLE_ENGINE_ON( l_U1480, 1, 1 );
        SET_VEHICLE_LIGHTS( l_U1480, 2 );
        SET_HELI_BLADES_FULL_SPEED( l_U1480 );
        SET_VEHICLE_COLOUR_COMBINATION( l_U1480, 0 );
        sub_33973( ref uVar6, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( l_U1480 ), 0.00000000, 1686109657, 7, 3, 2, 0, 0 );
        sub_5590( l_U1479 );
        l_U1481 = sub_19093( ref uVar6 );
        if (((IS_PED_DEAD( l_U1481 )) == 0) AND ((DOES_PED_EXIST( l_U1481 )) == 1))
        {
            SET_PED_NAME_DEBUG( l_U1481, "piHeliDriver1" );
            SET_PED_INTO_VEHICLE( l_U1481, l_U1480, -1 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1481, 1 );
            SET_PED_VISIBLE( l_U1481, 0 );
            SET_PED_COMBAT_ATTRIBUTES( l_U1481, 2, 0 );
            SET_PED_PROOFS( l_U1481, 1, 1, 1, 1, 1 );
            SET_LOAD_COLLISION_FOR_PED_FLAG( l_U1481, 0 );
            SET_PED_AIM_LOCKONABLE( l_U1481, 0 );
        }
        START_PLAYBACK_RECORDED_VEHICLE( l_U1480, 87 );
        l_U1476 = 1;
        sub_2923( ref l_U1528, 7000, 1, 0 );
        sub_3059( ref l_U1528 );
    }
    return;
}

void sub_55187()
{
    if ((ISEQ_QUERY_STATE( -309100710, 3 )) == 0)
    {
        ISEQ_UNREGISTER_ENTITY( -309100710, "CIV" );
        sub_5590( l_U896 );
    }
    return;
}

int sub_55263()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    int iVar8;
    int I;

    switch (l_U94)
    {
        case 0: break;
        case 1:
        sub_1970( "SP", "eMid02CutsceneState = CUTSCENE_REQUEST_ASSETS", 0 );
        if (((CUTSCENE_NAMED_IS_LOADING( "mid_02_f2_concat" )) == 0) AND ((CUTSCENE_IS_LOADED( "mid_02_f2_concat" )) == 0))
        {
            PRE_STREAM_SEAMLESS_CUTSCENE( "mid_02_f2_concat" );
        }
        l_U94 = 2;
        sub_1970( "SP", "eMid02CutsceneState = CUTSCENE_LOAD_ASSETS", 0 );
        case 2:
        if ((CUTSCENE_IS_LOADED( "mid_02_f2_concat" )) == 1)
        {
            AUDIO_MUSIC_REQUEST_ONESHOT( "FAV2_ONESHOT_E", 0 );
            l_U94 = 3;
            sub_1970( "SP", "eMid02CutsceneState = CUTSCENE_SETUP", 0 );
            break;
        }
        return 0;
        case 3:
        sub_1970( "SP", "eMid02CutsceneState = CUTSCENE_SETUP", 0 );
        sub_5816( ref l_U1739 );
        sub_55738();
        sub_24214( ref l_U113, 1, 1 );
        sub_25480( l_U113, 0 );
        uVar3 = sub_25610( l_U113 );
        if (((GET_DOES_WEAPON_EXIST( uVar3 )) == 1) AND ((IS_PED_DEAD( sub_2121() )) == 0))
        {
            SELECT_WEAPON_TO_HAND( sub_2121(), uVar3, 0, 1 );
        }
        for ( I = 0; I < l_U1233; I++ )
        {
            sub_5590( l_U1233[I] );
            l_U1233[I] = sub_19093( ref l_U1206[I] );
            if (((IS_PED_DEAD( l_U1233[I] )) == 0) AND ((DOES_PED_EXIST( l_U1233[I] )) == 1))
            {
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1233[I], 1 );
                SET_PED_INVINCIBLE( l_U1233[I], 1 );
            }
        }
        sub_20195( ref l_U1233, "piMid02Enemies_" );
        l_U94 = 5;
        sub_1970( "SP", "eMid02CutsceneState = CUTSCENE_START", 0 );
        break;
        case 5:
        sub_1970( "SP", "eMid02CutsceneState = CUTSCENE_START", 0 );
        if ((IS_PED_DEAD( sub_2121() )) == 0)
        {
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( sub_2121(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
            CUTSCENE_REGISTER_PED_TELEPORT( sub_2121(), l_U1236, l_U1239 );
            uVar2 = sub_56441();
            if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
            {
                REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar2, "W_PI_PT92_Aa_H", 0 );
            }
            ISEQ_REGISTER_ENTITY( 791066139, "player", sub_2121(), 0 );
            CUTSCENE_REGISTER_ISEQ( 791066139 );
        }
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "Giov_Fav_Low", 1945840468 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "Marc_Fav_Low", 1062134604 );
        if (((IS_PED_DEAD( l_U1233[0] )) == 0) AND ((DOES_PED_EXIST( l_U1233[0] )) == 1))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1233[0], "M_F2_UFE_C", 0 );
        }
        if (((IS_PED_DEAD( l_U1233[1] )) == 0) AND ((DOES_PED_EXIST( l_U1233[1] )) == 1))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1233[1], "M_F2_UFE_C^1", 0 );
        }
        CUTSCENE_ENABLE_SKIP( 0 );
        START_SEAMLESS_CUTSCENE();
        AUDIO_MUSIC_FORCE_TRACK( "FAV2_SONG_01", "FAV2_1_4", "", 0.00000000, 3000, 3000, -1082130432, 0 );
        l_U94 = 6;
        sub_1970( "SP", "eMid02CutsceneState = CUTSCENE_FIRST_FRAME", 0 );
        break;
        case 6:
        sub_1970( "SP", "eMid02CutsceneState = CUTSCENE_FIRST_FRAME", 0 );
        sub_5590( l_U1525 );
        sub_5590( l_U1509 );
        sub_6055( l_U1524 );
        sub_5590( l_U1527 );
        sub_5590( l_U1523 );
        sub_6055( l_U1526 );
        sub_31594( 1, 0, 0, 1 );
        DO_SCREEN_FADE_IN( 0 );
        AUDIO_MUSIC_PLAY_ONESHOT();
        l_U94 = 7;
        sub_1970( "SP", "eMid02CutsceneState = CUTSCENE_PLAYING", 0 );
        break;
        case 7:
        if (NOT HAS_CUTSCENE_FINISHED())
        {
            uVar6 = GET_CUTSCENE_SECTION_PLAYING();
            uVar7 = GET_CUTSCENE_TIME();
            iVar8 = GET_CUTSCENE_TIME_MS();
            if ((IS_SCREEN_FADING_OUT() == 1) || (IS_SCREEN_FADED_OUT() == 1))
            {
                CUTSCENE_DISABLE_FADE_IN_GAME_AT_END( 1 );
                l_U1242 = 1;
            }
            if (l_U1243 == 1)
            {
                if (iVar8 >= 7000)
                {
                    sub_57366( ref g_U1312[3] );
                    l_U1243 = 0;
                }
            }
            if (l_U1244 == 1)
            {
                if (iVar8 >= 10000)
                {
                    CUTSCENE_ENABLE_SKIP( 1 );
                    l_U1244 = 0;
                }
            }
        }
        else
        {
            sub_5816( ref l_U1233 );
            sub_28242( 284807160 );
            sub_57465( -1013714740 );
            sub_57465( -862236369 );
            CLEAR_NAMED_CUTSCENE( "mid_02_f2_concat" );
            if (l_U1242 == 1)
            {
                sub_20525( sub_2121(), l_U1236, l_U1239 );
                if ((IS_PED_DEAD( sub_2121() )) == 0)
                {
                    FREEZE_PED_POSITION( sub_2121(), 1 );
                }
                CLEAR_NAMED_CUTSCENE( "mid_02_f2_concat" );
                LOAD_SCENE( l_U1236 );
                if ((IS_PED_DEAD( sub_2121() )) == 0)
                {
                    FREEZE_PED_POSITION( sub_2121(), 0 );
                }
                SET_GAMEPLAY_CAM_RELATIVE_HEADING( l_U1240, 1065353216, 0 );
                SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U1241, 1065353216, 0 );
            }
            l_U94 = 0;
            sub_1970( "SP", "eMid02CutsceneState = CUTSCENE_IDLE", 0 );
            return 1;
        }
        break;
    }
    return 0;
}

void sub_55738()
{
    sub_1970( "SP", "P_CREATE_ROOFTOP_RUNNER1", 0 );
    sub_5590( l_U1690 );
    l_U1690 = sub_19093( ref l_U1677 );
    if (((IS_PED_DEAD( l_U1690 )) == 0) AND ((DOES_PED_EXIST( l_U1690 )) == 1))
    {
        SET_BULLET_CAM_PREF( l_U1690, "ALL_LMS_01", "ALL_LMS_03", "ALL_LMS_05", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
        SET_PED_NAME_DEBUG( l_U1690, "piRoofTopCS9" );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1690, 1 );
        SET_PED_AS_ONE_SHOT_KILL( l_U1690, 1 );
    }
    return;
}

int sub_56441()
{
    unknown Result;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD( sub_2121() )) == 0)
    {
        Result = GET_WEAPON_FROM_HAND( sub_2121(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( Result )) == 1)
        {
            if ((sub_24405( Result )) == 1)
            {
                return Result;
            }
        }
        uVar3 = GET_WEAPON_FROM_HAND( sub_2121(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            return uVar3;
        }
        uVar4 = GET_WEAPON_FROM_HOLSTER( sub_2121(), 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar4 )) == 1)
        {
            return uVar4;
        }
        uVar5 = GET_WEAPON_FROM_HOLSTER( sub_2121(), 1 );
        if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
        {
            return uVar5;
        }
    }
    return 0;
}

void sub_57366(int iParam0)
{
    iParam0->_fU36 = 1;
    return;
}

void sub_57465(unknown uParam0)
{
    SET_WEAPON_AS_NO_LONGER_NEEDED( uParam0 );
    return;
}

int sub_57884()
{
    switch (l_U132)
    {
        case 1:
        sub_20525( sub_2121(), l_U1236, l_U1239 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0, 1065353216, 0 );
        if (NOT (IS_PLAYER_DEAD( sub_2143() )))
        {
            SET_PLAYER_CONTROL( sub_2143(), 0, 0 );
        }
        CAMERA_PLAY_ANIMATED( "LEVEL_S_FAV2_CP_02", "B_OUT_MID_02_F2_CAM", 0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0 );
        SIMULATE_PLAYER_INPUT_GAIT( sub_2143(), 2, 500, 0 );
        sub_25480( l_U113, 1 );
        sub_52512( -1873929065, 1 );
        DO_SCREEN_FADE_IN( 0 );
        l_U132 = 3;
        break;
        case 3:
        if (NOT (sub_2813( ref l_U1158 )))
        {
            if (IS_ANIMATED_CAMERA_PLAYING() == 1)
            {
                if (CAMERA_ANIMATED_CURRENT_TIME() >= ((CAMERA_ANIMATED_LENGTH( "LEVEL_S_FAV2_CP_02", "B_OUT_MID_02_F2_CAM" )) - l_U1157))
                {
                    SET_GAMEPLAY_CAM_RELATIVE_HEADING( l_U1240, 1065353216, 0 );
                    SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U1241, 1065353216, 0 );
                    CAMERA_ANIMATED_STOP( l_U1157, 1 );
                    if (NOT (IS_PLAYER_DEAD( sub_2143() )))
                    {
                        SET_PLAYER_CONTROL( sub_2143(), 1, 0 );
                    }
                    sub_2923( ref l_U1158, l_U1157, 1, 0 );
                    sub_3059( ref l_U1158 );
                }
            }
        }
        if (sub_3179( ref l_U1158 ))
        {
            if (NOT (IS_PLAYER_DEAD( sub_2143() )))
            {
                SET_PLAYER_CONTROL( sub_2143(), 1, 0 );
            }
            sub_32356( 1, 1 );
            l_U132 = 0;
            return 1;
        }
        break;
    }
    return 0;
}

void sub_58425()
{
    sub_1970( "SP", "P_INIT_ROOFTOP_RUNNER1", 0 );
    if (((IS_PED_DEAD( l_U1690 )) == 0) AND ((DOES_PED_EXIST( l_U1690 )) == 1))
    {
        if ((ISEQ_QUERY_STATE( -777471265, 3 )) == 0)
        {
            sub_20525( l_U1690, -119.23900000, 117.87200000, 17.21500000, -114.45000000 );
            ISEQ_REGISTER_ENTITY( -777471265, "csrunner1", l_U1690, 0 );
            ISEQ_START( -777471265 );
            l_U1155 = 1;
        }
    }
    return;
}

void sub_58614()
{
    sub_1970( "SP", "P_CREATE_INJURED_CIV", 0 );
    sub_5590( l_U1413 );
    l_U1413 = sub_19093( ref l_U1400 );
    if (((IS_PED_DEAD( l_U1413 )) == 0) AND ((DOES_PED_EXIST( l_U1413 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U1413, "piInjuredCiv" );
        SET_PED_AS_ONE_SHOT_KILL( l_U1413, 1 );
        SET_PED_STAND_GROUND_ON_PLAYER_IMPACT( l_U1413, 1 );
        SET_PED_CAN_BE_TARGETTED( l_U1413, 0 );
    }
    ISEQ_REGISTER_ENTITY( 1987392575, "drag2_male", l_U1413, 0 );
    ISEQ_START( 1987392575 );
    l_U1425 = GET_SOUND_ID();
    l_U1426 = GET_SOUND_ID();
    STOP_SOUND( l_U1425, 0 );
    STOP_SOUND( l_U1426, 0 );
    PLAY_SOUND_FROM_COORD( l_U1425, "S_FAV2_INJURED_GUY_GUN", -118.77130000, 106.90580000, 15.67925000 );
    PLAY_SOUND_FROM_PED( l_U1426, "S_FAV2_INJURED_GUY_PAIN", l_U1413 );
    return;
}

void sub_59119(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20)
{
    return sub_22575( sub_2121(), uParam0 );
}

int sub_59320()
{
    if (NOT (IS_PED_DEAD( l_U1690 )))
    {
        if ((ISEQ_QUERY_STATE( -777471265, 3 )) == 0)
        {
            sub_5590( l_U1690 );
            return 1;
        }
    }
    return 0;
}

boolean sub_59735(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21, unknown uParam22, unknown uParam23, unknown uParam24, unknown uParam25, unknown uParam26, unknown uParam27, unknown uParam28, unknown uParam29, unknown uParam30, unknown uParam31, unknown uParam32, unknown uParam33, unknown uParam34, unknown uParam35, unknown uParam36, unknown uParam37, unknown uParam38, unknown uParam39, unknown uParam40, unknown uParam41)
{
    if (l_U53)
    {
        if (NOT (IS_PED_DEAD( sub_2121() )))
        {
            if (sub_22575( sub_2121(), uParam21 ))
            {
                sub_1970( "CO", "FORCE UNWALK", "******" );
                SET_PED_FORCED_TO_WALK( sub_2121(), 0 );
                SET_CAN_ROLL_DODGE( sub_2121(), 1 );
                SET_PLAYER_CAN_USE_SHOOTDODGE( sub_2143(), 1 );
                l_U53 = 0;
            }
        }
    }
    if (NOT l_U53)
    {
        if (NOT (IS_PED_DEAD( sub_2121() )))
        {
            if (sub_22575( sub_2121(), uParam0 ))
            {
                sub_1970( "CO", "FORCE WALK", "******" );
                SET_PED_FORCED_TO_WALK( sub_2121(), 1 );
                SET_CAN_ROLL_DODGE( sub_2121(), 0 );
                SET_PLAYER_CAN_USE_SHOOTDODGE( sub_2143(), 0 );
                l_U53 = 1;
            }
        }
    }
    return NOT l_U53;
}

void sub_60153()
{
    if (l_U1475 == 1)
    {
        if (sub_60175())
        {
            l_U1475 = 0;
        }
    }
    if (l_U1476 == 1)
    {
        if (sub_60341())
        {
            l_U1476 = 0;
        }
    }
    if (l_U1474 == 1)
    {
        if (sub_60497())
        {
            l_U1474 = 1;
        }
    }
    if (l_U1477 == 1)
    {
        if (sub_60669())
        {
            l_U1477 = 0;
        }
    }
    if (l_U1705 == 1)
    {
        if (sub_60838())
        {
            l_U1705 = 0;
        }
    }
    return;
}

int sub_60175()
{
    if (NOT (IS_VEHICLE_DEAD( l_U1478 )))
    {
        if (NOT (IS_PLAYBACK_GOING_ON_FOR_VEHICLE( l_U1478 )))
        {
            sub_1970( "NS", "IS_PLAYBACK_GOING_ON_FOR_VEHICLE(viHeli)", 0 );
            sub_5590( l_U1495 );
            sub_5590( l_U1479 );
            sub_6055( l_U1478 );
            return 1;
        }
    }
    return 0;
}

int sub_60341()
{
    if (NOT (IS_VEHICLE_DEAD( l_U1480 )))
    {
        if (NOT (IS_PLAYBACK_GOING_ON_FOR_VEHICLE( l_U1480 )))
        {
            sub_1970( "NS", "IS_PLAYBACK_GOING_ON_FOR_VEHICLE(viHeli)", 0 );
            sub_5590( l_U1481 );
            sub_6055( l_U1480 );
            return 1;
        }
    }
    return 0;
}

int sub_60497()
{
    if (NOT (IS_VEHICLE_DEAD( l_U1526 )))
    {
        if (NOT (IS_PLAYBACK_GOING_ON_FOR_VEHICLE( l_U1526 )))
        {
            sub_1970( "NS", "IS_PLAYBACK_GOING_ON_FOR_VEHICLE(viHeli_flyby)", 0 );
            sub_5590( l_U1527 );
            sub_5590( l_U1523 );
            sub_6055( l_U1526 );
            return 1;
        }
    }
    return 0;
}

int sub_60669()
{
    if (NOT (IS_VEHICLE_DEAD( l_U1524 )))
    {
        if (NOT (IS_PLAYBACK_GOING_ON_FOR_VEHICLE( l_U1524 )))
        {
            sub_1970( "NS", "IS_PLAYBACK_GOING_ON_FOR_VEHICLE(viHeli_12)", 0 );
            sub_5590( l_U1525 );
            sub_5590( l_U1509 );
            sub_6055( l_U1524 );
            return 1;
        }
    }
    return 0;
}

int sub_60838()
{
    if ((ISEQ_GET_STATE( -1873929065 )) > 3)
    {
        ISEQ_UNREGISTER_ENTITY( -1873929065, "csrunner4" );
        sub_5590( l_U1704 );
        return 1;
    }
    return 0;
}

void sub_60933()
{
    if (l_U749 == 0)
    {
        if (((sub_60965( ref l_U579, sub_2121(), 0 )) == 1) || (((sub_60965( ref l_U558, sub_2121(), 0 )) == 1) || (((sub_60965( ref l_U537, sub_2121(), 0 )) == 1) || (((sub_60965( ref l_U516, sub_2121(), 0 )) == 1) || (((sub_60965( ref l_U495, sub_2121(), 0 )) == 1) || (((sub_60965( ref l_U474, sub_2121(), 0 )) == 1) || ((sub_60965( ref l_U453, sub_2121(), 0 )) == 1)))))))
        {
            sub_1970( "kja", "Player Hit the Kill Box", 0 );
            SET_BULLET_CAM_PREF( sub_2121(), "MISS_DEATH_FALL_01A", "", "", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
            sub_36712( sub_2121() );
            l_U749 = 1;
        }
    }
    return;
}

void sub_60965(int iParam0, unknown uParam1, unknown uParam2)
{
    if (iParam0->_fU68 == 1)
    {
        return 0;
    }
    else
    {
        iParam0->_fU68 = sub_22575( uParam1, (iParam0^) );
        if ((iParam0->_fU68) AND (uParam2))
        {
            GAMEPLAY_HELPER_BOX_SET_ENABLED( iParam0 + 0, 0 );
        }
    }
    return iParam0->_fU68;
}

int sub_61295()
{
    int iVar2;

    if (NOT (IS_PED_DEAD( sub_2121() )))
    {
        if (HAS_SHOT_BEEN_FIRED_IN_AREA( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( sub_2121() ), 2.00000000, 0, ref iVar2 ))
        {
            if (sub_2121() == iVar2)
            {
                return 1;
            }
        }
    }
    return 0;
}

void sub_61435(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21, unknown uParam22, unknown uParam23, unknown uParam24, unknown uParam25, unknown uParam26, unknown uParam27, unknown uParam28, unknown uParam29, unknown uParam30, unknown uParam31, unknown uParam32, unknown uParam33, unknown uParam34, unknown uParam35, unknown uParam36, unknown uParam37, unknown uParam38, unknown uParam39, unknown uParam40, unknown uParam41, boolean bParam42)
{
    if (bParam42)
    {
        sub_1970( "CO", "Alley Close Cam Active : By Pass", 0 );
        SET_CAM_VIEW_MODE( 0 );
        l_U1152 = 1;
    }
    else if ((IS_PED_DEAD( sub_2121() )) == 0)
    {
        if (l_U1152 == 0)
        {
            if ((sub_59119( uParam0 )) == 1)
            {
                sub_1970( "SP", "VIEW_MODE_MEDIUM", 0 );
                SET_CAM_VIEW_MODE( 1 );
                l_U1152 = 1;
            }
        }
        else if ((sub_59119( uParam21 )) == 1)
        {
            sub_1970( "SP", "VIEW_MODE_NEAR", 0 );
            SET_CAM_VIEW_MODE( 0 );
            l_U1152 = 0;
        }
    }
    return;
}

void sub_61707()
{
    sub_1970( "SP", "P_UNLOAD_ASSETS", 0 );
    sub_28242( 503245124 );
    sub_28242( -2101464387 );
    sub_28242( -1882305097 );
    sub_28242( 284807160 );
    sub_28242( -194111775 );
    sub_28242( 1686109657 );
    sub_28242( 1232833631 );
    sub_28242( -1006708222 );
    sub_61847( "LEVEL_S_FAV2_CP_02" );
    sub_61847( "LEVEL_S_FAV2_DEATH" );
    sub_61931( "LEVEL/S_FAV2/S_FAV2_DEAD_CS" );
    sub_61931( "LEVEL/S_FAV2/S_FAV2_HELI_DRIVER_CP02" );
    sub_62006( 87 );
    sub_62006( 122 );
    sub_62006( 296 );
    sub_62006( 297 );
    sub_62006( 298 );
    return;
}

void sub_61847(unknown uParam0)
{
    REMOVE_ANIM_DICT( uParam0, 0 );
    return;
}

void sub_61931(unknown uParam0)
{
    ACTION_TREE_UNLOAD( uParam0 );
    return;
}

void sub_62006(unknown uParam0)
{
    REMOVE_VEHICLE_RECORDING( uParam0 );
    return;
}

