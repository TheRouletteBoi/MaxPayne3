void main()
{
    l_U0 = 1;
    l_U1 = 144;
    l_U21 = 0;
    l_U22 = 0;
    l_U23 = 1500;
    l_U34 = 0;
    l_U36 = 0;
    l_U37 = 0;
    l_U38 = 0;
    l_U39 = 0;
    l_U40 = 0;
    l_U41 = 0;
    l_U42 = 0;
    l_U43 = 0;
    l_U44 = 0;
    l_U45 = 0;
    l_U807 = -1;
    l_U808 = {64536, 64536, 64536};
    l_U847 = 0;
    l_U849 = 1;
    l_U850 = 0;
    l_U1561 = 13000;
    l_U2112 = 8000;
    l_U2452 = 12000;
    l_U2647 = 9000;
    sub_228( "MF", "Script s_club_dancefloor.sc is starting up...", 0 );
    l_U847 = 1;
    l_U34 = 0;
    while (IS_EXITFLAG_SET() == 0)
    {
        sub_303();
        if (l_U850 == 0)
        {
            sub_8949();
            sub_55611();
        }
        WAIT( 0 );
    }
    sub_2941( 0 );
    sub_50047();
    SET_EXITFLAG_RESPONSE();
    SET_SCRIPT_AS_NO_LONGER_NEEDED( ref g_U893[1]._fU0 );
    sub_228( "MF", "Script s_club_dancefloor.sc is terminating...", 0 );
    return;
}

void sub_228(unknown uParam0, unknown uParam1, string sParam2)
{
    unknown uVar5;

    if (IS_STRING_NULL( sParam2 ))
    {
        sParam2 = "###";
    }
    uVar5 = GET_REAL_GAME_TIMER();
    return;
}

void sub_303()
{
    if (g_U892 == 1)
    {
        switch (l_U850)
        {
            case 0:
            if ((g_U3360 == 1) || ((IS_PED_DEAD( sub_385() )) == 1))
            {
                l_U850 = 1;
                sub_228( "MF", "eFailState = FAIL_WAITING_FOR_PLAYER", 0 );
            }
            else if (sub_534() == 1)
            {
                l_U850 = 3;
                sub_228( "SP", "eFailState = FAIL_CLEANUP_ALL", 0 );
            }
            break;
            case 1:
            if ((sub_1023( 0 )) == 1)
            {
                l_U850 = 2;
            }
            break;
            case 2:
            if (NOT (IS_PED_DEAD( sub_385() )))
            {
                l_U850 = 3;
                sub_228( "MF", "eFailState = FAIL_CLEANUP_ALL", 0 );
            }
            break;
            case 3:
            sub_228( "MF", "eFailState = FAIL_CLEANUP_ALL", 0 );
            if (sub_2442())
            {
                if (NOT (IS_PED_DEAD( sub_385() )))
                {
                    PED_ACTION_TREE_PLAY_NODE( sub_385(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_LOCO" );
                }
            }
            if ((NOT (IS_PED_DEAD( sub_385() ))) AND (NOT (IS_PLAYER_DEAD( sub_407() ))))
            {
                SET_PLAYER_CONTROL( sub_407(), 0, 0 );
                if (GET_IS_PED_FORCED_TO_WALK( sub_385() ))
                {
                    SET_PED_FORCED_TO_WALK( sub_385(), 0 );
                }
            }
            g_U1104 = 1;
            SET_EXITFLAG_FOR_SCRIPT( g_U893[2]._fU32 );
            sub_2660( ref g_U893[2] );
            g_U1074[2] = 0;
            DESTROY_ALL_CAMS();
            sub_2742( "CLUB_TIMEOUT_SCRIPTED_FAIL_FX" );
            RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
            AUDIO_MUSIC_SUSPEND( 500 );
            sub_2941( 1 );
            l_U850 = 4;
            sub_228( "MF", "eFailState = FAIL_RESTORE_PLAYER", 0 );
            break;
            case 4:
            sub_228( "MF", "eFailState = FAIL_RESTORE_PLAYER", 0 );
            sub_4668( ref l_U811, sub_385() );
            SET_INTERIOR_ACTIVE( GET_INTERIOR_FROM_NAME( ref g_U2480, 0 ), 1, 0 );
            LOAD_SCENE_FOR_ROOM_BY_KEY( GET_INTERIOR_FROM_NAME( ref g_U2480, 0 ), GET_HASH_KEY( ref g_U2512 ) );
            l_U850 = 5;
            sub_228( "MF", "eFailState = FAIL_RESTART_CHECKPOINT", 0 );
            break;
            case 5:
            sub_228( "MF", "eFailState = FAIL_RESTART_CHECKPOINT", 0 );
            l_U847 = 1;
            SET_PLAYER_CONTROL( sub_407(), 1, 0 );
            l_U850 = 0;
            sub_228( "MF", "eFailState = FAIL_IDLE", 0 );
            break;
        }
    }
    return;
}

int sub_385()
{
    if (DOES_MAIN_PLAYER_EXIST())
    {
        return GET_PLAYER_PED( sub_407() );
    }
    return 0;
}

void sub_407()
{
    return GET_PLAYER_ID();
}

int sub_534()
{
    if (HAS_SELECTED_RETRY_CHECKPOINT())
    {
        if (IS_IN_NYMINUTE_MODE())
        {
            SWITCH_TO_LEVEL( GET_INDEX_OF_CURRENT_LEVEL() );
        }
        if (HAS_CUTSCENE_FINISHED() == 0)
        {
            return 0;
        }
        l_U0 = 0;
        g_U648 = 1;
        DO_SCREEN_FADE_OUT( 0 );
        ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 1 );
        TERMINATE_GAME_BULLET_CAMERA();
        if (IS_ANIMATED_CAMERA_PLAYING())
        {
            CAMERA_ANIMATED_STOP( 0, 0 );
        }
        STOP_ALL_SCRIPTED_CONVERSATIONS( 0 );
        DEACTIVATE_BULLET_TIME( 1, 0 );
        END_POSTFX_BLENDER( 0, 0 );
        END_POSTFX_BLENDER( 2, 0 );
        END_POSTFX_BLENDER( 3, 0 );
        END_POSTFX_BLENDER( 4, 0 );
        END_POSTFX_BLENDER( 5, 0 );
        END_POSTFX_BLENDER( 7, 0 );
        END_POSTFX_BLENDER( 9, 0 );
        END_POSTFX_BLENDER( 10, 0 );
        END_POSTFX_BLENDER( 11, 0 );
        END_POSTFX_BLENDER( 12, 0 );
        END_POSTFX_BLENDER( 13, 0 );
        END_POSTFX_BLENDER( 14, 0 );
        END_POSTFX_BLENDER( 15, 0 );
        END_POSTFX_BLENDER( 16, 0 );
        STOP_ALL_IMAGEFX( 0 );
        if (NOT (IS_PED_DEAD( sub_385() )))
        {
            SET_PED_FORCED_TO_WALK( sub_385(), 0 );
            SET_PLAYER_FORCED_AIM( sub_407(), 0, 0 );
            SET_PLAYER_CAN_USE_SHOOTDODGE( sub_407(), 1 );
            if ((IS_PED_VISIBLE( sub_385() )) == 0)
            {
                SET_PED_VISIBLE( sub_385(), 1 );
            }
        }
        CLEAR_PRINTS();
        CLEAR_HELP();
        SET_INTERACTIONTEXT_VISIBLE( 0 );
        RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
        DESTROY_ALL_CAMS();
        AUDIO_MUSIC_SUSPEND( 500 );
        return 1;
    }
    return 0;
}

int sub_1023(int iParam0)
{
    iParam0 = 1;
    switch (l_U22)
    {
        case 0:
        if (NOT (sub_1080( ref l_U24 )))
        {
            if ((IS_DEATH_PANEL_WIPE_ALLOWED()) AND (IS_PED_DEAD( sub_385() )))
            {
                l_U23 = 2000;
                ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 1 );
            }
            sub_1184( ref l_U24, l_U23, 1, 1 );
            sub_1318( ref l_U24 );
        }
        if (sub_1436( ref l_U24 ))
        {
            sub_228( "NS", " show fail/retry text", 0 );
            if ((IS_DEATH_PANEL_WIPE_ALLOWED()) AND (IS_PED_DEAD( sub_385() )))
            {
                if ((IS_BULLET_CAMERA_RUNNING( 0 )) == 0)
                {
                    if (IS_SCREEN_FADED_OUT())
                    {
                        DO_SCREEN_FADE_IN( 0 );
                    }
                }
                ENABLE_DEATHHELPERTEXT( 1, 1, 0 );
            }
            else if (IS_SCREEN_FADED_OUT())
            {
                DO_SCREEN_FADE_IN( 0 );
                ENABLE_DEATHHELPERTEXT( 1, iParam0, 0 );
            }
            else
            {
                ENABLE_DEATHHELPERTEXT( 1, iParam0, 0 );
            }
            if (NOT (IS_PLAYER_DEAD( sub_407() )))
            {
                SET_PLAYER_CONTROL( sub_407(), 0, 0 );
            }
            DISPLAY_HUD( 0 );
            l_U22 = 1;
        }
        break;
        case 1:
        if ((((NOT IS_QUIT_CONFIRMING()) == 1) AND (IS_BUTTON_JUST_PRESSED( 0, 501 ))) || ((N_1855335259()) || (IS_CONTROL_JUST_PRESSED( 2, 82 ))))
        {
            if (IS_QUIT_CONFIRMING() == 1)
            {
                l_U22 = 2;
            }
            else
            {
                l_U22 = 3;
            }
        }
        break;
        case 2:
        sub_228( "NS", "Player will QUIT", 0 );
        sub_1917();
        if (iParam0 == 1)
        {
            DO_SCREEN_FADE_OUT( 0 );
        }
        START_PANEL_WIPE( 0, 6 );
        SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
        RETURN_TO_TITLESCREEN( 0 );
        break;
        case 3:
        sub_228( "NS", "Player will RETRY", 0 );
        if (IS_IN_NYMINUTE_MODE())
        {
            SWITCH_TO_LEVEL( GET_INDEX_OF_CURRENT_LEVEL() );
        }
        if (iParam0 == 1)
        {
            DO_SCREEN_FADE_OUT( 0 );
        }
        sub_1917();
        return 1;
        break;
    }
    return 0;
}

int sub_1080(int iParam0)
{
    if (iParam0->_fU20 == 1)
    {
        return 1;
    }
    if (iParam0->_fU16 == 1)
    {
        return 1;
    }
    return 0;
}

void sub_1184(int iParam0, unknown uParam1, boolean bParam2, int iParam3)
{
    if (bParam2)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam3 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU12 = uParam1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = bParam2;
    iParam0->_fU32 = iParam3;
    iParam0->_fU8 = 0;
    return;
}

void sub_1318(int iParam0)
{
    if (NOT iParam0->_fU20)
    {
        iParam0->_fU20 = 1;
        iParam0->_fU16 = 0;
        if (iParam0->_fU28)
        {
            iParam0->_fU0 = TIMERA();
        }
        else
        {
            iParam0->_fU0 = TIMERB();
        }
        if (iParam0->_fU32 == 1)
        {
            iParam0->_fU0 = TIMERSYSTEM();
        }
        iParam0->_fU4 = iParam0->_fU0;
    }
    return;
}

int sub_1436(int iParam0)
{
    if (iParam0->_fU16)
    {
        return 0;
    }
    else if (NOT iParam0->_fU20)
    {
        return 0;
    }
    if (iParam0->_fU28)
    {
        iParam0->_fU4 = TIMERA();
    }
    else
    {
        iParam0->_fU4 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU4 = TIMERSYSTEM();
    }
    if ((iParam0->_fU4 - iParam0->_fU0) >= iParam0->_fU12)
    {
        iParam0->_fU16 = 1;
        iParam0->_fU20 = 0;
        return 1;
        break;
    }
    return 0;
}

void sub_1917()
{
    sub_228( "NS", "P_PostFailRetryCleanup", 0 );
    sub_1965( ref l_U24 );
    ENABLE_DEATHHELPERTEXT( 0, 0, 2000 );
    SET_SCRIPT_CONTROL_RESET_ON_PLAYER_DEATH( 0 );
    if (NOT (IS_PLAYER_DEAD( sub_407() )))
    {
        SET_PLAYER_CONTROL( sub_407(), 1, 0 );
    }
    DISPLAY_HUD( 1 );
    l_U21 = 0;
    l_U21 = l_U21;
    l_U22 = 0;
    return;
}

void sub_1965(int iParam0)
{
    if (iParam0->_fU28)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    return;
}

void sub_2442()
{
    return g_U648;
}

void sub_2660(int iParam0)
{
    iParam0->_fU36 = 0;
    iParam0->_fU40 = 0;
    return;
}

void sub_2742(unknown uParam0)
{
    sub_228( "CO", "P_IMAGEFX_STOP_BULLETCAM:  Cameras Deleted", 0 );
    RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
    sub_2825( ref l_U35 );
    l_U34 = 1;
    return;
}

void sub_2825(unknown uParam0)
{
    if ((DOES_CAM_EXIST( (uParam0^) )) == 1)
    {
        if ((IS_CAM_ACTIVE( (uParam0^) )) == 1)
        {
            SET_CAM_ACTIVE( (uParam0^), 0 );
        }
        DESTROY_CAM( (uParam0^) );
    }
    (uParam0^) = nil;
    return;
}

void sub_2941(int iParam0)
{
    sub_228( "MF", "P_CLEANUP_DANCE_FLOOR - START", 0 );
    if (iParam0 == 1)
    {
        sub_3008( g_U2616 );
        sub_3086( ref g_U2637 );
        BULLET_CAMERA_TRACK_UNTIL_GROUNDED( 0 );
        sub_3086( ref g_U2619 );
        sub_3086( ref g_U2633 );
        sub_3086( ref g_U2625 );
        sub_3086( ref g_U2628 );
        sub_3086( ref g_U2623 );
        sub_3203( -74541949, 1 );
        sub_3203( -456021312, 1 );
        sub_3203( -1839811754, 1 );
        sub_3203( -1830975032, 1 );
        sub_3203( -1577441179, 1 );
        sub_3453( g_U777._fU0 );
        sub_3203( -1957067951, 1 );
        sub_3086( ref g_U2631 );
        sub_3203( -1592279399, 1 );
        sub_3203( 1565939729, 1 );
        sub_3086( ref g_U2617 );
        sub_3086( ref g_U2621 );
        ENABLE_STATIC_EMITTER( "S_CLUB_SE_DANCE_CLUB_DJ_BOOTH_GEAR", 0 );
        ENABLE_STATIC_EMITTER( "S_CLUB_SE_LOUNGE_MUSIC", 0 );
        ENABLE_WALLA_ZONE( "S_CLUB_WZ_COAT_CHECK_CS", 0 );
        ENABLE_WALLA_ZONE( "S_CLUB_WZ_COAT_CHECK_HOSTAGES", 0 );
        ENABLE_AMBIENT_ZONE( "S_CLUB_ZONE_COAT_CHECK_GUNSHOTS", 0 );
    }
    ENABLE_STATIC_EMITTER( "S_CLUB_SE_CROWD_PANIC", 0 );
    ENABLE_WALLA_ZONE( "S_CLUB_WZ_DANCE_HALL", 0 );
    sub_3086( ref l_U1057 );
    sub_3203( 344271746, 0 );
    sub_3203( -1355646060, 1 );
    ISEQ_UNREGISTER_ENTITY( -2074831912, "player" );
    ISEQ_TERMINATE( -2074831912 );
    ISEQ_UNREGISTER_ENTITY( -1239976099, "player" );
    ISEQ_TERMINATE( -1239976099 );
    sub_3914( ref l_U1030 );
    sub_3914( ref l_U1314 );
    sub_3914( ref l_U2113 );
    sub_3914( ref l_U2179 );
    sub_3914( ref l_U2245 );
    sub_3914( ref l_U2311 );
    sub_3914( ref l_U2377 );
    sub_3914( ref l_U1354 );
    sub_3914( ref l_U1420 );
    sub_3914( ref l_U1486 );
    sub_3914( ref l_U1562 );
    sub_3914( ref l_U1628 );
    sub_3914( ref l_U1694 );
    sub_3914( ref l_U1760 );
    sub_3914( ref l_U1826 );
    sub_3914( ref l_U1892 );
    sub_3914( ref l_U1958 );
    sub_3914( ref l_U2024 );
    sub_3914( ref l_U2453 );
    sub_3914( ref l_U2519 );
    sub_3914( ref l_U2585 );
    sub_3914( ref l_U2657 );
    sub_3944( ref l_U1137 );
    sub_3008( g_U2633[1] );
    sub_3008( g_U2633[2] );
    sub_1965( ref g_U3350 );
    sub_1965( ref g_U3340 );
    SET_PLAYER_FORCED_AIM( sub_407(), 0, 0 );
    STOP_SCRIPT_STREAM( 0 );
    sub_4275();
    if (NOT (IS_PED_DEAD( sub_385() )))
    {
        RESET_FORCED_AIM_INTENTION_DIRECTION();
    }
    sub_228( "MF", "P_CLEANUP_DANCE_FLOOR - END", 0 );
    return;
}

void sub_3008(unknown uParam0)
{
    if (DOES_PED_EXIST( uParam0 ))
    {
        if ((NOT (IS_PED_DEAD( uParam0 ))) || (IS_PED_DEAD( uParam0 )))
        {
            REMOVE_ALL_PED_WEAPONS( uParam0 );
            DELETE_PED( ref uParam0 );
        }
    }
    return;
}

void sub_3086(unknown uParam0)
{
    int I;

    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_3008( (uParam0^)[I] );
    }
    return;
}

void sub_3203(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to terminate does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 1)
    {
        ISEQ_TERMINATE( uParam0 );
    }
    ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
    if (iParam1 == 1)
    {
        while ((ISEQ_IS_LOADED( uParam0 )) == 1)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_3453(unknown uParam0)
{
    if ((DOES_PLACEMENT_EXIST( uParam0 )) == 1)
    {
        REMOVE_PLACEMENT( uParam0 );
    }
    return;
}

void sub_3914(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_3944( ref (uParam0^)[I] );
    }
    return;
}

void sub_3944(int iParam0)
{
    if ((DOES_OBJECT_EXIST( iParam0->_fU24 )) == 1)
    {
        DELETE_SIMPLE_PED( iParam0 + 24 );
    }
    return;
}

void sub_4275()
{
    sub_228( "CCB", "P_STOP_SP_CHALLENGES", 0 );
    sub_228( "CCB", "Stopping the Nightclub_Dance context...", 0 );
    END_CONTEXT( "Nightclub_Dance" );
    sub_228( "CCB", "Stopping the Nightclub_MPM context...", 0 );
    END_CONTEXT( "Nightclub_MPM" );
    return;
}

void sub_4668(int iParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    int iVar9;
    int iVar10;
    int iVar11;
    unknown uVar12;
    unknown uVar13;

    sub_228( "GA", "Restoring the player to the checkpoint - Start", 0 );
    if (l_U0)
    {
        INCREMENT_CHECKPOINT_ATTEMPT();
    }
    g_U648 = 0;
    if (iParam0->_fU0 == 0)
    {
        SCRIPT_ASSERT( "ERROR: Trying to restore a checkpoint that hasn't been saved!!!", 0 );
    }
    sub_4852( iParam0->_fU52 );
    if (SCRIPT_VAR_EXISTS( "SV_LOAD_CNT" ))
    {
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", (SCRIPT_VAR_GET_INT( "SV_LOAD_CNT" )) + 1 );
    }
    else
    {
        SCRIPT_VAR_ADD_INT( "SV_LOAD_CNT" );
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", 1 );
    }
    CLEAR_KILL_STREAK_RECORDS();
    AUDIO_MUSIC_SUSPEND( 0 );
    DEACTIVATE_BULLET_TIME( 1, 0 );
    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
    REMOVE_ALL_ENVIRONMENT_BLOOD();
    RESET_BLOOD_EFFECTS();
    REMOVE_ALL_GLINTS();
    RESET_DESTROYED_COVER();
    RESET_ALL_PTFX();
    uVar4 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam1 )};
    CLEAR_AREA( iParam0->_fU4, 10000.00000000, 1 );
    if (NOT (IS_PED_DEAD( uParam1 )))
    {
        SET_PED_COORDS( uParam1, iParam0->_fU4, 1 );
        sub_5929( uParam1 );
        SET_PED_HEADING( uParam1, iParam0->_fU16 );
    }
    CLEAR_AREA( uVar4, 3.00000000, 1 );
    LOAD_SCENE( iParam0->_fU4 );
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
    iParam0->_fU28 = GET_PED_MAX_HEALTH( uParam1 );
    SET_PED_HEALTH( uParam1, iParam0->_fU28, 0 );
    RESET_PED_GORE( uParam1 );
    RESET_PED_VISIBLE_DAMAGE( uParam1 );
    REMOVE_ALL_PED_WEAPONS( uParam1 );
    if (NOT (iParam0->_fU56 == -1569615261))
    {
        uVar7 = sub_6221( uParam1, iParam0->_fU56, 0, iParam0->_fU76, 1 );
        sub_6581( uVar7, iParam0 + 96, iParam0 + 100 );
    }
    if (NOT (iParam0->_fU60 == -1569615261))
    {
        uVar7 = sub_6221( uParam1, iParam0->_fU60, 1, iParam0->_fU80, 1 );
        sub_6581( uVar7, iParam0 + 104, iParam0 + 108 );
    }
    if (NOT (iParam0->_fU64 == -1569615261))
    {
        uVar7 = sub_6221( uParam1, iParam0->_fU64, 2, iParam0->_fU84, 1 );
        sub_6581( uVar7, iParam0 + 112, iParam0 + 116 );
    }
    if (NOT (iParam0->_fU68 == -1569615261))
    {
        uVar7 = sub_6866( uParam1, iParam0->_fU68, iParam0->_fU88, 0, 1 );
        sub_6581( uVar7, iParam0 + 120, iParam0 + 124 );
    }
    if (NOT (iParam0->_fU72 == -1569615261))
    {
        uVar7 = sub_6866( uParam1, iParam0->_fU72, iParam0->_fU92, 1, 1 );
        sub_6581( uVar7, iParam0 + 128, iParam0 + 132 );
    }
    if (l_U0 == 1)
    {
        if ((IS_PED_DEAD( uParam1 )) == 0)
        {
            if (iParam0->_fU68 != -1569615261)
            {
                uVar7 = GET_WEAPON_FROM_HAND( uParam1, 0, 0 );
                if ((GET_DOES_WEAPON_EXIST( uVar7 )) == 1)
                {
                    uVar8 = GET_WEAPON_TYPE( uVar7 );
                    if ((sub_7359( uVar8 )) == 1)
                    {
                        iVar9 = GET_MAX_AMMO_IN_HAND_CLIP_MP( uParam1, 0 );
                        iVar10 = iParam0->_fU88;
                        if (iVar10 < iVar9)
                        {
                            iVar11 = iVar9 - iVar10;
                            ADD_AMMO_TO_PED( uParam1, uVar8, iVar11, 0 );
                            SET_WEAPON_AMMO_IN_CLIP( uVar7, iVar9 );
                        }
                    }
                }
            }
        }
    }
    sub_7520( iParam0->_fU52 );
    SET_ADRENALINE_AMT( iParam0->_fU32 );
    if (GET_ADRENALINE_AMT() < 0.20000000)
    {
        SET_ADRENALINE_AMT( 0.20000000 );
    }
    SET_PAYNEKILLER_AMT( iParam0->_fU36 );
    SET_PED_DUCKING( sub_385(), 0 );
    GET_TIME_OF_DAY( ref uVar12, ref uVar13 );
    if (iParam0->_fU140 == 1)
    {
        FREEZE_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    else
    {
        RELEASE_TIME_OF_DAY();
        SET_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    SET_PED_SWEAT( uParam1, iParam0->_fU136, -1.00000000 );
    RESTORE_PICKUPS();
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( iParam0->_fU20, 1065353216, 0 );
    SET_GAMEPLAY_CAM_RELATIVE_PITCH( iParam0->_fU24, 1065353216, 0 );
    HANDLE_CHECKPOINT_RESTART();
    if (l_U0)
    {
        ADJUST_AMMO_ATTEMPTS();
        ADJUST_PAIN_KILLERS_ATTEMPTS();
    }
    l_U0 = 1;
    DISPLAY_HUD( 1 );
    if (IS_DEATH_PANEL_WIPE_ALLOWED())
    {
        if (IS_BULLET_CAMERA_WIPE_STOPPED())
        {
            RESUME_BULLET_CAMERA_WIPE_ON_FADEIN();
        }
    }
    sub_228( "GA", "Restoring the player to the checkpoint - End", 0 );
    return;
}

void sub_4852(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    iVar3 = 0;
    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        iVar3 = sub_4884( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, iVar3, 513, uParam0 );
    END_CONTEXT( ref uVar4 );
    return;
}

int sub_4884(unknown uParam0)
{
    if (ARE_STRINGS_EQUAL( uParam0, "s_air" ))
    {
        return 21;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_beach" ))
    {
        return 22;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_boat" ))
    {
        return 10;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_booze" ))
    {
        return 0;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_busdep" ))
    {
        return 17;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_cemet" ))
    {
        return 15;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_club" ))
    {
        return 5;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_clubride" ))
    {
        return 4;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fashion" ))
    {
        return 3;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav0" ))
    {
        return 13;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav1" ))
    {
        return 14;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav2" ))
    {
        return 16;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fire" ))
    {
        return 12;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_hotel" ))
    {
        return 19;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_intro" ))
    {
        return 1;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_marina" ))
    {
        return 9;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc" ))
    {
        return 7;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc2" ))
    {
        return 8;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_office" ))
    {
        return 11;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_pana" ))
    {
        return 18;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_police" ))
    {
        return 20;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_stad" ))
    {
        return 6;
    };;;;;;;;;;;;;;;;;;;;;;
    return 99;
}

void sub_5929(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
        SET_LOAD_COLLISION_FOR_PED_FLAG( uParam0, 1 );
        SET_PED_COORDS_NO_OFFSET( uParam0, uVar3 );
        FREEZE_PED_POSITION( uParam0, 1 );
        REQUEST_COLLISION_AT_COORD( uVar3 );
        if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
        {
            FREEZE_PED_POSITION( uParam0, 0 );
        }
    }
    return;
}

void sub_6221(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's holster MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HOLSTER( uParam0, uParam1, uParam3, uParam2 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
                }
            }
        }
    }
    else
    {
        sub_6537( "[SP]### (F_GivePedWeaponToHolster) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

void sub_6537(unknown uParam0)
{
    return;
}

void sub_6581(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        if (IS_BIT_SET( (uParam1^), I ))
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, IS_BIT_SET( (uParam2^), I ) );
        }
        else
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
        }
    }
    return;
}

void sub_6866(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's hand MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, uParam2, uParam3 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
                }
            }
        }
    }
    else
    {
        sub_6537( "[SP]### (F_GivePedWeapon) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

int sub_7359(unknown uParam0)
{
    int iVar3;

    iVar3 = GET_WEAPONTYPE_AMMO( uParam0 );
    if ((iVar3 == -1383321053) || ((iVar3 == -1295933220) || ((iVar3 == 1138793073) || (iVar3 == -1088031219))))
    {
        return 1;
    }
    return 0;
}

void sub_7520(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        uVar3 = sub_4884( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, uParam0 );
    sub_7592( uVar3 );
    START_CONTEXT( ref uVar4 );
    return;
}

void sub_7592(int iParam0)
{
    if (iParam0 != 3)
    {
        END_CONTEXT( "S_FAS_GG_PT" );
    }
    if (iParam0 != 5)
    {
        END_CONTEXT( "S_CLB_GG_M3" );
        END_CONTEXT( "S_CLB_MS" );
    }
    if (iParam0 != 6)
    {
        END_CONTEXT( "S_STA_GG_M1" );
        END_CONTEXT( "S_STA_GG_M81" );
    }
    if (iParam0 != 7)
    {
        END_CONTEXT( "S_NY1_GG_19" );
    }
    if (iParam0 != 8)
    {
        END_CONTEXT( "S_NY2_GG_40" );
        END_CONTEXT( "S_NY2_GG_M5" );
    }
    if (iParam0 != 9)
    {
        END_CONTEXT( "S_MAR_GG_LM" );
        END_CONTEXT( "S_MAR_GG_9M" );
    }
    if (iParam0 != 11)
    {
        END_CONTEXT( "S_OFF_GG_MD" );
    }
    if (iParam0 != 14)
    {
        END_CONTEXT( "S_FV1_GG_SP" );
        END_CONTEXT( "S_FV1_GG_SA" );
    }
    if (iParam0 != 15)
    {
        END_CONTEXT( "S_NYC_GG_6M" );
        END_CONTEXT( "S_NYC_GG_A9" );
    }
    if (iParam0 != 16)
    {
        END_CONTEXT( "S_FV2_GG_D5" );
        END_CONTEXT( "S_FV2_GG_97" );
    }
    if (iParam0 != 17)
    {
        END_CONTEXT( "S_BUS_GG_M4" );
        END_CONTEXT( "S_BUS_GG_FN" );
    }
    if (iParam0 != 18)
    {
        END_CONTEXT( "S_PAN_GG_AK" );
        END_CONTEXT( "S_PAN_GG_SS" );
    }
    if (iParam0 != 19)
    {
        END_CONTEXT( "S_HOT_GG_G3" );
        END_CONTEXT( "S_HOT_GG_LA" );
    }
    if (iParam0 != 20)
    {
        END_CONTEXT( "S_POL_GG_G6" );
        END_CONTEXT( "S_POL_GG_RP" );
        END_CONTEXT( "S_POL_GG_MP" );
    }
    if (iParam0 != 21)
    {
        END_CONTEXT( "S_AIR_GG_RG" );
        END_CONTEXT( "S_AIR_GG_PD" );
    }
    return;
}

void sub_8949()
{
    int iVar2;
    int I;

    iVar2 = l_U847;
    sub_8966();
    if (l_U847 > 10)
    {
        sub_9354( ref g_U2637, -20.00000000, 1, 1 );
        sub_9501();
        sub_9519();
        if (sub_1436( ref l_U2648 ))
        {
            sub_9993( ref l_U2657 );
        }
        if ((PED_GET_ACTION_INTENTION_STATUS( sub_385(), 55 )) == 3)
        {
            PLAY_IMAGEFX( "CONTRAST_ZOOM_FAST_BLUE", 4, 1 );
            PLAY_IMAGEFX( "CONTRAST_ZOOM_FAST_BLUE", 4, 1 );
            PED_FINISH_ACTION_INTENTION( sub_385(), 55 );
            START_PARTICLE_FX_NON_LOOPED_AT_COORD( "NC_MPM_RF_Glass_Shatter_S", 33.61000000, -61.70000000, -0.06000000, 0, 0, 0, 1065353216 );
            ENABLE_WALLA_ZONE( "S_CLUB_WZ_DANCE_HALL", 1 );
            sub_10623();
        }
        if (NOT (IS_PED_DEAD( g_U2616 )))
        {
            if ((PED_GET_ACTION_INTENTION_STATUS( g_U2616, 50 )) == 3)
            {
                SET_PED_SHOOTS_AT_COORD( g_U2616, 38.22000000, -66.80000000, -1.99000000 );
                PED_FINISH_ACTION_INTENTION( g_U2616, 50 );
            }
        }
        if (NOT (IS_PED_DEAD( g_U2616 )))
        {
            if ((PED_GET_ACTION_INTENTION_STATUS( g_U2616, 51 )) == 3)
            {
                TASK_DROP_WEAPON( g_U2616, GET_WEAPON_FROM_HAND( g_U2616, 0, 0 ) );
                PED_FINISH_ACTION_INTENTION( g_U2616, 51 );
            }
        }
        if (NOT l_U2761)
        {
            if (sub_11125() == 1)
            {
                sub_11224();
                l_U2761 = 1;
            }
        }
        if (sub_1436( ref l_U920 ))
        {
            sub_12094();
        }
        if (sub_1436( ref l_U911 ))
        {
            sub_13016();
        }
    }
    switch (l_U847)
    {
        case 0: break;
        case 1:
        sub_228( "MF", "eCheckpointState = CPS_INITIALIZE_SCRIPT_DATA", 0 );
        sub_13384();
        sub_13845();
        sub_25136();
        SET_SCRIPT_CONTROL_RESET_ON_PLAYER_DEATH( 1 );
        l_U847 = 2;
        sub_228( "MF", "eCheckpointState = CPS_INITIAL_REQUEST_ASSETS", 0 );
        break;
        case 2:
        sub_228( "MF", "eCheckpointState = CPS_INITIAL_REQUEST_ASSETS", 0 );
        sub_25333();
        sub_25979();
        l_U847 = 3;
        sub_228( "MF", "eCheckpointState = CPS_INITIAL_LOADING_ASSETS", 0 );
        break;
        case 3:
        if ((sub_26738() == 1) AND (sub_26412() == 1))
        {
            l_U847 = 4;
            sub_228( "SP", "eCheckpointState = CPS_SETUP_START_POINT", 0 );
            break;
        }
        return;
        case 4:
        sub_228( "SP", "eCheckpointState = CPS_SETUP_START_POINT", 0 );
        if ((NOT l_U811._fU0) AND (g_U891 <= 1))
        {
            l_U847 = 5;
            sub_228( "MF", "eCheckpointState = CPS_LEVEL_LOAD_SCRIPT_SETUP", 0 );
        }
        else
        {
            l_U847 = 7;
            sub_228( "MF", "eCheckpointState = CPS_WAITING_TO_ACTIVATE", 0 );
        }
        break;
        case 5:
        if (NOT (sub_27198( ref l_U811 )))
        {
            sub_6866( sub_385(), 68019059, 200, 0, 0 );
            l_U847 = 6;
            sub_228( "MF", "eCheckpointState = CPS_LEVEL_LOAD_WAIT_FOR_PLAYER_WEAPONS", 0 );
        }
        else
        {
            l_U847 = 7;
            sub_228( "MF", "eCheckpointState = CPS_WAITING_TO_ACTIVATE", 0 );
        }
        break;
        case 6:
        if (NOT (IS_PED_DEAD( sub_385() )))
        {
            if (GET_DOES_WEAPON_EXIST( GET_WEAPON_FROM_HAND( sub_385(), 0, 0 ) ))
            {
                l_U847 = 7;
                sub_228( "MF", "eCheckpointState = CPS_WAITING_TO_ACTIVATE", 0 );
            }
        }
        break;
        case 7:
        sub_25333();
        sub_25979();
        sub_228( "MF", "Setting state to: CPS_02_01", 0 );
        l_U847 = 9;
        break;
        case 9:
        sub_228( "SP", "eCheckpointState = CPS_WAITING_FOR_ASSETS", 0 );
        if ((sub_26738() == 1) AND (sub_26412() == 1))
        {
            l_U847 = 11;
            sub_228( "SP", "eCheckpointState = CPS_GAMEPLAY_SETUP", 0 );
            break;
        }
        return;
        case 11:
        if (sub_27862() == 1)
        {
            sub_32450( ref g_U3150, 1 );
            sub_32450( ref g_U3157, 1 );
            sub_32661();
            sub_32969( ref g_U2617, "piDF_VIG_01_CIV_COWER", ref g_U2512 );
            SET_PED_VISIBLE( g_U2617[0], 0 );
            sub_32969( ref g_U2619, "piDF_VIG_01_CIV_COWER_2", ref g_U2512 );
            sub_32969( ref g_U2621, "piDF_VIG_01_CIV_COWER_3", ref g_U2512 );
            sub_32969( ref g_U2625, "piDF_VIG_01_O_CPL1", ref g_U2512 );
            sub_32969( ref g_U2623, "piDF_VIG_01_O_SNGL", ref g_U2512 );
            sub_32969( ref g_U2631, "piDF_VIG_01_STAIR_CIV", ref g_U2512 );
            sub_32969( ref g_U2633, "piDF_VIG_01_N", ref g_U2512 );
            sub_33542();
            sub_34046();
            SET_TRANSITION_MOVIE_SKIPPABLE( 1 );
            sub_35146();
            sub_228( "MF", "Setting state to: CPS_WAITING_FOR_BINK", 0 );
            l_U847 = 10;
        }
        break;
        case 10:
        if ((GET_TRANSITION_MOVIE_FRAMES_REMAINING() <= 9) || (NOT IS_TRANSITION_MOVIE_PLAYING()))
        {
            sub_228( "MF", "ANIMATION START", 0 );
            ENABLE_STATIC_EMITTER( "S_CLUB_SE_DANCE_CLUB_DJ_BOOTH_GEAR", 1 );
            ENABLE_STATIC_EMITTER( "S_CLUB_SE_LOUNGE_MUSIC", 1 );
            sub_35416( 1, 0, 0, 1 );
            sub_35575();
            sub_35684();
            sub_36156();
            sub_36345();
            sub_9993( ref l_U1314 );
            sub_9993( ref l_U1030 );
            sub_9993( ref l_U1354 );
            sub_9993( ref l_U1420 );
            sub_9993( ref l_U1486 );
            sub_9993( ref l_U1562 );
            sub_9993( ref l_U1628 );
            sub_9993( ref l_U1694 );
            sub_9993( ref l_U1760 );
            sub_9993( ref l_U1826 );
            sub_9993( ref l_U1892 );
            sub_9993( ref l_U1958 );
            sub_9993( ref l_U2024 );
            sub_9993( ref l_U2113 );
            sub_9993( ref l_U2179 );
            sub_9993( ref l_U2245 );
            sub_9993( ref l_U2311 );
            sub_9993( ref l_U2377 );
            sub_9993( ref l_U2453 );
            sub_9993( ref l_U2519 );
            sub_9993( ref l_U2585 );
            sub_10030( ref l_U1137, 0, 0, 1 );
            sub_37343();
            sub_37535();
            sub_37710();
            sub_37888();
            sub_38117();
            sub_38346();
            ENABLE_STATIC_EMITTER( "S_CLUB_SE_CROWD_PANIC", 1 );
            PLAY_SCRIPT_STREAM_FRONTEND( 0 );
            if (NOT l_U811._fU0)
            {
                g_U892 = 1;
                sub_38721( ref l_U811, g_U892, sub_385(), g_U2216[1], g_U2331[1], g_U2370[1], g_U2409[1], 0 );
            }
            sub_228( "MF", "ANIMATION END", 0 );
            l_U847 = 13;
            sub_228( "MF", "eCheckpointState = CPS_MPM_BLEND_IN", 0 );
        }
        break;
        case 13:
        if (l_U848 == 1)
        {
            sub_228( "MF", "START FIRST UPDATE SETUP", 0 );
            sub_1318( ref l_U857 );
            sub_1318( ref l_U884 );
            sub_1318( ref l_U866 );
            sub_1318( ref l_U875 );
            sub_1318( ref l_U920 );
            sub_1318( ref l_U942 );
            sub_1318( ref l_U2638 );
            sub_1318( ref l_U2443 );
            sub_1318( ref l_U1552 );
            sub_1318( ref l_U2103 );
            SET_FORCED_AIM_INTENTION_DIRECTION( 0.01045600, 0.99782800, -0.06503900 );
            SET_PLAYER_FORCED_AIM( sub_407(), 1, 0 );
            SET_CAMERA_OVERRIDE( "S_CLUB_FALL_AIM_CAMERA", "", 1, 1, 1 );
            sub_1318( ref l_U2648 );
            sub_1318( ref l_U911 );
            if (NOT sub_42642())
            {
                if (IS_DEATH_PANEL_WIPE_ALLOWED())
                {
                    DO_SCREEN_FADE_IN( 0 );
                }
            }
            sub_228( "MF", "END FIRST UPDATE SETUP", 0 );
        }
        if (sub_1436( ref l_U857 ))
        {
            sub_42933();
            sub_43109();
            if (NOT (IS_PED_DEAD( g_U2637[2] )))
            {
                PED_SET_ACTION_INTENTION( g_U2637[2], 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
            }
            if (NOT (IS_PED_DEAD( g_U2637[5] )))
            {
                PED_SET_ACTION_INTENTION( g_U2637[5], 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
            }
        }
        if (sub_1436( ref l_U866 ))
        {
            SET_GAMEPLAY_CAM_RELATIVE_HEADING( -10.00000000, 1065353216, 0 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( -4.00000000, 1065353216, 0 );
            CAMERA_ANIMATED_STOP( 2400, 1 );
        }
        if ((sub_1436( ref l_U875 )) == 1)
        {
            sub_43448();
            sub_43664();
            sub_228( "MF", "Setting state to: CPS_MPM_GAMEPLAY", 0 );
            l_U847 = 14;
        }
        break;
        case 14:
        if (l_U848)
        {
            for ( I = 0; I < g_U2637; I++ )
            {
                if (NOT (IS_PED_DEAD( g_U2637[I] )))
                {
                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( g_U2637[I], 0 );
                    SET_BLOCKING_OF_PED_TARGETTING( g_U2637[I], 0 );
                }
                if (NOT (IS_PED_DEAD( sub_385() )))
                {
                    RESET_FORCED_AIM_INTENTION_DIRECTION();
                }
            }
            sub_43976( 1, 1 );
            sub_44240();
            sub_1318( ref l_U893 );
            CLEAR_PED_DEFAULT_AIM( sub_385() );
            sub_3944( ref l_U1137 );
            PED_SET_ACTION_INTENTION( sub_385(), 47, -1, 0.00000000, 0.00000000, 0.00000000 );
            sub_3944( ref l_U1314[1] );
            sub_3944( ref l_U1314[2] );
        }
        sub_44531();
        if (IS_BULLET_CAMERA_RUNNING( 0 ))
        {
            if (DOES_OBJECT_EXIST( l_U2657[0]._fU24 ))
            {
                sub_228( "MF", "Cleaning up spDF_VIG_01_UNDER_MAX", 0 );
                sub_3914( ref l_U2657 );
            }
        }
        if (sub_1436( ref l_U893 ))
        {
            DEACTIVATE_BULLET_TIME( 1, 0 );
            SET_PLAYER_CONTROL( sub_407(), 0, 0 );
            ENABLE_CROSSHAIR( 0 );
            sub_228( "MF", "Setting state to: CPS_MPM_BLEND_OUT", 0 );
            l_U847 = 15;
        }
        break;
        case 15:
        sub_228( "MF", "BLENDOUT IS ACTIVE", 0 );
        if (l_U848 == 1)
        {
            sub_45121();
            SET_CAMERA_OVERRIDE( "PRONE_AIM_CAMERA", "PRONE_AIM_CAMERA", 1, 1, 1 );
            sub_45571( sub_45524(), 0.40000000 );
            sub_3914( ref l_U2657 );
            if (NOT (IS_PED_DEAD( g_U2631[0] )))
            {
                sub_228( "MF", "Killing piDF_VIG_01_STAIR_CIV[0]", 0 );
                SHOOT_SINGLE_BULLET_BETWEEN_COORDS( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_BONE_COORDS( g_U2631[0], 65488, -0.10000000, 0.00000000, 0.10000000 ), "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_BONE_COORDS( g_U2631[0], 65488, 0.10000000, 0.00000000, -0.10000000 ), 99, 1, 406496141, 0 );
            }
            if (NOT (IS_PED_DEAD( g_U2628[0] )))
            {
                sub_228( "MF", "Killing piDF_VIG_01_O_CPL2[0]", 0 );
                SHOOT_SINGLE_BULLET_BETWEEN_COORDS( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_BONE_COORDS( g_U2628[0], 65488, 0.00000000, 0.00000000, 0.10000000 ), "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_BONE_COORDS( g_U2628[0], 65488, 0.00000000, 0.00000000, -0.10000000 ), 99, 1, 406496141, 0 );
            }
        }
        sub_44531();
        if ((sub_45948( sub_385(), 47 )) == 1)
        {
            sub_46003();
            sub_228( "MF", "Setting state to: CPS_DANCE_FLOOR_SETUP", 0 );
            l_U847 = 16;
        }
        break;
        case 16:
        sub_46203();
        sub_46588();
        sub_43976( 1, 1 );
        SET_PLAYER_CONTROL( sub_407(), 1, 0 );
        sub_46827();
        sub_46959();
        if (NOT (IS_PED_DEAD( g_U2633[0] )))
        {
            sub_228( "MF", "Killing Girl against lit wall", 0 );
            SHOOT_SINGLE_BULLET_BETWEEN_COORDS( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_BONE_COORDS( g_U2633[0], 65488, 0.00000000, 0.00000000, 0.10000000 ), "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_BONE_COORDS( g_U2633[0], 65488, 0.00000000, 0.00000000, -0.10000000 ), 99, 1, 406496141, 0 );
        }
        if (NOT (IS_PED_DEAD( g_U2628[1] )))
        {
            sub_228( "MF", "Killing piDF_VIG_01_O_CPL2[1]", 0 );
            SHOOT_SINGLE_BULLET_BETWEEN_COORDS( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_BONE_COORDS( g_U2628[1], 65488, 0.00000000, 0.00000000, 0.10000000 ), "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_BONE_COORDS( g_U2628[1], 65488, 0.00000000, 0.00000000, -0.10000000 ), 99, 1, 406496141, 0 );
        }
        if (NOT (IS_PED_DEAD( g_U2623[0] )))
        {
            sub_228( "MF", "Killing piDF_VIG_01_O_SNGL[0]", 0 );
            SHOOT_SINGLE_BULLET_BETWEEN_COORDS( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_BONE_COORDS( g_U2623[0], 65488, 0.00000000, 0.00000000, 0.10000000 ), "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_BONE_COORDS( g_U2623[0], 65488, 0.00000000, 0.00000000, -0.10000000 ), 99, 1, 406496141, 0 );
        }
        if (NOT (sub_47559( ref g_U2637, 1 )))
        {
            sub_47656( ref l_U2762 );
            sub_47738( 0, sub_385(), "MAX", ref l_U2762, 2, 0 );
            sub_47738( 1, l_U1057[3], "GIOVANNA", ref l_U2762, 2, 0 );
            sub_47988( "SCLB_VIG01DA", ref l_U2762, 8, 1 );
        }
        sub_228( "MF", "Setting state to: CPS_DANCE_FLOOR_COMBAT", 0 );
        l_U847 = 17;
        case 17:
        sub_44531();
        sub_48833();
        if (l_U848)
        {
            sub_1318( ref l_U902 );
            if (NOT (IS_PED_DEAD( g_U2628[0] )))
            {
                SET_PED_CORPSE( g_U2628[0], 0 );
            }
            if (NOT (IS_PED_DEAD( g_U2628[1] )))
            {
                SET_PED_CORPSE( g_U2628[1], 0 );
            }
            SET_PLAYER_FORCED_AIM( sub_407(), 0, 0 );
        }
        if ((sub_1436( ref l_U942 )) == 1)
        {
            ENABLE_STATIC_EMITTER( "S_CLUB_SE_CROWD_PANIC", 0 );
            ENABLE_WALLA_ZONE( "S_CLUB_WZ_DANCE_HALL", 0 );
        }
        if (sub_1436( ref l_U902 ))
        {
            if (NOT (IS_PED_DEAD( sub_385() )))
            {
                sub_228( "MF", "Restoring player vulnerability.", 0 );
                SET_PED_PROOFS( sub_385(), 0, 0, 0, 0, 0 );
            }
        }
        if (NOT l_U2760)
        {
            if (NOT IS_PLAYER_SHOOTDODGING())
            {
                SET_CAM_VIEW_MODE( 1 );
                SET_CAMERA_OVERRIDE( "", "", 0, 1, 1 );
                if (ISEQ_QUERY_ENTITY_STATE( 344271746, "attacker", 3 ))
                {
                    sub_228( "MF", "Releasing window CS to corpse...", 0 );
                    ISEQ_UNREGISTER_ENTITY( 344271746, "attacker" );
                    SET_PED_CORPSE_FROM_ANIM( g_U2616, "level_s_club_CP_01_02", "B_OUT_02_01_NC_MPM_FWD_SLOW_GMED", 1.00000000, 0 );
                }
                sub_228( "MF", "Resetting cam view to medium....", 0 );
                l_U2760 = 1;
            }
        }
        if ((NOT (IS_BULLET_CAMERA_RUNNING( 0 ))) AND (sub_47559( ref g_U2637, 1 )))
        {
            l_U847 = 18;
        }
        break;
        case 18:
        sub_44531();
        sub_48833();
        if (l_U848)
        {
            sub_3203( -1355646060, 1 );
            sub_3086( ref l_U1057 );
            sub_3914( ref l_U1030 );
            sub_50047();
            sub_1318( ref g_U3350 );
            sub_1318( ref g_U3340 );
            sub_50569( ref l_U2671, 1300 );
            sub_1318( ref l_U2690 );
            if (NOT (IS_PED_DEAD( sub_385() )))
            {
                sub_228( "MF", "Restoring player vulnerability.", 0 );
                SET_PED_PROOFS( sub_385(), 0, 0, 0, 0, 0 );
            }
            ENABLE_STATIC_EMITTER( "S_CLUB_SE_CROWD_PANIC", 0 );
            ENABLE_WALLA_ZONE( "S_CLUB_WZ_DANCE_HALL", 0 );
            sub_50764( ref g_U893[2] );
        }
        if (sub_1436( ref l_U2671 ))
        {
            if (NOT (sub_50810( l_U2739 )))
            {
                sub_50909( "SCLB_KCSDF", ref l_U2680 );
            }
        }
        if (sub_1436( ref l_U2690 ))
        {
            sub_228( "MF", "Starting ambient Audio Wallas...", 0 );
            ENABLE_WALLA_ZONE( "S_CLUB_WZ_COAT_CHECK_CS", 1 );
            ENABLE_WALLA_ZONE( "S_CLUB_WZ_COAT_CHECK_HOSTAGES", 1 );
            ENABLE_AMBIENT_ZONE( "S_CLUB_ZONE_COAT_CHECK_GUNSHOTS", 1 );
        }
        if (l_U2671._fU16)
        {
            if (sub_51181( ref l_U2739, 0 ))
            {
                sub_228( "MF", "Killing Speech: tbDF_SPEECH_STOP_KCSDF", 0 );
                sub_51339( ref l_U2680, 1 );
            }
        }
        if (NOT l_U2760)
        {
            if (NOT IS_PLAYER_SHOOTDODGING())
            {
                SET_CAM_VIEW_MODE( 1 );
                SET_CAMERA_OVERRIDE( "", "", 0, 1, 1 );
                if (ISEQ_QUERY_ENTITY_STATE( 344271746, "attacker", 3 ))
                {
                    sub_228( "MF", "Releasing window CS to corpse...", 0 );
                    ISEQ_UNREGISTER_ENTITY( 344271746, "attacker" );
                    SET_PED_CORPSE_FROM_ANIM( g_U2616, "level_s_club_CP_01_02", "B_OUT_02_01_NC_MPM_FWD_SLOW_GMED", 1.00000000, 0 );
                }
                sub_228( "MF", "Resetting cam view to medium.....", 0 );
                l_U2760 = 1;
            }
        }
        if (sub_50810( l_U1115 ))
        {
            g_U1074[2] = 1;
            if (IS_BULLET_CAMERA_ACTIVE() == 1)
            {
                BULLET_CAMERA_TRACK_UNTIL_GROUNDED( 1 );
                ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 1 );
            }
            l_U847 = 21;
        }
        if (l_U2671._fU16)
        {
            if (sub_51181( ref l_U2708, 0 ))
            {
                sub_50569( ref l_U2699, 400 );
            }
        }
        if (NOT (IS_ANY_SPEECH_PLAYING( sub_385() )))
        {
            if (sub_1436( ref l_U2699 ))
            {
                sub_228( "MF", "Playing Speech: SCLB_MTKDD", 0 );
                sub_50909( "SCLB_MTKDD", ref l_U2729 );
            }
        }
        if (TIME_SINCE_LAST_MONOLOGUE() > 1500)
        {
            if (NOT g_U1102)
            {
                if (sub_1436( ref g_U3350 ))
                {
                    sub_50909( "SCLB_MTTLS", ref g_U3361 );
                }
                if ((sub_1436( ref g_U3340 )) == 1)
                {
                    if (sub_52037() == 1)
                    {
                        l_U37 = 2;
                        l_U847 = 19;
                        sub_228( "SP", "eCheckpointState = CPS_HANDLE_MID_02_FAIL2", 0 );
                    }
                    else if (sub_52037() == 2)
                    {
                        l_U38 = 2;
                        l_U847 = 20;
                        sub_228( "SP", "eCheckpointState = CPS_HANDLE_MID_02_FAIL3", 0 );
                    }
                    else
                    {
                        sub_228( "SP", "Player is outside of any fail trigger... defaulting...", 0 );
                        l_U37 = 2;
                        l_U847 = 19;
                        sub_228( "SP", "eCheckpointState = CPS_HANDLE_MID_02_FAIL2", 0 );
                    }
                }
            }
        }
        break;
        case 19:
        if (sub_52815() == 1)
        {
            l_U847 = 0;
            sub_228( "SP", "eCheckpointState = CPS_IDLE", 0 );
            g_U3360 = 1;
        }
        else
        {
            return;
        }
        break;
        case 20:
        if (sub_54391() == 1)
        {
            l_U847 = 0;
            sub_228( "SP", "eCheckpointState = CPS_IDLE", 0 );
            g_U3360 = 1;
        }
        else
        {
            return;
        }
        break;
        case 21:
        sub_228( "MF", "eCheckpointState = CPS_FINISHED", 0 );
        SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
        l_U847 = 0;
        sub_228( "MF", "eCheckpointState = CPS_IDLE", 0 );
        break;
    }
    if (l_U847 != iVar2)
    {
        l_U848 = 1;
    }
    else
    {
        l_U848 = 0;
    }
    return;
}

void sub_8966()
{
    if (sub_8976() == 1)
    {
        if (sub_9094( ref g_U2637, 1 ))
        {
            sub_9195( ref g_U2637 );
        }
    }
    return;
}

void sub_8976()
{
    unknown Result;

    Result = sub_8990( ref g_U2637 );
    return Result;
}

void sub_8990(unknown uParam0)
{
    int Result;
    int I;
    int iVar5;

    Result = 0;
    iVar5 = (uParam0^) - 1;
    for ( I = 0; I <= iVar5; I++ )
    {
        if (NOT (IS_PED_DEAD( (uParam0^)[I] )))
        {
            Result++;
        }
    }
    return Result;
}

void sub_9094(unknown uParam0, boolean bParam1)
{
    int I;
    int Result;

    Result = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
        if ((DOES_PED_EXIST( (uParam0^)[I] )) == 1)
        {
            Result = 1;
            if (NOT bParam1)
            {
                return 1;
            }
        }
        else
        {
            Result = 0;
        }
    }
    return Result;
}

void sub_9195(unknown uParam0)
{
    int I;

    if ((sub_8990( uParam0 )) == 1)
    {
        for ( I = 0; I <= ((uParam0^) - 1); I++ )
        {
            if (NOT (IS_PED_DEAD( (uParam0^)[I] )))
            {
                if (NOT (GET_PED_CAN_TRIGGER_BULLET_CAM( (uParam0^)[I] )))
                {
                    SET_PED_CAN_TRIGGER_BULLET_CAM( (uParam0^)[I], 1 );
                    return (uParam0^)[I];
                }
            }
        }
    }
    return nil;
}

void sub_9354(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_9391( (uParam0^)[I], uParam1, uParam2, uParam3 );
    }
    return;
}

void sub_9391(unknown uParam0, float fParam1, int iParam2, boolean bParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;

    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        uVar6 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
        if (uVar6._fU8 < fParam1)
        {
            if (iParam2 == 1)
            {
                SET_PED_HEALTH( uParam0, 0, 0 );
            }
            if (bParam3)
            {
                sub_3008( uParam0 );
            }
        }
    }
    return;
}

void sub_9501()
{
    return;
}

void sub_9519()
{
    sub_9538( ref l_U1486, 1065353216 );
    if (sub_1436( ref l_U2638 ))
    {
        sub_3914( ref l_U2453 );
        sub_3914( ref l_U2519 );
        sub_3914( ref l_U2585 );
    }
    if (sub_1436( ref l_U2443 ))
    {
        sub_3914( ref l_U2113 );
        sub_3914( ref l_U2179 );
        sub_3914( ref l_U2245 );
        sub_3914( ref l_U2311 );
        sub_3914( ref l_U2377 );
    }
    if (sub_1436( ref l_U1552 ))
    {
        sub_3914( ref l_U1354 );
        sub_3914( ref l_U1420 );
    }
    if (sub_1436( ref l_U2103 ))
    {
        sub_3914( ref l_U1562 );
        sub_3914( ref l_U1628 );
        sub_3914( ref l_U1694 );
        sub_3914( ref l_U1760 );
        sub_3914( ref l_U1826 );
        sub_3914( ref l_U1892 );
        sub_3914( ref l_U1958 );
        sub_3914( ref l_U2024 );
    }
    return;
}

void sub_9538(unknown uParam0, float fParam1)
{
    int I;

    if (fParam1 > 1.00000000)
    {
        sub_228( "MF", "fCleanupPhase Has a maximum of 1.0.  Clamping value to 1.0", 0 );
        fParam1 = 1.00000000;
    }
    for ( I = 0; I < (uParam0^); I++ )
    {
        if (DOES_OBJECT_EXIST( (uParam0^)[I]._fU24 ))
        {
            if ((GET_OBJECT_ANIM_CURRENT_TIME( (uParam0^)[I]._fU24, (uParam0^)[I]._fU32, (uParam0^)[I]._fU28 )) >= fParam1)
            {
                sub_3944( ref (uParam0^)[I] );
            }
        }
    }
    return;
}

int sub_9993(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_10030( ref (uParam0^)[I], "", "", 0 );
    }
    return 1;
}

int sub_10030(int iParam0, unknown uParam1, unknown uParam2, int iParam3)
{
    unknown uVar6;
    unknown uVar7;

    if (NOT (IS_STRING_NULL( uParam1 )))
    {
        uVar6 = uParam1;
    }
    else
    {
        uVar6 = iParam0->_fU28;
    }
    if (NOT (IS_STRING_NULL( uParam2 )))
    {
        uVar7 = uParam2;
    }
    else
    {
        uVar7 = iParam0->_fU32;
    }
    if (iParam0->_fU48 == 1)
    {
        PLAY_SIMPLE_PED_ANIM( iParam0->_fU24, uVar7, uVar6, iParam0->_fU36, iParam0->_fU40, iParam0->_fU44 );
        SET_OBJECT_ANIM_CURRENT_TIME( iParam0->_fU24, iParam0->_fU32, iParam0->_fU28, iParam0->_fU36 );
        return 1;
        break;
    }
    if (iParam3 == 1)
    {
        SCRIPT_ASSERT( "SIMPLE PED STRUCT NOT INITIALIZED! Can Not Play Anim From Unititialized Struct.", 0 );
    }
    sub_228( "MF", "SIMPLE PED STRUCT NOT INITIALIZED! Can Not Play Anim From Unititialized Struct.", 0 );
    return 0;
}

void sub_10623()
{
    sub_228( "MF", "P_DF_CIVS_VIG_01_STAIR_CIV - START", 0 );
    sub_10685( ref g_U2631 );
    if (NOT (IS_PED_DEAD( g_U2631[0] )))
    {
        ISEQ_REGISTER_ENTITY( -1957067951, "CIV_1", g_U2631[0], 0 );
    }
    ISEQ_START( -1957067951 );
    sub_228( "MF", "P_DF_CIVS_VIG_01_STAIR_CIV - END", 0 );
    return;
}

void sub_10685(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_10716( (uParam0^)[I] );
    }
    return;
}

void sub_10716(unknown uParam0)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_FREEZE_PROCESSING( uParam0, 0 );
        SET_PED_VISIBLE( uParam0, 1 );
        SET_PED_VISIBLE_DURING_SEQUENCE( uParam0, 1 );
        FREEZE_PED_POSITION( uParam0, 0 );
        SET_PED_COLLISION( uParam0, 1 );
        SET_PED_PROOFS( uParam0, 0, 0, 0, 0, 0 );
    }
    return;
}

int sub_11125()
{
    if ((HAS_MODEL_LOADED( g_U885 )) AND ((ISEQ_IS_LOADED( -921546714 )) AND ((ISEQ_IS_LOADED( -671715858 )) AND ((ISEQ_IS_LOADED( -1239976099 )) AND (ISEQ_IS_LOADED( -2074831912 ))))))
    {
        return 1;
    }
    return 0;
}

void sub_11224()
{
    sub_228( "SA", "P_CREATE_PLACEMENTS", "###" );
    sub_11272();
    return;
}

void sub_11272()
{
    sub_228( "CO", "P_CREATE_S_CLB_GG_38_01", 0 );
    sub_11389( ref g_U777, g_U885, 1887476559, -925661285, 27.02000000, -72.84000000, -2.45000000, 1.50000000, 0.00000000, g_U776, "rm_clb_firstclub" );
    sub_11518( ref g_U777 );
    return;
}

void sub_11389(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    if (NOT IS_ARCADE_MODE_ACTIVE())
    {
        iParam0->_fU4 = uParam1;
        iParam0->_fU8 = uParam2;
        iParam0->_fU12 = uParam3;
        iParam0->_fU16 = {uParam4};
        iParam0->_fU28 = {uParam7};
        StrCopy( ref iParam0->_fU40, uParam10, 32 );
    }
    else
    {
        sub_228( "CO", "NO GOLDEN GUNS FOR ARCADE", 0 );
    }
    return;
}

void sub_11518(int iParam0)
{
    sub_228( "CO", "P_CreateCollectible", 0 );
    if (NOT IS_ARCADE_MODE_ACTIVE())
    {
        if ((sub_11579( iParam0->_fU12 )) == 1)
        {
            sub_228( "CO", "HAS BEEN COLLECTED.", 0 );
        }
        else
        {
            sub_228( "CO", "has never been collected.", 0 );
        }
        if ((sub_11579( iParam0->_fU12 )) == 0)
        {
            sub_3453( iParam0->_fU0 );
            iParam0->_fU0 = sub_11814( iParam0->_fU8, iParam0->_fU16, iParam0->_fU28, 1, 0, 0, 1119092736 );
            if (NOT (IS_STRING_NULL( iParam0 + 40 )))
            {
                if ((DOES_PLACEMENT_EXIST( iParam0->_fU0 )) == 1)
                {
                    sub_228( "CO", "Added collectible to interior", 0 );
                    ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( iParam0->_fU0, iParam0 + 40 );
                }
            }
        }
    }
    else
    {
        sub_228( "CO", "NO GOLDEN GUNS FOR ARCADE", 0 );
    }
    return;
}

int sub_11579(unknown uParam0)
{
    unknown uVar3;
    float fVar4;

    if (IS_COLLECTABLE_ENABLED() == 0)
    {
        return 1;
    }
    uVar3 = uParam0;
    fVar4 = STAT_HASH_GET_FLOAT( uVar3 );
    if (ARE_SP_STATS_LOADED() == 1)
    {
        if ((STAT_HASH_EXISTS( uVar3 )) == 1)
        {
            if (fVar4 > 0.00000000)
            {
                return 1;
            }
        }
    }
    return 0;
}

void sub_11814(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, int iParam8, unknown uParam9, unknown uParam10)
{
    unknown Result;

    Result = CREATE_PLACEMENT_ROTATE( uParam0, uParam1, uParam4, uParam7, 0, uParam9, uParam10 );
    if (iParam8 == 1)
    {
        while ((DOES_PLACEMENT_EXIST( Result )) == 0)
        {
            WAIT( 0 );
        }
    }
    return Result;
}

void sub_12094()
{
    int I;

    sub_228( "MF", "P_DF_EVACUATE_STAIR_CIVS - START", 0 );
    for ( I = 0; I < l_U2179; I++ )
    {
        l_U2179[I]._fU40 = 0;
        l_U2179[I]._fU44 = 1;
    }
    for ( I = 0; I < l_U2245; I++ )
    {
        l_U2245[I]._fU40 = 0;
        l_U2245[I]._fU44 = 1;
    }
    sub_10030( ref l_U2179[0], "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_B_RUN_CIV1", 0 );
    sub_10030( ref l_U2179[1], "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_B_RUN_CIV2", 0 );
    sub_10030( ref l_U2179[2], "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_B_RUN_CIV3", 0 );
    sub_10030( ref l_U2179[3], "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_B_RUN_CIV4", 0 );
    sub_10030( ref l_U2179[4], "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_B_RUN_CIV5", 0 );
    sub_10030( ref l_U2245[0], "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_D_RUN_CIV1", 0 );
    sub_10030( ref l_U2245[1], "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_D_RUN_CIV2", 0 );
    sub_10030( ref l_U2245[2], "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_D_RUN_CIV3", 0 );
    sub_10030( ref l_U2245[3], "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_D_RUN_CIV4", 0 );
    sub_10030( ref l_U2245[4], "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_D_RUN_CIV5", 0 );
    sub_228( "MF", "P_DF_EVACUATE_STAIR_CIVS - END", 0 );
    return;
}

void sub_13016()
{
    sub_228( "MF", "P_DF_MAKE_CS_VISIBLE - START", 0 );
    SET_PED_VISIBLE( l_U1057[1], 1 );
    SET_PED_VISIBLE( l_U1057[2], 1 );
    sub_228( "MF", "P_DF_MAKE_CS_VISIBLE - END", 0 );
    return;
}

void sub_13384()
{
    sub_228( "MF", "P_INIT_SCRIPT_VARIABLES", 0 );
    sub_1184( ref l_U857, 2300, 1, 0 );
    sub_1184( ref l_U866, 3300, 1, 0 );
    sub_1184( ref l_U875, 3900, 1, 0 );
    sub_1184( ref l_U884, 3000, 1, 0 );
    sub_1184( ref l_U893, 3050, 1, 0 );
    sub_1184( ref l_U942, 11500, 1, 0 );
    sub_1184( ref l_U902, 2000, 1, 0 );
    sub_1184( ref l_U911, 4000, 1, 0 );
    sub_1184( ref l_U2648, 200, 1, 0 );
    sub_1184( ref l_U920, 2900, 1, 0 );
    sub_1184( ref l_U2690, 2500, 1, 0 );
    sub_1184( ref l_U2638, l_U2647, 1, 0 );
    sub_1184( ref l_U2443, l_U2452, 1, 0 );
    sub_1184( ref l_U1552, l_U1561, 1, 0 );
    sub_1184( ref l_U2103, l_U2112, 1, 0 );
    l_U848 = 1;
    sub_13665( "SCLBAUD" );
    l_U2760 = 0;
    sub_1184( ref g_U3340, 60000, 1, 0 );
    sub_1184( ref g_U3350, 20000, 1, 0 );
    g_U3360 = 0;
    l_U2761 = 0;
    l_U37 = 0;
    l_U38 = 0;
    return;
}

void sub_13665(unknown uParam0)
{
    StrCopy( ref g_U157._fU0, uParam0, 16 );
    sub_13685();
    return;
}

void sub_13685()
{
    int I;

    for ( I = 0; I <= 8; I++ )
    {
        g_U157._fU16[I]._fU0 = nil;
        g_U157._fU16[I]._fU4 = 0;
        g_U157._fU92[I] = 0;
    }
    return;
}

void sub_13845()
{
    sub_228( "MF", "P_INIT_GAMEPLAY_STRUCTS", 0 );
    sub_13981( ref l_U1137, -1754819650, 34.51900000, -66.04400000, -1.01900000, 90.00000000, "level_s_club_CP_01", "B_OUT_02_01_NC_MPM_FWD_MARC", 0.32222000, 0, 1 );
    sub_14126( ref l_U929, 35.69000000, -68.00000000, -2.00900000, 125.48400000, -109371897, 4, 1, 0, 0, 1 );
    sub_14126( ref l_U951[0], 30.98000000, -46.48000000, -1.39000000, 160.00000000, 2069191521, 7, 3, 2, 0, 1 );
    sub_14126( ref l_U951[1], 29.18000000, -47.63000000, -2.18000000, 96.00000000, 908759261, 7, 3, 2, 0, 1 );
    sub_14126( ref l_U951[2], 32.61000000, -47.36000000, -1.73000000, 160.00000000, -479634300, 7, 3, 2, 0, 1 );
    sub_14126( ref l_U951[3], 30.98000000, -46.58000000, -1.39000000, 160.00000000, 2125764543, 7, 3, 2, 0, 1 );
    sub_14126( ref l_U951[4], 32.81000000, -47.36000000, -1.73000000, 160.00000000, 1304895343, 7, 3, 2, 0, 1 );
    sub_14126( ref l_U951[5], 31.61000000, -47.36000000, -1.73000000, 160.00000000, 1011421289, 7, 3, 2, 0, 1 );
    sub_14126( ref l_U1062[0], 26.15900000, -38.16600000, 0.81600000, 90.00000000, -406575828, 4, 1, 1, 6, 1 );
    sub_14126( ref l_U1062[1], 27.35800000, -38.16600000, 0.80900000, 70.00000000, 1382010956, 4, 1, 1, 6, 1 );
    sub_14126( ref l_U1062[2], 26.25900000, -38.16600000, 0.81600000, 90.00000000, -1217888826, 4, 1, 1, 6, 1 );
    sub_14126( ref l_U1062[3], 27.65800000, -38.16600000, 0.80900000, 70.00000000, 115797453, 4, 1, 1, 6, 1 );
    sub_13981( ref l_U1030[0], 2102978950, 30.86800000, -46.45100000, -0.59900000, 45.00000000, "LEVEL_S_CLUB_CP_01", "VIG_01C_NC_FLGE", 0, 0, 1 );
    sub_13981( ref l_U1030[1], -2053405148, 32.56300000, -47.53200000, -0.59900000, 0.00000000, "LEVEL_S_CLUB_CP_01", "VIG_01C_NC_FLGE1", 0, 0, 1 );
    sub_14126( ref l_U1150[0], 34.22251000, -70.56348000, -4.62861800, 90.00000000, 363747731, 5, 2, 0, 0, 1 );
    sub_14126( ref l_U1164[0], 32.42000000, -53.63000000, -4.62300000, 90.00000000, -77979043, 4, 1, 0, 0, 1 );
    sub_14126( ref l_U1178[0], 33.42000000, -53.63000000, -4.62300000, 90.00000000, -713696231, 5, 2, 0, 0, 1 );
    sub_14126( ref l_U1300[0], 34.37000000, -55.73000000, -4.62000000, 0.00000000, 1546900627, 5, 2, 0, 0, 1 );
    sub_14126( ref l_U1192[0], 23.99500000, -41.44000000, -0.18500000, 135.00000000, -1246391876, 4, 1, 0, 0, 0 );
    sub_14126( ref l_U1192[1], 25.21700000, -42.03800000, -0.18500000, -45.00000000, -354470668, 4, 2, 0, 0, 0 );
    sub_14126( ref l_U1192[2], 24.37500000, -42.36500000, -0.18500000, -45.00000000, -1852124536, 4, 1, 0, 0, 0 );
    sub_14126( ref l_U1232[0], 32.03400000, -43.39500000, -1.59400000, 135.00000000, 43383076, 5, 1, 0, 0, 0 );
    sub_14126( ref l_U1246[0], 33.90700000, -45.44900000, -1.58900000, 90.00000000, 752164575, 5, 1, 0, 0, 0 );
    sub_14126( ref l_U1246[1], 33.10800000, -44.36000000, -1.59300000, -135.00000000, 393518457, 5, 1, 0, 0, 0 );
    sub_14126( ref l_U1273[0], 26.60000000, -46.41000000, -1.58400000, 0.00000000, 1303366841, 5, 1, 0, 0, 0 );
    sub_14126( ref l_U1273[1], 25.73200000, -46.70000000, -1.58400000, 0.00000000, 1974723640, 5, 1, 0, 0, 0 );
    sub_13981( ref l_U1314[0], 205178535, 37.50400000, -60.70900000, -0.97700000, 150.00000000, "level_s_club_CP_01", "VIG_01_NC_CLAUDIO", 0, 0, 1 );
    sub_13981( ref l_U1314[1], -1246391876, 36.71000000, -60.41400000, -0.98000000, 179.91800000, "level_s_club_CP_01", "VIG_01_NC_CIV1", 0, 0, 1 );
    sub_13981( ref l_U1314[2], 1974723640, 37.38800000, -59.25300000, -0.98400000, 179.91800000, "level_s_club_CP_01", "VIG_01_NC_CIV2", 0, 0, 1 );
    sub_13981( ref l_U2113[0], -373486014, 18.76900000, -52.85000000, -1.99600000, -90.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_A_GMED", 0, 0, 1 );
    sub_13981( ref l_U2113[1], 805217890, 18.60200000, -53.75300000, -1.99500000, -90.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_A_GMED1", 0, 0, 1 );
    sub_13981( ref l_U2113[2], 619563126, 18.74400000, -51.44000000, -1.99500000, -90.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_A_GMED2", 0, 0, 1 );
    sub_13981( ref l_U2113[3], 115774536, 18.55600000, -52.17100000, -1.98400000, -90.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_A_GMED3", 0, 0, 1 );
    sub_13981( ref l_U2113[4], -834137313, 18.72900000, -54.32500000, -1.98500000, -90.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_A_FLGE", 0, 0, 1 );
    sub_13981( ref l_U2179[0], 877742291, 20.01400000, -52.28800000, -1.98600000, 180.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_B_IDLE_CIV1", 0, 1, 0 );
    sub_13981( ref l_U2179[1], 1728319052, 19.83800000, -50.59200000, -1.97200000, 180.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_B_IDLE_CIV2", 0, 1, 0 );
    sub_13981( ref l_U2179[2], 1008185718, 19.83500000, -51.57600000, -1.99500000, 180.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_B_IDLE_CIV3", 0, 1, 0 );
    sub_13981( ref l_U2179[3], 1473140875, 18.58200000, -50.56100000, -1.98800000, 180.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_B_IDLE_CIV4", 0, 1, 0 );
    sub_13981( ref l_U2245[0], 333013638, 21.75000000, -50.51600000, -1.99200000, 180.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_D_IDLE_CIV1", 0, 1, 0 );
    sub_13981( ref l_U2245[1], 219782683, 20.82700000, -50.10500000, -1.98100000, 180.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_D_IDLE_CIV2", 0, 1, 0 );
    sub_13981( ref l_U2245[2], 1430586786, 22.22400000, -50.15600000, -1.98100000, 180.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_D_IDLE_CIV3", 0, 1, 0 );
    sub_13981( ref l_U2245[3], -239283496, 22.23700000, -49.55400000, -1.98100000, 180.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_D_IDLE_CIV4", 0, 1, 0 );
    sub_13981( ref l_U2245[4], 2060854156, 21.29400000, -49.69900000, -1.98600000, 180.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_D_IDLE_CIV5", 0, 1, 0 );
    sub_13981( ref l_U2377[0], -405856132, 19.93500000, -55.15300000, -3.60500000, 180.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_G_RUN_CIV1", 0, 0, 1 );
    sub_13981( ref l_U2377[1], -494360904, 19.94400000, -54.43100000, -3.16800000, 180.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_G_RUN_CIV2", 0, 0, 1 );
    sub_13981( ref l_U2377[2], 1461001579, 20.24900000, -54.76800000, -3.39200000, 180.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_G_RUN_CIV3", 0, 0, 1 );
    sub_13981( ref l_U2377[3], 1085804754, 19.66900000, -53.70800000, -2.59500000, 180.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_G_RUN_CIV4", 0, 0, 1 );
    sub_13981( ref l_U2377[4], 2046307002, 20.42100000, -53.85500000, -2.53200000, 180.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_STAIRS_G_RUN_CIV5", 0, 0, 1 );
    sub_13981( ref l_U1354[0], -306179675, 24.65900000, -56.22500000, -3.61300000, 0.00000000, "level_s_club_CP_01", "VIG_01E_NC_GMED", 0, 0, 1 );
    sub_13981( ref l_U1354[1], 862082708, 27.38200000, -54.00200000, -3.59000000, 90.00000000, "level_s_club_CP_01", "VIG_01E_NC_GMED1", 0, 0, 1 );
    sub_13981( ref l_U1354[3], 2081549106, 25.67100000, -55.78600000, -3.61300000, 90.00000000, "level_s_club_CP_01", "VIG_01E_NC_FLGE1", 0, 0, 1 );
    sub_13981( ref l_U1354[4], 773479945, 25.58400000, -56.75100000, -3.61600000, 90.00000000, "level_s_club_CP_01", "VIG_01E_NC_FLGE2", 0, 0, 1 );
    sub_13981( ref l_U1420[0], 1430586786, 25.48600000, -58.82300000, -3.60400000, 90.00000000, "level_s_club_CP_01", "VIG_01E_NC_B_GMED", 0, 0, 1 );
    sub_13981( ref l_U1420[1], 2012401351, 24.01000000, -58.67900000, -3.61610000, 90.00000000, "level_s_club_CP_01", "VIG_01E_NC_B_GMED1", 0, 0, 1 );
    sub_13981( ref l_U1420[2], 1731931302, 24.79000000, -58.10200000, -3.61300000, 90.00000000, "level_s_club_CP_01", "VIG_01E_NC_B_FLGE", 0, 0, 1 );
    sub_13981( ref l_U1420[3], 1325391903, 25.29700000, -58.04400000, -3.60400000, 90.00000000, "level_s_club_CP_01", "VIG_01E_NC_B_FLGE1", 0, 0, 1 );
    sub_13981( ref l_U1420[4], -1636777795, 26.23100000, -58.16500000, -3.60100000, 90.00000000, "level_s_club_CP_01", "VIG_01E_NC_B_FLGE2", 0, 0, 1 );
    sub_13981( ref l_U1486[0], 411092458, 29.12200000, -52.74900000, -3.61700000, -90.00000000, "level_s_club_CP_01", "VIG_01E_NC_BARTENDER", 0, 0, 1 );
    sub_13981( ref l_U1562[0], 1542455629, 19.12500000, -56.57800000, 1.80300000, 180.00000000, "level_s_club_CP_01", "VIG_01G_NC_GMED", 0.40000000, 0, 1 );
    sub_13981( ref l_U1562[1], -599582098, 19.25400000, -57.46400000, 1.80300000, -94.02700000, "level_s_club_CP_01", "VIG_01G_NC_GMED1", 0.40000000, 0, 1 );
    sub_13981( ref l_U1562[2], -314290765, 18.39300000, -55.71400000, 1.80300000, -150.93000000, "level_s_club_CP_01", "VIG_01G_NC_GMED2", 0.40000000, 0, 1 );
    sub_13981( ref l_U1562[3], -1411078749, 19.02600000, -58.54900000, 1.80300000, -94.02700000, "level_s_club_CP_01", "VIG_01G_NC_GMED3", 0.40000000, 0, 1 );
    sub_13981( ref l_U1562[4], 1496639565, 19.17600000, -57.95600000, 1.80300000, -94.02700000, "level_s_club_CP_01", "VIG_01G_NC_FLGE", 0.40000000, 0, 1 );
    sub_13981( ref l_U1628[0], 1802490799, 19.51400000, -53.54600000, 1.80100000, -93.08900000, "level_s_club_CP_01", "VIG_01H_NC_GMED", 0.40000000, 0, 1 );
    sub_13981( ref l_U1628[1], -639006046, 18.88700000, -53.45100000, 1.80100000, -93.08900000, "level_s_club_CP_01", "VIG_01H_NC_GMED1", 0.40000000, 0, 1 );
    sub_13981( ref l_U1628[2], 1789577967, 19.09500000, -52.50700000, 1.80100000, -93.08900000, "level_s_club_CP_01", "VIG_01H_NC_GMED2", 0.40000000, 0, 1 );
    sub_13981( ref l_U1628[3], -1928594973, 19.55500000, -54.55300000, 1.81200000, -93.08900000, "level_s_club_CP_01", "VIG_01H_NC_GMED3", 0.40000000, 0, 1 );
    sub_13981( ref l_U1628[4], 400884201, 19.44000000, -54.06100000, 1.80100000, -93.08900000, "level_s_club_CP_01", "VIG_01H_NC_FLGE", 0.40000000, 0, 1 );
    sub_13981( ref l_U1694[0], -68833532, 19.09700000, -50.15100000, 1.81300000, -135.00000000, "level_s_club_CP_01", "VIG_01I_NC_CIV1", 0.40000000, 0, 1 );
    sub_13981( ref l_U1694[1], -1208629800, 19.41500000, -50.58700000, 1.81200000, 90.00000000, "level_s_club_CP_01", "VIG_01I_NC_CIV2", 0.40000000, 0, 1 );
    sub_13981( ref l_U1694[2], 2035818186, 19.12000000, -50.85700000, 1.80900000, -135.00000000, "level_s_club_CP_01", "VIG_01I_NC_CIV3", 0.40000000, 0, 1 );
    sub_13981( ref l_U1694[3], 1644007271, 19.41600000, -51.52400000, 1.81200000, -90.00000000, "level_s_club_CP_01", "VIG_01I_NC_CIV4", 0.40000000, 0, 1 );
    sub_13981( ref l_U1694[4], 74599104, 18.38500000, -51.07300000, 1.81900000, -90.00000000, "level_s_club_CP_01", "VIG_01I_NC_CIV5", 0.40000000, 0, 1 );
    sub_13981( ref l_U1760[0], -238561134, 20.16800000, -61.08700000, 1.85900000, -47.60000000, "level_s_club_CP_01", "VIG_01J_NC_CIV1", 0.40000000, 0, 1 );
    sub_13981( ref l_U1760[1], -2098517769, 18.73300000, -62.11800000, 1.82600000, -90.00000000, "level_s_club_CP_01", "VIG_01J_NC_CIV2", 0.40000000, 0, 1 );
    sub_13981( ref l_U1760[2], 1386277688, 19.65100000, -60.39900000, 1.80900000, -90.00000000, "level_s_club_CP_01", "VIG_01J_NC_CIV3", 0.40000000, 0, 1 );
    sub_13981( ref l_U1760[3], -347101226, 20.07600000, -62.40100000, 1.81700000, -90.00000000, "level_s_club_CP_01", "VIG_01J_NC_CIV4", 0.40000000, 0, 1 );
    sub_13981( ref l_U1760[4], -1053512426, 20.28300000, -61.62500000, 1.80600000, -135.00000000, "level_s_club_CP_01", "VIG_01J_NC_CIV5", 0.40000000, 0, 1 );
    sub_13981( ref l_U1826[0], -603855581, 19.96800000, -66.12200000, 1.82600000, 0.00000000, "level_s_club_CP_01", "VIG_01K_NC_GMED", 0.40000000, 0, 1 );
    sub_13981( ref l_U1826[1], 2054197549, 20.60900000, -64.20900000, 1.82600000, -90.00000000, "level_s_club_CP_01", "VIG_01K_NC_GMED1", 0.40000000, 0, 1 );
    sub_13981( ref l_U1826[2], 670584793, 21.19700000, -65.71500000, 1.82600000, -45.00000000, "level_s_club_CP_01", "VIG_01K_NC_GMED2", 0.40000000, 0, 1 );
    sub_13981( ref l_U1826[3], 375731148, 20.84200000, -63.28400000, 1.82600000, -135.00000000, "level_s_club_CP_01", "VIG_01K_NC_GMED3", 0.40000000, 0, 1 );
    sub_13981( ref l_U1826[4], 1078190064, 21.18500000, -64.87800000, 1.82600000, -90.00000000, "level_s_club_CP_01", "VIG_01K_NC_FLGE", 0.40000000, 0, 1 );
    sub_13981( ref l_U1892[0], -976124372, 19.61000000, -67.80700000, 1.80600000, -45.00000000, "level_s_club_CP_01", "VIG_01L_NC_GMED", 0.40000000, 0, 1 );
    sub_13981( ref l_U1892[1], -1344384286, 20.16700000, -67.17100000, 1.80900000, -45.00000000, "level_s_club_CP_01", "VIG_01L_NC_GMED1", 0.40000000, 0, 1 );
    sub_13981( ref l_U1892[2], 1479605151, 20.65800000, -68.72300000, 1.80500000, 0.00000000, "level_s_club_CP_01", "VIG_01L_NC_GMED2", 0.40000000, 0, 1 );
    sub_13981( ref l_U1892[3], 1753473306, 20.90700000, -66.83400000, 1.81300000, -135.00000000, "level_s_club_CP_01", "VIG_01L_NC_GMED3", 0.40000000, 0, 1 );
    sub_13981( ref l_U1892[4], -1381112710, 20.73800000, -68.00900000, 1.80600000, 0.00000000, "level_s_club_CP_01", "VIG_01L_NC_FLGE", 0.40000000, 0, 1 );
    sub_13981( ref l_U1958[1], -373486014, 20.49300000, -63.31000000, -3.22600000, -45.00000000, "level_s_club_CP_01", "VIG_01M_NC_GMED1", 0, 0, 1 );
    sub_13981( ref l_U1958[3], -2086674021, 19.78900000, -60.38200000, -3.38500000, -45.00000000, "level_s_club_CP_01", "VIG_01M_NC_FLGE1", 0, 0, 1 );
    sub_13981( ref l_U1958[4], 2125458622, 19.86400000, -61.03300000, -3.22600000, -45.00000000, "level_s_club_CP_01", "VIG_01M_NC_FLGE2", 0, 0, 1 );
    sub_13981( ref l_U2024[0], -639006046, 21.49300000, -49.68700000, -1.99000000, 90.00000000, "level_s_club_CP_01", "VIG_01P_NC_GMED", 0, 0, 1 );
    sub_13981( ref l_U2024[1], -373486014, 25.01000000, -49.16200000, -1.98300000, 90.00000000, "level_s_club_CP_01", "VIG_01P_NC_GMED1", 0, 0, 1 );
    sub_13981( ref l_U2024[2], 805217890, 28.35600000, -49.65600000, -1.95900000, 90.00000000, "level_s_club_CP_01", "VIG_01P_NC_GMED2", 0, 0, 1 );
    sub_13981( ref l_U2024[3], -2086674021, 22.93200000, -49.28000000, -1.99000000, 90.00000000, "level_s_club_CP_01", "VIG_01P_NC_FLGE", 0, 0, 1 );
    sub_13981( ref l_U2024[4], 2125458622, 28.59800000, -49.00400000, -2.00000000, 90.00000000, "level_s_club_CP_01", "VIG_01P_NC_FLGE1", 0, 0, 1 );
    sub_13981( ref l_U2024[5], 2125458622, 29.87800000, -49.36500000, -1.99500000, 90.00000000, "level_s_club_CP_01", "VIG_01P_NC_FLGE2", 0, 0, 1 );
    sub_13981( ref l_U2453[0], 805217890, 20.42300000, -65.18900000, -3.21500000, -90.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_LOUNGE_H_GMED", 0, 0, 1 );
    sub_13981( ref l_U2453[1], 619563126, 19.45800000, -64.54900000, -3.21500000, -90.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_LOUNGE_H_GMED1", 0, 0, 1 );
    sub_13981( ref l_U2453[2], -1502352407, 18.76900000, -64.06300000, -3.21500000, -90.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_LOUNGE_H_FLGE", 0, 0, 1 );
    sub_13981( ref l_U2453[3], -1745728528, 21.79900000, -64.69900000, -3.52200000, -90.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_LOUNGE_H_FLGE1", 0, 0, 1 );
    sub_13981( ref l_U2453[4], -834137313, 20.63900000, -64.59700000, -3.21500000, -90.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_LOUNGE_H_FLGE2", 0, 0, 1 );
    sub_13981( ref l_U2519[0], 115774536, 19.63800000, -65.93900000, -3.21400000, -90.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_LOUNGE_I_GMED", 0, 0, 1 );
    sub_13981( ref l_U2519[1], 1728319052, 19.02500000, -67.13800000, -3.21400000, -90.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_LOUNGE_I_GMED1", 0, 0, 1 );
    sub_13981( ref l_U2519[2], 877742291, 20.55400000, -68.45600000, -3.21400000, 0.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_LOUNGE_I_FLGE", 0, 0, 1 );
    sub_13981( ref l_U2519[3], 333013638, 20.37700000, -67.78200000, -3.21400000, 0.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_LOUNGE_I_FLGE1", 0, 0, 1 );
    sub_13981( ref l_U2519[4], 1457702080, 19.90400000, -66.89100000, -3.21400000, -90.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_LOUNGE_I_FLGE2", 0, 0, 1 );
    sub_13981( ref l_U2585[0], -405856132, 18.03000000, -68.43700000, -3.19700000, -135.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_LOUNGE_J_GMED", 0, 0, 1 );
    sub_13981( ref l_U2585[1], 1008185718, 19.01100000, -69.88500000, -3.19700000, -90.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_LOUNGE_J_GMED1", 0, 0, 1 );
    sub_13981( ref l_U2585[2], 1473140875, 17.68200000, -68.90700000, -3.19700000, -135.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_LOUNGE_J_FLGE1", 0, 0, 1 );
    sub_13981( ref l_U2585[3], -975397599, 18.34900000, -69.83600000, -3.19700000, -90.00000000, "level_s_club_CP_01", "VIG_01_NC_CIV_LOUNGE_J_FLGE2", 0, 0, 1 );
    sub_13981( ref l_U2657[0], -643577458, 30.78080000, -64.57893000, -3.62851800, -3.00000000, "level_s_club_CP_01", "L_CLUB_12J_GMED_RUN_CHNG_DIR_BACK", 0, 0, 1 );
    sub_23073( ref l_U1115, "START_MID_03", 26.70000000, -38.62000000, -0.29000000, 10.10000000, 5.05000000, 5.10000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_23154();
    sub_23073( ref l_U2708, "Speech MTKDD", 39.26000000, -75.61000000, -2.02000000, 1.72000000, 0.76000000, 3.00000000, 0.00000000, 0.00000000, 89.46000000, 1 );
    sub_23073( ref l_U2739, "Stop Speech KCSDF", 26.70000000, -41.89000000, -1.60000000, 16.97000000, 10.24000000, 5.10000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_25074( ref l_U1136, "STAIR_TOP", 26.97000000, -40.28000000, -0.49000000, 14.02000000, 5.27000000, 3.75000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    return;
}

void sub_13981(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = GET_SCENE_PED_MODEL( uParam1 );
    iParam0->_fU4 = uParam1;
    iParam0->_fU8 = {uParam2};
    iParam0->_fU20 = uParam5;
    iParam0->_fU28 = uParam6;
    iParam0->_fU32 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU40 = uParam9;
    iParam0->_fU44 = uParam10;
    iParam0->_fU48 = 1;
    return;
}

void sub_14126(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU20 = uParam5;
    iParam0->_fU12 = uParam4;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU16 = GET_SCENE_PED_MODEL( uParam5 );
    iParam0->_fU48 = uParam10;
    return;
}

void sub_23073(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    StrCopy( ref iParam0->_fU0, uParam1, 64 );
    iParam0->_fU64 = 0;
    iParam0->_fU68 = 0;
    iParam0->_fU72 = {uParam2};
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 1, iParam0 + 0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

void sub_23154()
{
    sub_228( "SP", "P_SETUP_MID_02_FAIL_STRUCTS", 0 );
    sub_23073( ref l_U356, "TRIG_FAIL_DANCE_1", 26.97000000, -65.77000000, -5.32000000, 24.62000000, 21.82000000, 3.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_23073( ref l_U377, "TRIG_FAIL_DANCE_1B", 26.26000000, -54.19000000, -5.07000000, 9.00000000, 6.00000000, 4.50000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_23073( ref l_U398, "TRIG_FAIL_DANCE_1C", 27.15000000, -73.02000000, -5.07000000, 11.65000000, 6.81000000, 4.50000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_23073( ref l_U419, "TRIG_FAIL_DANCE_1D", 37.51000000, -76.03000000, -3.59000000, 4.00000000, 4.00000000, 4.50000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_23073( ref l_U440, "TRIG_FAIL_DANCE_2", 24.88000000, -47.96000000, -5.08000000, 20.38000000, 21.81000000, 10.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_23073( ref l_U461, "TRIG_FAIL_DANCE_2A", 34.84000000, -52.84000000, -5.08000000, 4.00000000, 4.51000000, 6.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_23073( ref l_U482, "TRIG_FAIL_LOUNGE", 40.67000000, -66.68000000, -2.22000000, 14.28000000, 21.46000000, 4.50000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_23073( ref l_U503, "TRIG_FAIL_LOUNGE_A", 43.51000000, -52.82000000, -2.24000000, 10.00000000, 6.79000000, 5.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_23073( ref l_U524, "TRIG_FAIL_PATIO", 43.08000000, -39.79000000, -0.44000000, 15.00000000, 19.30000000, 4.50000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_23073( ref l_U545, "TRIG_FAIL_PATIO_A", 32.55000000, -33.47000000, -0.44000000, 6.56000000, 3.71000000, 4.50000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_23073( ref l_U566, "TRIG_FAIL_ORBITAS_1", 18.68000000, 5.70000000, -1.94000000, 35.81000000, 47.05000000, 10.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_23073( ref l_U587, "TRIG_FAIL_ORBITAS_1A", 14.74000000, 28.10000000, -1.94000000, 29.29000000, 10.00000000, 10.00000000, 0.00000000, 0.00000000, -16.02000000, 1 );
    sub_23073( ref l_U608, "TRIG_FAIL_ORBITAS_2", 22.34000000, 41.28000000, -1.94000000, 19.64000000, 20.00000000, 10.00000000, 0.00000000, 0.00000000, -16.09000000, 1 );
    sub_23073( ref l_U629, "TRIG_FAIL_ORBITAS_2A", 12.80000000, 43.40000000, -1.94000000, 8.35000000, 16.52000000, 10.00000000, 0.00000000, 0.00000000, -44.41000000, 1 );
    sub_23073( ref l_U650, "TRIG_FAIL_BATHROOM", 9.15000000, 52.69000000, -1.94000000, 6.52000000, 8.24000000, 10.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_23073( ref l_U671, "TRIG_FAIL_BATHROOM_A", 12.49000000, 53.09000000, -1.94000000, 5.66000000, 5.97000000, 10.00000000, 0.00000000, 0.00000000, -44.57000000, 1 );
    sub_23073( ref l_U692, "TRIG_FAIL_KITCHEN_LOCKER", -0.83000000, 53.97000000, -1.94000000, 13.61000000, 8.49000000, 10.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_23073( ref l_U713, "TRIG_FAIL_KITCHEN", -9.52000000, 63.81000000, -1.94000000, 18.08000000, 11.18000000, 10.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_23073( ref l_U734, "TRIG_FAIL_KITCHEN_A", -20.47000000, 65.70000000, -1.94000000, 4.00000000, 9.51000000, 10.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_23073( ref l_U755, "TRIG_FAIL_RESTAURANT", -16.16000000, 90.72000000, -1.94000000, 42.04000000, 40.80000000, 10.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_23073( ref l_U776, "TRIG_FAIL_RESTAURANT_A", -14.35000000, 70.13000000, -1.94000000, 8.00000000, 1.00000000, 10.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    return;
}

void sub_25074(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    iParam0->_fU0 = uParam1;
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 2, iParam0->_fU0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

void sub_25136()
{
    sub_228( "CCB", "P_INITIALIZE_SP_CHALLENGES", 0 );
    return;
}

void sub_25333()
{
    sub_228( "SP", "P_REQUEST_PERSISTENT_ASSETS", 0 );
    sub_25407( "LEVEL_S_CLUB_CP_01", 0, 0 );
    sub_25407( "LEVEL_S_CLUB_CP_01_02", 0, 0 );
    sub_25515( g_U2459, 0 );
    sub_25515( -1491672653, 0 );
    sub_25515( 1208363481, 0 );
    sub_25515( g_U2456, 0 );
    sub_25515( g_U2455, 0 );
    sub_25515( -963320249, 0 );
    sub_25515( -238037853, 0 );
    sub_25515( 1329961944, 0 );
    sub_25515( -853898069, 0 );
    sub_25515( -142544647, 0 );
    sub_25785( 406496141, 0 );
    sub_25785( 1194438308, 0 );
    sub_25785( 68019059, 0 );
    sub_25896( "S_NIGHTCLUB_MPM_GLASS", 0, 0 );
    return;
}

void sub_25407(unknown uParam0, unknown uParam1, int iParam2)
{
    REQUEST_ANIM_DICT( uParam0, uParam1 );
    "[doubled result, dropped if not asigned]";
    if (iParam2 == 1)
    {
        while ((HAS_ANIM_DICT_LOADED( uParam0, uParam1 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_25515(unknown uParam0, boolean bParam1)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
        sub_6537( "[SP]### ERROR! (LoadModel) Trying to load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    if (bParam1)
    {
        while ((HAS_MODEL_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_25785(unknown uParam0, boolean bParam1)
{
    REQUEST_WEAPON( uParam0 );
    if (bParam1)
    {
        while ((HAS_WEAPON_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_25896(unknown uParam0, unknown uParam1, int iParam2)
{
    if (iParam2 == 0)
    {
        REQUEST_SCRIPT_STREAM( uParam0, uParam1 );
    }
    else
    {
        while ((LOAD_SCRIPT_STREAM( uParam0, uParam1 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_25979()
{
    sub_228( "SP", "P_REQUEST_NON_PERSISTENT_ASSETS", 0 );
    sub_26040( -1592279399, 0 );
    sub_26040( -74541949, 0 );
    sub_26040( 1565939729, 0 );
    sub_26040( -1355646060, 0 );
    sub_26040( -1839811754, 0 );
    sub_26040( -1830975032, 0 );
    sub_26040( -1577441179, 0 );
    sub_26040( -456021312, 0 );
    sub_26040( 344271746, 0 );
    sub_26040( -1957067951, 0 );
    return;
}

void sub_26040(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to load does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 0)
    {
        ISEQ_REQUEST( uParam0 );
        ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
        if (iParam1 == 1)
        {
            while ((ISEQ_QUERY_STATE( uParam0, 1 )) == 1)
            {
                WAIT( 0 );
            }
        }
    }
    return;
}

int sub_26412()
{
    if (((LOAD_SCRIPT_STREAM( "S_NIGHTCLUB_MPM_GLASS", 0 )) == 1) AND (((HAS_ANIM_DICT_LOADED( "LEVEL_S_CLUB_CP_01_02", 0 )) == 1) AND (((HAS_ANIM_DICT_LOADED( "LEVEL_S_CLUB_CP_01", 0 )) == 1) AND (((HAS_WEAPON_LOADED( 68019059 )) == 1) AND (((HAS_WEAPON_LOADED( 1194438308 )) == 1) AND (((HAS_WEAPON_LOADED( 406496141 )) == 1) AND (((HAS_MODEL_LOADED( -142544647 )) == 1) AND (((HAS_MODEL_LOADED( -853898069 )) == 1) AND (((HAS_MODEL_LOADED( -238037853 )) == 1) AND (((HAS_MODEL_LOADED( 1329961944 )) == 1) AND (((HAS_MODEL_LOADED( -963320249 )) == 1) AND (((HAS_MODEL_LOADED( g_U2455 )) == 1) AND (((HAS_MODEL_LOADED( g_U2456 )) == 1) AND (((HAS_MODEL_LOADED( 1208363481 )) == 1) AND (((HAS_MODEL_LOADED( -1491672653 )) == 1) AND ((HAS_MODEL_LOADED( g_U2459 )) == 1))))))))))))))))
    {
        return 1;
    }
    return 0;
}

int sub_26738()
{
    if ((ISEQ_IS_LOADED( -1957067951 )) AND ((ISEQ_IS_LOADED( -456021312 )) AND ((ISEQ_IS_LOADED( -1839811754 )) AND ((ISEQ_IS_LOADED( -1830975032 )) AND ((ISEQ_IS_LOADED( -1839811754 )) AND (((ISEQ_IS_LOADED( 344271746 )) == 1) AND (((ISEQ_IS_LOADED( -1355646060 )) == 1) AND (((ISEQ_IS_LOADED( 1565939729 )) == 1) AND (((ISEQ_IS_LOADED( -74541949 )) == 1) AND ((ISEQ_IS_LOADED( -1592279399 )) == 1))))))))))
    {
        return 1;
    }
    return 0;
}

int sub_27198(unknown uParam0)
{
    sub_228( "rw", "HAS_SAVEFILE_LOADED()", 0 );
    if (IS_ARCADE_MODE_ACTIVE())
    {
        return 0;
    }
    if (HAS_LOAD_JUST_OCCURRED())
    {
        if ((GET_CHECKPOINT_SELECTED() == 1) || (GET_CHECKPOINT_SELECTED() == 0))
        {
            return 0;
        }
        else
        {
            l_U0 = 0;
            CHECKPOINT_STORAGE_LOAD( uParam0, l_U1 );
            sub_4668( uParam0, sub_385() );
        }
        if (IS_IN_STORY_MODE())
        {
            START_CONTEXT( "LEVEL" );
        }
        return 1;
    }
    return 0;
}

int sub_27862()
{
    if (NOT (DOES_PED_EXIST( g_U2616 )))
    {
        g_U2616 = sub_27894( ref l_U929 );
        sub_228( "MF", "Spawning Ped From: psDF_MPM_ATTACKER", 0 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( g_U2616, 1 );
        return 0;
    }
    if (NOT (DOES_OBJECT_EXIST( l_U1137._fU24 )))
    {
        sub_28641( ref l_U1137 );
    }
    sub_228( "MF", "Spawning Ped From: psDF_MPM_CS", 0 );
    if (NOT (sub_28980( ref g_U2637, ref l_U951, -1, 0, 1, 1, 1 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Ped From: psDF_Kidnappers", 0 );
    if (NOT (sub_28980( ref l_U1057, ref l_U1062, -1, 0, 1, 0, 1 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Ped From: psDF_Kidnappers", 0 );
    if (NOT (sub_29925( ref l_U1030 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Ped From: psDF_VIG_01_CIV_COWER", 0 );
    if (NOT (sub_28980( ref g_U2617, ref l_U1150, -1, 0, 1, 0, 1 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Ped From: psDF_VIG_01_CIV_COWER_2", 0 );
    if (NOT (sub_28980( ref g_U2619, ref l_U1164, -1, 0, 1, 0, 1 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Ped From: psDF_VIG_01_CIV_COWER_3", 0 );
    if (NOT (sub_28980( ref g_U2621, ref l_U1178, -1, 0, 1, 0, 1 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Ped From: piDF_VIG_01_N", 0 );
    if (NOT (sub_28980( ref g_U2633, ref l_U1192, -1, 0, 1, 0, 1 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Ped From: piDF_VIG_01_O_CPL1", 0 );
    if (NOT (sub_28980( ref g_U2625, ref l_U1246, -1, 0, 1, 0, 1 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Ped From: piDF_VIG_01_O_CPL2", 0 );
    if (NOT (sub_28980( ref g_U2628, ref l_U1273, -1, 0, 1, 0, 1 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Ped From: piDF_VIG_01_O_SNGL", 0 );
    if (NOT (sub_28980( ref g_U2623, ref l_U1232, -1, 0, 1, 0, 1 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Ped From: psDF_VIG_01_STAIR_CIV", 0 );
    if (NOT (sub_28980( ref g_U2631, ref l_U1300, -1, 0, 1, 0, 1 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Simple Ped From: spDF_CLAUD_AND_GIRLS", 0 );
    if (NOT (sub_30795( ref l_U1314 )))
    {
        return 0;
    }
    if (NOT (sub_30795( ref l_U1562 )))
    {
        sub_228( "MF", "Spawning Simple Ped From: spDF_VIG_01_G", 0 );
        return 0;
    }
    sub_228( "MF", "Spawning Simple Ped From: spDF_VIG_01_H", 0 );
    if (NOT (sub_30795( ref l_U1628 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Simple Ped From: spDF_VIG_01_I", 0 );
    if (NOT (sub_30795( ref l_U1694 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Simple Ped From: spDF_VIG_01_J", 0 );
    if (NOT (sub_30795( ref l_U1760 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Simple Ped From: spDF_VIG_01_K", 0 );
    if (NOT (sub_30795( ref l_U1826 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Simple Ped From: spDF_VIG_01_L", 0 );
    if (NOT (sub_30795( ref l_U1892 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Simple Ped From: spDF_VIG_01_M", 0 );
    if (NOT (sub_30795( ref l_U1958 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Simple Ped From: spDF_VIG_01_P", 0 );
    if (NOT (sub_30795( ref l_U2024 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Simple Ped From: spDF_VIG_01_CIV_STAIRS_A", 0 );
    if (NOT (sub_30795( ref l_U2113 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Simple Ped From: spDF_VIG_01_CIV_STAIRS_B", 0 );
    if (NOT (sub_30795( ref l_U2179 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Simple Ped From: spDF_VIG_01_CIV_STAIRS_D", 0 );
    if (NOT (sub_30795( ref l_U2245 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Simple Ped From: spDF_VIG_01_CIV_STAIRS_F", 0 );
    if (NOT (sub_30795( ref l_U2311 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Simple Ped From: spDF_VIG_01_CIV_STAIRS_G", 0 );
    if (NOT (sub_30795( ref l_U2377 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Simple Ped From: spDF_VIG_01_E", 0 );
    if (NOT (sub_30795( ref l_U1354 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Simple Ped From: spDF_VIG_01_E_B", 0 );
    if (NOT (sub_30795( ref l_U1420 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Simple Ped From: spDF_VIG_01_E_D", 0 );
    if (NOT (sub_30795( ref l_U1486 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Simple Ped From: spDF_VIG_01_LOUNGE_H", 0 );
    if (NOT (sub_30795( ref l_U2453 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Simple Ped From: spDF_VIG_01_LOUNGE_I", 0 );
    if (NOT (sub_30795( ref l_U2519 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Simple Ped From: spDF_VIG_01_LOUNGE_J", 0 );
    if (NOT (sub_30795( ref l_U2585 )))
    {
        return 0;
    }
    sub_228( "MF", "Spawning Simple Ped From: spDF_VIG_01_UNDER_MAX", 0 );
    if (NOT (sub_30795( ref l_U2657 )))
    {
        return 0;
    }
    return 1;
}

void sub_27894(int iParam0)
{
    int iVar3;

    iVar3 = 0;
    if (iParam0->_fU16 == 0)
    {
        if (iParam0->_fU20 != 0)
        {
            iVar3 = GET_SCENE_PED_MODEL( iParam0->_fU20 );
        }
    }
    else
    {
        iVar3 = iParam0->_fU16;
    }
    if ((HAS_MODEL_LOADED( iVar3 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
        sub_25515( iParam0->_fU16, 1 );
    }
    iParam0->_fU40 = CREATE_PED( iParam0->_fU24, iParam0->_fU16, iParam0->_fU0, iParam0->_fU12, 1, iParam0->_fU48 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( iParam0->_fU40, 1 );
        SET_PED_COORDS_NO_OFFSET( iParam0->_fU40, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU40 ) );
        SET_PED_HEADING( iParam0->_fU40, iParam0->_fU12 );
        iParam0->_fU44 = 1;
    }
    else
    {
        SCRIPT_ASSERT( "Error: The ped you created doesn't exist or is dead!", 0 );
    }
    sub_28373( iParam0->_fU40 );
    sub_28453( iParam0->_fU40 );
    return iParam0->_fU40;
}

void sub_28373(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_HEALTH( uParam0, 200, 0 );
        SET_PED_ACCURACY( uParam0, -729479261 );
    }
    return;
}

void sub_28453(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_AI_TEMPLATE( uParam0, "AIT_DEFAULT_GENERIC" );
    }
    return;
}

int sub_28641(int iParam0)
{
    if (iParam0->_fU48 == 1)
    {
        iParam0->_fU24 = CREATE_SIMPLE_PED( iParam0->_fU0, iParam0->_fU8, iParam0->_fU20, iParam0->_fU4 );
        return 1;
        break;
    }
    SCRIPT_ASSERT( "SIMPLE PED STRUCT NOT INITIALIZED! Can Not Create Simple Ped From Unititialized Struct.", 0 );
    sub_228( "MF", "ERROR: SIMPLE PED STRUCT NOT INITIALIZED! Can Not Create Simple Ped From Unititialized Struct.", 0 );
    return 0;
}

int sub_28980(unknown uParam0, unknown uParam1, int iParam2, boolean bParam3, boolean bParam4, int iParam5, unknown uParam6)
{
    int iVar9;
    int iVar10;
    int Result;

    iVar9 = sub_28994( uParam0, uParam1 );
    if (iParam2 == -1)
    {
        iVar10 = (uParam0^);
    }
    else
    {
        iVar10 = iParam2;
    }
    if (iVar9 < iVar10)
    {
        if ((uParam1^)[iVar9]._fU16 == 0)
        {
            SCRIPT_ASSERT( "Invalid Ped Struct!  No Model Defined! Aborting Ped Spawn", 0 );
            sub_228( "MF", "Invalid Ped Struct!  No Model Defined! Aborting Ped Spawn", 0 );
            sub_29293( iVar9 );
            return 0;
        }
        if (NOT (DOES_PED_EXIST( (uParam0^)[iVar9] )))
        {
            sub_25515( (uParam1^)[iVar9]._fU16, uParam6 );
            (uParam0^)[iVar9] = sub_27894( ref (uParam1^)[iVar9] );
            if (NOT bParam4)
            {
                SET_PED_VISIBLE( (uParam0^)[iVar9], bParam4 );
                sub_6537( "SPAWNING INVISIBLE PED!!!" );
            }
            if (iParam5 == 1)
            {
                sub_29448( (uParam0^)[iVar9] );
                sub_6537( "Deactivating Ped..." );
            }
        }
    }
    if (bParam3)
    {
        if (iVar9 == (iVar10 - 1))
        {
            sub_228( "MF", "F_HANDLE_PED_ARRAY_SPAWN: Returning true Once.  If you see this looping, you likely have unitialized ped model data in your pedstruct array.", 0 );
            Result = 1;
        }
        return Result;
    }
    else if (iVar9 >= iVar10)
    {
        return 1;
    }
    return 0;
}

void sub_28994(unknown uParam0, unknown uParam1)
{
    int I;
    int Result;

    Result = (uParam1^);
    for ( I = 0; I < (uParam0^); I++ )
    {
        if (NOT (DOES_PED_EXIST( (uParam0^)[I] )))
        {
            if ((uParam1^)[I]._fU16 != 0)
            {
                if (I < Result)
                {
                    Result = I;
                }
            }
        }
    }
    return Result;
}

void sub_29293(unknown uParam0)
{
    return;
}

void sub_29448(unknown uParam0)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_FREEZE_PROCESSING( uParam0, 1 );
        SET_PED_VISIBLE( uParam0, 0 );
        SET_PED_VISIBLE_DURING_SEQUENCE( uParam0, 0 );
        FREEZE_PED_POSITION( uParam0, 1 );
        SET_PED_COLLISION( uParam0, 0 );
        SET_PED_PROOFS( uParam0, 1, 1, 1, 1, 1 );
    }
    return;
}

int sub_29925(unknown uParam0)
{
    int iVar3;

    iVar3 = sub_29937( uParam0 );
    if (iVar3 != -1)
    {
        if (iVar3 < (uParam0^))
        {
            sub_28641( ref (uParam0^)[iVar3] );
        }
    }
    if (iVar3 == -1)
    {
        return 1;
    }
    return 0;
}

int sub_29937(unknown uParam0)
{
    int Result;

    for ( Result = 0; Result < (uParam0^); Result++ )
    {
        if (((NOT (DOES_OBJECT_EXIST( (uParam0^)[Result]._fU24 ))) == 1) AND ((uParam0^)[Result]._fU48))
        {
            return Result;
        }
    }
    return -1;
}

int sub_30795(unknown uParam0)
{
    int iVar3;
    int I;

    iVar3 = sub_29937( uParam0 );
    for ( I = 0; I < (uParam0^); I++ )
    {
        iVar3 = sub_29937( uParam0 );
        if (iVar3 != -1)
        {
            sub_28641( ref (uParam0^)[iVar3] );
        }
    }
    if (iVar3 == -1)
    {
        return 1;
    }
    return 0;
}

void sub_32450(int iParam0, int iParam1)
{
    int iVar4;
    float fVar5;

    if ((sub_32462( iParam0 )) == 0)
    {
        sub_32528( iParam0 );
    }
    if (iParam1 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, 0.00000000 );
    }
    else
    {
        iVar4 = 0;
        fVar5 = 0.00000000;
        GET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, ref iVar4, ref fVar5 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar5 );
    }
    return;
}

int sub_32462(int iParam0)
{
    int iVar3;

    iVar3 = DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS( iParam0->_fU4, 1.00000000, iParam0->_fU0 );
    if (iVar3 == 1)
    {
        return 1;
    }
    return 0;
}

void sub_32528(unknown uParam0)
{
    (uParam0^) = {(uParam0^)};
    return;
}

void sub_32661()
{
    sub_228( "MF", "P_DF_MPM_SETUP_CS - START", 0 );
    sub_32720( ref l_U851, 1.00000000, 0 );
    sub_228( "MF", "P_DF_MPM_SETUP_CS - END", 0 );
    return;
}

void sub_32720(int iParam0, unknown uParam1, boolean bParam2)
{
    iParam0->_fU4 = uParam1;
    iParam0->_fU0 = CREATE_GROUP( 3, 1 );
    if (bParam2)
    {
        while (NOT (DOES_GROUP_EXIST( iParam0->_fU0 )))
        {
            WAIT( 0 );
        }
    }
    SET_GROUP_RATIO_FIRING_AT_VISIBLE( iParam0->_fU0, iParam0->_fU4 );
    SET_GROUP_RATIO_FIRING_AT_INVISIBLE( iParam0->_fU0, iParam0->_fU4 );
    if (iParam0->_fU8)
    {
        SET_GROUP_FORMATION( iParam0->_fU0, iParam0->_fU12 );
        SET_GROUP_FORMATION_SPACING( iParam0->_fU0, iParam0->_fU16 );
        SET_GROUP_FORMATION_MAX_MOVE_SPEED( iParam0->_fU0, iParam0->_fU20 );
    }
    return;
}

void sub_32969(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    sub_32983( uParam0, uParam1 );
    for ( I = 0; I < (uParam0^); I++ )
    {
        if (NOT (IS_PED_DEAD( (uParam0^)[I] )))
        {
            SET_PED_AS_ONE_SHOT_KILL( (uParam0^)[I], 1 );
            SET_PED_STAND_GROUND_ON_PLAYER_IMPACT( (uParam0^)[I], 1 );
            SET_PED_DIES_WHEN_INJURED( (uParam0^)[I], 1 );
            SET_PED_CAN_RAGDOLL_FROM_PLAYER_IMPACT( (uParam0^)[I], 0 );
            SET_PED_RELATIONSHIP( (uParam0^)[I], 0, 0 );
            if (NOT (IS_PED_DEAD( sub_385() )))
            {
                SET_PED_PRIMARY_LOOKAT( (uParam0^)[I], sub_385() );
            }
            SET_ROOM_FOR_PED_BY_NAME( (uParam0^)[I], uParam2 );
            if ((IS_GERMAN_VERSION() == 1) || (IS_JAPANESE_GAME() == 1))
            {
                SET_PED_CAN_BE_DAMAGED_BY_RELATIONSHIP_GROUP( (uParam0^)[I], 0, 0 );
                SET_PED_GORE_FROM_PLAYER( (uParam0^)[I], 0 );
            }
        }
    }
    return;
}

void sub_32983(unknown uParam0, unknown uParam1)
{
    int I;
    char[32] cVar5;

    for ( I = 0; I < (uParam0^); I++ )
    {
        if (DOES_PED_EXIST( (uParam0^)[I] ))
        {
            StrCopy( ref cVar5, uParam1, 32 );
            ConcatString(ref cVar5, " ", 32);
            ConcatString(ref cVar5, I, 32);
            SET_PED_NAME_DEBUG( (uParam0^)[I], ref cVar5 );
        }
    }
    return;
}

void sub_33542()
{
    sub_228( "MF", "P_DF_VIG_01C_REGISTER - START", 0 );
    ISEQ_REGISTER_ENTITY( -1355646060, "DOOR_LEFT", DOOR_FIND_CLOSEST( g_U3150._fU0, g_U3150._fU4 ), 1 );
    ISEQ_REGISTER_ENTITY( -1355646060, "DOOR_RIGHT", DOOR_FIND_CLOSEST( g_U3157._fU0, g_U3157._fU4 ), 1 );
    sub_33713( l_U1057[0], -1355646060, "GMED8" );
    sub_33713( l_U1057[1], -1355646060, "GMED9" );
    sub_33713( l_U1057[2], -1355646060, "GMED10" );
    sub_33713( l_U1057[3], -1355646060, "SERANO" );
    sub_33713( g_U2637[0], -1355646060, "GMED1" );
    sub_33713( g_U2637[1], -1355646060, "GMED2" );
    sub_33713( g_U2637[2], -1355646060, "GMED3" );
    sub_33713( g_U2637[3], -1355646060, "GMED4" );
    sub_33713( g_U2637[4], -1355646060, "GMED6" );
    sub_33713( g_U2637[5], -1355646060, "GMED7" );
    sub_228( "MF", "P_DF_VIG_01C_REGISTER - END", 0 );
    return;
}

void sub_33713(unknown uParam0, unknown uParam1, unknown uParam2)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        ISEQ_REGISTER_ENTITY( uParam1, uParam2, uParam0, 0 );
    }
    return;
}

void sub_34046()
{
    int I;

    sub_228( "MF", "P_DF_SETUP_MPM_CS - START", 0 );
    sub_32983( ref g_U2637, "piDF_MPM_CS_" );
    for ( I = 0; I < g_U2637; I++ )
    {
        if (NOT (IS_PED_DEAD( g_U2637[I] )))
        {
            sub_34170( g_U2637[I], ref l_U851 );
            SET_ROOM_FOR_PED_BY_NAME( g_U2637[I], ref g_U2512 );
            SET_PED_PATH_VAULTING_USAGE( g_U2637[I], 1, 1, 1 );
            SET_PED_PATH_CAN_USE_CLIMBOVERS( g_U2637[I], 0 );
        }
    }
    if (NOT (IS_PED_DEAD( g_U2637[0] )))
    {
        sub_6866( g_U2637[0], 406496141, 25000, 0, 0 );
        sub_34564( ref g_U2637[0], ref g_U3099, 6.00000000, 30.00000000 );
        sub_34667( ref l_U1136, g_U2637[0], 1 );
    }
    if (NOT (IS_PED_DEAD( g_U2637[1] )))
    {
        sub_6866( g_U2637[1], 1194438308, 25000, 0, 0 );
        sub_34564( ref g_U2637[1], ref g_U3107, 4.00000000, 15.00000000 );
    }
    if (NOT (IS_PED_DEAD( g_U2637[2] )))
    {
        sub_6866( g_U2637[2], 406496141, 25000, 0, 0 );
        sub_34564( ref g_U2637[2], ref g_U3099, 4.00000000, 8.00000000 );
    }
    if (NOT (IS_PED_DEAD( g_U2637[3] )))
    {
        sub_6866( g_U2637[3], 406496141, 25000, 0, 0 );
        sub_34564( ref g_U2637[3], ref g_U3099, 4.00000000, 12.00000000 );
    }
    if (NOT (IS_PED_DEAD( g_U2637[4] )))
    {
        sub_6866( g_U2637[4], 1194438308, 25000, 0, 0 );
        sub_34564( ref g_U2637[4], ref g_U3099, 4.00000000, 8.00000000 );
    }
    if (NOT (IS_PED_DEAD( g_U2637[5] )))
    {
        sub_6866( g_U2637[5], 406496141, 25000, 0, 0 );
        sub_34564( ref g_U2637[5], ref g_U3099, 4.00000000, 12.00000000 );
    }
    sub_228( "MF", "P_DF_SETUP_MPM_CS - END", 0 );
    return;
}

void sub_34170(unknown uParam0, int iParam1)
{
    int iVar4;
    unknown uVar5;

    if ((DOES_GROUP_EXIST( iParam1->_fU0 )) == 0)
    {
        sub_6537( "[SP]### Warning!!! Group does not exist. Creating new group specified attributes. ###" );
        if (iParam1->_fU4 > 0)
        {
            sub_32720( iParam1, iParam1->_fU4, 0 );
        }
        else
        {
            sub_32720( iParam1, 1056964608, 0 );
        }
    }
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        GET_GROUP_SIZE( iParam1->_fU0, ref iVar4, ref uVar5 );
        if (iVar4 == 0)
        {
            SET_PED_AS_GROUP_LEADER( uParam0, iParam1->_fU0 );
        }
        else
        {
            SET_PED_AS_GROUP_MEMBER( uParam0, iParam1->_fU0 );
        }
        SET_PED_NEVER_LEAVES_GROUP( uParam0, 1 );
    }
    return;
}

void sub_34564(unknown uParam0, unknown uParam1, float fParam2, float fParam3)
{
    if (NOT (IS_PED_DEAD( (uParam0^) )))
    {
        SET_PED_AI_TEMPLATE( (uParam0^), uParam1 );
        if (fParam2 > -1)
        {
            SET_PED_COMBAT_RANGE_MIN( (uParam0^), fParam2 );
        }
        if (fParam3 > -1)
        {
            SET_PED_COMBAT_RANGE_MAX( (uParam0^), fParam3 );
        }
    }
    return;
}

void sub_34667(int iParam0, unknown uParam1, unknown uParam2)
{
    if (((IS_PED_DEAD( uParam1 )) == 0) AND ((DOES_PED_EXIST( uParam1 )) == 1))
    {
        SET_PED_TETHERING_ADD_BOX( uParam1, iParam0->_fU0 );
        SET_PED_TETHERING_OPTION( uParam1, uParam2 );
    }
    return;
}

void sub_35146()
{
    sub_25515( g_U885, 0 );
    sub_26040( -2074831912, 0 );
    sub_26040( -1239976099, 0 );
    sub_26040( -671715858, 0 );
    sub_26040( -921546714, 0 );
    return;
}

void sub_35416(int iParam0, int iParam1, unknown uParam2, boolean bParam3)
{
    END_POSTFX_BLENDER( 12, 0 );
    if (bParam3)
    {
        STOP_ALL_IMAGEFX( 0 );
    }
    SET_WIDESCREEN_BORDERS( 1, 500 );
    DISPLAY_HUD( 0 );
    if (iParam0 == 1)
    {
        if (NOT (IS_PED_DEAD( sub_385() )))
        {
            SET_PLAYER_CONTROL( sub_407(), 0, uParam2 );
            SET_PED_DUCKING( sub_385(), 0 );
            if (iParam1 == 1)
            {
                CLEAR_PED_TASKS_IMMEDIATELY( sub_385() );
            }
            SET_PED_INVINCIBLE( sub_385(), 1 );
        }
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    return;
}

void sub_35575()
{
    sub_228( "MF", "P_DF_MPM_CS_ACTIVATE - START", 0 );
    sub_10685( ref g_U2637 );
    sub_228( "MF", "P_DF_MPM_CS_ACTIVATE - END", 0 );
    return;
}

void sub_35684()
{
    int I;

    sub_228( "MF", "P_DF_MPM_SETUP - START", 0 );
    if (((IS_PED_DEAD( sub_385() )) == 0) AND ((IS_PLAYER_DEAD( sub_407() )) == 0))
    {
        FREEZE_PED_POSITION( sub_385(), 0 );
        ENABLE_HIT_DETECTION( 0 );
    }
    if (NOT (IS_PED_DEAD( g_U2616 )))
    {
        SET_PED_INVINCIBLE( g_U2616, 1 );
        SET_PED_CAN_RAGDOLL_FROM_PLAYER_IMPACT( g_U2616, 0 );
        SET_ROOM_FOR_PED_BY_NAME( g_U2616, ref g_U2512 );
        sub_6866( g_U2616, 406496141, 25000, 0, 0 );
    }
    for ( I = 0; I < g_U2637; I++ )
    {
        if (NOT (IS_PED_DEAD( g_U2637[I] )))
        {
            SET_PED_COMBAT_MOVEMENT( g_U2637[I], 0 );
            SET_PED_ALERTNESS( g_U2637[I], 3 );
            SET_PED_CONSUMING_AMMO( g_U2637[I], 0 );
            SET_PED_AS_ONE_SHOT_KILL( g_U2637[I], 1 );
            SET_PED_COMBAT_ATTRIBUTES( g_U2637[I], 16, 0 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( g_U2637[I], 1 );
            SET_BLOCKING_OF_PED_TARGETTING( g_U2637[I], 1 );
            SET_PED_FLAG_BLOCK_WOUNDED_MOVEMENT( g_U2637[I], 1 );
        }
    }
    ISEQ_REGISTER_ENTITY( 344271746, "attacker", g_U2616, 0 );
    ISEQ_REGISTER_ENTITY( 344271746, "mpm_player", sub_385(), 0 );
    sub_228( "MF", "P_DF_MPM_SETUP - END", 0 );
    return;
}

void sub_36156()
{
    sub_228( "MF", "P_DF_MPM_EXECUTE - START", 0 );
    ISEQ_START( 344271746 );
    CAMERA_PLAY_ANIMATED( "LEVEL_S_CLUB_CP_01", "B_OUT_02_01_NC_MPM_FWD_SLOW_CAM", 0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0 );
    sub_228( "MF", "P_DF_MPM_EXECUTE - END", 0 );
    return;
}

void sub_36345()
{
    sub_228( "MF", "P_DF_MPM_START_CS_AND_GIRLS - START", 0 );
    sub_36404();
    ISEQ_START( -1355646060 );
    sub_36924( ref l_U1057, ref l_U1062 );
    sub_36924( ref g_U2637, ref l_U951 );
    sub_228( "MF", "P_DF_MPM_START_CS_AND_GIRLS - END", 0 );
    return;
}

void sub_36404()
{
    int I;

    sub_228( "MF", "P_DF_MPM_SETUP_KIDNAPPING_PEDS - START", 0 );
    for ( I = 0; I < l_U1057; I++ )
    {
        if (NOT (IS_PED_DEAD( l_U1057[I] )))
        {
            SET_PED_PROOFS( l_U1057[I], 1, 1, 1, 1, 1 );
            SET_PED_CAN_BE_TARGETTED( l_U1057[I], 0 );
            SET_PED_GORE( l_U1057[I], 0 );
            SET_PED_CAN_BE_DAMAGED_BY_RELATIONSHIP_GROUP( l_U1057[I], 0, 0 );
            SET_PED_GORE_FROM_PLAYER( l_U1057[I], 0 );
        }
    }
    sub_36610( ref l_U1057, 1 );
    sub_6866( l_U1057[0], 68019059, 25000, 1, 0 );
    sub_6866( l_U1057[1], 1194438308, 25000, 1, 0 );
    sub_6866( l_U1057[2], 1194438308, 25000, 0, 0 );
    sub_6866( l_U1057[3], 406496141, 25000, 0, 0 );
    SET_PED_VISIBLE( l_U1057[1], 0 );
    SET_PED_VISIBLE( l_U1057[2], 0 );
    sub_32983( ref l_U1057, "piDF_Kidnappers" );
    sub_228( "MF", "P_DF_MPM_SETUP_KIDNAPPING_PEDS - END", 0 );
    return;
}

void sub_36610(unknown uParam0, unknown uParam1)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        if (NOT (IS_PED_DEAD( (uParam0^)[I] )))
        {
            TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( (uParam0^)[I], uParam1 );
        }
    }
    return;
}

void sub_36924(unknown uParam0, unknown uParam1)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        sub_36976( (uParam0^)[I], (uParam1^)[I]._fU0, (uParam1^)[I]._fU12 );
    }
    return;
}

void sub_36976(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_COORDS( uParam0, uParam1, 1 );
        SET_PED_HEADING( uParam0, uParam4 );
    }
    return;
}

void sub_37343()
{
    sub_228( "MF", "P_DF_CIVS_ANIM_COWER_1 - START", 0 );
    sub_10685( ref g_U2617 );
    if (NOT (IS_PED_DEAD( g_U2617[0] )))
    {
        SET_PED_VISIBLE( g_U2617[0], 1 );
        ISEQ_REGISTER_ENTITY( -1592279399, "CIV_1", g_U2617[0], 0 );
    }
    ISEQ_START( -1592279399 );
    sub_228( "MF", "P_DF_CIVS_ANIM_COWER_1 - END", 0 );
    return;
}

void sub_37535()
{
    sub_228( "MF", "P_DF_CIVS_ANIM_COWER_3 - START", 0 );
    sub_10685( ref g_U2621 );
    if (NOT (IS_PED_DEAD( g_U2621[0] )))
    {
        ISEQ_REGISTER_ENTITY( 1565939729, "FLGE", g_U2621[0], 0 );
    }
    ISEQ_START( 1565939729 );
    sub_228( "MF", "P_DF_CIVS_ANIM_COWER_3 - END", 0 );
    return;
}

void sub_37710()
{
    sub_228( "MF", "P_DF_CIVS_VIG_01_O_SNGL - START", 0 );
    sub_10685( ref g_U2623 );
    if (NOT (IS_PED_DEAD( g_U2623[0] )))
    {
        ISEQ_REGISTER_ENTITY( -1839811754, "CIV_1", g_U2623[0], 0 );
    }
    ISEQ_START( -1839811754 );
    sub_228( "MF", "P_DF_CIVS_VIG_01_O_SNGL - END", 0 );
    return;
}

void sub_37888()
{
    sub_228( "MF", "P_DF_CIVS_VIG_01_O_CPL1 - START", 0 );
    sub_10685( ref g_U2625 );
    if (NOT (IS_PED_DEAD( g_U2625[0] )))
    {
        ISEQ_REGISTER_ENTITY( -1830975032, "CIV_1", g_U2625[0], 0 );
    }
    if (NOT (IS_PED_DEAD( g_U2625[1] )))
    {
        ISEQ_REGISTER_ENTITY( -1830975032, "CIV_2", g_U2625[1], 0 );
    }
    ISEQ_START( -1830975032 );
    sub_228( "MF", "P_DF_CIVS_VIG_01_O_CPL1 - END", 0 );
    return;
}

void sub_38117()
{
    sub_228( "MF", "P_DF_CIVS_VIG_01_O_CPL2 - START", 0 );
    sub_10685( ref g_U2628 );
    if (NOT (IS_PED_DEAD( g_U2628[0] )))
    {
        ISEQ_REGISTER_ENTITY( -1577441179, "CIV_3", g_U2628[0], 0 );
    }
    if (NOT (IS_PED_DEAD( g_U2628[1] )))
    {
        ISEQ_REGISTER_ENTITY( -1577441179, "CIV_4", g_U2628[1], 0 );
    }
    ISEQ_START( -1577441179 );
    sub_228( "MF", "P_DF_CIVS_VIG_01_O_CPL2 - END", 0 );
    return;
}

void sub_38346()
{
    sub_228( "MF", "P_DF_CIVS_VIG_01_N - START", 0 );
    sub_10685( ref g_U2633 );
    if (NOT (IS_PED_DEAD( g_U2633[0] )))
    {
        ISEQ_REGISTER_ENTITY( -456021312, "FLGE", g_U2633[0], 0 );
    }
    if (NOT (IS_PED_DEAD( g_U2633[1] )))
    {
        ISEQ_REGISTER_ENTITY( -456021312, "GMED", g_U2633[1], 0 );
    }
    if (NOT (IS_PED_DEAD( g_U2633[2] )))
    {
        ISEQ_REGISTER_ENTITY( -456021312, "FLGE1", g_U2633[2], 0 );
    }
    ISEQ_START( -456021312 );
    sub_228( "MF", "P_DF_CIVS_VIG_01_N - END", 0 );
    return;
}

void sub_38721(int iParam0, int iParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, int iParam9)
{
    int iVar12;
    int iVar13;
    int iVar14;
    int iVar15;
    int iVar16;

    sub_228( "GA", "Saving the player data for checkpoint - Start", 0 );
    if ((IS_PED_DEAD( uParam2 )) == 0)
    {
        sub_228( "SP", "Saving to scripted data...", 0 );
        RESET_CHECKPOINT_ATTEMPTS();
        if (SCRIPT_VAR_EXISTS( "SV_SAVE_CNT" ))
        {
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", (SCRIPT_VAR_GET_INT( "SV_SAVE_CNT" )) + 1 );
        }
        else
        {
            SCRIPT_VAR_ADD_INT( "SV_SAVE_CNT" );
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", 1 );
        }
        sub_7520( iParam1 );
        sub_38980( iParam1 );
        iParam0->_fU52 = iParam1;
        iParam0->_fU4 = {uParam3};
        iParam0->_fU16 = uParam6;
        iParam0->_fU20 = uParam7;
        iParam0->_fU24 = uParam8;
        iParam0->_fU28 = GET_PED_HEALTH( uParam2 );
        iParam0->_fU56 = -1569615261;
        iParam0->_fU60 = -1569615261;
        iParam0->_fU64 = -1569615261;
        iParam0->_fU68 = -1569615261;
        iParam0->_fU72 = -1569615261;
        iParam0->_fU76 = 0;
        iParam0->_fU80 = 0;
        iParam0->_fU84 = 0;
        iParam0->_fU88 = 0;
        iParam0->_fU92 = 0;
        iVar12 = GET_WEAPON_FROM_HAND( uParam2, 0, 0 );
        iVar13 = GET_WEAPON_FROM_HAND( uParam2, 1, 0 );
        iVar14 = GET_WEAPON_FROM_HOLSTER( uParam2, 0 );
        iVar15 = GET_WEAPON_FROM_HOLSTER( uParam2, 1 );
        iVar16 = GET_WEAPON_FROM_HOLSTER( uParam2, 2 );
        if (GET_DOES_WEAPON_EXIST( iVar12 ))
        {
            iParam0->_fU68 = GET_WEAPON_TYPE( iVar12 );
            iParam0->_fU88 = (GET_WEAPON_AMMO( iVar12 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar12 ));
            sub_39431( iVar12, iParam0 + 120, iParam0 + 124 );
        }
        if (GET_DOES_WEAPON_EXIST( iVar13 ))
        {
            iParam0->_fU72 = GET_WEAPON_TYPE( iVar13 );
            iParam0->_fU92 = (GET_WEAPON_AMMO( iVar13 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar13 ));
            sub_39431( iVar13, iParam0 + 128, iParam0 + 132 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_39663( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar13 ) ))
                {
                    iParam0->_fU92 = GET_WEAPON_AMMO_IN_CLIP( iVar12 );
                }
            }
        }
        if ((iVar14 != iVar13) AND ((iVar14 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar14 ))))
        {
            iParam0->_fU56 = GET_WEAPON_TYPE( iVar14 );
            iParam0->_fU76 = (GET_WEAPON_AMMO( iVar14 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar14 ));
            sub_39431( iVar14, iParam0 + 96, iParam0 + 100 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_39663( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if (sub_39663( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
        }
        if ((iVar15 != iVar13) AND ((iVar15 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar15 ))))
        {
            iParam0->_fU60 = GET_WEAPON_TYPE( iVar15 );
            iParam0->_fU80 = (GET_WEAPON_AMMO( iVar15 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar15 ));
            sub_39431( iVar15, iParam0 + 104, iParam0 + 108 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_39663( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if (sub_39663( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if (sub_39663( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
        }
        if ((iVar16 != iVar13) AND ((iVar16 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar16 ))))
        {
            iParam0->_fU64 = GET_WEAPON_TYPE( iVar16 );
            iParam0->_fU84 = (GET_WEAPON_AMMO( iVar16 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar16 ));
            sub_39431( iVar16, iParam0 + 112, iParam0 + 116 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_39663( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if (sub_39663( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if (sub_39663( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar15 ))
            {
                if (sub_39663( GET_WEAPON_TYPE( iVar15 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
        }
        SAVE_PICKUPS();
        iParam0->_fU32 = GET_ADRENALINE_AMT();
        iParam0->_fU36 = GET_PAYNEKILLER_AMT();
        GET_TIME_OF_DAY( iParam0 + 40, iParam0 + 44 );
        iParam0->_fU140 = IS_TIME_OF_DAY_FROZEN();
        iParam0->_fU136 = GET_PED_SWEAT( uParam2 );
        if (iParam9 == 1)
        {
            if (IS_MAGDEMO() == 0)
            {
                ENABLE_CHECKPOINT_ICON();
            }
        }
        if (iParam1 >= 0)
        {
            sub_41221( iParam0 );
            iParam0->_fU0 = 1;
            if (IS_ARCADE_MODE_ACTIVE() == 0)
            {
                CHECKPOINT_STORAGE_SAVE( iParam0, l_U1, iParam0->_fU52 );
                REQUEST_SAVE();
            }
        }
        if (IS_ARCADE_MODE_ACTIVE())
        {
            UPDATE_ARCADE_CHECK_POINT( iParam0->_fU52 );
        }
    }
    else
    {
        SCRIPT_ASSERT( "Error: Player is dead while saving a checkpoint!!!", 0 );
    }
    sub_228( "GA", "Saving the player data for checkpoint - End", 0 );
    return;
}

void sub_38980(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (iParam0 >= 0)
    {
        if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
        {
            uVar3 = sub_4884( ref uVar20 );
        }
        STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, iParam0 - 1 );
        sub_228( "TEH", "Ending context", 0 );
        sub_228( "TEH", "Ending context", 0 );
        END_CONTEXT( ref uVar4 );
    }
    return;
}

void sub_39431(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        CLEAR_BIT( uParam1, I );
        CLEAR_BIT( uParam2, I );
        if (IS_WEAPON_ATTACHMENT_ENABLED( uParam0, I ))
        {
            SET_BIT( uParam1, I );
            if (IS_WEAPON_ATTACHMENT_TOGGLED( uParam0, I ))
            {
                SET_BIT( uParam2, I );
            }
        }
    }
    return;
}

void sub_39663(int iParam0, int iParam1)
{
    int Result;

    Result = 0;
    if ((iParam0 == -612753081) || ((iParam0 == 68019059) || ((iParam0 == 456708483) || ((iParam0 == -862236369) || (iParam0 == 406496141)))))
    {
        if ((iParam1 == -612753081) || ((iParam1 == 68019059) || ((iParam1 == 456708483) || ((iParam1 == -862236369) || (iParam1 == 406496141)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 724901397) || ((iParam0 == 57534114) || ((iParam0 == 1308526797) || ((iParam0 == -1074756423) || (iParam0 == -1013714740)))))
    {
        if ((iParam1 == 724901397) || ((iParam1 == 57534114) || ((iParam1 == 1308526797) || ((iParam1 == -1074756423) || (iParam1 == -1013714740)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 514118749) || ((iParam0 == -184942895) || ((iParam0 == -168327769) || ((iParam0 == 1845102363) || (iParam0 == 434544317)))))
    {
        if ((iParam1 == 514118749) || ((iParam1 == -184942895) || ((iParam1 == -168327769) || ((iParam1 == 1845102363) || (iParam1 == 434544317)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -110877124) || (iParam0 == 319712764))
    {
        if ((iParam1 == -110877124) || (iParam1 == 319712764))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -1464892298) || ((iParam0 == 1194438308) || ((iParam0 == -1404433099) || ((iParam0 == 1478009203) || ((iParam0 == -691403429) || (iParam0 == 1964270085))))))
    {
        if ((iParam1 == -1464892298) || ((iParam1 == 1194438308) || ((iParam1 == -1404433099) || ((iParam1 == 1478009203) || ((iParam1 == -691403429) || (iParam1 == 1964270085))))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 10648147) || (iParam0 == 1224272620))
    {
        if ((iParam1 == 10648147) || (iParam1 == 1224272620))
        {
            Result = 1;
        }
    };;;;;;
    return Result;
}

void sub_41221(int iParam0)
{
    sub_6537( "CHECKPOINT DATA" );
    sub_41260( iParam0->_fU4 );
    sub_41283( iParam0->_fU16 );
    sub_41283( iParam0->_fU20 );
    sub_41283( iParam0->_fU24 );
    sub_29293( iParam0->_fU28 );
    sub_29293( iParam0->_fU56 );
    sub_29293( iParam0->_fU60 );
    sub_29293( iParam0->_fU64 );
    sub_29293( iParam0->_fU68 );
    sub_29293( iParam0->_fU72 );
    sub_29293( iParam0->_fU76 );
    sub_29293( iParam0->_fU80 );
    sub_29293( iParam0->_fU84 );
    sub_29293( iParam0->_fU88 );
    sub_29293( iParam0->_fU92 );
    sub_41283( iParam0->_fU32 );
    sub_29293( iParam0->_fU36 );
    sub_29293( iParam0->_fU40 );
    sub_29293( iParam0->_fU44 );
    sub_41283( iParam0->_fU136 );
    sub_41518( iParam0->_fU140 );
    sub_29293( iParam0->_fU52 );
    sub_6537( "---nRightHolsterAttachmentEnabled: " );
    sub_29293( iParam0->_fU96 );
    sub_6537( "---nRightHolsterAttachmentToggled: " );
    sub_29293( iParam0->_fU100 );
    sub_6537( "---nLeftHolsterAttachmentEnabled: " );
    sub_29293( iParam0->_fU104 );
    sub_6537( "---nLeftHolsterAttachmentToggled: " );
    sub_29293( iParam0->_fU108 );
    sub_6537( "---nRifleHolsterAttachmentEnabled: " );
    sub_29293( iParam0->_fU112 );
    sub_6537( "---nRifleHolsterAttachmentToggled: " );
    sub_29293( iParam0->_fU116 );
    sub_6537( "---nRightHandAttachmentEnabled: " );
    sub_29293( iParam0->_fU120 );
    sub_6537( "---nRightHandAttachmentToggled: " );
    sub_29293( iParam0->_fU124 );
    sub_6537( "---nLeftHandAttachmentEnabled: " );
    sub_29293( iParam0->_fU128 );
    sub_6537( "---nLeftHandAttachmentToggled: " );
    sub_29293( iParam0->_fU132 );
    sub_29293( l_U1 );
    sub_29293( 144 );
    return;
}

void sub_41260(unknown uParam0, unknown uParam1, unknown uParam2)
{
    return;
}

void sub_41283(unknown uParam0)
{
    return;
}

void sub_41518(boolean bParam0)
{
    if (bParam0)
    {
        ;
    }
    return;
}

int sub_42642()
{
    if (l_U34)
    {
        sub_228( "CO", "F_IMAGEFX_FADE_IN: IMAGEFX START", 0 );
        START_PANEL_WIPE( 0, 6 );
        PLAY_IMAGEFX( "BULLETCAM_IMPACT", 3, 1 );
        PLAY_IMAGEFX( "BLACK_FADE_UP_FAST_01", 3, 1 );
        DO_SCREEN_FADE_IN( 0 );
        l_U34 = 0;
        return 1;
        break;
    }
    sub_228( "CO", "F_IMAGEFX_FADE_IN: NORMAL START", 0 );
    return 0;
}

void sub_42933()
{
    sub_228( "MF", "P_DF_CIVS_ANIM_COWER_2 - START", 0 );
    sub_10685( ref g_U2619 );
    if (NOT (IS_PED_DEAD( g_U2619[0] )))
    {
        ISEQ_REGISTER_ENTITY( -74541949, "CIV_2", g_U2619[0], 0 );
    }
    ISEQ_START( -74541949 );
    sub_228( "MF", "P_DF_CIVS_ANIM_COWER_2 - END", 0 );
    return;
}

void sub_43109()
{
    sub_228( "MF", "P_DF_MPM_START_BULLET_TIME - START", 0 );
    SET_ADRENALINE_AMT( 1.00000000 );
    ACTIVATE_BULLET_TIME( 0, 1.00000000, 1 );
    ENABLE_MPM( 1 );
    sub_228( "MF", "P_DF_MPM_START_BULLET_TIME - END", 0 );
    return;
}

void sub_43448()
{
    sub_228( "CCB", "P_START_SP_CHALLENGES", 0 );
    sub_228( "CCB", "Starting the Nightclub context...", 0 );
    START_CONTEXT( "Nightclub" );
    sub_228( "CCB", "Starting the Nightclub_Dance_To_Heli context...", 0 );
    START_CONTEXT( "Nightclub_Dance_To_Heli" );
    return;
}

void sub_43664()
{
    sub_228( "CCB", "P_START_SP_CHALLENGES_MPM", 0 );
    sub_228( "CCB", "Starting the Nightclub_MPM context...", 0 );
    START_CONTEXT( "Nightclub_MPM" );
    return;
}

void sub_43976(boolean bParam0, boolean bParam1)
{
    SET_WIDESCREEN_BORDERS( 0, 500 );
    DISPLAY_HUD( 1 );
    if (NOT (IS_PED_DEAD( sub_385() )))
    {
        SET_PLAYER_CONTROL( sub_407(), 1, 0 );
        SET_PED_INVINCIBLE( sub_385(), 0 );
        if (bParam0)
        {
            sub_44057();
        }
    }
    PULSE_CROSSHAIR( 1 );
    if (bParam1)
    {
        DESTROY_ALL_CAMS();
    }
    return;
}

void sub_44057()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD( sub_385() )) == 0)
    {
        uVar2 = GET_WEAPON_FROM_HAND( sub_385(), 0, 0 );
        uVar3 = GET_WEAPON_FROM_HAND( sub_385(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
        {
            uVar4 = GET_MAX_AMMO_IN_HAND_CLIP_MP( sub_385(), 0 );
            SET_WEAPON_AMMO_IN_CLIP( uVar2, uVar4 );
        }
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            uVar5 = GET_MAX_AMMO_IN_HAND_CLIP_MP( sub_385(), 1 );
            SET_WEAPON_AMMO_IN_CLIP( uVar3, uVar5 );
        }
    }
    return;
}

void sub_44240()
{
    sub_228( "MF", "P_DF_MPM_GAME_SETTINGS_ENABLE - START", 0 );
    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 1 );
    DISPLAY_HUD( 0 );
    ENABLE_CROSSHAIR( 1 );
    SET_CROSSHAIR_PULSE();
    SET_SILHOUETTE_ACTIVE( 0 );
    if (NOT (IS_PED_DEAD( sub_385() )))
    {
        SET_PED_PROOFS( sub_385(), 1, 1, 1, 1, 1 );
        SET_PED_CONSUMING_AMMO( sub_385(), 0 );
    }
    sub_228( "MF", "P_DF_MPM_GAME_SETTINGS_ENABLE - END", 0 );
    return;
}

void sub_44531()
{
    if (NOT (IS_PED_DEAD( l_U1057[0] )))
    {
        if ((ISEQ_QUERY_ENTITY_STATE( -1355646060, "GMED8", 6 )) || (ISEQ_QUERY_ENTITY_STATE( -1355646060, "GMED8", 5 )))
        {
            sub_3008( l_U1057[0] );
        }
    }
    if (NOT (IS_PED_DEAD( l_U1057[1] )))
    {
        if ((ISEQ_QUERY_ENTITY_STATE( -1355646060, "GMED9", 6 )) || (ISEQ_QUERY_ENTITY_STATE( -1355646060, "GMED9", 5 )))
        {
            sub_3008( l_U1057[1] );
        }
    }
    if (NOT (IS_PED_DEAD( l_U1057[2] )))
    {
        if ((ISEQ_QUERY_ENTITY_STATE( -1355646060, "GMED10", 6 )) || (ISEQ_QUERY_ENTITY_STATE( -1355646060, "GMED10", 5 )))
        {
            sub_3008( l_U1057[2] );
        }
    }
    if (NOT (IS_PED_DEAD( l_U1057[3] )))
    {
        if ((ISEQ_QUERY_ENTITY_STATE( -1355646060, "SERANO", 6 )) || (ISEQ_QUERY_ENTITY_STATE( -1355646060, "SERANO", 5 )))
        {
            sub_3008( l_U1057[3] );
        }
    }
    return;
}

void sub_45121()
{
    int iVar2;
    float fVar3;

    sub_228( "MF", "P_DF_MPM_ASSIGN_HEALTH_PENALTY - START", 0 );
    iVar2 = sub_45187( ref g_U2637 );
    if (iVar2 > 5)
    {
        iVar2 = 5;
    }
    iVar2++;
    fVar3 = 0.16667000 * iVar2;
    sub_41283( fVar3 );
    sub_45325( fVar3 );
    SET_ADRENALINE_AMT( fVar3 );
    sub_228( "MF", "P_DF_MPM_ASSIGN_HEALTH_PENALTY - END", 0 );
    return;
}

void sub_45187(unknown uParam0)
{
    int Result;
    int I;
    int iVar5;

    Result = 0;
    iVar5 = (uParam0^) - 1;
    for ( I = 0; I <= iVar5; I++ )
    {
        if (DOES_PED_EXIST( (uParam0^)[I] ))
        {
            if (IS_PED_DEAD( (uParam0^)[I] ))
            {
                Result++;
            }
        }
    }
    return Result;
}

void sub_45325(unknown uParam0)
{
    int iVar3;

    if (NOT (IS_PED_DEAD( sub_385() )))
    {
        iVar3 = (ROUND( ((GET_PED_MAX_HEALTH( sub_385() )) - 100) * uParam0 )) + 100;
        SET_PED_HEALTH( sub_385(), iVar3, 0 );
    }
    return;
}

string sub_45524()
{
    return "SMALL_EXPLOSION_SHAKE";
}

void sub_45571(unknown uParam0, unknown uParam1)
{
    SHAKE_CAM( GET_RENDERING_CAM(), uParam0, uParam1 );
    SHAKE_GAMEPLAY_CAM( uParam0, uParam1 );
    return;
}

int sub_45948(unknown uParam0, unknown uParam1)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        return PED_GET_ACTION_INTENTION_STATUS( uParam0, uParam1 );
    }
    return 0;
}

void sub_46003()
{
    sub_228( "MF", "P_DF_MPM_SET_PLAYER_PRONE - START", 0 );
    START_PLAYER_SHOOTDODGE( 1.00000000, 0.00000000, 0.00000000, 1, 1, 0, 0 );
    sub_228( "MF", "P_DF_MPM_SET_PLAYER_PRONE - END", 0 );
    return;
}

void sub_46203()
{
    int I;

    sub_228( "MF", "P_DF_CS_SETTINGS_RESTORE - START", 0 );
    if (NOT (IS_PED_DEAD( g_U2616 )))
    {
        SET_PED_INVINCIBLE( g_U2616, 1 );
        SET_PED_PROOFS( g_U2616, 1, 1, 1, 1, 1 );
        SET_PED_CAN_BE_MELEED( g_U2616, 0 );
        STOP_PED_SPEAKING( g_U2616, 1 );
        SET_PED_HEADING( g_U2616, 90.00000000 );
    }
    for ( I = 0; I < g_U2637; I++ )
    {
        if (NOT (IS_PED_DEAD( g_U2637[I] )))
        {
            SET_PED_AS_ONE_SHOT_KILL( g_U2637[I], 0 );
            SET_PED_CONSUMING_AMMO( g_U2637[I], 1 );
            SET_PED_COMBAT_MOVEMENT( g_U2637[I], 2 );
            CLEAR_PED_TASKS_IMMEDIATELY( g_U2637[I] );
            SET_PED_COMBAT_ATTRIBUTES( g_U2637[I], 16, 1 );
            SET_PED_FLAG_BLOCK_GORE_REACTION( g_U2637[I], 0 );
            SET_PED_COMBAT_ATTRIBUTES( g_U2637[I], 1, 0 );
            SET_PED_FLAG_BLOCK_WOUNDED_MOVEMENT( g_U2637[I], 0 );
        }
    }
    sub_228( "MF", "P_DF_CS_SETTINGS_RESTORE - END", 0 );
    return;
}

void sub_46588()
{
    sub_228( "MF", "P_DF_MPM_PLAYER_SETTINGS_RESTORE - START", 0 );
    ENABLE_CROSSHAIR( 0 );
    DISPLAY_HUD( 1 );
    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 1 );
    ENABLE_HIT_DETECTION( 1 );
    SET_SILHOUETTE_ACTIVE( 1 );
    SET_PED_PROOFS( sub_385(), 0, 0, 0, 0, 0 );
    PED_FINISH_ACTION_INTENTION( sub_385(), 47 );
    ENABLE_MPM( 0 );
    SET_PED_CONSUMING_AMMO( sub_385(), 1 );
    sub_228( "MF", "P_DF_MPM_PLAYER_SETTINGS_RESTORE - END", 0 );
    return;
}

void sub_46827()
{
    sub_228( "CCB", "P_STOP_SP_CHALLENGES_MPM", 0 );
    sub_228( "CCB", "Stopping the Nightclub_MPM context...", 0 );
    END_CONTEXT( "Nightclub_MPM" );
    return;
}

void sub_46959()
{
    sub_228( "CCB", "P_START_SP_CHALLENGES_DANCE", 0 );
    sub_228( "CCB", "Starting the Nightclub_Dance context...", 0 );
    START_CONTEXT( "Nightclub_Dance" );
    return;
}

int sub_47559(unknown uParam0, boolean bParam1)
{
    if ((sub_9094( uParam0, 0 )) == 1)
    {
        if (NOT bParam1)
        {
            if ((sub_8990( uParam0 )) == 0)
            {
                return 1;
            }
        }
        if (bParam1)
        {
            if ((sub_45187( uParam0 )) == (uParam0^))
            {
                return 1;
            }
        }
    }
    return 0;
}

void sub_47656(int iParam0)
{
    iParam0->_fU4 = -1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = 0;
    iParam0->_fU32 = 0;
    iParam0->_fU36 = 0;
    return;
}

void sub_47738(int iParam0, unknown uParam1, unknown uParam2, int iParam3, unknown uParam4, unknown uParam5)
{
    if (iParam3->_fU32)
    {
        ;
    }
    else if (iParam3->_fU36 == 0)
    {
        iParam3->_fU36 = 1;
        iParam3->_fU4 = CREATE_NEW_SCRIPTED_CONVERSATION( uParam4 );
        if (iParam3->_fU4 == -1)
        {
            iParam3->_fU32 = 1;
        }
    }
    if ((iParam0 < 9) AND ((iParam0 >= 0) AND ((iParam3->_fU4 < 4) AND (iParam3->_fU4 >= 0))))
    {
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU0 = uParam1;
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU4 = GET_HASH_KEY( uParam2 );
        if (NOT (IS_PED_INJURED( uParam1 )))
        {
            SET_PED_CAN_PLAY_AMBIENT_ANIMS( uParam1, uParam5 );
        }
    }
    return;
}

void sub_47988(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return sub_48012( uParam0, ref g_U157._fU0, uParam1, uParam2, uParam3 );
}

void sub_48012(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    StrCopy( ref cVar11[0], uParam0, 16 );
    StrCopy( ref cVar11[1], "END", 16 );
    return sub_48067( ref cVar11, uParam2, uParam3, 0, 0, 0, 0, ref cVar7, uParam4 );
}

int sub_48067(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    int I;
    unknown uVar12;
    unknown uVar13;

    if (iParam1->_fU4 == -1)
    {
        return 0;
    }
    iParam1->_fU0 = uParam2;
    if (NOT (sub_48102( iParam1 )))
    {
        return 0;
    }
    uVar12 = iParam1->_fU4;
    uVar13 = GET_HASH_KEY( ref (uParam0^)[0] );
    iParam1->_fU16 = uVar13;
    SET_CONVERSATION_CHECK_HASH( uVar12, uVar13 );
    g_U157._fU132 = 0;
    iParam1->_fU24 = 0;
    iParam1->_fU28 = uParam5;
    if (bParam3)
    {
        if (iParam1->_fU20)
        {
            iParam1->_fU20 = 0;
        }
    }
    else
    {
        iParam1->_fU20 = 0;
        if (bParam4)
        {
            iParam1->_fU12 = uParam6;
            iParam1->_fU20 = 0;
        }
        else
        {
            iParam1->_fU12 = 0;
            iParam1->_fU20 = 0;
        }
    }
    iParam1->_fU24 = bParam4;
    for ( I = 0; I <= 24; I++ )
    {
        StrCopy( ref g_U233[uVar12][I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        g_U233[uVar12][I] = {(uParam0^)[I]};
    }
    g_U192[uVar12] = {(iParam1^)};
    sub_48596( ref g_U16[uVar12], ref g_U157 );
    StrCopy( ref g_U16[uVar12]._fU0, uParam7, 16 );
    g_U16[uVar12]._fU136 = uParam8;
    g_U11[iParam1->_fU4] = 1;
    return 1;
}

int sub_48102(int iParam0)
{
    switch (g_U11[iParam0->_fU4])
    {
        case 1:
        case 2:
        return 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING( iParam0->_fU4 ))
    {
        if (g_U1[iParam0->_fU4] > iParam0->_fU0)
        {
            return 0;
        }
        STOP_SCRIPTED_CONVERSATION( iParam0->_fU4, 0, 0 );
    }
    g_U1[iParam0->_fU4] = iParam0->_fU0;
    g_U6[iParam0->_fU4]++;
    if (g_U6[iParam0->_fU4] > 100000)
    {
        g_U6[iParam0->_fU4] = 1;
    }
    iParam0->_fU8 = g_U6[iParam0->_fU4];
    return 1;
}

void sub_48596(int iParam0, int iParam1)
{
    int I;

    iParam0->_fU0 = {iParam1->_fU0};
    for ( I = 0; I <= 8; I++ )
    {
        iParam0->_fU92[I] = iParam1->_fU92[I];
    }
    iParam0->_fU132 = iParam1->_fU132;
    iParam0->_fU136 = iParam1->_fU136;
    return;
}

void sub_48833()
{
    sub_48869( ref g_U2617[0], 58, 1069547520, 1101004800, 0, -1082130432 );
    sub_48869( ref g_U2619[0], 58, 1069547520, 1101004800, 0, -1082130432 );
    sub_48869( ref g_U2621[0], 58, 1069547520, 1101004800, 0, -1082130432 );
    sub_48869( ref g_U2633[0], 58, 1069547520, 1101004800, 0, -1082130432 );
    sub_48869( ref g_U2633[1], 58, 1069547520, 1101004800, 0, -1082130432 );
    sub_48869( ref g_U2633[2], 58, 1069547520, 1101004800, 0, -1082130432 );
    sub_48869( ref g_U2625[0], 58, 1069547520, 1101004800, 0, -1082130432 );
    sub_48869( ref g_U2625[1], 58, 1069547520, 1101004800, 0, -1082130432 );
    sub_48869( ref g_U2628[0], 58, 1069547520, 1101004800, 0, -1082130432 );
    sub_48869( ref g_U2628[1], 58, 1069547520, 1101004800, 0, -1082130432 );
    sub_48869( ref g_U2623[0], 58, 1069547520, 1101004800, 0, -1082130432 );
    return;
}

void sub_48869(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    if (NOT (IS_PED_DEAD( (uParam0^) )))
    {
        if (IS_PED_IN_CROSSHAIR_CYLINDER( (uParam0^), uParam2, uParam3, uParam4, uParam5 ))
        {
            if (IS_CONTROL_PRESSED( 0, 6 ))
            {
                if (NOT ((sub_45948( (uParam0^), uParam1 )) == 3))
                {
                    sub_48960( (uParam0^), uParam1, 9999999 );
                }
            }
            else
            {
                sub_49021( uParam0, uParam1 );
            }
        }
        else
        {
            sub_49021( uParam0, uParam1 );
        }
    }
    return;
}

void sub_48960(unknown uParam0, unknown uParam1, unknown uParam2)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        PED_SET_ACTION_INTENTION( uParam0, uParam1, uParam2, g_U665 );
    }
    return;
}

void sub_49021(unknown uParam0, unknown uParam1)
{
    if (NOT (IS_PED_DEAD( (uParam0^) )))
    {
        PED_FINISH_ACTION_INTENTION( (uParam0^), uParam1 );
    }
    return;
}

void sub_50047()
{
    sub_228( "MF", "P_RELEASE_DANCE_FLOOR_ASSETS - START", 0 );
    sub_50128( "LEVEL_S_CLUB_CP_01" );
    sub_50128( "LEVEL_S_CLUB_CP_01_02" );
    sub_50190( g_U2459 );
    sub_50190( 1477676602 );
    sub_50190( g_U2456 );
    sub_50190( g_U2465 );
    sub_50190( 1329961944 );
    sub_50190( -963320249 );
    sub_50190( -1491672653 );
    sub_50190( 1208363481 );
    sub_50190( -853898069 );
    sub_50190( -142544647 );
    sub_50190( g_U2454 );
    sub_50190( -238037853 );
    sub_50441( 406496141 );
    sub_50441( 1194438308 );
    sub_50441( 68019059 );
    sub_228( "MF", "P_RELEASE_DANCE_FLOOR_ASSETS - END", 0 );
    return;
}

void sub_50128(unknown uParam0)
{
    REMOVE_ANIM_DICT( uParam0, 0 );
    return;
}

void sub_50190(unknown uParam0)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 1)
    {
        SET_MODEL_AS_NO_LONGER_NEEDED( uParam0 );
    }
    else
    {
        sub_6537( "[SP]### ERROR! (UnloadModel) Trying to unload a model that isn't in the img! ###" );
    }
    return;
}

void sub_50441(unknown uParam0)
{
    SET_WEAPON_AS_NO_LONGER_NEEDED( uParam0 );
    return;
}

void sub_50569(unknown uParam0, unknown uParam1)
{
    sub_1184( uParam0, uParam1, 1, 0 );
    sub_1318( uParam0 );
    return;
}

void sub_50764(int iParam0)
{
    iParam0->_fU36 = 1;
    return;
}

void sub_50810(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20)
{
    return sub_50828( sub_385(), uParam0 );
}

int sub_50828(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        return IS_PED_IN_GAMEPLAY_HELPER_BOX( uParam0, ref uParam1._fU0 );
    }
    return 0;
}

void sub_50909(unknown uParam0, unknown uParam1)
{
    sub_47656( uParam1 );
    sub_47738( 0, sub_385(), "MAX", uParam1, 2, 0 );
    sub_47738( 1, sub_385(), "MAX", uParam1, 2, 0 );
    sub_47988( uParam0, uParam1, 8, 1 );
    return;
}

void sub_51181(int iParam0, unknown uParam1)
{
    if (iParam0->_fU64 == 1)
    {
        return 0;
    }
    else
    {
        iParam0->_fU64 = sub_50828( sub_385(), (iParam0^) );
        if ((iParam0->_fU64) AND (uParam1))
        {
            GAMEPLAY_HELPER_BOX_SET_ENABLED( iParam0 + 0, 0 );
        }
    }
    return iParam0->_fU64;
}

void sub_51339(int iParam0, unknown uParam1)
{
    if (NOT (sub_51353( (iParam0^) )))
    {
        ;
    }
    else if (IS_SCRIPTED_CONVERSATION_ONGOING( iParam0->_fU4 ))
    {
        if (iParam0->_fU8 == g_U6[iParam0->_fU4])
        {
            STOP_SCRIPTED_CONVERSATION( iParam0->_fU4, uParam1, 0 );
        }
    }
    return;
}

boolean sub_51353(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
    int iVar12;

    if (uParam0._fU4 < 0)
    {
        return 0;
    }
    iVar12 = GET_CHECK_HASH_FROM_CONVERSATION_ID( uParam0._fU4 );
    return (uParam0._fU16 == iVar12) AND (iVar12 != 0);
}

int sub_52037()
{
    sub_228( "SP", "F_WHERE_DID_MAX_FAIL", 0 );
    if (((sub_50810( l_U419 )) == 1) || (((sub_50810( l_U398 )) == 1) || (((sub_50810( l_U377 )) == 1) || ((sub_50810( l_U356 )) == 1))))
    {
        return 1;
    }
    else if (((sub_50810( l_U461 )) == 1) || ((sub_50810( l_U440 )) == 1))
    {
        return 2;
    }
    else if (((sub_50810( l_U503 )) == 1) || ((sub_50810( l_U482 )) == 1))
    {
        return 3;
    }
    else if (((sub_50810( l_U545 )) == 1) || ((sub_50810( l_U524 )) == 1))
    {
        return 4;
    }
    else if (((sub_50810( l_U587 )) == 1) || ((sub_50810( l_U566 )) == 1))
    {
        return 5;
    }
    else if (((sub_50810( l_U629 )) == 1) || ((sub_50810( l_U608 )) == 1))
    {
        return 6;
    }
    else if (((sub_50810( l_U671 )) == 1) || ((sub_50810( l_U650 )) == 1))
    {
        return 7;
    }
    else if ((sub_50810( l_U692 )) == 1)
    {
        return 8;
    }
    else if (((sub_50810( l_U734 )) == 1) || ((sub_50810( l_U713 )) == 1))
    {
        return 9;
    }
    else if (((sub_50810( l_U776 )) == 1) || ((sub_50810( l_U755 )) == 1))
    {
        return 10;
    };;;;;;;;;;
    return 0;
}

int sub_52815()
{
    vector vVar2;
    float fVar5;

    vVar2 = {27.34800000, -64.20100000, -4.61900000};
    fVar5 = -45.00000000;
    switch (l_U37)
    {
        case 0: break;
        case 2:
        sub_228( "SP", "eMid02Fail2State = MIDSCENE_SETUP", 0 );
        sub_35416( 1, 0, 0, 1 );
        DO_SCREEN_FADE_OUT( 500 );
        l_U37 = 1;
        sub_228( "SP", "eMid02Fail2State = MIDSCENE_FIRST_FRAME", 0 );
        break;
        case 1:
        if (IS_SCREEN_FADED_OUT())
        {
            sub_53070( sub_385(), vVar2, fVar5 );
            if ((GET_DOES_WEAPON_EXIST( GET_WEAPON_FROM_HAND( sub_385(), 1, 0 ) )) AND (NOT (IS_PED_DEAD( sub_385() ))))
            {
                REMOVE_PED_WEAPON( sub_385(), GET_WEAPON_FROM_HAND( sub_385(), 1, 0 ) );
            }
            ISEQ_REGISTER_ENTITY( -2074831912, "player", sub_385(), 0 );
            ISEQ_START( -2074831912 );
            l_U37 = 3;
        }
        break;
        case 3:
        sub_228( "SP", "eMid02Fail2State = MIDSCENE_FIRST_FRAME", 0 );
        CAMERA_PLAY_ANIMATED( "LEVEL_S_CLUB_FAIL", "MID_02_NC_FAIL_DANCEFLOOR1_CAM", 0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0 );
        DO_SCREEN_FADE_IN( 500 );
        sub_53390();
        l_U37 = 4;
        sub_228( "SP", "eMid02Fail2State = MIDSCENE_PLAYING", 0 );
        break;
        case 4:
        if (NOT (sub_1080( ref l_U797 )))
        {
            if (NOT sub_53679())
            {
                sub_228( "MF", "Max is finished talking, starting fade delay timer...", 0 );
                sub_1184( ref l_U797, 800, 1, 0 );
                sub_1318( ref l_U797 );
            }
        }
        if ((CAMERA_ANIMATED_CURRENT_TIME() > ((CAMERA_ANIMATED_LENGTH( "LEVEL_S_CLUB_FAIL", "MID_02_NC_FAIL_DANCEFLOOR1_CAM" )) - 30)) || (sub_1436( ref l_U797 )))
        {
            sub_53948( "MISS_DEATH_FAIL_FAST_01A", 0 );
            l_U37 = 5;
            sub_228( "SP", "eMid02Fail2State = MIDSCENE_END_FADE", 0 );
        }
        break;
        case 5:
        CAMERA_ANIMATED_STOP( 3000, 0 );
        ISEQ_UNREGISTER_ENTITY( -2074831912, "player" );
        ISEQ_TERMINATE( -2074831912 );
        l_U37 = 0;
        sub_228( "SP", "eMid02Fail2State = MIDSCENE_IDLE", 0 );
        return 1;
        break;
    }
    return 0;
}

void sub_53070(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_COORDS( uParam0, uParam1, 1 );
        SET_PED_HEADING( uParam0, uParam4 );
    }
    return;
}

void sub_53390()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    int iVar12;
    string sVar13;

    sub_228( "MF", "P_FAIL_PLAY_SOLO_MONOLOGUE - START", 0 );
    iVar12 = GET_RANDOM_INT_IN_RANGE( 0, 3 );
    if (iVar12 == 0)
    {
        sVar13 = "SCLB_MID02A";
    }
    else if (iVar12 == 1)
    {
        sVar13 = "SCLB_MID02D";
    }
    else
    {
        sVar13 = "SCLB_MID02G";
    }
    sub_50909( sVar13, ref uVar2 );
    sub_228( "MF", "P_FAIL_PLAY_SOLO_MONOLOGUE - END", 0 );
    return;
}

void sub_53679()
{
    int Result;
    int I;

    Result = 0;
    for ( I = 0; I <= 3; I++ )
    {
        Result = (IS_SCRIPTED_CONVERSATION_ONGOING( I )) || (Result);
    }
    return Result;
}

void sub_53948(unknown uParam0, boolean bParam1)
{
    sub_2825( ref l_U35 );
    l_U35 = CREATE_CAM( "DEFAULT_BULLET_CAMERA", 1 );
    SETUP_BULLET_CAMERA_SCENE( l_U35, uParam0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, "", "" );
    if (bParam1)
    {
        RENDER_SCRIPT_CAMS( 1, 0, 3000, 0 );
    }
    return;
}

int sub_54391()
{
    vector vVar2;
    float fVar5;

    vVar2 = {28.24600000, -46.06000000, -1.59500000};
    fVar5 = -45.00000000;
    switch (l_U38)
    {
        case 0: break;
        case 2:
        sub_228( "SP", "eMid02Fail3State = MIDSCENE_SETUP", 0 );
        sub_35416( 1, 0, 0, 1 );
        DO_SCREEN_FADE_OUT( 500 );
        l_U38 = 1;
        sub_228( "SP", "eMid02Fail3State = MIDSCENE_START_FADE", 0 );
        break;
        case 1:
        if (IS_SCREEN_FADED_OUT())
        {
            sub_53070( sub_385(), vVar2, fVar5 );
            if ((GET_DOES_WEAPON_EXIST( GET_WEAPON_FROM_HAND( sub_385(), 1, 0 ) )) AND (NOT (IS_PED_DEAD( sub_385() ))))
            {
                REMOVE_PED_WEAPON( sub_385(), GET_WEAPON_FROM_HAND( sub_385(), 1, 0 ) );
            }
            ISEQ_REGISTER_ENTITY( -1239976099, "player", sub_385(), 0 );
            ISEQ_START( -1239976099 );
            l_U38 = 3;
        }
        break;
        case 3:
        sub_228( "SP", "eMid02Fail3State = MIDSCENE_FIRST_FRAME", 0 );
        CAMERA_PLAY_ANIMATED( "LEVEL_S_CLUB_FAIL", "MID_02_NC_FAIL_DANCEFLOOR2_CAM", 0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0 );
        DO_SCREEN_FADE_IN( 500 );
        sub_53390();
        l_U38 = 4;
        sub_228( "SP", "eMid02Fail3State = MIDSCENE_PLAYING", 0 );
        break;
        case 4:
        if (NOT (sub_1080( ref l_U797 )))
        {
            if (NOT sub_53679())
            {
                sub_228( "MF", "Max is finished talking, starting fade delay timer...", 0 );
                sub_1184( ref l_U797, 800, 1, 0 );
                sub_1318( ref l_U797 );
            }
        }
        if ((CAMERA_ANIMATED_CURRENT_TIME() > ((CAMERA_ANIMATED_LENGTH( "LEVEL_S_CLUB_FAIL", "MID_02_NC_FAIL_DANCEFLOOR2_CAM" )) - 100)) || (sub_1436( ref l_U797 )))
        {
            sub_53948( "MISS_DEATH_FAIL_FAST_01A", 0 );
            l_U38 = 5;
            sub_228( "SP", "eMid02Fail3State = MIDSCENE_END_FADE", 0 );
        }
        break;
        case 5:
        CAMERA_ANIMATED_STOP( 3000, 0 );
        ISEQ_UNREGISTER_ENTITY( -1239976099, "player" );
        ISEQ_TERMINATE( -1239976099 );
        l_U38 = 0;
        sub_228( "SP", "eMid02Fail3State = MIDSCENE_IDLE", 0 );
        return 1;
        break;
    }
    return 0;
}

void sub_55611()
{
    if (NOT l_U2772)
    {
        START_WIDGET_GROUP( "Simple Ped Cleanup Times" );
        ADD_WIDGET_INT_SLIDER( "Cleanup Simple Peds Lounge", ref l_U2647, 0, 20000, 100 );
        ADD_WIDGET_INT_SLIDER( "Cleanup Simple Peds Stairs", ref l_U2452, 0, 20000, 100 );
        ADD_WIDGET_INT_SLIDER( "Cleanup Simple Peds VIG_01_E", ref l_U1561, 0, 20000, 100 );
        ADD_WIDGET_INT_SLIDER( "Cleanup Simple Peds VIG 01 G -> P", ref l_U2112, 0, 20000, 100 );
        STOP_WIDGET_GROUP();
        l_U2772 = 1;
    }
    return;
}

