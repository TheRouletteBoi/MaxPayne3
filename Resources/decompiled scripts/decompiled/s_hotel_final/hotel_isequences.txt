void main()
{
    unknown uVar2;

    l_U0 = 1;
    l_U1 = 144;
    l_U2 = 0;
    l_U3 = 1;
    l_U4 = 0;
    l_U5 = 1.00000000;
    l_U6 = -5.00000000;
    l_U7 = 0;
    l_U8 = 0;
    l_U9 = 0;
    l_U13 = 42;
    l_U14 = 0;
    l_U15 = 0;
    l_U16 = 0;
    l_U17 = 0;
    l_U18 = 0;
    l_U19 = 90.00000000;
    l_U20 = {0.00000000, 0.00000000, 0.00000000};
    l_U23 = {0.00000000, 0.00000000, 0.00000000};
    l_U26 = 0;
    l_U27 = 0;
    l_U28 = 0;
    l_U29 = 0;
    l_U30 = 0;
    l_U31 = 0;
    l_U32 = nil;
    l_U33 = {0.00000000, 0.00000000, 0.00000000};
    l_U36 = 0;
    l_U37 = 0;
    l_U38 = 0;
    l_U85 = "PED_DEF";
    l_U127 = 1.00000000;
    l_U139 = 0;
    l_U180 = 0;
    l_U211 = 0.50000000;
    l_U212 = 0.40000000;
    l_U213 = 0.40000000;
    l_U214 = 0.30000000;
    l_U215 = 0.30000000;
    l_U219 = 0.60000000;
    l_U220 = 0.80000000;
    l_U223 = 0.80000000;
    l_U227 = 0.80000000;
    l_U228 = 0.70000000;
    l_U229 = {5.91000000, 8.21000000, 44.03000000};
    l_U232 = 1.00000000;
    l_U233 = {6.60000000, 7.60000000, 44.10000000};
    l_U236 = 1.00000000;
    l_U237 = {6.90000000, 8.80000000, 44.30000000};
    l_U240 = 1.00000000;
    l_U241 = 500;
    l_U251 = 0.85000000;
    l_U252 = 1.00000000;
    l_U253 = 0.85000000;
    l_U254 = 0.85000000;
    l_U255 = 0.85000000;
    l_U256 = 0.80000000;
    l_U257 = 0.80000000;
    l_U258 = {13.50000000, 26.50000000, 40.10000000};
    l_U261 = 1.00000000;
    l_U262 = 0;
    l_U263 = {14.89120000, 27.00090000, 41.51830000};
    l_U266 = 1.00000000;
    l_U267 = 600;
    l_U271 = 1844478068;
    l_U272 = -1455579663;
    l_U273 = -1563045636;
    l_U274 = 1.00000000;
    l_U275 = 1.00000000;
    l_U280 = 1188691208;
    l_U281 = -895442446;
    l_U282 = 638412747;
    l_U283 = 1.00000000;
    l_U284 = 1.00000000;
    l_U287 = -1911968389;
    l_U288 = -1210755311;
    l_U289 = 1.00000000;
    l_U290 = {-9.50000000, 1.00000000, 41.00000000};
    l_U293 = 1.00000000;
    l_U294 = 700;
    l_U299 = -1318069598;
    l_U300 = -138770415;
    l_U301 = 1085512198;
    l_U302 = -2014992279;
    l_U303 = 1.00000000;
    l_U304 = 1.00000000;
    l_U305 = 1.00000000;
    l_U308 = 1379132568;
    l_U309 = -1478959939;
    l_U310 = 1.00000000;
    l_U311 = {3.60000000, 41.00000000, 39.60000000};
    l_U314 = 1.00000000;
    l_U321 = 1954663832;
    l_U322 = 936208156;
    l_U323 = -127310191;
    l_U324 = -433077730;
    l_U325 = -1880750327;
    l_U326 = 694618066;
    l_U327 = 1.00000000;
    l_U328 = 1.00000000;
    l_U329 = 1.00000000;
    l_U330 = 1.00000000;
    l_U331 = 1.00000000;
    l_U332 = {9.15000000, 31.12000000, 39.74000000};
    l_U335 = 1.00000000;
    l_U336 = {4.70000000, 29.60000000, 42.36000000};
    l_U339 = 1.00000000;
    l_U345 = -1901851883;
    l_U346 = 712645242;
    l_U347 = -1062877481;
    l_U348 = 1849270784;
    l_U349 = -237396474;
    l_U350 = 1.00000000;
    l_U351 = 1.00000000;
    l_U352 = 1.00000000;
    l_U353 = {24.84000000, 29.83000000, 42.75000000};
    l_U356 = 1.00000000;
    l_U399 = 0;
    l_U400 = 0;
    l_U401 = 0;
    l_U403 = {27.04000000, -51.90500000, 13.12000000};
    l_U406 = {0, 0, -30.00000000};
    l_U411 = 0;
    l_U412 = 1;
    l_U413 = 1000;
    l_U414 = 0;
    l_U415 = {6.21000000, 5.71000000, 28.65191000};
    l_U418 = 0.29000000;
    l_U419 = {5.50200000, 31.82300000, 30.00000000};
    l_U422 = 310.00000000;
    l_U423 = 0;
    l_U453 = {4.05000000, -3.98000000, -3.65000000};
    l_U456 = {0.00000000, -0.75000000, 0.00000000};
    l_U459 = 0;
    l_U460 = {26.50500000, -31.67300000, 13.05000000};
    l_U463 = 270;
    l_U464 = {27.97500000, -34.60300000, 13.05000000};
    l_U467 = 0;
    l_U468 = {28.80000000, -32.41000000, 13.05000000};
    l_U471 = {0, 0, 338};
    l_U474 = {28.83000000, -32.96000000, 14.01300000};
    l_U477 = {-1.57000000, 0, 0.40160000};
    l_U480 = {0.17500000, 0.10000000, -0.17500000};
    l_U483 = {1.27000000, 0.90000000, 0.00000000};
    l_U486 = {28.55000000, -31.21000000, 13.05500000};
    l_U489 = {0.00000000, 0.00000000, 0.00000000};
    l_U492 = {25.86000000, -31.75000000, 13.05000000};
    l_U495 = {1.57000000, 0.00000000, 90.00000000};
    l_U498 = {27.28000000, -31.36000000, 13.06000000};
    l_U501 = {0.00000000, 0.00000000, 0.00000000};
    l_U560 = 25;
    l_U561 = 0;
    l_U562 = {-3.38000000, -25.75300000, 13.05300000};
    l_U565 = 25.00000000;
    l_U566 = 0;
    l_U581 = {17.69246000, 60.92407000, -3.20011100};
    l_U584 = 99.30113000;
    l_U585 = 0;
    l_U586 = 0;
    l_U587 = 0;
    l_U588 = 0;
    l_U589 = 0;
    l_U590 = 0;
    l_U597 = 0;
    l_U598 = 0;
    l_U599 = 0;
    l_U600 = {26.50000000, 43.20000000, 28.65200000};
    l_U603 = 121.00000000;
    l_U605 = {25.66000000, 42.75100000, 29.97200000};
    l_U608 = {0.00000000, -5.00000000, -60.00000000};
    l_U611 = {-1.25000000, -0.03000000, 0.22000000};
    l_U637 = 900;
    l_U638 = 0;
    l_U639 = 0;
    l_U640 = 0;
    l_U641 = 0;
    l_U642 = 0;
    l_U644 = 0;
    l_U645 = 0;
    l_U646 = 0;
    l_U647 = 0;
    l_U648 = 0;
    l_U650 = 0;
    l_U651 = 0;
    l_U652 = 0;
    l_U653 = 0;
    l_U654 = 0;
    l_U655 = 0;
    l_U656 = 0;
    l_U657 = 0;
    l_U658 = 0;
    l_U659 = 0;
    l_U660 = 0;
    l_U661 = 0;
    l_U662 = 0;
    l_U663 = 0;
    l_U664 = 0;
    l_U665 = 0;
    l_U666 = 0;
    l_U667 = 0;
    l_U668 = 0;
    l_U669 = {11.45500000, 27.95700000, 22.85500000};
    l_U672 = 0;
    l_U673 = 0;
    l_U674 = 0;
    l_U675 = 0;
    l_U676 = {2.15000000, -5.75000000, 14.45000000};
    l_U679 = {0.00000000, 0.00000000, 100.00000000};
    l_U682 = {1.13400000, -6.32400000, 13.05295000};
    l_U685 = 300.00000000;
    l_U805 = {-0.72531400, -9.08833800, 15.48838000};
    l_U808 = {-19.12753000, 0.00002400, -28.12246000};
    uVar2 = sub_2340( sub_2264(), -862236369, 25000, 0, 0 );
    sub_2540( ref uVar2, 8, 1 );
    sub_2641();
    sub_5990( 500 );
    while (true)
    {
        sub_6074();
        WAIT( 0 );
    }
    return;
}

int sub_2264()
{
    if (DOES_MAIN_PLAYER_EXIST())
    {
        return GET_PLAYER_PED( sub_2286() );
    }
    return 0;
}

void sub_2286()
{
    return GET_PLAYER_ID();
}

void sub_2340(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, boolean bParam4)
{
    unknown Result;

    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, uParam2, uParam3 );
        if (bParam4)
        {
            Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
                sub_2488( "MAL_GivePedWeapon waiting for weapon to exist" );
            }
        }
        return Result;
    }
    return nil;
}

void sub_2488(unknown uParam0)
{
    unknown uVar3;

    uVar3 = GET_REAL_GAME_TIMER();
    return;
}

void sub_2540(unknown uParam0, unknown uParam1, boolean bParam2)
{
    if (GET_DOES_WEAPON_EXIST( (uParam0^) ))
    {
        if (bParam2)
        {
            ENABLE_WEAPON_ATTACHMENT( (uParam0^), uParam1, bParam2 );
            TOGGLE_WEAPON_ATTACHMENT( (uParam0^), uParam1, bParam2 );
        }
        else
        {
            TOGGLE_WEAPON_ATTACHMENT( (uParam0^), uParam1, bParam2 );
            ENABLE_WEAPON_ATTACHMENT( (uParam0^), uParam1, bParam2 );
        }
    }
    return;
}

void sub_2641()
{
    sub_2683( "SP", "P_SETUP_SEQUENCE_WIDGET", 0 );
    START_WIDGET_GROUP( "Interactive Sequence Test Helper" );
    START_WIDGET_GROUP( "S_STAD_SINK" );
    ADD_WIDGET_STRING( "Max washes his face in the sink, the dirty boy." );
    ADD_WIDGET_BOOL( "Teleport player to the Sequence", ref l_U399 );
    ADD_WIDGET_BOOL( "Start Sequence", ref l_U400 );
    ADD_WIDGET_BOOL( "Kill Sequence", ref l_U401 );
    START_WIDGET_GROUP( "Player" );
    ADD_WIDGET_FLOAT_SLIDER( "Player Pos X", ref l_U581._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Player Pos Y", ref l_U581._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Player Pos Z", ref l_U581._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Player Heading", ref l_U584, -5000.00000000, 5000.00000000, 0.01000000 );
    STOP_WIDGET_GROUP();
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "Elevator Door Widget" );
    ADD_WIDGET_BOOL( "Make Elevator Door", ref l_U409 );
    ADD_WIDGET_BOOL( "Kill Elevator DOor", ref l_U410 );
    sub_3295( ref l_U403, "Elevator Position", 1036831949 );
    sub_3295( ref l_U406, "Elevator Rotation", 1036831949 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "MID_02_blendout" );
    sub_3502( ref l_U357, 15.59276000, -1.37111800, -3.90012500, 90.00000000, 0 );
    ADD_WIDGET_INT_SLIDER( "Frames to end early", ref l_U412, 0, 5000, 1 );
    ADD_WIDGET_INT_SLIDER( "Time to interp", ref l_U413, 0, 5000, 1 );
    sub_3842( "CP1 Start Position", ref g_U1228, ref g_U1231 );
    sub_3842( "CP2 Start Position", ref g_U1232, ref g_U1235 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "MID_07_blendout" );
    sub_3502( ref l_U364, 6.00659500, 29.71787000, 28.65184000, 90.00000000, 0 );
    sub_3295( ref l_U419, "Animated cam pos", 1036831949 );
    ADD_WIDGET_FLOAT_SLIDER( "Animated cam rotation", ref l_U422, 0, 360.00000000, 0.01000000 );
    sub_3295( ref l_U415, "Player blendout position vector", 1036831949 );
    ADD_WIDGET_FLOAT_SLIDER( "Player blendout position heading", ref l_U418, 0, 360.00000000, 0.01000000 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "MID_08_blendout" );
    sub_3502( ref l_U371, 6.00659500, 29.71787000, 28.65184000, 90.00000000, 0 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "VIG 01 - 2nd Floor Cleaners" );
    sub_3502( ref l_U378, g_U1020[2], g_U1123[2], 0 );
    sub_3842( "CP1 Start Position", ref l_U460, ref l_U463 );
    sub_3842( "CP2 Start Position", ref l_U464, ref l_U467 );
    START_WIDGET_GROUP( "Gurney and Gun" );
    sub_3295( ref l_U468, "Gurney Position", 1036831949 );
    sub_3295( ref l_U471, "Gurney Rotation", 1036831949 );
    sub_3295( ref l_U474, "Gun Position", 1036831949 );
    sub_3295( ref l_U477, "Gun Rotation", 1036831949 );
    sub_3295( ref l_U480, "Gun Offset", 1036831949 );
    sub_3295( ref l_U483, "Gun Offset Rotation", 1036831949 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "Pickup Props" );
    ADD_WIDGET_INT_SLIDER( "Set objects dynamic delay", ref l_U560, 0, 2000, 10 );
    sub_3295( ref l_U486, "CP1 Prop1 Position", 1036831949 );
    sub_3295( ref l_U489, "CP1 Prop1 Rotation", 1036831949 );
    sub_3295( ref l_U492, "CP1 Prop2 Position", 1036831949 );
    sub_3295( ref l_U495, "CP1 Prop2 Rotation", 1036831949 );
    sub_3295( ref l_U498, "CP1 Prop3 Position", 1036831949 );
    sub_3295( ref l_U501, "CP1 Prop3 Rotation", 1036831949 );
    STOP_WIDGET_GROUP();
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "VIG 02 - 2nd Floor Runner" );
    sub_3502( ref l_U385, g_U1020[2], g_U1123[2], 0 );
    sub_3842( "Runner Start Position", ref l_U562, ref l_U565 );
    ADD_WIDGET_BOOL( "Runner Flees", ref l_U566 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "RAYFIRE - Rooftop Explosion 2" );
    sub_3502( ref l_U392, -6.14045000, 13.52391000, 38.25113000, 297, 0 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "LOCK SMASH" );
    ADD_WIDGET_STRING( "Max smashes the lock at the 5th Floor - Construction" );
    ADD_WIDGET_BOOL( "Teleport player to the Sequence", ref l_U597 );
    ADD_WIDGET_BOOL( "Start Sequence", ref l_U598 );
    ADD_WIDGET_BOOL( "Stop Sequence", ref l_U599 );
    ADD_WIDGET_INT_SLIDER( "Break the lock delay", ref l_U637, 0, 999999, 100 );
    START_WIDGET_GROUP( "Player" );
    ADD_WIDGET_FLOAT_SLIDER( "Pos X", ref l_U600._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Pos Y", ref l_U600._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Pos Z", ref l_U600._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Heading", ref l_U603, -360.00000000, 360.00000000, 0.10000000 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "Lock" );
    ADD_WIDGET_FLOAT_SLIDER( "Pos X", ref l_U605._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Pos Y", ref l_U605._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Pos Z", ref l_U605._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Rot X", ref l_U608._fU0, -360.00000000, 360.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Rot Y", ref l_U608._fU4, -360.00000000, 360.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Rot Z", ref l_U608._fU8, -360.00000000, 360.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Attach Offset Pos X", ref l_U611._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Attach Offset Pos Y", ref l_U611._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Attach Offset Pos Z", ref l_U611._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
    STOP_WIDGET_GROUP();
    STOP_WIDGET_GROUP();
    STOP_WIDGET_GROUP();
    return;
}

void sub_2683(unknown uParam0, unknown uParam1, string sParam2)
{
    unknown uVar5;

    if (IS_STRING_NULL( sParam2 ))
    {
        sParam2 = "###";
    }
    uVar5 = GET_REAL_GAME_TIMER();
    return;
}

void sub_3295(int iParam0, unknown uParam1, unknown uParam2)
{
    START_WIDGET_GROUP( uParam1 );
    ADD_WIDGET_FLOAT_SLIDER( "x", iParam0 + 0, 60536, 5000, uParam2 );
    ADD_WIDGET_FLOAT_SLIDER( "y", iParam0 + 4, 60536, 5000, uParam2 );
    ADD_WIDGET_FLOAT_SLIDER( "z", iParam0 + 8, 60536, 5000, uParam2 );
    STOP_WIDGET_GROUP();
    return;
}

void sub_3502(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, boolean bParam5)
{
    iParam0->_fU0 = 0;
    iParam0->_fU4 = 0;
    iParam0->_fU8 = 0;
    iParam0->_fU12 = {uParam1};
    iParam0->_fU24 = uParam4;
    ADD_WIDGET_BOOL( "Teleport player", iParam0 + 0 );
    ADD_WIDGET_BOOL( "Start Sequence", iParam0 + 4 );
    ADD_WIDGET_BOOL( "Kill Sequence", iParam0 + 8 );
    if (bParam5)
    {
        sub_3295( iParam0 + 12, "Player Teleport Position", 1036831949 );
        ADD_WIDGET_FLOAT_SLIDER( "Player Teleport Heading", iParam0 + 24, 65176, 360, 0.50000000 );
    }
    return;
}

void sub_3842(unknown uParam0, unknown uParam1, unknown uParam2)
{
    START_WIDGET_GROUP( uParam0 );
    sub_3295( uParam1, "Ped Position", 1036831949 );
    ADD_WIDGET_FLOAT_SLIDER( "Ped Heading", uParam2, -360.00000000, 360.00000000, 1.00000000 );
    STOP_WIDGET_GROUP();
    return;
}

void sub_5990(unknown uParam0)
{
    if ((IS_SCREEN_FADING_IN() == 0) AND (IS_SCREEN_FADED_IN() == 0))
    {
        DO_SCREEN_FADE_IN( uParam0 );
        while (IS_SCREEN_FADED_IN() == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_6074()
{
    sub_6084();
    sub_6873();
    sub_6891();
    sub_8936();
    sub_10075();
    sub_10643();
    sub_11559();
    sub_12302();
    sub_13787();
    sub_15876();
    sub_18168();
    sub_18724();
    sub_19144();
    sub_20775();
    sub_23653();
    sub_24393();
    sub_26259();
    return;
}

void sub_6084()
{
    if (l_U409)
    {
        sub_6104();
        l_U409 = 0;
    }
    if (l_U410)
    {
        sub_2683( "SBA", "Removing Door...", "***" );
        sub_6337( l_U402 );
        sub_6723( -1591126843 );
        l_U410 = 0;
    }
    return;
}

void sub_6104()
{
    sub_2683( "SBA", "Making Door...", "***" );
    sub_6154( -1591126843, 1 );
    sub_6337( l_U402 );
    l_U402 = sub_6397( -1591126843, l_U403, l_U406, 0, 0, 0 );
    ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U402, ref g_U1298 );
    FREEZE_OBJECT_POSITION( l_U402, 1 );
    return;
}

void sub_6154(unknown uParam0, boolean bParam1)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
        sub_6259( "[SP]### ERROR! (LoadModel) Trying to load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    if (bParam1)
    {
        while ((HAS_MODEL_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_6259(unknown uParam0)
{
    return;
}

void sub_6337(unknown uParam0)
{
    if (DOES_OBJECT_EXIST( uParam0 ))
    {
        DELETE_OBJECT( ref uParam0 );
    }
    return;
}

void sub_6397(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
        sub_6154( uParam0, 1 );
    }
    Result = CREATE_OBJECT( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

void sub_6723(unknown uParam0)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 1)
    {
        SET_MODEL_AS_NO_LONGER_NEEDED( uParam0 );
    }
    else
    {
        sub_6259( "[SP]### ERROR! (UnloadModel) Trying to unload a model that isn't in the img! ###" );
    }
    return;
}

void sub_6873()
{
    return;
}

void sub_6891()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;

    if (NOT l_U639)
    {
        START_WIDGET_GROUP( "VIG_04_HOT" );
        ADD_WIDGET_BOOL( "Teleport Player to VIG_04_HOT", ref l_U640 );
        ADD_WIDGET_BOOL( "Start VIG_04_HOT", ref l_U641 );
        ADD_WIDGET_BOOL( "Kill VIG_04_HOT", ref l_U642 );
        STOP_WIDGET_GROUP();
        l_U639 = 1;
    }
    if (l_U640)
    {
        sub_7088( sub_2264(), -8.73000000, 12.58000000, 38.25000000, -90.00000000 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0.00000000, 1065353216, 0 );
        l_U640 = 0;
    }
    if (l_U641)
    {
        sub_7214( "S_HOTEL_VIG04", 1 );
        sub_7300( l_U643 );
        sub_7391( "S_HOTEL_VIG04", 1 );
        sub_7504( ref uVar2, 3.40000000, 8.51000000, 42.75000000, 90.00000000, 1003151468, 7, 3, 2, 0, 0 );
        l_U643 = sub_7612( ref uVar2 );
        sub_8283( l_U643, 319712764, 25000, 0, 0 );
        if (NOT (IS_PED_DEAD( l_U643 )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U643, 1 );
        }
        I_SEQUENCE_REGISTER_ENTITY( "S_HOTEL_VIG04", "GMED", l_U643, 0 );
        sub_7088( l_U643, uVar2._fU0, uVar2._fU12 );
        I_SEQUENCE_START( "S_HOTEL_VIG04" );
        l_U641 = 0;
    }
    if (l_U642)
    {
        sub_7214( "S_HOTEL_VIG04", 1 );
        sub_7300( l_U643 );
        l_U642 = 0;
    }
    if (NOT (IS_PED_DEAD( l_U643 )))
    {
        if ((PED_GET_ACTION_INTENTION_STATUS( l_U643, 47 )) == 3)
        {
            sub_2683( "GA", "Killing S_HOTEL_VIG04 exploded ped.", 0 );
            sub_8863( l_U643 );
        }
    }
    return;
}

void sub_7088(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_COORDS( uParam0, uParam1, 1 );
        SET_PED_HEADING( uParam0, uParam4 );
    }
    return;
}

void sub_7214(unknown uParam0, int iParam1)
{
    if ((I_SEQUENCE_IS_LOADED( uParam0 )) == 1)
    {
        I_SEQUENCE_TERMINATE( uParam0 );
    }
    if (iParam1 == 1)
    {
        while ((I_SEQUENCE_IS_LOADED( uParam0 )) == 1)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_7300(unknown uParam0)
{
    if (DOES_PED_EXIST( uParam0 ))
    {
        if ((NOT (IS_PED_DEAD( uParam0 ))) || (IS_PED_DEAD( uParam0 )))
        {
            REMOVE_ALL_PED_WEAPONS( uParam0 );
            DELETE_PED( ref uParam0 );
        }
    }
    return;
}

void sub_7391(unknown uParam0, int iParam1)
{
    if ((I_SEQUENCE_IS_LOADED( uParam0 )) == 0)
    {
        I_SEQUENCE_LOAD_DATA( uParam0 );
        if (iParam1 == 1)
        {
            while ((I_SEQUENCE_QUERY_STATE( uParam0, 1 )) == 1)
            {
                WAIT( 0 );
            }
        }
    }
    return;
}

void sub_7504(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU20 = uParam5;
    iParam0->_fU12 = uParam4;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU16 = GET_SCENE_PED_MODEL( uParam5 );
    iParam0->_fU48 = uParam10;
    return;
}

void sub_7612(int iParam0)
{
    int iVar3;

    iVar3 = 0;
    if (iParam0->_fU16 == 0)
    {
        if (iParam0->_fU20 != 0)
        {
            iVar3 = GET_SCENE_PED_MODEL( iParam0->_fU20 );
        }
    }
    else
    {
        iVar3 = iParam0->_fU16;
    }
    if ((HAS_MODEL_LOADED( iVar3 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
        sub_6154( iParam0->_fU16, 1 );
    }
    iParam0->_fU40 = CREATE_PED( iParam0->_fU24, iParam0->_fU16, iParam0->_fU0, iParam0->_fU12, 1, iParam0->_fU48 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( iParam0->_fU40, 1 );
        SET_PED_COORDS_NO_OFFSET( iParam0->_fU40, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU40 ) );
        SET_PED_HEADING( iParam0->_fU40, iParam0->_fU12 );
        iParam0->_fU44 = 1;
    }
    else
    {
        SCRIPT_ASSERT( "Error: The ped you created doesn't exist or is dead!", 0 );
    }
    sub_8091( iParam0->_fU40 );
    sub_8171( iParam0->_fU40 );
    return iParam0->_fU40;
}

void sub_8091(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_HEALTH( uParam0, 200, 0 );
        SET_PED_ACCURACY( uParam0, -729479261 );
    }
    return;
}

void sub_8171(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_AI_TEMPLATE( uParam0, "AIT_DEFAULT_GENERIC" );
    }
    return;
}

void sub_8283(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's hand MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, uParam2, uParam3 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
                }
            }
        }
    }
    else
    {
        sub_6259( "[SP]### (F_GivePedWeapon) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

void sub_8863(unknown uParam0)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        STOP_PED_SPEAKING( uParam0, 1 );
        SET_PED_HEALTH( uParam0, 0, 0 );
        SET_PED_CORPSE( uParam0, 0 );
    }
    return;
}

void sub_8936()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;

    if (NOT l_U644)
    {
        START_WIDGET_GROUP( "HEAVY GUNNER" );
        ADD_WIDGET_BOOL( "Teleport Player to HEAVY GUNNER", ref l_U645 );
        ADD_WIDGET_BOOL( "Start HEAVY GUNNER", ref l_U646 );
        ADD_WIDGET_BOOL( "Start Explosion", ref l_U647 );
        ADD_WIDGET_BOOL( "Kill HEAVY GUNNER", ref l_U648 );
        STOP_WIDGET_GROUP();
        l_U644 = 1;
    }
    if (l_U645)
    {
        sub_7088( sub_2264(), -8.73000000, 12.58000000, 38.25000000, -90.00000000 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0.00000000, 1065353216, 0 );
        l_U645 = 0;
    }
    if (l_U646)
    {
        sub_7214( "S_HOTEL_VIG04", 1 );
        sub_7300( l_U649 );
        sub_9285( "LEVEL_S_OFFICE_CP_04", 0, 1 );
        sub_9392( "Level/S_OFFICE/S_OFF_HEAVYGUNNER", 1 );
        sub_7504( ref uVar2, 3.40000000, 8.51000000, 42.75000000, 90.00000000, 1003151468, 7, 3, 2, 0, 0 );
        l_U649 = sub_7612( ref uVar2 );
        sub_8283( l_U649, 319712764, 25000, 0, 0 );
        if (NOT (IS_PED_DEAD( l_U649 )))
        {
            PED_ACTION_TREE_PLAY_NODE( l_U649, "/Global/S_OFF_HEAVYGUNNER/HEAVYGUNNER" );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U649, 0 );
            SET_PED_IGNORE_LOS_CHECKS( l_U649, 1 );
            SET_PED_ALERTNESS( l_U649, 4 );
            SET_PED_COMBAT_MOVEMENT( l_U649, 0 );
            SET_PED_CONSUMING_AMMO( l_U649, 0 );
            SET_PED_CAN_PUT_PLAYER_INTO_LMS( l_U649, 0 );
            SET_PED_NO_RAGDOLL_TO_BULLET_UNLESS_DEAD( l_U649, 1 );
            SET_PED_AI_TEMPLATE( l_U649, "AIT_CP_HEAVY_GNR" );
            SET_PED_HEALTH( l_U649, 600, 0 );
            SET_PED_COMBAT_ATTRIBUTES( l_U649, 8192, 0 );
            SET_PED_FLAG_BLOCK_WOUNDED_MOVEMENT( l_U649, 1 );
        }
        l_U646 = 0;
    }
    if (l_U647)
    {
        if (NOT (IS_PED_DEAD( l_U649 )))
        {
            sub_7391( "S_HOTEL_VIG04", 1 );
            I_SEQUENCE_REGISTER_ENTITY( "S_HOTEL_VIG04", "GMED", l_U649, 0 );
            I_SEQUENCE_START( "S_HOTEL_VIG04" );
        }
        l_U647 = 0;
    }
    if (l_U648)
    {
        sub_7214( "S_HOTEL_VIG04", 1 );
        sub_7300( l_U649 );
        l_U648 = 0;
    }
    if (NOT (IS_PED_DEAD( l_U649 )))
    {
        if (NOT (IS_PED_DEAD( sub_2264() )))
        {
            REGISTER_TARGET( l_U649, sub_2264() );
        }
        if ((PED_GET_ACTION_INTENTION_STATUS( l_U649, 47 )) == 3)
        {
            sub_2683( "GA", "Killing HEAVY GUNNER exploded ped.", 0 );
            sub_8863( l_U649 );
        }
    }
    return;
}

void sub_9285(unknown uParam0, unknown uParam1, int iParam2)
{
    REQUEST_ANIM_DICT( uParam0, uParam1 );
    "[doubled result, dropped if not asigned]";
    if (iParam2 == 1)
    {
        while ((HAS_ANIM_DICT_LOADED( uParam0, uParam1 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_9392(unknown uParam0, int iParam1)
{
    ACTION_TREE_LOAD( uParam0 );
    if (iParam1 == 1)
    {
        while ((IS_ACTION_TREE_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_10075()
{
    if (NOT l_U650)
    {
        START_WIDGET_GROUP( "COLLAPSE_REACT_VIG" );
        ADD_WIDGET_BOOL( "Teleport Player to COLLAPSE_REACT_VIG", ref l_U651 );
        ADD_WIDGET_BOOL( "Start COLLAPSE_REACT_VIG", ref l_U652 );
        ADD_WIDGET_BOOL( "Kill COLLAPSE_REACT_VIG", ref l_U653 );
        STOP_WIDGET_GROUP();
        l_U650 = 1;
    }
    if (l_U651)
    {
        sub_7088( sub_2264(), 16.33793000, 38.81776000, 39.73433000, 140 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0.00000000, 1065353216, 0 );
        l_U651 = 0;
    }
    if (l_U652)
    {
        sub_7214( "COLLAPSE_REACT_VIG", 1 );
        sub_7391( "COLLAPSE_REACT_VIG", 1 );
        I_SEQUENCE_REGISTER_ENTITY( "COLLAPSE_REACT_VIG", "Max", sub_2264(), 0 );
        I_SEQUENCE_START( "COLLAPSE_REACT_VIG" );
        l_U654 = 1;
        l_U652 = 0;
    }
    if (l_U653)
    {
        sub_7214( "COLLAPSE_REACT_VIG", 1 );
        l_U654 = 0;
        l_U653 = 0;
    }
    if ((NOT (IS_PED_DEAD( sub_2264() ))) AND (l_U654))
    {
        if ((PED_GET_ACTION_INTENTION_STATUS( sub_2264(), 56 )) == 3)
        {
            START_PLAYER_SHOOTDODGE( 0.00000000, 1.00000000, 0.00000000, 1, 1, 0, 0 );
            PED_FINISH_ACTION_INTENTION( sub_2264(), 56 );
            l_U654 = 0;
        }
    }
    return;
}

void sub_10643()
{
    if (NOT l_U655)
    {
        START_WIDGET_GROUP( "EXPL_REACT_VIG" );
        ADD_WIDGET_BOOL( "Teleport Player to EXPL_REACT_VIG", ref l_U656 );
        ADD_WIDGET_BOOL( "Knock on Back EXPL_REACT_VIG", ref l_U657 );
        ADD_WIDGET_BOOL( "Knock on Front EXPL_REACT_VIG", ref l_U658 );
        ADD_WIDGET_BOOL( "Kill EXPL_REACT_VIG", ref l_U659 );
        STOP_WIDGET_GROUP();
        l_U655 = 1;
    }
    if (l_U656)
    {
        sub_7088( sub_2264(), 16.33793000, 38.81776000, 39.73433000, 140 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0.00000000, 1065353216, 0 );
        l_U656 = 0;
    }
    if (l_U657)
    {
        sub_9285( "LEVEL_S_HOTEL_CP_11", 0, 1 );
        sub_9392( "LEVEL/S_HOTEL/EXPL_REACT_VIG.act", 1 );
        if (NOT (IS_PED_DEAD( sub_2264() )))
        {
            PED_ACTION_TREE_PLAY_NODE( sub_2264(), "/Global/EXPLOSION_REACT_VIG/KNOCKED_ON_BACK/WEAPON_DECISION" );
        }
        l_U660 = 1;
        l_U657 = 0;
    }
    if (l_U658)
    {
        sub_9285( "LEVEL_S_HOTEL_CP_11", 0, 1 );
        sub_9392( "LEVEL/S_HOTEL/EXPL_REACT_VIG.act", 1 );
        if (NOT (IS_PED_DEAD( sub_2264() )))
        {
            PED_ACTION_TREE_PLAY_NODE( sub_2264(), "/Global/EXPLOSION_REACT_VIG/KNOCKED_ON_FRONT/WEAPON_DECISION" );
        }
        l_U660 = 1;
        l_U658 = 0;
    }
    if (l_U659)
    {
        sub_11355( "LEVEL_S_HOTEL_CP_11" );
        sub_11418( "LEVEL/S_HOTEL/EXPL_REACT_VIG.act" );
        l_U660 = 0;
        l_U659 = 0;
    }
    if ((NOT (IS_PED_DEAD( sub_2264() ))) AND (l_U660))
    {
        if ((PED_GET_ACTION_INTENTION_STATUS( sub_2264(), 56 )) == 3)
        {
            START_PLAYER_SHOOTDODGE( 0.00000000, 1.00000000, 0.00000000, 1, 1, 0, 0 );
            PED_FINISH_ACTION_INTENTION( sub_2264(), 56 );
            l_U660 = 0;
        }
    }
    return;
}

void sub_11355(unknown uParam0)
{
    REMOVE_ANIM_DICT( uParam0, 0 );
    return;
}

void sub_11418(unknown uParam0)
{
    ACTION_TREE_UNLOAD( uParam0 );
    return;
}

void sub_11559()
{
    if (NOT l_U661)
    {
        START_WIDGET_GROUP( "S_HOTEL_FAIL" );
        ADD_WIDGET_BOOL( "Teleport Player to S_HOTEL_FAIL", ref l_U662 );
        ADD_WIDGET_BOOL( "Start S_HOTEL_FAIL", ref l_U663 );
        ADD_WIDGET_BOOL( "Kill S_HOTEL_FAIL", ref l_U664 );
        STOP_WIDGET_GROUP();
        l_U661 = 1;
    }
    if (l_U662)
    {
        sub_7088( sub_2264(), 16.33793000, 38.81776000, 39.73433000, 140 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0.00000000, 1065353216, 0 );
        l_U662 = 0;
    }
    if (l_U663)
    {
        sub_11824( -473924166, 1 );
        sub_12029( -473924166, 1 );
        ISEQ_REGISTER_ENTITY( -473924166, "Max", sub_2264(), 0 );
        ISEQ_START( -473924166 );
        l_U663 = 0;
    }
    if (l_U664)
    {
        sub_11824( -473924166, 1 );
        l_U664 = 0;
    }
    return;
}

void sub_11824(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to terminate does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 1)
    {
        ISEQ_TERMINATE( uParam0 );
    }
    ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
    if (iParam1 == 1)
    {
        while ((ISEQ_IS_LOADED( uParam0 )) == 1)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_12029(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to load does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 0)
    {
        ISEQ_REQUEST( uParam0 );
        ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
        if (iParam1 == 1)
        {
            while ((ISEQ_QUERY_STATE( uParam0, 1 )) == 1)
            {
                WAIT( 0 );
            }
        }
    }
    return;
}

void sub_12302()
{
    if (NOT l_U665)
    {
        START_WIDGET_GROUP( "S_HOTEL_PIANO" );
        ADD_WIDGET_BOOL( "Teleport Player to S_HOTEL_PIANO", ref l_U666 );
        ADD_WIDGET_BOOL( "Start S_HOTEL_PIANO", ref l_U667 );
        ADD_WIDGET_BOOL( "Kill S_HOTEL_PIANO", ref l_U668 );
        sub_3295( ref l_U669, "Player position", 1036831949 );
        STOP_WIDGET_GROUP();
        l_U665 = 1;
    }
    if (l_U666)
    {
        SET_INTERIOR_ACTIVE( GET_INTERIOR_FROM_NAME( "INT_BAR", 0 ), 1, 0 );
        LOAD_SCENE_FOR_ROOM_BY_KEY( GET_INTERIOR_FROM_NAME( "INT_BAR", 0 ), GET_HASH_KEY( "Room_Bar" ) );
        sub_7088( sub_2264(), 11.45500000, 27.95700000, 22.85500000, -38.55700000 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0.00000000, 1065353216, 0 );
        l_U666 = 0;
    }
    if (l_U667)
    {
        sub_11824( -905531099, 1 );
        sub_12684( 1, 0, 0, 1 );
        sub_12029( -905531099, 1 );
        sub_12872( "S_HOTEL_PIANO", 0, 1 );
        ISEQ_REGISTER_ENTITY( -905531099, "Max", sub_2264(), 0 );
        sub_7088( sub_2264(), l_U669, -38.55700000 );
        ISEQ_START( -905531099 );
        CAMERA_PLAY_ANIMATED( "LEVEL_S_HOTEL_CP_04", "VIG_04_HOT_MAX_PLAY_PIANO_FWD_CAM", 0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0 );
        PLAY_SCRIPT_STREAM_FROM_COORD( 11.61000000, 28.60000000, 23.76000000, 0 );
        sub_13122( sub_2264() );
        SET_PED_DEFAULT_AIM_AHEAD( sub_2264() );
        l_U667 = 0;
    }
    if ((PED_GET_ACTION_INTENTION_STATUS( sub_2264(), 47 )) == 3)
    {
        PED_FINISH_ACTION_INTENTION( sub_2264(), 47 );
        SIMULATE_PLAYER_INPUT_GAIT( sub_2286(), 2, 500, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( -1.01848400, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -6.90496900, 1065353216, 0 );
        CAMERA_ANIMATED_STOP( 0, 0 );
        WAIT( 1 );
        CLEAR_PED_DEFAULT_AIM( sub_2264() );
        sub_13480( 1, 1 );
    }
    if (l_U668)
    {
        sub_11824( -905531099, 1 );
        STOP_SCRIPT_STREAM( 0 );
        l_U668 = 0;
    }
    return;
}

void sub_12684(int iParam0, int iParam1, unknown uParam2, boolean bParam3)
{
    END_POSTFX_BLENDER( 12, 0 );
    if (bParam3)
    {
        STOP_ALL_IMAGEFX( 0 );
    }
    SET_WIDESCREEN_BORDERS( 1, 500 );
    DISPLAY_HUD( 0 );
    if (iParam0 == 1)
    {
        if (NOT (IS_PED_DEAD( sub_2264() )))
        {
            SET_PLAYER_CONTROL( sub_2286(), 0, uParam2 );
            SET_PED_DUCKING( sub_2264(), 0 );
            if (iParam1 == 1)
            {
                CLEAR_PED_TASKS_IMMEDIATELY( sub_2264() );
            }
            SET_PED_INVINCIBLE( sub_2264(), 1 );
        }
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    return;
}

void sub_12872(unknown uParam0, unknown uParam1, int iParam2)
{
    if (iParam2 == 0)
    {
        REQUEST_SCRIPT_STREAM( uParam0, uParam1 );
    }
    else
    {
        while ((LOAD_SCRIPT_STREAM( uParam0, uParam1 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_13122(unknown uParam0)
{
    if (sub_13134( uParam0 ))
    {
        PED_FINISH_ACTION_INTENTION( uParam0, 47 );
        PED_FINISH_ACTION_INTENTION( uParam0, 48 );
        PED_FINISH_ACTION_INTENTION( uParam0, 49 );
        PED_FINISH_ACTION_INTENTION( uParam0, 50 );
        PED_FINISH_ACTION_INTENTION( uParam0, 51 );
        PED_FINISH_ACTION_INTENTION( uParam0, 52 );
        PED_FINISH_ACTION_INTENTION( uParam0, 53 );
        PED_FINISH_ACTION_INTENTION( uParam0, 54 );
        PED_FINISH_ACTION_INTENTION( uParam0, 55 );
        PED_FINISH_ACTION_INTENTION( uParam0, 56 );
        PED_FINISH_ACTION_INTENTION( uParam0, 57 );
        PED_FINISH_ACTION_INTENTION( uParam0, 58 );
    }
    return;
}

int sub_13134(unknown uParam0)
{
    if ((NOT (IS_PED_DEAD( uParam0 ))) AND (DOES_PED_EXIST( uParam0 )))
    {
        return 1;
    }
    return 0;
}

void sub_13480(boolean bParam0, boolean bParam1)
{
    SET_WIDESCREEN_BORDERS( 0, 500 );
    DISPLAY_HUD( 1 );
    if (NOT (IS_PED_DEAD( sub_2264() )))
    {
        SET_PLAYER_CONTROL( sub_2286(), 1, 0 );
        SET_PED_INVINCIBLE( sub_2264(), 0 );
        if (bParam0)
        {
            sub_13561();
        }
    }
    PULSE_CROSSHAIR( 1 );
    if (bParam1)
    {
        DESTROY_ALL_CAMS();
    }
    return;
}

void sub_13561()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD( sub_2264() )) == 0)
    {
        uVar2 = GET_WEAPON_FROM_HAND( sub_2264(), 0, 0 );
        uVar3 = GET_WEAPON_FROM_HAND( sub_2264(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
        {
            uVar4 = GET_MAX_AMMO_IN_HAND_CLIP_MP( sub_2264(), 0 );
            SET_WEAPON_AMMO_IN_CLIP( uVar2, uVar4 );
        }
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            uVar5 = GET_MAX_AMMO_IN_HAND_CLIP_MP( sub_2264(), 1 );
            SET_WEAPON_AMMO_IN_CLIP( uVar3, uVar5 );
        }
    }
    return;
}

void sub_13787()
{
    char[32] cVar2;
    char[32] cVar10;
    vector vVar18;
    float fVar21;
    unknown uVar22;
    unknown uVar23;

    StrCopy( ref cVar2, "INT_Armory", 32 );
    StrCopy( ref cVar10, "Room_Staircase", 32 );
    if (l_U597 == 1)
    {
        sub_13849( 250 );
        vVar18 = {28.21462000, 44.56459000, 28.64965000};
        fVar21 = 141.89260000;
        sub_7088( sub_2264(), vVar18, fVar21 );
        if ((IS_PED_DEAD( sub_2264() )) == 0)
        {
            SET_ROOM_FOR_PED_BY_NAME( sub_2264(), ref cVar10 );
            FREEZE_PED_POSITION( sub_2264(), 1 );
        }
        CLEAR_AREA( vVar18, 30.00000000, 1 );
        uVar22 = GET_HASH_KEY( ref cVar10 );
        uVar23 = GET_INTERIOR_FROM_NAME( ref cVar2, 0 );
        SET_INTERIOR_ACTIVE( uVar23, 1, 0 );
        LOAD_SCENE_FOR_ROOM_BY_KEY( uVar23, uVar22 );
        if ((IS_PED_DEAD( sub_2264() )) == 0)
        {
            FREEZE_PED_POSITION( sub_2264(), 0 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( -13.25805000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -17.45652000, 1065353216, 0 );
        if ((IS_PED_DEAD( sub_2264() )) == 0)
        {
            FREEZE_PED_POSITION( sub_2264(), 0 );
        }
        sub_5990( 250 );
        l_U597 = 0;
    }
    if (l_U598 == 1)
    {
        l_U638 = 0;
        ISEQ_UNREGISTER_ENTITY( -1248651628, "player" );
        sub_11824( -1248651628, 1 );
        sub_12029( -1248651628, 1 );
        sub_6154( 1731720022, 1 );
        sub_14310( ref l_U614, g_U1476, 26.33442000, 41.70376000, 29.75548000, 0.00000000, 0.00000000, 0.00000000 );
        sub_14310( ref l_U621, g_U1477, 24.97613000, 43.92115000, 29.75548000, 0.00000000, 0.00000000, 0.00000000 );
        sub_14408( ref l_U614, 0, 90.00000000 );
        sub_14408( ref l_U621, -90.00000000, 0 );
        sub_14597( ref l_U614, 1 );
        sub_14597( ref l_U621, 1 );
        sub_14737( ref l_U614, 1 );
        sub_14737( ref l_U621, 1 );
        sub_6337( l_U604 );
        l_U604 = sub_6397( 1731720022, l_U605, l_U608, 0, 0, 0 );
        if ((DOES_OBJECT_EXIST( l_U604 )) == 1)
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U604, ref cVar10 );
            ATTACH_OBJECT_TO_OBJECT( l_U604, DOOR_FIND_CLOSEST( l_U614._fU0, l_U614._fU4 ), 0, l_U611, 0.00000000, 0.00000000, 0.00000000 );
            CAMERA_CAN_TARGET_OBJECT( 1, l_U604 );
        }
        sub_7088( sub_2264(), l_U600, l_U603 );
        ISEQ_REGISTER_ENTITY( -1248651628, "player", sub_2264(), 0 );
        ISEQ_START( -1248651628 );
        sub_15089( ref l_U628, l_U637, 1, 0 );
        sub_15225( ref l_U628 );
        l_U598 = 0;
    }
    if (l_U599 == 1)
    {
        l_U638 = 0;
        ISEQ_UNREGISTER_ENTITY( -1248651628, "player" );
        sub_11824( -1248651628, 1 );
        sub_6337( l_U604 );
        sub_6723( 1731720022 );
        CLEAR_AREA( l_U600, 30.00000000, 1 );
        l_U599 = 0;
    }
    if (l_U638 == 0)
    {
        if ((sub_15458( ref l_U628 )) == 1)
        {
            if ((DOES_OBJECT_EXIST( l_U604 )) == 1)
            {
                DAMAGE_ALL_GROUPS_ON_OBJECT( l_U604 );
                DESTROY_FRAGMENT_OBJECT( l_U604 );
                sub_14737( ref l_U614, 0 );
                sub_14737( ref l_U621, 0 );
                sub_15700( ref l_U614, 1, 0, 0.25000000 );
                sub_15700( ref l_U621, 0, 0, 0.15000000 );
                l_U638 = 1;
            }
        }
    }
    return;
}

void sub_13849(unknown uParam0)
{
    if ((IS_SCREEN_FADING_OUT() == 0) AND (IS_SCREEN_FADED_OUT() == 0))
    {
        DO_SCREEN_FADE_OUT( uParam0 );
        while (IS_SCREEN_FADED_OUT() == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_14310(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7)
{
    iParam0->_fU0 = uParam1;
    iParam0->_fU4 = {uParam2};
    iParam0->_fU16 = {uParam5};
    return;
}

void sub_14408(int iParam0, float fParam1, float fParam2)
{
    if ((sub_14420( iParam0 )) == 0)
    {
        sub_14486( iParam0 );
    }
    if (fParam1 > fParam2)
    {
        ;
    }
    else
    {
        DOOR_FIND_CLOSEST_SET_LIMIT_MIN( iParam0->_fU0, iParam0->_fU4, fParam1 );
        DOOR_FIND_CLOSEST_SET_LIMIT_MAX( iParam0->_fU0, iParam0->_fU4, fParam2 );
    }
    return;
}

int sub_14420(int iParam0)
{
    int iVar3;

    iVar3 = DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS( iParam0->_fU4, 1.00000000, iParam0->_fU0 );
    if (iVar3 == 1)
    {
        return 1;
    }
    return 0;
}

void sub_14486(unknown uParam0)
{
    (uParam0^) = {(uParam0^)};
    return;
}

void sub_14597(int iParam0, int iParam1)
{
    if ((sub_14420( iParam0 )) == 0)
    {
        sub_14486( iParam0 );
    }
    if (iParam1 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, 0.00000000 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, 0.00000000 );
    }
    else
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, 0.00000000 );
    }
    return;
}

void sub_14737(int iParam0, int iParam1)
{
    int iVar4;
    float fVar5;

    if ((sub_14420( iParam0 )) == 0)
    {
        sub_14486( iParam0 );
    }
    if (iParam1 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, 0.00000000 );
    }
    else
    {
        iVar4 = 0;
        fVar5 = 0.00000000;
        GET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, ref iVar4, ref fVar5 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar5 );
    }
    return;
}

void sub_15089(int iParam0, unknown uParam1, boolean bParam2, int iParam3)
{
    if (bParam2)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam3 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU12 = uParam1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = bParam2;
    iParam0->_fU32 = iParam3;
    iParam0->_fU8 = 0;
    return;
}

void sub_15225(int iParam0)
{
    if (NOT iParam0->_fU20)
    {
        iParam0->_fU20 = 1;
        iParam0->_fU16 = 0;
        if (iParam0->_fU28)
        {
            iParam0->_fU0 = TIMERA();
        }
        else
        {
            iParam0->_fU0 = TIMERB();
        }
        if (iParam0->_fU32 == 1)
        {
            iParam0->_fU0 = TIMERSYSTEM();
        }
        iParam0->_fU4 = iParam0->_fU0;
    }
    return;
}

int sub_15458(int iParam0)
{
    if (iParam0->_fU16)
    {
        return 0;
    }
    else if (NOT iParam0->_fU20)
    {
        return 0;
    }
    if (iParam0->_fU28)
    {
        iParam0->_fU4 = TIMERA();
    }
    else
    {
        iParam0->_fU4 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU4 = TIMERSYSTEM();
    }
    if ((iParam0->_fU4 - iParam0->_fU0) >= iParam0->_fU12)
    {
        iParam0->_fU16 = 1;
        iParam0->_fU20 = 0;
        return 1;
        break;
    }
    return 0;
}

void sub_15700(int iParam0, int iParam1, int iParam2, unknown uParam3)
{
    float fVar6;

    if ((sub_14420( iParam0 )) == 0)
    {
        sub_14486( iParam0 );
    }
    fVar6 = 0.00000000;
    if (iParam1 == 1)
    {
        fVar6 = uParam3;
    }
    else
    {
        fVar6 = -uParam3;
    }
    if (iParam2 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, fVar6 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar6 );
    }
    else
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar6 );
    }
    return;
}

void sub_15876()
{
    if (l_U357._fU0)
    {
        sub_15902( ref l_U357 );
        if (sub_15984())
        {
            SET_ROOM_FOR_PED_BY_NAME( sub_2264(), ref g_U1274 );
        }
    }
    if (l_U357._fU4)
    {
        sub_16144();
    }
    if (l_U357._fU8)
    {
        sub_17918();
        sub_18124( ref l_U357 );
    }
    return;
}

void sub_15902(int iParam0)
{
    sub_2683( "RJM", "ISEQUENCE_TELEPORT_PLAYER - teleporting player...", 0 );
    sub_13849( 1000 );
    if (sub_15984())
    {
        FREEZE_PED_POSITION( sub_2264(), 1 );
    }
    sub_7088( sub_2264(), iParam0->_fU12, iParam0->_fU24 );
    if (sub_15984())
    {
        FREEZE_PED_POSITION( sub_2264(), 0 );
    }
    sub_5990( 1000 );
    iParam0->_fU0 = 0;
    return;
}

int sub_15984()
{
    if (sub_13134( sub_2264() ))
    {
        return 1;
    }
    return 0;
}

void sub_16144()
{
    switch (l_U411)
    {
        case 0:
        sub_12684( 1, 0, 0, 1 );
        sub_12029( 710130669, 1 );
        sub_16210();
        ISEQ_START( 710130669 );
        sub_2683( "SBA", "UPDATE_MID_02_BLENDOUT - Setup done: Going to State eHIS_PLAYING", 0 );
        CAMERA_PLAY_ANIMATED( "LEVEL_S_HOTEL_CP_01", "B_OUT_MID_02_HOTEL_CAM", 0, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        l_U411 = 2;
        break;
        case 2:
        if (sub_17616( l_U451, 47, 3 ))
        {
            sub_17238( l_U452 );
            sub_8283( l_U451, -1013714740, 25000, 0, 0 );
        }
        if ((CAMERA_ANIMATED_CURRENT_TIME() + l_U412) >= (CAMERA_ANIMATED_LENGTH( "LEVEL_S_HOTEL_CP_01", "B_OUT_MID_02_HOTEL_CAM" )))
        {
            CAMERA_ANIMATED_STOP( l_U413, 1 );
            l_U411 = 4;
        }
        break;
        case 4:
        sub_13480( 1, 1 );
        break;
    }
    return;
}

void sub_16210()
{
    sub_2683( "SBA", "SETUP_HOTEL_MID02BO", "***" );
    sub_6154( 762297658, 1 );
    sub_16276( -612753081, 1 );
    sub_16276( -1013714740, 1 );
    sub_7504( ref l_U424, g_U1228, g_U1231, -242176005, 7, 3, 2, 0, 0 );
    sub_7504( ref l_U438, g_U1232, g_U1235, -523735065, 7, 3, 2, 0, 0 );
    sub_16445( ref l_U424, ref l_U437, -612753081, "AIT_NORMAL", 0, 25000, 2, 0, 25000 );
    sub_17029( ref l_U437, g_U1274 );
    ISEQ_REGISTER_ENTITY( 710130669, "cp1", l_U437, 0 );
    sub_16445( ref l_U438, ref l_U451, -1013714740, "AIT_NORMAL", 0, 25000, 2, 0, 25000 );
    sub_17029( ref l_U451, g_U1274 );
    REMOVE_ALL_PED_WEAPONS( l_U451 );
    ISEQ_REGISTER_ENTITY( 710130669, "cp2", l_U451, 0 );
    sub_17188();
    return;
}

void sub_16276(unknown uParam0, boolean bParam1)
{
    REQUEST_WEAPON( uParam0 );
    if (bParam1)
    {
        while ((HAS_WEAPON_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_16445(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, int iParam7, unknown uParam8)
{
    unknown uVar11;

    sub_7300( (uParam1^) );
    (uParam1^) = sub_7612( uParam0 );
    if (sub_13134( (uParam1^) ))
    {
        uVar11 = sub_8283( (uParam1^), uParam2, uParam5, 0, 1 );
        if (iParam7 != 0)
        {
            sub_16522( (uParam1^), iParam7, 0, uParam8, 0 );
        }
        SET_PED_AI_TEMPLATE( (uParam1^), uParam3 );
        SET_PED_ALERTNESS( (uParam1^), uParam6 );
        switch (uParam4)
        {
            case 0: break;
            case 1:
            ENABLE_WEAPON_ATTACHMENT( uVar11, 13, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uVar11, 13, 1 );
            break;
            case 2:
            ENABLE_WEAPON_ATTACHMENT( uVar11, 14, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uVar11, 14, 1 );
            break;
            case 3:
            ENABLE_WEAPON_ATTACHMENT( uVar11, 12, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uVar11, 12, 1 );
            break;
        }
    }
    return;
}

void sub_16522(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's holster MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HOLSTER( uParam0, uParam1, uParam3, uParam2 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
                }
            }
        }
    }
    else
    {
        sub_6259( "[SP]### (F_GivePedWeaponToHolster) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

void sub_17029(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    if (sub_13134( (uParam0^) ))
    {
        SET_ROOM_FOR_PED_BY_NAME( (uParam0^), ref uParam1 );
    }
    return;
}

void sub_17188()
{
    sub_2683( "SBA", "P_CREATE_ENEMY_RIFLE", 0 );
    sub_17238( l_U452 );
    l_U452 = sub_17306( 1676080365, l_U453, l_U456, 0, 0, 0, 1119092736 );
    ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( l_U452, ref g_U1274 );
    return;
}

void sub_17238(unknown uParam0)
{
    if ((DOES_PLACEMENT_EXIST( uParam0 )) == 1)
    {
        REMOVE_PLACEMENT( uParam0 );
    }
    return;
}

void sub_17306(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, int iParam8, unknown uParam9, unknown uParam10)
{
    unknown Result;

    Result = CREATE_PLACEMENT_ROTATE( uParam0, uParam1, uParam4, uParam7, 0, uParam9, uParam10 );
    if (iParam8 == 1)
    {
        while ((DOES_PLACEMENT_EXIST( Result )) == 0)
        {
            WAIT( 0 );
        }
    }
    return Result;
}

int sub_17616(unknown uParam0, unknown uParam1, int iParam2)
{
    if (sub_13134( uParam0 ))
    {
        if ((PED_GET_ACTION_INTENTION_STATUS( uParam0, uParam1 )) == iParam2)
        {
            PED_FINISH_ACTION_INTENTION( uParam0, uParam1 );
            sub_2683( "SBA", "F_IS_ACTION_INTENTION_STATUS_REACHED: Returning TRUE", "***" );
            return 1;
        }
    }
    return 0;
}

void sub_17918()
{
    sub_2683( "SBA", "CLEAN_MID_02_BLENDOUT", "***" );
    ISEQ_UNREGISTER_ENTITY( 710130669, "cp1" );
    ISEQ_UNREGISTER_ENTITY( 710130669, "cp2" );
    sub_11824( 710130669, 1 );
    sub_7300( l_U437 );
    sub_7300( l_U451 );
    sub_17238( l_U452 );
    sub_6723( 762297658 );
    sub_18061( -612753081 );
    sub_18061( -1013714740 );
    l_U357._fU4 = 0;
    l_U411 = 0;
    return;
}

void sub_18061(unknown uParam0)
{
    SET_WEAPON_AS_NO_LONGER_NEEDED( uParam0 );
    return;
}

void sub_18124(int iParam0)
{
    iParam0->_fU0 = 0;
    iParam0->_fU4 = 0;
    iParam0->_fU8 = 0;
    return;
}

void sub_18168()
{
    if (l_U364._fU0)
    {
        sub_15902( ref l_U364 );
    }
    if (l_U364._fU4)
    {
        sub_18211();
    }
    if (l_U364._fU8)
    {
        sub_18605();
        sub_18124( ref l_U364 );
    }
    return;
}

void sub_18211()
{
    switch (l_U414)
    {
        case 0:
        sub_7088( sub_2264(), l_U415, l_U418 );
        sub_12029( 951295712, 1 );
        sub_18281();
        ISEQ_START( 951295712 );
        CAMERA_PLAY_ANIMATED( "LEVEL_S_HOTEL_CP_06", "B_OUT_12_04_HOTEL_FWD_CAM", 1, l_U419, l_U422, 0, 0 );
        sub_2683( "bsw", "UPDATE_MID_07_BLENDOUT - Setup done: Going to State eHIS_PLAYING", 0 );
        l_U414 = 2;
        break;
        case 2:
        if ((ISEQ_QUERY_ENTITY_STATE( 951295712, "Max", 5 )) || (ISEQ_QUERY_ENTITY_STATE( 951295712, "Max", 6 )))
        {
            ;
        }
        break;
    }
    return;
}

void sub_18281()
{
    sub_2683( "SBA", "SETUP_HOTEL_MID07BO", "***" );
    ISEQ_REGISTER_ENTITY( 951295712, "max", sub_2264(), 0 );
    return;
}

void sub_18605()
{
    sub_2683( "SBA", "CLEAN_MID_07_BLENDOUT", "***" );
    ISEQ_UNREGISTER_ENTITY( 951295712, "max" );
    sub_11824( 951295712, 1 );
    l_U364._fU4 = 0;
    l_U414 = 0;
    return;
}

void sub_18724()
{
    if (l_U371._fU0)
    {
        sub_15902( ref l_U371 );
    }
    if (l_U371._fU4)
    {
        sub_18767();
    }
    if (l_U371._fU8)
    {
        sub_19025();
        sub_18124( ref l_U371 );
    }
    return;
}

void sub_18767()
{
    switch (l_U423)
    {
        case 0:
        sub_12029( -780465587, 1 );
        sub_18816();
        ISEQ_START( -780465587 );
        sub_2683( "SBA", "UPDATE_MID_08_BLENDOUT - Setup done: Going to State eHIS_PLAYING", 0 );
        l_U423 = 2;
        break;
        case 2: break;
    }
    return;
}

void sub_18816()
{
    sub_2683( "SBA", "SETUP_HOTEL_MID08BO", "***" );
    ISEQ_REGISTER_ENTITY( -780465587, "max", sub_2264(), 0 );
    return;
}

void sub_19025()
{
    sub_2683( "SBA", "CLEAN_MID_08_BLENDOUT", "***" );
    ISEQ_UNREGISTER_ENTITY( -780465587, "max" );
    sub_11824( -780465587, 1 );
    l_U371._fU4 = 0;
    l_U423 = 0;
    return;
}

void sub_19144()
{
    unknown[5] uVar2;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    unknown uVar37;
    unknown uVar38;
    unknown uVar39;
    unknown uVar40;
    unknown uVar41;
    unknown uVar42;
    unknown uVar43;
    unknown uVar44;
    unknown uVar45;
    unknown uVar46;
    unknown uVar47;
    unknown uVar48;
    unknown uVar49;
    unknown uVar50;
    unknown uVar51;
    unknown uVar52;
    unknown uVar53;
    unknown uVar54;
    unknown uVar55;
    unknown uVar56;
    unknown uVar57;
    unknown uVar58;
    unknown uVar59;
    unknown uVar60;
    unknown uVar61;
    unknown uVar62;
    unknown uVar63;
    unknown uVar64;
    unknown uVar65;
    unknown uVar66;
    unknown uVar67;
    int I;

    if (NOT l_U585)
    {
        START_WIDGET_GROUP( "S_HOTEL_BLENDOUT_12_05" );
        ADD_WIDGET_BOOL( "Teleport Player to S_HOTEL_BLENDOUT_12_05", ref l_U586 );
        ADD_WIDGET_BOOL( "Start S_HOTEL_BLENDOUT_12_05", ref l_U587 );
        ADD_WIDGET_BOOL( "Kill S_HOTEL_BLENDOUT_12_05", ref l_U588 );
        ADD_WIDGET_BOOL( "Play with animated camera.", ref l_U589 );
        STOP_WIDGET_GROUP();
        l_U585 = 1;
    }
    if (l_U586)
    {
        sub_7088( sub_2264(), 14.96580000, 41.06865000, 39.72871000, 214.57790000 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0.00000000, 1065353216, 0 );
        l_U586 = 0;
    }
    if (l_U587)
    {
        sub_11824( 469460336, 1 );
        sub_19500( ref l_U591 );
        sub_6154( 928600325, 1 );
        sub_12029( 469460336, 1 );
        array(ref uVar2, 5);
        sub_7504( ref uVar2[0], 12.68000000, 30.93000000, 39.40000000, -10.00000000, 1820013202, 7, 3, 2, 0, 0 );
        sub_7504( ref uVar2[1], 0.81000000, 32.24000000, 42.75000000, -55.00000000, -110444939, 7, 3, 2, 0, 0 );
        sub_7504( ref uVar2[2], 1.87000000, 29.38000000, 42.80000000, -35.00000000, -263273570, 7, 3, 2, 0, 0 );
        sub_7504( ref uVar2[3], -1.47000000, 28.19000000, 42.80000000, -60.00000000, -1091825948, 7, 3, 2, 0, 0 );
        sub_7504( ref uVar2[4], 0.39000000, 22.90000000, 42.80000000, -30.00000000, 1311218474, 7, 3, 2, 0, 0 );
        for ( I = 0; I <= 4; I++ )
        {
            l_U591[I] = sub_7612( ref uVar2[I] );
            SET_PED_ALERTNESS( l_U591[I], 3 );
            REGISTER_TARGET( l_U591[I], sub_2264() );
        }
        sub_8283( l_U591[0], -1013714740, 25000, 0, 0 );
        sub_8283( l_U591[1], -1013714740, 25000, 0, 0 );
        sub_8283( l_U591[2], -1013714740, 25000, 0, 0 );
        sub_8283( l_U591[3], -612753081, 25000, 0, 0 );
        sub_8283( l_U591[4], -612753081, 25000, 0, 0 );
        ISEQ_REGISTER_ENTITY( 469460336, "Max", sub_2264(), 0 );
        sub_7088( sub_2264(), 14.96580000, 41.06865000, 39.72871000, 214.57790000 );
        ISEQ_REGISTER_ENTITY( 469460336, "PLGE", l_U591[0], 0 );
        ISEQ_REGISTER_ENTITY( 469460336, "PLGE1", l_U591[1], 0 );
        ISEQ_REGISTER_ENTITY( 469460336, "PLGE2", l_U591[2], 0 );
        ISEQ_REGISTER_ENTITY( 469460336, "PLGE3", l_U591[3], 0 );
        ISEQ_REGISTER_ENTITY( 469460336, "PLGE4", l_U591[4], 0 );
        ISEQ_START( 469460336 );
        SNAP_PLAYER_TO_COVERPOINT( sub_2286(), "GenCover", "C8D703C8_30D084ED_Corner1", 1 );
        SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND( sub_2264(), 0, 0 ), 0 );
        if (l_U589)
        {
            SET_GAMEPLAY_CAM_RELATIVE_HEADING( -65.00000000, 1065353216, 0 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( -4.00000000, 1065353216, 0 );
            CAMERA_PLAY_ANIMATED( "LEVEL_S_HOTEL_CP_09", "B_OUT_12_05_HOTEL_CAM", 0, 0, 0, 0, 0, 0, 0 );
            l_U590 = 1;
        }
        l_U587 = 0;
    }
    if (l_U588)
    {
        sub_11824( 469460336, 1 );
        sub_19500( ref l_U591 );
        sub_6723( 928600325 );
        SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND( sub_2264(), 0, 0 ), 1 );
        l_U588 = 0;
    }
    if (NOT (IS_PED_DEAD( sub_2264() )))
    {
        if (ISEQ_QUERY_ENTITY_STATE( 469460336, "Max", 3 ))
        {
            if ((PED_GET_ACTION_INTENTION_STATUS( sub_2264(), 47 )) == 3)
            {
                sub_2683( "GA", "Making Max's gun visible.", 0 );
                SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND( sub_2264(), 0, 0 ), 1 );
                PED_FINISH_ACTION_INTENTION( sub_2264(), 47 );
            }
        }
    }
    if (l_U590)
    {
        if (CAMERA_ANIMATED_CURRENT_TIME() >= ((CAMERA_ANIMATED_LENGTH( "LEVEL_S_HOTEL_CP_09", "B_OUT_12_05_HOTEL_CAM" )) - 1))
        {
            SET_GAMEPLAY_CAM_RELATIVE_HEADING( -65.00000000, 1065353216, 0 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( -4.00000000, 1065353216, 0 );
            CAMERA_FREEZE_FRAME( 1, 500, 0, 0 );
            l_U590 = 0;
        }
    }
    return;
}

void sub_19500(unknown uParam0)
{
    int I;

    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_7300( (uParam0^)[I] );
    }
    return;
}

void sub_20775()
{
    if (l_U378._fU0)
    {
        sub_15902( ref l_U378 );
        if (sub_15984())
        {
            SET_ROOM_FOR_PED_BY_NAME( sub_2264(), ref g_U1298 );
        }
    }
    if (l_U378._fU4)
    {
        sub_20844();
    }
    if (l_U378._fU8)
    {
        sub_23201();
        sub_18124( ref l_U378 );
    }
    return;
}

void sub_20844()
{
    switch (l_U459)
    {
        case 0:
        sub_12029( 1082349389, 1 );
        sub_20893();
        ISEQ_START( 1082349389 );
        sub_2683( "SBA", "UPDATE_HOTEL_VIG01 - Setup done: Going to State eHIS_PLAYING", 0 );
        l_U459 = 2;
        break;
        case 2:
        if (sub_13134( l_U517 ))
        {
            if (sub_17616( l_U517, 47, 1 ))
            {
                l_U534 = sub_6397( 1426433289, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_PROP_POSITION( l_U517, 13 ), "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PEP_PROP_ROTATION( l_U517, 13 ), 0, 0, 0 );
                ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U534, ref g_U1322 );
                CLEAR_PED_PROP( l_U517, 13 );
                l_U532 = l_U534;
                sub_15089( ref l_U542, l_U560, 1, 0 );
                sub_15225( ref l_U542 );
            }
            if (sub_17616( l_U517, 48, 3 ))
            {
                sub_6337( l_U536 );
                SET_PED_PROP_INDEX( l_U517, 13, 1, 0, 255 );
            }
            if (sub_17616( l_U517, 48, 1 ))
            {
                l_U536 = sub_6397( -1490597557, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_PROP_POSITION( l_U517, 13 ), "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PEP_PROP_ROTATION( l_U517, 13 ), 0, 0, 0 );
                ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U536, ref g_U1322 );
                CLEAR_PED_PROP( l_U517, 13 );
                l_U532 = l_U536;
                sub_15089( ref l_U542, l_U560, 1, 0 );
                sub_15225( ref l_U542 );
            }
            if (sub_17616( l_U517, 49, 3 ))
            {
                sub_6337( l_U537 );
                SET_PED_PROP_INDEX( l_U517, 13, 0, 0, 255 );
            }
            if (sub_17616( l_U517, 49, 1 ))
            {
                l_U537 = sub_6397( 1426433289, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_PROP_POSITION( l_U517, 13 ), "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PEP_PROP_ROTATION( l_U517, 13 ), 0, 0, 0 );
                ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U537, ref g_U1322 );
                CLEAR_PED_PROP( l_U517, 13 );
                l_U532 = l_U537;
                sub_15089( ref l_U542, l_U560, 1, 0 );
                sub_15225( ref l_U542 );
            }
            if (sub_17616( l_U517, 50, 3 ))
            {
                sub_6337( l_U538 );
                SET_PED_PROP_INDEX( l_U517, 13, 2, 0, 255 );
            }
            if (sub_17616( l_U517, 50, 1 ))
            {
                CLEAR_PED_PROP( l_U517, 13 );
                SET_PED_PROP_INDEX( l_U517, 12, 2, 0, 255 );
            }
            if (sub_17616( l_U517, 51, 1 ))
            {
                l_U538 = sub_6397( -1166741530, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_PROP_POSITION( l_U517, 12 ), "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PEP_PROP_ROTATION( l_U517, 12 ), 0, 0, 0 );
                ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U538, ref g_U1322 );
                CLEAR_PED_PROP( l_U517, 12 );
                l_U532 = l_U538;
                sub_15089( ref l_U542, l_U560, 1, 0 );
                sub_15225( ref l_U542 );
            }
            if (sub_17616( l_U517, 58, 3 ))
            {
                sub_21124( l_U517, 0, 1 );
            }
        }
        if (sub_13134( l_U531 ))
        {
            if (sub_17616( l_U531, 47, 1 ))
            {
                l_U535 = sub_6397( -1490597557, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_PROP_POSITION( l_U531, 13 ), "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PEP_PROP_ROTATION( l_U531, 13 ), 0, 0, 0 );
                ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U535, ref g_U1322 );
                CLEAR_PED_PROP( l_U531, 13 );
                l_U533 = l_U535;
                sub_15089( ref l_U551, l_U560, 1, 0 );
                sub_15225( ref l_U551 );
            }
            if (sub_17616( l_U531, 57, 3 ))
            {
                l_U540 = sub_6397( 547887525, l_U474, l_U477, 0, 0, 0 );
                ATTACH_OBJECT_TO_PED( l_U540, l_U531, 25310, l_U480, l_U483, 0 );
                sub_17238( l_U541 );
            }
            if (sub_17616( l_U531, 58, 3 ))
            {
                sub_6337( l_U540 );
                sub_8283( l_U531, -1013714740, 25000, 0, 0 );
            }
        }
        if (sub_15458( ref l_U542 ))
        {
            sub_2683( "SBA", "tmrCP1ShortDelay is DONE", "***" );
            sub_22982( ref l_U532 );
        }
        if (sub_15458( ref l_U551 ))
        {
            sub_2683( "SBA", "tmrCP2ShortDelay is DONE", "***" );
            sub_22982( ref l_U533 );
        }
        break;
    }
    return;
}

void sub_20893()
{
    sub_2683( "SBA", "SETUP_HOTEL_VIG01", "***" );
    sub_6154( 762297658, 1 );
    sub_6154( -754907209, 1 );
    sub_16276( -1013714740, 1 );
    sub_16276( -612753081, 1 );
    sub_6154( 1426433289, 1 );
    sub_6154( -1490597557, 1 );
    sub_6154( -1166741530, 1 );
    sub_7504( ref l_U504, l_U460, l_U463, -242176005, 7, 3, 2, 0, 0 );
    sub_7504( ref l_U518, l_U464, l_U467, -523735065, 7, 3, 2, 0, 0 );
    sub_16445( ref l_U504, ref l_U517, -612753081, "AIT_NORMAL", 2, 25000, 2, 0, 25000 );
    sub_21124( l_U517, 0, 0 );
    sub_17029( ref l_U517, g_U1322 );
    ISEQ_REGISTER_ENTITY( 1082349389, "cp1", l_U517, 0 );
    SET_PED_PROP_INDEX( l_U517, 13, 0, 0, 255 );
    sub_16445( ref l_U518, ref l_U531, -1013714740, "AIT_NORMAL", 0, 25000, 2, 0, 25000 );
    sub_17029( ref l_U531, g_U1322 );
    REMOVE_ALL_PED_WEAPONS( l_U531 );
    ISEQ_REGISTER_ENTITY( 1082349389, "cp2", l_U531, 0 );
    SET_PED_PROP_INDEX( l_U531, 13, 1, 0, 255 );
    if (sub_15984())
    {
        SET_PED_PRIMARY_LOOKAT( l_U531, sub_2264() );
    }
    l_U539 = sub_6397( -754907209, l_U468, l_U471, 0, 0, 0 );
    ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U539, ref g_U1322 );
    l_U541 = sub_17306( 1676080365, l_U474, l_U477, 0, 0, 0, 1119092736 );
    ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( l_U541, ref g_U1322 );
    l_U536 = sub_6397( -1490597557, l_U486, l_U489, 0, 0, 0 );
    ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U536, ref g_U1322 );
    l_U537 = sub_6397( 1426433289, l_U492, l_U495, 0, 0, 0 );
    ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U537, ref g_U1322 );
    l_U538 = sub_6397( -1166741530, l_U498, l_U501, 0, 0, 0 );
    ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U538, ref g_U1322 );
    return;
}

void sub_21124(unknown uParam0, unknown uParam1, unknown uParam2)
{
    sub_2683( "SBA", "P_SET_HAND_WEAPON_VISIBILITY", 0 );
    sub_21179( uParam2 );
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        if ((GET_WEAPON_FROM_HAND( uParam0, uParam1, 0 )) != 0)
        {
            SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND( uParam0, uParam1, 0 ), uParam2 );
        }
        else
        {
            sub_2683( "SBA", "P_SET_HAND_WEAPON_VISIBILITY: no weapon in specified hand!", "***" );
        }
    }
    return;
}

void sub_21179(boolean bParam0)
{
    if (bParam0)
    {
        ;
    }
    return;
}

void sub_22982(unknown uParam0)
{
    if (DOES_OBJECT_EXIST( (uParam0^) ))
    {
        sub_2683( "SBA", "P_SET_DROPPED_OBJECT_DYNAMIC: Object exists - setting object dynamic", 0 );
        SET_OBJECT_DYNAMIC( (uParam0^), 1 );
    }
    return;
}

void sub_23201()
{
    sub_2683( "SBA", "CLEAN_HOTEL_VIG01", "***" );
    ISEQ_UNREGISTER_ENTITY( 1082349389, "cp1" );
    ISEQ_UNREGISTER_ENTITY( 1082349389, "cp2" );
    sub_11824( 1082349389, 1 );
    sub_7300( l_U517 );
    sub_7300( l_U531 );
    sub_6337( l_U539 );
    sub_6337( l_U540 );
    sub_17238( l_U541 );
    sub_6337( l_U534 );
    sub_6337( l_U535 );
    sub_6337( l_U536 );
    sub_6337( l_U537 );
    sub_6337( l_U538 );
    sub_6723( 762297658 );
    sub_6723( -754907209 );
    sub_18061( -1013714740 );
    sub_18061( -612753081 );
    sub_6723( 1426433289 );
    sub_6723( -1490597557 );
    sub_6723( -1166741530 );
    CLEAR_AREA_OF_OBJECTS( 28.00000000, -32.35000000, 13.05000000, 10 );
    l_U378._fU4 = 0;
    l_U459 = 0;
    sub_23508( ref l_U542 );
    sub_23508( ref l_U551 );
    return;
}

void sub_23508(int iParam0)
{
    if (iParam0->_fU28)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    return;
}

void sub_23653()
{
    if (l_U385._fU0)
    {
        sub_15902( ref l_U385 );
        if (sub_15984())
        {
            SET_ROOM_FOR_PED_BY_NAME( sub_2264(), ref g_U1298 );
        }
    }
    if (l_U385._fU4)
    {
        sub_23722();
    }
    if (l_U385._fU8)
    {
        sub_24239();
        sub_18124( ref l_U385 );
    }
    return;
}

void sub_23722()
{
    switch (l_U561)
    {
        case 0:
        sub_12029( 793883882, 1 );
        sub_23779();
        ISEQ_START( 793883882 );
        sub_2683( "SBA", "UPDATE_HOTEL_VIG02 - Setup done: Going to State eHIS_PLAYING", 0 );
        l_U561 = 2;
        break;
        case 2:
        if (l_U566)
        {
            if (sub_13134( l_U580 ))
            {
                PED_SET_ACTION_INTENTION( l_U580, 47, 1000, 0, 0, 0 );
            }
            l_U566 = 0;
            sub_2683( "SBA", "UPDATE_HOTEL_VIG02 - Setup done: Going to State eHIS_FINISHED", 0 );
            l_U561 = 5;
        }
        break;
        case 5: break;
    }
    return;
}

void sub_23779()
{
    sub_2683( "SBA", "SETUP_PEDS_HOTEL_VIG02", "***" );
    sub_6154( 762297658, 1 );
    sub_16276( -612753081, 1 );
    sub_7504( ref l_U567, l_U562, l_U565, -1187100427, 7, 3, 2, 0, 0 );
    sub_16445( ref l_U567, ref l_U580, -612753081, "AIT_NORMAL", 0, 25000, 2, 0, 25000 );
    sub_17029( ref l_U580, g_U1330 );
    ISEQ_REGISTER_ENTITY( 793883882, "runner", l_U580, 0 );
    return;
}

void sub_24239()
{
    sub_2683( "SBA", "CLEAN_HOTEL_VIG02", "***" );
    ISEQ_UNREGISTER_ENTITY( 793883882, "runner" );
    sub_11824( 793883882, 1 );
    sub_7300( l_U580 );
    sub_6723( 762297658 );
    sub_18061( -612753081 );
    l_U385._fU4 = 0;
    l_U566 = 0;
    l_U561 = 0;
    return;
}

void sub_24393()
{
    if (l_U392._fU0)
    {
        sub_15902( ref l_U392 );
    }
    if (l_U392._fU4)
    {
        sub_9285( "ho_anim_stairs", 0, 1 );
        sub_6154( -367636848, 1 );
        sub_6154( -985729267, 1 );
        sub_6154( -2018457515, 1 );
        sub_6154( -529475815, 1 );
        sub_6154( 1739372840, 1 );
        sub_6154( -1991423309, 1 );
        sub_6154( 1340369130, 1 );
        sub_6154( 1629971762, 1 );
        sub_24548();
        sub_25318();
        l_U392._fU4 = 0;
    }
    if (l_U392._fU8)
    {
        sub_24558();
        sub_18124( ref l_U392 );
    }
    return;
}

void sub_24548()
{
    sub_24558();
    sub_24679( ref l_U216, -367636848, 3.50000000, 9, 43.50000000, 1, 0 );
    sub_24679( ref l_U224, -985729267, 6, 9, 43.50000000, 1, 0 );
    sub_24679( ref l_U221, -2018457515, -1.80000000, 6.50000000, 41.50000000, 1, 0 );
    sub_24679( ref l_U218, -529475815, 3.20000000, 8.50000000, 43.50000000, 1, 0 );
    sub_24679( ref l_U217, 1739372840, 3.50000000, 9, 43.50000000, 1, 0 );
    sub_24679( ref l_U226, -1991423309, 6, 9, 43.50000000, 1, 0 );
    sub_24679( ref l_U225, 1340369130, 6, 9, 43.50000000, 1, 0 );
    sub_24679( ref l_U222, 1629971762, -2, 6.50000000, 41.50000000, 1, 0 );
    SET_OBJECT_VISIBLE( l_U218, 0 );
    SET_OBJECT_VISIBLE( l_U217, 0 );
    SET_OBJECT_VISIBLE( l_U226, 0 );
    SET_OBJECT_VISIBLE( l_U225, 0 );
    SET_OBJECT_VISIBLE( l_U222, 0 );
    FREEZE_OBJECT_POSITION( l_U218, 1 );
    FREEZE_OBJECT_POSITION( l_U217, 1 );
    FREEZE_OBJECT_POSITION( l_U226, 1 );
    FREEZE_OBJECT_POSITION( l_U225, 1 );
    FREEZE_OBJECT_POSITION( l_U222, 1 );
    return;
}

void sub_24558()
{
    sub_6337( l_U216 );
    sub_6337( l_U217 );
    sub_6337( l_U218 );
    sub_6337( l_U221 );
    sub_6337( l_U222 );
    sub_6337( l_U224 );
    sub_6337( l_U225 );
    sub_6337( l_U226 );
    return;
}

void sub_24679(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    sub_24706( uParam0, uParam1, uParam2, g_U657, uParam5, uParam6 );
    return;
}

void sub_24706(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
    sub_6337( (uParam0^) );
    (uParam0^) = sub_24737( uParam1, uParam2, uParam5, 0, uParam9, 0 );
    FREEZE_OBJECT_POSITION( (uParam0^), uParam8 );
    return;
}

void sub_24737(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
        sub_6154( uParam0, 1 );
    }
    Result = CREATE_OBJECT_NO_OFFSET( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

void sub_25318()
{
    sub_6337( l_U216 );
    sub_6337( l_U224 );
    sub_6337( l_U221 );
    SET_OBJECT_VISIBLE( l_U218, 1 );
    SET_OBJECT_VISIBLE( l_U217, 1 );
    SET_OBJECT_VISIBLE( l_U226, 1 );
    SET_OBJECT_VISIBLE( l_U225, 1 );
    SET_OBJECT_VISIBLE( l_U222, 1 );
    PLAY_OBJECT_ANIM( l_U218, "P_AN_DORBEN_AA_H", "ho_anim_stairs", 0.00000000, 0, 1 );
    PLAY_OBJECT_ANIM( l_U217, "P_AN_FENBEN_AA_H", "ho_anim_stairs", 0.00000000, 0, 1 );
    PLAY_OBJECT_ANIM( l_U226, "P_AN_WALEXP_AA_H", "ho_anim_stairs", 0.00000000, 0, 1 );
    PLAY_OBJECT_ANIM( l_U225, "P_AN_WALEXP_AB_H", "ho_anim_stairs", 0.00000000, 0, 1 );
    PLAY_OBJECT_ANIM( l_U222, "P_AN_WALEXP_BA_H", "ho_anim_stairs", 0.00000000, 0, 1 );
    SET_OBJECT_ANIM_SPEED( l_U218, "P_AN_DORBEN_AA_H", "ho_anim_stairs", l_U219 );
    SET_OBJECT_ANIM_SPEED( l_U217, "P_AN_FENBEN_AA_H", "ho_anim_stairs", l_U220 );
    SET_OBJECT_ANIM_SPEED( l_U226, "P_AN_WALEXP_AA_H", "ho_anim_stairs", l_U227 );
    SET_OBJECT_ANIM_SPEED( l_U225, "P_AN_WALEXP_AB_H", "ho_anim_stairs", l_U228 );
    SET_OBJECT_ANIM_SPEED( l_U222, "P_AN_WALEXP_BA_H", "ho_anim_stairs", l_U223 );
    START_PARTICLE_FX_NON_LOOPED_AT_COORD( "HOTEL_Blast_ACWall_S", l_U229, 0.00000000, 0.00000000, 0.00000000, l_U232 );
    START_PARTICLE_FX_NON_LOOPED_AT_COORD( "HOTEL_AC_Steam_S", l_U233, 0.00000000, 0.00000000, 0.00000000, l_U236 );
    START_PARTICLE_FX_NON_LOOPED_AT_COORD( "HOTEL_AC_Steam_S", l_U237, 0.00000000, 0.00000000, 0.00000000, l_U240 );
    sub_15089( ref l_U200, l_U241, 1, 0 );
    sub_15225( ref l_U200 );
    if (GET_ADRENALINE_AMT() < 0.10000000)
    {
        SET_ADRENALINE_AMT( 0.10000000 );
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    ACTIVATE_BULLET_TIME( 0, 1065353216, 1 );
    return;
}

void sub_26259()
{
    int Result;

    Result = 0;
    if (l_U675)
    {
        sub_7088( sub_2264(), l_U682, l_U685 );
        l_U675 = 0;
    }
    if (l_U674)
    {
        sub_6337( l_U686 );
        sub_6337( l_U687 );
        l_U686 = sub_6397( g_U1445, l_U676, l_U679, 0, 1, 0 );
        l_U687 = sub_6397( g_U1446, l_U676, l_U679, 0, 1, 0 );
        if ((DOES_OBJECT_EXIST( l_U686 )) == 1)
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U686, ref g_U1306 );
            FREEZE_OBJECT_POSITION( l_U686, 1 );
            sub_26477( ref l_U688, 1, l_U676, l_U686, 1, 0, 1.50000000, 3.00000000, 0, 0 );
            sub_27483( ref l_U688, 30, "POI_OPENGATE" );
        }
        if ((DOES_OBJECT_EXIST( l_U687 )) == 1)
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U687, ref g_U1306 );
            FREEZE_OBJECT_POSITION( l_U687, 1 );
        }
        sub_27692( ref l_U688, 1 );
        sub_14310( ref g_U1533, g_U1455, -0.43661000, -5.45916000, 14.17127000, g_U657 );
        sub_14737( ref g_U1533, 1 );
        l_U674 = 0;
    }
    switch (l_U672)
    {
        case 0:
        START_WIDGET_GROUP( "2nd Floor Gate" );
        ADD_WIDGET_BOOL( "Teleport Max to Gate", ref l_U675 );
        ADD_WIDGET_BOOL( "Create button", ref l_U674 );
        sub_3295( ref l_U676, "Button Position", 1036831949 );
        sub_3295( ref l_U679, "Button Rotation", 1036831949 );
        sub_3295( ref l_U682, "Max Position", 1036831949 );
        ADD_WIDGET_FLOAT_SLIDER( "Max heading", ref l_U685, 0, 360.00000000, 1 );
        STOP_WIDGET_GROUP();
        l_U672 = 1;
        break;
        case 1:
        sub_27692( ref l_U688, 1 );
        sub_14737( ref g_U1533, 1 );
        l_U672 = 2;
        break;
        case 2:
        if (sub_28765( ref l_U688 ))
        {
            l_U672 = 3;
        }
        break;
        case 3:
        if (sub_30593())
        {
            l_U672 = 1;
        }
        break;
    }
    return Result;
}

void sub_26477(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;

    sub_26492( iParam0, uParam10 );
    if ((DOES_OBJECT_EXIST( uParam5 )) == 1)
    {
        uVar14 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_OBJECT_COORDS( uParam5 )};
        iParam0->_fU4 = uParam1;
        iParam0->_fU308 = uParam7;
        if (iParam0->_fU308 == 0)
        {
            iParam0->_fU100 = {uVar14};
            iParam0->_fU200 = {uVar14};
        }
        iParam0->_fU112 = uParam8;
        iParam0->_fU212 = uParam9;
        iParam0->_fU300 = uParam6;
        iParam0->_fU312 = uParam5;
        iParam0->_fU320 = uParam11;
        iParam0->_fU20 = {uParam2};
        sub_26931( iParam0 );
    }
    else
    {
        SCRIPT_ASSERT( "[SP]### WARNING!!! (P_CreateObjectPOIStruct): Object doesn't exist! ###", 0 );
    }
    return;
}

void sub_26492(int iParam0, unknown uParam1)
{
    iParam0->_fU0 = uParam1;
    iParam0->_fU4 = 0;
    iParam0->_fU8 = 0;
    iParam0->_fU12 = nil;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = {0.00000000, 0.00000000, 0.00000000};
    iParam0->_fU52 = 1;
    iParam0->_fU56 = 1;
    iParam0->_fU60 = 0;
    iParam0->_fU64 = 0;
    iParam0->_fU68 = 0;
    iParam0->_fU72 = 0;
    iParam0->_fU76 = 0;
    iParam0->_fU80 = 0;
    iParam0->_fU84 = 0;
    iParam0->_fU100 = {0.00000000, 0.00000000, 0.00000000};
    iParam0->_fU112 = 0.00000000;
    iParam0->_fU88 = 0;
    iParam0->_fU92 = 0;
    iParam0->_fU96 = 0;
    iParam0->_fU200 = {0.00000000, 0.00000000, 0.00000000};
    iParam0->_fU212 = 0.00000000;
    iParam0->_fU300 = 0;
    iParam0->_fU304 = 1;
    iParam0->_fU308 = 0;
    iParam0->_fU324 = 1;
    iParam0->_fU328 = 0;
    iParam0->_fU340 = 0;
    iParam0->_fU336 = 0.20000000;
    return;
}

void sub_26931(int iParam0)
{
    if (iParam0->_fU12 != nil)
    {
        if ((DOES_GLINT_EXIST( iParam0->_fU12 )) == 1)
        {
            REMOVE_GLINT( iParam0->_fU12 );
        }
    }
    iParam0->_fU12 = CREATE_GLINT( iParam0->_fU16, iParam0->_fU20 );
    sub_27010( iParam0 );
    return;
}

void sub_27010(int iParam0)
{
    if (iParam0->_fU0 == 1)
    {
        if (iParam0->_fU320 == 1)
        {
            if ((iParam0->_fU8 > 0) AND (iParam0->_fU4 == 0))
            {
                sub_27069( iParam0, 1 );
            }
            else if ((iParam0->_fU8 < 2) AND (iParam0->_fU4 == 1))
            {
                sub_27069( iParam0, 1 );
            }
            else if ((iParam0->_fU8 == 1) AND (iParam0->_fU4 == 2))
            {
                sub_27069( iParam0, 1 );
            }
            else
            {
                sub_27069( iParam0, 0 );
            };;;
        }
        else
        {
            sub_27069( iParam0, 0 );
        }
    }
    else
    {
        sub_27069( iParam0, 0 );
    }
    return;
}

void sub_27069(int iParam0, int iParam1)
{
    if (iParam1 == 1)
    {
        if (iParam0->_fU12 != nil)
        {
            if ((DOES_GLINT_EXIST( iParam0->_fU12 )) == 1)
            {
                ENABLE_GLINT( iParam0->_fU12, 1 );
            }
            else
            {
                iParam0->_fU12 = CREATE_GLINT( iParam0->_fU16, iParam0->_fU20 );
            }
        }
        else
        {
            iParam0->_fU12 = CREATE_GLINT( iParam0->_fU16, iParam0->_fU20 );
        }
    }
    else if (iParam0->_fU12 != nil)
    {
        if ((DOES_GLINT_EXIST( iParam0->_fU12 )) == 1)
        {
            ENABLE_GLINT( iParam0->_fU12, 0 );
        }
    }
    return;
}

void sub_27483(int iParam0, unknown uParam1, unknown uParam2)
{
    StrCopy( ref iParam0->_fU32, uParam2, 16 );
    iParam0->_fU48 = uParam1;
    sub_27514( iParam0 );
    return;
}

void sub_27514(int iParam0)
{
    if ((iParam0->_fU8 == 2) AND (iParam0->_fU0 == 1))
    {
        if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
        {
            SET_INTERACTIONTEXT_BUTTON( iParam0->_fU48 );
            SET_INTERACTIONTEXT_TEXT( iParam0 + 32 );
            SET_INTERACTIONTEXT_VISIBLE( 1 );
            SET_INTERACTIONTEXT_BUTTON_VISIBLE( 1 );
            SET_INTERACTIONTEXT_AVAILABLE( 1 );
            iParam0->_fU56 = 1;
        }
    }
    return;
}

void sub_27692(int iParam0, int iParam1)
{
    if (iParam1 == 1)
    {
        if ((iParam0->_fU4 == 1) AND (iParam0->_fU320 == 1))
        {
            sub_27069( iParam0, 1 );
        }
        iParam0->_fU0 = 1;
    }
    else
    {
        sub_27069( iParam0, 0 );
        sub_27763( iParam0, 0 );
        if ((IS_PED_DEAD( sub_2264() )) == 0)
        {
            TASK_CLEAR_LOOK_AT( sub_2264() );
            if ((iParam0->_fU328 == 1) AND (iParam0->_fU324 == 1))
            {
                SET_PED_FORCED_TO_WALK( sub_2264(), 0 );
                iParam0->_fU328 = 0;
            }
        }
        iParam0->_fU8 = 0;
        iParam0->_fU0 = 0;
    }
    return;
}

void sub_27763(int iParam0, int iParam1)
{
    if (iParam1 == 1)
    {
        SET_INTERACTIONTEXT_TEXT( iParam0 + 32 );
        SET_INTERACTIONTEXT_BUTTON( iParam0->_fU48 );
        if ((iParam0->_fU72 == 0) AND ((iParam0->_fU64 == 1) AND (iParam0->_fU68 == 1)))
        {
            SET_INTERACTIONTEXT_VISIBLE( 0 );
            SET_INTERACTIONTEXT_BUTTON_VISIBLE( 0 );
            SET_INTERACTIONTEXT_AVAILABLE( 0 );
            iParam0->_fU56 = 0;
        }
        else
        {
            SET_INTERACTIONTEXT_VISIBLE( 1 );
            SET_INTERACTIONTEXT_BUTTON_VISIBLE( 1 );
            SET_INTERACTIONTEXT_AVAILABLE( 1 );
            iParam0->_fU56 = 1;
        }
        sub_27914( iParam0 );
        if (iParam0->_fU332 == 1)
        {
            SET_INTERACTIONTEXT_PULSE( 1 );
            SET_INTERACTIONTEXT_PULSE_PERIOD( iParam0->_fU336 );
        }
    }
    else
    {
        SET_INTERACTIONTEXT_VISIBLE( 0 );
        SET_INTERACTIONTEXT_BUTTON_VISIBLE( 0 );
    }
    return;
}

void sub_27914(int iParam0)
{
    if (iParam0->_fU60 == 1)
    {
        SET_INTERACTIONTEXT_AVAILABLE( 0 );
        iParam0->_fU56 = 0;
    }
    else if (iParam0->_fU56 == 1)
    {
        if ((sub_27975( iParam0 )) == 0)
        {
            SET_INTERACTIONTEXT_AVAILABLE( 0 );
            iParam0->_fU56 = 0;
        }
    }
    else if ((sub_27975( iParam0 )) == 1)
    {
        SET_INTERACTIONTEXT_AVAILABLE( 1 );
        iParam0->_fU56 = 1;
    };;;
    return;
}

int sub_27975(int iParam0)
{
    if (((IS_PED_DEAD( sub_2264() )) == 0) AND ((IS_PLAYER_DEAD( sub_2286() )) == 0))
    {
        if (((IS_PED_RELOADING( sub_2264() )) == 1) || (((IS_PED_GETTING_UP( sub_2264() )) == 1) || (((IS_PED_PICKING_UP_PICKUP( sub_2264() )) == 1) || (((IS_PED_IN_COVER( sub_2264() )) == 1) || (((IS_PED_DUCKING( sub_2264() )) == 1) || (IS_PLAYER_SHOOTDODGING() == 1))))))
        {
            return 0;
        }
        if (iParam0->_fU304 == 0)
        {
            if ((IS_MONOLOGUE_PLAYING() == 1) || ((IS_ANY_SPEECH_PLAYING( sub_2264() )) == 1))
            {
                return 0;
            }
        }
        return 1;
    }
    return 0;
}

int sub_28765(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    int iVar6;
    int iVar7;
    int iVar8;

    if ((IS_PED_DEAD( sub_2264() )) == 0)
    {
        if (iParam0->_fU0 == 1)
        {
            uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( sub_2264() )};
            iVar6 = 0;
            if (iParam0->_fU80 == 1)
            {
                if ((sub_28851( sub_2264(), iParam0->_fU116 )) == 1)
                {
                    if (iParam0->_fU300 == 1)
                    {
                        if (((IS_OBJECT_ON_SCREEN( iParam0->_fU312 )) == 1) AND ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1))
                        {
                            iVar6 = 1;
                        }
                    }
                    else
                    {
                        iVar6 = 1;
                    }
                }
            }
            else if ((iParam0->_fU308 == 1) AND (iParam0->_fU84 == 1))
            {
                if ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_OBJECT_COORDS( iParam0->_fU312 ), 1 )) <= iParam0->_fU112)
                    {
                        if (iParam0->_fU300 == 1)
                        {
                            if ((IS_OBJECT_ON_SCREEN( iParam0->_fU312 )) == 1)
                            {
                                iVar6 = 1;
                            }
                        }
                        else
                        {
                            iVar6 = 1;
                        }
                    }
                }
            }
            else if (iParam0->_fU96 == 1)
            {
                if ((DOES_PED_EXIST( iParam0->_fU316 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU316 ), 1 )) <= iParam0->_fU112)
                    {
                        if (iParam0->_fU300 == 1)
                        {
                            if ((IS_PED_ON_SCREEN( iParam0->_fU316, 0 )) == 1)
                            {
                                iVar6 = 1;
                            }
                        }
                        else
                        {
                            iVar6 = 1;
                        }
                    }
                }
            }
            else if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, iParam0->_fU100, 1 )) <= iParam0->_fU112)
            {
                if (iParam0->_fU300 == 1)
                {
                    if (((IS_OBJECT_ON_SCREEN( iParam0->_fU312 )) == 1) AND ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1))
                    {
                        iVar6 = 1;
                    }
                }
                else
                {
                    iVar6 = 1;
                }
            };;;;
            iVar7 = 0;
            if (iParam0->_fU88 == 1)
            {
                if ((sub_28851( sub_2264(), iParam0->_fU216 )) == 1)
                {
                    iVar7 = 1;
                }
            }
            else if ((iParam0->_fU308 == 1) AND (iParam0->_fU92 == 1))
            {
                if ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_OBJECT_COORDS( iParam0->_fU312 ), 1 )) <= iParam0->_fU212)
                    {
                        iVar7 = 1;
                    }
                }
            }
            else if (iParam0->_fU96 == 1)
            {
                if ((DOES_PED_EXIST( iParam0->_fU316 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU316 ), 1 )) <= iParam0->_fU212)
                    {
                        iVar7 = 1;
                    }
                }
            }
            else if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, iParam0->_fU200, 1 )) <= iParam0->_fU212)
            {
                iVar7 = 1;
            };;;;
            if (iVar6 == 1)
            {
                if ((iParam0->_fU4 != 3) AND (iParam0->_fU52 == 1))
                {
                    if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                    {
                        sub_27914( iParam0 );
                    }
                    iVar8 = 0;
                    if ((IS_WEAPON_PICKUP_VISIBLE() == 0) AND ((iParam0->_fU60 == 0) AND ((sub_27975( iParam0 )) == 1)))
                    {
                        SET_ACTION_CONSUMED( 0, 1 );
                        if (sub_29692() == 1)
                        {
                            iVar8 = 1;
                        }
                    }
                    if (iVar8 == 1)
                    {
                        if (iParam0->_fU332 == 0)
                        {
                            sub_27692( iParam0, 0 );
                            iParam0->_fU64 = 1;
                        }
                        if (iParam0->_fU68 == 1)
                        {
                            iParam0->_fU72 = 0;
                        }
                        return 1;
                    }
                    else if (iParam0->_fU8 != 2)
                    {
                        if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                        {
                            sub_27069( iParam0, 0 );
                            sub_27763( iParam0, 1 );
                        }
                        else if (iParam0->_fU320 == 1)
                        {
                            sub_27069( iParam0, 1 );
                        }
                        iParam0->_fU8 = 2;
                    }
                    if ((iParam0->_fU328 == 0) AND (iParam0->_fU324 == 1))
                    {
                        if ((IS_PED_DEAD( sub_2264() )) == 0)
                        {
                            SET_PED_FORCED_TO_WALK( sub_2264(), 1 );
                            iParam0->_fU328 = 1;
                        }
                    }
                }
            }
            else if (iVar7 == 1)
            {
                if (iParam0->_fU8 != 1)
                {
                    if ((iParam0->_fU4 != 3) AND (iParam0->_fU320 == 1))
                    {
                        sub_27069( iParam0, 1 );
                    }
                    if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                    {
                        sub_27763( iParam0, 0 );
                    }
                    if (iParam0->_fU96 == 1)
                    {
                        if (((IS_PED_DEAD( sub_2264() )) == 0) AND ((((IS_PED_DEAD( iParam0->_fU316 )) == 1) || ((IS_PED_DEAD( iParam0->_fU316 )) == 0)) AND ((DOES_PED_EXIST( iParam0->_fU316 )) == 1)))
                        {
                            TASK_LOOK_AT_PED( sub_2264(), iParam0->_fU316, -1, 0 );
                        }
                    }
                    else if ((IS_PED_DEAD( sub_2264() )) == 0)
                    {
                        TASK_LOOK_AT_COORD( sub_2264(), iParam0->_fU100, -1, 0 );
                    }
                    iParam0->_fU340 = 1;
                    if ((iParam0->_fU72 == 0) AND ((iParam0->_fU68 == 1) AND ((iParam0->_fU64 == 1) AND (iParam0->_fU8 == 2))))
                    {
                        iParam0->_fU72 = 1;
                    }
                    iParam0->_fU8 = 1;
                }
                if ((iParam0->_fU328 == 0) AND (iParam0->_fU324 == 1))
                {
                    if ((IS_PED_DEAD( sub_2264() )) == 0)
                    {
                        SET_PED_FORCED_TO_WALK( sub_2264(), 1 );
                        iParam0->_fU328 = 1;
                    }
                }
            }
            else if ((iParam0->_fU4 == 1) || (iParam0->_fU4 == 3))
            {
                ;
            }
            else if (iParam0->_fU8 != 0)
            {
                if (iParam0->_fU320 == 1)
                {
                    sub_27069( iParam0, 0 );
                }
            }
            if (iParam0->_fU8 == 2)
            {
                if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                {
                    sub_27763( iParam0, 0 );
                }
            }
            if (iParam0->_fU340)
            {
                if ((IS_PED_DEAD( sub_2264() )) == 0)
                {
                    TASK_CLEAR_LOOK_AT( sub_2264() );
                    iParam0->_fU340 = 0;
                }
            }
            if ((iParam0->_fU328 == 1) AND (iParam0->_fU324 == 1))
            {
                if ((IS_PED_DEAD( sub_2264() )) == 0)
                {
                    SET_PED_FORCED_TO_WALK( sub_2264(), 0 );
                    iParam0->_fU328 = 0;
                }
            }
            if (iParam0->_fU332 == 1)
            {
                sub_27763( iParam0, 0 );
            }
            iParam0->_fU8 = 0;;;
        }
    }
    return 0;
}

int sub_28851(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        return IS_PED_IN_GAMEPLAY_HELPER_BOX( uParam0, ref uParam1._fU0 );
    }
    return 0;
}

int sub_29692()
{
    if ((IS_CONTROL_JUST_PRESSED( 0, 30 )) == 1)
    {
        return 1;
    }
    return 0;
}

void sub_30593()
{
    int Result;

    switch (l_U673)
    {
        case 0:
        sub_12684( 1, 0, 0, 1 );
        sub_12029( 161673566, 1 );
        sub_30682( ref l_U774, l_U805, l_U808, 45, 3000 );
        sub_30893( ref l_U774 );
        sub_7088( sub_2264(), l_U682, l_U685 );
        ISEQ_REGISTER_ENTITY( 161673566, "MAX_PRESSING_BUTTON", sub_2264(), 0 );
        ISEQ_START( 161673566 );
        sub_15089( ref l_U811, 1000, 1, 0 );
        sub_15225( ref l_U811 );
        l_U673 = 1;
        break;
        case 1:
        if (sub_15458( ref l_U811 ))
        {
            sub_14408( ref g_U1533, 0, 85 );
            sub_14737( ref g_U1533, 0 );
            sub_15700( ref g_U1533, 1, 0, 0.10000000 );
        }
        if (sub_31145( ref l_U774, 1 ))
        {
            sub_31300( 750, 1, 0, 78.18056000, -6.06562900, 0 );
            sub_13480( 1, 1 );
            l_U673 = 2;
        }
        break;
        case 2:
        l_U673 = 0;
        Result = 1;
        break;
    }
    return Result;
}

void sub_30682(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    iParam0->_fU4 = {uParam4};
    iParam0->_fU16 = {uParam1};
    iParam0->_fU28 = uParam7;
    iParam0->_fU32 = 0;
    iParam0->_fU36 = 0;
    iParam0->_fU84 = uParam8;
    iParam0->_fU88 = 0;
    iParam0->_fU92 = 0;
    iParam0->_fU40 = 0;
    iParam0->_fU44 = 0;
    iParam0->_fU100 = 1;
    iParam0->_fU104 = 1;
    iParam0->_fU96 = 0;
    sub_15089( iParam0 + 48, uParam8, 1, 0 );
    iParam0->_fU0 = CREATE_CAM_WITH_PARAMS( ref g_U724, iParam0->_fU16, iParam0->_fU4, iParam0->_fU28, 1 );
    SET_CAM_PARAMS( iParam0->_fU0, iParam0->_fU16, iParam0->_fU4, iParam0->_fU28, 0, 1, 1 );
    return;
}

void sub_30893(int iParam0)
{
    RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
    SET_CAM_ACTIVE( iParam0->_fU0, 1 );
    RENDER_SCRIPT_CAMS( 1, 0, 3000, 0 );
    sub_15225( iParam0 + 48 );
    iParam0->_fU32 = 1;
    iParam0->_fU40 = 1;
    return;
}

int sub_31145(int iParam0, boolean bParam1)
{
    if (bParam1 == 1)
    {
        if (NOT iParam0->_fU44)
        {
            if ((ref iParam0->_fU48->_fU16) || (sub_15458( iParam0 + 48 )))
            {
                iParam0->_fU44 = 1;
                iParam0->_fU36 = 1;
                return 1;
            }
        }
    }
    if (NOT bParam1)
    {
        if ((ref iParam0->_fU48->_fU16) || (sub_15458( iParam0 + 48 )))
        {
            iParam0->_fU36 = 1;
            return 1;
        }
    }
    return 0;
}

void sub_31300(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, float fParam4, unknown uParam5)
{
    SET_CAM_SIDE_LEFT( uParam2 );
    if (fParam4 != -1E8)
    {
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( uParam3, 1065353216, 0 );
    }
    if (fParam4 != -1E8)
    {
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( fParam4, 1065353216, 0 );
    }
    RENDER_SCRIPT_CAMS( 0, uParam1, uParam0, uParam5 );
    return;
}

