void main()
{
    l_U0 = 1;
    l_U1 = 144;
    StrCopy( ref l_U2, "DEFAULT_SCRIPTED_CAMERA", 32 );
    StrCopy( ref l_U10, "DEFAULT_SPLINE_CAMERA", 32 );
    l_U18 = 0;
    l_U19 = 1;
    l_U20 = 0;
    l_U21 = 1.00000000;
    l_U22 = -5.00000000;
    l_U23 = 0;
    l_U24 = 0;
    l_U25 = 0;
    l_U29 = 42;
    l_U30 = 0;
    l_U31 = 0;
    l_U32 = 0;
    l_U33 = 0;
    l_U34 = 0;
    l_U35 = 90.00000000;
    l_U36 = {0.00000000, 0.00000000, 0.00000000};
    l_U39 = {0.00000000, 0.00000000, 0.00000000};
    l_U42 = 0;
    l_U43 = 0;
    l_U44 = 0;
    l_U45 = 0;
    l_U46 = 0;
    l_U47 = 0;
    l_U48 = nil;
    l_U49 = {0.00000000, 0.00000000, 0.00000000};
    l_U52 = 0;
    l_U53 = 0;
    l_U54 = 0;
    l_U330 = -1;
    l_U331 = {64536, 64536, 64536};
    l_U334 = {0, 0, 0};
    StrCopy( ref l_U337, "DUMMY", 32 );
    l_U345 = 1;
    l_U350 = 0;
    l_U351 = 0;
    l_U352 = 0;
    l_U355 = 0;
    l_U401 = 0;
    l_U402 = 0;
    l_U403 = 1500;
    l_U414 = 0;
    l_U848 = 0;
    l_U849 = 0;
    l_U851 = 0;
    l_U867 = 47;
    l_U868 = 48;
    l_U869 = 49;
    l_U870 = 52;
    l_U871 = {42.83000000, -1334.48000000, 0.09700000};
    l_U874 = 90.00000000;
    l_U875 = {21.27000000, -1487.01000000, 0.40000000};
    l_U878 = 174.00000000;
    l_U879 = {45.52000000, -2336.72000000, 0.40000000};
    l_U882 = 225.00000000;
    l_U883 = {83.56000000, -2984.54000000, 0.40000000};
    l_U886 = 100.00000000;
    l_U971 = 30000;
    l_U972 = 60000;
    l_U973 = 10000;
    l_U974 = 20000;
    l_U984 = 0;
    l_U985 = 0;
    l_U986 = 0;
    l_U987 = 0.20000000;
    l_U991 = 65;
    l_U993 = 10.00000000;
    l_U994 = 15.00000000;
    l_U995 = 20.00000000;
    l_U996 = 8.00000000;
    l_U997 = 5.00000000;
    l_U998 = 12.00000000;
    l_U1000 = 0;
    l_U1001 = 0;
    l_U1002 = 11.70000000;
    l_U1004 = 0.06500000;
    l_U1005 = 0.10000000;
    l_U1069 = {8.40000000, 12.92000000, 0.25000000};
    l_U1072 = {0.00000000, 0.18000000, 1.70000000};
    l_U1075 = {5.66000000, 4.40000000, 0.25000000};
    l_U1078 = {0.00000000, 0.18000000, 2.20000000};
    l_U1081 = {-5.16000000, 12.44000000, 0.40000000};
    l_U1084 = {0.00000000, 0.18000000, 1.70000000};
    l_U1087 = {-6.90000000, -6.92000000, 0.25000000};
    l_U1090 = {0.00000000, 0.18000000, 1.90000000};
    l_U1093 = {1.00000000, 13.44000000, 0.50000000};
    l_U1096 = {0.00000000, 0.18000000, 1.70000000};
    l_U1099 = {-1.00000000, 6.92000000, 0.00000000};
    l_U1102 = {-1.00000000, 0.18000000, 2.00000000};
    l_U1105 = {4.00000000, -10.44000000, 4.50000000};
    l_U1108 = {0.00000000, -0.18000000, 1.70000000};
    l_U1111 = {-8.00000000, -15.44000000, 0.50000000};
    l_U1114 = {0.00000000, -0.18000000, 1.70000000};
    l_U1117 = 10000;
    l_U1127 = 10;
    l_U1146 = 60;
    l_U1147 = 0.60000000;
    l_U1157 = 2000;
    l_U1167 = 500;
    l_U1193 = 1;
    l_U1194 = 1500;
    l_U1195 = 500;
    l_U1197 = 2500;
    l_U1198 = 1500;
    l_U1199 = 1000;
    l_U1200 = 750;
    l_U1201 = 750;
    l_U1202 = 3000;
    l_U1214 = 500;
    l_U1215 = 0.00000000;
    l_U1216 = 0;
    l_U1217 = 0;
    l_U1218 = 0.10000000;
    l_U1219 = 0.50000000;
    l_U1220 = 100;
    l_U1221 = 250;
    l_U1222 = 0;
    l_U1223 = {0.50000000, 0.50000000, 0.95000000};
    l_U1226 = 0;
    l_U1227 = 500;
    l_U1228 = "Smk_VehBoatMini_Eng_S";
    l_U1229 = {0.00000000, -2.80000000, 0.35000000};
    l_U1232 = "Smk_VehBoatDrug_Eng_S";
    l_U1233 = {0.00000000, -5.30000000, 0.50000000};
    l_U1236 = "Smk_VehBoatChase_Eng_S";
    l_U1237 = {-0.50000000, -4.50000000, 1.00000000};
    l_U1240 = "Smk_VehFelino_Eng_S";
    l_U1241 = {-1.35000000, -1.30000000, -0.15000000};
    l_U1244 = 0;
    l_U1245 = 0;
    l_U1246 = 0;
    l_U1247 = 0;
    l_U1248 = 1;
    l_U1249 = 1;
    l_U1250 = 1;
    l_U1251 = 1.00000000;
    l_U1397 = {0.00000000, -1.50000000, 1.30000000};
    l_U1400 = {0.00000000, -1.50000000, 1.30000000};
    l_U1403 = {-0.35000000, -0.93000000, 1.05000000};
    l_U1406 = {0.00000000, -1.50000000, 1.30000000};
    l_U1409 = {0.00000000, -1.50000000, 1.30000000};
    l_U1412 = {0.00000000, -2.00000000, 1.00000000};
    l_U1415 = {-0.58000000, -1.60000000, 1.00000000};
    l_U1418 = {0.76000000, -1.30000000, 1.00000000};
    l_U1479 = "/Global/s_marina_drv/MAXBOAT/MAXBOAT_IDLE";
    l_U1481 = {0.00000000, -3.25000000, 0.85000000};
    l_U1484 = 0;
    l_U1485 = 1.00000000;
    l_U1486 = "Veh_Boat_Smoke_White_S";
    l_U1487 = "Veh_Boat_Smoke_Grey_S";
    l_U1488 = "Veh_Boat_Smoke_Black_S";
    l_U1489 = 1;
    l_U1490 = "S_MAR_MID_12_BLEND";
    l_U1498 = "MID_10_DOCKS_concat";
    l_U1499 = "SMAR_RS_01_Start_to_Mid_08d";
    l_U1500 = "SMAR_RS_03_Mid_09B_to_Mid_10";
    l_U1501 = "Mid_10_Docks_Blendout_A";
    l_U1502 = "SMAR_SHACK_PROPANE_EXPLOSION";
    l_U1503 = "Mid_10_Docks_Blendout_B";
    l_U1504 = "SMAR_VILLAGE_FUEL_DEPOT_EXPLOSION";
    l_U1505 = "SMAR_RS_04_Mid_11_to_Mid_12";
    l_U1506 = "SMAR_RS_Mangrove_Troll";
    l_U1507 = "Mid_12B_Docks_Blend_In";
    l_U1508 = "SMAR_RS_05_Mid_12B_to_Mid_13";
    l_U1649 = "DOCKS_RS_1_3_4";
    l_U1650 = "DOCKS_RS_1_3";
    l_U1651 = "DOCKS_RS_1_3";
    l_U1652 = "DOCKS_RS_2_3_4";
    l_U1653 = "DOCKS_RS_2_3_4";
    l_U1654 = "DOCKS_RS_2_4";
    l_U1655 = "DOCKS_RS_ALL";
    l_U1656 = "DOCKS_RS_2_3";
    l_U1657 = "DOCKS_RS_2_3";
    l_U1658 = "DOCKS_RS_01";
    l_U1659 = 0;
    l_U1660 = 1.00000000;
    l_U1661 = 2000.00000000;
    l_U1662 = 134361.00000000;
    l_U1663 = 6104.00000000;
    l_U1664 = 267;
    l_U1684 = {0.75000000, -2.00000000, 1.50000000};
    l_U1687 = 0.00000000;
    l_U1688 = 1770;
    l_U1689 = 1000;
    l_U4031 = 1;
    l_U4032 = 100.00000000;
    l_U4033 = 15;
    l_U4034 = 20;
    l_U4035 = 10.00000000;
    l_U4038 = 50.00000000;
    l_U4039 = 6;
    l_U4071 = 218;
    l_U4857 = 3000;
    l_U4876 = 2000;
    l_U4877 = 5000;
    l_U4878 = 0.35000000;
    l_U4909 = -1;
    l_U4922 = 47726.00000000;
    l_U4924 = 71715.00000000;
    l_U4925 = 0;
    l_U4926 = 1.50000000;
    l_U4927 = 10700;
    l_U4928 = 44200.00000000;
    l_U4929 = 23;
    l_U5575 = 50;
    l_U5598 = 10000;
    l_U5599 = 0;
    l_U5600 = {18.00000000, -5.00000000, 4.50000000};
    l_U5603 = {18.00000000, 5.00000000, 1.50000000};
    l_U5606 = {0.00000000, 0.00000000, 0.00000000};
    l_U5609 = {0.00000000, 0.00000000, 3.00000000};
    l_U5612 = 14000.00000000;
    l_U5614 = 16000.00000000;
    l_U5616 = 0;
    l_U5617 = "S_MAR_MID_13_BLEND_IN";
    l_U5618 = l_U4928 - 4000;
    l_U5619 = 0;
    l_U5620 = {2.00000000, -0.50000000, 0.30000000};
    l_U5623 = {2.10660400, 0.00000200, 91.24854000};
    l_U5626 = 1300;
    l_U5685 = 3000;
    l_U5686 = 2.50000000;
    l_U5687 = {0.00000000, -3.00000000, 0.00000000};
    l_U5690 = 500;
    l_U5691 = 1250;
    l_U5692 = 0.15000000;
    l_U5742 = 1.00000000;
    l_U5805 = 0.20000000;
    l_U5806 = 0.10000000;
    l_U5807 = {-190.93000000, -3020.65000000, 10.67000000};
    l_U5810 = 500;
    l_U5811 = 14560.00000000;
    l_U5812 = 24;
    l_U5813 = 205;
    l_U5814 = {-206.45000000, -3005.96000000, 0.40000000};
    l_U5817 = 100.00000000;
    l_U5818 = 11410.00000000;
    l_U5819 = 13350.00000000;
    l_U5820 = 4;
    l_U5821 = l_U5820 - 1;
    l_U6110 = 15;
    l_U6128 = 0.40000000;
    l_U6129 = 0.40000000;
    l_U6130 = 0.16000000;
    l_U6136 = {13.44000000, 0.03000000, -57.95000000};
    l_U6139 = 45.00000000;
    l_U6140 = {13.44000000, 0.03000000, -57.95000000};
    l_U6143 = 45.00000000;
    l_U6144 = 700;
    l_U6145 = 3000;
    l_U6146 = 10;
    l_U6147 = 1;
    l_U6148 = 0.75000000;
    l_U6150 = {-207.00000000, -3023.00000000, -2.00000000};
    l_U6170 = 0;
    l_U6171 = 0;
    l_U6172 = 0;
    l_U6209 = "SCRIPT_MISSION\S_MARINA_RAIL_SHOOTER";
    l_U6211 = 0;
    l_U6212 = 0;
    l_U6213 = 0;
    l_U6214 = 0;
    l_U6215 = 0;
    l_U6217 = 0;
    l_U6218 = 0;
    l_U6219 = 0;
    l_U6220 = 0;
    l_U6221 = 0;
    l_U6222 = 0;
    l_U6224 = 0;
    l_U6233 = 0;
    l_U6234 = 0;
    l_U6235 = 0;
    l_U6236 = 0;
    l_U6237 = 0;
    l_U6238 = 0;
    l_U6239 = 0;
    l_U6240 = 0;
    l_U6241 = 0;
    l_U6242 = 0;
    l_U6243 = 0;
    l_U6244 = 0;
    l_U6245 = 0;
    l_U6246 = 0;
    l_U6247 = 0;
    l_U6248 = 0;
    l_U6249 = 0;
    l_U6250 = 0;
    l_U6251 = 0;
    l_U6252 = 0;
    l_U6253 = 0;
    l_U6254 = 0;
    l_U6255 = 0;
    l_U6256 = {0.00000000, 0.00000000, 0.00000000};
    l_U6259 = {0.00000000, 0.00000000, 0.00000000};
    l_U6262 = 0;
    l_U6263 = 0;
    l_U6264 = 0;
    l_U6265 = 0;
    l_U6266 = {0.00000000, 0.00000000, 0.00000000};
    l_U6269 = 0.00000000;
    l_U6284 = 0;
    l_U6285 = 0;
     /* WRITESCRIPTLOG */ sub_3853( "GA", "Script s_boat_BoatRailB.sc is starting...", 0 );
     /* P_SETUP_BOAT_ARRAYS */ sub_3971();
     /* P_SETUP_STATIC_DATA */ sub_16653();
     /* P_INITIALIZE_SCRIPT_DATA */ sub_22950();
     /* P_RAIL_INIT_WATER_FX_SETTING_ARRAYS */ sub_24347();
     /* P_SETUP_MODEL_REQUEST_ARRAY_GLOBAL */ sub_27666();
     /* P_SETUP_ASSETS_MANGROVE */ sub_27982();
     /* P_SETUP_ASSETS_PIER_MPM */ sub_28801();
     /* P_REQUEST_ASSETS */ sub_29342();
     /* P_LOAD_ASSETS */ sub_31391();
    l_U414 = 0;
     /* P_RAIL_INIT_MUSIC_CUE_ARRAYS */ sub_32545();
     /* SETUP_SCRIPTED_SPEECH */ sub_34421( "SMA2AUD" );
    if (l_U851 == 0)
    {
        if (g_U652 < 5)
        {
            l_U1495 = 1;
            while (NOT g_U971)
            {
                WAIT( 0 );
            }
        }
        else
        {
             /* P_LOAD_CHECKPOINT */ sub_34648( g_U652 );
             /* P_RAIL_RESTORE_BOAT_HEALTH */ sub_39549();
             /* P_SAVE_CHECKPOINT */ sub_40770( g_U652 );
        }
         /* P_SETUP_TOD_AND_WEATHER */ sub_45795();
         /* P_START_GAMEPLAY */ sub_45875();
    }
    while ((NOT IS_EXITFLAG_SET()) AND (NOT l_U848))
    {
        if (l_U851 == 0)
        {
             /* P_HANDLE_CHECKPOINTS */ sub_83021();
             /* P_HANDLE_EVENTS */ sub_87199();
             /* P_HANDLE_DEBUG_INVINCIBLITY */ sub_125098();
             /* P_HANDLE_DEBUG_TUNING_WIDGET */ sub_125336();
             /* P_HANDLE_BOAT_ATTACH_WIDGET */ sub_134366();
        }
        else if (l_U851 == 1)
        {
             /* P_HANDLE_DEBUG_RECORDING_WIDGET */ sub_135951();
        }
        WAIT( 0 );
    }
    if (l_U848)
    {
        SET_HIGHEST_ARCADE_LEVEL_UNLOCKED( 7 );
        if (IS_ARCADE_MODE_ACTIVE())
        {
            DISPLAY_ARCADE_MODE_LEVEL_END( "s_office" );
            DO_SCREEN_FADE_IN( 0 );
        }
        else
        {
             /* P_PIER_5_04 */ sub_144330();
             /* P_CLEANUP_ALL */ sub_86202();
             /* P_UNLOAD_ASSETS */ sub_145725();
             /* P_UNLOAD_PERSISTENT_MODELS */ sub_146186();
            SWITCH_TO_LEVEL_NAME( "s_office" );
            SET_SCRIPT_AS_NO_LONGER_NEEDED( "s_boat_BoatRailB" );
            SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
        }
    }
    else
    {
         /* P_CLEANUP_ALL */ sub_86202();
         /* P_UNLOAD_ASSETS */ sub_145725();
         /* P_UNLOAD_PERSISTENT_MODELS */ sub_146186();
        SET_SCRIPT_AS_NO_LONGER_NEEDED( "s_boat_BoatRailB" );
        SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
    }
     /* WRITESCRIPTLOG */ sub_3853( "GA", "Script s_boat_BoatRailB.sc is terminating...", 0 );
    return;
}

/* WRITESCRIPTLOG */ void sub_3853(unknown uParam0, unknown uParam1, string sParam2)
{
    unknown uVar5;

    if (IS_STRING_NULL( sParam2 ))
    {
        sParam2 = "###";
    }
    uVar5 = GET_REAL_GAME_TIMER();
    DISPLAYF( "[{0}][{1}]{3} {2} {3}", 4, 513, uVar5, 1537, uParam0, 1537, uParam1, 1537, sParam2 );
    return;
}

/* P_SETUP_BOAT_ARRAYS */ void sub_3971()
{
     /* P_SETUP_MANGROVE_BOAT_ARRAYS */ sub_4003();
     /* P_SETUP_UNDERPIER_BOAT_ARRAYS */ sub_14044();
    return;
}

/* P_SETUP_MANGROVE_BOAT_ARRAYS */ void sub_4003()
{
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_SETUP_MANGROVE_BOAT_ARRAYS start", 0 );
     /* P_SETUP_MANGROVE_FLAVOUR_BOATS */ sub_4092();
    l_U1690[0]._fU88 = {-1.22000000, -2365.97000000, 0.00000000};
    l_U1690[0]._fU100 = -160.00000000;
    l_U1690[0]._fU104 = 5550.00000000;
    l_U1690[0]._fU108 = 59;
    l_U1690[0]._fU120 = 0.00000000;
    l_U1690[0]._fU124 = 0.00000000;
    l_U1690[0]._fU112 = 0;
    l_U1690[0]._fU116 = 0;
    l_U1690[0]._fU144 = "eMBR_StartFar1";
    l_U2413[0] = 1500.00000000;
    l_U4011[0] = 1;
    l_U2433[0][0]._fU60 = -1074756423;
    l_U2433[0][0]._fU64 = 0;
    l_U2433[0][0]._fU68 = "RSG_Mangrove_Gunners[eMB_StartFar1][0]";
    l_U1690[10]._fU88 = {-1.22000000, -2365.97000000, 0.00000000};
    l_U1690[10]._fU100 = -160.00000000;
    l_U1690[10]._fU104 = 6500.00000000;
    l_U1690[10]._fU108 = 59;
    l_U1690[10]._fU120 = 0.00000000;
    l_U1690[10]._fU124 = 0.00000000;
    l_U1690[10]._fU112 = 0;
    l_U1690[10]._fU116 = 0;
    l_U1690[10]._fU144 = "eMB_StartFar2";
    l_U2413[10] = 54500.00000000;
    l_U4011[10] = 2;
    l_U2433[10][0]._fU60 = -1074756423;
    l_U2433[10][0]._fU64 = 1;
    l_U2433[10][0]._fU68 = "RSG_Mangrove_Gunners[eMB_StartFar2][0]";
    l_U2433[10][1]._fU60 = 68019059;
    l_U2433[10][1]._fU64 = 2;
    l_U2433[10][1]._fU68 = "RSG_Mangrove_Gunners[eMB_StartFar2][1]";
    l_U1690[18]._fU88 = {-1.22000000, -2365.97000000, 0.00000000};
    l_U1690[18]._fU100 = -160.00000000;
    l_U1690[18]._fU104 = 1000.00000000;
    l_U1690[18]._fU108 = 59;
    l_U1690[18]._fU120 = 0.00000000;
    l_U1690[18]._fU124 = 0.00000000;
    l_U1690[18]._fU112 = 0;
    l_U1690[18]._fU116 = 0;
    l_U1690[18]._fU144 = "eMB_StartFar3";
    l_U2413[18] = 123200.00000000;
    l_U4011[18] = 2;
    l_U2433[18][0]._fU60 = -168327769;
    l_U2433[18][0]._fU64 = 0;
    l_U2433[18][0]._fU68 = "RSG_Mangrove_Gunners[eMB_StartFar3][0]";
    l_U2433[18][1]._fU60 = 1194438308;
    l_U2433[18][1]._fU64 = 2;
    l_U2433[18][1]._fU68 = "RSG_Mangrove_Gunners[eMB_StartFar3][1]";
    l_U1690[1]._fU88 = {21.99815000, -2437.27000000, 0.00000000};
    l_U1690[1]._fU100 = 105.00000000;
    l_U1690[1]._fU104 = 2850.00000000;
    l_U1690[1]._fU108 = 60;
    l_U1690[1]._fU120 = 0.00000000;
    l_U1690[1]._fU124 = 0.00000000;
    l_U1690[1]._fU112 = 0;
    l_U1690[1]._fU116 = 0;
    l_U1690[1]._fU144 = "eMB_StartNear1";
    l_U2413[1] = 1500.00000000;
    l_U4011[1] = 2;
    l_U2433[1][0]._fU60 = -1074756423;
    l_U2433[1][0]._fU64 = 0;
    l_U2433[1][0]._fU68 = "RSG_Mangrove_Gunners[eMB_StartNear1][0]";
    l_U2433[1][1]._fU60 = 1194438308;
    l_U2433[1][1]._fU64 = 2;
    l_U2433[1][1]._fU68 = "RSG_Mangrove_Gunners[eMB_StartNear1][1]";
    l_U1690[2]._fU88 = {46.13000000, -2480.89000000, 0.00000000};
    l_U1690[2]._fU100 = 105.00000000;
    l_U1690[2]._fU104 = 2000.00000000;
    l_U1690[2]._fU108 = 61;
    l_U1690[2]._fU120 = 0.00000000;
    l_U1690[2]._fU124 = 0.00000000;
    l_U1690[2]._fU112 = 0;
    l_U1690[2]._fU116 = 0;
    l_U1690[2]._fU144 = "eMB_CulDeSacA1";
    l_U2413[2] = 7300.00000000;
    l_U4011[2] = 1;
    l_U2433[2][0]._fU60 = -1074756423;
    l_U2433[2][0]._fU64 = 1;
    l_U2433[2][0]._fU68 = "RSG_Mangrove_Gunners[eMB_CulDeSacA1][0]";
    l_U1690[11]._fU88 = {46.13000000, -2480.89000000, 0.00000000};
    l_U1690[11]._fU100 = 105.00000000;
    l_U1690[11]._fU104 = 3000.00000000;
    l_U1690[11]._fU108 = 61;
    l_U1690[11]._fU120 = 0.00000000;
    l_U1690[11]._fU124 = 0.00000000;
    l_U1690[11]._fU112 = 0;
    l_U1690[11]._fU116 = 0;
    l_U1690[11]._fU144 = "eMB_CulDeSacA2";
    l_U2413[11] = 64500.00000000;
    l_U4011[11] = 2;
    l_U2433[11][0]._fU60 = -1074756423;
    l_U2433[11][0]._fU64 = 1;
    l_U2433[11][0]._fU68 = "RSG_Mangrove_Gunners[eMB_CulDeSacA2][0]";
    l_U2433[11][1]._fU60 = -168327769;
    l_U2433[11][1]._fU64 = 0;
    l_U2433[11][1]._fU68 = "RSG_Mangrove_Gunners[eMB_CulDeSacA2][1]";
    l_U1690[4]._fU88 = {103.76000000, -2600.57000000, 0.00000000};
    l_U1690[4]._fU100 = 90.00000000;
    l_U1690[4]._fU104 = 4000.00000000;
    l_U1690[4]._fU108 = 158;
    l_U1690[4]._fU120 = 0.00000000;
    l_U1690[4]._fU124 = 0.00000000;
    l_U1690[4]._fU112 = 0;
    l_U1690[4]._fU116 = 0;
    l_U1690[4]._fU144 = "eMB_ExitPathRight1";
    l_U2413[4] = 17500.00000000;
    l_U4011[4] = 1;
    l_U2433[4][0]._fU60 = 68019059;
    l_U2433[4][0]._fU64 = 2;
    l_U2433[4][0]._fU68 = "RSG_Mangrove_Gunners[8]";
    l_U1690[13]._fU88 = {103.76000000, -2600.57000000, 0.00000000};
    l_U1690[13]._fU100 = 90.00000000;
    l_U1690[13]._fU104 = 1000.00000000;
    l_U1690[13]._fU108 = 158;
    l_U1690[13]._fU120 = 0.00000000;
    l_U1690[13]._fU124 = 0.00000000;
    l_U1690[13]._fU112 = 0;
    l_U1690[13]._fU116 = 0;
    l_U1690[13]._fU144 = "eMB_ExitPathRight2";
    l_U2413[13] = 74250.00000000;
    l_U4011[13] = 1;
    l_U2433[13][0]._fU60 = -1074756423;
    l_U2433[13][0]._fU64 = 1;
    l_U2433[13][0]._fU68 = "RSG_Mangrove_Gunners[eMB_ExitPathRight2][0]";
    l_U1690[12]._fU88 = {123.19000000, -2618.02000000, 0.00000000};
    l_U1690[12]._fU100 = 90.00000000;
    l_U1690[12]._fU104 = 0.00000000;
    l_U1690[12]._fU108 = 166;
    l_U1690[12]._fU120 = 0.00000000;
    l_U1690[12]._fU124 = 0.00000000;
    l_U1690[12]._fU112 = 0;
    l_U1690[12]._fU116 = 0;
    l_U1690[12]._fU144 = "eMB_ExitPathLeft2";
    l_U2413[12] = 73500.00000000;
    l_U4011[12] = 2;
    l_U2433[12][0]._fU60 = 68019059;
    l_U2433[12][0]._fU64 = 2;
    l_U2433[12][0]._fU68 = "RSG_Mangrove_Gunners[eMB_ExitPathLeft2][0]";
    l_U2433[12][1]._fU60 = -1074756423;
    l_U2433[12][1]._fU64 = 0;
    l_U2433[12][1]._fU68 = "RSG_Mangrove_Gunners[eMB_ExitPathLeft2][1]";
    l_U1690[5]._fU88 = {0.50000000, -2556.00000000, 0.00000000};
    l_U1690[5]._fU100 = 165.00000000;
    l_U1690[5]._fU104 = 5000.00000000;
    l_U1690[5]._fU108 = 62;
    l_U1690[5]._fU120 = 0.00000000;
    l_U1690[5]._fU124 = 0.00000000;
    l_U1690[5]._fU112 = 0;
    l_U1690[5]._fU116 = 0;
    l_U1690[5]._fU144 = "eMB_FromCentreA1";
    l_U2413[5] = 28500.00000000;
    l_U4011[5] = 2;
    l_U2433[5][0]._fU60 = 1194438308;
    l_U2433[5][0]._fU64 = 2;
    l_U2433[5][0]._fU68 = "RSG_Mangrove_Gunners[eMB_FromCentreA1][0]";
    l_U2433[5][1]._fU60 = -1074756423;
    l_U2433[5][1]._fU64 = 1;
    l_U2433[5][1]._fU68 = "RSG_Mangrove_Gunners[eMB_FromCentreA1][1]";
    l_U1690[14]._fU88 = {0.50000000, -2556.00000000, 0.00000000};
    l_U1690[14]._fU100 = 165.00000000;
    l_U1690[14]._fU104 = 1000.00000000;
    l_U1690[14]._fU108 = 62;
    l_U1690[14]._fU120 = 0.00000000;
    l_U1690[14]._fU124 = 0.00000000;
    l_U1690[14]._fU112 = 0;
    l_U1690[14]._fU116 = 0;
    l_U1690[14]._fU144 = "eMB_FromCentreA2";
    l_U2413[14] = 83900.00000000;
    l_U4011[14] = 2;
    l_U2433[14][0]._fU60 = -1074756423;
    l_U2433[14][0]._fU64 = 0;
    l_U2433[14][0]._fU68 = "RSG_Mangrove_Gunners[eMB_FromCentreA2][0]";
    l_U2433[14][1]._fU60 = 1194438308;
    l_U2433[14][1]._fU64 = 2;
    l_U2433[14][1]._fU68 = "RSG_Mangrove_Gunners[eMB_FromCentreA2][1]";
    l_U1690[6]._fU88 = {-16.88000000, -2575.64000000, 0.00000000};
    l_U1690[6]._fU100 = 100.00000000;
    l_U1690[6]._fU104 = 3000.00000000;
    l_U1690[6]._fU108 = 63;
    l_U1690[6]._fU120 = 0.00000000;
    l_U1690[6]._fU124 = 0.00000000;
    l_U1690[6]._fU112 = 0;
    l_U1690[6]._fU116 = 0;
    l_U1690[6]._fU144 = "eMB_FromCentreB1";
    l_U2413[6] = 37000.00000000;
    l_U4011[6] = 1;
    l_U2433[6][0]._fU60 = 68019059;
    l_U2433[6][0]._fU64 = 2;
    l_U2433[6][0]._fU68 = "RSG_Mangrove_Gunners[eMB_FromCentreB1][0]";
    l_U1690[15]._fU88 = {-16.88000000, -2575.64000000, 0.00000000};
    l_U1690[15]._fU100 = 100.00000000;
    l_U1690[15]._fU104 = 3000.00000000;
    l_U1690[15]._fU108 = 63;
    l_U1690[15]._fU120 = 0.00000000;
    l_U1690[15]._fU124 = 0.00000000;
    l_U1690[15]._fU112 = 0;
    l_U1690[15]._fU116 = 0;
    l_U1690[15]._fU144 = "eMB_FromCentreB2";
    l_U2413[15] = 97500.00000000;
    l_U4011[15] = 2;
    l_U2433[15][0]._fU60 = -168327769;
    l_U2433[15][0]._fU64 = 0;
    l_U2433[15][0]._fU68 = "RSG_Mangrove_Gunners[eMB_FromCentreB2][0]";
    l_U2433[15][1]._fU60 = -1074756423;
    l_U2433[15][1]._fU64 = 1;
    l_U2433[15][1]._fU68 = "RSG_Mangrove_Gunners[eMB_FromCentreB2][1]";
    l_U1690[7]._fU88 = {-46.55000000, -2541.01000000, 0.00000000};
    l_U1690[7]._fU100 = 100.00000000;
    l_U1690[7]._fU104 = 2500.00000000;
    l_U1690[7]._fU108 = 64;
    l_U1690[7]._fU120 = 0.00000000;
    l_U1690[7]._fU124 = 0.00000000;
    l_U1690[7]._fU112 = 0;
    l_U1690[7]._fU116 = 0;
    l_U1690[7]._fU144 = "eMB_FromCentreC1";
    l_U2413[7] = 45400.00000000;
    l_U4011[7] = 1;
    l_U2433[7][0]._fU60 = -1074756423;
    l_U2433[7][0]._fU64 = 1;
    l_U2433[7][0]._fU68 = "RSG_Mangrove_Gunners[eMB_FromCentreC1][0]";
    l_U1690[16]._fU88 = {-46.55000000, -2541.01000000, 0.00000000};
    l_U1690[16]._fU100 = 100.00000000;
    l_U1690[16]._fU104 = 2500.00000000;
    l_U1690[16]._fU108 = 64;
    l_U1690[16]._fU120 = 0.00000000;
    l_U1690[16]._fU124 = 0.00000000;
    l_U1690[16]._fU112 = 0;
    l_U1690[16]._fU116 = 0;
    l_U1690[16]._fU144 = "eMB_FromCentreC2";
    l_U2413[16] = 104700.00000000;
    l_U4011[16] = 1;
    l_U2433[16][0]._fU60 = -1074756423;
    l_U2433[16][0]._fU64 = 1;
    l_U2433[16][0]._fU68 = "RSG_Mangrove_Gunners[eMB_FromCentreC2][0]";
    l_U1690[8]._fU88 = {-41.26000000, -2524.19000000, 0.00000000};
    l_U1690[8]._fU100 = -15.00000000;
    l_U1690[8]._fU104 = 2000.00000000;
    l_U1690[8]._fU108 = 103;
    l_U1690[8]._fU120 = 0.00000000;
    l_U1690[8]._fU124 = 0.00000000;
    l_U1690[8]._fU112 = 0;
    l_U1690[8]._fU116 = 0;
    l_U1690[8]._fU144 = "eMB_FromCentreD1";
    l_U2413[8] = 52000.00000000;
    l_U4011[8] = 2;
    l_U2433[8][0]._fU60 = -168327769;
    l_U2433[8][0]._fU64 = 0;
    l_U2433[8][0]._fU68 = "RSG_Mangrove_Gunners[eMB_FromCentreD1][0]";
    l_U2433[8][1]._fU60 = -1074756423;
    l_U2433[8][1]._fU64 = 1;
    l_U2433[8][1]._fU68 = "RSG_Mangrove_Gunners[eMB_FromCentreD1][1]";
    l_U1690[3]._fU88 = {-5.51000000, -2545.46000000, 0.00000000};
    l_U1690[3]._fU100 = -70.00000000;
    l_U1690[3]._fU104 = 3500.00000000;
    l_U1690[3]._fU108 = 125;
    l_U1690[3]._fU120 = 0.00000000;
    l_U1690[3]._fU124 = 0.00000000;
    l_U1690[3]._fU112 = 0;
    l_U1690[3]._fU116 = 0;
    l_U1690[3]._fU144 = "eMB_FromCentreE1";
    l_U2413[3] = 10300.00000000;
    l_U4011[3] = 1;
    l_U2433[3][0]._fU60 = 1194438308;
    l_U2433[3][0]._fU64 = 2;
    l_U2433[3][0]._fU68 = "RSG_Mangrove_Gunners[eMB_FromCentreE1][0]";
    l_U1690[9]._fU88 = {-78.78000000, -2438.87000000, 0.00000000};
    l_U1690[9]._fU100 = -95.00000000;
    l_U1690[9]._fU104 = 2000.00000000;
    l_U1690[9]._fU108 = 167;
    l_U1690[9]._fU120 = 0.00000000;
    l_U1690[9]._fU124 = 0.00000000;
    l_U1690[9]._fU112 = 0;
    l_U1690[9]._fU116 = 0;
    l_U1690[9]._fU144 = "eMB_TributaryA1";
    l_U2413[9] = 50000.00000000;
    l_U4011[9] = 1;
    l_U2433[9][0]._fU60 = -1074756423;
    l_U2433[9][0]._fU64 = 0;
    l_U2433[9][0]._fU68 = "RSG_Mangrove_Gunners[eMB_TributaryA1][0]";
    l_U1690[17]._fU88 = {-78.78000000, -2438.87000000, 0.00000000};
    l_U1690[17]._fU100 = -95.00000000;
    l_U1690[17]._fU104 = 2000.00000000;
    l_U1690[17]._fU108 = 167;
    l_U1690[17]._fU120 = 0.00000000;
    l_U1690[17]._fU124 = 0.00000000;
    l_U1690[17]._fU112 = 0;
    l_U1690[17]._fU116 = 0;
    l_U1690[17]._fU144 = "eMB_TributaryA2";
    l_U2413[17] = 115700.00000000;
    l_U4011[17] = 2;
    l_U2433[17][0]._fU60 = -1074756423;
    l_U2433[17][0]._fU64 = 0;
    l_U2433[17][0]._fU68 = "RSG_Mangrove_Gunners[eMB_TributaryA2][0]";
    l_U2433[17][1]._fU60 = -1074756423;
    l_U2433[17][1]._fU64 = 1;
    l_U2433[17][1]._fU68 = "RSG_Mangrove_Gunners[eMB_TributaryA2][1]";
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_SETUP_MANGROVE_BOAT_ARRAYS end", 0 );
    return;
}

/* P_SETUP_MANGROVE_FLAVOUR_BOATS */ void sub_4092()
{
    l_U4082[0]._fU0._fU88 = {-32.78000000, -2426.71000000, 0.00000000};
    l_U4082[0]._fU0._fU100 = -90.00000000;
    l_U4082[0]._fU0._fU104 = 0.00000000;
    l_U4082[0]._fU0._fU108 = 251;
    l_U4082[0]._fU0._fU120 = 0.00000000;
    l_U4082[0]._fU0._fU124 = 0.00000000;
    l_U4082[0]._fU0._fU112 = 0;
    l_U4082[0]._fU0._fU116 = 0;
    l_U4082[0]._fU0._fU144 = "Mangrove_Flavour_Boat_1";
    l_U4082[0]._fU0._fU84 = "M5A_CS_119_Avg";
    l_U4082[0]._fU152 = 53000.00000000;
    l_U4082[0]._fU156 = 0;
    l_U4082[0]._fU160 = 0;
    l_U4082[0]._fU164 = 0;
    l_U4082[0]._fU172 = 0;
    l_U4082[0]._fU176 = 1;
    l_U4082[0]._fU180[0]._fU56 = "M5A_CS_122_Avg";
    l_U4082[0]._fU180[0]._fU60 = 1194438308;
    l_U4082[0]._fU180[0]._fU64 = 5;
    l_U4082[0]._fU168 = 1;
    l_U4082[0]._fU512 = 0.80000000;
    l_U4082[1]._fU0._fU88 = {23.69000000, -2624.01000000, 0.00000000};
    l_U4082[1]._fU0._fU100 = -90.00000000;
    l_U4082[1]._fU0._fU104 = 4000.00000000;
    l_U4082[1]._fU0._fU108 = 252;
    l_U4082[1]._fU0._fU120 = 0.00000000;
    l_U4082[1]._fU0._fU124 = 0.00000000;
    l_U4082[1]._fU0._fU112 = 0;
    l_U4082[1]._fU0._fU116 = 0;
    l_U4082[1]._fU0._fU144 = "Mangrove_Flavour_Boat_2";
    l_U4082[1]._fU0._fU84 = "M5A_CS_119_Avg";
    l_U4082[1]._fU152 = 69000.00000000;
    l_U4082[1]._fU156 = 0;
    l_U4082[1]._fU160 = 0;
    l_U4082[1]._fU164 = 0;
    l_U4082[1]._fU172 = 1;
    l_U4082[1]._fU176 = 2;
    l_U4082[1]._fU180[0]._fU56 = "M5A_CS_123_Mus";
    l_U4082[1]._fU180[0]._fU60 = -1074756423;
    l_U4082[1]._fU180[0]._fU64 = 47;
    l_U4082[1]._fU180[1]._fU56 = "M5A_CS_124_Avg";
    l_U4082[1]._fU180[1]._fU60 = -1074756423;
    l_U4082[1]._fU180[1]._fU64 = 46;
    l_U4082[1]._fU168 = 1;
    l_U4082[1]._fU512 = 1.10000000;
    l_U4082[2]._fU0._fU88 = {-80.42000000, -2559.51000000, 0.00000000};
    l_U4082[2]._fU0._fU100 = -90.00000000;
    l_U4082[2]._fU0._fU104 = 0.00000000;
    l_U4082[2]._fU0._fU108 = 253;
    l_U4082[2]._fU0._fU120 = 0.00000000;
    l_U4082[2]._fU0._fU124 = 0.00000000;
    l_U4082[2]._fU0._fU112 = 0;
    l_U4082[2]._fU0._fU116 = 0;
    l_U4082[2]._fU0._fU144 = "Mangrove_Flavour_Boat_3";
    l_U4082[2]._fU0._fU84 = "M5A_CS_119_Avg";
    l_U4082[2]._fU152 = 27500.00000000;
    l_U4082[2]._fU156 = 0;
    l_U4082[2]._fU160 = 1;
    l_U4082[2]._fU164 = 0;
    l_U4082[2]._fU172 = 1;
    l_U4082[2]._fU176 = 0;
    l_U4082[2]._fU168 = 0;
    l_U4082[2]._fU512 = l_U1660;
    l_U4082[3]._fU0._fU88 = {-52.16000000, -2575.29000000, 0.00000000};
    l_U4082[3]._fU0._fU100 = -90.00000000;
    l_U4082[3]._fU0._fU104 = 0.00000000;
    l_U4082[3]._fU0._fU108 = 254;
    l_U4082[3]._fU0._fU120 = 0.00000000;
    l_U4082[3]._fU0._fU124 = 0.00000000;
    l_U4082[3]._fU0._fU112 = 0;
    l_U4082[3]._fU0._fU116 = 0;
    l_U4082[3]._fU0._fU144 = "Mangrove_Flavour_Boat_4";
    l_U4082[3]._fU0._fU84 = "M5A_CS_120_Avg";
    l_U4082[3]._fU152 = 74000.00000000;
    l_U4082[3]._fU156 = 0;
    l_U4082[3]._fU160 = 0;
    l_U4082[3]._fU164 = 0;
    l_U4082[3]._fU172 = 0;
    l_U4082[3]._fU176 = 1;
    l_U4082[3]._fU180[0]._fU56 = "M5A_CS_125_Mus";
    l_U4082[3]._fU180[0]._fU60 = 1194438308;
    l_U4082[3]._fU180[0]._fU64 = 5;
    l_U4082[3]._fU168 = 0;
    l_U4082[3]._fU512 = 0.70000000;
    l_U4082[4]._fU0._fU88 = {-17.51000000, -2460.00000000, 0.00000000};
    l_U4082[4]._fU0._fU100 = -90.00000000;
    l_U4082[4]._fU0._fU104 = 3000.00000000;
    l_U4082[4]._fU0._fU108 = 258;
    l_U4082[4]._fU0._fU120 = 0.00000000;
    l_U4082[4]._fU0._fU124 = 0.00000000;
    l_U4082[4]._fU0._fU112 = 0;
    l_U4082[4]._fU0._fU116 = 0;
    l_U4082[4]._fU0._fU144 = "Mangrove_Flavour_Boat_5";
    l_U4082[4]._fU0._fU84 = "M5A_CS_119_Avg";
    l_U4082[4]._fU152 = 107500.00000000;
    l_U4082[4]._fU156 = 0;
    l_U4082[4]._fU160 = 0;
    l_U4082[4]._fU164 = 0;
    l_U4082[4]._fU172 = 1;
    l_U4082[4]._fU176 = 1;
    l_U4082[4]._fU180[0]._fU56 = "M5A_CS_124_Avg";
    l_U4082[4]._fU180[0]._fU60 = -1074756423;
    l_U4082[4]._fU180[0]._fU64 = 47;
    l_U4082[4]._fU168 = 1;
    l_U4082[4]._fU512 = l_U1660;
    l_U4082[5]._fU0._fU88 = {14.64000000, -2641.11000000, 0.00000000};
    l_U4082[5]._fU0._fU100 = -90.00000000;
    l_U4082[5]._fU0._fU104 = 0.00000000;
    l_U4082[5]._fU0._fU108 = 256;
    l_U4082[5]._fU0._fU120 = 0.00000000;
    l_U4082[5]._fU0._fU124 = 0.00000000;
    l_U4082[5]._fU0._fU112 = 0;
    l_U4082[5]._fU0._fU116 = 0;
    l_U4082[5]._fU0._fU144 = "Mangrove_Flavour_Boat_6";
    l_U4082[5]._fU0._fU84 = "M5A_CS_052_AVG";
    l_U4082[5]._fU152 = 18500.00000000;
    l_U4082[5]._fU156 = 0;
    l_U4082[5]._fU160 = 0;
    l_U4082[5]._fU164 = 0;
    l_U4082[5]._fU172 = 1;
    l_U4082[5]._fU176 = 1;
    l_U4082[5]._fU180[0]._fU56 = "M5A_CS_081_MUS";
    l_U4082[5]._fU180[0]._fU60 = 1194438308;
    l_U4082[5]._fU180[0]._fU64 = 46;
    l_U4082[5]._fU168 = 0;
    l_U4082[5]._fU512 = l_U1660;
    return;
}

/* P_SETUP_UNDERPIER_BOAT_ARRAYS */ void sub_14044()
{
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_SETUP_UNDERPIER_BOAT_ARRAYS start", 0 );
    l_U4930[0]._fU88 = {318.32000000, -2817.35000000, 0.00000000};
    l_U4930[0]._fU100 = 160.00000000;
    l_U4930[0]._fU104 = l_U4927 - 9850;
    l_U4930[0]._fU108 = 201;
    l_U4930[0]._fU120 = 0.00000000;
    l_U4930[0]._fU124 = 0.00000000;
    l_U4930[0]._fU112 = 0;
    l_U4930[0]._fU116 = 0;
    l_U4930[0]._fU144 = "ePB_SideA";
    l_U4930[0]._fU148 = 20;
    l_U4930[1]._fU88 = {329.72000000, -2799.22000000, 0.00000000};
    l_U4930[1]._fU100 = 160.00000000;
    l_U4930[1]._fU104 = l_U4927 - 4350;
    l_U4930[1]._fU108 = 203;
    l_U4930[1]._fU120 = 0.00000000;
    l_U4930[1]._fU124 = 0.00000000;
    l_U4930[1]._fU112 = 0;
    l_U4930[1]._fU116 = 0;
    l_U4930[1]._fU144 = "ePB_SideB";
    l_U4930[1]._fU148 = 21;
    l_U4930[2]._fU88 = {329.72000000, -2799.22000000, 0.00000000};
    l_U4930[2]._fU100 = 160.00000000;
    l_U4930[2]._fU104 = 1000.00000000;
    l_U4930[2]._fU108 = 305;
    l_U4930[2]._fU120 = 0.00000000;
    l_U4930[2]._fU124 = 0.00000000;
    l_U4930[2]._fU112 = 0;
    l_U4930[2]._fU116 = 0;
    l_U4930[2]._fU144 = "ePB_SideC";
    l_U4930[2]._fU148 = 22;
    l_U5045[0]._fU88 = {309.00000000, -2881.00000000, 0.00000000};
    l_U5045[0]._fU100 = 125.00000000;
    l_U5045[0]._fU104 = 9800.00000000;
    l_U5045[0]._fU108 = 168;
    l_U5045[0]._fU120 = 0.00000000;
    l_U5045[0]._fU124 = 0.00000000;
    l_U5045[0]._fU112 = 0;
    l_U5045[0]._fU116 = 0;
    l_U5045[0]._fU144 = "ePLB_Escort";
    l_U5045[0]._fU148 = 2;
    l_U5045[1]._fU88 = {216.06000000, -2952.21000000, -0.37000000};
    l_U5045[1]._fU100 = 100.00000000;
    l_U5045[1]._fU104 = 9500.00000000;
    l_U5045[1]._fU108 = 206;
    l_U5045[1]._fU120 = 0.00000000;
    l_U5045[1]._fU124 = 0.00000000;
    l_U5045[1]._fU112 = 0;
    l_U5045[1]._fU116 = 0;
    l_U5045[1]._fU144 = "ePLB_Serrano";
    l_U5045[1]._fU148 = 1;
    l_U5703[0]._fU88 = {l_U5814};
    l_U5703[0]._fU100 = l_U5817;
    l_U5703[0]._fU104 = l_U5818;
    l_U5703[0]._fU108 = l_U5813;
    l_U5703[0]._fU120 = 0.00000000;
    l_U5703[0]._fU124 = 0.00000000;
    l_U5703[0]._fU112 = 0;
    l_U5703[0]._fU116 = 0;
    l_U5703[0]._fU144 = "eMPM_Serrano";
    l_U5703[0]._fU148 = 1;
    l_U5123[0]._fU60 = -1074756423;
    l_U5123[0]._fU64 = 2;
    l_U5123[0]._fU68 = "RSG_UP_Gunners[0]";
    l_U5123[1]._fU60 = 1194438308;
    l_U5123[1]._fU64 = 1;
    l_U5123[1]._fU68 = "RSG_UP_Gunners[1]";
    l_U5123[2]._fU60 = 1194438308;
    l_U5123[2]._fU64 = 2;
    l_U5123[2]._fU68 = "RSG_UP_Gunners[2]";
    l_U5123[3]._fU60 = -1074756423;
    l_U5123[3]._fU64 = 1;
    l_U5123[3]._fU68 = "RSG_UP_Gunners[3]";
    l_U5123[4]._fU60 = -168327769;
    l_U5123[4]._fU64 = 1;
    l_U5123[4]._fU68 = "RSG_UP_Gunners[4]";
    l_U5123[5]._fU60 = 1194438308;
    l_U5123[5]._fU64 = 30;
    l_U5123[5]._fU68 = "RSG_UP_Gunners[5]";
    l_U5123[6]._fU60 = 68019059;
    l_U5123[6]._fU64 = 28;
    l_U5123[6]._fU68 = "RSG_UP_Gunners[6]";
    l_U5123[7]._fU60 = -168327769;
    l_U5123[7]._fU64 = 29;
    l_U5123[7]._fU68 = "RSG_UP_Gunners[7]";
    l_U5123[8]._fU60 = 1194438308;
    l_U5123[8]._fU64 = 31;
    l_U5123[8]._fU68 = "RSG_UP_Gunners[8]";
    l_U5123[9]._fU60 = 1194438308;
    l_U5123[9]._fU64 = 31;
    l_U5123[9]._fU68 = "RSG_UP_Gunners[9]";
    l_U5123[10]._fU60 = 1194438308;
    l_U5123[10]._fU64 = 28;
    l_U5123[10]._fU68 = "RSG_UP_Gunners[10]";
    l_U5822[0]._fU60 = 68019059;
    l_U5822[0]._fU64 = 38;
    l_U5822[0]._fU68 = "RSG_Serrano_Gunners[0]";
    l_U5822[1]._fU60 = 1194438308;
    l_U5822[1]._fU64 = 37;
    l_U5822[1]._fU68 = "RSG_Serrano_Gunners[1]";
    l_U5822[2]._fU60 = -1074756423;
    l_U5822[2]._fU64 = 40;
    l_U5822[2]._fU68 = "RSG_Serrano_Gunners[2]";
    l_U5822[3]._fU60 = -1074756423;
    l_U5822[3]._fU64 = 39;
    l_U5822[3]._fU68 = "RSG_Serrano_Gunners[3]";
    l_U5822[4]._fU60 = 1194438308;
    l_U5822[4]._fU64 = 41;
    l_U5822[4]._fU68 = "RSG_Serrano_Gunners[4]";
    l_U5822[5]._fU60 = 1194438308;
    l_U5822[5]._fU64 = 42;
    l_U5822[5]._fU68 = "RSG_Serrano_Gunners[5]";
    l_U5822[6]._fU60 = 1194438308;
    l_U5822[6]._fU64 = 43;
    l_U5822[6]._fU68 = "RSG_Serrano_Gunners[6]";
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_SETUP_UNDERPIER_BOAT_ARRAYS end", 0 );
    return;
}

/* P_SETUP_STATIC_DATA */ void sub_16653()
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_SETUP_STATIC_DATA start", 0 );
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U854, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U880, 26, 6, 0, 0, 0 );
     /* P_SETUP_VEHICLE_ATTACH_POINT_STATIC_DATA */ sub_16871();
     /* P_SETUP_MANGROVE_STATIC_DATA */ sub_19666();
     /* P_SETUP_UNDERPIER_STATIC_DATA */ sub_20652();
     /* P_SETUP_PIERJUMPMPM_STATIC_DATA */ sub_21999();
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_SETUP_STATIC_DATA end", 0 );
    return;
}

/* P_CREATEPEDSTRUCT */ void sub_16758(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU12 = uParam4;
    iParam0->_fU16 = uParam5;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU48 = uParam10;
    return;
}

/* P_SETUP_VEHICLE_ATTACH_POINT_STATIC_DATA */ void sub_16871()
{
    l_U1252[0] = {-0.20000000, 0.06000000, 1.05000000};
    l_U1252[1] = {-0.46200000, -1.36300000, 0.96000000};
    l_U1252[2] = {0.57900000, -1.12600000, 1.07000000};
    l_U1252[3] = {-0.37300000, 0.06000000, 1.09100000};
    l_U1252[4] = {-0.57300000, -0.97100000, 1.05000000};
    l_U1252[5] = {0.63000000, -1.31000000, 1.05000000};
    l_U1252[6] = {-1.20000000, 0.30000000, 3.95000000};
    l_U1252[7] = {0.70000000, 0.50000000, 3.95000000};
    l_U1252[8] = {-0.50000000, -3.00000000, 1.80000000};
    l_U1252[9] = {-0.50000000, -1.30000000, 1.80000000};
    l_U1252[10] = {-1.70000000, -2.00000000, 1.80000000};
    l_U1252[11] = {-0.90000000, -5.00000000, 1.80000000};
    l_U1252[12] = {-1.00000000, -4.00000000, 1.80000000};
    l_U1252[13] = {-1.00000000, -4.00000000, 1.80000000};
    l_U1252[14] = {1.70000000, -2.00000000, 1.80000000};
    l_U1252[15] = {0.00000000, -4.50000000, 1.80000000};
    l_U1252[16] = {0.50000000, -3.00000000, 1.80000000};
    l_U1252[17] = {1.00000000, -4.00000000, 1.80000000};
    l_U1252[18] = {1.50000000, -5.20000000, 1.80000000};
    l_U1252[19] = {0.90000000, -5.00000000, 1.80000000};
    l_U1252[33] = {-0.50000000, -0.75000000, 1.07000000};
    l_U1252[34] = {0.20000000, -1.90000000, 1.07000000};
    l_U1252[35] = {-0.20000000, -1.10000000, 1.07000000};
    l_U1252[36] = {0.50000000, -1.60000000, 1.07000000};
    l_U1252[20] = {-0.50000000, -2.00000000, 1.70000000};
    l_U1252[21] = {0.50000000, -2.00000000, 1.70000000};
    l_U1252[22] = {-1.50000000, -3.00000000, 2.10000000};
    l_U1252[23] = {1.50000000, -4.00000000, 2.10000000};
    l_U1252[24] = {-1.50000000, -2.00000000, 2.10000000};
    l_U1252[25] = {1.50000000, -2.00000000, 2.10000000};
    l_U1252[26] = {-0.50000000, 1.60000000, 1.50000000};
    l_U1252[27] = {0.00000000, -3.50000000, 1.67000000};
    l_U1252[31] = {1.50000000, -3.70000000, 1.95000000};
    l_U1252[30] = {-1.50000000, -3.30000000, 1.95000000};
    l_U1252[28] = {-1.30000000, -2.10000000, 1.95000000};
    l_U1252[29] = {1.00000000, -0.50000000, 1.70000000};
    l_U1252[32] = {0.00000000, 0.00000000, 1.70000000};
    l_U1252[37] = {-1.34000000, -0.60000000, 1.80000000};
    l_U1252[39] = {0.80000000, -4.20000000, 1.65400000};
    l_U1252[41] = {-0.50000000, -4.25000000, 1.65400000};
    l_U1252[40] = {-1.50000000, -3.55000000, 1.90000000};
    l_U1252[38] = {0.20000000, -0.60000000, 1.66000000};
    l_U1252[42] = {-1.50000000, -2.30000000, 1.90000000};
    l_U1252[43] = {0.80000000, -3.20000000, 1.65400000};
    l_U1252[44] = {1.10000000, -2.20000000, 1.36000000};
    l_U1252[45] = {0.60000000, -0.55000000, 1.00000000};
    l_U1252[46] = {0.50000000, -2.00000000, 1.10000000};
    l_U1252[47] = {-0.60000000, -1.80000000, 1.10000000};
    l_U1455[0] = 135.00000000;
    l_U1455[1] = 0.00000000;
    l_U1455[2] = 90.00000000;
    l_U1455[3] = 270.00000000;
    l_U1455[4] = 180.00000000;
    l_U1455[5] = -90.00000000;
    l_U1455[6] = -90.00000000;
    l_U1463[0] = 175.00000000;
    l_U1463[1] = -1.87346600;
    l_U1463[2] = 75.00000000;
    l_U1463[3] = -90.00000000;
    l_U1463[4] = 0.00000000;
    l_U1463[5] = 21.48000000;
    l_U1463[6] = 24.00000000;
    l_U1471[0] = -5.00000000;
    l_U1471[1] = 8.82083400;
    l_U1471[2] = 0.00000000;
    l_U1471[3] = -6.00000000;
    l_U1471[4] = 0.00000000;
    l_U1471[5] = 8.00000000;
    l_U1471[6] = -10.77542000;
    l_U1421[0] = "/Global/s_marina_drv/MAXBOAT/MAXBOAT_IDLE/STANCE_BACK_LEFT";
    l_U1421[1] = "/Global/s_marina_drv/MAXBOAT/MAXBOAT_IDLE/STANCE_BACK_RIGHT";
    l_U1421[2] = "/Global/s_marina_drv/MAXBOAT/MAXBOAT_IDLE/STANCE_FRONT";
    l_U1421[3] = "/Global/s_marina_drv/MAXBOAT/MAXBOAT_IDLE/STANCE_BACK";
    l_U1421[4] = "/Global/s_marina_drv/MAXBOAT/MAXBOAT_IDLE/STANCE_LEFT";
    l_U1421[5] = "/Global/s_marina_drv/MAXBOAT/MAXBOAT_IDLE/STANCE_RIGHT";
    l_U1421[6] = "/Global/s_marina_drv/MAXBOAT/MAXBOAT_IDLE/STANCE_BACK_RIGHT_TO_LEFT";
    l_U1421[7] = "/Global/s_marina_drv/MAXBOAT/MAXBOAT_IDLE/STANCE_MPM/COMBAT/STANCE_MPM_COMBAT";
    l_U1430[0][0] = "RIFLE_AIM_CAMERA_BOAT_BACK_LEFT";
    l_U1430[0][1] = "RIFLE_AIM_CAMERA_BOAT_BACK_LEFT";
    l_U1430[1][0] = "RIFLE_AIM_CAMERA_BOAT_BACK_RIGHT";
    l_U1430[1][1] = "RIFLE_AIM_CAMERA_BOAT_BACK_RIGHT";
    l_U1430[2][0] = "RIFLE_AIM_CAMERA_BOAT_FRONT";
    l_U1430[2][1] = "RIFLE_AIM_CAMERA_BOAT_FRONT";
    l_U1430[3][0] = "RIFLE_AIM_CAMERA_BOAT";
    l_U1430[3][1] = "RIFLE_AIM_CAMERA_BOAT";
    l_U1430[4][0] = "RIFLE_AIM_CAMERA_BOAT_LEFT";
    l_U1430[4][1] = "RIFLE_AIM_CAMERA_BOAT_LEFT";
    l_U1430[5][0] = "RIFLE_AIM_CAMERA_BOAT_RIGHT";
    l_U1430[5][1] = "RIFLE_AIM_CAMERA_BOAT_RIGHT";
    l_U1430[6][0] = "RIFLE_AIM_CAMERA_BOAT_BACK_RIGHT";
    l_U1430[6][1] = "RIFLE_AIM_CAMERA_BOAT_BACK_RIGHT";
    l_U1430[7][0] = "RIFLE_AIM_CAMERA_BOAT_MPM";
    l_U1430[7][1] = "";
    return;
}

/* P_SETUP_MANGROVE_STATIC_DATA */ void sub_19666()
{
    int J;
    int I;

     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_SETUP_MANGROVE_STATIC_DATA start", 0 );
    for ( J = 0; J < 19; J++ )
    {
        for ( I = 0; I < l_U4011[J]; I++ )
        {
             /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U2433[J][I]._fU0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
        }
    }
    for ( J = 0; J < 19; J++ )
    {
         /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U1690[J]._fU4, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    }
    for ( J = 0; J < 6; J++ )
    {
         /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U4082[J]._fU0._fU4, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
        for ( I = 0; I < l_U4082[J]._fU176; I++ )
        {
             /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U4082[J]._fU180[I]._fU0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
        }
    }
    l_U4049[0] = "M5A_CS_107_Avg";
    l_U4049[1] = "M5A_CS_109_Avg";
    l_U4049[2] = "M5A_CS_111_Avg";
    l_U4049[3] = "M5A_CS_113_Mus";
    l_U4049[4] = "M5A_CS_115_Mus";
    l_U4049[5] = "M5A_CS_117_Avg";
    l_U4056[0] = "M5A_CS_108_Mus";
    l_U4056[1] = "M5A_CS_110_Mus";
    l_U4056[2] = "M5A_CS_112_Avg";
    l_U4056[3] = "M5A_CS_114_Avg";
    l_U4056[4] = "M5A_CS_116_Avg";
    l_U4056[5] = "M5A_CS_118_Mus";
    l_U4056[6] = "M5A_CS_108_Mus";
    l_U4056[7] = "M5A_CS_110_Mus";
    l_U4056[8] = "M5A_CS_112_Avg";
    l_U4056[9] = "M5A_CS_114_Avg";
    l_U4056[10] = "M5A_CS_116_Avg";
    l_U4056[11] = "M5A_CS_121_Mus";
    l_U4056[12] = "M5A_CS_108_Mus";
    l_U4056[13] = "M5A_CS_110_Mus";
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_SETUP_MANGROVE_STATIC_DATA end", 0 );
    return;
}

/* P_SETUP_UNDERPIER_STATIC_DATA */ void sub_20652()
{
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_SETUP_UNDERPIER_STATIC_DATA start", 0 );
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U4930[0]._fU4, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U4930[0]._fU84 = "M5A_CS_130_Avg";
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U4930[1]._fU4, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U4930[1]._fU84 = "M5A_CS_133_Mus";
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U4930[2]._fU4, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U4930[2]._fU84 = "M5A_CS_033_Mus";
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U5123[0]._fU0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U5123[0]._fU56 = "M5A_CS_127_Avg";
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U5123[1]._fU0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U5123[1]._fU56 = "M5A_CS_128_Mus";
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U5123[2]._fU0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U5123[2]._fU56 = "M5A_CS_135_Avg";
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U5123[3]._fU0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U5123[3]._fU56 = "M5A_CS_132_Avg";
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U5123[4]._fU0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U5123[4]._fU56 = "M5A_CS_135_Avg";
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U5045[1]._fU4, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U881, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U5045[0]._fU4, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U5045[0]._fU84 = "M5A_CS_126_Avg";
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U5123[5]._fU0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U5123[5]._fU56 = "M5A_CS_131_Avg";
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U5123[6]._fU0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U5123[6]._fU56 = "M5A_CS_123_Mus";
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U5123[7]._fU0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U5123[7]._fU56 = "M5A_CS_124_Avg";
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U5123[8]._fU0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U5123[8]._fU56 = "M5A_CS_125_Mus";
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U5123[9]._fU0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U5123[9]._fU56 = "M5A_CS_031_Mus";
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U5123[10]._fU0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U5123[10]._fU56 = "M5A_CS_032_Avg";
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_SETUP_UNDERPIER_STATIC_DATA end", 0 );
    return;
}

/* P_SETUP_PIERJUMPMPM_STATIC_DATA */ void sub_21999()
{
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_SETUP_PIERJUMPMPM_STATIC_DATA start", 0 );
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U5703[0]._fU4, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U881, 4, 1, 1, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_22174( ref l_U6111, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 516057477, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U5822[0]._fU0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U5822[0]._fU56 = "M5A_CS_136_Avg";
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U5822[1]._fU0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U5822[1]._fU56 = "M5A_CS_137_Mus";
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U5822[2]._fU0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U5822[2]._fU56 = "M5A_CS_138_Avg";
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U5822[3]._fU0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U5822[3]._fU56 = "M5A_CS_139_Mus";
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U5822[4]._fU0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U5822[4]._fU56 = "M5A_CS_140_Avg";
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U5822[5]._fU0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U5822[5]._fU56 = "M5A_CS_141_Avg";
     /* P_CREATEPEDSTRUCT */ sub_16758( ref l_U5822[6]._fU0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U883, 7, 3, 2, 0, 0 );
    l_U5822[6]._fU56 = "M5A_CS_142_Mus";
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_SETUP_PIERJUMPMPM_STATIC_DATA end", 0 );
    return;
}

/* P_CREATEPEDSTRUCTWITHNAME */ void sub_22174(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU20 = uParam5;
    iParam0->_fU12 = uParam4;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU16 = GET_SCENE_PED_MODEL( uParam5 );
    iParam0->_fU48 = uParam10;
    return;
}

/* P_INITIALIZE_SCRIPT_DATA */ void sub_22950()
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_INITIALIZE_SCRIPT_DATA start", 0 );
    if (g_U653 == 5)
    {
        l_U852 = 4;
    }
    else if (g_U653 == 6)
    {
        l_U852 = 5;
    }
    else if (g_U653 == 7)
    {
        l_U852 = 6;
    };;;
    l_U6182._fU4 = 0;
    l_U850 = 0;
    l_U1480 = 0;
    l_U1196 = 5;
     /* CREATETIMER */ sub_23130( ref l_U926, 2000, 1, 0 );
     /* CREATETIMER */ sub_23130( ref l_U917, 2000, 1, 0 );
     /* CREATETIMER */ sub_23130( ref l_U944, 2000, 1, 0 );
     /* CREATETIMER */ sub_23130( ref l_U935, 2000, 1, 0 );
    l_U990 = 0;
    l_U992 = 0;
    if (g_U652 >= 5)
    {
        g_U973 = g_U972;
    }
    l_U999 = 0;
    l_U1003 = l_U1002;
    l_U1006 = 0;
     /* CREATETIMER */ sub_23130( ref l_U1128, l_U1127, 1, 0 );
     /* CREATETIMER */ sub_23130( ref l_U1178, l_U1194, 1, 0 );
     /* CREATETIMER */ sub_23130( ref l_U1168, l_U1195, 1, 0 );
     /* CREATETIMER */ sub_23130( ref l_U1137, l_U1146, 1, 0 );
     /* CREATETIMER */ sub_23130( ref l_U1158, l_U1194 - l_U1167, 1, 0 );
     /* DISABLETIMER */ sub_23464( ref l_U953 );
     /* P_INITIALIZE_MANGROVE_DATA */ sub_23509();
     /* P_INITIALIZE_UNDERPIER_DATA */ sub_23781();
     /* P_INITIALIZE_PIERJUMPMPM_DATA */ sub_24091();
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_INITIALIZE_SCRIPT_DATA end", 0 );
    return;
}

/* CREATETIMER */ void sub_23130(int iParam0, unknown uParam1, boolean bParam2, int iParam3)
{
    if (bParam2)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam3 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU12 = uParam1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = bParam2;
    iParam0->_fU32 = iParam3;
    iParam0->_fU8 = 0;
    return;
}

/* DISABLETIMER */ void sub_23464(int iParam0)
{
    iParam0->_fU20 = 0;
    iParam0->_fU16 = 0;
    return;
}

/* P_INITIALIZE_MANGROVE_DATA */ void sub_23509()
{
    int I;

     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_INITIALIZE_MANGROVE_DATA start", 0 );
    l_U1495 = 0;
    for ( I = 0; I < 19; I++ )
    {
        l_U1690[I]._fU112 = 0;
        l_U1690[I]._fU116 = 0;
    }
     /* CREATETIMER */ sub_23130( ref l_U4040, 2000, 1, 0 );
    l_U4036 = 0;
    l_U4037 = 0;
    l_U4072 = 0;
    l_U1683 = -1;
    l_U4910 = 0;
    l_U4908 = 0;
    l_U4907 = 0;
    l_U1666 = 1;
    l_U4921 = 0;
    l_U4923 = 0;
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_INITIALIZE_MANGROVE_DATA end", 0 );
    return;
}

/* P_INITIALIZE_UNDERPIER_DATA */ void sub_23781()
{
    int I;

     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_INITIALIZE_UNDERPIER_DATA start", 0 );
    l_U1496 = 0;
    l_U5587 = 0;
    l_U5588 = 0;
    for ( I = 0; I < 3; I++ )
    {
        l_U4930[I]._fU112 = 0;
        l_U4930[I]._fU116 = 0;
    }
    for ( I = 0; I < 2; I++ )
    {
        l_U5045[I]._fU112 = 0;
        l_U5045[I]._fU116 = 0;
    }
    l_U5586 = 0;
    l_U5122 = 0;
    l_U5576 = 0;
    l_U5616 = 0;
    l_U5619 = 0;
    l_U5613 = 0;
    l_U5615 = 0;
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_INITIALIZE_UNDERPIER_DATA end", 0 );
    return;
}

/* P_INITIALIZE_PIERJUMPMPM_DATA */ void sub_24091()
{
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_INITIALIZE_PIERJUMPMPM_DATA start", 0 );
    l_U5702 = 0;
    l_U6125 = 0;
    l_U6126 = 0;
    l_U6127 = 0;
    l_U6168 = 0;
    l_U6169 = 0;
    l_U6170 = 0;
    l_U6171 = 0;
    l_U1497 = 0;
    l_U6172 = 0;
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_INITIALIZE_PIERJUMPMPM_DATA end", 0 );
    return;
}

/* P_RAIL_INIT_WATER_FX_SETTING_ARRAYS */ void sub_24347()
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_RAIL_INIT_WATER_FX_SETTING_ARRAYS", 0 );
    l_U55[0] = "DRIVING BY THE DOCKS";
    l_U71[0]._fU0 = 1;
    l_U71[0]._fU4 = 0;
    l_U71[0]._fU8 = 1;
    l_U71[0]._fU12 = 0;
    l_U71[0]._fU16 = 1;
    l_U71[0]._fU20 = 0;
    l_U71[0]._fU24 = 1;
    l_U71[0]._fU28 = 0;
    l_U71[0]._fU32 = 0;
    l_U71[0]._fU36 = 1;
    l_U71[0]._fU40 = 0;
    l_U71[0]._fU44 = 0;
    l_U71[0]._fU48 = 0;
    l_U71[0]._fU52 = 0;
    l_U71[0]._fU56 = 0;
    l_U71[0]._fU60 = 1;
    l_U55[1] = "MID_09_DOCKS";
    l_U71[1]._fU0 = 1;
    l_U71[1]._fU4 = 0;
    l_U71[1]._fU8 = 1;
    l_U71[1]._fU12 = 1;
    l_U71[1]._fU16 = 1;
    l_U71[1]._fU20 = 0;
    l_U71[1]._fU24 = 1;
    l_U71[1]._fU28 = 0;
    l_U71[1]._fU32 = 0;
    l_U71[1]._fU36 = 1;
    l_U71[1]._fU40 = 1;
    l_U71[1]._fU44 = 1;
    l_U71[1]._fU48 = 0;
    l_U71[1]._fU52 = 0;
    l_U71[1]._fU56 = 0;
    l_U71[1]._fU60 = 2;
    l_U55[2] = "MOLOTOV";
    l_U71[2]._fU0 = 1;
    l_U71[2]._fU4 = 0;
    l_U71[2]._fU8 = 1;
    l_U71[2]._fU12 = 0;
    l_U71[2]._fU16 = 1;
    l_U71[2]._fU20 = 0;
    l_U71[2]._fU24 = 1;
    l_U71[2]._fU28 = 0;
    l_U71[2]._fU32 = 0;
    l_U71[2]._fU36 = 0;
    l_U71[2]._fU40 = 0;
    l_U71[2]._fU44 = 0;
    l_U71[2]._fU48 = 0;
    l_U71[2]._fU52 = 0;
    l_U71[2]._fU56 = 0;
    l_U71[2]._fU60 = 3;
    l_U55[3] = "MID_10_DOCKS";
    l_U71[3]._fU0 = 0;
    l_U71[3]._fU4 = 0;
    l_U71[3]._fU8 = 0;
    l_U71[3]._fU12 = 0;
    l_U71[3]._fU16 = 0;
    l_U71[3]._fU20 = 0;
    l_U71[3]._fU24 = 0;
    l_U71[3]._fU28 = 0;
    l_U71[3]._fU32 = 0;
    l_U71[3]._fU36 = 0;
    l_U71[3]._fU40 = 0;
    l_U71[3]._fU44 = 0;
    l_U71[3]._fU48 = 0;
    l_U71[3]._fU52 = 0;
    l_U71[3]._fU56 = 0;
    l_U71[3]._fU60 = 3;
    l_U55[4] = "VILLAGE";
    l_U71[4]._fU0 = 0;
    l_U71[4]._fU4 = 0;
    l_U71[4]._fU8 = 0;
    l_U71[4]._fU12 = 0;
    l_U71[4]._fU16 = 0;
    l_U71[4]._fU20 = 0;
    l_U71[4]._fU24 = 0;
    l_U71[4]._fU28 = 0;
    l_U71[4]._fU32 = 1;
    l_U71[4]._fU36 = 0;
    l_U71[4]._fU40 = 0;
    l_U71[4]._fU44 = 0;
    l_U71[4]._fU48 = 0;
    l_U71[4]._fU52 = 0;
    l_U71[4]._fU56 = 0;
    l_U71[4]._fU60 = 4;
    l_U55[5] = "MID_11_DOCKS";
    l_U71[5]._fU0 = 0;
    l_U71[5]._fU4 = 0;
    l_U71[5]._fU8 = 0;
    l_U71[5]._fU12 = 0;
    l_U71[5]._fU16 = 0;
    l_U71[5]._fU20 = 0;
    l_U71[5]._fU24 = 0;
    l_U71[5]._fU28 = 0;
    l_U71[5]._fU32 = 0;
    l_U71[5]._fU36 = 0;
    l_U71[5]._fU40 = 1;
    l_U71[5]._fU44 = 0;
    l_U71[5]._fU48 = 0;
    l_U71[5]._fU52 = 0;
    l_U71[5]._fU56 = 0;
    l_U71[5]._fU60 = 4;
    l_U55[6] = "TRUCK CHASE";
    l_U71[6]._fU0 = 0;
    l_U71[6]._fU4 = 0;
    l_U71[6]._fU8 = 1;
    l_U71[6]._fU12 = 0;
    l_U71[6]._fU16 = 0;
    l_U71[6]._fU20 = 0;
    l_U71[6]._fU24 = 1;
    l_U71[6]._fU28 = 0;
    l_U71[6]._fU32 = 0;
    l_U71[6]._fU36 = 1;
    l_U71[6]._fU40 = 0;
    l_U71[6]._fU44 = 0;
    l_U71[6]._fU48 = 0;
    l_U71[6]._fU52 = 0;
    l_U71[6]._fU56 = 0;
    l_U71[6]._fU60 = 5;
    l_U55[7] = "MID_12_DOCKS";
    l_U71[7]._fU0 = 1;
    l_U71[7]._fU4 = 0;
    l_U71[7]._fU8 = 1;
    l_U71[7]._fU12 = 0;
    l_U71[7]._fU16 = 0;
    l_U71[7]._fU20 = 0;
    l_U71[7]._fU24 = 1;
    l_U71[7]._fU28 = 0;
    l_U71[7]._fU32 = 0;
    l_U71[7]._fU36 = 1;
    l_U71[7]._fU40 = 1;
    l_U71[7]._fU44 = 1;
    l_U71[7]._fU48 = 0;
    l_U71[7]._fU52 = 0;
    l_U71[7]._fU56 = 0;
    l_U71[7]._fU60 = 6;
    l_U55[8] = "MANGROVE";
    l_U71[8]._fU0 = 1;
    l_U71[8]._fU4 = 0;
    l_U71[8]._fU8 = 1;
    l_U71[8]._fU12 = 0;
    l_U71[8]._fU16 = 1;
    l_U71[8]._fU20 = 0;
    l_U71[8]._fU24 = 1;
    l_U71[8]._fU28 = 0;
    l_U71[8]._fU32 = 0;
    l_U71[8]._fU36 = 1;
    l_U71[8]._fU40 = 0;
    l_U71[8]._fU44 = 0;
    l_U71[8]._fU48 = 0;
    l_U71[8]._fU52 = 0;
    l_U71[8]._fU56 = 0;
    l_U71[8]._fU60 = 7;
    l_U55[9] = "MID_12B_BLENDIN";
    l_U71[9]._fU0 = 0;
    l_U71[9]._fU4 = 0;
    l_U71[9]._fU8 = 1;
    l_U71[9]._fU12 = 0;
    l_U71[9]._fU16 = 0;
    l_U71[9]._fU20 = 0;
    l_U71[9]._fU24 = 0;
    l_U71[9]._fU28 = 0;
    l_U71[9]._fU32 = 0;
    l_U71[9]._fU36 = 1;
    l_U71[9]._fU40 = 1;
    l_U71[9]._fU44 = 0;
    l_U71[9]._fU48 = 0;
    l_U71[9]._fU52 = 0;
    l_U71[9]._fU56 = 0;
    l_U71[9]._fU60 = 7;
    l_U55[10] = "MID_12B_DOCKS";
    l_U71[10]._fU0 = 0;
    l_U71[10]._fU4 = 0;
    l_U71[10]._fU8 = 1;
    l_U71[10]._fU12 = 1;
    l_U71[10]._fU16 = 0;
    l_U71[10]._fU20 = 0;
    l_U71[10]._fU24 = 1;
    l_U71[10]._fU28 = 1;
    l_U71[10]._fU32 = 0;
    l_U71[10]._fU36 = 1;
    l_U71[10]._fU40 = 1;
    l_U71[10]._fU44 = 0;
    l_U71[10]._fU48 = 0;
    l_U71[10]._fU52 = 0;
    l_U71[10]._fU56 = 0;
    l_U71[10]._fU60 = 8;
    l_U55[11] = "UNDER THE PIER";
    l_U71[11]._fU0 = 1;
    l_U71[11]._fU4 = 0;
    l_U71[11]._fU8 = 1;
    l_U71[11]._fU12 = 0;
    l_U71[11]._fU16 = 1;
    l_U71[11]._fU20 = 0;
    l_U71[11]._fU24 = 1;
    l_U71[11]._fU28 = 0;
    l_U71[11]._fU32 = 0;
    l_U71[11]._fU36 = 1;
    l_U71[11]._fU40 = 0;
    l_U71[11]._fU44 = 0;
    l_U71[11]._fU48 = 0;
    l_U71[11]._fU52 = 0;
    l_U71[11]._fU56 = 0;
    l_U71[11]._fU60 = 9;
    l_U55[12] = "MID_13_DOCKS";
    l_U71[12]._fU0 = 0;
    l_U71[12]._fU4 = 0;
    l_U71[12]._fU8 = 0;
    l_U71[12]._fU12 = 0;
    l_U71[12]._fU16 = 0;
    l_U71[12]._fU20 = 0;
    l_U71[12]._fU24 = 0;
    l_U71[12]._fU28 = 0;
    l_U71[12]._fU32 = 0;
    l_U71[12]._fU36 = 0;
    l_U71[12]._fU40 = 1;
    l_U71[12]._fU44 = 0;
    l_U71[12]._fU48 = 0;
    l_U71[12]._fU52 = 0;
    l_U71[12]._fU56 = 0;
    l_U71[12]._fU60 = 9;
    l_U55[13] = "MPM";
    l_U71[13]._fU0 = 0;
    l_U71[13]._fU4 = 0;
    l_U71[13]._fU8 = 0;
    l_U71[13]._fU12 = 1;
    l_U71[13]._fU16 = 0;
    l_U71[13]._fU20 = 0;
    l_U71[13]._fU24 = 0;
    l_U71[13]._fU28 = 1;
    l_U71[13]._fU32 = 1;
    l_U71[13]._fU36 = 0;
    l_U71[13]._fU40 = 0;
    l_U71[13]._fU44 = 0;
    l_U71[13]._fU48 = 0;
    l_U71[13]._fU52 = 0;
    l_U71[13]._fU56 = 0;
    l_U71[13]._fU60 = 10;
    l_U55[14] = "05_04_DOCKS";
    l_U71[14]._fU0 = 0;
    l_U71[14]._fU4 = 0;
    l_U71[14]._fU8 = 0;
    l_U71[14]._fU12 = 1;
    l_U71[14]._fU16 = 0;
    l_U71[14]._fU20 = 0;
    l_U71[14]._fU24 = 0;
    l_U71[14]._fU28 = 1;
    l_U71[14]._fU32 = 1;
    l_U71[14]._fU36 = 0;
    l_U71[14]._fU40 = 0;
    l_U71[14]._fU44 = 0;
    l_U71[14]._fU48 = 0;
    l_U71[14]._fU52 = 0;
    l_U71[14]._fU56 = 0;
    l_U71[14]._fU60 = 11;
    return;
}

/* P_SETUP_MODEL_REQUEST_ARRAY_GLOBAL */ void sub_27666()
{
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_SETUP_ASSET_REQUEST_ARRAY start", 0 );
    l_U416[0] = g_U883;
    l_U416[1] = g_U880;
    l_U416[2] = g_U886;
    l_U416[3] = g_U892;
    l_U416[4] = g_U891;
    l_U416[5] = g_U895;
    l_U416[6] = g_U896;
    l_U416[7] = g_U962;
    l_U416[8] = g_U963;
    l_U416[9] = g_U954;
    l_U416[10] = g_U955;
    l_U416[11] = g_U956;
    l_U416[12] = g_U957;
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_SETUP_ASSET_REQUEST_ARRAY end", 0 );
    return;
}

/* P_SETUP_ASSETS_MANGROVE */ void sub_27982()
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_SETUP_ASSETS_MANGROVE start", 0 );
    l_U539[0] = 1452847618;
    l_U541[0] = l_U1664;
    l_U541[1] = l_U1690[0]._fU108;
    l_U541[2] = l_U1690[1]._fU108;
    l_U541[3] = l_U1690[2]._fU108;
    l_U541[4] = l_U1690[3]._fU108;
    l_U541[5] = l_U1690[4]._fU108;
    l_U541[6] = l_U1690[5]._fU108;
    l_U541[7] = l_U1690[6]._fU108;
    l_U541[8] = l_U1690[7]._fU108;
    l_U541[9] = l_U1690[8]._fU108;
    l_U541[10] = l_U1690[9]._fU108;
    l_U541[11] = l_U1690[10]._fU108;
    l_U541[12] = l_U1690[11]._fU108;
    l_U541[13] = l_U1690[12]._fU108;
    l_U541[14] = l_U1690[13]._fU108;
    l_U541[15] = l_U1690[14]._fU108;
    l_U541[16] = l_U1690[15]._fU108;
    l_U541[17] = l_U1690[16]._fU108;
    l_U541[18] = l_U1690[17]._fU108;
    l_U541[19] = l_U1690[18]._fU108;
    l_U541[20] = l_U4071;
    l_U4888[0] = 15371.00000000;
    l_U4888[1] = 23603.00000000;
    l_U4888[2] = 35634.00000000;
    l_U4888[3] = 43966.00000000;
    l_U4888[4] = 52735.00000000;
    l_U4888[5] = 60403.00000000;
    l_U4888[6] = 72464.00000000;
    l_U4888[7] = 82691.00000000;
    l_U4888[8] = 96845.00000000;
    l_U4888[9] = 100760.00000000;
    l_U4888[10] = 106380.00000000;
    l_U4888[11] = 110985.00000000;
    l_U4888[12] = 111965.00000000;
    l_U4888[13] = 114979.00000000;
    l_U4888[14] = 117049.00000000;
    l_U4888[15] = 119773.00000000;
    l_U4888[16] = 124413.00000000;
    l_U4888[17] = 127267.00000000;
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_SETUP_ASSETS_MANGROVE end", 0 );
    return;
}

/* P_SETUP_ASSETS_PIER_MPM */ void sub_28801()
{
     /* WRITESCRIPTLOG */ sub_3853( "MF", "P_SETUP_ASSETS_PIER_MPM - START", 0 );
    l_U563[0] = g_U958;
    l_U563[1] = g_U959;
    l_U563[2] = g_U960;
    l_U563[3] = g_U961;
    l_U563[4] = g_U940;
    l_U563[5] = g_U941;
    l_U563[6] = g_U942;
    l_U563[7] = g_U943;
    l_U563[8] = g_U944;
    l_U563[9] = g_U945;
    l_U563[10] = g_U946;
    l_U563[11] = g_U947;
    l_U563[12] = g_U948;
    l_U563[13] = g_U949;
    l_U563[14] = g_U950;
    l_U563[15] = g_U951;
    l_U563[16] = g_U952;
    l_U563[17] = g_U953;
    l_U563[18] = g_U881;
    l_U563[19] = g_U882;
    l_U586[0] = l_U4929;
    l_U586[1] = l_U5045[1]._fU108;
    l_U586[2] = l_U5045[0]._fU108;
    l_U586[3] = l_U4930[0]._fU108;
    l_U586[4] = l_U4930[1]._fU108;
    l_U586[5] = l_U4930[2]._fU108;
    l_U593[0] = l_U5812;
    l_U593[1] = l_U5813;
     /* WRITESCRIPTLOG */ sub_3853( "MF", "P_SETUP_ASSETS_PIER_MPM - END", 0 );
    return;
}

/* P_REQUEST_ASSETS */ void sub_29342()
{
     /* WRITESCRIPTLOG */ sub_3853( "SP", "P_REQUEST_ASSETS", 0 );
     /* P_REQUEST_PERSISTENT_ASSETS */ sub_29401();
     /* P_REQUEST_CHECKPOINT_SPECIFIC_ASSETS */ sub_30258();
    return;
}

/* P_REQUEST_PERSISTENT_ASSETS */ void sub_29401()
{
     /* WRITESCRIPTLOG */ sub_3853( "SP", "P_REQUEST_PERSISTENT_ASSETS", 0 );
     /* LOADWEAPON */ sub_29488( 427207702, 0 );
     /* LOADWEAPON */ sub_29488( 68019059, 0 );
     /* LOADWEAPON */ sub_29488( 1194438308, 0 );
     /* LOADWEAPON */ sub_29488( -168327769, 0 );
     /* LOADWEAPON */ sub_29488( -1074756423, 0 );
     /* LOADANIMDICT */ sub_29699( "level_s_marina_rs", 0, 0 );
     /* LOADACTIONTREE */ sub_29900( "LEVEL/S_MARINA/s_marina_drv.act", 0 );
     /* LOADACTIONTREE */ sub_29900( "Vehicle/Vehicle_Boat.act", 0 );
     /* LOADAUDIOBANK */ sub_30093( l_U6209, 0 );
    return;
}

/* LOADWEAPON */ void sub_29488(unknown uParam0, boolean bParam1)
{
    REQUEST_WEAPON( uParam0 );
    if (bParam1)
    {
        while ((HAS_WEAPON_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting to load weapon: {!f1} : {1} ###", 2, 1, 199730165, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* LOADANIMDICT */ void sub_29699(unknown uParam0, unknown uParam1, int iParam2)
{
    REQUEST_ANIM_DICT( uParam0, uParam1 );
    "[doubled result, dropped if not asigned]";
    if (iParam2 == 1)
    {
        while ((HAS_ANIM_DICT_LOADED( uParam0, uParam1 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an animation dictionary to be loaded: {} ###", 1, 1537, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* LOADACTIONTREE */ void sub_29900(unknown uParam0, int iParam1)
{
    ACTION_TREE_LOAD( uParam0 );
    if (iParam1 == 1)
    {
        while ((IS_ACTION_TREE_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an Action Tree to be loaded: {} ###", 1, 1537, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* LOADAUDIOBANK */ void sub_30093(unknown uParam0, int iParam1)
{
    LOAD_SCRIPT_AUDIO_BANK( uParam0 );
    if (iParam1 == 1)
    {
        while ((IS_SCRIPT_AUDIO_BANK_LOADED( uParam0, 0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for script audio bank to be loaded: {} ###", 1, 1537, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* P_REQUEST_CHECKPOINT_SPECIFIC_ASSETS */ void sub_30258()
{
     /* WRITESCRIPTLOG */ sub_3853( "SP", "P_REQUEST_CHECKPOINT_SPECIFIC_ASSETS", 0 );
    if (g_U652 >= 5)
    {
         /* P_REQUEST_MODEL_ARRAY */ sub_30373( ref l_U416 );
        if (g_U652 == 4)
        {
             /* P_REQUEST_MODEL_ARRAY */ sub_30373( ref l_U506 );
        }
        if (g_U652 == 5)
        {
             /* P_REQUEST_MODEL_ARRAY */ sub_30373( ref l_U539 );
        }
        if (g_U652 == 6)
        {
             /* P_REQUEST_MODEL_ARRAY */ sub_30373( ref l_U563 );
        }
        if (g_U652 == 7)
        {
             /* P_REQUEST_MODEL_ARRAY */ sub_30373( ref l_U563 );
        }
    }
    else
    {
         /* P_REQUEST_MODEL_ARRAY */ sub_30373( ref l_U416 );
    }
    if (g_U652 <= 5)
    {
         /* P_REQUEST_VEHICLE_RECORDING_ARRAY */ sub_30885( ref l_U541 );
         /* LOADAUDIOBANK */ sub_30093( "SCRIPT_MISSION\S_MARINA_RAIL_SHOOTER_2", 0 );
    }
    else if (g_U652 == 6)
    {
         /* LOADANIMDICT */ sub_29699( "LEVEL_S_MARINA_RS_CP_05", 0, 0 );
         /* P_REQUEST_VEHICLE_RECORDING_ARRAY */ sub_30885( ref l_U586 );
    }
    else if (g_U652 == 7)
    {
         /* P_REQUEST_VEHICLE_RECORDING_ARRAY */ sub_30885( ref l_U593 );
         /* LOADANIMDICT */ sub_29699( "LEVEL_S_MARINA_RS_CP_05", 0, 0 );
         /* LOADANIMDICT */ sub_29699( "level_s_marina_rs_cp_10", 0, 0 );
    };;;
    return;
}

/* P_REQUEST_MODEL_ARRAY */ void sub_30373(unknown uParam0)
{
    int I;

     /* WRITESCRIPTLOG */ sub_3853( "SP", "P_REQUST_MODEL_ARRAY", 0 );
    for ( I = 0; I < (uParam0^); I++ )
    {
         /* LOADMODEL */ sub_30463( (uParam0^)[I], 0 );
    }
    return;
}

/* LOADMODEL */ void sub_30463(unknown uParam0, boolean bParam1)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
         /* WRITE_STRING */ sub_30580( "[SP]### ERROR! (LoadModel) Trying to load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    if (bParam1)
    {
        while ((HAS_MODEL_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* WRITE_STRING */ void sub_30580(unknown uParam0)
{
    PRINTSTRING( uParam0 );
    PRINTNL();
    return;
}

/* P_REQUEST_VEHICLE_RECORDING_ARRAY */ void sub_30885(unknown uParam0)
{
    int I;

     /* WRITESCRIPTLOG */ sub_3853( "SP", "P_LOAD_VEHICLE_RECORDING_ARRAY", 0 );
    for ( I = 0; I < (uParam0^); I++ )
    {
         /* LOADVEHICLERECORDING */ sub_30997( (uParam0^)[I], 0 );
    }
    return;
}

/* LOADVEHICLERECORDING */ void sub_30997(unknown uParam0, int iParam1)
{
    REQUEST_VEHICLE_RECORDING( uParam0 );
    if (iParam1 == 1)
    {
        while ((HAS_VEHICLE_RECORDING_BEEN_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for a recording to be loaded: Rec# {} ###", 1, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* P_LOAD_ASSETS */ void sub_31391()
{
     /* WRITESCRIPTLOG */ sub_3853( "SP", "P_LOAD_ASSETS", 0 );
     /* P_LOAD_PERSISTENT_ASSETS */ sub_31444();
     /* P_LOAD_CHECKPOINT_SPECIFIC_ASSETS */ sub_31693();
    return;
}

/* P_LOAD_PERSISTENT_ASSETS */ void sub_31444()
{
     /* WRITESCRIPTLOG */ sub_3853( "SP", "P_LOAD_PERSISTENT_ASSETS", 0 );
     /* LOADWEAPON */ sub_29488( 427207702, 1 );
     /* LOADWEAPON */ sub_29488( 68019059, 1 );
     /* LOADWEAPON */ sub_29488( 1194438308, 1 );
     /* LOADWEAPON */ sub_29488( -168327769, 1 );
     /* LOADWEAPON */ sub_29488( -1074756423, 1 );
     /* LOADANIMDICT */ sub_29699( "level_s_marina_rs", 0, 1 );
     /* LOADACTIONTREE */ sub_29900( "LEVEL/S_MARINA/s_marina_drv.act", 1 );
     /* LOADACTIONTREE */ sub_29900( "Vehicle/Vehicle_Boat.act", 1 );
     /* LOADAUDIOBANK */ sub_30093( l_U6209, 1 );
    return;
}

/* P_LOAD_CHECKPOINT_SPECIFIC_ASSETS */ void sub_31693()
{
     /* WRITESCRIPTLOG */ sub_3853( "SP", "P_LOAD_CHECKPOINT_SPECIFIC_ASSETS", 0 );
    if (g_U652 >= 5)
    {
         /* P_LOAD_MODEL_ARRAY */ sub_31802( ref l_U416 );
        if (g_U652 == 4)
        {
             /* P_LOAD_MODEL_ARRAY */ sub_31802( ref l_U506 );
        }
        if (g_U652 == 5)
        {
             /* P_LOAD_MODEL_ARRAY */ sub_31802( ref l_U539 );
        }
        if (g_U652 == 6)
        {
             /* P_LOAD_MODEL_ARRAY */ sub_31802( ref l_U563 );
        }
        if (g_U652 == 7)
        {
             /* P_LOAD_MODEL_ARRAY */ sub_31802( ref l_U563 );
        }
    }
    else
    {
         /* P_LOAD_MODEL_ARRAY */ sub_31802( ref l_U416 );
    }
    if (g_U652 <= 5)
    {
         /* P_LOAD_VEHICLE_RECORDING_ARRAY */ sub_32032( ref l_U541, 1 );
         /* LOADAUDIOBANK */ sub_30093( "SCRIPT_MISSION\S_MARINA_RAIL_SHOOTER_2", 1 );
    }
    else if (g_U652 == 6)
    {
         /* LOADANIMDICT */ sub_29699( "LEVEL_S_MARINA_RS_CP_05", 0, 1 );
         /* P_LOAD_VEHICLE_RECORDING_ARRAY */ sub_32032( ref l_U586, 1 );
    }
    else if (g_U652 == 7)
    {
         /* LOADANIMDICT */ sub_29699( "LEVEL_S_MARINA_RS_CP_05", 0, 1 );
         /* P_LOAD_VEHICLE_RECORDING_ARRAY */ sub_32032( ref l_U593, 1 );
         /* LOADANIMDICT */ sub_29699( "level_s_marina_rs_cp_10", 0, 1 );
    };;;
    return;
}

/* P_LOAD_MODEL_ARRAY */ void sub_31802(unknown uParam0)
{
    int I;

     /* WRITESCRIPTLOG */ sub_3853( "SP", "P_LOAD_MODEL_ARRAY start", 0 );
    for ( I = 0; I < (uParam0^); I++ )
    {
         /* LOADMODEL */ sub_30463( (uParam0^)[I], 1 );
    }
    return;
}

/* P_LOAD_VEHICLE_RECORDING_ARRAY */ void sub_32032(unknown uParam0, int iParam1)
{
    int I;

     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_LOAD_VEHICLE_RECORDING_ARRAY start", 0 );
    for ( I = 0; I < (uParam0^); I++ )
    {
        if (((uParam0^)[I] < 4000) AND ((uParam0^)[I] > 0))
        {
            if (iParam1 == 1)
            {
                 /* LOADVEHICLERECORDING */ sub_30997( (uParam0^)[I], 1 );
            }
            else
            {
                REQUEST_VEHICLE_RECORDING( (uParam0^)[I] );
            }
        }
        else
        {
            SCRIPT_ASSERT( "INVALID RECORDING INDEX REQUESTED!", 0 );
        }
    }
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_LOAD_VEHICLE_RECORDING_ARRAY end", 0 );
    return;
}

/* P_RAIL_INIT_MUSIC_CUE_ARRAYS */ void sub_32545()
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_RAIL_INIT_MUSIC_CUE_ARRAYS", 0 );
    l_U1509._fU0 = "DOCKS_RS_01";
    l_U1509._fU4 = "DOCKS_RS_1_3_4_5";
    l_U1509._fU8 = 2000;
    l_U1509._fU12 = -1;
    l_U1509._fU16 = 0;
    l_U1514._fU0 = "DOCKS_RS_01";
    l_U1514._fU4 = "DOCKS_RS_1_3_4_5";
    l_U1514._fU8 = -1;
    l_U1514._fU12 = -1;
    l_U1514._fU16 = 0;
    l_U1519._fU0 = "DOCKS_RS_01";
    l_U1519._fU4 = "DOCKS_RS_1_3_4_5";
    l_U1519._fU8 = -1;
    l_U1519._fU12 = -1;
    l_U1519._fU16 = 0;
    l_U1524._fU0 = "DOCKS_RS_01";
    l_U1524._fU4 = "DOCKS_RS_1_3_4_5";
    l_U1524._fU8 = -1;
    l_U1524._fU12 = -1;
    l_U1524._fU16 = 0;
    l_U1529._fU0 = "HOTEL_ONESHOT_08";
    l_U1529._fU16 = 1;
    l_U1534._fU0 = "DOCKS_RS_01";
    l_U1534._fU4 = "DOCKS_RS_1_2_4_5";
    l_U1534._fU8 = 5000;
    l_U1534._fU12 = 5000;
    l_U1534._fU16 = 0;
    l_U1539._fU0 = "DOCKS_RS_01";
    l_U1539._fU4 = "DOCKS_RS_1_3_4_5";
    l_U1539._fU8 = 5000;
    l_U1539._fU12 = 4000;
    l_U1539._fU16 = 0;
    l_U1544._fU0 = "DOCKS_RS_01";
    l_U1544._fU4 = "DOCKS_RS_1_3_4_5";
    l_U1544._fU8 = -1;
    l_U1544._fU12 = -1;
    l_U1544._fU16 = 0;
    l_U1549._fU0 = "DOCKS_RS_01";
    l_U1549._fU4 = "DOCKS_RS_1_3_4_5";
    l_U1549._fU8 = -1;
    l_U1549._fU12 = -1;
    l_U1549._fU16 = 0;
    l_U1554._fU0 = "DOCKS_RS_01";
    l_U1554._fU4 = "DOCKS_RS_1_3_4_5";
    l_U1554._fU8 = -1;
    l_U1554._fU12 = -1;
    l_U1554._fU16 = 0;
    l_U1559._fU0 = "DOCKS_RS_OS_1";
    l_U1559._fU16 = 1;
    l_U1564._fU0 = "DOCKS_RS_OS_1";
    l_U1564._fU4 = "DOCKS_RS_1_4_5";
    l_U1564._fU8 = -1;
    l_U1564._fU12 = 1000;
    l_U1564._fU16 = 0;
    l_U1569._fU0 = "DOCKS_RS_01";
    l_U1569._fU4 = "DOCKS_RS_1_2_3_4_5";
    l_U1569._fU8 = 1000;
    l_U1569._fU12 = -1;
    l_U1569._fU16 = 0;
    l_U1574._fU0 = "DOCKS_RS_01";
    l_U1574._fU4 = "DOCKS_RS_1_2_3_4_5";
    l_U1574._fU8 = -1;
    l_U1574._fU12 = -1;
    l_U1574._fU16 = 0;
    l_U1579._fU0 = "DOCKS_RS_01";
    l_U1579._fU4 = "DOCKS_RS_1_2_3_4_5";
    l_U1579._fU8 = -1;
    l_U1579._fU12 = -1;
    l_U1579._fU16 = 0;
    l_U1584._fU0 = "DOCKS_RS_01";
    l_U1584._fU4 = "DOCKS_RS_1_2_3_4_5";
    l_U1584._fU8 = -1;
    l_U1584._fU12 = -1;
    l_U1584._fU16 = 0;
    l_U1589._fU0 = "HOTEL_ONESHOT_08";
    l_U1589._fU16 = 1;
    l_U1594._fU0 = "DOCKS_RS_01";
    l_U1594._fU4 = "DOCKS_RS_1_4_5";
    l_U1594._fU8 = -1;
    l_U1594._fU12 = 1000;
    l_U1594._fU16 = 0;
    l_U1599._fU0 = "DOCKS_RS_01";
    l_U1599._fU4 = "DOCKS_RS_1_2_3_4_5";
    l_U1599._fU8 = 1000;
    l_U1599._fU12 = -1;
    l_U1599._fU16 = 0;
    l_U1604._fU0 = "DOCKS_RS_01";
    l_U1604._fU4 = "DOCKS_RS_1_4";
    l_U1604._fU8 = -1;
    l_U1604._fU12 = 6000;
    l_U1604._fU16 = 0;
    l_U1609._fU0 = "DOCKS_RS_01";
    l_U1609._fU4 = "DOCKS_RS_1_2_3_4";
    l_U1609._fU8 = 6000;
    l_U1609._fU12 = -1;
    l_U1609._fU16 = 0;
    l_U1614._fU0 = "DOCKS_RS_01";
    l_U1614._fU4 = "DOCKS_RS_1_2_3_4_5";
    l_U1614._fU8 = 1000;
    l_U1614._fU12 = -1;
    l_U1614._fU16 = 0;
    l_U1619._fU0 = "HOTEL_ONESHOT_08";
    l_U1619._fU16 = 1;
    l_U1624._fU0 = "HOTEL_ONESHOT_01";
    l_U1624._fU16 = 1;
    l_U1629._fU0 = "DOCKS_RS_01";
    l_U1629._fU4 = "DOCKS_RS_1_5";
    l_U1629._fU8 = -1;
    l_U1629._fU12 = 1000;
    l_U1629._fU16 = 0;
    l_U1634._fU0 = "DOCKS_RS_01";
    l_U1634._fU4 = "DOCKS_RS_1_2_3_4_5";
    l_U1634._fU8 = 1000;
    l_U1634._fU12 = -1;
    l_U1634._fU16 = 0;
    l_U1639._fU0 = "DOCKS_RS_01";
    l_U1639._fU4 = "DOCKS_RS_4";
    l_U1639._fU8 = -1;
    l_U1639._fU12 = 6000;
    l_U1639._fU16 = 0;
    l_U1644._fU12 = 8000;
    l_U1644._fU16 = 2;
    return;
}

/* SETUP_SCRIPTED_SPEECH */ void sub_34421(unknown uParam0)
{
    StrCopy( ref g_U157._fU0, uParam0, 16 );
     /* CLEARPEDCONVERSATIONDATA */ sub_34465();
    return;
}

/* CLEARPEDCONVERSATIONDATA */ void sub_34465()
{
    int I;

    for ( I = 0; I <= 8; I++ )
    {
        g_U157._fU16[I]._fU0 = nil;
        g_U157._fU16[I]._fU4 = 0;
        g_U157._fU92[I] = 0;
    }
    return;
}

/* P_LOAD_CHECKPOINT */ void sub_34648(int iParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_LOAD_CHECKPOINT start", 0 );
    if (iParam0 == 5)
    {
         /* HAS_SAVEFILE_LOADED */ sub_34728( ref l_U740 );
    }
    else if (iParam0 == 6)
    {
         /* HAS_SAVEFILE_LOADED */ sub_34728( ref l_U776 );
    }
    else if (iParam0 == 7)
    {
         /* HAS_SAVEFILE_LOADED */ sub_34728( ref l_U812 );
    };;;
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_LOAD_CHECKPOINT end", 0 );
    return;
}

/* HAS_SAVEFILE_LOADED */ int sub_34728(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "rw", "HAS_SAVEFILE_LOADED()", 0 );
    if (IS_ARCADE_MODE_ACTIVE())
    {
        return 0;
    }
    if (HAS_LOAD_JUST_OCCURRED())
    {
        if ((GET_CHECKPOINT_SELECTED() == 1) || (GET_CHECKPOINT_SELECTED() == 0))
        {
            return 0;
        }
        else
        {
            l_U0 = 0;
            CHECKPOINT_STORAGE_LOAD( uParam0, l_U1 );
             /* P_RESTORE_PLAYER_DATA_CHECKPOINT */ sub_34969( uParam0,  /* PLAYER_PED_ID */ sub_34875() );
        }
        if (IS_IN_STORY_MODE())
        {
            START_CONTEXT( "LEVEL" );
        }
        return 1;
    }
    return 0;
}

/* PLAYER_PED_ID */ int sub_34875()
{
    if (DOES_MAIN_PLAYER_EXIST())
    {
        return GET_PLAYER_PED(  /* PLAYER_ID */ sub_34913() );
    }
    return 0;
}

/* PLAYER_ID */ void sub_34913()
{
    return GET_PLAYER_ID();
}

/* P_RESTORE_PLAYER_DATA_CHECKPOINT */ void sub_34969(int iParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    int iVar9;
    int iVar10;
    int iVar11;
    unknown uVar12;
    unknown uVar13;

     /* WRITESCRIPTLOG */ sub_3853( "GA", "Restoring the player to the checkpoint - Start", 0 );
    if (l_U0)
    {
        INCREMENT_CHECKPOINT_ATTEMPT();
    }
    g_U648 = 0;
    if (iParam0->_fU0 == 0)
    {
        SCRIPT_ASSERT( "ERROR: Trying to restore a checkpoint that hasn't been saved!!!", 0 );
    }
     /* CLOSE_CURRENT_LEVEL_CONTEXT */ sub_35188( iParam0->_fU52 );
    if (SCRIPT_VAR_EXISTS( "SV_LOAD_CNT" ))
    {
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", (SCRIPT_VAR_GET_INT( "SV_LOAD_CNT" )) + 1 );
    }
    else
    {
        SCRIPT_VAR_ADD_INT( "SV_LOAD_CNT" );
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", 1 );
    }
    CLEAR_KILL_STREAK_RECORDS();
    AUDIO_MUSIC_SUSPEND( 0 );
    DEACTIVATE_BULLET_TIME( 1, 0 );
    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
    REMOVE_ALL_ENVIRONMENT_BLOOD();
    RESET_BLOOD_EFFECTS();
    REMOVE_ALL_GLINTS();
    RESET_DESTROYED_COVER();
    RESET_ALL_PTFX();
    uVar4 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam1 )};
    CLEAR_AREA( iParam0->_fU4, 10000.00000000, 1 );
    if (NOT (IS_PED_DEAD( uParam1 )))
    {
        SET_PED_COORDS( uParam1, iParam0->_fU4, 1 );
         /* LOADCOLLISIONFORPED */ sub_36352( uParam1 );
        SET_PED_HEADING( uParam1, iParam0->_fU16 );
    }
    CLEAR_AREA( uVar4, 3.00000000, 1 );
    LOAD_SCENE( iParam0->_fU4 );
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
    iParam0->_fU28 = GET_PED_MAX_HEALTH( uParam1 );
    SET_PED_HEALTH( uParam1, iParam0->_fU28, 0 );
    RESET_PED_GORE( uParam1 );
    RESET_PED_VISIBLE_DAMAGE( uParam1 );
    REMOVE_ALL_PED_WEAPONS( uParam1 );
    if (NOT (iParam0->_fU56 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPONTOHOLSTER */ sub_36666( uParam1, iParam0->_fU56, 0, iParam0->_fU76, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_37101( uVar7, iParam0 + 96, iParam0 + 100 );
    }
    if (NOT (iParam0->_fU60 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPONTOHOLSTER */ sub_36666( uParam1, iParam0->_fU60, 1, iParam0->_fU80, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_37101( uVar7, iParam0 + 104, iParam0 + 108 );
    }
    if (NOT (iParam0->_fU64 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPONTOHOLSTER */ sub_36666( uParam1, iParam0->_fU64, 2, iParam0->_fU84, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_37101( uVar7, iParam0 + 112, iParam0 + 116 );
    }
    if (NOT (iParam0->_fU68 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPON */ sub_37417( uParam1, iParam0->_fU68, iParam0->_fU88, 0, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_37101( uVar7, iParam0 + 120, iParam0 + 124 );
    }
    if (NOT (iParam0->_fU72 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPON */ sub_37417( uParam1, iParam0->_fU72, iParam0->_fU92, 1, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_37101( uVar7, iParam0 + 128, iParam0 + 132 );
    }
    if (l_U0 == 1)
    {
        if ((IS_PED_DEAD( uParam1 )) == 0)
        {
            if (iParam0->_fU68 != -1569615261)
            {
                uVar7 = GET_WEAPON_FROM_HAND( uParam1, 0, 0 );
                if ((GET_DOES_WEAPON_EXIST( uVar7 )) == 1)
                {
                    uVar8 = GET_WEAPON_TYPE( uVar7 );
                    if (( /* F_CAN_GIVE_AMMO_TO_REGULAR_WEAPON_TYPE */ sub_37989( uVar8 )) == 1)
                    {
                        iVar9 = GET_MAX_AMMO_IN_HAND_CLIP_MP( uParam1, 0 );
                        iVar10 = iParam0->_fU88;
                        if (iVar10 < iVar9)
                        {
                            iVar11 = iVar9 - iVar10;
                            ADD_AMMO_TO_PED( uParam1, uVar8, iVar11, 0 );
                            SET_WEAPON_AMMO_IN_CLIP( uVar7, iVar9 );
                        }
                    }
                }
            }
        }
    }
     /* START_NEW_LEVEL_CONTEXT */ sub_38191( iParam0->_fU52 );
    SET_ADRENALINE_AMT( iParam0->_fU32 );
    if (GET_ADRENALINE_AMT() < 0.20000000)
    {
        SET_ADRENALINE_AMT( 0.20000000 );
    }
    SET_PAYNEKILLER_AMT( iParam0->_fU36 );
    SET_PED_DUCKING(  /* PLAYER_PED_ID */ sub_34875(), 0 );
    GET_TIME_OF_DAY( ref uVar12, ref uVar13 );
    if (iParam0->_fU140 == 1)
    {
        FREEZE_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    else
    {
        RELEASE_TIME_OF_DAY();
        SET_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    SET_PED_SWEAT( uParam1, iParam0->_fU136, -1.00000000 );
    RESTORE_PICKUPS();
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( iParam0->_fU20, 1065353216, 0 );
    SET_GAMEPLAY_CAM_RELATIVE_PITCH( iParam0->_fU24, 1065353216, 0 );
    HANDLE_CHECKPOINT_RESTART();
    if (l_U0)
    {
        ADJUST_AMMO_ATTEMPTS();
        ADJUST_PAIN_KILLERS_ATTEMPTS();
    }
    l_U0 = 1;
    DISPLAY_HUD( 1 );
    if (IS_DEATH_PANEL_WIPE_ALLOWED())
    {
        if (IS_BULLET_CAMERA_WIPE_STOPPED())
        {
            RESUME_BULLET_CAMERA_WIPE_ON_FADEIN();
        }
    }
     /* WRITESCRIPTLOG */ sub_3853( "GA", "Restoring the player to the checkpoint - End", 0 );
    return;
}

/* CLOSE_CURRENT_LEVEL_CONTEXT */ void sub_35188(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    iVar3 = 0;
    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        iVar3 =  /* GET_MISSION_INDEX_FROM_NAME */ sub_35250( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, iVar3, 513, uParam0 );
    END_CONTEXT( ref uVar4 );
    return;
}

/* GET_MISSION_INDEX_FROM_NAME */ int sub_35250(unknown uParam0)
{
    if (ARE_STRINGS_EQUAL( uParam0, "s_air" ))
    {
        return 21;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_beach" ))
    {
        return 22;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_boat" ))
    {
        return 10;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_booze" ))
    {
        return 0;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_busdep" ))
    {
        return 17;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_cemet" ))
    {
        return 15;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_club" ))
    {
        return 5;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_clubride" ))
    {
        return 4;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fashion" ))
    {
        return 3;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav0" ))
    {
        return 13;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav1" ))
    {
        return 14;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav2" ))
    {
        return 16;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fire" ))
    {
        return 12;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_hotel" ))
    {
        return 19;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_intro" ))
    {
        return 1;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_marina" ))
    {
        return 9;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc" ))
    {
        return 7;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc2" ))
    {
        return 8;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_office" ))
    {
        return 11;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_pana" ))
    {
        return 18;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_police" ))
    {
        return 20;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_stad" ))
    {
        return 6;
    }
    else
    {
        PRINTSTRING( uParam0 );
        PRINTSTRING( uParam0 );
        PRINTSTRING( uParam0 );
    };;;;;;;;;;;;;;;;;;;;;;
    return 99;
}

/* LOADCOLLISIONFORPED */ void sub_36352(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
        SET_LOAD_COLLISION_FOR_PED_FLAG( uParam0, 1 );
        SET_PED_COORDS_NO_OFFSET( uParam0, uVar3 );
        FREEZE_PED_POSITION( uParam0, 1 );
        REQUEST_COLLISION_AT_COORD( uVar3 );
        if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
        {
            FREEZE_PED_POSITION( uParam0, 0 );
        }
    }
    return;
}

/* F_GIVEPEDWEAPONTOHOLSTER */ void sub_36666(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's holster MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HOLSTER( uParam0, uParam1, uParam3, uParam2 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
                    DISPLAYF( "[SP]### Waiting for a weapon to exist: {} ###", 1, 513, uParam1 );
                }
            }
        }
    }
    else
    {
         /* WRITE_STRING */ sub_30580( "[SP]### (F_GivePedWeaponToHolster) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

/* P_RESTORE_WEAPON_ATTACHMENTS */ void sub_37101(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        if (IS_BIT_SET( (uParam1^), I ))
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, IS_BIT_SET( (uParam2^), I ) );
        }
        else
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
        }
    }
    return;
}

/* F_GIVEPEDWEAPON */ void sub_37417(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's hand MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, uParam2, uParam3 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
                    DISPLAYF( "[SP]### Waiting for a weapon to exist: {} ###", 1, 513, uParam1 );
                }
            }
        }
    }
    else
    {
         /* WRITE_STRING */ sub_30580( "[SP]### (F_GivePedWeapon) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

/* F_CAN_GIVE_AMMO_TO_REGULAR_WEAPON_TYPE */ int sub_37989(unknown uParam0)
{
    int iVar3;

    iVar3 = GET_WEAPONTYPE_AMMO( uParam0 );
    if ((iVar3 == -1383321053) || ((iVar3 == -1295933220) || ((iVar3 == 1138793073) || (iVar3 == -1088031219))))
    {
        return 1;
    }
    return 0;
}

/* START_NEW_LEVEL_CONTEXT */ void sub_38191(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        uVar3 =  /* GET_MISSION_INDEX_FROM_NAME */ sub_35250( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, uParam0 );
     /* CLEAR_GG_CONTEXTS */ sub_38289( uVar3 );
    START_CONTEXT( ref uVar4 );
    return;
}

/* CLEAR_GG_CONTEXTS */ void sub_38289(int iParam0)
{
    if (iParam0 != 3)
    {
        END_CONTEXT( "S_FAS_GG_PT" );
    }
    if (iParam0 != 5)
    {
        END_CONTEXT( "S_CLB_GG_M3" );
        END_CONTEXT( "S_CLB_MS" );
    }
    if (iParam0 != 6)
    {
        END_CONTEXT( "S_STA_GG_M1" );
        END_CONTEXT( "S_STA_GG_M81" );
    }
    if (iParam0 != 7)
    {
        END_CONTEXT( "S_NY1_GG_19" );
    }
    if (iParam0 != 8)
    {
        END_CONTEXT( "S_NY2_GG_40" );
        END_CONTEXT( "S_NY2_GG_M5" );
    }
    if (iParam0 != 9)
    {
        END_CONTEXT( "S_MAR_GG_LM" );
        END_CONTEXT( "S_MAR_GG_9M" );
    }
    if (iParam0 != 11)
    {
        END_CONTEXT( "S_OFF_GG_MD" );
    }
    if (iParam0 != 14)
    {
        END_CONTEXT( "S_FV1_GG_SP" );
        END_CONTEXT( "S_FV1_GG_SA" );
    }
    if (iParam0 != 15)
    {
        END_CONTEXT( "S_NYC_GG_6M" );
        END_CONTEXT( "S_NYC_GG_A9" );
    }
    if (iParam0 != 16)
    {
        END_CONTEXT( "S_FV2_GG_D5" );
        END_CONTEXT( "S_FV2_GG_97" );
    }
    if (iParam0 != 17)
    {
        END_CONTEXT( "S_BUS_GG_M4" );
        END_CONTEXT( "S_BUS_GG_FN" );
    }
    if (iParam0 != 18)
    {
        END_CONTEXT( "S_PAN_GG_AK" );
        END_CONTEXT( "S_PAN_GG_SS" );
    }
    if (iParam0 != 19)
    {
        END_CONTEXT( "S_HOT_GG_G3" );
        END_CONTEXT( "S_HOT_GG_LA" );
    }
    if (iParam0 != 20)
    {
        END_CONTEXT( "S_POL_GG_G6" );
        END_CONTEXT( "S_POL_GG_RP" );
        END_CONTEXT( "S_POL_GG_MP" );
    }
    if (iParam0 != 21)
    {
        END_CONTEXT( "S_AIR_GG_RG" );
        END_CONTEXT( "S_AIR_GG_PD" );
    }
    return;
}

/* P_RAIL_RESTORE_BOAT_HEALTH */ void sub_39549()
{
    float fVar2;

     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_RESTORE_BOAT_HEALTH start", 0 );
     /* P_RAIL_SET_MAX_BOAT_HEALTH_BASED_ON_DIFFICULTY */ sub_39634();
    fVar2 = 0.00000000;
    if (g_U653 <= 1)
    {
         /* WRITESCRIPTLOG */ sub_3853( "GA", "Min boat health 100%", 0 );
        fVar2 = g_U972 * 1.00000000;
    }
    else if (g_U653 == 2)
    {
         /* WRITESCRIPTLOG */ sub_3853( "GA", "Min boat health 50%", 0 );
        fVar2 = g_U972 * 0.50000000;
    }
    else if (g_U653 == 3)
    {
         /* WRITESCRIPTLOG */ sub_3853( "GA", "Min boat health 20%", 0 );
        fVar2 = g_U972 * 0.20000000;
    }
    else if (g_U653 == 4)
    {
         /* WRITESCRIPTLOG */ sub_3853( "GA", "Min boat health 70%", 0 );
        fVar2 = g_U972 * 0.70000000;
    }
    else if (g_U653 == 5)
    {
         /* WRITESCRIPTLOG */ sub_3853( "GA", "Min boat health 60%", 0 );
        fVar2 = g_U972 * 0.60000000;
    }
    else if (g_U653 == 6)
    {
         /* WRITESCRIPTLOG */ sub_3853( "GA", "Min boat health 40%", 0 );
        fVar2 = g_U972 * 0.40000000;
    };;;;;;
    if (g_U974 < fVar2)
    {
        g_U974 = fVar2;
    }
    if (g_U974 > g_U972)
    {
        g_U974 = g_U972;
    }
    g_U973 = g_U974;
    for ( l_U988 = g_U972; l_U988 > fVar2; l_U988 -= l_U987 * g_U972 )
    {
        ;
    }
    if (l_U988 <= (g_U972 / 2.00000000))
    {
        l_U989 = 1;
    }
    else
    {
        l_U989 = 0;
    }
    SET_PAYNEKILLER_AMT( 0 );
    DISPLAYF( "P_RAIL_RESTORE_BOAT_HEALTH() - Current boat health: {0}", 1, 769, g_U973 );
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_RESTORE_BOAT_HEALTH end", 0 );
    return;
}

/* P_RAIL_SET_MAX_BOAT_HEALTH_BASED_ON_DIFFICULTY */ void sub_39634()
{
    unknown uVar2;

     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_RAIL_SET_MAX_BOAT_HEALTH", 0 );
    uVar2 = GET_GAME_DIFFICULTY();
    DISPLAYF( "P_RAIL_SET_MAX_BOAT_HEALTH_BASED_ON_DIFFICULTY - Current difficulty: {0}", 1, 513, uVar2 );
    switch (uVar2)
    {
        case 0:
        g_U972 = 6500.00000000;
        l_U998 = 15.00000000;
        l_U997 = 5.00000000;
        break;
        case 1:
        g_U972 = 4500.00000000;
        l_U998 = 15.00000000;
        l_U997 = 5.00000000;
        break;
        case 2:
        g_U972 = 3500.00000000;
        l_U998 = 12.00000000;
        l_U997 = 5.00000000;
        break;
        case 3:
        g_U972 = 2500.00000000;
        l_U998 = 12.00000000;
        l_U997 = 5.00000000;
        break;
        case 5:
        g_U972 = 2500.00000000;
        l_U998 = 8.00000000;
        l_U997 = 5.00000000;
        break;
        case 4:
        g_U972 = 2000.00000000;
        l_U998 = 8.00000000;
        l_U997 = 3.00000000;
        break;
    }
    return;
}

/* P_SAVE_CHECKPOINT */ void sub_40770(int iParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_SAVE_CHECKPOINT start", 0 );
    if (iParam0 == 5)
    {
         /* P_SAVE_PLAYER_DATA_CHECKPOINT */ sub_40890( ref l_U740, 5,  /* PLAYER_PED_ID */ sub_34875(), g_U654[5], g_U766[5], g_U804[5], g_U842[5], 0 );
    }
    else if (iParam0 == 6)
    {
         /* P_SAVE_PLAYER_DATA_CHECKPOINT */ sub_40890( ref l_U776, 6,  /* PLAYER_PED_ID */ sub_34875(), g_U654[6], g_U766[6], g_U804[6], g_U842[6], 0 );
    }
    else if (iParam0 == 7)
    {
         /* P_SAVE_PLAYER_DATA_CHECKPOINT */ sub_40890( ref l_U812, 7,  /* PLAYER_PED_ID */ sub_34875(), g_U654[7], g_U766[7], g_U804[7], g_U842[7], 0 );
    };;;
     /* P_RAIL_SAVE_BOAT_HEALTH */ sub_45614();
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_SAVE_CHECKPOINT end", 0 );
    return;
}

/* P_SAVE_PLAYER_DATA_CHECKPOINT */ void sub_40890(int iParam0, int iParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, int iParam9)
{
    int iVar12;
    int iVar13;
    int iVar14;
    int iVar15;
    int iVar16;

     /* WRITESCRIPTLOG */ sub_3853( "GA", "Saving the player data for checkpoint - Start", 0 );
    if ((IS_PED_DEAD( uParam2 )) == 0)
    {
         /* WRITESCRIPTLOG */ sub_3853( "SP", "Saving to scripted data...", 0 );
        RESET_CHECKPOINT_ATTEMPTS();
        if (SCRIPT_VAR_EXISTS( "SV_SAVE_CNT" ))
        {
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", (SCRIPT_VAR_GET_INT( "SV_SAVE_CNT" )) + 1 );
        }
        else
        {
            SCRIPT_VAR_ADD_INT( "SV_SAVE_CNT" );
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", 1 );
        }
         /* START_NEW_LEVEL_CONTEXT */ sub_38191( iParam1 );
         /* CLOSE_OLD_LEVEL_CONTEXT */ sub_41181( iParam1 );
        iParam0->_fU52 = iParam1;
        iParam0->_fU4 = {uParam3};
        iParam0->_fU16 = uParam6;
        iParam0->_fU20 = uParam7;
        iParam0->_fU24 = uParam8;
        iParam0->_fU28 = GET_PED_HEALTH( uParam2 );
        iParam0->_fU56 = -1569615261;
        iParam0->_fU60 = -1569615261;
        iParam0->_fU64 = -1569615261;
        iParam0->_fU68 = -1569615261;
        iParam0->_fU72 = -1569615261;
        iParam0->_fU76 = 0;
        iParam0->_fU80 = 0;
        iParam0->_fU84 = 0;
        iParam0->_fU88 = 0;
        iParam0->_fU92 = 0;
        iVar12 = GET_WEAPON_FROM_HAND( uParam2, 0, 0 );
        iVar13 = GET_WEAPON_FROM_HAND( uParam2, 1, 0 );
        iVar14 = GET_WEAPON_FROM_HOLSTER( uParam2, 0 );
        iVar15 = GET_WEAPON_FROM_HOLSTER( uParam2, 1 );
        iVar16 = GET_WEAPON_FROM_HOLSTER( uParam2, 2 );
        if (GET_DOES_WEAPON_EXIST( iVar12 ))
        {
            iParam0->_fU68 = GET_WEAPON_TYPE( iVar12 );
            iParam0->_fU88 = (GET_WEAPON_AMMO( iVar12 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar12 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_41658( iVar12, iParam0 + 120, iParam0 + 124 );
        }
        if (GET_DOES_WEAPON_EXIST( iVar13 ))
        {
            iParam0->_fU72 = GET_WEAPON_TYPE( iVar13 );
            iParam0->_fU92 = (GET_WEAPON_AMMO( iVar13 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar13 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_41658( iVar13, iParam0 + 128, iParam0 + 132 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_41918( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar13 ) ))
                {
                    iParam0->_fU92 = GET_WEAPON_AMMO_IN_CLIP( iVar12 );
                }
            }
        }
        if ((iVar14 != iVar13) AND ((iVar14 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar14 ))))
        {
            iParam0->_fU56 = GET_WEAPON_TYPE( iVar14 );
            iParam0->_fU76 = (GET_WEAPON_AMMO( iVar14 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar14 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_41658( iVar14, iParam0 + 96, iParam0 + 100 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_41918( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_41918( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
        }
        if ((iVar15 != iVar13) AND ((iVar15 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar15 ))))
        {
            iParam0->_fU60 = GET_WEAPON_TYPE( iVar15 );
            iParam0->_fU80 = (GET_WEAPON_AMMO( iVar15 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar15 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_41658( iVar15, iParam0 + 104, iParam0 + 108 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_41918( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_41918( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_41918( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
        }
        if ((iVar16 != iVar13) AND ((iVar16 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar16 ))))
        {
            iParam0->_fU64 = GET_WEAPON_TYPE( iVar16 );
            iParam0->_fU84 = (GET_WEAPON_AMMO( iVar16 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar16 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_41658( iVar16, iParam0 + 112, iParam0 + 116 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_41918( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_41918( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_41918( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar15 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_41918( GET_WEAPON_TYPE( iVar15 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
        }
        SAVE_PICKUPS();
        iParam0->_fU32 = GET_ADRENALINE_AMT();
        iParam0->_fU36 = GET_PAYNEKILLER_AMT();
        GET_TIME_OF_DAY( iParam0 + 40, iParam0 + 44 );
        iParam0->_fU140 = IS_TIME_OF_DAY_FROZEN();
        iParam0->_fU136 = GET_PED_SWEAT( uParam2 );
        if (iParam9 == 1)
        {
            if (IS_MAGDEMO() == 0)
            {
                ENABLE_CHECKPOINT_ICON();
            }
        }
        if (iParam1 >= 0)
        {
             /* P_PRINT_CHECKPOINT_DATA */ sub_43498( iParam0 );
            iParam0->_fU0 = 1;
            if (IS_ARCADE_MODE_ACTIVE() == 0)
            {
                CHECKPOINT_STORAGE_SAVE( iParam0, l_U1, iParam0->_fU52 );
                REQUEST_SAVE();
            }
        }
        if (IS_ARCADE_MODE_ACTIVE())
        {
            UPDATE_ARCADE_CHECK_POINT( iParam0->_fU52 );
        }
    }
    else
    {
        SCRIPT_ASSERT( "Error: Player is dead while saving a checkpoint!!!", 0 );
    }
     /* WRITESCRIPTLOG */ sub_3853( "GA", "Saving the player data for checkpoint - End", 0 );
    return;
}

/* CLOSE_OLD_LEVEL_CONTEXT */ void sub_41181(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (iParam0 >= 0)
    {
        if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
        {
            uVar3 =  /* GET_MISSION_INDEX_FROM_NAME */ sub_35250( ref uVar20 );
        }
        STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, iParam0 - 1 );
         /* WRITESCRIPTLOG */ sub_3853( "TEH", "Ending context", 0 );
         /* WRITESCRIPTLOG */ sub_3853( "TEH", "Ending context", 0 );
        END_CONTEXT( ref uVar4 );
    }
    return;
}

/* P_SAVE_WEAPON_ATTACHMENTS */ void sub_41658(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        CLEAR_BIT( uParam1, I );
        CLEAR_BIT( uParam2, I );
        if (IS_WEAPON_ATTACHMENT_ENABLED( uParam0, I ))
        {
            SET_BIT( uParam1, I );
            if (IS_WEAPON_ATTACHMENT_TOGGLED( uParam0, I ))
            {
                SET_BIT( uParam2, I );
            }
        }
    }
    return;
}

/* F_WEAPONS_SAME_AMMO */ void sub_41918(int iParam0, int iParam1)
{
    int Result;

    Result = 0;
    if ((iParam0 == -612753081) || ((iParam0 == 68019059) || ((iParam0 == 456708483) || ((iParam0 == -862236369) || (iParam0 == 406496141)))))
    {
        if ((iParam1 == -612753081) || ((iParam1 == 68019059) || ((iParam1 == 456708483) || ((iParam1 == -862236369) || (iParam1 == 406496141)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 724901397) || ((iParam0 == 57534114) || ((iParam0 == 1308526797) || ((iParam0 == -1074756423) || (iParam0 == -1013714740)))))
    {
        if ((iParam1 == 724901397) || ((iParam1 == 57534114) || ((iParam1 == 1308526797) || ((iParam1 == -1074756423) || (iParam1 == -1013714740)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 514118749) || ((iParam0 == -184942895) || ((iParam0 == -168327769) || ((iParam0 == 1845102363) || (iParam0 == 434544317)))))
    {
        if ((iParam1 == 514118749) || ((iParam1 == -184942895) || ((iParam1 == -168327769) || ((iParam1 == 1845102363) || (iParam1 == 434544317)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -110877124) || (iParam0 == 319712764))
    {
        if ((iParam1 == -110877124) || (iParam1 == 319712764))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -1464892298) || ((iParam0 == 1194438308) || ((iParam0 == -1404433099) || ((iParam0 == 1478009203) || ((iParam0 == -691403429) || (iParam0 == 1964270085))))))
    {
        if ((iParam1 == -1464892298) || ((iParam1 == 1194438308) || ((iParam1 == -1404433099) || ((iParam1 == 1478009203) || ((iParam1 == -691403429) || (iParam1 == 1964270085))))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 10648147) || (iParam0 == 1224272620))
    {
        if ((iParam1 == 10648147) || (iParam1 == 1224272620))
        {
            Result = 1;
        }
    };;;;;;
    return Result;
}

/* P_PRINT_CHECKPOINT_DATA */ void sub_43498(int iParam0)
{
     /* WRITE_STRING */ sub_30580( "CHECKPOINT DATA" );
    PRINTSTRING( "---Position: " );
     /* WRITE_VECTOR */ sub_43586( iParam0->_fU4 );
    PRINTSTRING( "---Heading: " );
     /* WRITE_FLOAT */ sub_43663( iParam0->_fU16 );
    PRINTSTRING( "---fRelativeGameCamHeading: " );
     /* WRITE_FLOAT */ sub_43663( iParam0->_fU20 );
    PRINTSTRING( "---fRelativeGameCamPitch: " );
     /* WRITE_FLOAT */ sub_43663( iParam0->_fU24 );
    PRINTSTRING( "---nHealth: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU28 );
    PRINTSTRING( "---wtRightHolster: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU56 );
    PRINTSTRING( "---wtLeftHolster: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU60 );
    PRINTSTRING( "---wtRifleHolster: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU64 );
    PRINTSTRING( "---wtRightHand: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU68 );
    PRINTSTRING( "---wtLeftHand: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU72 );
    PRINTSTRING( "---nWeaponRightHolsterAmmo: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU76 );
    PRINTSTRING( "---nWeaponLeftHolsterAmmo: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU80 );
    PRINTSTRING( "---nWeaponRifleHolsterAmmo: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU84 );
    PRINTSTRING( "---nWeaponRightHandAmmo: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU88 );
    PRINTSTRING( "---nWeaponLeftHandAmmo: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU92 );
    PRINTSTRING( "---fAdrenaline: " );
     /* WRITE_FLOAT */ sub_43663( iParam0->_fU32 );
    PRINTSTRING( "---nPayneKillers: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU36 );
    PRINTSTRING( "---nHour: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU40 );
    PRINTSTRING( "---nMinute: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU44 );
    PRINTSTRING( "---fSweatAmount: " );
     /* WRITE_FLOAT */ sub_43663( iParam0->_fU136 );
    PRINTSTRING( "---bTimeFrozen: " );
     /* WRITE_BOOL */ sub_44533( iParam0->_fU140 );
    PRINTSTRING( "---checkpointIndex: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU52 );
     /* WRITE_STRING */ sub_30580( "---nRightHolsterAttachmentEnabled: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU96 );
     /* WRITE_STRING */ sub_30580( "---nRightHolsterAttachmentToggled: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU100 );
     /* WRITE_STRING */ sub_30580( "---nLeftHolsterAttachmentEnabled: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU104 );
     /* WRITE_STRING */ sub_30580( "---nLeftHolsterAttachmentToggled: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU108 );
     /* WRITE_STRING */ sub_30580( "---nRifleHolsterAttachmentEnabled: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU112 );
     /* WRITE_STRING */ sub_30580( "---nRifleHolsterAttachmentToggled: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU116 );
     /* WRITE_STRING */ sub_30580( "---nRightHandAttachmentEnabled: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU120 );
     /* WRITE_STRING */ sub_30580( "---nRightHandAttachmentToggled: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU124 );
     /* WRITE_STRING */ sub_30580( "---nLeftHandAttachmentEnabled: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU128 );
     /* WRITE_STRING */ sub_30580( "---nLeftHandAttachmentToggled: " );
     /* WRITE_INT */ sub_43832( iParam0->_fU132 );
    PRINTSTRING( "[CHECKPOINT DATA SIZE]: " );
     /* WRITE_INT */ sub_43832( l_U1 );
    PRINTSTRING( "[CHECKPOINT DATA REF SIZE]: " );
     /* WRITE_INT */ sub_43832( 144 );
    return;
}

/* WRITE_VECTOR */ void sub_43586(unknown uParam0, unknown uParam1, unknown uParam2)
{
    PRINTVECTOR( uParam0 );
    PRINTNL();
    return;
}

/* WRITE_FLOAT */ void sub_43663(unknown uParam0)
{
    PRINTFLOAT( uParam0 );
    PRINTNL();
    return;
}

/* WRITE_INT */ void sub_43832(unknown uParam0)
{
    PRINTINT( uParam0 );
    PRINTNL();
    return;
}

/* WRITE_BOOL */ void sub_44533(boolean bParam0)
{
    if (bParam0)
    {
        PRINTSTRING( "TRUE" );
    }
    else
    {
        PRINTSTRING( "FALSE" );
    }
    PRINTNL();
    return;
}

/* P_RAIL_SAVE_BOAT_HEALTH */ void sub_45614()
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_SAVE_BOAT_HEALTH start", 0 );
    g_U974 = g_U973;
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_SAVE_BOAT_HEALTH end", 0 );
    return;
}

/* P_SETUP_TOD_AND_WEATHER */ void sub_45795()
{
    SET_PUDDLES( -1.00000000, 0.00000000, -1.00000000, 2.00000000 );
    FREEZE_TIME_OF_DAY( 22, 0 );
    return;
}

/* P_START_GAMEPLAY */ void sub_45875()
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_START_GAMEPLAY start", 0 );
    ENABLE_AUDIO_MIX_LAYER( 10, 1, 1.00000000, 0 );
    ENABLE_AUDIO_MISSION_FLAG( 0, 1 );
    AUDIO_ENABLE_HEALTH_MIX( 0 );
    if (NOT (DOES_VEHICLE_EXIST( g_U977 )))
    {
         /* P_RAIL_CREATE_AND_SETUP_PLAYER_BOAT */ sub_45990();
    }
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        REMOVE_ALL_PED_WEAPONS(  /* PLAYER_PED_ID */ sub_34875() );
         /* F_GIVEPEDWEAPON */ sub_37417(  /* PLAYER_PED_ID */ sub_34875(), 427207702, 25000, 0, 1 );
    }
    ALLOW_BULLET_CAMERA_CHEAT( 0 );
    if (IS_IN_NYMINUTE_MODE())
    {
        SET_SAFE_TO_KILL_PLAYER( 0 );
    }
    if (g_U653 <= 5)
    {
         /* P_RAIL_START_MANGROVE_SECTION */ sub_50270();
         /* P_RAIL_PIER_PRELOAD_AUDIO */ sub_54096();
         /* P_RAIL_PIER_LOAD_PERSISTENT_ASSETS */ sub_54249( 0 );
         /* P_RAIL_PIER_LOAD_NON_PERSISTENT_ASSETS */ sub_54382( 0 );
    }
    else if (g_U653 == 6)
    {
         /* P_RAIL_START_UNDER_PIER_SECTION */ sub_54631();
    }
    else if (g_U653 == 7)
    {
         /* P_RAIL_START_PIER_JUMP_SECTION */ sub_70526();
    };;;
    SET_PLAYER_COMBAT_TIMER_MODE( 1 );
    SET_PED_ENABLE_HEADLOOK_CONTROLLER(  /* PLAYER_PED_ID */ sub_34875(), 0 );
    SET_DEAD_FORCE_WATER_DEPTH( 2.00000000 );
    SET_SILHOUETTE_ACTIVE( 0 );
    SET_PED_MODEL_LOD_DISTANCES( g_U883, 0.00000000, 1000.00000000 );
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_START_GAMEPLAY end", 0 );
    return;
}

/* P_RAIL_CREATE_AND_SETUP_PLAYER_BOAT */ void sub_45990()
{
    vector vVar2;
    vector vVar5;

     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_CREATE_PASSOS_BOAT start", 0 );
    if (l_U852 == 0)
    {
        g_U977 =  /* CREATEVEHICLE */ sub_46120( g_U886, g_U654[1], g_U766[1], 1, 0, 0 );
    }
    else if (l_U852 == 1)
    {
        g_U977 =  /* CREATEVEHICLE */ sub_46120( g_U886, g_U654[3], g_U766[3], 1, 0, 0 );
    }
    else if (l_U852 == 2)
    {
        g_U977 =  /* CREATEVEHICLE */ sub_46120( g_U886, l_U871, l_U874, 1, 0, 0 );
    }
    else if (l_U852 == 3)
    {
        g_U977 =  /* CREATEVEHICLE */ sub_46120( g_U886, l_U875, l_U878, 1, 0, 0 );
    }
    else if (l_U852 == 4)
    {
        g_U977 =  /* CREATEVEHICLE */ sub_46120( g_U886, g_U654[5], g_U766[5], 1, 0, 0 );
    }
    else if (l_U852 == 5)
    {
        g_U977 =  /* CREATEVEHICLE */ sub_46120( g_U886, g_U654[6], g_U766[6], 1, 0, 0 );
    }
    else if (l_U852 == 6)
    {
        g_U977 =  /* CREATEVEHICLE */ sub_46120( g_U886, l_U883, l_U886, 1, 0, 0 );
    };;;;;;;
    if (NOT (IS_VEHICLE_DEAD( g_U977 )))
    {
        SET_VEHICLE_PROOFS( g_U977, 0, 0, 1, 1, 0 );
        SET_BOAT_WILL_SINK( g_U977, 0 );
        SET_VEHICLE_ENGINE_ON( g_U977, 1, 1 );
        SET_VEHICLE_NAME_DEBUG( g_U977, "vi_Rail_PlayerBoat" );
    }
    if (NOT (IS_VEHICLE_DEAD( g_U977 )))
    {
        if (l_U852 < 2)
        {
            vVar2 = {-0.60000000, -4.00000000, 0.80000000};
            vVar5 = {0.60000000, -4.00000000, 0.80000000};
            g_U979 =  /* CREATEOBJECT */ sub_46930( g_U962, (vector( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( g_U977 ))) + vVar2, 0.00000000, 0.00000000, 0.00000000, 0, 1, 0 );
            g_U980 =  /* CREATEOBJECT */ sub_46930( g_U963, (vector( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( g_U977 ))) + vVar5, 0.00000000, 0.00000000, 0.00000000, 0, 1, 0 );
            if (NOT (IS_VEHICLE_DEAD( g_U977 )))
            {
                ATTACH_OBJECT_TO_VEHICLE( g_U979, g_U977, 0, vVar2, 0.00000000, 0.00000000, 0.00000000 );
                ATTACH_OBJECT_TO_VEHICLE( g_U980, g_U977, 0, vVar5, 0.00000000, 0.00000000, 0.00000000 );
            }
            if (NOT (IS_VEHICLE_DEAD( g_U977 )))
            {
                SET_VEHICLE_EXTRA( g_U977, 1, 0 );
                SET_VEHICLE_EXTRA( g_U977, 2, 1 );
            }
            g_U978 =  /* CREATEOBJECT */ sub_46930( g_U895, 1.00000000, 1.00000000, 1.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 1, 0 );
        }
        else if (NOT (IS_VEHICLE_DEAD( g_U977 )))
        {
            SET_VEHICLE_EXTRA( g_U977, 1, 1 );
            SET_VEHICLE_EXTRA( g_U977, 2, 0 );
        }
        g_U978 =  /* CREATEOBJECT */ sub_46930( g_U896, 1.00000000, 1.00000000, 1.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 1, 0 );;
        if ((DOES_OBJECT_EXIST( g_U978 )) AND (NOT (IS_VEHICLE_DEAD( g_U977 ))))
        {
            ATTACH_OBJECT_TO_VEHICLE( g_U978, g_U977, 0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000 );
            SET_OBJECT_COLLISION( g_U978, 1 );
            SET_OBJECT_USE_WATER_PARTICLES( g_U978, 0 );
        }
        SET_VEHICLE_EXTRA( g_U977, 3, 1 );
        SET_VEHICLE_EXTRA( g_U977, 4, 1 );
         /* P_SETUP_PLAYER_BOAT_VISIBLE_DAMAGE */ sub_47703();
    }
    if (l_U852 == 6)
    {
        g_U976 =  /* CREATEPED */ sub_48333( ref l_U854 );
        if (NOT (IS_PED_DEAD( g_U976 )))
        {
            ATTACH_PED_TO_VEHICLE( g_U976, g_U977, 0, l_U1252[45], 0.00000000, 360.00000000, 0, 0, 0, 1 );
        }
    }
    else
    {
        g_U976 =  /* CREATEPEDINVEHICLE */ sub_49124( ref l_U854, g_U977, -1, 1, 0 );
    }
    if (NOT (IS_PED_DEAD( g_U976 )))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( g_U976, 1 );
        SET_PED_GORE( g_U976, 0 );
        SET_PED_INVINCIBLE( g_U976, 1 );
         /* F_GIVEPEDWEAPON */ sub_37417( g_U976, 68019059, 25000, 0, 0 );
        SET_PED_CONSUMING_AMMO( g_U976, 0 );
    }
    if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() ))) AND (NOT (IS_VEHICLE_DEAD( g_U977 ))))
    {
         /* WRITESCRIPTLOG */ sub_3853( "AT", "Attaching player to boat...", 0 );
        ATTACH_PED_TO_VEHICLE(  /* PLAYER_PED_ID */ sub_34875(), g_U977, 0, l_U1412, l_U1455[l_U852], 360.00000000, 1, 0, 0, 1 );
         /* WRITESCRIPTLOG */ sub_3853( "AT", "Attaching Max at heading ", 0 );
         /* WRITE_FLOAT */ sub_43663( l_U1455[l_U852] );
         /* WRITESCRIPTLOG */ sub_3853( "AT", "Current gamestate is: ", 0 );
         /* WRITE_INT */ sub_43832( l_U852 );
    }
    while ((NOT (IS_PED_ATTACHED_TO_ANY_VEHICLE(  /* PLAYER_PED_ID */ sub_34875() ))) AND (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() ))))
    {
         /* WRITESCRIPTLOG */ sub_3853( "GA", "Waiting for player to be attached to boat.", 0 );
        WAIT( 0 );
    }
     /* F_GIVEPEDWEAPON */ sub_37417(  /* PLAYER_PED_ID */ sub_34875(), 427207702, 25000, 0, 0 );
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_CREATE_PASSOS_BOAT end", 0 );
    return;
}

/* CREATEVEHICLE */ void sub_46120(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, int iParam5, unknown uParam6, unknown uParam7)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a vehicle with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_30463( uParam0, 1 );
    }
    Result = CREATE_VEHICLE( uParam0, uParam1, uParam4, uParam6, uParam7 );
    if (iParam5 == 1)
    {
        while ((DOES_VEHICLE_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for vehicle to exist: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    if (DOES_VEHICLE_EXIST( Result ))
    {
        SET_PETROLTANK_BURN_RATE( Result, 125.00000000 );
    }
    return Result;
}

/* CREATEOBJECT */ void sub_46930(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_30463( uParam0, 1 );
    }
    Result = CREATE_OBJECT( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an object to exist: {!f1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

/* P_SETUP_PLAYER_BOAT_VISIBLE_DAMAGE */ void sub_47703()
{
    if (l_U852 > 0)
    {
         /* P_SET_PLAYER_BOAT_BACK_DAMAGED */ sub_47762();
    }
    if (l_U852 > 1)
    {
         /* P_SET_PLAYER_BOAT_FRONT_SCORCHED */ sub_47896();
    }
    if (l_U852 > 5)
    {
         /* P_SET_PLAYER_BOAT_FRONT_DENTED */ sub_48032();
    }
    else
    {
         /* P_SET_PLAYER_BOAT_FRONT_NORMAL */ sub_48173();
    }
    return;
}

/* P_SET_PLAYER_BOAT_BACK_DAMAGED */ void sub_47762()
{
    if (NOT (IS_VEHICLE_DEAD( g_U977 )))
    {
         /* WRITESCRIPTLOG */ sub_3853( "MF", "Enabling Vehicle Extra: 3", 0 );
        SET_VEHICLE_EXTRA( g_U977, 3, 0 );
    }
    return;
}

/* P_SET_PLAYER_BOAT_FRONT_SCORCHED */ void sub_47896()
{
    if (NOT (IS_VEHICLE_DEAD( g_U977 )))
    {
         /* WRITESCRIPTLOG */ sub_3853( "MF", "Enabling Vehicle Extra: 4", 0 );
        SET_VEHICLE_EXTRA( g_U977, 4, 0 );
    }
    return;
}

/* P_SET_PLAYER_BOAT_FRONT_DENTED */ void sub_48032()
{
    if (NOT (IS_VEHICLE_DEAD( g_U977 )))
    {
         /* WRITESCRIPTLOG */ sub_3853( "SA", "Enabling Vehicle Extra: 6", 0 );
        SET_VEHICLE_EXTRA( g_U977, 5, 1 );
        SET_VEHICLE_EXTRA( g_U977, 6, 0 );
    }
    return;
}

/* P_SET_PLAYER_BOAT_FRONT_NORMAL */ void sub_48173()
{
    if (NOT (IS_VEHICLE_DEAD( g_U977 )))
    {
         /* WRITESCRIPTLOG */ sub_3853( "SA", "Enabling Vehicle Extra: 5", 0 );
        SET_VEHICLE_EXTRA( g_U977, 5, 0 );
        SET_VEHICLE_EXTRA( g_U977, 6, 1 );
    }
    return;
}

/* CREATEPED */ void sub_48333(int iParam0)
{
    int iVar3;

    iVar3 = 0;
    if (iParam0->_fU16 == 0)
    {
        if (iParam0->_fU20 != 0)
        {
            iVar3 = GET_SCENE_PED_MODEL( iParam0->_fU20 );
        }
    }
    else
    {
        iVar3 = iParam0->_fU16;
    }
    if ((HAS_MODEL_LOADED( iVar3 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_30463( iParam0->_fU16, 1 );
    }
    iParam0->_fU40 = CREATE_PED( iParam0->_fU24, iParam0->_fU16, iParam0->_fU0, iParam0->_fU12, 1, iParam0->_fU48 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( iParam0->_fU40, 1 );
        SET_PED_COORDS_NO_OFFSET( iParam0->_fU40, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU40 ) );
        SET_PED_HEADING( iParam0->_fU40, iParam0->_fU12 );
        iParam0->_fU44 = 1;
    }
    else
    {
        SCRIPT_ASSERT( "Error: The ped you created doesn't exist or is dead!", 0 );
    }
     /* SETPEDDEFAULTSTATS */ sub_48824( iParam0->_fU40 );
     /* SETPEDDEFAULTTEMPLATE */ sub_48925( iParam0->_fU40 );
    return iParam0->_fU40;
}

/* SETPEDDEFAULTSTATS */ void sub_48824(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_HEALTH( uParam0, 200, 0 );
        SET_PED_ACCURACY( uParam0, -729479261 );
    }
    return;
}

/* SETPEDDEFAULTTEMPLATE */ void sub_48925(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_AI_TEMPLATE( uParam0, "AIT_DEFAULT_GENERIC" );
    }
    return;
}

/* CREATEPEDINVEHICLE */ void sub_49124(int iParam0, unknown uParam1, unknown uParam2, int iParam3, unknown uParam4)
{
    if ((HAS_MODEL_LOADED( iParam0->_fU16 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_30463( iParam0->_fU16, 1 );
    }
    if (((IS_VEHICLE_DEAD( uParam1 )) == 0) AND ((DOES_VEHICLE_EXIST( uParam1 )) == 1))
    {
        iParam0->_fU40 = CREATE_PED_INSIDE_VEHICLE( uParam1, iParam0->_fU24, iParam0->_fU16, uParam2, uParam4, iParam0->_fU48 );
    }
    else
    {
        SCRIPT_ASSERT( "The vehicle your trying to create a ped inside of is not valid!!!", 0 );
    }
    if (iParam3 == 1)
    {
        while ((DOES_PED_EXIST( iParam0->_fU40 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for ped created inside a vehicle to exist... ###", 0 );
            WAIT( 0 );
        }
    }
     /* SETPEDDEFAULTSTATS */ sub_48824( iParam0->_fU40 );
     /* SETPEDDEFAULTTEMPLATE */ sub_48925( iParam0->_fU40 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        iParam0->_fU44 = 1;
    }
    return iParam0->_fU40;
}

/* P_RAIL_START_MANGROVE_SECTION */ void sub_50270()
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_START_MANGROVE_SECTION start", 0 );
    l_U852 = 4;
     /* P_RAIL_SET_WATER_EFFECTS */ sub_50368( 8 );
    if (NOT ( /* F_ARE_VEHICLE_RECORDINGS_LOADED */ sub_50794( ref l_U541 )))
    {
        SCRIPT_ASSERT( "Not all assets for Mangrove checkpoint loaded.", 0 );
         /* TEXT_ONSCREEN_GENERAL */ sub_51084( "WAITING FOR MANGROVE CHECKPOINT ASSETS TO LOAD", 100000 );
         /* P_LOAD_VEHICLE_RECORDING_ARRAY */ sub_32032( ref l_U541, 1 );
        CLEAR_PRINTS();
    }
    SET_BOAT_OUT_OF_CONTROL_AND_BLOW_UP_WHEN_DRIVER_DEAD( 0 );
    if (NOT l_U1495)
    {
         /* P_SETUP_PLAYER_BOAT_MANGROVE_SECTION */ sub_51183();
         /* SETUPINTERACTIVESEQUENCE */ sub_52319( l_U1490, "LEVEL_S_MARINA_RS_CP_08", "/LEVEL/S_MARINA/S_MAR_MID_12_BLEND.act", "/Global/S_MAR_MID_12_BLEND/SEQ_START", 1 );
         /* P_LOAD_AUDIO_SCRIPT_STREAM */ sub_52518( l_U1506, 1, 1 );
         /* P_LOAD_AUDIO_SCRIPT_STREAM */ sub_52518( l_U1507, 2, 1 );
         /* MAL_REGISTERPEDWITHISEQUENCE */ sub_53402( l_U1490, "pas_mid_12", g_U976 );
         /* MAL_REGISTERPEDWITHISEQUENCE */ sub_53402( l_U1490, "max_mid_12",  /* PLAYER_PED_ID */ sub_34875() );
        I_SEQUENCE_START( l_U1490 );
        WAIT( 0 );
    }
     /* P_PLAY_AUDIO_SCRIPT_STREAM_FRONTEND */ sub_53535( l_U1506, 1 );
    if (NOT (IS_VEHICLE_DEAD( g_U977 )))
    {
        if (NOT (IS_PLAYBACK_GOING_ON_FOR_VEHICLE( g_U977 )))
        {
             /* P_START_VEHICLE_PLAYBACK */ sub_51942( g_U977, l_U1664, l_U1660, l_U1661, 0 );
        }
    }
     /* P_REQUEST_MODEL_ARRAY */ sub_30373( ref l_U563 );
     /* P_REQUEST_VEHICLE_RECORDING_ARRAY */ sub_30885( ref l_U586 );
     /* LOADANIMDICT */ sub_29699( "LEVEL_S_MARINA_RS_CP_05", 0, 0 );
     /* LOADANIMDICT */ sub_29699( "LEVEL_S_MARINA_CP_05", 0, 0 );
    g_U981 = l_U1660;
    l_U1665 = 0;
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_START_MANGROVE_SECTION end", 0 );
    return;
}

/* P_RAIL_SET_WATER_EFFECTS */ void sub_50368(unknown uParam0)
{
    DISPLAYF( "P_RAIL_SET_WATER_EFFECTS - setting context for {0}", 1, 1537, l_U55[uParam0] );
    SET_SMALL_BOATS_PTFX_MAX_SPEED_EVO( l_U71[uParam0]._fU0 );
    SET_MEDIUM_BOATS_PTFX_MAX_SPEED_EVO( l_U71[uParam0]._fU4 );
    SET_PAYNE_BOAT_PTFX_MAX_SPEED_EVO( l_U71[uParam0]._fU8 );
    SET_BIG_BOATS_PTFX_MAX_SPEED_EVO( l_U71[uParam0]._fU12 );
    SET_SMALL_BOATS_PROPELLOR_PTFX_MAX_SPEED_EVO( l_U71[uParam0]._fU16 );
    SET_MEDIUM_BOATS_PROPELLOR_PTFX_MAX_SPEED_EVO( l_U71[uParam0]._fU20 );
    SET_PAYNE_BOAT_PROPELLOR_PTFX_MAX_SPEED_EVO( l_U71[uParam0]._fU24 );
    SET_BIG_BOATS_PROPELLOR_PTFX_MAX_SPEED_EVO( l_U71[uParam0]._fU28 );
    SET_PAYNE_BOAT_PTFX_SKIP( l_U71[uParam0]._fU32 );
    SET_ALL_BOATS_WAKES_MAX_SPEED_EVO( l_U71[uParam0]._fU36 );
    SET_PAYNE_BOAT_PTFX_CUTSCENE_EFFECT( l_U71[uParam0]._fU40 );
    SET_SMALL_BOAT_PTFX_CUTSCENE_EFFECT( l_U71[uParam0]._fU44 );
    SET_PAYNE_BOAT_PTFX_CUTSCENE_PROPELLOR_EFFECT( l_U71[uParam0]._fU48 );
    SET_SMALL_BOAT_PTFX_CUTSCENE_PROPELLOR_EFFECT( l_U71[uParam0]._fU52 );
    SET_PED_PTFX_SPLASH_OUT_SPECIAL_EFFECT( l_U71[uParam0]._fU56 );
    SET_WAKES_SECTION( l_U71[uParam0]._fU60 );
    return;
}

/* F_ARE_VEHICLE_RECORDINGS_LOADED */ void sub_50794(unknown uParam0)
{
    int Result;
    int I;

    Result = 1;
    for ( I = 0; I < (uParam0^); I++ )
    {
        if (NOT (HAS_VEHICLE_RECORDING_BEEN_LOADED( (uParam0^)[I] )))
        {
            DISPLAYF( "[GA] Vehicle Recording not loaded : Rec# {} ###", 1, 513, (uParam0^)[I] );
            Result = 0;
        }
    }
    return Result;
}

/* TEXT_ONSCREEN_GENERAL */ void sub_51084(unknown uParam0, unknown uParam1)
{
    PRINT_STRING_WITH_LITERAL_STRING( "STRING", uParam0, uParam1, 1 );
    return;
}

/* P_SETUP_PLAYER_BOAT_MANGROVE_SECTION */ void sub_51183()
{
     /* P_SETUP_PLAYER_IN_BOAT */ sub_51260( l_U1412, 180.00000000, l_U1463[4], l_U1471[4], 1 );
    SET_RAIL_RELATIVE_DIR( 5, l_U1455[l_U852] );
    SET_CAMERA_OVERRIDE( l_U1430[3][0], l_U1430[3][1], 0, 1, 1 );
     /* P_START_VEHICLE_PLAYBACK */ sub_51942( g_U977, l_U1664, l_U1660, l_U1661, 0 );
    return;
}

/* P_SETUP_PLAYER_IN_BOAT */ void sub_51260(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, boolean bParam6)
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_SETUP_PLAYER_IN_BOAT start", 0 );
    switch (l_U852)
    {
        case 0:
        l_U1479 = l_U1421[0];
        break;
        case 1:
        l_U1479 = l_U1421[2];
        break;
        case 2:
        l_U1479 = l_U1421[4];
        break;
        case 3:
        l_U1479 = l_U1421[5];
        break;
        case 4:
        l_U1479 = l_U1421[3];
        break;
        case 5:
        l_U1479 = l_U1421[6];
        break;
        case 6:
        l_U1479 = l_U1421[7];
        break;
    }
    if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() ))) AND (NOT (IS_VEHICLE_DEAD( g_U977 ))))
    {
        ATTACH_PED_TO_VEHICLE(  /* PLAYER_PED_ID */ sub_34875(), g_U977, 0, uParam0, uParam3, 360.00000000, 1, 0, 0, 1 );
    }
    while ((NOT (IS_PED_ATTACHED_TO_ANY_VEHICLE(  /* PLAYER_PED_ID */ sub_34875() ))) AND (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() ))))
    {
         /* WRITESCRIPTLOG */ sub_3853( "GA", "Waiting for player to be attached to boat.", 0 );
        WAIT( 0 );
    }
    if (bParam6)
    {
        PRINTSTRING( "eRS_ChaseStart - Setting Action Tree to: " );
        PRINTSTRING( l_U1479 );
        PRINTNL();
        PED_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_34875(), l_U1479 );
    }
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( uParam4, 1065353216, 0 );
    SET_GAMEPLAY_CAM_RELATIVE_PITCH( uParam5, 1065353216, 0 );
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_SETUP_PLAYER_IN_BOAT end", 0 );
    return;
}

/* P_START_VEHICLE_PLAYBACK */ void sub_51942(unknown uParam0, unknown uParam1, unknown uParam2, float fParam3, boolean bParam4)
{
    if (NOT (IS_VEHICLE_DEAD( uParam0 )))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_VEHICLE( uParam0 ))
        {
            STOP_PLAYBACK_RECORDED_VEHICLE( uParam0 );
        }
    }
     /* LOADVEHICLERECORDING */ sub_30997( uParam1, 1 );
    if (NOT (IS_VEHICLE_DEAD( uParam0 )))
    {
        START_PLAYBACK_RECORDED_VEHICLE( uParam0, uParam1 );
        SET_PLAYBACK_SPEED( uParam0, uParam2 );
        if (fParam3 > 0.00000000)
        {
            SKIP_TIME_IN_PLAYBACK_RECORDED_VEHICLE( uParam0, fParam3 );
        }
    }
    if (bParam4)
    {
        while ((NOT (IS_PLAYBACK_GOING_ON_FOR_VEHICLE( uParam0 ))) AND (NOT (IS_VEHICLE_DEAD( uParam0 ))))
        {
             /* WRITE_STRING */ sub_30580( "Waiting for vehicle to start playing recorded path." );
            WAIT( 0 );
        }
    }
    return;
}

/* SETUPINTERACTIVESEQUENCE */ void sub_52319(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    if ((I_SEQUENCE_IS_LOADED( uParam0 )) == 0)
    {
        I_SEQUENCE_SETUP( uParam0, uParam1, uParam2, uParam3 );
        if (iParam4 == 1)
        {
            while ((I_SEQUENCE_QUERY_STATE( uParam0, 1 )) == 1)
            {
                DISPLAYF( "[SP]### Waiting for interactive sequence to be loaded: {} ###", 1, 1537, uParam0 );
                WAIT( 0 );
            }
        }
    }
    return;
}

/* P_LOAD_AUDIO_SCRIPT_STREAM */ void sub_52518(unknown uParam0, unknown uParam1, unknown uParam2)
{
    unknown uVar5;

    DISPLAYF( "P_LOAD_AUDIO_SCRIPT_STREAM() - Loading stream {0} into slot {1}, WaitUntilLoaded = {2}", 3, 1537, uParam0, 513, uParam1, 257, uParam2 );
    uVar5 = GET_SCRIPT_STREAM_STATE( uParam0, uParam1 );
    switch (uVar5)
    {
        case 4:
         /* WRITESCRIPTLOG */ sub_3853( "SA", "P_LOAD_AUDIO_SCRIPT_STREAM - Detected a different stream in the slot. Stopping it and loading the new stream.", 0 );
        STOP_SCRIPT_STREAM( uParam1 );
         /* LOADSCRIPTSTREAM */ sub_52869( uParam0, uParam1, uParam2 );
        break;
        case 3:
         /* WRITESCRIPTLOG */ sub_3853( "SA", "P_LOAD_AUDIO_SCRIPT_STREAM - Script stream is already playing. Stopping it and reloading.", 0 );
        STOP_SCRIPT_STREAM( uParam1 );
         /* LOADSCRIPTSTREAM */ sub_52869( uParam0, uParam1, uParam2 );
        break;
        case 0:
         /* WRITESCRIPTLOG */ sub_3853( "SA", "P_LOAD_AUDIO_SCRIPT_STREAM - Slot is free, loading new stream", 0 );
         /* LOADSCRIPTSTREAM */ sub_52869( uParam0, uParam1, uParam2 );
        break;
        case 1:
        case 2:
         /* WRITESCRIPTLOG */ sub_3853( "SA", "P_LOAD_AUDIO_SCRIPT_STREAM - Stream is already loading, ignoring request.", 0 );
        break;
    }
    return;
}

/* LOADSCRIPTSTREAM */ void sub_52869(unknown uParam0, unknown uParam1, int iParam2)
{
    if (iParam2 == 0)
    {
        REQUEST_SCRIPT_STREAM( uParam0, uParam1 );
    }
    else
    {
        while ((LOAD_SCRIPT_STREAM( uParam0, uParam1 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for script stream to be loaded: {} : {} ###", 2, 1537, uParam0, 513, uParam1 );
            WAIT( 0 );
        }
    }
    return;
}

/* MAL_REGISTERPEDWITHISEQUENCE */ void sub_53402(unknown uParam0, unknown uParam1, unknown uParam2)
{
    if (NOT (IS_PED_DEAD( uParam2 )))
    {
        I_SEQUENCE_REGISTER_ENTITY( uParam0, uParam1, uParam2, 0 );
    }
    return;
}

/* P_PLAY_AUDIO_SCRIPT_STREAM_FRONTEND */ void sub_53535(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    DISPLAYF( "P_PLAY_AUDIO_SCRIPT_STREAM_FRONTEND() - Playing audio stream {0} with stream ID {1}", 2, 1537, uParam0, 513, uParam1 );
    if (NOT (LOAD_SCRIPT_STREAM( uParam0, uParam1 )))
    {
        ConcatString(ref uVar4, "Audio stream ", 64);
        ConcatString(ref uVar4, uParam0, 64);
        ConcatString(ref uVar4, " is not loaded", 64);
        SCRIPT_ASSERT( ref uVar4, 0 );
        DISPLAYF( "P_PLAY_AUDIO_SCRIPT_STREAM_FRONTEND() - Stream {0} in slot {1} is not loaded!", 2, 1537, uParam0, 513, uParam1 );
         /* LOADSCRIPTSTREAM */ sub_52869( uParam0, uParam1, 1 );
    }
    PLAY_SCRIPT_STREAM_FRONTEND( uParam1 );
    return;
}

/* P_RAIL_PIER_PRELOAD_AUDIO */ void sub_54096()
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_RAIL_PIER_PRELOAD_AUDIO - Start", 0 );
    REQUEST_SCRIPT_STREAM( l_U1508, 0 );
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_RAIL_PIER_PRELOAD_AUDIO - End", 0 );
    return;
}

/* P_RAIL_PIER_LOAD_PERSISTENT_ASSETS */ void sub_54249(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_RAIL_LOAD_PERSISTENT_ASSETS", 0 );
     /* LOADANIMDICT */ sub_29699( "LEVEL_S_MARINA_RS_CP_09", 0, uParam0 );
    return;
}

/* P_RAIL_PIER_LOAD_NON_PERSISTENT_ASSETS */ void sub_54382(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_RAIL_LOAD_NON_PERSISTENT_ASSETS", 0 );
     /* SETUPINTERACTIVESEQUENCE */ sub_52319( "S_MAR_VIG_27", "LEVEL_S_MARINA_RS_CP_10", "/LEVEL/S_MARINA/S_MAR_VIG_27.act", "/Global/S_MAR_VIG_27/SEQ_START", 0 );
     /* LOADWEAPON */ sub_29488( 456708483, 0 );
    return;
}

/* P_RAIL_START_UNDER_PIER_SECTION */ void sub_54631()
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_START_UNDER_PIER_SECTION start", 0 );
    l_U852 = 5;
     /* P_RAIL_SET_WATER_EFFECTS */ sub_50368( 11 );
    if ((NOT (HAS_ANIM_DICT_LOADED( "LEVEL_S_MARINA_RS_CP_05", 0 ))) || ((NOT ( /* F_ARE_VEHICLE_RECORDINGS_LOADED */ sub_50794( ref l_U586 ))) || (NOT ( /* F_ARE_MODELS_LOADED */ sub_54742( ref l_U563 )))))
    {
        SCRIPT_ASSERT( "Not all assets for UNDER PIER checkpoint loaded.", 0 );
         /* P_LOAD_MODEL_ARRAY */ sub_31802( ref l_U563 );
         /* P_LOAD_VEHICLE_RECORDING_ARRAY */ sub_32032( ref l_U586, 1 );
         /* LOADANIMDICT */ sub_29699( "LEVEL_S_MARINA_RS_CP_05", 0, 1 );
    }
    if (NOT l_U1496)
    {
        AUDIO_MUSIC_REQUEST_ONESHOT( l_U1619._fU0, 0 );
        l_U5586 = 1;
        while (NOT ( /* F_SPAWN_PIER_BOATS_AND_PEDS */ sub_55193()))
        {
             /* WRITESCRIPTLOG */ sub_3853( "GA", "Waiting for under pier peds to spawn.", 0 );
            WAIT( 0 );
        }
         /* P_LOAD_AUDIO_SCRIPT_STREAM */ sub_52518( l_U1508, 0, 1 );
         /* P_RAIL_PIER_LOAD_PERSISTENT_ASSETS */ sub_54249( 1 );
         /* P_RAIL_PIER_LOAD_NON_PERSISTENT_ASSETS */ sub_54382( 1 );
         /* P_SETUP_PLAYER_IN_BOAT */ sub_51260( l_U1415, l_U1455[5], l_U1463[5], l_U1471[5], 1 );
         /* P_START_VEHICLE_PLAYBACK */ sub_51942( g_U977, l_U4929, l_U4926, l_U4927 - 300, 0 );
        WAIT( 0 );
         /* P_PIER_MID_12B_PREPARE_BLENDOUT */ sub_63854();
        while (NOT (AUDIO_MUSIC_IS_ONESHOT_PREPARED( l_U1619._fU0 )))
        {
             /* WRITESCRIPTLOG */ sub_3853( "SA", "Waiting for one-shot cue_6_3 to load.", 0 );
            WAIT( 0 );
        }
        WAIT( 10 );
    }
    if (NOT ( /* F_IMAGEFX_FADE_IN */ sub_66303()))
    {
        DO_SCREEN_FADE_IN( 0 );
    }
    SET_BOAT_OUT_OF_CONTROL_AND_BLOW_UP_WHEN_DRIVER_DEAD( 1 );
     /* P_CLEANUP_MANGROVE_SECTION */ sub_66560();
     /* P_RAIL_PIER_JUMP_CREATE_SHACK */ sub_68470();
    l_U6168 = 1;
     /* REQUESTANIMDICT */ sub_69697( "level_s_marina_rs_cp_10", 0 );
     /* REQUESTANIMDICT */ sub_69697( "LEVEL_S_MARINA_RS_CP_05", 0 );
     /* P_LOAD_VEHICLE_RECORDING_ARRAY */ sub_32032( ref l_U593, 0 );
    g_U981 = l_U4926;
     /* P_RAIL_PLAY_MUSIC_CUE */ sub_69937( l_U1614 );
     /* P_RAIL_PLAY_MUSIC_CUE */ sub_69937( l_U1619 );
     /* P_CREATE_AND_START_TIMER */ sub_65967( ref l_U5589, l_U5598 );
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_START_UNDER_PIER_SECTION end", 0 );
    return;
}

/* F_ARE_MODELS_LOADED */ void sub_54742(unknown uParam0)
{
    int Result;
    int I;

    Result = 1;
    for ( I = 0; I < (uParam0^); I++ )
    {
        if (IS_MODEL_IN_CDIMAGE( (uParam0^)[I] ))
        {
            if (NOT (HAS_MODEL_LOADED( (uParam0^)[I] )))
            {
                DISPLAYF( "[GA] Model not loaded : {!f1} : {1} ###", 2, 1, -874832622, 513, (uParam0^)[I] );
                Result = 0;
            }
        }
        else
        {
            SCRIPT_ASSERT( "Trying to check if a model has loaded that is not in the img", 0 );
        }
    }
    return Result;
}

/* F_SPAWN_PIER_BOATS_AND_PEDS */ int sub_55193()
{
    int I;

    switch (l_U5586)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_3853( "GA", "Initializing spawning Under Pier boats and enemies.", 0 );
        l_U5122 = 0;
        l_U5576 = 0;
        l_U5586 = 2;
        break;
        case 2:
        if (l_U5122 < 5)
        {
            if (l_U5122 == 0)
            {
                 /* WRITESCRIPTLOG */ sub_3853( "GA", "Starting to create under pier peds.", 0 );
                 /* P_RAIL_CREATE_MINIBOAT */ sub_55442( ref l_U4930[0], 0.00000000, 0.50000000, 0 );
            }
            else if (l_U5122 == 1)
            {
                 /* P_RAIL_CREATE_MINIBOAT */ sub_55442( ref l_U4930[1], 0.00000000, 0.50000000, 0 );
            }
            else if (l_U5122 == 2)
            {
                 /* P_RAIL_CREATE_MINIBOAT */ sub_55442( ref l_U4930[2], 0.00000000, 0.50000000, 0 );
            }
            else if (l_U5122 == 3)
            {
                 /* P_RAIL_CREATE_BOSSBOAT */ sub_59863( ref l_U5045[0], 0.00000000, 1, 1056964608 );
            }
            else if (l_U5122 == 4)
            {
                 /* P_RAIL_CREATE_BOSSBOAT */ sub_59863( ref l_U5045[1], 0.00000000, 1, 1056964608 );
            };;;;;
            l_U5122++;
        }
        else if (l_U5576 <= 1)
        {
             /* P_RAIL_CREATE_VEHICLE_GUNNER_NEW */ sub_60470( ref l_U4930[0], ref l_U5123[l_U5576], 1, 0, 1, 0, l_U5575, 0, 0 );
        }
        else if (l_U5576 <= 3)
        {
             /* P_RAIL_CREATE_VEHICLE_GUNNER_NEW */ sub_60470( ref l_U4930[1], ref l_U5123[l_U5576], 1, 0, 1, 0, l_U5575, 0, 0 );
        }
        else if (l_U5576 <= 4)
        {
             /* P_RAIL_CREATE_VEHICLE_GUNNER_NEW */ sub_60470( ref l_U4930[2], ref l_U5123[l_U5576], 1, 0, 1, 0, l_U5575, 0, 0 );
        }
        else if (l_U5576 <= 8)
        {
             /* P_RAIL_CREATE_VEHICLE_GUNNER_NEW */ sub_60470( ref l_U5045[0], ref l_U5123[l_U5576], 1, 0, 1, 0, l_U5575, 0, 0 );
        }
        else if (l_U5576 <= 10)
        {
             /* P_RAIL_CREATE_VEHICLE_GUNNER_NEW */ sub_60470( ref l_U5045[1], ref l_U5123[l_U5576], 1, 0, 1, 0, l_U5575, 0, 0 );
        };;;;;
        l_U5576++;
        if (l_U5576 >= 11)
        {
             /* WRITESCRIPTLOG */ sub_3853( "GA", "Complete spawning Under Pier peds.", 0 );
            l_U5586 = 4;
        }
        break;
    }
    if (l_U5586 == 4)
    {
        for ( I = 0; I < 2; I++ )
        {
            if (NOT (IS_VEHICLE_DEAD( l_U4930[I]._fU0 )))
            {
                SET_VEHICLE_VISIBLE( l_U4930[I]._fU0, 0 );
            }
             /* P_DEACTIVATEPED */ sub_63498( l_U4930[I]._fU56 );
        }
        for ( I = 0; I < 11; I++ )
        {
             /* P_DEACTIVATEPED */ sub_63498( l_U5123[I]._fU52 );
        }
        return 1;
        break;
    }
    return 0;
}

/* P_RAIL_CREATE_MINIBOAT */ void sub_55442(int iParam0, unknown uParam1, unknown uParam2, boolean bParam3)
{
    vector vVar6;
    float fVar9;

     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_RAIL_CREATE_MINIBOAT start", 0 );
    iParam0->_fU0 =  /* CREATEVEHICLE */ sub_46120( -838056405, iParam0->_fU88, iParam0->_fU100, 0, 0, 0 );
    iParam0->_fU56 =  /* CREATEPEDINVEHICLE */ sub_49124( iParam0 + 4, iParam0->_fU0, -1, 0, 0 );
    if (NOT (IS_PED_DEAD( iParam0->_fU56 )))
    {
         /* F_GIVEPEDWEAPON */ sub_37417( iParam0->_fU56, 68019059, 25000, 0, 0 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( iParam0->_fU56, 1 );
        SET_PED_DIES_IN_SINKING_VEHICLE( iParam0->_fU56, 1 );
        SET_PED_DIES_IN_WATER( iParam0->_fU56, 1 );
        SET_PED_DIES_INSTANTLY_IN_WATER( iParam0->_fU56, 1 );
        SET_PED_DIES_IN_VEHICLE( iParam0->_fU56, 1 );
        SET_PERSISTENT_PED_VARIATION( iParam0->_fU56, iParam0->_fU84 );
        SET_PED_NAME_DEBUG( iParam0->_fU56, iParam0->_fU144 );
        if (bParam3)
        {
            if ((NOT (IS_VEHICLE_DEAD( g_U977 ))) AND (NOT (IS_PED_DEAD( iParam0->_fU56 ))))
            {
                vVar6 = {0.00000000, 0.00000000, 1.00000000};
                TASK_DRIVER_COMBAT( iParam0->_fU56, 0, g_U977, vVar6, -1.00000000, 1, 1500, 5000, 100 );
            }
        }
    }
    if (NOT (IS_VEHICLE_DEAD( iParam0->_fU0 )))
    {
        SET_VEHICLE_ENGINE_ON( iParam0->_fU0, 1, 1 );
        SET_VEHICLE_LIGHTS( iParam0->_fU0, 2 );
        SET_BOAT_WILL_SINK( iParam0->_fU0, 1 );
        SET_VEHICLE_HEALTH( iParam0->_fU0, 800 );
        fVar9 = (GET_RANDOM_FLOAT_IN_RANGE( 0.15000000, 0.30000000 )) * 1000.00000000;
        SET_PETROLTANK_BURN_RATE( iParam0->_fU0, fVar9 );
    }
     /* P_SETUP_AI_GROUP */ sub_55957( iParam0 + 60, uParam2, 0 );
     /* P_START_VEHICLE_PLAYBACK */ sub_51942( iParam0->_fU0, iParam0->_fU108, uParam1, iParam0->_fU104, 0 );
    iParam0->_fU112 = 1;
    iParam0->_fU128 = 0;
    iParam0->_fU132 = 0;
    iParam0->_fU136 = 0;
     /* P_RAIL_SETUP_VEHICLE_ART */ sub_56412( iParam0 + 0, iParam0->_fU148 );
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_RAIL_CREATE_MINIBOAT end", 0 );
    return;
}

/* P_SETUP_AI_GROUP */ void sub_55957(int iParam0, unknown uParam1, boolean bParam2)
{
    iParam0->_fU4 = uParam1;
    iParam0->_fU0 = CREATE_GROUP( 3, 1 );
    if (bParam2)
    {
        PRINTSTRING( "[MSWW]### P_SETUP_AI_GROUP TOLD TO WAIT FOR GROUP TO EXIST ###" );
        PRINTNL();
        while (NOT (DOES_GROUP_EXIST( iParam0->_fU0 )))
        {
            WAIT( 0 );
            PRINTSTRING( "[MSWW]### GROUP ###" );
            PRINTNL();
        }
        PRINTSTRING( "[MSWW]### P_SETUP_AI_GROUP created group with ID: " );
        PRINTINT( iParam0->_fU0 );
        PRINTNL();
    }
    SET_GROUP_RATIO_FIRING_AT_VISIBLE( iParam0->_fU0, iParam0->_fU4 );
    SET_GROUP_RATIO_FIRING_AT_INVISIBLE( iParam0->_fU0, iParam0->_fU4 );
    if (iParam0->_fU8)
    {
        SET_GROUP_FORMATION( iParam0->_fU0, iParam0->_fU12 );
        SET_GROUP_FORMATION_SPACING( iParam0->_fU0, iParam0->_fU16 );
        SET_GROUP_FORMATION_MAX_MOVE_SPEED( iParam0->_fU0, iParam0->_fU20 );
    }
    return;
}

/* P_RAIL_SETUP_VEHICLE_ART */ void sub_56412(unknown uParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;

     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_SETUP_VEHICLE_ART", 0 );
    array(ref uVar4._fU4, 8);
    ref uVar4;
     /* P_INIT_VEHICLE_ART_TEMPLATE */ sub_56491( ref uVar4 );
    switch (uParam1)
    {
        case 1:
         /* P_VEHICLE_ART_BOSSBOAT_SERRANO */ sub_56809( ref uVar4 );
        break;
        case 2:
         /* P_VEHICLE_ART_BOSSBOAT_ESCORT */ sub_56939( ref uVar4 );
        break;
        case 3:
         /* P_VEHICLE_ART_MINIBOAT_CHASESTART_A */ sub_57068( ref uVar4 );
        break;
        case 4:
         /* P_VEHICLE_ART_MINIBOAT_CHASESTART_B */ sub_57248( ref uVar4 );
        break;
        case 5:
         /* P_VEHICLE_ART_MINIBOAT_CHASESTART_C */ sub_57428( ref uVar4 );
        break;
        case 6:
         /* P_VEHICLE_ART_MINIBOAT_CHASESTART_MID09 */ sub_57608( ref uVar4 );
        break;
        case 7:
         /* P_VEHICLE_ART_MINIBOAT_MOLOTOV */ sub_57796( ref uVar4 );
        break;
        case 8:
         /* P_VEHICLE_ART_FELINO_A */ sub_57897( ref uVar4 );
        break;
        case 9:
         /* P_VEHICLE_ART_FELINO_B */ sub_57982( ref uVar4 );
        break;
        case 10:
         /* P_VEHICLE_ART_FELINO_C */ sub_58067( ref uVar4 );
        break;
        case 11:
         /* P_VEHICLE_ART_JASRE_A */ sub_58152( ref uVar4 );
        break;
        case 12:
         /* P_VEHICLE_ART_JASRE_B */ sub_58307( ref uVar4 );
        break;
        case 14:
         /* P_VEHICLE_ART_MANGROVE_A */ sub_58462( ref uVar4 );
        break;
        case 15:
         /* P_VEHICLE_ART_MANGROVE_B */ sub_58551( ref uVar4 );
        break;
        case 16:
         /* P_VEHICLE_ART_MANGROVE_C */ sub_58640( ref uVar4 );
        break;
        case 17:
         /* P_VEHICLE_ART_MANGROVE_D */ sub_58729( ref uVar4 );
        break;
        case 18:
         /* P_VEHICLE_ART_MANGROVE_E */ sub_58818( ref uVar4 );
        break;
        case 19:
         /* P_VEHICLE_ART_MANGROVE_F */ sub_58907( ref uVar4 );
        break;
        case 13:
         /* P_VEHICLE_ART_MINIBOAT_MID12 */ sub_58996( ref uVar4 );
        break;
        case 20:
         /* P_VEHICLE_ART_MINIBOAT_PIER_A */ sub_59093( ref uVar4 );
        break;
        case 21:
         /* P_VEHICLE_ART_MINIBOAT_PIER_B */ sub_59192( ref uVar4 );
        break;
        case 22:
         /* P_VEHICLE_ART_MINIBOAT_PIER_C */ sub_59291( ref uVar4 );
        break;
    }
     /* P_APPLY_VEHICLE_ART_TEMPLATE */ sub_59392( uParam0, ref uVar4 );
    return;
}

/* P_INIT_VEHICLE_ART_TEMPLATE */ void sub_56491(int iParam0)
{
    int I;

     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_INIT_VEHICLE_ART_TEMPLATE", 0 );
    iParam0->_fU0 = -1;
    for ( I = 0; I < iParam0->_fU4; I++ )
    {
        iParam0->_fU4[I] = 0;
    }
    return;
}

/* P_VEHICLE_ART_BOSSBOAT_SERRANO */ void sub_56809(int iParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_MINIBOAT_CHASESTART_A", 0 );
    iParam0->_fU0 = 0;
    iParam0->_fU4[3] = 1;
    iParam0->_fU4[2] = 2;
    return;
}

/* P_VEHICLE_ART_BOSSBOAT_ESCORT */ void sub_56939(int iParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_MINIBOAT_CHASESTART_A", 0 );
    iParam0->_fU0 = 1;
    iParam0->_fU4[3] = 2;
    iParam0->_fU4[2] = 1;
    return;
}

/* P_VEHICLE_ART_MINIBOAT_CHASESTART_A */ void sub_57068(int iParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_MINIBOAT_CHASESTART_A", 0 );
    iParam0->_fU0 = 4;
    iParam0->_fU4[1] = 1;
    iParam0->_fU4[2] = 1;
    iParam0->_fU4[3] = 2;
    iParam0->_fU4[4] = 2;
    iParam0->_fU4[5] = 1;
    iParam0->_fU4[6] = 2;
    iParam0->_fU4[7] = 2;
    return;
}

/* P_VEHICLE_ART_MINIBOAT_CHASESTART_B */ void sub_57248(int iParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_MINIBOAT_CHASESTART_B", 0 );
    iParam0->_fU0 = 5;
    iParam0->_fU4[1] = 2;
    iParam0->_fU4[2] = 2;
    iParam0->_fU4[3] = 1;
    iParam0->_fU4[4] = 2;
    iParam0->_fU4[5] = 1;
    iParam0->_fU4[6] = 2;
    iParam0->_fU4[7] = 2;
    return;
}

/* P_VEHICLE_ART_MINIBOAT_CHASESTART_C */ void sub_57428(int iParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_MINIBOAT_CHASESTART_C", 0 );
    iParam0->_fU0 = 6;
    iParam0->_fU4[1] = 2;
    iParam0->_fU4[2] = 2;
    iParam0->_fU4[3] = 1;
    iParam0->_fU4[4] = 1;
    iParam0->_fU4[5] = 2;
    iParam0->_fU4[6] = 2;
    iParam0->_fU4[7] = 2;
    return;
}

/* P_VEHICLE_ART_MINIBOAT_CHASESTART_MID09 */ void sub_57608(int iParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_MINIBOAT_CHASESTART_MID09", 0 );
    iParam0->_fU0 = 2;
    iParam0->_fU4[1] = 2;
    iParam0->_fU4[2] = 2;
    iParam0->_fU4[3] = 2;
    iParam0->_fU4[4] = 1;
    iParam0->_fU4[5] = 2;
    iParam0->_fU4[6] = 1;
    iParam0->_fU4[7] = 1;
    return;
}

/* P_VEHICLE_ART_MINIBOAT_MOLOTOV */ void sub_57796(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_MINIBOAT_MOLOTOV", 0 );
    return;
}

/* P_VEHICLE_ART_FELINO_A */ void sub_57897(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_FELINO_A", 0 );
    return;
}

/* P_VEHICLE_ART_FELINO_B */ void sub_57982(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_FELINO_B", 0 );
    return;
}

/* P_VEHICLE_ART_FELINO_C */ void sub_58067(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_FELINO_C", 0 );
    return;
}

/* P_VEHICLE_ART_JASRE_A */ void sub_58152(int iParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_JASRE_A", 0 );
    iParam0->_fU4[0] = 2;
    iParam0->_fU4[1] = 2;
    iParam0->_fU4[2] = 2;
    iParam0->_fU4[3] = 1;
    iParam0->_fU4[4] = 2;
    iParam0->_fU4[5] = 2;
    iParam0->_fU4[6] = 2;
    iParam0->_fU4[7] = 2;
    return;
}

/* P_VEHICLE_ART_JASRE_B */ void sub_58307(int iParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_JASRE_B", 0 );
    iParam0->_fU4[0] = 2;
    iParam0->_fU4[1] = 2;
    iParam0->_fU4[2] = 2;
    iParam0->_fU4[3] = 1;
    iParam0->_fU4[4] = 2;
    iParam0->_fU4[5] = 2;
    iParam0->_fU4[6] = 2;
    iParam0->_fU4[7] = 2;
    return;
}

/* P_VEHICLE_ART_MANGROVE_A */ void sub_58462(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_MANGROVE_A", 0 );
    return;
}

/* P_VEHICLE_ART_MANGROVE_B */ void sub_58551(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_MANGROVE_B", 0 );
    return;
}

/* P_VEHICLE_ART_MANGROVE_C */ void sub_58640(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_MANGROVE_C", 0 );
    return;
}

/* P_VEHICLE_ART_MANGROVE_D */ void sub_58729(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_MANGROVE_D", 0 );
    return;
}

/* P_VEHICLE_ART_MANGROVE_E */ void sub_58818(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_MANGROVE_E", 0 );
    return;
}

/* P_VEHICLE_ART_MANGROVE_F */ void sub_58907(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_MANGROVE_F", 0 );
    return;
}

/* P_VEHICLE_ART_MINIBOAT_MID12 */ void sub_58996(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_MINIBOAT_MID12", 0 );
    return;
}

/* P_VEHICLE_ART_MINIBOAT_PIER_A */ void sub_59093(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_MINIBOAT_PIER_A", 0 );
    return;
}

/* P_VEHICLE_ART_MINIBOAT_PIER_B */ void sub_59192(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_MINIBOAT_PIER_B", 0 );
    return;
}

/* P_VEHICLE_ART_MINIBOAT_PIER_C */ void sub_59291(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_VEHICLE_ART_MINIBOAT_PIER_C", 0 );
    return;
}

/* P_APPLY_VEHICLE_ART_TEMPLATE */ void sub_59392(unknown uParam0, int iParam1)
{
    int I;

     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_APPLY_VEHICLE_ART_TEMPLATE start", 0 );
    if (NOT (IS_VEHICLE_DEAD( (uParam0^) )))
    {
        if (iParam1->_fU0 > -1)
        {
            SET_VEHICLE_COLOUR_COMBINATION( (uParam0^), iParam1->_fU0 );
        }
        for ( I = 0; I < iParam1->_fU4; I++ )
        {
            switch (iParam1->_fU4[I])
            {
                case 1:
                SET_VEHICLE_EXTRA( (uParam0^), I, 0 );
                break;
                case 2:
                SET_VEHICLE_EXTRA( (uParam0^), I, 1 );
                break;
                case 0: break;
            }
        }
    }
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_APPLY_VEHICLE_ART_TEMPLATE end", 0 );
    return;
}

/* P_RAIL_CREATE_BOSSBOAT */ void sub_59863(int iParam0, unknown uParam1, boolean bParam2, unknown uParam3)
{
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_RAIL_CREATE_BOSSBOAT start", 0 );
    iParam0->_fU0 =  /* CREATEVEHICLE */ sub_46120( g_U891, iParam0->_fU88, iParam0->_fU100, 0, 0, 0 );
    iParam0->_fU56 =  /* CREATEPEDINVEHICLE */ sub_49124( iParam0 + 4, iParam0->_fU0, -1, 0, 0 );
    if (NOT (IS_PED_DEAD( iParam0->_fU56 )))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( iParam0->_fU56, 1 );
        SET_PED_CAN_BE_TARGETTED( iParam0->_fU56, 0 );
        SET_PED_AIM_LOCKONABLE( iParam0->_fU56, 0 );
        if (bParam2)
        {
            SET_PED_INVINCIBLE( iParam0->_fU56, 1 );
            SET_PED_GORE( iParam0->_fU56, 0 );
        }
        if ((ref iParam0->_fU4->_fU16) != g_U881)
        {
            SET_PERSISTENT_PED_VARIATION( iParam0->_fU56, iParam0->_fU84 );
        }
    }
    if (NOT (IS_VEHICLE_DEAD( iParam0->_fU0 )))
    {
        if (bParam2)
        {
            SET_VEHICLE_ENGINE_CAN_BE_DAMAGED( iParam0->_fU0, 0 );
            SET_VEHICLE_CAN_BE_DAMAGED( iParam0->_fU0, 0 );
            SET_VEHICLE_CAN_BE_VISIBLY_DAMAGED( iParam0->_fU0, 0 );
        }
        SET_VEHICLE_LIGHTS( iParam0->_fU0, 2 );
        SET_VEHICLE_ENGINE_ON( iParam0->_fU0, 1, 1 );
    }
     /* P_SETUP_AI_GROUP */ sub_55957( iParam0 + 60, uParam3, 0 );
     /* P_START_VEHICLE_PLAYBACK */ sub_51942( iParam0->_fU0, iParam0->_fU108, uParam1, iParam0->_fU104, 0 );
    iParam0->_fU112 = 1;
    iParam0->_fU128 = 0;
    iParam0->_fU132 = 0;
    iParam0->_fU136 = 0;
     /* P_RAIL_SETUP_VEHICLE_ART */ sub_56412( iParam0 + 0, iParam0->_fU148 );
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_RAIL_CREATE_BOSSBOAT end", 0 );
    return;
}

/* P_RAIL_CREATE_VEHICLE_GUNNER_NEW */ void sub_60470(int iParam0, int iParam1, boolean bParam2, boolean bParam3, boolean bParam4, boolean bParam5, unknown uParam6, boolean bParam7, unknown uParam8)
{
    float fVar11;
    int iVar12;
    unknown uVar13;

     /* WRITESCRIPTLOG */ sub_3853( "AT", "F_RAIL_CREATE_VEHICLE_GUNNER start", 0 );
    iParam1->_fU52 =  /* CREATEPED */ sub_48333( iParam1 + 0 );
    if ((NOT (IS_VEHICLE_DEAD( iParam0->_fU0 ))) AND (NOT (IS_PED_DEAD( iParam1->_fU52 ))))
    {
        if (bParam2)
        {
            fVar11 = 0.00000000;
        }
        else
        {
            fVar11 = 180.00000000;
        }
        iVar12 = GET_VEHICLE_MODEL( iParam0->_fU0 );
        if (iVar12 == 1751023925)
        {
            fVar11 = 180.00000000;
        }
        else if (iVar12 == 170939170)
        {
            fVar11 = 90.00000000;
        }
        else if (iVar12 == -1425703854)
        {
            fVar11 = 90.00000000;
        };;;
        if (bParam7)
        {
            fVar11 = uParam8;
        }
        if (bParam5)
        {
            ATTACH_PED_TO_VEHICLE( iParam1->_fU52, iParam0->_fU0, 0, l_U1252[iParam1->_fU64], fVar11, 360.00000000, 0, 0, 1, 1 );
        }
        else
        {
            ATTACH_PED_TO_VEHICLE( iParam1->_fU52, iParam0->_fU0, 0, l_U1252[iParam1->_fU64], fVar11, 360.00000000, 1, 0, 0, 1 );
        }
        iParam1->_fU160 = iParam0->_fU0;
        while ((NOT (IS_PED_ATTACHED_TO_ANY_VEHICLE( iParam1->_fU52 ))) AND (NOT (IS_PED_DEAD( iParam1->_fU52 ))))
        {
             /* WRITESCRIPTLOG */ sub_3853( "AT", "Waiting for gunner to be attached to boat.", 0 );
            WAIT( 0 );
        }
        SET_PERSISTENT_PED_VARIATION( iParam1->_fU52, iParam1->_fU56 );
        SET_PED_NAME_DEBUG( iParam1->_fU52, iParam1->_fU68 );
        uVar13 =  /* F_GIVEPEDWEAPON */ sub_37417( iParam1->_fU52, iParam1->_fU60, 25000, 0, 0 );
         /* P_SETUP_VEHICLE_GUNNER_ANIMATIONS */ sub_61054( iParam1 + 52, iParam0 + 0, iParam1->_fU64 );
        if (bParam3)
        {
             /* P_RAIL_ATTACK_PLAYER_BOAT */ sub_62125( iParam1->_fU52 );
        }
        if (bParam4)
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( iParam1->_fU52, 1 );
        }
        SET_PED_DIES_INSTANTLY_IN_WATER( iParam1->_fU52, 1 );
        OVERRIDE_PED_FIRING_PATTERN( iParam1->_fU52, -256437761 );
        SET_PED_ACCURACY( iParam1->_fU52, -1467320974 );
        SET_WEAPON_CHANCE_TO_FIRE_BLANKS( uVar13, uParam6 );
        SET_PED_FORCE_USE_RAGDOLL( iParam1->_fU52, 1, 0 );
         /* P_QUICK_ADD_PED_TO_GROUP */ sub_62536( iParam1->_fU52, iParam0 + 60 );
    }
    iParam1->_fU72 = 0;
     /* RESETTIMER */ sub_62931( iParam1 + 76 );
     /* WRITESCRIPTLOG */ sub_3853( "GA", "F_RAIL_CREATE_VEHICLE_GUNNER end", 0 );
    return;
}

/* P_SETUP_VEHICLE_GUNNER_ANIMATIONS */ void sub_61054(unknown uParam0, unknown uParam1, unknown uParam2)
{
    unknown uVar5;
    string sVar6;
    string sVar7;
    string sVar8;
    string sVar9;
    string sVar10;
    string sVar11;

    uVar5 = GET_VEHICLE_MODEL( (uParam1^) );
    sVar6 = "/Global/s_marina_drv/CS_AIM_BACK/CS_1/COMBAT";
    sVar7 = "/Global/s_marina_drv/CS_AIM_BACK/CS_2/COMBAT";
    sVar8 = "/Global/s_marina_drv/CS_AIM_BACK/CS_3/COMBAT";
    sVar9 = "/Global/s_marina_drv/CS_AIM_FWD/CS_1/COMBAT";
    sVar10 = "/Global/s_marina_drv/CS_AIM_FWD/CS_2/COMBAT";
    sVar11 = "/Global/s_marina_drv/CS_AIM_FWD/CS_3/COMBAT";
    switch (uVar5)
    {
        case -838056405:
        switch (uParam2)
        {
            case 4:
             /* WRITESCRIPTLOG */ sub_3853( "AT", "Playing /Global/s_marina_drv/CS_AIM_BACK/CS_1/ on mini boat gunner.", 0 );
            PED_ACTION_TREE_PLAY_NODE( (uParam0^), sVar6 );
            break;
            case 1:
             /* WRITESCRIPTLOG */ sub_3853( "AT", "Playing /Global/s_marina_drv/CS_AIM_FWD/CS_2 on mini boat gunner.", 0 );
            PED_ACTION_TREE_PLAY_NODE( (uParam0^), sVar10 );
            break;
            case 5:
             /* WRITESCRIPTLOG */ sub_3853( "AT", "Playing /Global/s_marina_drv/CS_AIM_BACK/CS_2 on mini boat gunner.", 0 );
            PED_ACTION_TREE_PLAY_NODE( (uParam0^), sVar7 );
            break;
            case 2:
             /* WRITESCRIPTLOG */ sub_3853( "AT", "Playing /Global/s_marina_drv/CS_AIM_FWD/CS_3/ on mini boat gunner.", 0 );
            PED_ACTION_TREE_PLAY_NODE( (uParam0^), sVar11 );
            break;
            case 3:
             /* WRITESCRIPTLOG */ sub_3853( "AT", "Playing /Global/s_marina_drv/CS_AIM_BACK/CS_3 on mini boat gunner.", 0 );
            PED_ACTION_TREE_PLAY_NODE( (uParam0^), sVar8 );
            break;
            case 0:
             /* WRITESCRIPTLOG */ sub_3853( "AT", "Playing /Global/s_marina_drv/CS_AIM_FWD/CS_1 on mini boat gunner.", 0 );
            PED_ACTION_TREE_PLAY_NODE( (uParam0^), sVar9 );
            break;
        }
        break;
        case 1751023925: break;
        case -1425703854: break;
    }
    return;
}

/* P_RAIL_ATTACK_PLAYER_BOAT */ void sub_62125(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_ATTACK_PLAYER_BOAT start", 0 );
    if ((NOT (IS_VEHICLE_DEAD( g_U977 ))) AND (NOT (IS_PED_DEAD( uParam0 ))))
    {
        SET_PED_SEEING_RANGE( uParam0, 200.00000000, 75 );
        SET_PED_HEARING_RANGE( uParam0, 200.00000000 );
        SET_PED_COMBAT_RANGE_MAX( uParam0, 200.00000000 );
        SET_PED_EMOTION_STATE( uParam0, 1 );
        SET_PED_ALERTNESS( uParam0, 3 );
        SET_PED_COMBAT_MOVEMENT( uParam0, 0 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
        {
            REGISTER_TARGET( uParam0,  /* PLAYER_PED_ID */ sub_34875() );
        }
        TASK_SHOOT_AT_VEHICLE( uParam0, g_U977, 0, l_U1223, -1, 0, 0, 0 );
    }
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_ATTACK_PLAYER_BOAT end", 0 );
    return;
}

/* P_QUICK_ADD_PED_TO_GROUP */ void sub_62536(unknown uParam0, int iParam1)
{
    int iVar4;
    unknown uVar5;

    if ((DOES_GROUP_EXIST( iParam1->_fU0 )) == 0)
    {
         /* WRITE_STRING */ sub_30580( "[SP]### Warning!!! Group does not exist. Creating new group specified attributes. ###" );
        if (iParam1->_fU4 > 0)
        {
             /* P_SETUP_AI_GROUP */ sub_55957( iParam1, iParam1->_fU4, 0 );
        }
        else
        {
             /* P_SETUP_AI_GROUP */ sub_55957( iParam1, 1056964608, 0 );
        }
    }
    else
    {
        PRINTSTRING( "[MSWW]### P_QUICK_ADD_PED_TO_GROUP adding ped to group with ID: " );
        PRINTINT( iParam1->_fU0 );
        PRINTNL();
    }
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        GET_GROUP_SIZE( iParam1->_fU0, ref iVar4, ref uVar5 );
        if (iVar4 == 0)
        {
            SET_PED_AS_GROUP_LEADER( uParam0, iParam1->_fU0 );
        }
        else
        {
            SET_PED_AS_GROUP_MEMBER( uParam0, iParam1->_fU0 );
        }
        SET_PED_NEVER_LEAVES_GROUP( uParam0, 1 );
    }
    return;
}

/* RESETTIMER */ void sub_62931(int iParam0)
{
    if (iParam0->_fU28)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    return;
}

/* P_DEACTIVATEPED */ void sub_63498(unknown uParam0)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_FREEZE_PROCESSING( uParam0, 1 );
        SET_PED_VISIBLE( uParam0, 0 );
        SET_PED_VISIBLE_DURING_SEQUENCE( uParam0, 0 );
        FREEZE_PED_POSITION( uParam0, 1 );
        SET_PED_COLLISION( uParam0, 0 );
        SET_PED_PROOFS( uParam0, 1, 1, 1, 1, 1 );
    }
    return;
}

/* P_PIER_MID_12B_PREPARE_BLENDOUT */ void sub_63854()
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_PIER_MID_12B_PREPARE_BLENDOUT start", 0 );
    SET_RAIL_RELATIVE_DIR( 5, l_U1455[5] );
    SET_CAMERA_OVERRIDE( l_U1430[6][0], l_U1430[6][1], 0, 1, 1 );
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( l_U1463[5], 1.00000000, 1 );
    SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U1471[5], 1.00000000, 1 );
    if ((NOT (IS_VEHICLE_DEAD( l_U5045[0]._fU0 ))) AND (NOT (IS_PED_DEAD( l_U5045[0]._fU56 ))))
    {
        if (IS_VEHICLE_SEAT_FREE( l_U5045[0]._fU0, -1 ))
        {
            SET_PED_INTO_VEHICLE( l_U5045[0]._fU56, l_U5045[0]._fU0, -1 );
        }
    }
     /* P_START_VEHICLE_PLAYBACK */ sub_51942( l_U5045[0]._fU0, l_U5045[0]._fU108, l_U4926, l_U5045[0]._fU104, 0 );
     /* P_START_VEHICLE_PLAYBACK */ sub_51942( l_U5045[1]._fU0, l_U5045[1]._fU108, l_U4926, l_U5045[1]._fU104, 0 );
     /* P_START_VEHICLE_PLAYBACK */ sub_51942( l_U4930[0]._fU0, l_U4930[0]._fU108, l_U4926, l_U4930[0]._fU104, 0 );
     /* P_START_VEHICLE_PLAYBACK */ sub_51942( l_U4930[1]._fU0, l_U4930[1]._fU108, l_U4926, l_U4930[1]._fU104, 0 );
     /* P_START_VEHICLE_PLAYBACK */ sub_51942( l_U4930[2]._fU0, l_U4930[2]._fU108, l_U4926, l_U4930[2]._fU104, 0 );
    if ((NOT (IS_VEHICLE_DEAD( g_U977 ))) AND (NOT (IS_PED_DEAD( g_U976 ))))
    {
        SET_PED_INTO_VEHICLE( g_U976, g_U977, -1 );
        if (NOT (GET_DOES_WEAPON_EXIST( GET_WEAPON_FROM_HAND( g_U976, 0, 0 ) )))
        {
            if (GET_DOES_WEAPON_EXIST( GET_WEAPON_FROM_HOLSTER( g_U976, 1 ) ))
            {
                SELECT_WEAPON_TO_HAND( g_U976, GET_WEAPON_FROM_HOLSTER( g_U976, 1 ), 0, 1 );
            }
            else if (GET_DOES_WEAPON_EXIST( GET_WEAPON_FROM_HOLSTER( g_U976, 0 ) ))
            {
                SELECT_WEAPON_TO_HAND( g_U976, GET_WEAPON_FROM_HOLSTER( g_U976, 0 ), 0, 1 );
            }
        }
    }
    if (NOT (IS_VEHICLE_DEAD( g_U977 )))
    {
        SET_PLAYBACK_SPEED( g_U977, l_U4926 );
    }
     /* P_PLAY_AUDIO_SCRIPT_STREAM_FRONTEND */ sub_53535( l_U1508, 0 );
     /* NIS_POST_SETUP */ sub_64635( 1, 1 );
     /* P_RAIL_BOAT_DAMAGE_METER_ON */ sub_64939();
     /* P_RAIL_GUN_HEAT_ON */ sub_65225();
    l_U990 = 0;
     /* P_MAKE_PIER_BOATS_ATTACK */ sub_65400();
     /* P_CREATE_AND_START_TIMER */ sub_65967( ref l_U5577, 1500 );
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_PIER_MID_12B_PREPARE_BLENDOUT end", 0 );
    return;
}

/* NIS_POST_SETUP */ void sub_64635(boolean bParam0, boolean bParam1)
{
    SET_WIDESCREEN_BORDERS( 0, 500 );
    DISPLAY_HUD( 1 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_34913(), 1, 0 );
        SET_PED_INVINCIBLE(  /* PLAYER_PED_ID */ sub_34875(), 0 );
        if (bParam0)
        {
             /* P_MAX_RELOAD_WEAPONS */ sub_64733();
        }
    }
    PULSE_CROSSHAIR( 1 );
    if (bParam1)
    {
        DESTROY_ALL_CAMS();
    }
    return;
}

/* P_MAX_RELOAD_WEAPONS */ void sub_64733()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )) == 0)
    {
        uVar2 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_34875(), 0, 0 );
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_34875(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
        {
            uVar4 = GET_MAX_AMMO_IN_HAND_CLIP_MP(  /* PLAYER_PED_ID */ sub_34875(), 0 );
            SET_WEAPON_AMMO_IN_CLIP( uVar2, uVar4 );
        }
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            uVar5 = GET_MAX_AMMO_IN_HAND_CLIP_MP(  /* PLAYER_PED_ID */ sub_34875(), 1 );
            SET_WEAPON_AMMO_IN_CLIP( uVar3, uVar5 );
        }
    }
    return;
}

/* P_RAIL_BOAT_DAMAGE_METER_ON */ void sub_64939()
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_BOAT_DAMAGE_METER_ON start", 0 );
    TOGGLE_DISPLAY_AMMO( 0 );
    HUD_SET_PLAYER_HEALTH_TEXTURE( "mp3_hud_health_boat" );
    ENABLE_PLAYERHEALTH( 1 );
    ENABLE_BULLETTIMEMETER( 1 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        SET_PED_INVINCIBLE(  /* PLAYER_PED_ID */ sub_34875(), 1 );
        SET_PED_PROOFS(  /* PLAYER_PED_ID */ sub_34875(), 1, 1, 1, 1, 1 );
        SET_PED_GORE(  /* PLAYER_PED_ID */ sub_34875(), 0 );
         /* P_MAX_RELOAD_WEAPONS */ sub_64733();
        SET_PED_CONSUMING_AMMO(  /* PLAYER_PED_ID */ sub_34875(), 0 );
    }
    SET_GENERATE_BULLET_SHELLS( 0 );
    l_U990 = 1;
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_BOAT_DAMAGE_METER_ON end", 0 );
    return;
}

/* P_RAIL_GUN_HEAT_ON */ void sub_65225()
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_GUN_HEAT_ON start", 0 );
    l_U1196 = 0;
    l_U1212 = 0;
    l_U1215 = 0.00000000;
    l_U1216 = TIMERA();
    ENABLE_OVERHEAT_ICON( 1, "weap_hk_21e" );
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_GUN_HEAT_ON end", 0 );
    return;
}

/* P_MAKE_PIER_BOATS_ATTACK */ void sub_65400()
{
    int I;

     /* WRITESCRIPTLOG */ sub_3853( "MF", "P_MAKE_PIER_BOATS_ATTACK - START", 0 );
    l_U1223 = {l_U5687};
    for ( I = 0; I < 11; I++ )
    {
         /* P_ACTIVATEPED */ sub_65522( l_U5123[I]._fU52 );
         /* P_RAIL_ATTACK_PLAYER_BOAT */ sub_62125( l_U5123[I]._fU52 );
    }
    for ( I = 0; I < l_U4930; I++ )
    {
         /* P_ACTIVATEPED */ sub_65522( l_U4930[I]._fU56 );
        if (NOT (IS_VEHICLE_DEAD( l_U4930[I]._fU0 )))
        {
            SET_VEHICLE_VISIBLE( l_U4930[I]._fU0, 1 );
        }
         /* P_RAIL_TASK_VEHICLE_DRIVER */ sub_65759( ref l_U4930[I] );
    }
     /* WRITESCRIPTLOG */ sub_3853( "MF", "P_MAKE_PIER_BOATS_ATTACK - END", 0 );
    return;
}

/* P_ACTIVATEPED */ void sub_65522(unknown uParam0)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_FREEZE_PROCESSING( uParam0, 0 );
        SET_PED_VISIBLE( uParam0, 1 );
        SET_PED_VISIBLE_DURING_SEQUENCE( uParam0, 1 );
        FREEZE_PED_POSITION( uParam0, 0 );
        SET_PED_COLLISION( uParam0, 1 );
        SET_PED_PROOFS( uParam0, 0, 0, 0, 0, 0 );
    }
    return;
}

/* P_RAIL_TASK_VEHICLE_DRIVER */ void sub_65759(int iParam0)
{
    vector vVar3;

    if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() ))) AND (NOT (IS_PED_DEAD( iParam0->_fU56 ))))
    {
        vVar3 = {0.00000000, 0.00000000, 0.00000000};
        TASK_DRIVER_COMBAT( iParam0->_fU56,  /* PLAYER_PED_ID */ sub_34875(), 0, vVar3, -1.00000000, 1, 1500, 5000, 100 );
    }
    return;
}

/* P_CREATE_AND_START_TIMER */ void sub_65967(unknown uParam0, unknown uParam1)
{
     /* CREATETIMER */ sub_23130( uParam0, uParam1, 1, 0 );
     /* STARTTIMER */ sub_66017( uParam0 );
    return;
}

/* STARTTIMER */ void sub_66017(int iParam0)
{
    if (NOT iParam0->_fU20)
    {
        iParam0->_fU20 = 1;
        iParam0->_fU16 = 0;
        if (iParam0->_fU28)
        {
            iParam0->_fU0 = TIMERA();
        }
        else
        {
            iParam0->_fU0 = TIMERB();
        }
        if (iParam0->_fU32 == 1)
        {
            iParam0->_fU0 = TIMERSYSTEM();
        }
        iParam0->_fU4 = iParam0->_fU0;
    }
    return;
}

/* F_IMAGEFX_FADE_IN */ int sub_66303()
{
    if (l_U414)
    {
         /* WRITESCRIPTLOG */ sub_3853( "CO", "F_IMAGEFX_FADE_IN: IMAGEFX START", 0 );
        START_PANEL_WIPE( 0, 6 );
        PLAY_IMAGEFX( "BULLETCAM_IMPACT", 3, 1 );
        PLAY_IMAGEFX( "BLACK_FADE_UP_FAST_01", 3, 1 );
        DO_SCREEN_FADE_IN( 0 );
        l_U414 = 0;
        return 1;
        break;
    }
     /* WRITESCRIPTLOG */ sub_3853( "CO", "F_IMAGEFX_FADE_IN: NORMAL START", 0 );
    return 0;
}

/* P_CLEANUP_MANGROVE_SECTION */ void sub_66560()
{
    int I;

     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_CLEANUP_MANGROVE_SECTION start", 0 );
     /* P_RAIL_CLEAN_MANGROVE_GUNNERS */ sub_66645();
     /* P_RAIL_CLEAN_RS_VEHICLE_ARRAY */ sub_66860( ref l_U1690, 0 );
     /* P_UNLOAD_MODEL_ARRAY */ sub_67172( ref l_U539 );
     /* P_UNLOAD_VEHICLE_RECORDING_ARRAY */ sub_67477( ref l_U541 );
    for ( I = 0; I < 6; I++ )
    {
         /* P_CLEAN_FLAVOUR_BOAT */ sub_67691( ref l_U4082[I] );
    }
     /* P_RAIL_MANGROVE_STOP_AUDIO */ sub_67820();
     /* P_SAFE_STOP_SOUND */ sub_67983( l_U4909, 0 );
     /* P_SAFE_RELEASE_SOUND_ID */ sub_68166( ref l_U4909 );
    RELEASE_NAMED_SCRIPT_AUDIO_BANK( "SCRIPT_MISSION\S_MARINA_RAIL_SHOOTER_2" );
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_CLEANUP_MANGROVE_SECTION end", 0 );
    return;
}

/* P_RAIL_CLEAN_MANGROVE_GUNNERS */ void sub_66645()
{
    int J;
    int I;

    for ( J = 0; J < 19; J++ )
    {
        for ( I = 0; I < l_U4011[J]; I++ )
        {
             /* CLEANPED */ sub_66740( l_U2433[J][I]._fU52 );
        }
    }
    return;
}

/* CLEANPED */ void sub_66740(unknown uParam0)
{
    if (DOES_PED_EXIST( uParam0 ))
    {
        if ((NOT (IS_PED_DEAD( uParam0 ))) || (IS_PED_DEAD( uParam0 )))
        {
            REMOVE_ALL_PED_WEAPONS( uParam0 );
            DELETE_PED( ref uParam0 );
        }
    }
    return;
}

/* P_RAIL_CLEAN_RS_VEHICLE_ARRAY */ void sub_66860(unknown uParam0, unknown uParam1)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
         /* P_RAIL_CLEAN_RS_VEHICLE */ sub_66926( ref (uParam0^)[I], uParam1 );
    }
    return;
}

/* P_RAIL_CLEAN_RS_VEHICLE */ void sub_66926(int iParam0, boolean bParam1)
{
    if (iParam0->_fU128 != 0)
    {
        STOP_PARTICLE_FX_LOOPED( iParam0->_fU128 );
    }
     /* CLEANPED */ sub_66740( iParam0->_fU56 );
     /* CLEANVEHICLE */ sub_67007( iParam0->_fU0 );
    if (bParam1)
    {
         /* CLEANVEHICLERECORDING */ sub_67090( iParam0->_fU108 );
    }
    return;
}

/* CLEANVEHICLE */ void sub_67007(unknown uParam0)
{
    if (IS_VEHICLE_DEAD( uParam0 ))
    {
        ;
    }
    if (DOES_VEHICLE_EXIST( uParam0 ))
    {
        DELETE_VEHICLE( ref uParam0 );
    }
    return;
}

/* CLEANVEHICLERECORDING */ void sub_67090(unknown uParam0)
{
    REMOVE_VEHICLE_RECORDING( uParam0 );
    return;
}

/* P_UNLOAD_MODEL_ARRAY */ void sub_67172(unknown uParam0)
{
    int I;

     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_UNLOAD_MODEL_ARRAY start", 0 );
    for ( I = 0; I < (uParam0^); I++ )
    {
         /* UNLOADMODEL */ sub_67266( (uParam0^)[I] );
    }
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_UNLOAD_MODEL_ARRAY end", 0 );
    return;
}

/* UNLOADMODEL */ void sub_67266(unknown uParam0)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 1)
    {
        SET_MODEL_AS_NO_LONGER_NEEDED( uParam0 );
    }
    else
    {
         /* WRITE_STRING */ sub_30580( "[SP]### ERROR! (UnloadModel) Trying to unload a model that isn't in the img! ###" );
    }
    return;
}

/* P_UNLOAD_VEHICLE_RECORDING_ARRAY */ void sub_67477(unknown uParam0)
{
    int I;

     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_UNLOAD_VEHICLE_RECORDING_ARRAY start", 0 );
    for ( I = 0; I < (uParam0^); I++ )
    {
         /* CLEANVEHICLERECORDING */ sub_67090( (uParam0^)[I] );
    }
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_UNLOAD_VEHICLE_RECORDING_ARRAY end", 0 );
    return;
}

/* P_CLEAN_FLAVOUR_BOAT */ void sub_67691(int iParam0)
{
    int I;

     /* CLEANVEHICLE */ sub_67007( ref iParam0->_fU0->_fU0 );
     /* CLEANPED */ sub_66740( ref iParam0->_fU0->_fU56 );
    for ( I = 0; I < iParam0->_fU176; I++ )
    {
         /* CLEANPED */ sub_66740( iParam0->_fU180[I]._fU52 );
    }
    return;
}

/* P_RAIL_MANGROVE_STOP_AUDIO */ void sub_67820()
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_RAIL_MANGROVE_STOP_AUDIO - Start", 0 );
    STOP_SCRIPT_STREAM( 1 );
    STOP_SCRIPT_STREAM( 2 );
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_RAIL_MANGROVE_STOP_AUDIO - End", 0 );
    return;
}

/* P_SAFE_STOP_SOUND */ void sub_67983(int iParam0, unknown uParam1)
{
    if (iParam0 != -1)
    {
         /* WRITESCRIPTLOG */ sub_3853( "MF", "P_SAFE_STOP_SOUND: Stopping Sound...", 0 );
        STOP_SOUND( iParam0, uParam1 );
    }
    else
    {
         /* WRITESCRIPTLOG */ sub_3853( "MF", "P_SAFE_STOP_SOUND: Not stopping sound (SoundID = -1)", 0 );
    }
    return;
}

/* P_SAFE_RELEASE_SOUND_ID */ void sub_68166(unknown uParam0)
{
    if ((uParam0^) != -1)
    {
         /* WRITESCRIPTLOG */ sub_3853( "MF", "P_SAFE_RELEASE_SOUND_ID: Releasing Sound...", 0 );
        RELEASE_SOUND_ID( (uParam0^) );
        (uParam0^) = -1;
    }
    else
    {
         /* WRITESCRIPTLOG */ sub_3853( "MF", "P_SAFE_RELEASE_SOUND_ID: Not RELEASING sound (SoundID != -1)", 0 );
    }
    return;
}

/* P_RAIL_PIER_JUMP_CREATE_SHACK */ void sub_68470()
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_PIER_JUMP_CREATE_SHACK start", 0 );
    l_U6153[0] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U940, -183.89000000, -3015.89200000, 4.78000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U6153[1] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U941, -183.90000000, -3016.18500000, 4.78000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U6153[2] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U942, -183.90000000, -3016.45300000, 4.78000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U6153[3] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U943, -183.90000000, -3016.71500000, 4.78000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U6153[4] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U944, -183.90000000, -3016.98600000, 4.78000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U6153[5] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U945, -183.90000000, -3017.27000000, 4.78000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U6153[6] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U946, -183.90000000, -3017.55500000, 4.78000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U6153[7] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U947, -183.90000000, -3017.84800000, 4.78000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U6153[8] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U948, -183.90000000, -3018.16900000, 4.78000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U6153[9] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U949, -183.90000000, -3018.47800000, 4.78000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U6153[10] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U950, -183.90000000, -3018.81000000, 4.78000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U6153[11] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U951, -183.90000000, -3019.10500000, 4.78000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U6153[12] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U952, -183.90000000, -3019.40900000, 4.78000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U6153[13] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U953, -183.90000000, -3019.73700000, 4.78000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_PIER_JUMP_CREATE_SHACK end", 0 );
    return;
}

/* CREATEOBJECTNOOFFSET */ void sub_68601(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_30463( uParam0, 1 );
    }
    Result = CREATE_OBJECT_NO_OFFSET( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an object to exist: {!f1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

/* REQUESTANIMDICT */ void sub_69697(unknown uParam0, int iParam1)
{
    if (iParam1 == 0)
    {
        DISPLAYF( "[SP]### Requesting Anim Dictionary {0} ###", 1, 1537, uParam0 );
    }
    else
    {
        DISPLAYF( "[SP]### Requesting PM Anim Dictionary {0} ###", 1, 1537, uParam0 );
    }
    REQUEST_ANIM_DICT( uParam0, iParam1 );
    "[doubled result, dropped if not asigned]";
    return;
}

/* P_RAIL_PLAY_MUSIC_CUE */ void sub_69937(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_RAIL_PLAY_MUSIC_CUE", 0 );
    switch (uParam0._fU16)
    {
        case 0:
        DISPLAYF( "[RS MUSIC] Playing music cue {0}, {1}, fade-in: {2}, fade-out: {3}", 4, 1537, uParam0._fU0, 1537, uParam0._fU4, 513, uParam0._fU8, 513, uParam0._fU12 );
        AUDIO_MUSIC_FORCE_TRACK( uParam0._fU0, uParam0._fU4, "", 0, uParam0._fU8, uParam0._fU12, -1082130432, 0 );
        break;
        case 1:
        if (NOT (AUDIO_MUSIC_IS_ONESHOT_PREPARED( uParam0._fU0 )))
        {
            DISPLAYF( "[RS MUSIC] !!! ONESHOT {0} HAS NOT BEEN PRELOADED !!!", 1, 1537, uParam0._fU0 );
            SCRIPT_ASSERT( "!!! ONESHOT {0} HAS NOT BEEN PRELOADED !!!", 1, 1537, uParam0._fU0 );
        }
        AUDIO_MUSIC_PLAY_ONESHOT();
        break;
        case 2:
        DISPLAYF( "[RS MUSIC] Suspending music over {0} ms.", 1, 513, uParam0._fU12 );
        AUDIO_MUSIC_SUSPEND( uParam0._fU12 );
        break;
    }
    return;
}

/* P_RAIL_START_PIER_JUMP_SECTION */ void sub_70526()
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_START_PIER_JUMP_SECTION start", 0 );
    l_U852 = 6;
    if ((NOT (HAS_ANIM_DICT_LOADED( "LEVEL_S_MARINA_RS_CP_05", 0 ))) || ((NOT (HAS_ANIM_DICT_LOADED( "level_s_marina_rs_cp_10", 0 ))) || ((NOT ( /* F_ARE_VEHICLE_RECORDINGS_LOADED */ sub_50794( ref l_U593 ))) || (NOT ( /* F_ARE_MODELS_LOADED */ sub_54742( ref l_U563 ))))))
    {
        SCRIPT_ASSERT( "Not all assets for PIER_MPM checkpoint loaded.", 0 );
         /* TEXT_ONSCREEN_GENERAL */ sub_51084( "WAITING FOR PIER_MPM CHECKPOINT ASSETS TO LOAD", 100000 );
         /* P_LOAD_MODEL_ARRAY */ sub_31802( ref l_U563 );
         /* P_LOAD_VEHICLE_RECORDING_ARRAY */ sub_32032( ref l_U593, 1 );
         /* LOADANIMDICT */ sub_29699( "level_s_marina_rs_cp_10", 0, 1 );
         /* LOADANIMDICT */ sub_29699( "LEVEL_S_MARINA_RS_CP_05", 0, 1 );
        CLEAR_PRINTS();
    }
    if (NOT l_U6168)
    {
         /* P_RAIL_PIER_JUMP_CREATE_SHACK */ sub_68470();
        l_U6168 = 1;
    }
     /* P_RAIL_GUN_HEAT_OFF */ sub_70953();
     /* P_RAIL_BOAT_DAMAGE_METER_OFF */ sub_71084();
    if (NOT l_U1497)
    {
         /* TERMINATEINTERACTIVESEQUENCE */ sub_71260( "S_MAR_VIG_27", 1 );
         /* SETUPINTERACTIVESEQUENCE */ sub_52319( "S_MAR_VIG_27", "LEVEL_S_MARINA_RS_CP_10", "/LEVEL/S_MARINA/S_MAR_VIG_27.act", "/Global/S_MAR_VIG_27/SEQ_START", 1 );
         /* LOADWEAPON */ sub_29488( 456708483, 1 );
        l_U6125 = 1;
        while (l_U6125 != 4)
        {
             /* WRITESCRIPTLOG */ sub_3853( "GA", "Spawning MPM peds.", 0 );
             /* P_RAIL_PIER_JUMP_SPAWN_PEDS */ sub_71625();
            WAIT( 0 );
        }
    }
    if (l_U1497)
    {
         /* P_PIER_MID_13_DOCKS */ sub_73118();
         /* P_RAIL_PASSOS_UNHOLSTER_POST_CUTSCENE */ sub_80700();
    }
     /* P_PIER_MID_13_SETUP_BLENDOUT */ sub_81093();
     /* P_CLEANUP_UNDERPIER_SECTION */ sub_73597();
     /* P_UPDATE_SMOKE_PLAYER_BOAT */ sub_82349( l_U1488, l_U1481, l_U1485 );
    SET_BOAT_OUT_OF_CONTROL_AND_BLOW_UP_WHEN_DRIVER_DEAD( 0 );
     /* P_SETUP_PLAYER_BOAT_JUMP_MPM_SECTION */ sub_82620();
    l_U5702 = 1;
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_START_PIER_JUMP_SECTION end", 0 );
    return;
}

/* P_RAIL_GUN_HEAT_OFF */ void sub_70953()
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_GUN_HEAT_OFF start", 0 );
    l_U1196 = 5;
    ENABLE_OVERHEAT_ICON( 0, 0 );
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_GUN_HEAT_OFF end", 0 );
    return;
}

/* P_RAIL_BOAT_DAMAGE_METER_OFF */ void sub_71084()
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_BOAT_DAMAGE_METER_OFF start", 0 );
    l_U990 = 0;
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_BOAT_DAMAGE_METER_OFF end", 0 );
    return;
}

/* TERMINATEINTERACTIVESEQUENCE */ void sub_71260(unknown uParam0, int iParam1)
{
    if ((I_SEQUENCE_IS_LOADED( uParam0 )) == 1)
    {
        I_SEQUENCE_TERMINATE( uParam0 );
    }
    if (iParam1 == 1)
    {
        while ((I_SEQUENCE_IS_LOADED( uParam0 )) == 1)
        {
            DISPLAYF( "[SP]### Waiting for interactive sequence to terminate: {} ###", 1, 1537, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* P_RAIL_PIER_JUMP_SPAWN_PEDS */ void sub_71625()
{
    switch (l_U6125)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_3853( "GA", "Initialising spawning of MPM peds.", 0 );
        l_U6126 = 0;
        l_U6127 = 0;
        l_U6125 = 2;
        break;
        case 2:
        if (l_U6126 < 2)
        {
            if (l_U6126 == 0)
            {
                 /* WRITESCRIPTLOG */ sub_3853( "GA", "Starting spawning MPM peds.", 0 );
                l_U5703[0]._fU0 =  /* CREATEVEHICLE */ sub_46120( g_U891, l_U5814, l_U5817, 1, 0, 0 );
                l_U5703[0]._fU56 =  /* CREATEPEDINVEHICLE */ sub_49124( ref l_U5703[0]._fU4, l_U5703[0]._fU0, -1, 1, 0 );
                 /* P_RAIL_SETUP_VEHICLE_ART */ sub_56412( ref l_U5703[0]._fU0, 1 );
                if (NOT (IS_PED_DEAD( l_U5703[0]._fU56 )))
                {
                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U5703[0]._fU56, 1 );
                    SET_PED_INVINCIBLE( l_U5703[0]._fU56, 1 );
                    SET_PED_GORE( l_U5703[0]._fU56, 0 );
                    SET_PED_CAN_BE_TARGETTED( l_U5703[0]._fU56, 0 );
                }
                if (NOT (IS_VEHICLE_DEAD( l_U5703[0]._fU0 )))
                {
                    SET_VEHICLE_ENGINE_ON( l_U5703[0]._fU0, 1, 1 );
                    SET_VEHICLE_LIGHTS( l_U5703[0]._fU0, 2 );
                }
            }
            else if (l_U6126 == 1)
            {
                l_U6124 =  /* CREATEPED */ sub_48333( ref l_U6111 );
                if ((NOT (IS_VEHICLE_DEAD( l_U5703[0]._fU0 ))) AND (NOT (IS_PED_DEAD( l_U6124 ))))
                {
                    ATTACH_PED_TO_VEHICLE( l_U6124, l_U5703[0]._fU0, 0, l_U1252[44], 90.00000000, 360.00000000, 1, 0, 0, 1 );
                     /* WRITESCRIPTLOG */ sub_3853( "AT", "Registering FABIANA with S_MAR_VIG_27", 0 );
                    SET_CUFF_HANDS( l_U6124, 1 );
                    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U6124, 1 );
                    SET_PED_ONLY_DAMAGED_BY_PLAYER( l_U6124, 1 );
                    SET_PED_CAN_TRIGGER_BULLET_CAM( l_U6124, 1 );
                    SET_BULLET_CAM_PREF( l_U6124, "DOCKS_JUMP_GIO_KILL", "DOCKS_JUMP_GIO_KILL", "DOCKS_JUMP_GIO_KILL", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
                    SET_PED_VALIDATE_BULLET_CAM_HIT( l_U6124, 0 );
                    SET_PED_AS_ONE_SHOT_KILL( l_U6124, 1 );
                }
            }
            l_U6126++;
        }
        else
        {
             /* P_RAIL_CREATE_VEHICLE_GUNNER_NEW */ sub_60470( ref l_U5703[0], ref l_U5822[l_U6127], 1, 0, 1, 1, l_U6110, 0, 0 );
            if (NOT (IS_PED_DEAD( l_U5822[l_U6127]._fU52 )))
            {
                SET_PED_AS_ONE_SHOT_KILL( l_U5822[l_U6127]._fU52, 1 );
                SET_PED_ACCURACY( l_U5822[l_U6127]._fU52, -1467320974 );
            }
            l_U6127++;
            if (l_U6127 >= 7)
            {
                 /* WRITESCRIPTLOG */ sub_3853( "GA", "Spawned all MPM peds.", 0 );
                l_U6125 = 3;
            }
        }
        break;
        case 3:
         /* P_RAIL_PIER_JUMP_AIM_AT_BOAT */ sub_72664();
         /* WRITESCRIPTLOG */ sub_3853( "GA", "MPM ped spawning complete.", 0 );
        l_U6125 = 4;
        break;
    }
     /* WRITESCRIPTLOG */ sub_3853( "MF", "P_RAIL_PIER_JUMP_SPAWN_PEDS - END", 0 );
    return;
}

/* P_RAIL_PIER_JUMP_AIM_AT_BOAT */ void sub_72664()
{
    unknown uVar2;
    int I;

     /* WRITESCRIPTLOG */ sub_3853( "MF", "P_RAIL_PIER_JUMP_OPEN_FIRE - START", 0 );
    OPEN_SEQUENCE_TASK( ref uVar2 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        TASK_AIM_GUN_AT_COORD( 0, -196.63000000, -3019.10000000, 9.00000000, -1, 1 );
    }
    CLOSE_SEQUENCE_TASK( uVar2 );
    for ( I = 0; I < 7; I++ )
    {
        if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() ))) AND (NOT (IS_PED_DEAD( l_U5822[I]._fU52 ))))
        {
            CLEAR_PED_TASKS( l_U5822[I]._fU52 );
            TASK_PERFORM_SEQUENCE( l_U5822[I]._fU52, uVar2 );
        }
    }
    CLEAR_SEQUENCE_TASK( uVar2 );
     /* WRITESCRIPTLOG */ sub_3853( "MF", "P_RAIL_PIER_JUMP_OPEN_FIRE - END", 0 );
    return;
}

/* P_PIER_MID_13_DOCKS */ void sub_73118()
{
    boolean bVar2;
    unknown uVar3;
    boolean bVar4;
    int iVar5;
    int I;

     /* WRITESCRIPTLOG */ sub_3853( "MF", "P_PIER_MID_13_DOCKS - START", 0 );
    if (AUDIO_MUSIC_IS_ONESHOT_PREPARED( l_U1624._fU0 ))
    {
        AUDIO_MUSIC_STOP_ONESHOT();
    }
     /* P_RAIL_PLAY_MUSIC_CUE */ sub_69937( l_U1629 );
     /* P_RAIL_SET_WATER_EFFECTS */ sub_50368( 12 );
     /* LOADSEAMLESSCUTSCENE */ sub_73257( "MID_13_DOCKS_concat", 1 );
     /* P_CLEANUP_UNDERPIER_SECTION */ sub_73597();
    CUTSCENE_ENABLE_SKIP( 0 );
    bVar2 = false;
    if (NOT (IS_PED_DEAD( g_U976 )))
    {
         /* WRITESCRIPTLOG */ sub_3853( "MF", "Registering Passos script ped with midscene MID_13_DOCKS_concat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( g_U976, "Pass_Dock", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( g_U976, "/Global/s_marina_drv/PASSOS_AIM/MPM/STANCE_MPM_COMBAT" );
        SET_PED_OUT_OF_VEHICLE( g_U976 );
        uVar3 = GET_WEAPON_FROM_HAND( g_U976, 0, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
             /* WRITESCRIPTLOG */ sub_3853( "GA", "Registering Passos weapon with cutscene.", 0 );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar3, "W_PI_PT92_Aa_H", 0 );
        }
    }
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_34875(), 0, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
             /* WRITESCRIPTLOG */ sub_3853( "GA", "Registering Max's weapon with cutscene.", 0 );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar3, "W_MG_21E_Aa_H", 0 );
        }
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_34875(), "/Global/s_marina_drv/MAXBOAT/MAXBOAT_IDLE/STANCE_MPM/COMBAT/STANCE_MPM_COMBAT" );
        DETACH_PED(  /* PLAYER_PED_ID */ sub_34875(), 1 );
    }
    if (NOT (IS_VEHICLE_DEAD( g_U977 )))
    {
        REGISTER_VEHICLE_PRE_SEAMLESS_CUTSCENE( g_U977, "boat_rs", 0 );
        CUTSCENE_REGISTER_PED_ATTACH_TO_VEHICLE(  /* PLAYER_PED_ID */ sub_34875(), g_U977, 0, 0.85000000, -1.70000000, 1.40000000, l_U1455[3], 360.00000000, 1, 0 );
    }
    if (NOT (IS_VEHICLE_DEAD( l_U5703[0]._fU0 )))
    {
        REGISTER_VEHICLE_PRE_SEAMLESS_CUTSCENE( l_U5703[0]._fU0, "boat_chase", 0 );
    }
    if (NOT (IS_PED_DEAD( l_U5703[0]._fU56 )))
    {
        SET_PED_OUT_OF_VEHICLE( l_U5703[0]._fU56 );
        DETACH_PED( l_U5703[0]._fU56, 1 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U5703[0]._fU56, "Sero_Unif_1", 0 );
        CUTSCENE_REGISTER_PED_ATTACH_TO_VEHICLE( l_U5703[0]._fU56, l_U5703[0]._fU0, 0, l_U1252[26], 0.00000000, 360.00000000, 0, 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( l_U5703[0]._fU56, "/Global/VehicleBoat/Driver/CHASE_BOAT/DRIVER_ANIMS/DRIVER" );
    }
    if (NOT (IS_PED_DEAD( l_U6124 )))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U6124, "Fabi_Docks", 0 );
        CUTSCENE_REGISTER_PED_ATTACH_TO_VEHICLE( l_U6124, l_U5703[0]._fU0, 0, l_U1252[44], 90.00000000, 360.00000000, 1, 0 );
        DETACH_PED( l_U6124, 1 );
    }
    if (NOT (IS_PED_DEAD( l_U5822[0]._fU52 )))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U5822[0]._fU52, "G_CS_RAIL_A", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( l_U5822[0]._fU52, "/Global/AMED/AMED_Root/AMED_INITIALIZE_IDLE" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U5822[0]._fU52, 0, 0 ), "W_PI_PT92_Aa_H^6", 0 );
        DETACH_PED( l_U5822[0]._fU52, 1 );
    }
    if (NOT (IS_PED_DEAD( l_U5822[1]._fU52 )))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U5822[1]._fU52, "G_CS_RAIL_A^6", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( l_U5822[1]._fU52, "/Global/AMED/AMED_Root/AMED_INITIALIZE_IDLE" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U5822[1]._fU52, 0, 0 ), "W_PI_PT92_Aa_H^3", 0 );
        DETACH_PED( l_U5822[1]._fU52, 1 );
    }
    if (NOT (IS_PED_DEAD( l_U5822[2]._fU52 )))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U5822[2]._fU52, "G_CS_RAIL_A^2", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( l_U5822[2]._fU52, "/Global/AMED/AMED_Root/AMED_INITIALIZE_IDLE" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U5822[2]._fU52, 0, 0 ), "W_AR_AK47_Aa_H", 0 );
        DETACH_PED( l_U5822[2]._fU52, 1 );
    }
    if (NOT (IS_PED_DEAD( l_U5822[3]._fU52 )))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U5822[3]._fU52, "G_CS_RAIL_A^1", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( l_U5822[3]._fU52, "/Global/AMED/AMED_Root/AMED_INITIALIZE_IDLE" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U5822[3]._fU52, 0, 0 ), "W_AR_AK47_Aa_H^1", 0 );
        DETACH_PED( l_U5822[3]._fU52, 1 );
    }
    if (NOT (IS_PED_DEAD( l_U5822[4]._fU52 )))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U5822[4]._fU52, "G_CS_RAIL_A^4", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( l_U5822[4]._fU52, "/Global/AMED/AMED_Root/AMED_INITIALIZE_IDLE" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U5822[4]._fU52, 0, 0 ), "W_PI_PT92_Aa_H^5", 0 );
        DETACH_PED( l_U5822[4]._fU52, 1 );
    }
    if (NOT (IS_PED_DEAD( l_U5822[5]._fU52 )))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U5822[5]._fU52, "G_CS_RAIL_A^5", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( l_U5822[5]._fU52, "/Global/AMED/AMED_Root/AMED_INITIALIZE_IDLE" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U5822[5]._fU52, 0, 0 ), "W_PI_PT92_Aa_H^4", 0 );
        DETACH_PED( l_U5822[5]._fU52, 1 );
    }
    if (NOT (IS_PED_DEAD( l_U5822[6]._fU52 )))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U5822[6]._fU52, "G_CS_RAIL_A^3", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( l_U5822[6]._fU52, "/Global/AMED/AMED_Root/AMED_INITIALIZE_IDLE" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U5822[6]._fU52, 0, 0 ), "W_SB_Uzi_Aa_H", 0 );
        DETACH_PED( l_U5822[6]._fU52, 1 );
    }
     /* NIS_PRE_SETUP */ sub_76681( 1, 0, 0, 0 );
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( l_U1463[6], 1065353216, 0 );
    SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U1471[6], 1065353216, 0 );
     /* P_RAIL_PIER_STOP_AUDIO */ sub_73826();
    START_SEAMLESS_CUTSCENE();
     /* P_START_VEHICLE_PLAYBACK */ sub_51942( g_U977, l_U5812, 0.00000000, l_U5811, 0 );
    if (NOT (IS_VEHICLE_DEAD( g_U977 )))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_VEHICLE( g_U977 ))
        {
            PAUSE_PLAYBACK_RECORDED_VEHICLE( g_U977 );
        }
    }
    STOP_SCRIPT_STREAM( 0 );
    DO_SCREEN_FADE_IN( 0 );
    bVar4 = false;
    iVar5 = 0;
    while (NOT HAS_CUTSCENE_FINISHED())
    {
        WAIT( 0 );
        if (NOT bVar2)
        {
            if (GET_CUTSCENE_TIME_MS() > 5109)
            {
                 /* P_RAIL_PIER_JUMP_ANIM_SHACK */ sub_77051( 0 );
                bVar2 = true;
            }
        }
        if ((GET_CUTSCENE_TIME_MS() > 5836) AND (NOT bVar4))
        {
             /* P_SET_PLAYER_BOAT_FRONT_DENTED */ sub_48032();
        }
    }
    for ( I = 0; I < 7; I++ )
    {
        if ((NOT (IS_VEHICLE_DEAD( l_U5703[0]._fU0 ))) AND (NOT (IS_PED_DEAD( l_U5822[I]._fU52 ))))
        {
            ATTACH_PED_TO_VEHICLE( l_U5822[I]._fU52, l_U5703[0]._fU0, 0, l_U1252[l_U5822[I]._fU64], 90.00000000, 360.00000000, 0, 0, 1, 1 );
        }
    }
    if ((NOT (IS_VEHICLE_DEAD( g_U977 ))) AND (NOT (IS_PED_DEAD( g_U976 ))))
    {
        ATTACH_PED_TO_VEHICLE( g_U976, g_U977, 0, l_U1252[45], 0.00000000, 360.00000000, 0, 0, 0, 1 );
    }
     /* WRITESCRIPTLOG */ sub_3853( "MF", "P_PIER_MID_13_DOCKS - START", 0 );
    return;
}

/* LOADSEAMLESSCUTSCENE */ void sub_73257(unknown uParam0, int iParam1)
{
    if (HAS_CUTSCENE_LOADED())
    {
        if (NOT (CUTSCENE_IS_LOADED( uParam0 )))
        {
            SCRIPT_ASSERT( "Another cutscene is already loaded.  You can only load one cutscene into memory.  Your current cutscene will not load into memory.", 0 );
        }
    }
    if (NOT (CUTSCENE_IS_LOADED( uParam0 )))
    {
        PRE_STREAM_SEAMLESS_CUTSCENE( uParam0 );
        if (iParam1 == 1)
        {
            while ((CUTSCENE_IS_LOADED( uParam0 )) == 0)
            {
                DISPLAYF( "[SP]### Waiting for seamless cutscene to load: {} ###", 1, 1537, uParam0 );
                WAIT( 0 );
            }
        }
    }
    return;
}

/* P_CLEANUP_UNDERPIER_SECTION */ void sub_73597()
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_CLEANUP_UNDERPIER_SECTION start", 0 );
     /* P_CLEANUP_MANGROVE_SECTION */ sub_66560();
     /* P_RAIL_CLEAN_RS_GUNNER_ARRAY */ sub_73693( ref l_U5123 );
     /* P_RAIL_CLEAN_RS_VEHICLE_ARRAY */ sub_66860( ref l_U4930, 1 );
     /* P_RAIL_CLEAN_RS_VEHICLE_ARRAY */ sub_66860( ref l_U5045, 1 );
     /* CLEANVEHICLERECORDING */ sub_67090( l_U4929 );
     /* TERMINATEINTERACTIVESEQUENCE */ sub_71260( l_U5617, 0 );
     /* P_RAIL_PIER_STOP_AUDIO */ sub_73826();
     /* P_CAM_SHAKE_FORCE_DEACTIVATE */ sub_73968( ref l_U5627, 0 );
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_CLEANUP_UNDERPIER_SECTION end", 0 );
    return;
}

/* P_RAIL_CLEAN_RS_GUNNER_ARRAY */ void sub_73693(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
         /* CLEANPED */ sub_66740( (uParam0^)[I]._fU52 );
    }
    return;
}

/* P_RAIL_PIER_STOP_AUDIO */ void sub_73826()
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_RAIL_PIER_STOP_AUDIO - Start", 0 );
    STOP_SCRIPT_STREAM( 0 );
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_RAIL_PIER_STOP_AUDIO - End", 0 );
    return;
}

/* P_CAM_SHAKE_FORCE_DEACTIVATE */ void sub_73968(int iParam0, int iParam1)
{
    if (iParam0->_fU172 == 1)
    {
        if (iParam1 == 1)
        {
            STOP_CAM_SHAKING( GET_RENDERING_CAM(), iParam1 );
            STOP_GAMEPLAY_CAM_SHAKING( iParam0 + 4, iParam1 );
        }
        else
        {
            STOP_CAM_SHAKING( GET_RENDERING_CAM(), iParam0->_fU160 );
            STOP_GAMEPLAY_CAM_SHAKING( iParam0 + 4, iParam0->_fU160 );
        }
         /* RESETTIMER */ sub_62931( iParam0 + 40 );
         /* RESETTIMER */ sub_62931( iParam0 + 76 );
         /* RESETTIMER */ sub_62931( iParam0 + 112 );
        iParam0->_fU172 = 0;
    }
    return;
}

/* NIS_PRE_SETUP */ void sub_76681(int iParam0, int iParam1, unknown uParam2, boolean bParam3)
{
    END_POSTFX_BLENDER( 12, 0 );
    if (bParam3)
    {
        STOP_ALL_IMAGEFX( 0 );
    }
    SET_WIDESCREEN_BORDERS( 1, 500 );
    DISPLAY_HUD( 0 );
    if (iParam0 == 1)
    {
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
        {
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_34913(), 0, uParam2 );
            SET_PED_DUCKING(  /* PLAYER_PED_ID */ sub_34875(), 0 );
            if (iParam1 == 1)
            {
                CLEAR_PED_TASKS_IMMEDIATELY(  /* PLAYER_PED_ID */ sub_34875() );
            }
            SET_PED_INVINCIBLE(  /* PLAYER_PED_ID */ sub_34875(), 1 );
        }
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    return;
}

/* P_RAIL_PIER_JUMP_ANIM_SHACK */ void sub_77051(int iParam0)
{
    float fVar3;

     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_PIER_JUMP_ANIM_SHACK start", 0 );
    if (DOES_OBJECT_EXIST( l_U6153[0] ))
    {
        PLAY_OBJECT_ANIM( l_U6153[0], "bt_sm_01_root_01", "ma_animobj", 0.10000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U6153[0], "bt_sm_01_root_01", "ma_animobj", l_U6128 );
    }
    if (DOES_OBJECT_EXIST( l_U6153[1] ))
    {
        PLAY_OBJECT_ANIM( l_U6153[1], "bt_sm_01_root_02", "ma_animobj", 0.10000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U6153[1], "bt_sm_01_root_02", "ma_animobj", l_U6128 );
    }
    if (DOES_OBJECT_EXIST( l_U6153[2] ))
    {
        PLAY_OBJECT_ANIM( l_U6153[2], "bt_sm_01_root_03", "ma_animobj", 0.10000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U6153[2], "bt_sm_01_root_03", "ma_animobj", l_U6128 );
    }
    if (DOES_OBJECT_EXIST( l_U6153[3] ))
    {
        PLAY_OBJECT_ANIM( l_U6153[3], "bt_sm_01_root_04", "ma_animobj", 0.10000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U6153[3], "bt_sm_01_root_04", "ma_animobj", l_U6128 );
    }
    if (DOES_OBJECT_EXIST( l_U6153[4] ))
    {
        PLAY_OBJECT_ANIM( l_U6153[4], "bt_sm_01_root_05", "ma_animobj", 0.10000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U6153[4], "bt_sm_01_root_05", "ma_animobj", l_U6128 );
    }
    if (DOES_OBJECT_EXIST( l_U6153[5] ))
    {
        PLAY_OBJECT_ANIM( l_U6153[5], "bt_sm_01_root_06", "ma_animobj", 0.10000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U6153[5], "bt_sm_01_root_06", "ma_animobj", l_U6128 );
    }
    if (DOES_OBJECT_EXIST( l_U6153[6] ))
    {
        PLAY_OBJECT_ANIM( l_U6153[6], "bt_sm_01_root_07", "ma_animobj", 0.10000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U6153[6], "bt_sm_01_root_07", "ma_animobj", l_U6128 );
    }
    if (DOES_OBJECT_EXIST( l_U6153[7] ))
    {
        PLAY_OBJECT_ANIM( l_U6153[7], "bt_sm_01_root_08", "ma_animobj", 0.10000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U6153[7], "bt_sm_01_root_08", "ma_animobj", l_U6128 );
    }
    if (DOES_OBJECT_EXIST( l_U6153[8] ))
    {
        PLAY_OBJECT_ANIM( l_U6153[8], "bt_sm_01_root_09", "ma_animobj", 0.10000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U6153[8], "bt_sm_01_root_09", "ma_animobj", l_U6128 );
    }
    if (DOES_OBJECT_EXIST( l_U6153[9] ))
    {
        PLAY_OBJECT_ANIM( l_U6153[9], "bt_sm_01_root_10", "ma_animobj", 0.10000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U6153[9], "bt_sm_01_root_10", "ma_animobj", l_U6128 );
    }
    if (DOES_OBJECT_EXIST( l_U6153[10] ))
    {
        PLAY_OBJECT_ANIM( l_U6153[10], "bt_sm_01_root_11", "ma_animobj", 0.10000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U6153[10], "bt_sm_01_root_11", "ma_animobj", l_U6128 );
    }
    if (DOES_OBJECT_EXIST( l_U6153[11] ))
    {
        PLAY_OBJECT_ANIM( l_U6153[11], "bt_sm_01_root_12", "ma_animobj", 0.10000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U6153[11], "bt_sm_01_root_12", "ma_animobj", l_U6128 );
    }
    if (DOES_OBJECT_EXIST( l_U6153[12] ))
    {
        PLAY_OBJECT_ANIM( l_U6153[12], "bt_sm_01_root_13", "ma_animobj", 0.10000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U6153[12], "bt_sm_01_root_13", "ma_animobj", l_U6128 );
    }
    if (DOES_OBJECT_EXIST( l_U6153[13] ))
    {
        PLAY_OBJECT_ANIM( l_U6153[13], "bt_sm_01_root_14", "ma_animobj", 0.10000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U6153[13], "bt_sm_01_root_14", "ma_animobj", l_U6128 );
    }
    fVar3 = 0.37127800;
    if (iParam0 == 1)
    {
        SET_OBJECT_ANIM_CURRENT_TIME( l_U6153[0], "bt_sm_01_root_01", "ma_animobj", fVar3 );
        SET_OBJECT_ANIM_SPEED( l_U6153[0], "bt_sm_01_root_01", "ma_animobj", l_U6129 );
        SET_OBJECT_ANIM_CURRENT_TIME( l_U6153[1], "bt_sm_01_root_02", "ma_animobj", fVar3 );
        SET_OBJECT_ANIM_SPEED( l_U6153[1], "bt_sm_01_root_02", "ma_animobj", l_U6129 );
        SET_OBJECT_ANIM_CURRENT_TIME( l_U6153[2], "bt_sm_01_root_03", "ma_animobj", fVar3 );
        SET_OBJECT_ANIM_SPEED( l_U6153[2], "bt_sm_01_root_03", "ma_animobj", l_U6129 );
        SET_OBJECT_ANIM_CURRENT_TIME( l_U6153[3], "bt_sm_01_root_04", "ma_animobj", fVar3 );
        SET_OBJECT_ANIM_SPEED( l_U6153[3], "bt_sm_01_root_04", "ma_animobj", l_U6129 );
        SET_OBJECT_ANIM_CURRENT_TIME( l_U6153[4], "bt_sm_01_root_05", "ma_animobj", fVar3 );
        SET_OBJECT_ANIM_SPEED( l_U6153[4], "bt_sm_01_root_05", "ma_animobj", l_U6129 );
        SET_OBJECT_ANIM_CURRENT_TIME( l_U6153[5], "bt_sm_01_root_06", "ma_animobj", fVar3 );
        SET_OBJECT_ANIM_SPEED( l_U6153[5], "bt_sm_01_root_06", "ma_animobj", l_U6129 );
        SET_OBJECT_ANIM_CURRENT_TIME( l_U6153[6], "bt_sm_01_root_07", "ma_animobj", fVar3 );
        SET_OBJECT_ANIM_SPEED( l_U6153[6], "bt_sm_01_root_07", "ma_animobj", l_U6129 );
        SET_OBJECT_ANIM_CURRENT_TIME( l_U6153[7], "bt_sm_01_root_08", "ma_animobj", fVar3 );
        SET_OBJECT_ANIM_SPEED( l_U6153[7], "bt_sm_01_root_08", "ma_animobj", l_U6129 );
        SET_OBJECT_ANIM_CURRENT_TIME( l_U6153[8], "bt_sm_01_root_09", "ma_animobj", fVar3 );
        SET_OBJECT_ANIM_SPEED( l_U6153[8], "bt_sm_01_root_09", "ma_animobj", l_U6129 );
        SET_OBJECT_ANIM_CURRENT_TIME( l_U6153[9], "bt_sm_01_root_10", "ma_animobj", fVar3 );
        SET_OBJECT_ANIM_SPEED( l_U6153[9], "bt_sm_01_root_10", "ma_animobj", l_U6129 );
        SET_OBJECT_ANIM_CURRENT_TIME( l_U6153[10], "bt_sm_01_root_11", "ma_animobj", fVar3 );
        SET_OBJECT_ANIM_SPEED( l_U6153[10], "bt_sm_01_root_11", "ma_animobj", l_U6129 );
        SET_OBJECT_ANIM_CURRENT_TIME( l_U6153[11], "bt_sm_01_root_12", "ma_animobj", fVar3 );
        SET_OBJECT_ANIM_SPEED( l_U6153[11], "bt_sm_01_root_12", "ma_animobj", l_U6129 );
        SET_OBJECT_ANIM_CURRENT_TIME( l_U6153[12], "bt_sm_01_root_13", "ma_animobj", fVar3 );
        SET_OBJECT_ANIM_SPEED( l_U6153[12], "bt_sm_01_root_13", "ma_animobj", l_U6129 );
        SET_OBJECT_ANIM_CURRENT_TIME( l_U6153[13], "bt_sm_01_root_14", "ma_animobj", fVar3 );
        SET_OBJECT_ANIM_SPEED( l_U6153[13], "bt_sm_01_root_14", "ma_animobj", l_U6129 );
    }
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_PIER_JUMP_ANIM_SHACK end", 0 );
    return;
}

/* P_RAIL_PASSOS_UNHOLSTER_POST_CUTSCENE */ void sub_80700()
{
    unknown uVar2;

     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_RAIL_PASSOS_UNHOLSTER_POST_CUTSCENE() start", 0 );
    if ((NOT ( /* F_IS_PED_HOLDING_WEAPON */ sub_80832( g_U976, 68019059 ))) AND (NOT (IS_PED_DEAD( g_U976 ))))
    {
        uVar2 = GET_WEAPON_FROM_HOLSTER( g_U976, 0 );
        SELECT_WEAPON_TO_HAND( g_U976, uVar2, 0, 1 );
    }
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_RAIL_PASSOS_UNHOLSTER_POST_CUTSCENE() end", 0 );
    return;
}

/* F_IS_PED_HOLDING_WEAPON */ void sub_80832(unknown uParam0, int iParam1)
{
    int Result;
    unknown uVar5;

    Result = 0;
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        uVar5 = GET_WEAPON_FROM_HAND( uParam0, 0, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar5 ))
        {
            if ((GET_WEAPON_TYPE( uVar5 )) == iParam1)
            {
                Result = 1;
            }
        }
        uVar5 = GET_WEAPON_FROM_HAND( uParam0, 1, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar5 ))
        {
            if ((GET_WEAPON_TYPE( uVar5 )) == iParam1)
            {
                Result = 1;
            }
        }
    }
    return Result;
}

/* P_PIER_MID_13_SETUP_BLENDOUT */ void sub_81093()
{
    int I;
    unknown uVar3;

     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_PIER_MID_13_SETUP_BLENDOUT start", 0 );
     /* NIS_PRE_SETUP */ sub_76681( 1, 0, 0, 1 );
     /* P_RAIL_PLAY_MUSIC_CUE */ sub_69937( l_U1634 );
     /* P_SETUP_PLAYER_IN_BOAT */ sub_51260( l_U1418, l_U1455[6], l_U1463[6], l_U1471[6], 1 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        REMOVE_PED_WEAPON(  /* PLAYER_PED_ID */ sub_34875(), GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_34875(), 0, 0 ) );
         /* F_GIVEPEDWEAPON */ sub_37417(  /* PLAYER_PED_ID */ sub_34875(), 456708483, 25000, 0, 0 );
         /* F_GIVEPEDWEAPONTOHOLSTER */ sub_36666(  /* PLAYER_PED_ID */ sub_34875(), 427207702, 2, 25000, 0 );
        if (NOT (IS_PED_DEAD( l_U5822[4]._fU52 )))
        {
            SET_PED_DEFAULT_AIM_AT_PED(  /* PLAYER_PED_ID */ sub_34875(), l_U5822[4]._fU52 );
        }
    }
     /* P_RAIL_PIER_JUMP_ANIM_SHACK */ sub_77051( 1 );
     /* P_START_VEHICLE_PLAYBACK */ sub_51942( l_U5703[0]._fU0, l_U5813, l_U6130, l_U5818, 0 );
     /* P_START_VEHICLE_PLAYBACK */ sub_51942( g_U977, l_U5812, l_U6130, l_U5811, 0 );
    if (NOT (IS_PED_DEAD( g_U976 )))
    {
        PED_ACTION_TREE_PLAY_NODE( g_U976, "/Global/s_marina_drv/PASSOS_AIM/MPM/STANCE_MPM_COMBAT" );
    }
    if (GET_ADRENALINE_AMT() < 0.10000000)
    {
        SET_ADRENALINE_AMT( 0.10000000 );
    }
    ENABLE_MPM( 1 );
    ENABLE_ALL_ADRENALINE( 0 );
    ACTIVATE_BULLET_TIME( 0, 1065353216, 1 );
    if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() ))) AND (NOT (IS_PED_DEAD( l_U6124 ))))
    {
         /* SETUPINTERACTIVESEQUENCE */ sub_52319( "S_MAR_VIG_27", "LEVEL_S_MARINA_RS_CP_10", "/LEVEL/S_MARINA/S_MAR_VIG_27.act", "/Global/S_MAR_VIG_27/SEQ_START", 1 );
        I_SEQUENCE_REGISTER_ENTITY( "S_MAR_VIG_27", "VIG27_FAB", l_U6124, 0 );
        I_SEQUENCE_START( "S_MAR_VIG_27" );
        SET_PED_PRIMARY_LOOKAT( l_U6124,  /* PLAYER_PED_ID */ sub_34875() );
    }
    SET_RANDOM_SEED( GET_GAME_TIMER() );
    for ( I = 0; I < 7; I++ )
    {
        if ((NOT (IS_VEHICLE_DEAD( g_U977 ))) AND ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() ))) AND (NOT (IS_PED_DEAD( l_U5822[I]._fU52 )))))
        {
            SET_PED_SEEING_RANGE( l_U5822[I]._fU52, 200.00000000, 75 );
            SET_PED_HEARING_RANGE( l_U5822[I]._fU52, 200.00000000 );
            SET_PED_COMBAT_RANGE_MAX( l_U5822[I]._fU52, 200.00000000 );
            SET_PED_ALERTNESS( l_U5822[I]._fU52, 3 );
            SET_PED_COMBAT_MOVEMENT( l_U5822[I]._fU52, 0 );
            REGISTER_TARGET( l_U5822[I]._fU52,  /* PLAYER_PED_ID */ sub_34875() );
            SET_PED_PRIMARY_LOOKAT( l_U5822[I]._fU52,  /* PLAYER_PED_ID */ sub_34875() );
            OPEN_SEQUENCE_TASK( ref uVar3 );
            TASK_PAUSE( 0, GET_RANDOM_INT_IN_RANGE( 1000, 2000 ) );
            TASK_SHOOT_AT_VEHICLE( 0, g_U977, 0, 2.50000000, 0.10000000, -1.04000000, -1, 0, 0, 0 );
            CLOSE_SEQUENCE_TASK( uVar3 );
            TASK_PERFORM_SEQUENCE( l_U5822[I]._fU52, uVar3 );
            CLEAR_SEQUENCE_TASK( uVar3 );
        }
    }
    CAMERA_PLAY_ANIMATED( "LEVEL_S_MARINA_RS_CP_10", "BLEND_OUT_MID_13_DOCKS_CAM", 1, l_U5807, 0.00000000, 0, 0 );
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_PIER_MID_13_SETUP_BLENDOUT end", 0 );
    return;
}

/* P_UPDATE_SMOKE_PLAYER_BOAT */ void sub_82349(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    PRINTSTRING( "Starting smoke effect on Passos boat - " );
    PRINTSTRING( uParam0 );
    PRINTNL();
    if (NOT (IS_VEHICLE_DEAD( g_U977 )))
    {
        if (l_U1484 != 0)
        {
             /* WRITESCRIPTLOG */ sub_3853( "GA", "Stopping previous smoke to start next smoke.", 0 );
            STOP_PARTICLE_FX_LOOPED( l_U1484 );
        }
        l_U1484 = START_PARTICLE_FX_LOOPED_ON_VEHICLE( uParam0, g_U977, uParam1, 0.00000000, 0.00000000, 0.00000000, uParam4 );
        if (l_U1484 == 0)
        {
            ;
        }
    }
    return;
}

/* P_SETUP_PLAYER_BOAT_JUMP_MPM_SECTION */ void sub_82620()
{
    SET_RAIL_RELATIVE_DIR( 5, l_U1455[5] );
    SET_CAMERA_OVERRIDE( l_U1430[7][0], l_U1430[7][1], 0, 1, 1 );
    if (NOT l_U1497)
    {
        CLEAR_PED_TASKS(  /* PLAYER_PED_ID */ sub_34875() );
         /* P_SETUP_PLAYER_IN_BOAT */ sub_51260( l_U1418, l_U1455[l_U852], l_U1463[l_U852], l_U1471[l_U852], 1 );
    }
     /* P_START_VEHICLE_PLAYBACK */ sub_51942( g_U977, l_U5812, l_U5805, l_U5811, 0 );
    return;
}

/* P_HANDLE_CHECKPOINTS */ void sub_83021()
{
    if (g_U653 >= 1)
    {
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )) AND (DOES_PED_EXIST(  /* PLAYER_PED_ID */ sub_34875() )))
        {
            l_U850 = 1;
        }
        if (( /* F_FAIL_NEW_YORK_MINUTE */ sub_83559()) || (( /* RESTARTING_CHECKPOINT */ sub_83107()) || (l_U850)))
        {
            if ( /* IS_RESTART_ACTIVE */ sub_83640())
            {
                ;
            }
            else
            {
                 /* WRITESCRIPTLOG */ sub_3853( "MF", "Starting respawn logic...", 0 );
                while ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )) == 1)
                {
                    WAIT( 0 );
                }
            }
            if ((IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_34913() )) == 0)
            {
                SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_34913(), 0, 0 );
            }
            if ( /* F_FAIL_NEW_YORK_MINUTE */ sub_83559())
            {
                 /* P_NEW_YORK_MINUTE_OUT_OF_TIME */ sub_83807();
            }
            DO_SCREEN_FADE_OUT( 0 );
             /* P_IMAGEFX_STOP_BULLETCAM */ sub_85948( "DOCKS_RS_BOATSPLOSION_SCRIPTED_FAIL_FX" );
             /* P_CLEANUP_ALL */ sub_86202();
            if (NOT IS_IN_NYMINUTE_MODE())
            {
                 /* P_RESTORE_CHECKPOINT */ sub_86903( g_U653 );
                 /* P_SETUP_STATIC_DATA */ sub_16653();
                 /* P_INITIALIZE_SCRIPT_DATA */ sub_22950();
                 /* P_RAIL_RESTORE_BOAT_HEALTH */ sub_39549();
                 /* P_START_GAMEPLAY */ sub_45875();
                if ((IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_34913() )) == 0)
                {
                    SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_34913(), 1, 0 );
                }
                if (NOT (IS_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_34875() )))
                {
                    SET_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_34875(), 1 );
                }
                l_U1489 = 1;
            }
        }
    }
    return;
}

/* RESTARTING_CHECKPOINT */ int sub_83107()
{
    if (HAS_SELECTED_RETRY_CHECKPOINT())
    {
        if (IS_IN_NYMINUTE_MODE())
        {
            SWITCH_TO_LEVEL( GET_INDEX_OF_CURRENT_LEVEL() );
        }
        if (HAS_CUTSCENE_FINISHED() == 0)
        {
            return 0;
        }
        l_U0 = 0;
        g_U648 = 1;
        DO_SCREEN_FADE_OUT( 0 );
        ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 1 );
        TERMINATE_GAME_BULLET_CAMERA();
        if (IS_ANIMATED_CAMERA_PLAYING())
        {
            CAMERA_ANIMATED_STOP( 0, 0 );
        }
        STOP_ALL_SCRIPTED_CONVERSATIONS( 0 );
        DEACTIVATE_BULLET_TIME( 1, 0 );
        END_POSTFX_BLENDER( 0, 0 );
        END_POSTFX_BLENDER( 2, 0 );
        END_POSTFX_BLENDER( 3, 0 );
        END_POSTFX_BLENDER( 4, 0 );
        END_POSTFX_BLENDER( 5, 0 );
        END_POSTFX_BLENDER( 7, 0 );
        END_POSTFX_BLENDER( 9, 0 );
        END_POSTFX_BLENDER( 10, 0 );
        END_POSTFX_BLENDER( 11, 0 );
        END_POSTFX_BLENDER( 12, 0 );
        END_POSTFX_BLENDER( 13, 0 );
        END_POSTFX_BLENDER( 14, 0 );
        END_POSTFX_BLENDER( 15, 0 );
        END_POSTFX_BLENDER( 16, 0 );
        STOP_ALL_IMAGEFX( 0 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
        {
            SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_34875(), 0 );
            SET_PLAYER_FORCED_AIM(  /* PLAYER_ID */ sub_34913(), 0, 0 );
            SET_PLAYER_CAN_USE_SHOOTDODGE(  /* PLAYER_ID */ sub_34913(), 1 );
            if ((IS_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_34875() )) == 0)
            {
                SET_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_34875(), 1 );
            }
        }
        CLEAR_PRINTS();
        CLEAR_HELP();
        SET_INTERACTIONTEXT_VISIBLE( 0 );
        RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
        DESTROY_ALL_CAMS();
        AUDIO_MUSIC_SUSPEND( 500 );
        return 1;
    }
    return 0;
}

/* F_FAIL_NEW_YORK_MINUTE */ int sub_83559()
{
    if (IS_IN_NYMINUTE_MODE())
    {
        if (GET_TIME_REMAINING() <= 0)
        {
            return 1;
        }
    }
    return 0;
}

/* IS_RESTART_ACTIVE */ void sub_83640()
{
    return g_U648;
}

/* P_NEW_YORK_MINUTE_OUT_OF_TIME */ void sub_83807()
{
    boolean bVar2;

     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_NEW_YORK_MINUTE_OUT_OF_TIME start", 0 );
     /* P_RAIL_GUN_HEAT_OFF */ sub_70953();
     /* P_RAIL_BOAT_DAMAGE_METER_OFF */ sub_71084();
     /* P_RAIL_KILL_SPEECH */ sub_83908();
    DISPLAY_HUD( 0 );
     /* P_IMAGEFX_START_BULLETCAM */ sub_84452( "MISS_NY_MINUTE_PANEL_01_FAILSAFE", 0 );
    bVar2 = false;
    while (NOT bVar2)
    {
        if ( /* F_CHECK_QUIT_RETRY */ sub_84852( 1 ))
        {
             /* P_IMAGEFX_STOP_BULLETCAM */ sub_85948( "MISS_NY_MINUTE_PANEL_01_FAILSAFE" );
            bVar2 = true;
        }
        WAIT( 0 );
    }
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_NEW_YORK_MINUTE_OUT_OF_TIME end", 0 );
    return;
}

/* P_RAIL_KILL_SPEECH */ void sub_83908()
{
    if ( /* IS_SPEECH_CURRENTLY_PLAYING */ sub_83945( l_U887 ))
    {
         /* KILL_SPEECH */ sub_84173( ref l_U887, 0 );
    }
    if ( /* IS_SPEECH_CURRENTLY_PLAYING */ sub_83945( l_U897 ))
    {
         /* KILL_SPEECH */ sub_84173( ref l_U897, 0 );
    }
    if ( /* IS_SPEECH_CURRENTLY_PLAYING */ sub_83945( l_U907 ))
    {
         /* KILL_SPEECH */ sub_84173( ref l_U907, 0 );
    }
    return;
}

/* IS_SPEECH_CURRENTLY_PLAYING */ int sub_83945(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
    if (NOT ( /* IS_SCRIPT_SPEECH_STRUCT_VALID */ sub_83988( uParam0 )))
    {
        return 0;
    }
    if ((g_U11[uParam0._fU4] == 2) || ((g_U11[uParam0._fU4] == 1) || (IS_SCRIPTED_CONVERSATION_ONGOING( uParam0._fU4 ))))
    {
        if (uParam0._fU8 == g_U6[uParam0._fU4])
        {
            return 1;
        }
    }
    return 0;
}

/* IS_SCRIPT_SPEECH_STRUCT_VALID */ boolean sub_83988(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
    int iVar12;

    if (uParam0._fU4 < 0)
    {
        return 0;
    }
    iVar12 = GET_CHECK_HASH_FROM_CONVERSATION_ID( uParam0._fU4 );
    return (uParam0._fU16 == iVar12) AND (iVar12 != 0);
}

/* KILL_SPEECH */ void sub_84173(int iParam0, unknown uParam1)
{
    if (NOT ( /* IS_SCRIPT_SPEECH_STRUCT_VALID */ sub_83988( (iParam0^) )))
    {
        ;
    }
    else
    {
        PRINTSTRING( "\n KILL SPEECH CALLED***************************************" );
        if (IS_SCRIPTED_CONVERSATION_ONGOING( iParam0->_fU4 ))
        {
            if (iParam0->_fU8 == g_U6[iParam0->_fU4])
            {
                STOP_SCRIPTED_CONVERSATION( iParam0->_fU4, uParam1, 0 );
            }
        }
    }
    return;
}

/* P_IMAGEFX_START_BULLETCAM */ void sub_84452(unknown uParam0, boolean bParam1)
{
    PRINTSTRING( "[CO] P_IMAGEFX_START_BULLETCAM: Starting BulletCam: " );
    PRINTSTRING( uParam0 );
    PRINTNL();
     /* CLEANCAMERA */ sub_84572( ref l_U415 );
    l_U415 = CREATE_CAM( "DEFAULT_BULLET_CAMERA", 1 );
    SETUP_BULLET_CAMERA_SCENE( l_U415, uParam0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, "", "" );
    if (bParam1)
    {
        RENDER_SCRIPT_CAMS( 1, 0, 3000, 0 );
    }
    return;
}

/* CLEANCAMERA */ void sub_84572(unknown uParam0)
{
    if ((DOES_CAM_EXIST( (uParam0^) )) == 1)
    {
        if ((IS_CAM_ACTIVE( (uParam0^) )) == 1)
        {
            SET_CAM_ACTIVE( (uParam0^), 0 );
        }
        DESTROY_CAM( (uParam0^) );
    }
    (uParam0^) = nil;
    return;
}

/* F_CHECK_QUIT_RETRY */ int sub_84852(int iParam0)
{
    iParam0 = 1;
    switch (l_U402)
    {
        case 0:
        if (NOT ( /* HASTIMERBEENACTIVATED */ sub_84934( ref l_U404 )))
        {
            if ((IS_DEATH_PANEL_WIPE_ALLOWED()) AND (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
            {
                l_U403 = 2000;
                ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 1 );
            }
             /* CREATETIMER */ sub_23130( ref l_U404, l_U403, 1, 1 );
             /* STARTTIMER */ sub_66017( ref l_U404 );
        }
        if ( /* ISTIMERDONE */ sub_85086( ref l_U404 ))
        {
             /* WRITESCRIPTLOG */ sub_3853( "NS", " show fail/retry text", 0 );
            if ((IS_DEATH_PANEL_WIPE_ALLOWED()) AND (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
            {
                if ((IS_BULLET_CAMERA_RUNNING( 0 )) == 0)
                {
                    if (IS_SCREEN_FADED_OUT())
                    {
                        DO_SCREEN_FADE_IN( 0 );
                    }
                }
                ENABLE_DEATHHELPERTEXT( 1, 1, 0 );
            }
            else if (IS_SCREEN_FADED_OUT())
            {
                DO_SCREEN_FADE_IN( 0 );
                ENABLE_DEATHHELPERTEXT( 1, iParam0, 0 );
            }
            else
            {
                ENABLE_DEATHHELPERTEXT( 1, iParam0, 0 );
            }
            if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_34913() )))
            {
                SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_34913(), 0, 0 );
            }
            DISPLAY_HUD( 0 );
            l_U402 = 1;
        }
        break;
        case 1:
        if ((((NOT IS_QUIT_CONFIRMING()) == 1) AND (IS_BUTTON_JUST_PRESSED( 0, 501 ))) || ((N_1855335259()) || (IS_CONTROL_JUST_PRESSED( 2, 82 ))))
        {
            if (IS_QUIT_CONFIRMING() == 1)
            {
                l_U402 = 2;
            }
            else
            {
                l_U402 = 3;
            }
        }
        break;
        case 2:
         /* WRITESCRIPTLOG */ sub_3853( "NS", "Player will QUIT", 0 );
         /* P_POSTQUITRETRYCLEANUP */ sub_85587();
        if (iParam0 == 1)
        {
            DO_SCREEN_FADE_OUT( 0 );
        }
        START_PANEL_WIPE( 0, 6 );
        SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
        RETURN_TO_TITLESCREEN( 0 );
        break;
        case 3:
         /* WRITESCRIPTLOG */ sub_3853( "NS", "Player will RETRY", 0 );
        if (IS_IN_NYMINUTE_MODE())
        {
            SWITCH_TO_LEVEL( GET_INDEX_OF_CURRENT_LEVEL() );
        }
        if (iParam0 == 1)
        {
            DO_SCREEN_FADE_OUT( 0 );
        }
         /* P_POSTQUITRETRYCLEANUP */ sub_85587();
        return 1;
        break;
    }
    return 0;
}

/* HASTIMERBEENACTIVATED */ int sub_84934(int iParam0)
{
    if (iParam0->_fU20 == 1)
    {
        return 1;
    }
    if (iParam0->_fU16 == 1)
    {
        return 1;
    }
    return 0;
}

/* ISTIMERDONE */ int sub_85086(int iParam0)
{
    if (iParam0->_fU16)
    {
        return 0;
    }
    else if (NOT iParam0->_fU20)
    {
        return 0;
    }
    if (iParam0->_fU28)
    {
        iParam0->_fU4 = TIMERA();
    }
    else
    {
        iParam0->_fU4 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU4 = TIMERSYSTEM();
    }
    if ((iParam0->_fU4 - iParam0->_fU0) >= iParam0->_fU12)
    {
        iParam0->_fU16 = 1;
        iParam0->_fU20 = 0;
        return 1;
        break;
    }
    return 0;
}

/* P_POSTQUITRETRYCLEANUP */ void sub_85587()
{
     /* WRITESCRIPTLOG */ sub_3853( "NS", "P_PostFailRetryCleanup", 0 );
     /* RESETTIMER */ sub_62931( ref l_U404 );
    ENABLE_DEATHHELPERTEXT( 0, 0, 2000 );
    SET_SCRIPT_CONTROL_RESET_ON_PLAYER_DEATH( 0 );
    if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_34913() )))
    {
        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_34913(), 1, 0 );
    }
    DISPLAY_HUD( 1 );
    l_U401 = 0;
    l_U401 = l_U401;
    l_U402 = 0;
    return;
}

/* P_IMAGEFX_STOP_BULLETCAM */ void sub_85948(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "CO", "P_IMAGEFX_STOP_BULLETCAM:  Cameras Deleted", 0 );
    RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
     /* CLEANCAMERA */ sub_84572( ref l_U415 );
    l_U414 = 1;
    return;
}

/* P_CLEANUP_ALL */ void sub_86202()
{
    int I;

     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_CLEANUP_ALL start", 0 );
    ENABLE_AUDIO_MIX_LAYER( 10, 0, 0.00000000, 0 );
    ENABLE_AUDIO_MISSION_FLAG( 0, 0 );
    AUDIO_MUSIC_STOP_ONESHOT();
    RESERVE_BULLETS( 0 );
    SET_PED_ENABLE_HEADLOOK_CONTROLLER(  /* PLAYER_PED_ID */ sub_34875(), 1 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        DETACH_PED(  /* PLAYER_PED_ID */ sub_34875(), 1 );
    }
    SET_CAMERA_OVERRIDE( "", "", 0, 1, 1 );
     /* P_SAFE_STOP_SOUND */ sub_67983( l_U4909, 0 );
     /* P_SAFE_RELEASE_SOUND_ID */ sub_68166( ref l_U4909 );
     /* TERMINATEINTERACTIVESEQUENCE */ sub_71260( l_U1490, 0 );
     /* TERMINATEINTERACTIVESEQUENCE */ sub_71260( l_U5617, 0 );
     /* TERMINATEINTERACTIVESEQUENCE */ sub_71260( "S_MAR_VIG_27", 0 );
     /* CLEANPED */ sub_66740( g_U976 );
     /* P_RAIL_CLEAN_MANGROVE_GUNNERS */ sub_66645();
     /* P_RAIL_CLEAN_RS_GUNNER_ARRAY */ sub_73693( ref l_U5123 );
     /* P_RAIL_CLEAN_RS_GUNNER_ARRAY */ sub_73693( ref l_U5822 );
     /* CLEANPED */ sub_66740( l_U6124 );
     /* CLEANVEHICLE */ sub_67007( g_U977 );
     /* P_RAIL_CLEAN_RS_VEHICLE_ARRAY */ sub_66860( ref l_U1690, 0 );
    for ( I = 0; I < 6; I++ )
    {
         /* P_CLEAN_FLAVOUR_BOAT */ sub_67691( ref l_U4082[I] );
    }
     /* P_RAIL_CLEAN_RS_VEHICLE_ARRAY */ sub_66860( ref l_U4930, 0 );
     /* P_RAIL_CLEAN_RS_VEHICLE_ARRAY */ sub_66860( ref l_U5045, 0 );
     /* P_RAIL_CLEAN_RS_VEHICLE_ARRAY */ sub_66860( ref l_U5703, 0 );
     /* CLEANOBJECT */ sub_86559( g_U978 );
     /* CLEANOBJECT */ sub_86559( g_U979 );
     /* CLEANOBJECT */ sub_86559( g_U980 );
     /* CLEANOBJECTARRAY */ sub_86637( ref l_U6153 );
     /* CLEANOBJECTARRAY */ sub_86637( ref l_U6131 );
     /* CLEANOBJECTARRAY */ sub_86637( ref l_U1187 );
    l_U1489 = 1;
    if (l_U1484 != 0)
    {
        REMOVE_PARTICLE_FX( l_U1484 );
        l_U1484 = 0;
    }
    SET_BOAT_OUT_OF_CONTROL_AND_BLOW_UP_WHEN_DRIVER_DEAD( 0 );
    SET_DEAD_FORCE_WATER_DEPTH_TO_DEFAULT();
    SET_PLAYER_COMBAT_TIMER_MODE( 0 );
    SET_CAM_FORCE_LEFT_SIDE( 0 );
    SET_CAM_VIEW_MODE( 1 );
    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
    SET_SILHOUETTE_ACTIVE( 1 );
     /* DISABLETIMER */ sub_23464( ref l_U975 );
    g_U975 = 0;
    ALLOW_BULLET_CAMERA_CHEAT( 1 );
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_CLEANUP_ALL end", 0 );
    return;
}

/* CLEANOBJECT */ void sub_86559(unknown uParam0)
{
    if (DOES_OBJECT_EXIST( uParam0 ))
    {
        DELETE_OBJECT( ref uParam0 );
    }
    return;
}

/* CLEANOBJECTARRAY */ void sub_86637(unknown uParam0)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
         /* CLEANOBJECT */ sub_86559( (uParam0^)[I] );
    }
    return;
}

/* P_RESTORE_CHECKPOINT */ void sub_86903(int iParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_RESTORE_CHECKPOINT start", 0 );
    if (iParam0 == 5)
    {
         /* P_RESTORE_PLAYER_DATA_CHECKPOINT */ sub_34969( ref l_U740,  /* PLAYER_PED_ID */ sub_34875() );
    }
    else if (iParam0 == 6)
    {
         /* P_RESTORE_PLAYER_DATA_CHECKPOINT */ sub_34969( ref l_U776,  /* PLAYER_PED_ID */ sub_34875() );
    }
    else if (iParam0 == 7)
    {
         /* P_RESTORE_PLAYER_DATA_CHECKPOINT */ sub_34969( ref l_U812,  /* PLAYER_PED_ID */ sub_34875() );
    };;;
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_RESTORE_CHECKPOINT end", 0 );
    return;
}

/* P_HANDLE_EVENTS */ void sub_87199()
{
     /* P_HANDLE_SP_ACHIEVEMENTS */ sub_87227();
     /* P_HANDLE_BOAT_TAKING_DAMAGE */ sub_87623( l_U852 );
     /* P_HANDLE_PLAYER_BOAT_SMOKE */ sub_93878();
     /* P_HANDLE_AMBIENT_DIALOG */ sub_94273();
     /* P_HANDLE_DIALOGUE_COOLDOWN */ sub_98376();
    if (NOT l_U999)
    {
         /* P_RAIL_KEEP_VEHICLE_ALIVE */ sub_98528( g_U977 );
    }
    if (l_U1196 != 5)
    {
         /* P_RAIL_HANDLE_GUN_HEAT */ sub_98705();
    }
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        if ((GET_AMMO_IN_PED_WEAPON(  /* PLAYER_PED_ID */ sub_34875(), 427207702 )) <= 500)
        {
            ADD_AMMO_TO_PED(  /* PLAYER_PED_ID */ sub_34875(), 427207702, 25000, 0 );
        }
    }
    switch (l_U852)
    {
        case 4:
        if (g_U653 < 5)
        {
             /* P_SAVE_CHECKPOINT */ sub_40770( 5 );
            g_U653 = 5;
        }
         /* P_RAIL_HANDLE_MANGROVE_SECTION_EVENTS */ sub_100094();
        if (NOT ( /* F_RAIL_IS_DIALOGUE_PLAYING */ sub_94439()))
        {
            if ( /* ISTIMERDONE */ sub_85086( ref l_U4040 ))
            {
                 /* CUTSYS_CREATECUTSCENEWITHBLENDOUTANDBLENDIN */ sub_113681( ref l_U6182, "MID_12B_DOCKS_concat", 109586, 109696, 112630, 112791, 63854, 112888, 112939, 112989, 250, 0 );
                l_U6182._fU4 = 2;
                l_U4072 = 1;
                l_U5586 = 1;
                 /* P_SAFE_STOP_SOUND */ sub_67983( l_U4909, 0 );
                 /* P_SAFE_RELEASE_SOUND_ID */ sub_68166( ref l_U4909 );
            }
        }
        if (l_U6182._fU4 != 0)
        {
             /* CUTSYS_HANDLECUTSCENE */ sub_114187( ref l_U6182 );
        }
        if (l_U6182._fU4 >= 8)
        {
            CLEAR_NAMED_CUTSCENE( "MID_12B_DOCKS_concat" );
            l_U1496 = 1;
             /* P_RAIL_START_UNDER_PIER_SECTION */ sub_54631();
        }
        break;
        case 5:
        if (g_U653 < 6)
        {
             /* P_SAVE_CHECKPOINT */ sub_40770( 6 );
            g_U653 = 6;
        }
         /* P_RAIL_HANDLE_UNDERPIER_SECTION_EVENTS */ sub_116001();
        if ( /* F_HAS_VEHICLE_REACHED_PATH_MARK */ sub_102265( g_U977, l_U4929, l_U4928 ))
        {
            l_U1497 = 1;
             /* P_RAIL_START_PIER_JUMP_SECTION */ sub_70526();
        }
        break;
        case 6:
        if (g_U653 < 7)
        {
             /* P_SAVE_CHECKPOINT */ sub_40770( 7 );
            l_U414 = 0;
            g_U653 = 7;
        }
         /* P_RAIL_HANDLE_MPM_SECTION_EVENTS */ sub_119556();
        if (l_U6170 == 1)
        {
            if ((NOT l_U850) AND (NOT l_U849))
            {
                l_U848 = 1;
                END_CONTEXT( "BOATCHASE_TO_END" );
                 /* WRITESCRIPTLOG */ sub_3853( "GA", "RAIL SCRIPT COMPLETE", 0 );
            }
        }
        break;
    }
    return;
}

/* P_HANDLE_SP_ACHIEVEMENTS */ void sub_87227()
{
    switch (l_U6210)
    {
        case 0:
         /* WRITESCRIPTLOG */ sub_3853( "CCB", "ePartI - STATE_CHALLENGE_IDLE", 0 );
        l_U6210 = 1;
        break;
        case 1:
        if (l_U5702 >= 2)
        {
            if (l_U6171)
            {
                if (NOT (HAS_ACHIEVEMENT_BEEN_PASSED( 12 )))
                {
                     /* WRITESCRIPTLOG */ sub_3853( "CCB", "Giving the player the SP_PART_I_COMPLETE achievement.", 0 );
                    GIVE_ACHIEVEMENT_TO_PLAYER( 12 );
                }
                else
                {
                     /* WRITESCRIPTLOG */ sub_3853( "CCB", "The player already has the SP_PART_I_COMPLETE achievement.", 0 );
                }
                 /* WRITESCRIPTLOG */ sub_3853( "CCB", "ePartI - STATE_CHALLENGE_COMPLETE", 0 );
                l_U6210 = 2;
            }
        }
        break;
        case 2: break;
    }
    return;
}

/* P_HANDLE_BOAT_TAKING_DAMAGE */ void sub_87623(unknown uParam0)
{
    unknown uVar3;
    float fVar4;
    float fVar5;

    SET_PED_MAX_HEALTH(  /* PLAYER_PED_ID */ sub_34875(), 200 );
    if ((NOT l_U1000) AND (l_U990))
    {
        switch (uParam0)
        {
            case 4:
            case 5:
            if ((TIMERA() - l_U992) > l_U991)
            {
                uVar3 = g_U973;
                g_U973 -= ( /* F_GET_NUM_LIVING_MANGROVE_SHOOTING_GUNNERS */ sub_87769( 35.00000000 )) * l_U993;
                g_U973 -= ( /* F_GET_NUM_LIVING_SHOOTING_DRIVERS */ sub_88390( ref l_U1690, 35.00000000 )) * l_U993;
                g_U973 -= ( /* F_GET_NUM_LIVING_SHOOTING_GUNNERS */ sub_88600( ref l_U5123, 50.00000000 )) * l_U997;
                g_U973 -= ( /* F_GET_NUM_LIVING_SHOOTING_DRIVERS */ sub_88390( ref l_U4930, 50.00000000 )) * l_U997;
                fVar4 = (0.03300000 / GET_FRAME_TIME()) - 1.00000000;
                fVar5 = uVar3 - g_U973;
                g_U973 -= fVar5 * fVar4;
                if (g_U973 < 0.00000000)
                {
                    g_U973 = 0.00000000;
                }
                 /* P_SET_PLAYER_HEALTH_PERCENT */ sub_88912( g_U973 / g_U972 );
                l_U992 = TIMERA();
            }
            if ((g_U973 <= 0.00000000) AND (NOT l_U999))
            {
                 /* P_SETUP_DEATH_CAM */ sub_89069( ref l_U1007, ref l_U1038 );
                 /* P_RAIL_HANDLE_NIS_BLOW_UP_PRE */ sub_90612();
                l_U1006 = 2;
                l_U1001 = 0;
                while (NOT l_U1001)
                {
                    l_U1001 =  /* F_RAIL_HANDLE_NIS_BLOW_UP */ sub_90989();
                    WAIT( 0 );
                }
                 /* P_RAIL_HANDLE_NIS_BLOW_UP_POST */ sub_93198();
                 /* WRITESCRIPTLOG */ sub_3853( "GA", "NIS BLOW UP completed.", 0 );
                l_U850 = 1;
            }
            break;
            case 6:
            if (((TIMERA() - l_U992) > 15) AND (l_U1480))
            {
                if (( /* F_GET_NUM_LIVING_PEDS_IN_GUNNER_ARRAY */ sub_93657( ref l_U5822 )) > 0)
                {
                    l_U1003 -= l_U1004;
                    if ((l_U1003 - l_U1004) < 0.00000000)
                    {
                         /* P_SET_PLAYER_HEALTH_PERCENT */ sub_88912( 0.00000000 );
                    }
                    else
                    {
                         /* P_SET_PLAYER_HEALTH_PERCENT */ sub_88912( l_U1003 / 100.00000000 );
                    }
                }
                l_U992 = TIMERA();
            }
            break;
        }
    }
    return;
}

/* F_GET_NUM_LIVING_MANGROVE_SHOOTING_GUNNERS */ void sub_87769(float fParam0)
{
    int J;
    int I;
    int Result;

    Result = 0;
    for ( J = 0; J < 19; J++ )
    {
        for ( I = 0; I < l_U4011[J]; I++ )
        {
            if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() ))) AND (NOT (IS_PED_DEAD( l_U2433[J][I]._fU52 ))))
            {
                if ((( /* GET_DISTANCE_BETWEEN_PEDS */ sub_87962(  /* PLAYER_PED_ID */ sub_34875(), l_U2433[J][I]._fU52, 0 )) < fParam0) AND (IS_PED_SHOOTING( l_U2433[J][I]._fU52 )))
                {
                    Result++;
                }
            }
        }
    }
    for ( J = 0; J < 6; J++ )
    {
        for ( I = 0; I < l_U4082[J]._fU176; I++ )
        {
            if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() ))) AND (NOT (IS_PED_DEAD( l_U4082[J]._fU180[I]._fU52 ))))
            {
                if ((( /* GET_DISTANCE_BETWEEN_PEDS */ sub_87962(  /* PLAYER_PED_ID */ sub_34875(), l_U4082[J]._fU180[I]._fU52, 0 )) < fParam0) AND (IS_PED_SHOOTING( l_U4082[J]._fU180[I]._fU52 )))
                {
                    Result++;
                }
            }
        }
    }
    return Result;
}

/* GET_DISTANCE_BETWEEN_PEDS */ void sub_87962(unknown uParam0, unknown uParam1, boolean bParam2)
{
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;

    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        uVar5 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
    }
    if (NOT (IS_PED_DEAD( uParam1 )))
    {
        uVar8 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam1 )};
    }
    if (bParam2)
    {
        return VDIST( uVar5, uVar8 );
        break;
    }
    return VDIST( uVar5._fU0, uVar5._fU4, 0, uVar8._fU0, uVar8._fU4, 0 );
}

/* F_GET_NUM_LIVING_SHOOTING_DRIVERS */ void sub_88390(unknown uParam0, float fParam1)
{
    int I;
    int Result;

    Result = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
        if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() ))) AND (NOT (IS_PED_DEAD( (uParam0^)[I]._fU56 ))))
        {
            if ((( /* GET_DISTANCE_BETWEEN_PEDS */ sub_87962(  /* PLAYER_PED_ID */ sub_34875(), (uParam0^)[I]._fU56, 0 )) < fParam1) AND (IS_PED_SHOOTING( (uParam0^)[I]._fU56 )))
            {
                Result++;
            }
        }
    }
    return Result;
}

/* F_GET_NUM_LIVING_SHOOTING_GUNNERS */ void sub_88600(unknown uParam0, float fParam1)
{
    int I;
    int Result;

    Result = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
        if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() ))) AND (NOT (IS_PED_DEAD( (uParam0^)[I]._fU52 ))))
        {
            if ((( /* GET_DISTANCE_BETWEEN_PEDS */ sub_87962(  /* PLAYER_PED_ID */ sub_34875(), (uParam0^)[I]._fU52, 0 )) < fParam1) AND (IS_PED_SHOOTING( (uParam0^)[I]._fU52 )))
            {
                Result++;
            }
        }
    }
    return Result;
}

/* P_SET_PLAYER_HEALTH_PERCENT */ void sub_88912(unknown uParam0)
{
    int iVar3;

    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        iVar3 = (ROUND( ((GET_PED_MAX_HEALTH(  /* PLAYER_PED_ID */ sub_34875() )) - 100) * uParam0 )) + 100;
        SET_PED_HEALTH(  /* PLAYER_PED_ID */ sub_34875(), iVar3, 0 );
    }
    return;
}

/* P_SETUP_DEATH_CAM */ void sub_89069(unknown uParam0, unknown uParam1)
{
    switch (l_U852)
    {
        case 4:
         /* P_MANGROVE_SETUP_DEATH_CAM */ sub_89131( uParam0, uParam1 );
        break;
        case 5:
         /* P_PIER_SETUP_DEATH_CAM */ sub_89972( uParam0, uParam1 );
        break;
        default:
         /* P_SETUP_FRONT_DEATH_CAM */ sub_89250( uParam0, uParam1 );
        break;
    }
    return;
}

/* P_MANGROVE_SETUP_DEATH_CAM */ void sub_89131(unknown uParam0, unknown uParam1)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_MANGROVE_SETUP_DEATH_CAM() start", 0 );
    switch (l_U4925)
    {
        case 0:
         /* P_SETUP_FRONT_DEATH_CAM */ sub_89250( uParam0, uParam1 );
        break;
        case 1:
         /* P_SETUP_BACK_DEATH_CAM */ sub_89798( uParam0, uParam1 );
        break;
    }
    l_U4925++;
    if (l_U4925 >= 2)
    {
        l_U4925 = 0;
    }
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_MANGROVE_SETUP_DEATH_CAM() end", 0 );
    return;
}

/* P_SETUP_FRONT_DEATH_CAM */ void sub_89250(unknown uParam0, unknown uParam1)
{
     /* P_SETUP_PLAYER_DEATH_CAM */ sub_89314( uParam0, uParam1, l_U1093, l_U1099, l_U1096, l_U1102 );
    return;
}

/* P_SETUP_PLAYER_DEATH_CAM */ void sub_89314(int iParam0, int iParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13)
{
     /* NIS_CREATE_STATIC_CAM */ sub_89393( iParam0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 40.00000000, l_U1194 );
     /* NIS_CREATE_STATIC_CAM */ sub_89393( iParam1, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 40.00000000, l_U1194 );
    if (NOT (IS_VEHICLE_DEAD( g_U977 )))
    {
        ATTACH_CAM_TO_VEHICLE( iParam0->_fU0, g_U977, uParam2, 1 );
        ATTACH_CAM_TO_VEHICLE( iParam1->_fU0, g_U977, uParam5, 1 );
        POINT_CAM_AT_VEHICLE( iParam0->_fU0, g_U977, uParam8, 1 );
        POINT_CAM_AT_VEHICLE( iParam1->_fU0, g_U977, uParam11, 1 );
    }
    return;
}

/* NIS_CREATE_STATIC_CAM */ void sub_89393(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    iParam0->_fU4 = {uParam4};
    iParam0->_fU16 = {uParam1};
    iParam0->_fU28 = uParam7;
    iParam0->_fU32 = 0;
    iParam0->_fU36 = 0;
    iParam0->_fU84 = uParam8;
    iParam0->_fU88 = 0;
    iParam0->_fU92 = 0;
    iParam0->_fU40 = 0;
    iParam0->_fU44 = 0;
    iParam0->_fU100 = 1;
    iParam0->_fU104 = 1;
    iParam0->_fU96 = 0;
     /* CREATETIMER */ sub_23130( iParam0 + 48, uParam8, 1, 0 );
    iParam0->_fU0 = CREATE_CAM_WITH_PARAMS( ref l_U2, iParam0->_fU16, iParam0->_fU4, iParam0->_fU28, 1 );
    SET_CAM_PARAMS( iParam0->_fU0, iParam0->_fU16, iParam0->_fU4, iParam0->_fU28, 0, 1, 1 );
    return;
}

/* P_SETUP_BACK_DEATH_CAM */ void sub_89798(unknown uParam0, unknown uParam1)
{
     /* P_SETUP_PLAYER_DEATH_CAM */ sub_89314( uParam0, uParam1, l_U1105, l_U1111, l_U1108, l_U1114 );
    return;
}

/* P_PIER_SETUP_DEATH_CAM */ void sub_89972(unknown uParam0, unknown uParam1)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_PIER_SETUP_DEATH_CAM() start", 0 );
    switch (l_U5599)
    {
        case 0:
         /* P_PIER_SETUP_ENVIRONMENT_DEATH_CAM */ sub_90091( uParam0, uParam1 );
        break;
        case 1:
         /* P_SETUP_FRONT_DEATH_CAM */ sub_89250( uParam0, uParam1 );
        break;
        case 2:
         /* P_SETUP_BACK_DEATH_CAM */ sub_89798( uParam0, uParam1 );
        break;
    }
    l_U5599++;
    if (l_U5599 >= 3)
    {
        l_U5599 = 0;
    }
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_PIER_SETUP_DEATH_CAM() end", 0 );
    return;
}

/* P_PIER_SETUP_ENVIRONMENT_DEATH_CAM */ void sub_90091(int iParam0, int iParam1)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_PIER_SETUP_DEATH_CAM() start", 0 );
     /* NIS_CREATE_STATIC_CAM */ sub_89393( iParam0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 35.00000000, l_U1194 );
     /* NIS_CREATE_STATIC_CAM */ sub_89393( iParam1, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 35.00000000, l_U1194 );
    if (NOT (IS_VEHICLE_DEAD( g_U977 )))
    {
        ATTACH_CAM_TO_VEHICLE( iParam0->_fU0, g_U977, l_U5600, 1 );
        ATTACH_CAM_TO_VEHICLE( iParam1->_fU0, g_U977, l_U5603, 1 );
        POINT_CAM_AT_VEHICLE( iParam0->_fU0, g_U977, l_U5606, 1 );
        POINT_CAM_AT_VEHICLE( iParam1->_fU0, g_U977, l_U5609, 1 );
        WAIT( 0 );
        DETACH_CAM( iParam0->_fU0 );
        DETACH_CAM( iParam1->_fU0 );
    }
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_PIER_SETUP_DEATH_CAM() end", 0 );
    return;
}

/* P_RAIL_HANDLE_NIS_BLOW_UP_PRE */ void sub_90612()
{
     /* WRITESCRIPTLOG */ sub_3853( "MF", "P_RAIL_HANDLE_NIS_BLOW_UP_PRE - START", 0 );
     /* P_RAIL_GUN_HEAT_OFF */ sub_70953();
     /* P_RAIL_BOAT_DAMAGE_METER_OFF */ sub_71084();
     /* KILL_SPEECH */ sub_84173( ref l_U887, 0 );
    if (IS_VEHICLE_DEAD( g_U977 ))
    {
        SCRIPT_ASSERT( "Passos' boat is dead when trying to play the fail NIS.", 0 );
    }
     /* STARTTIMER */ sub_66017( ref l_U1128 );
     /* STARTTIMER */ sub_66017( ref l_U1137 );
     /* STARTTIMER */ sub_66017( ref l_U1178 );
     /* STARTTIMER */ sub_66017( ref l_U1168 );
     /* STARTTIMER */ sub_66017( ref l_U1148 );
     /* STARTTIMER */ sub_66017( ref l_U1158 );
     /* P_CREATE_AND_START_TIMER */ sub_65967( ref l_U1118, 1500 );
    l_U1177 = 0;
     /* NIS_PRE_SETUP */ sub_76681( 1, 0, 0, 0 );
    SET_PLAYER_INVINCIBLE(  /* PLAYER_ID */ sub_34913(), 1 );
    DISPLAY_HUD( 0 );
     /* WRITESCRIPTLOG */ sub_3853( "MF", "P_RAIL_HANDLE_NIS_BLOW_UP_PRE - END", 0 );
    return;
}

/* F_RAIL_HANDLE_NIS_BLOW_UP */ void sub_90989()
{
    int Result;
    unknown uVar3;

    Result = 0;
    if (( /* ISTIMERDONE */ sub_85086( ref l_U1137 )) == 1)
    {
        ACTIVATE_BULLET_TIME( 0, l_U1147, 1 );
    }
    if ( /* ISTIMERDONE */ sub_85086( ref l_U1128 ))
    {
         /* WRITESCRIPTLOG */ sub_3853( "GA", "Blow Up NIS explode boat.", 0 );
         /* NIS_PLAY_STATIC_CAMERA */ sub_91117( ref l_U1007 );
         /* NIS_PLAY_INTERP_WITH_STATIC_CAMS */ sub_91241( ref l_U1007, ref l_U1038, l_U1117, 1, 1 );
         /* P_RAIL_EXPLODE_PASSOS_BOAT */ sub_91371( 1 );
        l_U999 = 1;
    }
    uVar3 =  /* FLERP */ sub_92887( g_U981, 0.25000000 * g_U981,  /* GETTIMERPERCENTAGE */ sub_92712( ref l_U1118 ) );
     /* P_SET_VEHICLE_PLAYBACK_SPEED */ sub_91965( g_U977, uVar3 );
    if (( /* ISTIMERDONE */ sub_85086( ref l_U1168 )) == 1)
    {
         /* P_IMAGEFX_START_BULLETCAM */ sub_84452( "DOCKS_RS_BOATSPLOSION_SCRIPTED_FAIL_FX", 0 );
        l_U1177 = 1;
    }
    if (( /* ISTIMERDONE */ sub_85086( ref l_U1158 )) == 1)
    {
        DEACTIVATE_BULLET_TIME( 0, 0 );
        l_U1177 = 1;
    }
    if ( /* ISTIMERDONE */ sub_85086( ref l_U1178 ))
    {
        STOP_SOUND( l_U1192, 0 );
        RELEASE_SOUND_ID( l_U1192 );
    }
    if (l_U1177)
    {
        if (( /* F_CHECK_QUIT_RETRY */ sub_84852( 1 )) == 1)
        {
             /* P_IMAGEFX_STOP_BULLETCAM */ sub_85948( "DOCKS_RS_BOATSPLOSION_SCRIPTED_FAIL_FX" );
            DESTROY_ALL_CAMS();
            Result = 1;
        }
        DISPLAY_HUD( 0 );
    }
    return Result;
}

/* NIS_PLAY_STATIC_CAMERA */ void sub_91117(int iParam0)
{
    RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
    SET_CAM_ACTIVE( iParam0->_fU0, 1 );
    RENDER_SCRIPT_CAMS( 1, 0, 3000, 0 );
     /* STARTTIMER */ sub_66017( iParam0 + 48 );
    iParam0->_fU32 = 1;
    iParam0->_fU40 = 1;
    return;
}

/* NIS_PLAY_INTERP_WITH_STATIC_CAMS */ void sub_91241(int iParam0, int iParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
    SET_CAM_ACTIVE_WITH_INTERP( iParam1->_fU0, iParam0->_fU0, uParam2, uParam3, uParam4 );
    RENDER_SCRIPT_CAMS( 1, 0, 3000, 0 );
     /* STARTTIMER */ sub_66017( iParam1 + 48 );
    iParam1->_fU32 = 1;
    iParam1->_fU40 = 1;
    return;
}

/* P_RAIL_EXPLODE_PASSOS_BOAT */ void sub_91371(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    int I;

     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_EXPLODE_PASSOS_BOAT start", 0 );
    if (NOT (IS_VEHICLE_DEAD( g_U977 )))
    {
        uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( g_U977 )};
        uVar6 = GET_VEHICLE_HEADING( g_U977 );
    }
    l_U1187[0] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U954, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( g_U977 ), 0.00000000, 0.00000000, GET_VEHICLE_HEADING( g_U977 ), 0, 0, 0 );
    l_U1187[1] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U955, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( g_U977 ), 0.00000000, 0.00000000, GET_VEHICLE_HEADING( g_U977 ), 0, 0, 0 );
    l_U1187[2] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U956, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( g_U977 ), 0.00000000, 0.00000000, GET_VEHICLE_HEADING( g_U977 ), 0, 0, 0 );
    l_U1187[3] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U957, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( g_U977 ), 0.00000000, 0.00000000, GET_VEHICLE_HEADING( g_U977 ), 0, 0, 0 );
    for ( I = 0; I < l_U1187; I++ )
    {
        if (DOES_OBJECT_EXIST( l_U1187[I] ))
        {
            ATTACH_OBJECT_TO_VEHICLE( l_U1187[I], g_U977, 0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000 );
            FREEZE_OBJECT_POSITION( l_U1187[I], 1 );
        }
    }
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        DETACH_PED(  /* PLAYER_PED_ID */ sub_34875(), 0 );
        SET_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_34875(), 0 );
    }
     /* CLEANPED */ sub_66740( g_U976 );
     /* CLEANOBJECT */ sub_86559( g_U978 );
     /* CLEANOBJECT */ sub_86559( g_U979 );
     /* CLEANOBJECT */ sub_86559( g_U980 );
    if (NOT (IS_VEHICLE_DEAD( g_U977 )))
    {
        SET_VEHICLE_VISIBLE( g_U977, 0 );
         /* P_SET_VEHICLE_PLAYBACK_SPEED */ sub_91965( g_U977, g_U981 );
    }
    if (iParam0 == 1)
    {
        ADD_EXPLOSION( uVar3, 12, 1.00000000, 0, 0, 1065353216 );
    }
    if (DOES_OBJECT_EXIST( l_U1187[0] ))
    {
        PLAY_OBJECT_ANIM( l_U1187[0], "p_ma_botexp_xa_h", "ma_anim_rsboat", 0.10000000, 0, 1 );
    }
    if (DOES_OBJECT_EXIST( l_U1187[1] ))
    {
        PLAY_OBJECT_ANIM( l_U1187[1], "p_ma_botexp_xb_h", "ma_anim_rsboat", 0.10000000, 0, 1 );
    }
    if (DOES_OBJECT_EXIST( l_U1187[2] ))
    {
        PLAY_OBJECT_ANIM( l_U1187[2], "p_ma_botexp_xc_h", "ma_anim_rsboat", 0.10000000, 0, 1 );
    }
    if (DOES_OBJECT_EXIST( l_U1187[3] ))
    {
        PLAY_OBJECT_ANIM( l_U1187[3], "p_ma_botexp_xd_h", "ma_anim_rsboat", 0.10000000, 0, 1 );
    }
    if (iParam0 == 1)
    {
         /* NIS_SHAKE_CAMERA */ sub_92487(  /* F_CAM_SHAKE_MED_EXPLOSION */ sub_92411(), 0.40000000 );
    }
    STOP_SCRIPT_STREAM( 0 );
    STOP_SCRIPT_STREAM( 1 );
    STOP_SCRIPT_STREAM( 2 );
    AUDIO_MUSIC_SUSPEND( 4000 );
     /* P_RAIL_KILL_SPEECH */ sub_83908();
    l_U1192 = GET_SOUND_ID();
    PLAY_SOUND_FRONTEND( l_U1192, "P_RAIL_EXPLODE_PASSOS_BOAT" );
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_EXPLODE_PASSOS_BOAT end", 0 );
    return;
}

/* P_SET_VEHICLE_PLAYBACK_SPEED */ void sub_91965(unknown uParam0, unknown uParam1)
{
    if (NOT (IS_VEHICLE_DEAD( uParam0 )))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_VEHICLE( uParam0 ))
        {
            SET_PLAYBACK_SPEED( uParam0, uParam1 );
        }
    }
    return;
}

/* F_CAM_SHAKE_MED_EXPLOSION */ string sub_92411()
{
    return "MEDIUM_EXPLOSION_SHAKE";
}

/* NIS_SHAKE_CAMERA */ void sub_92487(unknown uParam0, unknown uParam1)
{
    SHAKE_CAM( GET_RENDERING_CAM(), uParam0, uParam1 );
    return;
}

/* GETTIMERPERCENTAGE */ void sub_92712(int iParam0)
{
    int iVar3;

    if (iParam0->_fU28)
    {
        iVar3 = TIMERA();
    }
    else
    {
        iVar3 = TIMERB();
    }
    return  /* CLAMP */ sub_92814( (TO_FLOAT( iVar3 - iParam0->_fU0 )) / (TO_FLOAT( iParam0->_fU12 )), 0.00000000, 1.00000000 );
}

/* CLAMP */ void sub_92814(float fParam0, float fParam1, float fParam2)
{
    float Result;

    Result = fParam0;
    if (fParam0 < fParam1)
    {
        Result = fParam1;
    }
    else if (fParam0 > fParam2)
    {
        Result = fParam2;
    }
    return Result;
}

/* FLERP */ float sub_92887(unknown uParam0, unknown uParam1, unknown uParam2)
{
    return ((1.00000000 - uParam2) * uParam0) + (uParam1 * uParam2);
}

/* P_RAIL_HANDLE_NIS_BLOW_UP_POST */ void sub_93198()
{
     /* WRITESCRIPTLOG */ sub_3853( "MF", "P_RAIL_HANDLE_NIS_BLOW_UP_POST - START", 0 );
    DO_SCREEN_FADE_OUT( 500 );
    WAIT( 500 );
    CLEAR_PRINTS();
    CLEAR_HELP();
    STOP_SCRIPT_STREAM( 1 );
     /* NIS_RETURN_TO_GAMEPLAY_CAM */ sub_93349( 0, 0, 0, -859915232, -859915232, 0 );
     /* NIS_POST_SETUP */ sub_64635( 1, 1 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        SET_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_34875(), 1 );
    }
     /* CLEANOBJECTARRAY */ sub_86637( ref l_U1187 );
     /* WRITESCRIPTLOG */ sub_3853( "MF", "P_RAIL_HANDLE_NIS_BLOW_UP_POST - END", 0 );
    return;
}

/* NIS_RETURN_TO_GAMEPLAY_CAM */ void sub_93349(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, float fParam4, unknown uParam5)
{
    SET_CAM_SIDE_LEFT( uParam2 );
    if (fParam4 != -1E8)
    {
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( uParam3, 1065353216, 0 );
    }
    if (fParam4 != -1E8)
    {
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( fParam4, 1065353216, 0 );
    }
    RENDER_SCRIPT_CAMS( 0, uParam1, uParam0, uParam5 );
    return;
}

/* F_GET_NUM_LIVING_PEDS_IN_GUNNER_ARRAY */ void sub_93657(unknown uParam0)
{
    int Result;
    int I;

    Result = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
        if (NOT (IS_PED_DEAD( (uParam0^)[I]._fU52 )))
        {
            Result++;
        }
    }
    return Result;
}

/* P_HANDLE_PLAYER_BOAT_SMOKE */ void sub_93878()
{
    if (l_U1489 != 0)
    {
        if (l_U1489 != 2)
        {
            if ((g_U973 > (g_U972 * 0.40000000)) AND (((IS_VEHICLE_EXTRA_TURNED_ON( g_U977, 2 )) == 1) || (g_U973 < (g_U972 * 0.50000000))))
            {
                 /* WRITESCRIPTLOG */ sub_3853( "MF", "Enabling White Smoke", 0 );
                 /* P_UPDATE_SMOKE_PLAYER_BOAT */ sub_82349( l_U1486, l_U1481, l_U1485 );
                l_U1489 = 2;
            }
        }
        if (l_U1489 != 3)
        {
            if ((g_U973 > (g_U972 * 0.20000000)) AND (g_U973 < (g_U972 * 0.40000000)))
            {
                 /* WRITESCRIPTLOG */ sub_3853( "MF", "Enabling Grey Smoke", 0 );
                 /* P_UPDATE_SMOKE_PLAYER_BOAT */ sub_82349( l_U1487, l_U1481, l_U1485 );
                l_U1489 = 3;
            }
        }
        if (l_U1489 != 4)
        {
            if (g_U973 < (g_U972 * 0.20000000))
            {
                 /* WRITESCRIPTLOG */ sub_3853( "MF", "Enabling Black Smoke", 0 );
                 /* P_UPDATE_SMOKE_PLAYER_BOAT */ sub_82349( l_U1488, l_U1481, l_U1485 );
                l_U1489 = 4;
            }
        }
    }
    return;
}

/* P_HANDLE_AMBIENT_DIALOG */ void sub_94273()
{
    string[4] sVar2;
    string[3] sVar7;

    if ( /* ISTIMERDONE */ sub_85086( ref l_U975 ))
    {
         /* DISABLETIMER */ sub_23464( ref l_U975 );
    }
    if (NOT HAS_CUTSCENE_FINISHED())
    {
        if ( /* ISTIMERDONE */ sub_85086( ref l_U953 ))
        {
             /* P_CREATE_AND_START_TIMER */ sub_65967( ref l_U953, GET_RANDOM_INT_IN_RANGE( l_U971, l_U972 ) );
        }
    }
    if (l_U975._fU20)
    {
        return;
    }
    if ((NOT HAS_CUTSCENE_FINISHED()) || (IS_BULLET_TIME_ACTIVE( 1 )))
    {
        return;
    }
    if ( /* ISTIMERDONE */ sub_85086( ref l_U917 ))
    {
        if (NOT ( /* F_RAIL_IS_DIALOGUE_PLAYING */ sub_94439()))
        {
             /* P_RAIL_PASSOS_POINT_AND_SPEAK */ sub_94565( "SMA2_RSPBA", l_U870, 1, 0 );
            l_U984 = 1;
        }
    }
    if ( /* ISTIMERDONE */ sub_85086( ref l_U926 ))
    {
        if (NOT ( /* F_RAIL_IS_DIALOGUE_PLAYING */ sub_94439()))
        {
             /* P_RAIL_PASSOS_POINT_AND_SPEAK */ sub_94565( "SMA2_RSPAA", l_U867, 1, 0 );
            l_U984 = 1;
        }
    }
    if ( /* ISTIMERDONE */ sub_85086( ref l_U944 ))
    {
        if (NOT ( /* F_RAIL_IS_DIALOGUE_PLAYING */ sub_94439()))
        {
             /* P_RAIL_PASSOS_POINT_AND_SPEAK */ sub_94565( "SMA2_RSPCA", l_U868, 1, 0 );
            l_U984 = 1;
        }
    }
    if ( /* ISTIMERDONE */ sub_85086( ref l_U935 ))
    {
        if (NOT ( /* F_RAIL_IS_DIALOGUE_PLAYING */ sub_94439()))
        {
             /* P_RAIL_PASSOS_POINT_AND_SPEAK */ sub_94565( "SMA2_RSPCA", l_U869, 1, 0 );
            l_U984 = 1;
        }
    }
    if ((NOT ( /* F_RAIL_IS_DIALOGUE_PLAYING */ sub_94439())) AND (l_U984))
    {
        l_U984 = 0;
         /* P_RAIL_MAX_SPEAK */ sub_96884( "SMA2_RSMAA", 0, 1 );
    }
    if (NOT l_U953._fU20)
    {
        if ((g_U653 == 4) || (g_U653 == 3))
        {
             /* P_CREATE_AND_START_TIMER */ sub_65967( ref l_U953, GET_RANDOM_INT_IN_RANGE( l_U973, l_U974 ) );
        }
        else
        {
             /* P_CREATE_AND_START_TIMER */ sub_65967( ref l_U953, GET_RANDOM_INT_IN_RANGE( l_U971, l_U972 ) );
        }
    }
    if (NOT ( /* F_RAIL_IS_DIALOGUE_PLAYING */ sub_94439()))
    {
        if ( /* ISTIMERDONE */ sub_85086( ref l_U953 ))
        {
            if (g_U653 == 3)
            {
                 /* P_RAIL_MAX_SPEAK */ sub_96884( "SMA2_RVMFA", 0, 1 );
                l_U985 = 1;
                 /* P_CREATE_AND_START_TIMER */ sub_65967( ref l_U953, GET_RANDOM_INT_IN_RANGE( l_U973, l_U974 ) );
            }
            else if (g_U653 == 4)
            {
                array(ref sVar2, 4);
                sVar2[0] = "SMA2_RVMSTA";
                sVar2[1] = "SMA2_RVMSTB";
                sVar2[2] = "SMA2_RVMSTC";
                sVar2[3] = "SMA2_RVMSTD";
                 /* P_RAIL_PASSOS_MAX_RANDOM_DIALOGUE */ sub_97459( ref sVar2, 1, 1, 0 );
                l_U985 = 0;
                 /* P_CREATE_AND_START_TIMER */ sub_65967( ref l_U953, GET_RANDOM_INT_IN_RANGE( l_U973, l_U974 ) );
            }
            else
            {
                 /* P_RAIL_MAX_SPEAK */ sub_96884( "SMA2_RSMBA", 0, 1 );
                l_U985 = (GET_RANDOM_INT_IN_RANGE( 0, 3 )) == 1;
                 /* P_CREATE_AND_START_TIMER */ sub_65967( ref l_U953, GET_RANDOM_INT_IN_RANGE( l_U971, l_U972 ) );
            }
        }
    }
    if ((l_U985) AND (NOT ( /* F_RAIL_IS_DIALOGUE_PLAYING */ sub_94439())))
    {
        if (g_U653 == 3)
        {
             /* P_RAIL_PASSOS_SPEAK */ sub_97596( "SMA2_RVPFA", 0, 1, 0 );
        }
        else
        {
             /* P_RAIL_PASSOS_SPEAK */ sub_97596( "SMA2_RSPBB", 0, 1, 0 );
        }
        l_U985 = 0;
    }
    if ((NOT ( /* F_RAIL_IS_DIALOGUE_PLAYING */ sub_94439())) AND (NOT (IS_PED_DEAD( g_U976 ))))
    {
        if (IS_EXPLOSION_IN_SPHERE( -1, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( g_U976 ), 30.00000000 ))
        {
             /* P_RAIL_PASSOS_SPEAK */ sub_97596( "SMA2_RSPNA", 0, 1, 0 );
        }
    }
    if (g_U973 < l_U988)
    {
        if (NOT ( /* F_RAIL_IS_DIALOGUE_PLAYING */ sub_94439()))
        {
            if ((g_U973 <= (g_U972 / 2)) AND (NOT l_U989))
            {
                array(ref sVar7, 3);
                sVar7[0] = "SMA2_RSPGA";
                sVar7[1] = "SMA2_RSPGB";
                sVar7[2] = "SMA2_RSPGC";
                 /* P_RAIL_PASSOS_MAX_RANDOM_DIALOGUE */ sub_97459( ref sVar7, 1, 1, 0 );
                l_U989 = 1;
            }
            else
            {
                 /* P_RAIL_PASSOS_SPEAK */ sub_97596( "SMA2_RSPFA", 0, 1, 0 );
            }
            while (l_U988 > g_U973)
            {
                l_U988 -= l_U987 * g_U972;
            }
        }
    }
    return;
}

/* F_RAIL_IS_DIALOGUE_PLAYING */ int sub_94439()
{
    if ((l_U962._fU20) || (( /* IS_SPEECH_CURRENTLY_PLAYING */ sub_83945( l_U907 )) || (( /* IS_SPEECH_CURRENTLY_PLAYING */ sub_83945( l_U897 )) || ( /* IS_SPEECH_CURRENTLY_PLAYING */ sub_83945( l_U887 )))))
    {
        return 1;
    }
    return 0;
}

/* P_RAIL_PASSOS_POINT_AND_SPEAK */ void sub_94565(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_PASSOS_POINT_AND_SPEAK start", 0 );
    if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() ))) AND (NOT (IS_PED_DEAD( g_U976 ))))
    {
        PRINTSTRING( "Passos point and speak anim " );
        PRINTSTRING( " audio " );
        PRINTSTRING( uParam0 );
        PRINTNL();
         /* P_RAIL_ERROR_CHECK_NO_OTHER_SCRIPT_DIALOGUE_PLAYING */ sub_94759();
        PED_SET_ACTION_INTENTION( g_U976, uParam1, 1000, 0.00000000, 0.00000000, 0.00000000 );
         /* RESET_SCRIPT_SPEECH_STRUCT */ sub_95346( ref l_U887 );
         /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_95461( uParam2, g_U976, "PASSOS", ref l_U887, 2, 0 );
         /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_95461( uParam3,  /* PLAYER_PED_ID */ sub_34875(), "MAX", ref l_U887, 2, 0 );
         /* PLAY_SINGLE_SPEECH */ sub_95719( uParam0, ref l_U887, 8, 1 );
    }
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_PASSOS_POINT_AND_SPEAK end", 0 );
    return;
}

/* P_RAIL_ERROR_CHECK_NO_OTHER_SCRIPT_DIALOGUE_PLAYING */ void sub_94759()
{
    if ( /* IS_SPEECH_CURRENTLY_PLAYING */ sub_83945( l_U887 ))
    {
         /* WRITESCRIPTLOG */ sub_3853( "GA", "Trying to play over an already playing Passos dialogue.", 0 );
        SCRIPT_ASSERT( "Trying to play over an already playing Passos dialogue.", 0 );
         /* KILL_SPEECH */ sub_84173( ref l_U887, 0 );
    }
    if ( /* IS_SPEECH_CURRENTLY_PLAYING */ sub_83945( l_U897 ))
    {
         /* WRITESCRIPTLOG */ sub_3853( "GA", "Trying to play over an already playing Max dialogue.", 0 );
        SCRIPT_ASSERT( "Trying to play over an already playing Max dialogue.", 0 );
         /* KILL_SPEECH */ sub_84173( ref l_U897, 0 );
    }
    if ( /* IS_SPEECH_CURRENTLY_PLAYING */ sub_83945( l_U907 ))
    {
         /* WRITESCRIPTLOG */ sub_3853( "GA", "Trying to play over an already playing Fabiana dialogue.", 0 );
        SCRIPT_ASSERT( "Trying to play over an already playing Fabiana dialogue.", 0 );
         /* KILL_SPEECH */ sub_84173( ref l_U907, 0 );
    }
    return;
}

/* RESET_SCRIPT_SPEECH_STRUCT */ void sub_95346(int iParam0)
{
    iParam0->_fU4 = -1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = 0;
    iParam0->_fU32 = 0;
    iParam0->_fU36 = 0;
    return;
}

/* ADD_PED_FOR_SCRIPT_SPEECH */ void sub_95461(int iParam0, unknown uParam1, unknown uParam2, int iParam3, unknown uParam4, unknown uParam5)
{
    if (iParam3->_fU32)
    {
        ;
    }
    else if (iParam3->_fU36 == 0)
    {
        iParam3->_fU36 = 1;
        iParam3->_fU4 = CREATE_NEW_SCRIPTED_CONVERSATION( uParam4 );
        if (iParam3->_fU4 == -1)
        {
            iParam3->_fU32 = 1;
        }
    }
    if ((iParam0 < 9) AND ((iParam0 >= 0) AND ((iParam3->_fU4 < 4) AND (iParam3->_fU4 >= 0))))
    {
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU0 = uParam1;
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU4 = GET_HASH_KEY( uParam2 );
        if (NOT (IS_PED_INJURED( uParam1 )))
        {
            SET_PED_CAN_PLAY_AMBIENT_ANIMS( uParam1, uParam5 );
        }
    }
    return;
}

/* PLAY_SINGLE_SPEECH */ void sub_95719(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return  /* PLAY_SINGLE_SPEECH_FROM_BLOCK */ sub_95764( uParam0, ref g_U157._fU0, uParam1, uParam2, uParam3 );
}

/* PLAY_SINGLE_SPEECH_FROM_BLOCK */ void sub_95764(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    StrCopy( ref cVar11[0], uParam0, 16 );
    StrCopy( ref cVar11[1], "END", 16 );
    return  /* PLAYSPEECHMAIN */ sub_95851( ref cVar11, uParam2, uParam3, 0, 0, 0, 0, ref cVar7, uParam4 );
}

/* PLAYSPEECHMAIN */ int sub_95851(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    int I;
    unknown uVar12;
    unknown uVar13;

    if (iParam1->_fU4 == -1)
    {
        return 0;
    }
    iParam1->_fU0 = uParam2;
    if (NOT ( /* CANTHISSPEECHBEPLAYED */ sub_95903( iParam1 )))
    {
        return 0;
    }
    uVar12 = iParam1->_fU4;
    uVar13 = GET_HASH_KEY( ref (uParam0^)[0] );
    iParam1->_fU16 = uVar13;
    SET_CONVERSATION_CHECK_HASH( uVar12, uVar13 );
    g_U157._fU132 = 0;
    iParam1->_fU24 = 0;
    iParam1->_fU28 = uParam5;
    if (bParam3)
    {
        if (iParam1->_fU20)
        {
            iParam1->_fU20 = 0;
        }
    }
    else
    {
        iParam1->_fU20 = 0;
        if (bParam4)
        {
            iParam1->_fU12 = uParam6;
            iParam1->_fU20 = 0;
        }
        else
        {
            iParam1->_fU12 = 0;
            iParam1->_fU20 = 0;
        }
    }
    iParam1->_fU24 = bParam4;
    for ( I = 0; I <= 24; I++ )
    {
        StrCopy( ref g_U233[uVar12][I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        g_U233[uVar12][I] = {(uParam0^)[I]};
    }
    g_U192[uVar12] = {(iParam1^)};
     /* COPYHIDDENSPEECHSTUCT */ sub_96421( ref g_U16[uVar12], ref g_U157 );
    StrCopy( ref g_U16[uVar12]._fU0, uParam7, 16 );
    g_U16[uVar12]._fU136 = uParam8;
    g_U11[iParam1->_fU4] = 1;
    return 1;
}

/* CANTHISSPEECHBEPLAYED */ int sub_95903(int iParam0)
{
    switch (g_U11[iParam0->_fU4])
    {
        case 1:
        case 2:
        return 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING( iParam0->_fU4 ))
    {
        if (g_U1[iParam0->_fU4] > iParam0->_fU0)
        {
            return 0;
        }
        STOP_SCRIPTED_CONVERSATION( iParam0->_fU4, 0, 0 );
    }
    g_U1[iParam0->_fU4] = iParam0->_fU0;
    g_U6[iParam0->_fU4]++;
    if (g_U6[iParam0->_fU4] > 100000)
    {
        g_U6[iParam0->_fU4] = 1;
    }
    iParam0->_fU8 = g_U6[iParam0->_fU4];
    return 1;
}

/* COPYHIDDENSPEECHSTUCT */ void sub_96421(int iParam0, int iParam1)
{
    int I;

    iParam0->_fU0 = {iParam1->_fU0};
    for ( I = 0; I <= 8; I++ )
    {
        iParam0->_fU92[I] = iParam1->_fU92[I];
    }
    iParam0->_fU132 = iParam1->_fU132;
    iParam0->_fU136 = iParam1->_fU136;
    return;
}

/* P_RAIL_MAX_SPEAK */ void sub_96884(unknown uParam0, unknown uParam1, unknown uParam2)
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_RAIL_MAX_SPEAKS start", 0 );
    if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() ))) AND (NOT (IS_PED_DEAD( g_U976 ))))
    {
        PRINTSTRING( "Max speak dialogue " );
        PRINTSTRING( uParam0 );
        PRINTNL();
         /* P_RAIL_ERROR_CHECK_NO_OTHER_SCRIPT_DIALOGUE_PLAYING */ sub_94759();
         /* RESET_SCRIPT_SPEECH_STRUCT */ sub_95346( ref l_U897 );
         /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_95461( uParam1,  /* PLAYER_PED_ID */ sub_34875(), "MAX", ref l_U897, 2, 0 );
         /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_95461( uParam2, g_U976, "PASSOS", ref l_U897, 2, 0 );
         /* PLAY_SINGLE_SPEECH */ sub_95719( uParam0, ref l_U897, 8, 1 );
        PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_34875(), 47, 1000, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( g_U976 ) );
    }
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_RAIL_MAX_SPEAKS end", 0 );
    return;
}

/* P_RAIL_PASSOS_MAX_RANDOM_DIALOGUE */ void sub_97459(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;
    unknown uVar7;

     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_RAIL_PASSOS_MAX_RANDOM_DIALOGUE", 0 );
    uVar6 = (uParam0^);
    SET_RANDOM_SEED( GET_REAL_GAME_TIMER() );
    uVar7 = GET_RANDOM_INT_IN_RANGE( 0, uVar6 );
     /* P_RAIL_PASSOS_SPEAK */ sub_97596( (uParam0^)[uVar7], uParam1, uParam2, uParam3 );
    return;
}

/* P_RAIL_PASSOS_SPEAK */ void sub_97596(unknown uParam0, boolean bParam1, unknown uParam2, unknown uParam3)
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_PASSOS_SPEAK start", 0 );
    if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() ))) AND (NOT (IS_PED_DEAD( g_U976 ))))
    {
        PRINTSTRING( "Passos speak dialogue " );
        PRINTSTRING( uParam0 );
        PRINTNL();
         /* P_RAIL_ERROR_CHECK_NO_OTHER_SCRIPT_DIALOGUE_PLAYING */ sub_94759();
         /* RESET_SCRIPT_SPEECH_STRUCT */ sub_95346( ref l_U887 );
         /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_95461( uParam2, g_U976, "PASSOS", ref l_U887, 2, 0 );
         /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_95461( uParam3,  /* PLAYER_PED_ID */ sub_34875(), "MAX", ref l_U887, 2, 0 );
         /* PLAY_SINGLE_SPEECH */ sub_95719( uParam0, ref l_U887, 8, 1 );
        if (bParam1)
        {
            PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_34875(), 48, 1000, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( g_U976 ) );
        }
    }
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_PASSOS_SPEAK end", 0 );
    return;
}

/* P_HANDLE_DIALOGUE_COOLDOWN */ void sub_98376()
{
    if (( /* IS_SPEECH_CURRENTLY_PLAYING */ sub_83945( l_U907 )) || (( /* IS_SPEECH_CURRENTLY_PLAYING */ sub_83945( l_U897 )) || ( /* IS_SPEECH_CURRENTLY_PLAYING */ sub_83945( l_U887 ))))
    {
        l_U986 = 1;
    }
    else if (l_U986)
    {
         /* P_CREATE_AND_START_TIMER */ sub_65967( ref l_U962, 3000 );
        l_U986 = 0;
    }
     /* ISTIMERDONE */ sub_85086( ref l_U962 );
    return;
}

/* P_RAIL_KEEP_VEHICLE_ALIVE */ void sub_98528(unknown uParam0)
{
    if ((NOT (IS_VEHICLE_DEAD( uParam0 ))) || (DOES_VEHICLE_EXIST( uParam0 )))
    {
        if ((GET_VEHICLE_HEALTH( uParam0 )) < 5000)
        {
            SET_VEHICLE_HEALTH( uParam0, 10000 );
        }
        if ((GET_VEHICLE_ENGINE_HEALTH( uParam0 )) < 5000)
        {
            SET_VEHICLE_ENGINE_HEALTH( uParam0, 10000 );
        }
        if ((GET_VEHICLE_PETROL_TANK_HEALTH( uParam0 )) < 5000)
        {
            SET_VEHICLE_PETROL_TANK_HEALTH( uParam0, 10000 );
        }
    }
    return;
}

/* P_RAIL_HANDLE_GUN_HEAT */ void sub_98705()
{
    boolean bVar2;
    int iVar3;
    int iVar4;
    float fVar5;
    float fVar6;
    float fVar7;
    int iVar8;

    bVar2 = false;
    iVar3 = TIMERA();
    iVar4 = iVar3 - l_U1216;
    fVar5 = 1.00000000 / ((l_U1197 + l_U1198) + l_U1199);
    fVar6 = 1.00000000 / ((l_U1201 + l_U1200) + l_U1214);
    fVar7 = 0.00000000;
    iVar8 = 0;
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        if ((NOT (IS_PED_RELOADING(  /* PLAYER_PED_ID */ sub_34875() ))) AND (IS_CONTROL_PRESSED( 0, 4 )))
        {
            bVar2 = true;
        }
    }
    if (l_U1196 < 3)
    {
        if (bVar2)
        {
            l_U1215 += iVar4 * fVar5;
        }
        else
        {
            l_U1215 -= iVar4 * fVar6;
        }
        if (l_U1215 > (fVar5 * ((l_U1197 + l_U1198) + l_U1199)))
        {
            l_U1196 = 3;
             /* P_RAIL_GUN_OVERHEATED */ sub_98970();
             /* P_CREATE_AND_START_TIMER */ sub_65967( ref l_U1203, l_U1202 );
        }
        else if (l_U1215 > (fVar5 * (l_U1197 + l_U1198)))
        {
            l_U1196 = 2;
        }
        else if (l_U1215 > (fVar5 * l_U1197))
        {
            l_U1196 = 1;
        }
        else
        {
            l_U1196 = 0;
        };;;
    }
    fVar7 =  /* FLERP */ sub_92887( l_U1218, l_U1219, l_U1215 );
    iVar8 =  /* ILERP */ sub_99492( l_U1221, l_U1220, l_U1215 );
    l_U1217 += iVar4;
    switch (l_U1196)
    {
        case 0: break;
        case 1:
        if ((l_U1217 > iVar8) AND (bVar2))
        {
            SHAKE_GAMEPLAY_CAM(  /* F_CAM_SHAKE_JOLT */ sub_99642(), fVar7 );
            l_U1217 = 0;
        }
        break;
        case 2:
        if ((l_U1217 > iVar8) AND (bVar2))
        {
            SHAKE_GAMEPLAY_CAM(  /* F_CAM_SHAKE_JOLT */ sub_99642(), fVar7 );
            l_U1217 = 0;
        }
        break;
        case 3:
        if ( /* ISTIMERDONE */ sub_85086( ref l_U1203 ))
        {
            if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_34913() )))
            {
                SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_34913(), 1, 0 );
            }
             /* P_MAX_RELOAD_WEAPONS */ sub_64733();
            l_U1196 = 0;
            ENABLE_CROSSHAIR( 1 );
            ENABLE_OVERHEAT_ICON( 1, "weap_hk_21e" );
            l_U1215 = 0.00000000;
            SET_OVERHEAT_AMOUNT( l_U1215 );
        }
        break;
        case 4:
        l_U1215 -= iVar4 * fVar6;
        if (l_U1215 <= 0.00000000)
        {
            l_U1196 = 0;
        }
        break;
        case 5: break;
    }
    l_U1215 =  /* CLAMP */ sub_92814( l_U1215, 0.00000000, 1.00000000 );
    l_U1216 = iVar3;
    SET_OVERHEAT_AMOUNT( l_U1215 );
    return;
}

/* P_RAIL_GUN_OVERHEATED */ void sub_98970()
{
    int iVar2;

     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_GUN_OVERHEATED start", 0 );
    if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_34913() )))
    {
        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_34913(), 0, 0 );
        REENABLE_PLAYER_INPUT( 14 );
        REENABLE_PLAYER_INPUT( 15 );
        REENABLE_PLAYER_INPUT( 16 );
        REENABLE_PLAYER_INPUT( 17 );
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    ENABLE_CROSSHAIR( 0 );
    switch (l_U852)
    {
        case 1:
        iVar2 = 49;
        break;
        case 5:
        iVar2 = 50;
        break;
        case 0:
        iVar2 = 51;
        break;
        case 2:
        if (l_U853 == 0)
        {
            iVar2 = 52;
        }
        else
        {
            iVar2 = 53;
        }
        break;
        case 3:
        iVar2 = 53;
        break;
        case 4:
        iVar2 = 54;
        break;
    }
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_34875(), iVar2, 1000, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS(  /* PLAYER_PED_ID */ sub_34875() ) );
    }
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_GUN_OVERHEATED end", 0 );
    return;
}

/* ILERP */ void sub_99492(unknown uParam0, unknown uParam1, unknown uParam2)
{
    return ROUND( ((1.00000000 - uParam2) * uParam0) + (uParam1 * uParam2) );
}

/* F_CAM_SHAKE_JOLT */ string sub_99642()
{
    return "JOLT_SHAKE";
}

/* P_RAIL_HANDLE_MANGROVE_SECTION_EVENTS */ void sub_100094()
{
    int iVar2;
    int iVar3;
    unknown uVar4;
    int I;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    int J;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;

    iVar2 = l_U1665;
    switch (l_U1665)
    {
        case 0:
        if (l_U1666)
        {
             /* WRITESCRIPTLOG */ sub_3853( "SA", "e_Mangrove_CP_State = eMG_CP_MID_12_BLENDOUT", 0 );
             /* P_RAIL_MANGROVE_CREATE_COMBAT_BOAT */ sub_100248( 1 );
             /* P_MANGROVE_PREPARE_MID_12_BLENDOUT */ sub_101082();
             /* P_RAIL_PLAY_MUSIC_CUE */ sub_69937( l_U1599 );
        }
        if (NOT ( /* F_MANGROVE_IS_MB_GUNNER_STACK_EMPTY */ sub_101365()))
        {
             /* P_MANGROVE_HANDLE_MB_GUNNER_SPAWNING */ sub_101449();
        }
        if ( /* F_MANGROVE_HANDLE_MID_12_BLENDOUT */ sub_101974())
        {
            l_U1665 = 1;
        }
        break;
        case 1:
        if (l_U1666)
        {
             /* WRITESCRIPTLOG */ sub_3853( "SA", "e_Mangrove_CP_State = eMG_CP_GAMEPLAY", 0 );
        }
         /* P_RAIL_MANGROVE_HANDLE_DIALOGUE */ sub_102200();
        if (NOT ( /* F_MANGROVE_IS_MB_GUNNER_STACK_EMPTY */ sub_101365()))
        {
             /* P_MANGROVE_HANDLE_MB_GUNNER_SPAWNING */ sub_101449();
        }
        for ( iVar3 = 0; iVar3 < 19; iVar3++ )
        {
            if ((l_U4072 == 0) AND ((NOT l_U4040._fU20) AND (( /* F_HAS_VEHICLE_REACHED_PATH_MARK */ sub_102265( g_U977, l_U1664, l_U2413[iVar3] )) AND (NOT l_U1690[iVar3]._fU112))))
            {
                if ((NOT (DOES_VEHICLE_EXIST( l_U1690[iVar3]._fU0 ))) AND ((l_U4036 < l_U4039) AND (( /* F_GET_NUM_LIVING_DRIVERS_IN_BOAT_ARRAY */ sub_102398( ref l_U1690 )) < l_U4031)))
                {
                     /* P_RAIL_MANGROVE_CREATE_COMBAT_BOAT */ sub_100248( iVar3 );
                     /* P_CREATE_AND_START_TIMER */ sub_65967( ref l_U4911, 1000 );
                    l_U4920 = iVar3;
                     /* P_CREATE_AND_START_TIMER */ sub_65967( ref l_U4867, l_U4857 );
                }
                l_U1690[iVar3]._fU112 = 1;
            }
            if ( /* ISTIMERDONE */ sub_85086( ref l_U4911 ))
            {
                 /* P_RAIL_MANGROVE_PASSOS_POINT_AT_BOAT */ sub_103112( ref l_U1690[l_U4920] );
            }
             /* P_RAIL_MANGROVE_HANDLE_PASSOS_FIRING */ sub_103649();
             /* P_RAIL_HANDLE_BOAT_ENGINE_HEALTH */ sub_103891( l_U1690[iVar3]._fU0 );
             /* P_SAFETY_DEAD_VEHICLE_RECORDING */ sub_104012( l_U1690[iVar3]._fU0, l_U1690[iVar3]._fU56 );
             /* P_RAIL_HANDLE_VEHICLE_ON_FIRE_PFX */ sub_104146( ref l_U1690[iVar3] );
            if ((NOT l_U1690[iVar3]._fU116) AND (l_U1690[iVar3]._fU112))
            {
                if ((NOT (IS_PED_DEAD( l_U1690[iVar3]._fU56 ))) AND (NOT (IS_VEHICLE_DEAD( l_U1690[iVar3]._fU0 ))))
                {
                    if (NOT (IS_PLAYBACK_GOING_ON_FOR_VEHICLE( l_U1690[iVar3]._fU0 )))
                    {
                        PRINTSTRING( "Attempting to let AI pilot boat number " );
                         /* WRITE_INT */ sub_43832( iVar3 );
                         /* P_RAIL_AI_PILOT_BOAT */ sub_105013( l_U1690[iVar3]._fU0, l_U1690[iVar3]._fU56, g_U977, l_U4032, l_U4033, l_U4034, l_U4035 );
                        l_U1690[iVar3]._fU116 = 1;
                    }
                }
            }
            if (NOT (IS_VEHICLE_DEAD( l_U1690[iVar3]._fU0 )))
            {
                if (((GET_VEHICLE_PETROL_TANK_HEALTH( l_U1690[iVar3]._fU0 )) > -1.00000000) AND (NOT (IS_VEHICLE_IN_WATER( l_U1690[iVar3]._fU0 ))))
                {
                    SET_VEHICLE_PETROL_TANK_HEALTH( l_U1690[iVar3]._fU0, (GET_VEHICLE_PETROL_TANK_HEALTH( l_U1690[iVar3]._fU0 )) - 10.00000000 );
                }
                if (((GET_VEHICLE_PETROL_TANK_HEALTH( l_U1690[iVar3]._fU0 )) > -1.00000000) AND (IS_VEHICLE_UPSIDEDOWN( l_U1690[iVar3]._fU0 )))
                {
                    SET_VEHICLE_PETROL_TANK_HEALTH( l_U1690[iVar3]._fU0, (GET_VEHICLE_PETROL_TANK_HEALTH( l_U1690[iVar3]._fU0 )) - 10.00000000 );
                }
            }
            for ( I = 0; I <= 1; I++ )
            {
                 /* P_RAIL_HANDLE_GUNNER_JUMP_OUT */ sub_105478( ref l_U1690[iVar3], ref l_U2433[iVar3][I], 0, 1 );
                if ((IS_PED_DEAD( l_U2433[iVar3][I]._fU52 )) AND (DOES_PED_EXIST( l_U2433[iVar3][I]._fU52 )))
                {
                    if (NOT (IS_PED_ON_SCREEN( l_U2433[iVar3][I]._fU52, 0 )))
                    {
                        PRINTSTRING( "Cleaning Gunner " );
                        PRINTINT( I );
                        PRINTSTRING( " from boat " );
                         /* WRITE_INT */ sub_43832( iVar3 );
                         /* CLEANPED */ sub_66740( l_U2433[iVar3][I]._fU52 );
                    }
                }
            }
            if ((IS_PED_DEAD( l_U1690[iVar3]._fU56 )) AND (DOES_PED_EXIST( l_U1690[iVar3]._fU56 )))
            {
                if (NOT (IS_PED_ON_SCREEN( l_U1690[iVar3]._fU56, 0 )))
                {
                    PRINTSTRING( "Cleaning driver from boat " );
                     /* WRITE_INT */ sub_43832( iVar3 );
                     /* CLEANPED */ sub_66740( l_U1690[iVar3]._fU56 );
                }
            }
            if ((IS_PED_DEAD( l_U1690[iVar3]._fU56 )) AND (DOES_VEHICLE_EXIST( l_U1690[iVar3]._fU0 )))
            {
                if (NOT (IS_VEHICLE_ON_SCREEN( l_U1690[iVar3]._fU0 )))
                {
                    uVar6 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( l_U1690[iVar3]._fU0 )};
                    if (( /* GET_DISTANCE_BETWEEN_PED_AND_VECTOR */ sub_107119(  /* PLAYER_PED_ID */ sub_34875(), uVar6 )) > l_U4038)
                    {
                         /* CLEANVEHICLE */ sub_67007( l_U1690[iVar3]._fU0 );
                        for ( J = 0; J < l_U4011[iVar3]; J++ )
                        {
                            if ((NOT (IS_PED_DEAD( l_U2433[iVar3][J]._fU52 ))) AND (DOES_PED_EXIST( l_U2433[iVar3][J]._fU52 )))
                            {
                                 /* CLEANPED */ sub_66740( l_U2433[iVar3][J]._fU52 );
                            }
                        }
                    }
                }
            }
        }
         /* P_MANGROVE_HANDLE_TURNING_SOUND */ sub_107396();
        if ((NOT l_U4040._fU20) AND ( /* F_HAS_VEHICLE_REACHED_PATH_MARK */ sub_102265( g_U977, l_U1664, l_U1662 )))
        {
             /* WRITESCRIPTLOG */ sub_3853( "GA", "Looping Passos' boat path.", 0 );
             /* P_START_VEHICLE_PLAYBACK */ sub_51942( g_U977, l_U1664, l_U1660, l_U1663, 0 );
            for ( iVar3 = 0; iVar3 < 19; iVar3++ )
            {
                l_U1690[iVar3]._fU112 = 0;
                l_U1690[iVar3]._fU116 = 0;
            }
            for ( iVar3 = 0; iVar3 < 6; iVar3++ )
            {
                l_U4082[iVar3]._fU164 = 0;
            }
            l_U4907 = 0;
        }
        for ( iVar3 = 0; iVar3 < 6; iVar3++ )
        {
            if ( /* ISTIMERDONE */ sub_85086( ref l_U4858 ))
            {
                 /* DISABLETIMER */ sub_23464( ref l_U4858 );
            }
            if ( /* ISTIMERDONE */ sub_85086( ref l_U4867 ))
            {
                 /* DISABLETIMER */ sub_23464( ref l_U4867 );
            }
            if ((l_U4072 == 0) AND ((NOT l_U4040._fU20) AND ((l_U4036 < (l_U4039 - 1)) AND (( /* F_HAS_VEHICLE_REACHED_PATH_MARK */ sub_102265( g_U977, l_U1664, l_U4082[iVar3]._fU152 )) AND (NOT l_U4082[iVar3]._fU164)))))
            {
                if ( /* F_CAN_FLAVOUR_BOAT_SPAWN */ sub_108029( ref l_U4082[iVar3] ))
                {
                    DISPLAYF( "SPAWNING FLAVOUR BOAT {0}", 1, 513, iVar3 );
                     /* P_CREATE_FLAVOUR_BOAT */ sub_108181( ref l_U4082[iVar3], iVar3 );
                     /* P_CREATE_AND_START_TIMER */ sub_65967( ref l_U4858, l_U4857 );
                }
                else
                {
                    l_U4082[iVar3]._fU164 = 1;
                }
            }
            if (DOES_VEHICLE_EXIST( l_U4082[iVar3]._fU0._fU0 ))
            {
                if ((NOT (IS_VEHICLE_ON_SCREEN( l_U4082[iVar3]._fU0._fU0 ))) AND (NOT (IS_PLAYBACK_GOING_ON_FOR_VEHICLE( l_U4082[iVar3]._fU0._fU0 ))))
                {
                    uVar10 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( l_U4082[iVar3]._fU0._fU0 )};
                    if (( /* GET_DISTANCE_BETWEEN_PED_AND_VECTOR */ sub_107119(  /* PLAYER_PED_ID */ sub_34875(), uVar10 )) > l_U4038)
                    {
                        DISPLAYF( "CLEANING FLAVOUR BOAT {0}", 1, 513, iVar3 );
                         /* P_CLEAN_FLAVOUR_BOAT */ sub_67691( ref l_U4082[iVar3] );
                    }
                }
            }
             /* P_RAIL_HANDLE_BOAT_ENGINE_HEALTH */ sub_103891( l_U4082[iVar3]._fU0._fU0 );
             /* P_SAFETY_DEAD_VEHICLE_RECORDING */ sub_104012( l_U4082[iVar3]._fU0._fU0, l_U4082[iVar3]._fU0._fU56 );
             /* P_RAIL_HANDLE_VEHICLE_ON_FIRE_PFX */ sub_104146( ref l_U4082[iVar3]._fU0 );
        }
        if ((l_U4072 == 0) AND ((NOT l_U4040._fU20) AND (l_U4036 >= l_U4039)))
        {
            if ((( /* F_GET_NUM_LIVING_MANGROVE_GUNNERS */ sub_102521()) == 0) AND (( /* F_GET_NUM_LIVING_DRIVERS_IN_BOAT_ARRAY */ sub_102398( ref l_U1690 )) == 0))
            {
                 /* WRITESCRIPTLOG */ sub_3853( "GA", "Player has destroyed enough boats to progress to the next checkpoint.", 0 );
                 /* STARTTIMER */ sub_66017( ref l_U4040 );
            }
        }
        if ((HAS_CUTSCENE_UNLOADED()) AND (NOT l_U4910))
        {
             /* WRITESCRIPTLOG */ sub_3853( "SA", "Requesting MID_12B_DOCKS_concat", 0 );
            l_U4910 = 1;
             /* LOADSEAMLESSCUTSCENE */ sub_73257( "MID_12B_DOCKS_concat", 0 );
        }
        break;
    }
    if (iVar2 != l_U1665)
    {
        l_U1666 = 1;
    }
    else
    {
        l_U1666 = 0;
    }
    return;
}

/* P_RAIL_MANGROVE_CREATE_COMBAT_BOAT */ void sub_100248(unknown uParam0)
{
    char[24] cVar3;
    int I;
    char[64] cVar10;

    StrCopy( ref cVar3, "Creating boat ", 24 );
    ConcatString(ref cVar3, uParam0, 24);
     /* WRITESCRIPTLOG */ sub_3853( "AT", ref cVar3, "[BOAT DEBUG]" );
    l_U1690[uParam0]._fU84 = l_U4049[l_U4036];
    switch (l_U4036)
    {
        case 0:
        l_U1690[uParam0]._fU148 = 14;
        break;
        case 1:
        l_U1690[uParam0]._fU148 = 15;
        break;
        case 2:
        l_U1690[uParam0]._fU148 = 16;
        break;
        case 3:
        l_U1690[uParam0]._fU148 = 17;
        break;
        case 4:
        l_U1690[uParam0]._fU148 = 18;
        break;
        case 5:
        l_U1690[uParam0]._fU148 = 19;
        break;
    }
    l_U4036++;
     /* P_RAIL_CREATE_MINIBOAT */ sub_55442( ref l_U1690[uParam0], l_U1660, 1056964608, 1 );
    for ( I = 0; I < l_U4011[uParam0]; I++ )
    {
        StrCopy( ref cVar10, "Making RSG_Mangrove_Gunners[", 64 );
        ConcatString(ref cVar10, uParam0, 64);
        ConcatString(ref cVar10, "][", 64);
        ConcatString(ref cVar10, I, 64);
        ConcatString(ref cVar10, "]", 64);
         /* WRITESCRIPTLOG */ sub_3853( "AT", ref cVar10, 0 );
        l_U2433[uParam0][I]._fU56 = l_U4056[l_U4037];
        l_U4037++;
         /* P_MANGROVE_ADD_MB_GUNNER_TO_STACK */ sub_100749( uParam0, I, 0 );
    }
    return;
}

/* P_MANGROVE_ADD_MB_GUNNER_TO_STACK */ void sub_100749(unknown uParam0, unknown uParam1, unknown uParam2)
{
    if (l_U1683 < (l_U1667 - 1))
    {
        l_U1683++;
        l_U1667[l_U1683]._fU0 = uParam0;
        l_U1667[l_U1683]._fU4 = uParam1;
        l_U1667[l_U1683]._fU8 = uParam2;
         /* WRITESCRIPTLOG */ sub_3853( "GA", "Gunner added to mangrove boat stack.", 0 );
    }
    else
    {
        SCRIPT_ASSERT( "Failed to add a gunner to the Mangrove Boat Stack!", 0 );
         /* WRITESCRIPTLOG */ sub_3853( "GA", "Failed to add a gunner to the Mangrove Boat Stack!", 0 );
    }
    return;
}

/* P_MANGROVE_PREPARE_MID_12_BLENDOUT */ void sub_101082()
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_MANGROVE_MID_12_BLENDOUT start", 0 );
     /* NIS_PRE_SETUP */ sub_76681( 1, 0, 0, 1 );
    SET_WEATHER_TYPE_NOW_PERSIST( "SUNNY" );
    CAMERA_PLAY_ANIMATED_ATTACHED_VEHICLE( "LEVEL_S_MARINA_RS_CP_08", "BLEND_OUT_MID_12_DOCKS_CAM_CAM", l_U1684, l_U1687, g_U977, 0, 0 );
    if (NOT ( /* F_IMAGEFX_FADE_IN */ sub_66303()))
    {
        DO_SCREEN_FADE_IN( 0 );
    }
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_MANGROVE_MID_12_BLENDOUT end", 0 );
    return;
}

/* F_MANGROVE_IS_MB_GUNNER_STACK_EMPTY */ int sub_101365()
{
    if (l_U1683 > -1)
    {
        return 0;
        break;
    }
    return 1;
}

/* P_MANGROVE_HANDLE_MB_GUNNER_SPAWNING */ void sub_101449()
{
    unknown uVar2;
    unknown uVar3;
    char[64] cVar4;

    if (l_U1683 > -1)
    {
        uVar2 = l_U1667[l_U1683]._fU0;
        uVar3 = l_U1667[l_U1683]._fU4;
        StrCopy( ref cVar4, "Making RSG_Mangrove_Gunners[", 64 );
        ConcatString(ref cVar4, uVar2, 64);
        ConcatString(ref cVar4, "][", 64);
        ConcatString(ref cVar4, uVar3, 64);
        ConcatString(ref cVar4, "]", 64);
         /* WRITESCRIPTLOG */ sub_3853( "AT", ref cVar4, 0 );
        if (NOT l_U1667[l_U1683]._fU8)
        {
             /* P_RAIL_CREATE_VEHICLE_GUNNER_NEW */ sub_60470( ref l_U1690[uVar2], ref l_U2433[uVar2][uVar3], 1, 1, 1, 0, 0, 0, 0 );
             /* P_SET_PED_COMBAT_RANGE */ sub_101701( ref l_U2433[uVar2][uVar3]._fU52, 3.00000000, 100.00000000 );
            SET_PED_IGNORE_LOS_CHECKS( l_U2433[uVar2][uVar3]._fU52, 1 );
        }
        else
        {
             /* P_RAIL_CREATE_VEHICLE_GUNNER_NEW */ sub_60470( ref l_U4082[uVar2]._fU0, ref l_U4082[uVar2]._fU180[uVar3], 0, 1, 1, 0, 0, 0, 0 );
             /* P_SET_PED_COMBAT_RANGE */ sub_101701( ref l_U4082[uVar2]._fU180[uVar3]._fU52, 3.00000000, 100.00000000 );
            SET_PED_IGNORE_LOS_CHECKS( l_U4082[uVar2]._fU180[uVar3]._fU52, 0 );
        }
        l_U1683--;
    }
    return;
}

/* P_SET_PED_COMBAT_RANGE */ void sub_101701(unknown uParam0, float fParam1, float fParam2)
{
    if (NOT (IS_PED_DEAD( (uParam0^) )))
    {
        if (fParam1 > -1)
        {
            SET_PED_COMBAT_RANGE_MIN( (uParam0^), fParam1 );
        }
        if (fParam2 > -1)
        {
            SET_PED_COMBAT_RANGE_MAX( (uParam0^), fParam2 );
        }
    }
    return;
}

/* F_MANGROVE_HANDLE_MID_12_BLENDOUT */ int sub_101974()
{
    if (CAMERA_ANIMATED_CURRENT_TIME() >= l_U1688)
    {
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( l_U1463[4], 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U1471[4], 1065353216, 0 );
        CAMERA_ANIMATED_STOP( l_U1689, 1 );
         /* NIS_POST_SETUP */ sub_64635( 1, 1 );
         /* P_RAIL_BOAT_DAMAGE_METER_ON */ sub_64939();
         /* P_RAIL_GUN_HEAT_ON */ sub_65225();
        return 1;
    }
    return 0;
}

/* P_RAIL_MANGROVE_HANDLE_DIALOGUE */ void sub_102200()
{
    if (( /* F_HAS_VEHICLE_REACHED_PATH_MARK */ sub_102265( g_U977, l_U1664, l_U4922 )) AND (NOT l_U4921))
    {
        if ((NOT ( /* F_RAIL_IS_DIALOGUE_PLAYING */ sub_94439())) AND ((( /* F_GET_NUM_LIVING_MANGROVE_GUNNERS */ sub_102521()) == 0) AND (( /* F_GET_NUM_LIVING_DRIVERS_IN_BOAT_ARRAY */ sub_102398( ref l_U1690 )) == 0)))
        {
             /* P_RAIL_MAX_SPEAK */ sub_96884( "SMA2_GCMPE", 1, 2 );
            l_U4921 = 1;
        }
    }
    if ((l_U4036 >= 5) AND (NOT l_U4923))
    {
        if (NOT ( /* F_RAIL_IS_DIALOGUE_PLAYING */ sub_94439()))
        {
             /* P_RAIL_MAX_SPEAK */ sub_96884( "SMA2_BGBQK3", 1, 0 );
            l_U4923 = 1;
        }
    }
    return;
}

/* F_HAS_VEHICLE_REACHED_PATH_MARK */ void sub_102265(unknown uParam0, int iParam1, float fParam2)
{
    int Result;

    Result = 0;
    if (NOT (IS_VEHICLE_DEAD( uParam0 )))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_VEHICLE( uParam0 ))
        {
            if ((GET_CURRENT_PLAYBACK_NUMBER_FOR_VEHICLE( uParam0 )) == iParam1)
            {
                if ((GET_TIME_POSITION_IN_RECORDING( uParam0 )) >= fParam2)
                {
                    Result = 1;
                }
            }
        }
    }
    return Result;
}

/* F_GET_NUM_LIVING_DRIVERS_IN_BOAT_ARRAY */ void sub_102398(unknown uParam0)
{
    int Result;
    int I;

    Result = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
        if (NOT (IS_PED_DEAD( (uParam0^)[I]._fU56 )))
        {
            Result++;
        }
    }
    return Result;
}

/* F_GET_NUM_LIVING_MANGROVE_GUNNERS */ void sub_102521()
{
    int J;
    int I;
    int Result;

    Result = 0;
    for ( J = 0; J < 19; J++ )
    {
        for ( I = 0; I < l_U4011[J]; I++ )
        {
            if (NOT (IS_PED_DEAD( l_U2433[J][I]._fU52 )))
            {
                Result++;
            }
        }
    }
    for ( J = 0; J < 6; J++ )
    {
        for ( I = 0; I < l_U4082[J]._fU176; I++ )
        {
            if (NOT (IS_PED_DEAD( l_U4082[J]._fU180[I]._fU52 )))
            {
                Result++;
            }
        }
    }
    return Result;
}

/* P_RAIL_MANGROVE_PASSOS_POINT_AT_BOAT */ void sub_103112(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    float fVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;

     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_RAIL_MANGROVE_PASSOS_POINT_AT_BOAT start", 0 );
    if ((NOT (IS_VEHICLE_DEAD( iParam0->_fU0 ))) AND (NOT (IS_VEHICLE_DEAD( g_U977 ))))
    {
        if (NOT (IS_SPHERE_VISIBLE( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( iParam0->_fU0 ), 0.10000000, 0 )))
        {
            uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_FORWARD_VECTOR( g_U977 )};
            uVar6 = { /* FNORMALIZEVECTOR */ sub_103320( (vector( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( g_U977 ))) - (vector( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( iParam0->_fU0 ))) )};
            fVar9 = GET_ANGLE_BETWEEN_2D_VECTORS( uVar3._fU0, uVar3._fU4, uVar6._fU0, uVar6._fU4 );
            if (fVar9 < 100.00000000)
            {
                uVar10 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", VECTOR_ROTATE_AXIS( uVar3, 90.00000000, "z" )};
                if ((GET_ANGLE_BETWEEN_2D_VECTORS( uVar10._fU0, uVar10._fU4, uVar6._fU0, uVar6._fU4 )) < 60.00000000)
                {
                     /* P_CREATE_AND_START_TIMER */ sub_65967( ref l_U935, 10 );
                }
                else
                {
                     /* P_CREATE_AND_START_TIMER */ sub_65967( ref l_U944, 10 );
                }
            }
            else if (fVar9 >= 100.00000000)
            {
                 /* P_CREATE_AND_START_TIMER */ sub_65967( ref l_U926, 10 );
            }
        }
    }
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_RAIL_MANGROVE_PASSOS_POINT_AT_BOAT end", 0 );
    return;
}

/* FNORMALIZEVECTOR */ void sub_103320(unknown uParam0, unknown uParam1, unknown uParam2)
{
    unknown uVar5;
    unknown Result;
    unknown uVar7;
    unknown uVar8;

    uVar5 = SQRT( ((uParam0._fU0 * uParam0._fU0) + (uParam0._fU4 * uParam0._fU4)) + (uParam0._fU8 * uParam0._fU8) );
    Result._fU0 = uParam0._fU0 / uVar5;
    Result._fU4 = uParam0._fU4 / uVar5;
    Result._fU8 = uParam0._fU8 / uVar5;
    return Result;
}

/* P_RAIL_MANGROVE_HANDLE_PASSOS_FIRING */ void sub_103649()
{
    if ((NOT (IS_VEHICLE_DEAD( l_U1690[l_U4920]._fU0 ))) AND (NOT (IS_PED_DEAD( g_U976 ))))
    {
        if ((PED_GET_ACTION_INTENTION_STATUS( g_U976, 56 )) == 3)
        {
            SET_PED_SHOOTS_AT_COORD( g_U976, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( l_U1690[l_U4920]._fU0 ) );
             /* MAL_FINISHACTINT */ sub_103805( ref g_U976, 56 );
        }
    }
    return;
}

/* MAL_FINISHACTINT */ void sub_103805(unknown uParam0, unknown uParam1)
{
    if (NOT (IS_PED_DEAD( (uParam0^) )))
    {
        PED_FINISH_ACTION_INTENTION( (uParam0^), uParam1 );
    }
    return;
}

/* P_RAIL_HANDLE_BOAT_ENGINE_HEALTH */ void sub_103891(unknown uParam0)
{
    if (NOT (IS_VEHICLE_DEAD( uParam0 )))
    {
        SET_VEHICLE_ENGINE_HEALTH( uParam0, TO_FLOAT( GET_VEHICLE_HEALTH( uParam0 ) ) );
    }
    return;
}

/* P_SAFETY_DEAD_VEHICLE_RECORDING */ void sub_104012(unknown uParam0, unknown uParam1)
{
    if ((NOT (IS_VEHICLE_DEAD( uParam0 ))) || (DOES_VEHICLE_EXIST( uParam0 )))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_VEHICLE( uParam0 ))
        {
            if ((IS_PED_DEAD( uParam1 )) || (IS_VEHICLE_DEAD( uParam0 )))
            {
                STOP_PLAYBACK_RECORDED_VEHICLE( uParam0 );
            }
        }
    }
    return;
}

/* P_RAIL_HANDLE_VEHICLE_ON_FIRE_PFX */ void sub_104146(int iParam0)
{
    int iVar3;

    if ((NOT (IS_VEHICLE_DEAD( iParam0->_fU0 ))) || (DOES_VEHICLE_EXIST( iParam0->_fU0 )))
    {
        if (((GET_VEHICLE_PETROL_TANK_HEALTH( iParam0->_fU0 )) <= 0.00000000) AND (NOT iParam0->_fU132))
        {
             /* WRITESCRIPTLOG */ sub_3853( "GA", "Starting vehicle on fire particle effects.", 0 );
            iVar3 = GET_VEHICLE_MODEL( iParam0->_fU0 );
            if (iVar3 == g_U892)
            {
                iParam0->_fU128 = START_PARTICLE_FX_LOOPED_ON_VEHICLE( l_U1228, iParam0->_fU0, l_U1229, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
            }
            else if (iVar3 == g_U893)
            {
                iParam0->_fU128 = START_PARTICLE_FX_LOOPED_ON_VEHICLE( l_U1232, iParam0->_fU0, l_U1233, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
            }
            else if (iVar3 == g_U891)
            {
                iParam0->_fU128 = START_PARTICLE_FX_LOOPED_ON_VEHICLE( l_U1236, iParam0->_fU0, l_U1237, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
            }
            else if (iVar3 == g_U889)
            {
                iParam0->_fU128 = START_PARTICLE_FX_LOOPED_ON_VEHICLE( l_U1240, iParam0->_fU0, l_U1241, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
            };;;;
            iParam0->_fU132 = 1;
        }
        if (((GET_VEHICLE_PETROL_TANK_HEALTH( iParam0->_fU0 )) <= -450.00000000) AND ((NOT iParam0->_fU136) AND (iParam0->_fU132)))
        {
             /* WRITESCRIPTLOG */ sub_3853( "GA", "On fire vehicle has exploded.", 0 );
            if (iParam0->_fU128 != 0)
            {
                 /* WRITESCRIPTLOG */ sub_3853( "GA", "Stopping vehicle on fire particle effect.", 0 );
                STOP_PARTICLE_FX_LOOPED( iParam0->_fU128 );
                iParam0->_fU128 = 0;
            }
            iParam0->_fU136 = 1;
        }
    }
    return;
}

/* P_RAIL_AI_PILOT_BOAT */ void sub_105013(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_RAIL_AI_PILOT_BOAT start", 0 );
    if ((NOT (IS_PED_DEAD( uParam1 ))) AND ((NOT (IS_VEHICLE_DEAD( uParam2 ))) AND (NOT (IS_VEHICLE_DEAD( uParam0 )))))
    {
        TASK_VEHICLE_MISSION( uParam1, uParam0, uParam2, 12, uParam3, 2, uParam4, uParam5, uParam6, 1127481344 );
    }
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_RAIL_AI_PILOT_BOAT end", 0 );
    return;
}

/* P_RAIL_HANDLE_GUNNER_JUMP_OUT */ void sub_105478(int iParam0, int iParam1, boolean bParam2, boolean bParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if (((NOT (IS_VEHICLE_DEAD( iParam0->_fU0 ))) || (DOES_VEHICLE_EXIST( iParam0->_fU0 ))) AND (NOT (IS_PED_DEAD( iParam1->_fU52 ))))
    {
        if (NOT iParam1->_fU72)
        {
            if (bParam2)
            {
                if ((IS_PED_DEAD( iParam0->_fU56 )) AND (DOES_PED_EXIST( iParam0->_fU56 )))
                {
                     /* WRITESCRIPTLOG */ sub_3853( "GA", "Detected jump out event driver killed.", 0 );
                    iParam1->_fU72 = 1;
                }
            }
            if (bParam3)
            {
                if (((GET_VEHICLE_ENGINE_HEALTH( iParam0->_fU0 )) < 0.00000000) || ((GET_VEHICLE_PETROL_TANK_HEALTH( iParam0->_fU0 )) < 0.00000000))
                {
                     /* WRITESCRIPTLOG */ sub_3853( "GA", "Detected jump out event boat going to explode.", 0 );
                    iParam1->_fU72 = 1;
                }
            }
            if (iParam1->_fU72)
            {
                 /* P_CREATE_AND_START_TIMER */ sub_65967( iParam1 + 76, GET_RANDOM_INT_IN_RANGE( l_U1226, l_U1227 ) );
            }
        }
        if (iParam1->_fU72)
        {
            if ( /* ISTIMERDONE */ sub_85086( iParam1 + 76 ))
            {
                 /* WRITESCRIPTLOG */ sub_3853( "GA", "Starting gunner jump out of boat animation", 0 );
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( iParam1->_fU52, 1 );
                CLEAR_PED_TASKS( iParam1->_fU52 );
                PED_SET_ACTION_INTENTION( iParam1->_fU52, 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
            }
            if ((PED_GET_ACTION_INTENTION_STATUS( iParam1->_fU52, 55 )) == 3)
            {
                 /* WRITESCRIPTLOG */ sub_3853( "GA", "Detaching gunner from boat during jump out.", 0 );
                SET_USE_ANIMATED_VELOCITY( iParam1->_fU52, 0 );
                "[doubled result, dropped if not asigned]";
                "[doubled result, dropped if not asigned]";
                SET_APPLY_WATER_PHYSICS_TO_RAGDOLL( iParam1->_fU52, 0 );
                SET_PED_FREEZE_ORIENTATION( iParam1->_fU52, 1 );
                DETACH_PED( iParam1->_fU52, 1 );
                SET_PED_COLLISION( iParam1->_fU52, 0 );
                uVar6 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_SPEED_VECTOR( iParam0->_fU0, 0 )};
                 /* WRITE_VECTOR */ sub_43586( uVar6 );
                SET_PED_VELOCITY( iParam1->_fU52, uVar6 );
                PED_FINISH_ACTION_INTENTION( iParam1->_fU52, 55 );
            }
            if ((PED_GET_ACTION_INTENTION_STATUS( iParam1->_fU52, 56 )) == 3)
            {
                 /* WRITESCRIPTLOG */ sub_3853( "GA", "Ragdoll gunner as they have cleared the boat.", 0 );
                uVar9 = {((vector( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_BONE_COORDS( iParam1->_fU52, 49176, 0.00000000, 0.00000000, 0.00000000 ))) - iParam1->_fU148) / GET_FRAME_TIME()};
                SET_PED_VELOCITY( iParam1->_fU52, uVar9 );
                SET_PED_TO_RAGDOLL( iParam1->_fU52, 1000, 1000, 0, 0, 0, 1, -1056964608 );
                 /* P_CREATE_AND_START_TIMER */ sub_65967( iParam1 + 112, 2000 );
                PED_FINISH_ACTION_INTENTION( iParam1->_fU52, 56 );
            }
            if ( /* ISTIMERDONE */ sub_85086( iParam1 + 112 ))
            {
                 /* WRITESCRIPTLOG */ sub_3853( "GA", "Killing ped that jumped out of boat delayed after they hit the water.", 0 );
                 /* P_KILL_PED */ sub_106527( iParam1->_fU52 );
            }
            if (NOT (IS_PED_DEAD( iParam1->_fU52 )))
            {
                iParam1->_fU148 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_BONE_COORDS( iParam1->_fU52, 49176, 0.00000000, 0.00000000, 0.00000000 )};
            }
        }
    }
    return;
}

/* P_KILL_PED */ void sub_106527(unknown uParam0)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        STOP_PED_SPEAKING( uParam0, 1 );
        SET_PED_HEALTH( uParam0, 0, 0 );
        SET_PED_CORPSE( uParam0, 0 );
    }
    return;
}

/* GET_DISTANCE_BETWEEN_PED_AND_VECTOR */ void sub_107119(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;

    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        uVar6 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
    }
    else
    {
        return -1.00000000;
    }
    return VDIST( uVar6, uParam1 );
}

/* P_MANGROVE_HANDLE_TURNING_SOUND */ void sub_107396()
{
    if (l_U4907 < 18)
    {
        if ( /* F_HAS_VEHICLE_REACHED_PATH_MARK */ sub_102265( g_U977, l_U1664, l_U4888[l_U4907] ))
        {
            if (l_U4908)
            {
                 /* WRITESCRIPTLOG */ sub_3853( "GA", "Stoping engine turning sound.", 0 );
                 /* P_SAFE_STOP_SOUND */ sub_67983( l_U4909, 0 );
                 /* P_SAFE_RELEASE_SOUND_ID */ sub_68166( ref l_U4909 );
                l_U4908 = 0;
            }
            else
            {
                 /* WRITESCRIPTLOG */ sub_3853( "GA", "Starting engine turning sound.", 0 );
                l_U4909 = GET_SOUND_ID();
                PLAY_SOUND_FRONTEND( l_U4909, "SMAR_BOAT_REV" );
                l_U4908 = 1;
            }
            l_U4907++;
        }
    }
    return;
}

/* F_CAN_FLAVOUR_BOAT_SPAWN */ int sub_108029(int iParam0)
{
    if ((NOT l_U4858._fU20) AND (NOT iParam0->_fU160))
    {
        if ((NOT iParam0->_fU168) || (NOT l_U4867._fU20))
        {
            return 1;
        }
    }
    return 0;
}

/* P_CREATE_FLAVOUR_BOAT */ void sub_108181(int iParam0, unknown uParam1)
{
    int I;

    iParam0->_fU160 = 1;
    if (iParam0->_fU172 == 0)
    {
         /* P_RAIL_CREATE_MINIBOAT */ sub_55442( iParam0 + 0, iParam0->_fU512, 1056964608, 1 );
    }
    else if (iParam0->_fU172 == 1)
    {
         /* P_RAIL_CREATE_SMALL_GUNBOAT */ sub_108294( iParam0 + 0, iParam0->_fU512, 1056964608 );
    }
    for ( I = 0; I < iParam0->_fU176; I++ )
    {
         /* P_MANGROVE_ADD_MB_GUNNER_TO_STACK */ sub_100749( uParam1, I, 1 );
    }
    if ((NOT (IS_VEHICLE_DEAD( ref iParam0->_fU0->_fU0 ))) AND (iParam0->_fU156))
    {
        SET_PED_VISIBLE( ref iParam0->_fU0->_fU56, 0 );
        SET_VEHICLE_ENGINE_ON( ref iParam0->_fU0->_fU0, 0, 1 );
        SET_VEHICLE_LIGHTS( ref iParam0->_fU0->_fU0, 1 );
        if (iParam0->_fU172 == 0)
        {
            SET_VEHICLE_ENGINE_HEALTH( ref iParam0->_fU0->_fU0, 200.00000000 );
        }
    }
    return;
}

/* P_RAIL_CREATE_SMALL_GUNBOAT */ void sub_108294(int iParam0, unknown uParam1, unknown uParam2)
{
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_RAIL_CREATE_MINIBOAT start", 0 );
    iParam0->_fU0 =  /* CREATEVEHICLE */ sub_46120( 1452847618, iParam0->_fU88, iParam0->_fU100, 0, 0, 0 );
    iParam0->_fU56 =  /* CREATEPEDINVEHICLE */ sub_49124( iParam0 + 4, iParam0->_fU0, -1, 0, 0 );
    if (NOT (IS_PED_DEAD( iParam0->_fU56 )))
    {
         /* F_GIVEPEDWEAPON */ sub_37417( iParam0->_fU56, 68019059, 25000, 0, 0 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( iParam0->_fU56, 1 );
        SET_PED_DIES_IN_SINKING_VEHICLE( iParam0->_fU56, 1 );
        SET_PED_DIES_IN_WATER( iParam0->_fU56, 1 );
        SET_PED_DIES_INSTANTLY_IN_WATER( iParam0->_fU56, 1 );
        SET_PED_DIES_IN_VEHICLE( iParam0->_fU56, 1 );
        SET_PERSISTENT_PED_VARIATION( iParam0->_fU56, iParam0->_fU84 );
    }
    if (NOT (IS_VEHICLE_DEAD( iParam0->_fU0 )))
    {
        SET_VEHICLE_ENGINE_ON( iParam0->_fU0, 1, 1 );
        SET_VEHICLE_LIGHTS( iParam0->_fU0, 2 );
        SET_BOAT_WILL_SINK( iParam0->_fU0, 0 );
        SET_VEHICLE_STRONG( iParam0->_fU0, 1 );
        SET_VEHICLE_PROOFS( iParam0->_fU0, 1, 1, 1, 1, 1 );
    }
     /* P_SETUP_AI_GROUP */ sub_55957( iParam0 + 60, uParam2, 0 );
     /* P_START_VEHICLE_PLAYBACK */ sub_51942( iParam0->_fU0, iParam0->_fU108, uParam1, iParam0->_fU104, 0 );
    iParam0->_fU112 = 1;
    iParam0->_fU128 = 0;
    iParam0->_fU132 = 0;
    iParam0->_fU136 = 0;
     /* WRITESCRIPTLOG */ sub_3853( "AT", "P_RAIL_CREATE_MINIBOAT end", 0 );
    return;
}

/* F_PIER_MID_12B_PRE_CUTSCENE */ int sub_109586()
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "F_PIER_MID_12B_PRE_CUTSCENE", 0 );
    if ( /* F_SPAWN_PIER_BOATS_AND_PEDS */ sub_55193())
    {
         /* P_RAIL_SET_WATER_EFFECTS */ sub_50368( 10 );
        return 1;
    }
    return 0;
}

/* P_PIER_MID_12B_REGISTRATION */ void sub_109696()
{
    unknown uVar2;

     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_PIER_MID_12B_REGISTRATION start", 0 );
    SET_WEATHER_TYPE_NOW_PERSIST( "SUNNY_WINDY" );
    CUTSCENE_ENABLE_SKIP( 0 );
    if (NOT (IS_PED_DEAD( g_U976 )))
    {
         /* WRITESCRIPTLOG */ sub_3853( "MF", "Registering Passos script ped with midscene MID_08D_DOCKS", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( g_U976, "Pass_Dock", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( g_U976, "/Global/VehicleBoat/Driver/MAX_BOAT/DRIVER_ANIMS" );
        uVar2 = GET_WEAPON_FROM_HAND( g_U976, 0, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar2 ))
        {
             /* WRITESCRIPTLOG */ sub_3853( "GA", "Registering Passos pistol with cutscene.", 0 );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar2, "W_PI_PT92_Aa_H^1", 0 );
        }
    }
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        uVar2 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_34875(), 0, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar2 ))
        {
             /* WRITESCRIPTLOG */ sub_3853( "GA", "Registering Max's weapon with cutscene.", 0 );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar2, "W_MG_21E_Aa_H", 0 );
        }
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_34875(), "/Global/s_marina_drv/MAX_VIGNETTE_EXIT/MAX_VIGNETTE_EXIT_TO_BACK_RIGHT_TO_LEFT" );
        DETACH_PED(  /* PLAYER_PED_ID */ sub_34875(), 1 );
    }
    if (NOT (IS_VEHICLE_DEAD( g_U977 )))
    {
        REGISTER_VEHICLE_PRE_SEAMLESS_CUTSCENE( g_U977, "boat_rs", 0 );
        CUTSCENE_REGISTER_PED_ATTACH_TO_VEHICLE(  /* PLAYER_PED_ID */ sub_34875(), g_U977, 0, l_U1415, l_U1455[5], 360.00000000, 1, 0 );
    }
    if (NOT (IS_VEHICLE_DEAD( l_U5045[1]._fU0 )))
    {
        REGISTER_VEHICLE_PRE_SEAMLESS_CUTSCENE( l_U5045[1]._fU0, "boat_chase", 0 );
    }
    if (NOT (IS_PED_DEAD( l_U5045[1]._fU56 )))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U5045[1]._fU56, "Sero_Unif_1", 0 );
    }
    REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "G_CS_RAIL_A^2", 364999639 );
    if (NOT (IS_PED_DEAD( l_U5123[9]._fU52 )))
    {
         /* P_ACTIVATEPED */ sub_65522( l_U5123[9]._fU52 );
        DETACH_PED( l_U5123[9]._fU52, 1 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U5123[9]._fU52, "G_CS_RAIL_A^1", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U5123[9]._fU52, 0, 0 ), "W_AR_AK47_Aa_H", 0 );
        CUTSCENE_REGISTER_PED_ATTACH_TO_VEHICLE( l_U5123[9]._fU52, l_U5045[1]._fU0, 0, l_U1252[l_U5123[9]._fU64], 90.00000000, 360.00000000, 1, 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( l_U5123[9]._fU52, "/Global/AMED/AMED_Root/AMED_INITIALIZE_IDLE" );
    }
    if (NOT (IS_PED_DEAD( l_U5123[10]._fU52 )))
    {
         /* P_ACTIVATEPED */ sub_65522( l_U5123[10]._fU52 );
        DETACH_PED( l_U5123[10]._fU52, 1 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U5123[10]._fU52, "G_CS_RAIL_A^3", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U5123[10]._fU52, 0, 0 ), "W_SB_Uzi_Aa_H", 0 );
        CUTSCENE_REGISTER_PED_ATTACH_TO_VEHICLE( l_U5123[10]._fU52, l_U5045[1]._fU0, 0, l_U1252[l_U5123[10]._fU64], 90.00000000, 360.00000000, 1, 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( l_U5123[10]._fU52, "/Global/AMED/AMED_Root/AMED_INITIALIZE_IDLE" );
    }
    if (NOT (IS_VEHICLE_DEAD( l_U5045[0]._fU0 )))
    {
        REGISTER_VEHICLE_PRE_SEAMLESS_CUTSCENE( l_U5045[0]._fU0, "boat_chase^1", 0 );
    }
    if (NOT (IS_PED_DEAD( l_U5045[0]._fU56 )))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U5045[0]._fU56, "G_CS_RAIL_A", 0 );
        SET_PED_COORDS( l_U5045[0]._fU56, (vector( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( l_U5045[0]._fU56 ))) - (vector( 0.00000000, 0.00000000, 1.00000000)), 0 );
    }
    if (NOT (IS_PED_DEAD( l_U5123[5]._fU52 )))
    {
         /* P_ACTIVATEPED */ sub_65522( l_U5123[5]._fU52 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U5123[5]._fU52, "G_CS_RAIL_A^8", 0 );
        DETACH_PED( l_U5123[5]._fU52, 0 );
        CUTSCENE_REGISTER_PED_ATTACH_TO_VEHICLE( l_U5123[5]._fU52, l_U5045[0]._fU0, 0, l_U1252[l_U5123[5]._fU64], 90, 360.00000000, 1, 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( l_U5123[5]._fU52, "/Global/AMED/AMED_Root/AMED_INITIALIZE_IDLE" );
        uVar2 = GET_WEAPON_FROM_HAND( l_U5123[5]._fU52, 0, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar2 ))
        {
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar2, "W_SB_Uzi_Aa_H^1", 0 );
        }
    }
    if (NOT (IS_PED_DEAD( l_U5123[6]._fU52 )))
    {
         /* P_ACTIVATEPED */ sub_65522( l_U5123[6]._fU52 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U5123[6]._fU52, "G_CS_RAIL_A^9", 0 );
        DETACH_PED( l_U5123[6]._fU52, 0 );
        CUTSCENE_REGISTER_PED_ATTACH_TO_VEHICLE( l_U5123[6]._fU52, l_U5045[0]._fU0, 0, l_U1252[l_U5123[6]._fU64], 90, 360.00000000, 1, 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( l_U5123[6]._fU52, "/Global/AMED/AMED_Root/AMED_INITIALIZE_IDLE" );
        uVar2 = GET_WEAPON_FROM_HAND( l_U5123[6]._fU52, 0, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar2 ))
        {
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar2, "W_PI_PT92_Aa_H^2", 0 );
        }
    }
    if (NOT (IS_PED_DEAD( l_U5123[7]._fU52 )))
    {
         /* P_ACTIVATEPED */ sub_65522( l_U5123[7]._fU52 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U5123[7]._fU52, "G_CS_RAIL_A^7", 0 );
        DETACH_PED( l_U5123[7]._fU52, 0 );
        CUTSCENE_REGISTER_PED_ATTACH_TO_VEHICLE( l_U5123[7]._fU52, l_U5045[0]._fU0, 0, l_U1252[l_U5123[7]._fU64], 90, 360.00000000, 1, 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( l_U5123[7]._fU52, "/Global/AMED/AMED_Root/AMED_INITIALIZE_IDLE" );
        uVar2 = GET_WEAPON_FROM_HAND( l_U5123[7]._fU52, 0, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar2 ))
        {
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar2, "W_AR_AK47_Aa_H^2", 0 );
        }
    }
    if (NOT (IS_PED_DEAD( l_U5123[8]._fU52 )))
    {
         /* P_ACTIVATEPED */ sub_65522( l_U5123[8]._fU52 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U5123[8]._fU52, "G_CS_RAIL_A^6", 0 );
        DETACH_PED( l_U5123[8]._fU52, 0 );
        CUTSCENE_REGISTER_PED_ATTACH_TO_VEHICLE( l_U5123[8]._fU52, l_U5045[0]._fU0, 0, l_U1252[l_U5123[8]._fU64], 90, 360.00000000, 1, 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( l_U5123[8]._fU52, "/Global/AMED/AMED_Root/AMED_INITIALIZE_IDLE" );
        uVar2 = GET_WEAPON_FROM_HAND( l_U5123[8]._fU52, 0, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar2 ))
        {
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar2, "W_AR_AK47_Aa_H^3", 0 );
        }
    }
    if (IS_ANIMATED_CAMERA_PLAYING())
    {
        CAMERA_ANIMATED_STOP( 3000, 0 );
    }
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_PIER_MID_12B_REGISTRATION end", 0 );
    return;
}

/* P_PIER_MID_12B_PLAYING */ void sub_112630()
{
    if (NOT l_U5587)
    {
         /* P_RAIL_PLAY_MUSIC_CUE */ sub_69937( l_U1604 );
         /* P_START_VEHICLE_PLAYBACK */ sub_51942( g_U977, l_U4929, 0.00000000, l_U4927, 0 );
         /* P_RAIL_MANGROVE_STOP_AUDIO */ sub_67820();
         /* NIS_RETURN_TO_GAMEPLAY_CAM */ sub_93349( 0, 0, 0, -859915232, -859915232, 0 );
        l_U5587 = 1;
    }
    if ((GET_CUTSCENE_TIME_MS() > 5259) AND (NOT l_U5588))
    {
         /* P_RAIL_PLAY_MUSIC_CUE */ sub_69937( l_U1609 );
        l_U5588 = 1;
    }
    return;
}

/* F_PIER_MID_12B_POST_CUTSCENE */ int sub_112791()
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "F_PIER_MID_12B_POST_CUTSCENE", 0 );
    return 1;
}

/* CUTSYS_DEFAULT_HANDLEBLENDOUT */ int sub_112888()
{
    return 1;
}

/* CUTSYS_DEFAULT_PREPAREBLENDIN */ void sub_112939()
{
    return;
}

/* F_MANGROVE_MID_12B_BLENDIN */ int sub_112989()
{
    switch (l_U4072)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_3853( "GA", "Start MID_12B_DOCKS blend in.", 0 );
        STOP_SCRIPT_STREAM( 1 );
         /* P_PLAY_AUDIO_SCRIPT_STREAM_FRONTEND */ sub_53535( l_U1507, 2 );
        AUDIO_MUSIC_REQUEST_ONESHOT( l_U1619._fU0, 0 );
         /* P_CREATE_AND_START_TIMER */ sub_65967( ref l_U4073, 2000 );
         /* P_SUPPRESS_AMBIENT_DIALOG */ sub_113157( 10000 );
        l_U4072 = 2;
        break;
        case 2:
         /* P_SET_VEHICLE_PLAYBACK_SPEED */ sub_91965( g_U977,  /* FLERP */ sub_92887( l_U1660, 1.75000000,  /* GETTIMERPERCENTAGE */ sub_92712( ref l_U4073 ) ) );
        if ( /* ISTIMERDONE */ sub_85086( ref l_U4073 ))
        {
             /* WRITESCRIPTLOG */ sub_3853( "GA", "Showing Passos' boat exit the Mangrove - Driveby.", 0 );
             /* P_START_VEHICLE_PLAYBACK */ sub_51942( g_U977, l_U4071, 1.25000000, 4500.00000000, 0 );
             /* P_RAIL_SET_WATER_EFFECTS */ sub_50368( 9 );
             /* P_RAIL_GUN_HEAT_OFF */ sub_70953();
             /* P_RAIL_BOAT_DAMAGE_METER_OFF */ sub_71084();
             /* NIS_PRE_SETUP */ sub_76681( 1, 0, 0, 1 );
            WAIT( 0 );
            CAMERA_PLAY_ANIMATED( "LEVEL_S_MARINA_RS_CP_09", "B_IN_MID_12B_DOCKS_CAM", 0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0 );
             /* P_RAIL_MAX_SPEAK */ sub_96884( "SMA2_GCMPB", 1, 2 );
            l_U4072 = 3;
        }
        break;
        case 3:
        if (CAMERA_ANIMATED_CURRENT_TIME() >= ((CAMERA_ANIMATED_LENGTH( "LEVEL_S_MARINA_RS_CP_09", "B_IN_MID_12B_DOCKS_CAM" )) - 50))
        {
            l_U4072 = 4;
        }
        break;
    }
    if (l_U4072 == 4)
    {
        return 1;
        break;
    }
    return 0;
}

/* P_SUPPRESS_AMBIENT_DIALOG */ void sub_113157(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "[SA]", "P_SUPPRESS_AMBIENT_DIALOG()", 0 );
     /* CREATETIMER */ sub_23130( ref l_U975, uParam0, 1, 0 );
     /* STARTTIMER */ sub_66017( ref l_U975 );
    return;
}

/* CUTSYS_CREATECUTSCENEWITHBLENDOUTANDBLENDIN */ void sub_113681(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
     /* WRITESCRIPTLOG */ sub_3853( "MSWW", "CutSys_CreateCutsceneWithBlendOutAndBlendIn", "###" );
    return  /* CUTSYS_PRIVATE_CREATECUTSCENE */ sub_113831( uParam0, uParam1, uParam2, uParam3, uParam4, uParam5, uParam11, 1, uParam6, uParam7, 1, uParam8, uParam9, uParam10 );
}

/* CUTSYS_PRIVATE_CREATECUTSCENE */ void sub_113831(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13)
{
    iParam0->_fU0 = uParam1;
    iParam0->_fU8 = uParam2;
    iParam0->_fU12 = uParam3;
    iParam0->_fU16 = uParam4;
    iParam0->_fU20 = uParam5;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU32 = uParam8;
    iParam0->_fU36 = uParam9;
    iParam0->_fU40 = uParam10;
    iParam0->_fU44 = uParam11;
    iParam0->_fU48 = uParam12;
    iParam0->_fU52 = 1;
    iParam0->_fU56 = uParam13;
    iParam0->_fU60 = 1;
    iParam0->_fU64 = 1;
    iParam0->_fU68 = 0;
    iParam0->_fU72 = 0;
    iParam0->_fU76 = "Pants";
    iParam0->_fU80 = "Pants";
    iParam0->_fU84 = {0, 0, 0};
    iParam0->_fU100 = 1;
    iParam0->_fU104 = 1;
    return (iParam0^);
}

/* CUTSYS_HANDLECUTSCENE */ void sub_114187(int iParam0)
{
    int iVar3;
    int Result;
    unknown uVar5;

    iVar3 = iParam0->_fU4;
    Result = 0;
    switch (iParam0->_fU4)
    {
        case 0: break;
        case 1:
        if (IS_ARCADE_MODE_ACTIVE())
        {
             /* WRITESCRIPTLOG */ sub_3853( "AT", "ARCADE MODE ACTIVE. SKIPPING BINK STATE.", "###" );
            iParam0->_fU4 = 2;
        }
        else if (iParam0->_fU52)
        {
             /* WRITESCRIPTLOG */ sub_3853( "AT", "Setting CUTSCENE_SET_WAIT_FOR_MOVIE.", "###" );
            CUTSCENE_SET_WAIT_FOR_MOVIE( 9 );
            SET_TRANSITION_MOVIE_SKIPPABLE( 0 );
            iParam0->_fU96 = 0;
        }
        if (NOT iParam0->_fU96)
        {
            if (GET_NUMBER_OF_STREAMING_REQUESTS() == 0)
            {
                if (IS_SCREEN_FADED_OUT())
                {
                    DO_SCREEN_FADE_IN( 0 );
                }
                 /* WRITESCRIPTLOG */ sub_3853( "AT", "Streaming requests complete! Cutscene can be skipped!", "###" );
                SET_TRANSITION_MOVIE_SKIPPABLE( 1 );
                iParam0->_fU96 = 1;
                break;
                iParam0->_fU12;
                break;
            }
        }
        if ((NOT IS_TRANSITION_MOVIE_PLAYING()) || (NOT CUTSCENE_IS_WAITING_FOR_MOVIE()))
        {
             /* WRITESCRIPTLOG */ sub_3853( "AT", "Bink is complete! Playing cutscene!", "###" );
            iParam0->_fU4 = 5;
        }
        break;
        case 2:
        if (NOT HAS_CUTSCENE_LOADED())
        {
             /* WRITESCRIPTLOG */ sub_3853( "MSWW", "CutSys reports cutscene not already loaded.", "###" );
        }
        else if ((NOT (CUTSCENE_IS_LOADED( iParam0->_fU0 ))) AND (HAS_CUTSCENE_LOADED()))
        {
             /* WRITESCRIPTLOG */ sub_3853( "MSWW", "CutSys reports wrong cutscene is loaded.", "###" );
            CLEAR_NAMED_CUTSCENE( "ThisStringDoesNothing" );
            break;
        }
        if (CUTSCENE_IS_LOADED( iParam0->_fU0 ))
        {
            iParam0->_fU4 = 4;
        }
        else if (NOT CUTSCENE_IS_LOADING())
        {
             /* LOADSEAMLESSCUTSCENE */ sub_73257( iParam0->_fU0, 0 );
             /* WRITESCRIPTLOG */ sub_3853( "MSWW", "CutSys trying to load cutscene.", "###" );
        }
        break;
        case 4:
        if (iParam0->_fU8)
        {
             /* NIS_PRE_SETUP */ sub_76681( iParam0->_fU60, 0, 0, iParam0->_fU104 );
            if (iParam0->_fU40)
            {
                iParam0->_fU4 = 3;
                break;
                iParam0->_fU44;
                break;
            }
            else
            {
                iParam0->_fU4 = 5;
                break;
                iParam0->_fU12;
                break;
            }
        }
        break;
        case 3:
        if (iParam0->_fU48)
        {
            iParam0->_fU4 = 5;
            break;
            iParam0->_fU12;
            break;
        }
        break;
        case 5:
         /* NIS_PRE_SETUP */ sub_76681( 1, 0, 0, iParam0->_fU104 );
        if (NOT iParam0->_fU100)
        {
            CUTSCENE_ENABLE_SKIP( 0 );
        }
         /* WRITESCRIPTLOG */ sub_3853( "MSWW", "CUTSCENE SYSTEM STARTING CUTSCENE!", "###" );
        START_SEAMLESS_CUTSCENE();
        if (iParam0->_fU24)
        {
            CUTSCENE_DISABLE_FADE_IN_GAME_AT_END( 1 );
        }
        iParam0->_fU4 = 6;
        break;
        case 6:
        if (iParam0->_fU52)
        {
            DO_SCREEN_FADE_IN( iParam0->_fU56 );
        }
        if (HAS_CUTSCENE_FINISHED())
        {
            if (iParam0->_fU68)
            {
                if (WAS_CUTSCENE_SKIPPED())
                {
                    if (iParam0->_fU72)
                    {
                        uVar5 = GET_INTERIOR_FROM_NAME( iParam0->_fU76, 0 );
                        SET_INTERIOR_ACTIVE( uVar5, 1, 0 );
                        LOAD_SCENE_FOR_ROOM_BY_KEY( uVar5, GET_HASH_KEY( iParam0->_fU80 ) );
                    }
                    else
                    {
                        LOAD_SCENE( iParam0->_fU84 );
                    }
                }
            }
            if (iParam0->_fU64)
            {
                 /* P_SET_PLAYER_WEAPONS_VISIBLE */ sub_115452( 1 );
            }
            if (iParam0->_fU28)
            {
                iParam0->_fU4 = 8;
                break;
                iParam0->_fU32;
                break;
            }
            else
            {
                iParam0->_fU4 = 9;
            }
        }
        break;
        break;
        iParam0->_fU16;
        break;
        case 7:
         /* NIS_PRE_SETUP */ sub_76681( 1, 0, 0, iParam0->_fU104 );
        iParam0->_fU4 = 8;
        break;
        break;
        iParam0->_fU32;
        break;
        case 8:
        if (iParam0->_fU36)
        {
            iParam0->_fU4 = 9;
        }
        break;
        case 9:
        if (iParam0->_fU20)
        {
             /* NIS_POST_SETUP */ sub_64635( 1, 1 );
            iParam0->_fU4 = 0;
            Result = 1;
        }
        break;
        case 10:
         /* NIS_POST_SETUP */ sub_64635( 1, 1 );
        iParam0->_fU4 = 0;
        Result = 1;
        break;
    }
    if (iParam0->_fU4 != iVar3)
    {
        iParam0->_fU52 = 1;
    }
    else
    {
        iParam0->_fU52 = 0;
    }
    return Result;
}

/* P_SET_PLAYER_WEAPONS_VISIBLE */ void sub_115452(unknown uParam0)
{
    unknown uVar3;

    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_34875(), 0, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
            SET_WEAPON_VISIBLE( uVar3, uParam0 );
        }
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_34875(), 1, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
            SET_WEAPON_VISIBLE( uVar3, uParam0 );
        }
        uVar3 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_34875(), 0 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
            SET_WEAPON_VISIBLE( uVar3, uParam0 );
        }
        uVar3 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_34875(), 1 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
            SET_WEAPON_VISIBLE( uVar3, uParam0 );
        }
        uVar3 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_34875(), 2 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
            SET_WEAPON_VISIBLE( uVar3, uParam0 );
        }
    }
    return;
}

/* P_RAIL_HANDLE_UNDERPIER_SECTION_EVENTS */ void sub_116001()
{
    int I;

     /* P_RAIL_SIMULATED_WAVE_HIT */ sub_116071( ref l_U5693, l_U5690, l_U5691, l_U5692 );
     /* P_RAIL_KEEP_VEHICLE_ALIVE */ sub_98528( l_U5045[1]._fU0 );
    if ( /* ISTIMERDONE */ sub_85086( ref l_U5577 ))
    {
        l_U990 = 1;
    }
    if (NOT l_U5616)
    {
        if (HAS_CUTSCENE_UNLOADED())
        {
             /* LOADSEAMLESSCUTSCENE */ sub_73257( "MID_13_DOCKS_concat", 0 );
            l_U5616 = 1;
        }
    }
    if (( /* F_HAS_VEHICLE_REACHED_PATH_MARK */ sub_102265( g_U977, l_U4929, l_U5612 )) AND ((NOT ( /* F_RAIL_IS_DIALOGUE_PLAYING */ sub_94439())) AND (NOT l_U5613)))
    {
         /* P_RAIL_MAX_SPEAK */ sub_96884( "SMA2_GCMPF", 1, 2 );
        l_U5613 = 1;
    }
    if (( /* F_HAS_VEHICLE_REACHED_PATH_MARK */ sub_102265( g_U977, l_U4929, l_U5614 )) AND ((NOT ( /* F_RAIL_IS_DIALOGUE_PLAYING */ sub_94439())) AND (NOT l_U5615)))
    {
         /* P_RAIL_MAX_SPEAK */ sub_96884( "SMA2_MXSGCL", 1, 0 );
        l_U5615 = 1;
    }
    if ( /* ISTIMERDONE */ sub_85086( ref l_U5589 ))
    {
        if (AUDIO_MUSIC_IS_ONESHOT_PREPARED( l_U1619._fU0 ))
        {
            AUDIO_MUSIC_STOP_ONESHOT();
        }
        AUDIO_MUSIC_PRELOAD_ONESHOT( l_U1624._fU0, 0 );
    }
     /* P_RAIL_KEEP_VEHICLE_ALIVE */ sub_98528( l_U5045[0]._fU0 );
     /* P_SAFETY_DEAD_VEHICLE_RECORDING */ sub_104012( l_U5045[0]._fU0, l_U5045[0]._fU56 );
    for ( I = 0; I <= (3 - 1); I++ )
    {
         /* P_RAIL_HANDLE_BOAT_ENGINE_HEALTH */ sub_103891( l_U4930[I]._fU0 );
         /* P_SAFETY_DEAD_VEHICLE_RECORDING */ sub_104012( l_U4930[I]._fU0, l_U4930[I]._fU56 );
         /* P_RAIL_HANDLE_VEHICLE_ON_FIRE_PFX */ sub_104146( ref l_U4930[I] );
    }
     /* P_RAIL_HANDLE_GUNNER_JUMP_OUT */ sub_105478( ref l_U4930[0], ref l_U5123[0], 1, 1 );
     /* P_RAIL_HANDLE_GUNNER_JUMP_OUT */ sub_105478( ref l_U4930[0], ref l_U5123[1], 1, 1 );
     /* P_RAIL_HANDLE_GUNNER_JUMP_OUT */ sub_105478( ref l_U4930[1], ref l_U5123[2], 1, 1 );
     /* P_RAIL_HANDLE_GUNNER_JUMP_OUT */ sub_105478( ref l_U4930[1], ref l_U5123[3], 1, 1 );
     /* P_RAIL_HANDLE_GUNNER_JUMP_OUT */ sub_105478( ref l_U4930[2], ref l_U5123[4], 1, 1 );
    if (( /* F_HAS_VEHICLE_REACHED_PATH_MARK */ sub_102265( g_U977, l_U4929, l_U5618 )) AND (NOT l_U5619))
    {
         /* WRITESCRIPTLOG */ sub_3853( "MF", "Enabling Blend In", 0 );
        l_U990 = 0;
         /* P_RAIL_PASSOS_SPEAK */ sub_97596( "SMA2_MID13DKS", 0, 1, 0 );
         /* P_PIER_MID_13_DOCKS_BLEND_IN */ sub_116838();
        l_U5619 = 1;
         /* CREATETIMER */ sub_23130( ref l_U6173, 200, 1, 0 );
         /* STARTTIMER */ sub_66017( ref l_U6173 );
        l_U6125 = 1;
    }
    if (l_U5619)
    {
        if (l_U6125 != 4)
        {
             /* P_RAIL_PIER_JUMP_SPAWN_PEDS */ sub_71625();
        }
         /* P_PIER_MID_13_DOCKS_HANDLE_BLEND_IN */ sub_118290();
    }
    if ( /* ISTIMERDONE */ sub_85086( ref l_U6173 ))
    {
         /* WRITESCRIPTLOG */ sub_3853( "CO", "PLAYING IMAGEFX", 0 );
        PLAY_IMAGEFX( "GAMMA_SATURATION_COLOR_ZOOM", 4, 1 );
        PLAY_IMAGEFX( "FLICKER_VIBRATE_01", 4, 1 );
        PLAY_IMAGEFX( "FLICKER_VIBRATE_01", 4, 1 );
    }
     /* P_RAIL_VEHICLE_Z_CHECK_CLEANUP */ sub_119077( ref l_U4930 );
     /* P_RAIL_GUNNER_Z_CHECK_CLEANUP */ sub_119317( ref l_U5123 );
    return;
}

/* P_RAIL_SIMULATED_WAVE_HIT */ void sub_116071(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    if (l_U1659)
    {
        if (NOT iParam0->_fU20)
        {
             /* P_CREATE_AND_START_TIMER */ sub_65967( iParam0, GET_RANDOM_INT_IN_RANGE( uParam1, uParam2 ) );
        }
        if ( /* ISTIMERDONE */ sub_85086( iParam0 ))
        {
            SHAKE_GAMEPLAY_CAM(  /* F_CAM_SHAKE_JOLT */ sub_99642(), uParam3 );
             /* P_CREATE_AND_START_TIMER */ sub_65967( iParam0, GET_RANDOM_INT_IN_RANGE( uParam1, uParam2 ) );
        }
    }
    return;
}

/* P_PIER_MID_13_DOCKS_BLEND_IN */ void sub_116838()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    unknown uVar37;
    unknown uVar38;
    unknown uVar39;
    unknown uVar40;
    unknown uVar41;
    unknown uVar42;
    unknown uVar43;
    unknown uVar44;
    unknown uVar45;
    unknown uVar46;
    unknown uVar47;
    unknown uVar48;
    unknown uVar49;
    unknown uVar50;
    unknown uVar51;
    unknown uVar52;
    unknown uVar53;
    unknown uVar54;
    unknown uVar55;
    unknown uVar56;
    unknown uVar57;
    unknown uVar58;
    unknown uVar59;
    unknown uVar60;
    unknown uVar61;
    unknown uVar62;
    unknown uVar63;
    unknown uVar64;
    unknown uVar65;
    unknown uVar66;

     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_PIER_MID_13_DOCKS - START", 0 );
     /* SETUPINTERACTIVESEQUENCE */ sub_52319( l_U5617, "LEVEL_S_MARINA_RS_CP_09", "/LEVEL/S_MARINA/S_MAR_MID_13_BLEND_IN.act", "/Global/S_MAR_MID_13_BLEND_IN/SEQ_START", 1 );
     /* P_RAIL_PLAY_MUSIC_CUE */ sub_69937( l_U1624 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
         /* NIS_PRE_SETUP */ sub_76681( 1, 0, 0, 1 );
         /* MAL_REGISTERPEDWITHISEQUENCE */ sub_53402( l_U5617, "pas_mid_13_blendin", g_U976 );
         /* MAL_REGISTERPEDWITHISEQUENCE */ sub_53402( l_U5617, "max_mid_13_blendin",  /* PLAYER_PED_ID */ sub_34875() );
        I_SEQUENCE_START( l_U5617 );
         /* NIS_CREATE_GAMEPLAY_CAM_COPY */ sub_117167( ref uVar2, 1 );
        uVar33 = {(vector( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_GAMEPLAY_CAM_COORD())) - (vector( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS(  /* PLAYER_PED_ID */ sub_34875() )))};
        ATTACH_CAM_TO_PED( uVar2._fU0,  /* PLAYER_PED_ID */ sub_34875(), uVar33, 0 );
         /* NIS_CREATE_STATIC_CAM */ sub_89393( ref uVar36, l_U5620, l_U5623, GET_GAMEPLAY_CAM_FOV(), 10000 );
        ATTACH_CAM_TO_PED( uVar36._fU0,  /* PLAYER_PED_ID */ sub_34875(), l_U5620, 1 );
         /* NIS_PLAY_INTERP_WITH_STATIC_CAMS */ sub_91241( ref uVar2, ref uVar36, l_U5626, 1, 1 );
         /* P_CAM_SHAKE_CREATE_STRUCT */ sub_117536( ref l_U5627, 4, 5.00000000, 10, -1, -1, 0, 0 );
         /* P_CAM_SHAKE_ACTIVATE */ sub_118077( ref l_U5627 );
         /* P_CREATE_AND_START_TIMER */ sub_65967( ref l_U5676, l_U5685 );
    }
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_PIER_MID_13_DOCKS - END", 0 );
    return;
}

/* NIS_CREATE_GAMEPLAY_CAM_COPY */ void sub_117167(int iParam0, unknown uParam1)
{
    iParam0->_fU4 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_GAMEPLAY_CAM_ROT()};
    iParam0->_fU16 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_GAMEPLAY_CAM_COORD()};
    iParam0->_fU28 = GET_GAMEPLAY_CAM_FOV();
    iParam0->_fU32 = 0;
    iParam0->_fU36 = 0;
    iParam0->_fU84 = uParam1;
    iParam0->_fU88 = 0;
    iParam0->_fU92 = 0;
    iParam0->_fU40 = 0;
    iParam0->_fU44 = 0;
    iParam0->_fU96 = 0;
     /* CREATETIMER */ sub_23130( iParam0 + 48, uParam1, 1, 0 );
    iParam0->_fU0 = CREATE_CAM_WITH_PARAMS( ref l_U2, iParam0->_fU16, iParam0->_fU4, iParam0->_fU28, 1 );
    SET_CAM_PARAMS( iParam0->_fU0, iParam0->_fU16, iParam0->_fU4, iParam0->_fU28, 0, 1, 1 );
    return;
}

/* P_CAM_SHAKE_CREATE_STRUCT */ void sub_117536(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7)
{
    if (iParam0->_fU168 == 0)
    {
         /* P_CAM_SHAKE_SET_SHAKE_TYPE */ sub_117592( iParam0, uParam1 );
        iParam0->_fU192 = uParam1;
        iParam0->_fU36 = uParam2;
        iParam0->_fU148 = uParam3;
        iParam0->_fU152 = uParam4;
        iParam0->_fU156 = uParam5;
        iParam0->_fU160 = uParam7;
        iParam0->_fU176 = uParam6;
    }
     /* RESETTIMER */ sub_62931( iParam0 + 40 );
     /* RESETTIMER */ sub_62931( iParam0 + 76 );
     /* RESETTIMER */ sub_62931( iParam0 + 112 );
    iParam0->_fU172 = iParam0->_fU176;
    iParam0->_fU164 = 0;
    iParam0->_fU168 = 1;
    iParam0->_fU184 = 0;
    iParam0->_fU188 = 0;
    return;
}

/* P_CAM_SHAKE_SET_SHAKE_TYPE */ void sub_117592(int iParam0, unknown uParam1)
{
    switch (uParam1)
    {
        case 1:
        StrCopy( ref iParam0->_fU4, "SMALL_EXPLOSION_SHAKE", 32 );
        break;
        case 2:
        StrCopy( ref iParam0->_fU4, "MEDIUM_EXPLOSION_SHAKE", 32 );
        break;
        case 3:
        StrCopy( ref iParam0->_fU4, "LARGE_EXPLOSION_SHAKE", 32 );
        break;
        case 4:
        StrCopy( ref iParam0->_fU4, "HAND_SHAKE", 32 );
        break;
        case 5:
        StrCopy( ref iParam0->_fU4, "JOLT_SHAKE", 32 );
        break;
        case 6:
        StrCopy( ref iParam0->_fU4, "VIBRATE_SHAKE", 32 );
        break;
        case 7:
        StrCopy( ref iParam0->_fU4, "WOBBLY_SHAKE", 32 );
        break;
    }
    iParam0->_fU0 = iParam0->_fU192;
    return;
}

/* P_CAM_SHAKE_ACTIVATE */ void sub_118077(int iParam0)
{
     /* RESETTIMER */ sub_62931( iParam0 + 40 );
     /* RESETTIMER */ sub_62931( iParam0 + 76 );
     /* RESETTIMER */ sub_62931( iParam0 + 112 );
    iParam0->_fU172 = 1;
    iParam0->_fU164 = 0;
    return;
}

/* P_PIER_MID_13_DOCKS_HANDLE_BLEND_IN */ void sub_118290()
{
     /* P_CAM_SHAKE_HANDLE */ sub_118342( ref l_U5627 );
     /* P_SET_VEHICLE_PLAYBACK_SPEED */ sub_91965( g_U977,  /* FLERP */ sub_92887( l_U4926, l_U5686,  /* GETTIMERPERCENTAGE */ sub_92712( ref l_U5676 ) ) );
    return;
}

/* P_CAM_SHAKE_HANDLE */ void sub_118342(int iParam0)
{
    if (iParam0->_fU172 == 1)
    {
        if (iParam0->_fU164 == 0)
        {
             /* CREATETIMER */ sub_23130( iParam0 + 40, iParam0->_fU148, 1, 0 );
             /* STARTTIMER */ sub_66017( iParam0 + 40 );
            if (iParam0->_fU152 > 0)
            {
                 /* CREATETIMER */ sub_23130( iParam0 + 76, iParam0->_fU152, 1, 0 );
                 /* STARTTIMER */ sub_66017( iParam0 + 76 );
            }
            iParam0->_fU164 = 1;
        }
        if ( /* ISTIMERDONE */ sub_85086( iParam0 + 40 ))
        {
             /* WRITESCRIPTLOG */ sub_3853( "ML", "P_HANDLE_CAM_SHAKE is shaking the camera", "---" );
             /* P_SHAKE_CAM */ sub_118571( iParam0 + 4, iParam0->_fU36 );
            if (iParam0->_fU156 > 0)
            {
                 /* CREATETIMER */ sub_23130( iParam0 + 112, iParam0->_fU156, 1, 0 );
                 /* STARTTIMER */ sub_66017( iParam0 + 112 );
            }
        }
        if ( /* ISTIMERDONE */ sub_85086( iParam0 + 112 ))
        {
             /* P_SHAKE_CAM */ sub_118571( iParam0 + 4, iParam0->_fU36 );
             /* CREATETIMER */ sub_23130( iParam0 + 112, iParam0->_fU156, 1, 0 );
             /* STARTTIMER */ sub_66017( iParam0 + 112 );
        }
        if ( /* ISTIMERDONE */ sub_85086( iParam0 + 76 ))
        {
             /* WRITESCRIPTLOG */ sub_3853( "ML", "P_HANDLE_CAM_SHAKE is done shaking the camera", "---" );
            STOP_CAM_SHAKING( GET_RENDERING_CAM(), iParam0->_fU160 );
            STOP_GAMEPLAY_CAM_SHAKING( iParam0 + 4, iParam0->_fU160 );
             /* RESETTIMER */ sub_62931( iParam0 + 112 );
            iParam0->_fU172 = 0;
        }
    }
    return;
}

/* P_SHAKE_CAM */ void sub_118571(unknown uParam0, unknown uParam1)
{
    SHAKE_CAM( GET_RENDERING_CAM(), uParam0, uParam1 );
    SHAKE_GAMEPLAY_CAM( uParam0, uParam1 );
    return;
}

/* P_RAIL_VEHICLE_Z_CHECK_CLEANUP */ void sub_119077(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    int I;

    iVar3 = (uParam0^);
    for ( I = 0; I < iVar3; I++ )
    {
        if (DOES_VEHICLE_EXIST( (uParam0^)[I]._fU0 ))
        {
            uVar4 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( (uParam0^)[I]._fU0 )};
            if (uVar4._fU8 < -10.00000000)
            {
                 /* CLEANVEHICLE */ sub_67007( (uParam0^)[I]._fU0 );
            }
        }
        if (DOES_PED_EXIST( (uParam0^)[I]._fU56 ))
        {
            uVar4 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( (uParam0^)[I]._fU56 )};
            if (uVar4._fU8 < -10.00000000)
            {
                 /* CLEANPED */ sub_66740( (uParam0^)[I]._fU56 );
            }
        }
    }
    return;
}

/* P_RAIL_GUNNER_Z_CHECK_CLEANUP */ void sub_119317(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    int I;

    iVar3 = (uParam0^);
    for ( I = 0; I < iVar3; I++ )
    {
        if (DOES_PED_EXIST( (uParam0^)[I]._fU52 ))
        {
            uVar4 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( (uParam0^)[I]._fU52 )};
            if (uVar4._fU8 < -10.00000000)
            {
                 /* CLEANPED */ sub_66740( (uParam0^)[I]._fU52 );
            }
        }
    }
    return;
}

/* P_RAIL_HANDLE_MPM_SECTION_EVENTS */ void sub_119556()
{
    switch (l_U5702)
    {
        case 1:
        if ( /* F_PIER_HANDLE_MID_13_BLENDOUT */ sub_119653())
        {
             /* WRITESCRIPTLOG */ sub_3853( "SA", "MID_13_DOCKS blendout ending.", 0 );
             /* P_RAIL_MPM_START */ sub_120075();
             /* P_RAIL_BOAT_DAMAGE_METER_ON */ sub_64939();
            l_U5702 = 2;
        }
        break;
        case 2:
         /* P_MPM_STOP_DEAD_GUNNERS_FROM_FIRING */ sub_120447();
        if (( /* F_GET_NUM_LIVING_PEDS_IN_GUNNER_ARRAY */ sub_93657( ref l_U5822 )) < l_U5820)
        {
             /* F_ASSIGN_BULLET_CAM_TO_ALL_LIVING_GUNNERS */ sub_120599( ref l_U5822 );
        }
        if ((NOT (IS_BULLET_CAMERA_RUNNING( 0 ))) AND (l_U1003 < 0.00000000))
        {
             /* WRITESCRIPTLOG */ sub_3853( "GA", "Player has failed MPM by not killing enough enemies in time.", 0 );
             /* P_MPM_PREVENT_BULLET_CAM */ sub_121343();
            l_U5702 = 3;
            break;
        }
        if ((IS_PED_DEAD( l_U6124 )) AND (DOES_PED_EXIST( l_U6124 )))
        {
             /* WRITESCRIPTLOG */ sub_3853( "GA", "The player has shot Fabiana.", 0 );
            if (NOT (IS_VEHICLE_DEAD( l_U5703[0]._fU0 )))
            {
                if (IS_PLAYBACK_GOING_ON_FOR_VEHICLE( l_U5703[0]._fU0 ))
                {
                    STOP_PLAYBACK_RECORDED_VEHICLE( l_U5703[0]._fU0 );
                }
                FREEZE_VEHICLE_POSITION( l_U5703[0]._fU0, 1 );
            }
            ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 1 );
             /* P_MPM_STOP_CS_SHOOTING */ sub_121807();
            l_U990 = 0;
            l_U5702 = 4;
            break;
        }
        if ((( /* F_GET_NUM_LIVING_PEDS_IN_GUNNER_ARRAY */ sub_93657( ref l_U5822 )) < l_U5821) AND (NOT (IS_PED_DEAD( l_U6124 ))))
        {
             /* WRITESCRIPTLOG */ sub_3853( "GA", "Player has successfully killed the required number of enemies.", 0 );
            l_U990 = 0;
            if (IS_BULLET_CAMERA_ACTIVE())
            {
                if (IS_BULLET_CAMERA_TO_GAMEPLAY_ALLOWED() == 1)
                {
                    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 1 );
                }
            }
             /* P_MPM_STOP_CS_SHOOTING */ sub_121807();
             /* LOADSEAMLESSCUTSCENE */ sub_73257( "05_04_DOCKS_concat", 0 );
            l_U6171 = 1;
            END_CONTEXT( "BOATCHASE_MPM" );
            if (NOT (IS_PED_DEAD( l_U6124 )))
            {
                SET_PED_PROOFS( l_U6124, 0, 0, 0, 0, 0 );
                SET_PED_GORE( l_U6124, 0 );
            }
            l_U5702 = 5;
            break;
        }
        break;
        case 4:
        if (NOT (IS_BULLET_CAMERA_RUNNING( 0 )))
        {
             /* WRITESCRIPTLOG */ sub_3853( "GA", "Fabiana shot bullet cam complete.", 0 );
            DO_SCREEN_FADE_OUT( 0 );
            WAIT( 0 );
            ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
            while (( /* F_CHECK_QUIT_RETRY */ sub_84852( 1 )) == 0)
            {
                WAIT( 0 );
            }
             /* P_RAIL_MPM_TERMINATE */ sub_122727();
            l_U850 = 1;
            l_U5702 = 6;
        }
        break;
        case 3:
         /* P_MPM_HANDLE_FAIL_EXPL */ sub_123168();
         /* P_RAIL_MPM_TERMINATE */ sub_122727();
        l_U5702 = 6;
        break;
        case 5:
        if (NOT (IS_BULLET_CAMERA_RUNNING( 0 )))
        {
             /* WRITESCRIPTLOG */ sub_3853( "MF", "MPM HAS BEEN COMPLETED SUCCESSFULLY", 0 );
             /* LOADSEAMLESSCUTSCENE */ sub_73257( "05_04_DOCKS_concat", 1 );
             /* P_RAIL_MPM_TERMINATE */ sub_122727();
            l_U5702 = 6;
            l_U6170 = 1;
        }
        break;
    }
    return;
}

/* F_PIER_HANDLE_MID_13_BLENDOUT */ int sub_119653()
{
    if (NOT l_U6172)
    {
         /* P_RAIL_SET_WATER_EFFECTS */ sub_50368( 13 );
        WAIT( 0 );
        if (NOT ( /* F_IMAGEFX_FADE_IN */ sub_66303()))
        {
            DO_SCREEN_FADE_IN( 0 );
        }
        l_U6172 = 1;
    }
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        if ((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_34875(), 49 )) == 3)
        {
             /* WRITESCRIPTLOG */ sub_3853( "SA", "Telling Max to drop his machine gun.", 0 );
            REMOVE_PED_WEAPON(  /* PLAYER_PED_ID */ sub_34875(), GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_34875(), 2 ) );
            PED_FINISH_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_34875(), 49 );
        }
    }
    if (CAMERA_ANIMATED_CURRENT_TIME() >= ((CAMERA_ANIMATED_LENGTH( "LEVEL_S_MARINA_RS_CP_10", "BLEND_OUT_MID_13_DOCKS_CAM" )) - 1))
    {
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( l_U1463[6], 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( l_U1471[6], 1065353216, 0 );
        CAMERA_ANIMATED_STOP( l_U5810, 1 );
         /* NIS_POST_SETUP */ sub_64635( 1, 1 );
        return 1;
    }
    return 0;
}

/* P_RAIL_MPM_START */ void sub_120075()
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_MPM_START start", 0 );
     /* P_RAIL_BOAT_DAMAGE_METER_ON */ sub_64939();
    SET_SECONDARY_LIFE_BAR_PERCENT( l_U1002 / 100 );
    if (NOT (IS_VEHICLE_DEAD( l_U5045[1]._fU0 )))
    {
        SET_PLAYBACK_SPEED( l_U5045[1]._fU0, l_U6130 );
    }
    if (NOT (IS_VEHICLE_DEAD( g_U977 )))
    {
        SET_PLAYBACK_SPEED( g_U977, l_U6130 );
    }
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        PLAYER_SET_AIM_MODE( 1 );
        SET_PED_REACT_TO_CAR_COLLISION(  /* PLAYER_PED_ID */ sub_34875(), 0 );
        SET_PED_INVINCIBLE(  /* PLAYER_PED_ID */ sub_34875(), 1 );
    }
    if (GET_ADRENALINE_AMT() < 1.00000000)
    {
        SET_ADRENALINE_AMT( 1.00000000 );
    }
    ACTIVATE_BULLET_TIME( 0, 1065353216, 1 );
    DO_SCREEN_FADE_IN( 0 );
     /* P_SUPPRESS_AMBIENT_DIALOG */ sub_113157( 60000 );
    l_U1480 = 1;
    START_CONTEXT( "BOATCHASE_MPM" );
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_MPM_START end", 0 );
    return;
}

/* P_MPM_STOP_DEAD_GUNNERS_FROM_FIRING */ void sub_120447()
{
    int I;

    for ( I = 0; I < 7; I++ )
    {
        if (IS_PED_DEAD( l_U5822[I]._fU52 ))
        {
            CLEAR_PED_TASKS( l_U5822[I]._fU52 );
        }
    }
    return;
}

/* F_ASSIGN_BULLET_CAM_TO_ALL_LIVING_GUNNERS */ void sub_120599(unknown uParam0)
{
    int Result;
    int I;

    Result = 0;
    if (( /* F_GET_NUM_LIVING_PEDS_IN_GUNNER_ARRAY */ sub_93657( uParam0 )) > 0)
    {
        for ( I = 0; I < (uParam0^); I++ )
        {
            if (NOT (IS_PED_DEAD( (uParam0^)[I]._fU52 )))
            {
                if (NOT (GET_PED_CAN_TRIGGER_BULLET_CAM( (uParam0^)[I]._fU52 )))
                {
                    SET_PED_CAN_TRIGGER_BULLET_CAM( (uParam0^)[I]._fU52, 1 );
                    if ((I == 1) || (I == 0))
                    {
                        SET_BULLET_CAM_PREF( (uParam0^)[I]._fU52, "DOCKS_JUMP_CUSTOM_01C", "DOCKS_JUMP_CUSTOM_01C", "DOCKS_JUMP_CUSTOM_01C", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
                    }
                    else if ((I == 5) || (I == 2))
                    {
                        SET_BULLET_CAM_PREF( (uParam0^)[I]._fU52, "DOCKS_JUMP_CUSTOM_01D", "DOCKS_JUMP_CUSTOM_01D", "DOCKS_JUMP_CUSTOM_01D", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
                    }
                    else if ((I == 4) || (I == 3))
                    {
                        SET_BULLET_CAM_PREF( (uParam0^)[I]._fU52, "DOCKS_JUMP_CUSTOM_01E", "DOCKS_JUMP_CUSTOM_01E", "DOCKS_JUMP_CUSTOM_01E", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
                    }
                    else
                    {
                        SET_BULLET_CAM_PREF( (uParam0^)[I]._fU52, "DOCKS_JUMP_CUSTOM_01", "DOCKS_JUMP_CUSTOM_01", "DOCKS_JUMP_CUSTOM_01", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
                    };;;
                    Result++;
                }
            }
        }
    }
    return Result;
}

/* P_MPM_PREVENT_BULLET_CAM */ void sub_121343()
{
    int I;

     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_MPM_PREVENT_BULLET_CAM start", 0 );
    for ( I = 0; I < l_U5822; I++ )
    {
        if (NOT (IS_PED_DEAD( l_U5822[I]._fU52 )))
        {
            SET_PED_CAN_TRIGGER_BULLET_CAM( l_U5822[I]._fU52, 0 );
            SET_PED_PROOFS( l_U5822[I]._fU52, 1, 1, 1, 1, 1 );
        }
    }
    if (NOT (IS_PED_DEAD( l_U6124 )))
    {
        SET_PED_CAN_TRIGGER_BULLET_CAM( l_U6124, 0 );
        SET_PED_PROOFS( l_U6124, 1, 1, 1, 1, 1 );
    }
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_MPM_PREVENT_BULLET_CAM end", 0 );
    return;
}

/* P_MPM_STOP_CS_SHOOTING */ void sub_121807()
{
    int I;

     /* WRITESCRIPTLOG */ sub_3853( "MF", "P_MPM_STOP_CS_SHOOTING - START", 0 );
    for ( I = 0; I < l_U5822; I++ )
    {
        if (NOT (IS_PED_DEAD( l_U5822[I]._fU52 )))
        {
             /* P_RAIL_WAIT_TO_ATTACK_PLAYER_BOAT */ sub_121945( l_U5822[I]._fU52 );
        }
    }
     /* WRITESCRIPTLOG */ sub_3853( "MF", "P_MPM_STOP_CS_SHOOTING - END", 0 );
    return;
}

/* P_RAIL_WAIT_TO_ATTACK_PLAYER_BOAT */ void sub_121945(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_WAIT_TO_ATTACK_PLAYER_BOAT start", 0 );
    if ((NOT (IS_VEHICLE_DEAD( g_U977 ))) AND (NOT (IS_PED_DEAD( uParam0 ))))
    {
        SET_PED_SEEING_RANGE( uParam0, 200.00000000, 75 );
        SET_PED_HEARING_RANGE( uParam0, 200.00000000 );
        SET_PED_COMBAT_RANGE_MAX( uParam0, 200.00000000 );
        SET_PED_EMOTION_STATE( uParam0, 1 );
        SET_PED_COMBAT_MOVEMENT( uParam0, 0 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
        {
            REGISTER_TARGET( uParam0,  /* PLAYER_PED_ID */ sub_34875() );
        }
        TASK_AIM_GUN_AT_VEHICLE( uParam0, g_U977, 0, 0.00000000, 0.00000000, 0.75000000, -1, 1 );
    }
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_WAIT_TO_ATTACK_PLAYER_BOAT end", 0 );
    return;
}

/* P_RAIL_MPM_TERMINATE */ void sub_122727()
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_MPM_TERMINATE start", 0 );
    if (NOT (IS_VEHICLE_DEAD( l_U5045[1]._fU0 )))
    {
        SET_PLAYBACK_SPEED( l_U5045[1]._fU0, l_U5742 );
    }
    if (NOT (IS_VEHICLE_DEAD( g_U977 )))
    {
        SET_PLAYBACK_SPEED( g_U977, l_U5742 );
    }
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        PLAYER_SET_AIM_MODE( 2 );
        SET_PED_REACT_TO_CAR_COLLISION(  /* PLAYER_PED_ID */ sub_34875(), 1 );
    }
    if ((NOT IS_BULLET_CAMERA_ACTIVE()) AND (NOT (IS_PED_DEAD( l_U6124 ))))
    {
        SET_PED_CAN_TRIGGER_BULLET_CAM( l_U6124, 0 );
        SET_PED_AS_ONE_SHOT_KILL( l_U6124, 0 );
    }
    DEACTIVATE_BULLET_TIME( 0, 0 );
    ENABLE_CROSSHAIR( 0 );
    DISPLAY_HUD( 0 );
    SET_CAMERA_OVERRIDE( "", "", 0, 1, 1 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        SET_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_34875(), 1 );
    }
    if (NOT (IS_PED_DEAD( g_U976 )))
    {
        SET_PED_VISIBLE( g_U976, 1 );
    }
    STOP_SCRIPT_STREAM( 0 );
    REMOVE_PARTICLE_FX_FROM_VEHICLE( g_U977 );
    l_U1480 = 0;
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_RAIL_MPM_TERMINATE end", 0 );
    return;
}

/* P_MPM_HANDLE_FAIL_EXPL */ void sub_123168()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    unknown uVar37;
    unknown uVar38;
    unknown uVar39;
    unknown uVar40;
    unknown uVar41;
    unknown uVar42;
    unknown uVar43;
    unknown uVar44;
    unknown uVar45;
    unknown uVar46;
    unknown uVar47;
    unknown uVar48;
    unknown uVar49;
    unknown uVar50;
    unknown uVar51;
    unknown uVar52;
    unknown uVar53;
    unknown uVar54;
    unknown uVar55;
    unknown uVar56;
    unknown uVar57;
    unknown uVar58;
    unknown uVar59;
    unknown uVar60;
    unknown uVar61;
    unknown uVar62;
    unknown uVar63;
    unknown uVar64;
    unknown uVar65;
    unknown uVar66;
    unknown uVar67;
    unknown uVar68;
    unknown uVar69;
    unknown uVar70;
    unknown uVar71;
    unknown uVar72;

     /* NIS_PRE_SETUP */ sub_76681( 1, 0, 0, 0 );
    if (l_U6147)
    {
        ACTIVATE_BULLET_TIME( 0, 0.15000000, 1 );
    }
     /* NIS_CREATE_STATIC_CAM */ sub_89393( ref uVar2, -219.74000000, -3025.03000000, 1.60000000, l_U6136, l_U6139, 0 );
     /* NIS_CREATE_STATIC_CAM */ sub_89393( ref uVar33, -219.74000000, -3025.03000000, 1.60000000, l_U6140, l_U6143, l_U6144 );
     /* P_MPM_BOAT_EXPLODE */ sub_123313();
    l_U6149 = GET_SOUND_ID();
    PLAY_SOUND_FRONTEND( l_U6149, "P_RAIL_EXPLODE_PASSOS_BOAT" );
    if (l_U6147)
    {
        ACTIVATE_BULLET_TIME( 0, l_U6148, 1 );
    }
     /* NIS_PLAY_INTERP_WITH_STATIC_CAMS */ sub_91241( ref uVar2, ref uVar33, l_U6145, 1, 1 );
     /* P_IMAGEFX_START_BULLETCAM */ sub_84452( "DOCKS_RS_MPM_SCRIPTED_FAIL_FX", 0 );
    DO_SCREEN_FADE_IN( 0 );
    WAIT( l_U6146 );
    ADD_EXPLOSION( -203.70000000, -3021.80000000, 5.54900000, 12, 1.00000000, 0, 0, 1065353216 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        SET_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_34875(), 0 );
    }
    if (NOT (IS_PED_DEAD( g_U976 )))
    {
        SET_PED_VISIBLE( g_U976, 0 );
    }
     /* NIS_SHAKE_CAMERA */ sub_92487(  /* F_CAM_SHAKE_LARGE_EXPLOSION */ sub_124305(), 1.00000000 );
    while (NOT ( /* NIS_IS_SHOT_FINISHED */ sub_124392( ref uVar33, 0 )))
    {
        WAIT( 0 );
    }
    while (( /* F_CHECK_QUIT_RETRY */ sub_84852( 1 )) == 0)
    {
        WAIT( 0 );
    }
     /* P_CREATE_AND_START_TIMER */ sub_65967( ref uVar64, 3000 );
    while (NOT (HAS_SOUND_FINISHED( l_U6149 )))
    {
        WAIT( 0 );
        if ( /* ISTIMERDONE */ sub_85086( ref uVar64 ))
        {
            SCRIPT_ASSERT( "P_MPM_HANDLE_FAIL_EXPL() - P_RAIL_EXPLODE_PASSOS_BOAT played for too long.", 0 );
            return;
        }
    }
    STOP_SOUND( l_U6149, 0 );
    RELEASE_SOUND_ID( l_U6149 );
    if (l_U6147)
    {
        DEACTIVATE_BULLET_TIME( 0, 0 );
    }
     /* P_IMAGEFX_STOP_BULLETCAM */ sub_85948( "DOCKS_RS_MPM_SCRIPTED_FAIL_FX" );
     /* NIS_RETURN_TO_GAMEPLAY_CAM */ sub_93349( 0, 0, 0, -859915232, -859915232, 0 );
     /* NIS_POST_SETUP */ sub_64635( 1, 1 );
    return;
}

/* P_MPM_BOAT_EXPLODE */ void sub_123313()
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_MPM_BOAT_EXPLODE start", 0 );
     /* CLEANVEHICLE */ sub_67007( g_U977 );
     /* CLEANOBJECT */ sub_86559( g_U978 );
     /* CLEANOBJECT */ sub_86559( g_U979 );
     /* CLEANOBJECT */ sub_86559( g_U980 );
    l_U6131[0] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U958, l_U6150, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U6131[1] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U959, l_U6150, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U6131[2] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U960, l_U6150, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U6131[3] =  /* CREATEOBJECTNOOFFSET */ sub_68601( g_U961, l_U6150, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    FREEZE_OBJECT_POSITION( l_U6131[0], 1 );
    FREEZE_OBJECT_POSITION( l_U6131[1], 1 );
    FREEZE_OBJECT_POSITION( l_U6131[2], 1 );
    FREEZE_OBJECT_POSITION( l_U6131[3], 1 );
    PLAY_OBJECT_ANIM( l_U6131[0], "p_ma_botexp_aa_h", "ma_anim_rsboat", 0.10000000, 0, 1 );
    PLAY_OBJECT_ANIM( l_U6131[1], "p_ma_botexp_ab_h", "ma_anim_rsboat", 0.10000000, 0, 1 );
    PLAY_OBJECT_ANIM( l_U6131[2], "p_ma_botexp_ac_h", "ma_anim_rsboat", 0.10000000, 0, 1 );
    PLAY_OBJECT_ANIM( l_U6131[3], "p_ma_botexp_ad_h", "ma_anim_rsboat", 0.10000000, 0, 1 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        SET_PED_TO_RAGDOLL_WITH_EXPLOSION(  /* PLAYER_PED_ID */ sub_34875(), 6000, 6000, -203.70000000, -3021.80000000, 5.54900000 );
    }
    if (NOT (IS_PED_DEAD( g_U976 )))
    {
        SET_PED_TO_RAGDOLL_WITH_EXPLOSION( g_U976, 6000, 6000, -203.70000000, -3021.80000000, 5.54900000 );
    }
    l_U999 = 1;
    l_U850 = 1;
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_MPM_BOAT_EXPLODE end", 0 );
    return;
}

/* F_CAM_SHAKE_LARGE_EXPLOSION */ string sub_124305()
{
    return "LARGE_EXPLOSION_SHAKE";
}

/* NIS_IS_SHOT_FINISHED */ int sub_124392(int iParam0, boolean bParam1)
{
    if (bParam1 == 1)
    {
        if (NOT iParam0->_fU44)
        {
            if ((ref iParam0->_fU48->_fU16) || ( /* ISTIMERDONE */ sub_85086( iParam0 + 48 )))
            {
                iParam0->_fU44 = 1;
                iParam0->_fU36 = 1;
                return 1;
            }
        }
    }
    if (NOT bParam1)
    {
        if ((ref iParam0->_fU48->_fU16) || ( /* ISTIMERDONE */ sub_85086( iParam0 + 48 )))
        {
            iParam0->_fU36 = 1;
            return 1;
        }
    }
    return 0;
}

/* P_HANDLE_DEBUG_INVINCIBLITY */ void sub_125098()
{
    if ( /* F_DEBUG_CHECK_FOR_SCRIPT_INVINCIBILITY_KEY */ sub_125138())
    {
        l_U1000 = NOT l_U1000;
        if (l_U1000)
        {
             /* TEXT_ONSCREEN_GENERAL */ sub_51084( "Boat invincibility ON", 3000 );
        }
        else
        {
             /* TEXT_ONSCREEN_GENERAL */ sub_51084( "Boat invincibility OFF", 3000 );
        }
    }
    return;
}

/* F_DEBUG_CHECK_FOR_SCRIPT_INVINCIBILITY_KEY */ int sub_125138()
{
    if ((IS_MARKETING_KEYBOARD_KEY_JUST_PRESSED( 49 )) || (IS_KEYBOARD_KEY_JUST_PRESSED( 49 )))
    {
        return 1;
    }
    return 0;
}

/* P_HANDLE_DEBUG_TUNING_WIDGET */ void sub_125336()
{
    int I;
    char[32] cVar3;
    char[32] cVar11;
    int J;
    char[32] cVar20;

    if (NOT l_U6211)
    {
        START_WIDGET_GROUP( "Railshooter Tuning" );
        ADD_WIDGET_BOOL( "Stop railshooter from ending the level", ref l_U849 );
        ADD_WIDGET_BOOL( "Invincible Boat", ref l_U1000 );
        ADD_WIDGET_BOOL( "Do Simulated Wave Cam", ref l_U1659 );
        START_WIDGET_GROUP( "Boat Health" );
        ADD_WIDGET_INT_SLIDER( "Boat Health damage interaval", ref l_U991, 0, 1000, 50 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Max Health", ref g_U972, 0.00000000, 100000.00000000, 100.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Damage per ped", ref l_U993, 0.00000000, 10000.00000000, 10.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Starting MPM Health", ref l_U1002, 0.00000000, 100.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "MPM Health Drain", ref l_U1004, 0.00000000, 100.00000000, 0.00100000 );
        ADD_WIDGET_INT_SLIDER( "Explosion Delay", ref l_U1127, 0, 1000000, 50 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Boat death cams" );
        START_WIDGET_GROUP( "Right-side Cam" );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U1069, "Cam A Offset", 1036831949 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U1072, "Cam A Look-at", 1036831949 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U1075, "Cam B Offset", 1036831949 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U1078, "Cam B Look-at", 1036831949 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Left-side Cam" );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U1081, "Cam A Offset", 1036831949 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U1084, "Cam A Look-at", 1036831949 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U1087, "Cam B Offset", 1036831949 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U1090, "Cam B Look-at", 1036831949 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Front Cam" );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U1093, "Cam A Offset", 1036831949 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U1096, "Cam A Look-at", 1036831949 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U1099, "Cam B Offset", 1036831949 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U1102, "Cam B Look-at", 1036831949 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Back Cam" );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U1105, "Cam A Offset", 1036831949 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U1108, "Cam A Look-at", 1036831949 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U1111, "Cam B Offset", 1036831949 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U1114, "Cam B Look-at", 1036831949 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Mangrove section" );
        ADD_WIDGET_BOOL( "Start railshooter at Mangrove section", ref l_U6212 );
        ADD_WIDGET_INT_SLIDER( "Max enemy boats in mangrove", ref l_U4031, 1, 10, 1 );
        ADD_WIDGET_INT_SLIDER( "Number of boats to destory to finish Mangrove", ref l_U4039, 1, 100, 1 );
        ADD_WIDGET_FLOAT_SLIDER( "Playback Speed", ref l_U1660, 0.00000000, 10.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Mangrove enemy boat cruise speed", ref l_U4032, 0.00000000, 1000.00000000, 10.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "CS boat distance", ref l_U4035, 0.00000000, 100.00000000, 0.50000000 );
        ADD_WIDGET_INT_SLIDER( "CS boat straight line distance", ref l_U4034, 0, 100, 1 );
        ADD_WIDGET_INT_SLIDER( "CS boat target reached distance", ref l_U4033, 0, 100, 1 );
        ADD_WIDGET_FLOAT_SLIDER( "CS boat despawn distance", ref l_U4038, 0.00000000, 1000.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Player path beginning skip", ref l_U1661, 0.00000000, 100000.00000000, 50.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Mangrove section loop trigger mark", ref l_U1662, 0.00000000, 1E7, 50.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Mangrove section loop start mark", ref l_U1663, 0.00000000, 1E7, 50.00000000 );
        START_WIDGET_GROUP( "Mid 12 Blendout" );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U1684, "Camera offset", 1036831949 );
        ADD_WIDGET_FLOAT_SLIDER( "Camera rotation", ref l_U1687, 0.00000000, 360.00000000, 0.10000000 );
        ADD_WIDGET_INT_SLIDER( "Camera interp", ref l_U1689, 0, 10000, 1 );
        ADD_WIDGET_INT_SLIDER( "Camera cut-off", ref l_U1688, 0, 10000, 1 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Wave Sim Tuneable Variables" );
        ADD_WIDGET_INT_SLIDER( "Wave Freq Min Time", ref l_U4876, 0, 100000, 50 );
        ADD_WIDGET_INT_SLIDER( "Wave Freq Max Time", ref l_U4877, 0, 100000, 50 );
        ADD_WIDGET_FLOAT_SLIDER( "Wave Intensity", ref l_U4878, 0.00000000, 10.00000000, 0.01000000 );
        STOP_WIDGET_GROUP();
        for ( I = 0; I <= (19 - 1); I++ )
        {
            StrCopy( ref cVar3, "Boat  ", 32 );
            ConcatString(ref cVar3, I, 32);
            ConcatString(ref cVar3, " Trigger Point", 32);
            StrCopy( ref cVar11, "Boat ", 32 );
            ConcatString(ref cVar11, I, 32);
            ConcatString(ref cVar11, " Skip Time", 32);
            ADD_WIDGET_FLOAT_SLIDER( ref cVar3, ref l_U2413[I], 0.00000000, 1E8, 50.00000000 );
            ADD_WIDGET_FLOAT_SLIDER( ref cVar11, ref l_U1690[I]._fU104, 0.00000000, 1E8, 50.00000000 );
        }
        for ( J = 0; J < 6; J++ )
        {
            StrCopy( ref cVar20, "Flavour Boat ", 32 );
            ConcatString(ref cVar20, J, 32);
            ConcatString(ref cVar20, " Trigger Point", 32);
            ADD_WIDGET_FLOAT_SLIDER( ref cVar20, ref l_U4082[J]._fU152, 0.00000000, 1E8, 50.00000000 );
        }
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Under Pier section" );
        ADD_WIDGET_BOOL( "Start railshooter at Under Pier section", ref l_U6213 );
        ADD_WIDGET_FLOAT_SLIDER( "Playback Speed", ref l_U4926, 0.00000000, 10.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Player path beginning skip", ref l_U4927, 0.00000000, 100000.00000000, 50.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Under Pier section end mark", ref l_U4928, 0.00000000, 1E7, 50.00000000 );
        ADD_WIDGET_INT_SLIDER( "Percent Blanks", ref l_U5575, 0, 100, 1 );
        ADD_WIDGET_FLOAT_SLIDER( "Pier Serrano Boat Skip", ref l_U5045[1]._fU104, 0.00000000, 100000.00000000, 50.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pier Big Boat Skip", ref l_U5045[0]._fU104, 0.00000000, 100000.00000000, 50.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pier Side A Boat Skip", ref l_U4930[0]._fU104, 0.00000000, 100000.00000000, 50.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pier Side B Boat Skip", ref l_U4930[1]._fU104, 0.00000000, 100000.00000000, 50.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pier Side C Boat Skip", ref l_U4930[2]._fU104, 0.00000000, 100000.00000000, 50.00000000 );
        START_WIDGET_GROUP( "Wave Sim Tuneable Variables" );
        ADD_WIDGET_INT_SLIDER( "Wave Freq Min Time", ref l_U5690, 0, 100000, 50 );
        ADD_WIDGET_INT_SLIDER( "Wave Freq Max Time", ref l_U5691, 0, 100000, 50 );
        ADD_WIDGET_FLOAT_SLIDER( "Wave Intensity", ref l_U5692, 0.00000000, 10.00000000, 0.01000000 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Mid_13 Blend-in" );
        ADD_WIDGET_INT_SLIDER( "Cam interp", ref l_U5626, 0, 10000, 1 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U5620, "Cam offset", 1036831949 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U5623, "Cam rotation", 1036831949 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Death Cam" );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U5600, "Cam A offset", 1036831949 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U5606, "Cam A look-at", 1036831949 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U5603, "Cam B offset", 1036831949 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U5609, "Cam B look-at", 1036831949 );
        STOP_WIDGET_GROUP();
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U5687, "Gunner aim offset", 1036831949 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Pier Jump section" );
        ADD_WIDGET_BOOL( "Start railshooter at Pier Jump section", ref l_U6214 );
        ADD_WIDGET_FLOAT_SLIDER( "Playback Speed", ref l_U5742, 0.00000000, 10.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Player path beginning skip", ref l_U5811, 0.00000000, 100000.00000000, 50.00000000 );
        ADD_WIDGET_INT_SLIDER( "Percent Blanks", ref l_U6110, 0, 100, 1 );
        ADD_WIDGET_FLOAT_SLIDER( "Serrano Skip Ahead", ref l_U5818, 0.00000000, 100000.00000000, 50.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Start playing Shack crash", ref l_U5819, 0.00000000, 100000.00000000, 50.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Shack Crash Anim Speed", ref l_U6128, 0.00000000, 10.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "MPM path speed", ref l_U6130, 0.00000000, 1.00000000, 0.01000000 );
        ADD_WIDGET_INT_SLIDER( "Fail cam length", ref l_U6144, 0, 1000000000, 50 );
        ADD_WIDGET_INT_SLIDER( "Fail Cam interp time", ref l_U6145, 0, 100000, 50 );
        ADD_WIDGET_INT_SLIDER( "Explosion Delay length", ref l_U6146, 0, 100000000, 30 );
        ADD_WIDGET_BOOL( "Do Fail Cam in bullet time", ref l_U6147 );
        ADD_WIDGET_FLOAT_SLIDER( "Fail Cam Bullet Time Speed", ref l_U6148, 0.00000000, 10.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Fail cam 01 Rotation X", ref l_U6136._fU0, -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Fail cam 01 Rotation Y", ref l_U6136._fU4, -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Fail cam 01 Rotation Z", ref l_U6136._fU8, -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Fail cam 01 FOV", ref l_U6139, 0.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Fail cam 02 Rotation X", ref l_U6140._fU0, -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Fail cam 02 Rotation Y", ref l_U6140._fU4, -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Fail cam 02 Rotation Z", ref l_U6140._fU8, -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Fail cam 02 FOV", ref l_U6143, 0.00000000, 360.00000000, 1.00000000 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U6150, "Fail Boat Rayfire Location", 0.01000000 );
        ADD_WIDGET_INT_SLIDER( "Fail explosion Delay (ms)", ref l_U6146, 0, 100, 1 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Gun Heat Tuning" );
        ADD_WIDGET_INT_SLIDER( "Green to Yellow Time", ref l_U1197, 0, 10000, 50 );
        ADD_WIDGET_INT_SLIDER( "Yellow to Red Time", ref l_U1198, 0, 10000, 50 );
        ADD_WIDGET_INT_SLIDER( "Red to Overheat Time", ref l_U1199, 0, 10000, 50 );
        ADD_WIDGET_INT_SLIDER( "Yellow to Green Time", ref l_U1201, 0, 10000, 50 );
        ADD_WIDGET_INT_SLIDER( "Red to Yellow Time", ref l_U1200, 0, 10000, 50 );
        ADD_WIDGET_INT_SLIDER( "Overheat punish time", ref l_U1202, 0, 10000, 50 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Player Boat Death Tuning" );
        ADD_WIDGET_STRING( "In Game Tunables" );
        ADD_WIDGET_INT_SLIDER( "Bullet Time Intialize", ref l_U1146, 0, 100000, 1 );
        ADD_WIDGET_FLOAT_SLIDER( "Bullet Time Scale", ref l_U1147, 0.00000000, 100.00000000, 0.10000000 );
        ADD_WIDGET_INT_SLIDER( "Fail Screen Display Duration", ref l_U1194, 0, 8000, 1 );
        ADD_WIDGET_BOOL( "Display 'MISSION FAILED' Message", ref l_U1193 );
        ADD_WIDGET_INT_SLIDER( "Fade Out Duration", ref l_U1167, 0, 10000, 50 );
        ADD_WIDGET_STRING( " " );
        ADD_WIDGET_STRING( "Boat Death Debug Tools" );
        ADD_WIDGET_BOOL( "Setup Player Boat", ref l_U1244 );
        ADD_WIDGET_STRING( " " );
        ADD_WIDGET_BOOL( "Trigger Cam", ref l_U1245 );
        ADD_WIDGET_BOOL( "Stop Cam", ref l_U1246 );
        ADD_WIDGET_STRING( " " );
        ADD_WIDGET_BOOL( "Trigger Explosion", ref l_U1247 );
        ADD_WIDGET_BOOL( "Trigger Explosion With Effects", ref l_U1248 );
        ADD_WIDGET_BOOL( "Allow Bullet Time", ref l_U1250 );
        ADD_WIDGET_BOOL( "Fade Out After Explosion", ref l_U1249 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Particle Effects Tuning" );
        ADD_WIDGET_BOOL( "Stop gameplay for PFX Tuning", ref l_U6215 );
        START_WIDGET_GROUP( "Vehicles on Fire Tuning" );
        ADD_WIDGET_BOOL( "MINI_BOAT Start Fire", ref l_U6218 );
        START_WIDGET_GROUP( "MINI_BOAT Engine Offset" );
        ADD_WIDGET_FLOAT_SLIDER( "X MINI_BOAT Engine Offset", ref l_U1229._fU0, -100.00000000, 100.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Y MINI_BOAT Engine Offset", ref l_U1229._fU4, -100.00000000, 100.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Z MINI_BOAT Engine Offset", ref l_U1229._fU8, -100.00000000, 100.00000000, 0.10000000 );
        STOP_WIDGET_GROUP();
        ADD_WIDGET_BOOL( "DRUG_BOAT Start Fire", ref l_U6220 );
        START_WIDGET_GROUP( "DRUG_BOAT Engine Offset" );
        ADD_WIDGET_FLOAT_SLIDER( "X DRUG_BOAT Engine Offset", ref l_U1233._fU0, -100.00000000, 100.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Y DRUG_BOAT Engine Offset", ref l_U1233._fU4, -100.00000000, 100.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Z DRUG_BOAT Engine Offset", ref l_U1233._fU8, -100.00000000, 100.00000000, 0.10000000 );
        STOP_WIDGET_GROUP();
        ADD_WIDGET_BOOL( "BOAT_CHASE Start Fire", ref l_U6221 );
        START_WIDGET_GROUP( "BOAT_CHASE Engine Offset" );
        ADD_WIDGET_FLOAT_SLIDER( "X BOAT_CHASE Engine Offset", ref l_U1237._fU0, -100.00000000, 100.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Y BOAT_CHASE Engine Offset", ref l_U1237._fU4, -100.00000000, 100.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Z BOAT_CHASE Engine Offset", ref l_U1237._fU8, -100.00000000, 100.00000000, 0.10000000 );
        STOP_WIDGET_GROUP();
        ADD_WIDGET_BOOL( "FELINO Start Fire", ref l_U6219 );
        START_WIDGET_GROUP( "FELINO Engine Offset" );
        ADD_WIDGET_FLOAT_SLIDER( "X FELINO Engine Offset", ref l_U1241._fU0, -100.00000000, 100.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Y FELINO Engine Offset", ref l_U1241._fU4, -100.00000000, 100.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Z FELINO Engine Offset", ref l_U1241._fU8, -100.00000000, 100.00000000, 0.10000000 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        ADD_WIDGET_BOOL( "Make test Vehicle Move", ref l_U6222 );
        START_WIDGET_GROUP( "Boat Engine Smoke Tuner" );
        START_NEW_WIDGET_COMBO();
        ADD_TO_WIDGET_COMBO( "Inactive" );
        ADD_TO_WIDGET_COMBO( "White Smoke" );
        ADD_TO_WIDGET_COMBO( "Grey Smoke" );
        ADD_TO_WIDGET_COMBO( "Black Smoke" );
        STOP_WIDGET_COMBO( "Smoke Effect", ref l_U6223 );
        ADD_WIDGET_BOOL( "Play Effect", ref l_U6224 );
        ADD_WIDGET_FLOAT_SLIDER( "Scale:", ref l_U1485, 0.00000000, 10.00000000, 0.01000000 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U1481, "Offset", 0.01000000 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        l_U6211 = 1;
    }
    if (l_U6212)
    {
         /* P_CLEANUP_ALL */ sub_86202();
         /* P_SETUP_STATIC_DATA */ sub_16653();
         /* P_INITIALIZE_SCRIPT_DATA */ sub_22950();
         /* P_RAIL_CREATE_AND_SETUP_PLAYER_BOAT */ sub_45990();
         /* P_RAIL_START_MANGROVE_SECTION */ sub_50270();
        l_U6212 = 0;
    }
    if (l_U6213)
    {
         /* P_CLEANUP_ALL */ sub_86202();
         /* P_SETUP_STATIC_DATA */ sub_16653();
         /* P_INITIALIZE_SCRIPT_DATA */ sub_22950();
         /* P_RAIL_CREATE_AND_SETUP_PLAYER_BOAT */ sub_45990();
         /* P_RAIL_START_UNDER_PIER_SECTION */ sub_54631();
        l_U6213 = 0;
    }
    if (l_U6214)
    {
         /* P_CLEANUP_ALL */ sub_86202();
         /* P_SETUP_STATIC_DATA */ sub_16653();
         /* P_INITIALIZE_SCRIPT_DATA */ sub_22950();
         /* P_RAIL_CREATE_AND_SETUP_PLAYER_BOAT */ sub_45990();
         /* P_RAIL_START_PIER_JUMP_SECTION */ sub_70526();
        l_U6214 = 0;
    }
    if (l_U1244 == 1)
    {
         /* P_CLEANUP_ALL */ sub_86202();
         /* P_SETUP_STATIC_DATA */ sub_16653();
         /* P_INITIALIZE_SCRIPT_DATA */ sub_22950();
        SET_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_34875(), 1 );
         /* P_RAIL_CREATE_AND_SETUP_PLAYER_BOAT */ sub_45990();
        DO_SCREEN_FADE_IN( 100 );
        WAIT( 100 );
        l_U1244 = 0;
    }
    if (l_U1247 == 1)
    {
        if ((DOES_VEHICLE_EXIST( g_U977 )) == 1)
        {
             /* STARTTIMER */ sub_66017( ref l_U1128 );
            if (l_U1250 == 1)
            {
                 /* STARTTIMER */ sub_66017( ref l_U1137 );
            }
            if (l_U1249 == 1)
            {
                 /* STARTTIMER */ sub_66017( ref l_U1158 );
            }
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
            {
                FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_34875(), 1 );
                SET_PED_INVINCIBLE(  /* PLAYER_PED_ID */ sub_34875(), 1 );
            }
            while (l_U1247 == 1)
            {
                if (( /* ISTIMERDONE */ sub_85086( ref l_U1128 )) == 1)
                {
                     /* P_RAIL_EXPLODE_PASSOS_BOAT */ sub_91371( l_U1248 );
                }
                if (( /* ISTIMERDONE */ sub_85086( ref l_U1137 )) == 1)
                {
                    ACTIVATE_BULLET_TIME( 0, l_U1147, 1 );
                }
                if (( /* ISTIMERDONE */ sub_85086( ref l_U1158 )) == 1)
                {
                    DO_SCREEN_FADE_OUT( l_U1167 );
                    WAIT( l_U1167 + 500 );
                }
                if (NOT l_U1137._fU20)
                {
                    if (NOT l_U1128._fU20)
                    {
                        if (NOT l_U1158._fU20)
                        {
                            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
                            {
                                PRINTSTRING( "WHILE LOOP SHOULD BE DONE" );
                                WAIT( 30 );
                                FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_34875(), 0 );
                                l_U1247 = 0;
                            }
                        }
                    }
                }
                WAIT( 0 );
            }
            DEACTIVATE_BULLET_TIME( 1, 0 );
        }
        else
        {
            SCRIPT_ASSERT( "Error: Can't run explosion unless 'Setup Player Boat' is run first.", 0 );
        }
        DO_SCREEN_FADE_IN( 100 );
        WAIT( 100 );
        l_U1247 = 0;
    }
    if (l_U6215)
    {
         /* P_CLEANUP_ALL */ sub_86202();
         /* P_SETUP_STATIC_DATA */ sub_16653();
         /* P_INITIALIZE_SCRIPT_DATA */ sub_22950();
         /* P_TELEPORT_PLAYER */ sub_133132( -3.50000000, -1521.00000000, 2.50000000, 270.00000000, 0.00000000, -10.00000000 );
        l_U6215 = 0;
    }
    if (l_U6218)
    {
        if (l_U6217 != 0)
        {
            STOP_PARTICLE_FX_LOOPED( l_U6217 );
            l_U6217 = 0;
        }
         /* CLEANVEHICLE */ sub_67007( l_U6216 );
        l_U6216 =  /* CREATEVEHICLE */ sub_46120( g_U892, 20.00000000, -1521.00000000, 0.50000000, 180.00000000, 1, 0, 0 );
        l_U6217 = START_PARTICLE_FX_LOOPED_ON_VEHICLE( l_U1228, l_U6216, l_U1229, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
        l_U6218 = 0;
    }
    if (l_U6220)
    {
        if (l_U6217 != 0)
        {
            STOP_PARTICLE_FX_LOOPED( l_U6217 );
            l_U6217 = 0;
        }
         /* CLEANVEHICLE */ sub_67007( l_U6216 );
        l_U6216 =  /* CREATEVEHICLE */ sub_46120( g_U893, 20.00000000, -1521.00000000, 0.50000000, 180.00000000, 1, 0, 0 );
        l_U6217 = START_PARTICLE_FX_LOOPED_ON_VEHICLE( l_U1232, l_U6216, l_U1233, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
        l_U6220 = 0;
    }
    if (l_U6221)
    {
        if (l_U6217 != 0)
        {
            STOP_PARTICLE_FX_LOOPED( l_U6217 );
            l_U6217 = 0;
        }
         /* CLEANVEHICLE */ sub_67007( l_U6216 );
        l_U6216 =  /* CREATEVEHICLE */ sub_46120( g_U891, 20.00000000, -1521.00000000, 0.50000000, 180.00000000, 1, 0, 0 );
        l_U6217 = START_PARTICLE_FX_LOOPED_ON_VEHICLE( l_U1236, l_U6216, l_U1237, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
        l_U6221 = 0;
    }
    if (l_U6219)
    {
        if (l_U6217 != 0)
        {
            STOP_PARTICLE_FX_LOOPED( l_U6217 );
            l_U6217 = 0;
        }
         /* CLEANVEHICLE */ sub_67007( l_U6216 );
        l_U6216 =  /* CREATEVEHICLE */ sub_46120( g_U889, -7.70000000, -1530.00000000, 3.50000000, 180.00000000, 1, 0, 0 );
        l_U6217 = START_PARTICLE_FX_LOOPED_ON_VEHICLE( l_U1240, l_U6216, l_U1241, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
        l_U6219 = 0;
    }
    if (l_U6222)
    {
        if (NOT (IS_VEHICLE_DEAD( l_U6216 )))
        {
            if ((GET_VEHICLE_MODEL( l_U6216 )) == g_U889)
            {
                 /* P_START_VEHICLE_PLAYBACK */ sub_51942( l_U6216, 208, 1065353216, 0, 0 );
            }
            else
            {
                 /* P_START_VEHICLE_PLAYBACK */ sub_51942( l_U6216, 5, 1065353216, 0, 0 );
            }
        }
        l_U6222 = 0;
    }
    if (l_U6224 == 1)
    {
        l_U1489 = 0;
        if (NOT (DOES_VEHICLE_EXIST( g_U977 )))
        {
            if (l_U6217 != 0)
            {
                STOP_PARTICLE_FX_LOOPED( l_U6217 );
                l_U6217 = 0;
            }
             /* CLEANVEHICLE */ sub_67007( l_U6216 );
             /* P_RAIL_CREATE_AND_SETUP_PLAYER_BOAT */ sub_45990();
        }
        if (NOT (IS_VEHICLE_DEAD( g_U977 )))
        {
            if (NOT (IS_VEHICLE_EXTRA_TURNED_ON( g_U977, 2 )))
            {
                SET_VEHICLE_EXTRA( g_U977, 1, 1 );
                SET_VEHICLE_EXTRA( g_U977, 2, 0 );
            }
        }
        if (l_U6223 == 0)
        {
            if (l_U1484 != 0)
            {
                STOP_PARTICLE_FX_LOOPED( l_U1484 );
                l_U1484 = 0;
            }
        }
        else if (l_U6223 == 1)
        {
             /* P_UPDATE_SMOKE_PLAYER_BOAT */ sub_82349( l_U1486, l_U1481, l_U1485 );
        }
        else if (l_U6223 == 2)
        {
             /* P_UPDATE_SMOKE_PLAYER_BOAT */ sub_82349( l_U1487, l_U1481, l_U1485 );
        }
        else if (l_U6223 == 3)
        {
             /* P_UPDATE_SMOKE_PLAYER_BOAT */ sub_82349( l_U1488, l_U1481, l_U1485 );
        }
        else
        {
            SCRIPT_ASSERT( "Invalid dropdown value passed for boat smoke...", 0 );
             /* P_UPDATE_SMOKE_PLAYER_BOAT */ sub_82349( l_U1486, l_U1481, l_U1485 );
        };;;;
        l_U6224 = 0;
    }
    return;
}

/* P_ADD_WIDGET_VECTOR_SLIDER */ void sub_125913(int iParam0, unknown uParam1, unknown uParam2)
{
    START_WIDGET_GROUP( uParam1 );
    ADD_WIDGET_FLOAT_SLIDER( "x", iParam0 + 0, 60536, 5000, uParam2 );
    ADD_WIDGET_FLOAT_SLIDER( "y", iParam0 + 4, 60536, 5000, uParam2 );
    ADD_WIDGET_FLOAT_SLIDER( "z", iParam0 + 8, 60536, 5000, uParam2 );
    STOP_WIDGET_GROUP();
    return;
}

/* P_TELEPORT_PLAYER */ void sub_133132(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5)
{
    unknown uVar8;

    uVar8 =  /* PLAYER_PED_ID */ sub_34875();
     /* TELEPORTPED */ sub_133178( uVar8, uParam0, uParam3 );
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( uParam4, 1065353216, 0 );
    SET_GAMEPLAY_CAM_RELATIVE_PITCH( uParam5, 1065353216, 0 );
    return;
}

/* TELEPORTPED */ void sub_133178(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_COORDS( uParam0, uParam1, 1 );
        SET_PED_HEADING( uParam0, uParam4 );
    }
    return;
}

/* P_HANDLE_BOAT_ATTACH_WIDGET */ void sub_134366()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;

    if (NOT l_U6264)
    {
        l_U6272[0] = g_U886;
        l_U6272[1] = g_U892;
        l_U6272[2] = g_U893;
        l_U6272[3] = g_U891;
        l_U6272[4] = g_U894;
        l_U6278[0] = "Passos Boat";
        l_U6278[1] = "Light Boat A";
        l_U6278[2] = "Medium Boat";
        l_U6278[3] = "Serrano Boat";
        l_U6278[4] = "Pickup truck";
        START_WIDGET_GROUP( "Boat Attach Test Widget" );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Attach Pos X", ref l_U6266._fU0, -100.00000000, 100.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Attach Pos Y", ref l_U6266._fU4, -100.00000000, 100.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Attach Pos Z", ref l_U6266._fU8, -100.00000000, 100.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "(MAX ONLY) Boat Attach heading", ref l_U6269, -360.00000000, 360.00000000, 1.00000000 );
        START_NEW_WIDGET_COMBO();
        ADD_TO_WIDGET_COMBO( l_U6278[0] );
        ADD_TO_WIDGET_COMBO( l_U6278[1] );
        ADD_TO_WIDGET_COMBO( l_U6278[2] );
        ADD_TO_WIDGET_COMBO( l_U6278[3] );
        ADD_TO_WIDGET_COMBO( l_U6278[4] );
        STOP_WIDGET_COMBO( "Boat Model", ref l_U6284 );
        START_NEW_WIDGET_COMBO();
        ADD_TO_WIDGET_COMBO( "Back Left" );
        ADD_TO_WIDGET_COMBO( "Back Right" );
        ADD_TO_WIDGET_COMBO( "Front" );
        ADD_TO_WIDGET_COMBO( "Back" );
        ADD_TO_WIDGET_COMBO( "Left" );
        ADD_TO_WIDGET_COMBO( "Right" );
        ADD_TO_WIDGET_COMBO( "Back Right, from left side" );
        ADD_TO_WIDGET_COMBO( "Right and Down" );
        STOP_WIDGET_COMBO( "Player's Action Node", ref l_U6285 );
        ADD_WIDGET_BOOL( "Boat Attach Test", ref l_U6265 );
        STOP_WIDGET_GROUP();
        l_U6264 = 1;
    }
    if (l_U6265)
    {
         /* CLEANPED */ sub_66740( l_U6271 );
         /* CLEANVEHICLE */ sub_67007( l_U6270 );
         /* P_CLEANUP_ALL */ sub_86202();
        if ((ARE_STRINGS_EQUAL( "Passos Boat", l_U6278[l_U6284] )) == 1)
        {
            if (l_U6285 == 0)
            {
                l_U852 = 0;
            }
            else if (l_U6285 == 1)
            {
                l_U852 = 6;
            }
            else if (l_U6285 == 2)
            {
                l_U852 = 1;
            }
            else if (l_U6285 == 3)
            {
                l_U852 = 4;
            }
            else if (l_U6285 == 4)
            {
                l_U852 = 2;
            }
            else if (l_U6285 == 5)
            {
                l_U852 = 3;
            }
            else if (l_U6285 == 6)
            {
                l_U852 = 6;
            }
            else if (l_U6285 == 7)
            {
                l_U852 = 6;
            };;;;;;;;
        }
         /* P_RAIL_CREATE_AND_SETUP_PLAYER_BOAT */ sub_45990();
        l_U6270 =  /* CREATEVEHICLE */ sub_46120( l_U6272[l_U6284], (vector( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( g_U977 ))) + (vector( 15.00000000, 0.00000000, 0.00000000)), GET_VEHICLE_HEADING( g_U977 ), 1, 0, 0 );
        if ((ARE_STRINGS_EQUAL( "Passos Boat", l_U6278[l_U6284] )) == 1)
        {
             /* P_SETUP_PLAYER_IN_BOAT */ sub_51260( l_U6266, l_U6269, l_U1463[l_U852], l_U1471[l_U852], 1 );
            PED_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_34875(), l_U1421[l_U6285] );
            PRINTSTRING( "Setting player action tree node to: " );
            PRINTSTRING( l_U1421[l_U6285] );
            PRINTNL();
            SET_RAIL_RELATIVE_DIR( 5, l_U1455[l_U852] );
        }
        else
        {
             /* P_CREATEPEDSTRUCT */ sub_16758( ref uVar2, (vector( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( l_U6270 ))) + (vector( 0.00000000, 0.00000000, 2.00000000)), 0.00000000, g_U883, 7, 3, 2, 0, 0 );
            l_U6271 =  /* CREATEPED */ sub_48333( ref uVar2 );
            if ((NOT (IS_VEHICLE_DEAD( l_U6270 ))) AND (NOT (IS_PED_DEAD( l_U6271 ))))
            {
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U6271, 1 );
                ATTACH_PED_TO_VEHICLE( l_U6271, l_U6270, 0, l_U6266, 0.00000000, 360.00000000, 1, 0, 0, 1 );
            }
            SET_RAIL_RELATIVE_DIR( 5, l_U1455[l_U852] );
        }
        SET_CAMERA_OVERRIDE( l_U1430[l_U6285][0], l_U1430[l_U6285][1], 0, 1, 1 );
        l_U6265 = 0;
    }
    return;
}

/* P_HANDLE_DEBUG_RECORDING_WIDGET */ void sub_135951()
{
    unknown uVar2;

    if (NOT l_U6263)
    {
        START_WIDGET_GROUP( "Railshooter Recording Paths" );
        START_WIDGET_GROUP( "Boat force" );
        ADD_WIDGET_BOOL( "Add constant force to player's boat", ref l_U6255 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U6256, "Force", 1036831949 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_125913( ref l_U6259, "Offset", 1036831949 );
        ADD_WIDGET_BOOL( "Freeze boat position", ref l_U6262 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Mangrove" );
        ADD_WIDGET_BOOL( "Reset Player Vehicle to Mangrove Start", ref l_U6233 );
        ADD_WIDGET_FLOAT_SLIDER( "Mangrove Start Pos X", ref g_U654[5]._fU0, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Mangrove Start Pos Y", ref g_U654[5]._fU4, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Mangrove Start Pos Z", ref g_U654[5]._fU8, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Mangrove Start Heading", ref g_U766[5], -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_BOOL( "Reset Boat Path Start Far", ref l_U6234 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Path Start Far Start Pos X", ref l_U1690[0]._fU88._fU0, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Path Start Far Start Pos Y", ref l_U1690[0]._fU88._fU4, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Path Start Far Start Pos Z", ref l_U1690[0]._fU88._fU8, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Path Start Far Start Heading", ref l_U1690[0]._fU100, -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_BOOL( "Reset Boat Path Start Near", ref l_U6235 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Path Start Near Start Pos X", ref l_U1690[1]._fU88._fU0, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Path Start Near Start Pos Y", ref l_U1690[1]._fU88._fU4, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Path Start Near Start Pos Z", ref l_U1690[1]._fU88._fU8, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Path Start Near Start Heading", ref l_U1690[1]._fU100, -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_BOOL( "Reset Boat CulDeSac A", ref l_U6236 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat CulDeSac A Start Pos X", ref l_U1690[2]._fU88._fU0, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat CulDeSac A Start Pos Y", ref l_U1690[2]._fU88._fU4, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat CulDeSac A Start Pos Z", ref l_U1690[2]._fU88._fU8, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat CulDeSac A Start Heading", ref l_U1690[2]._fU100, -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_BOOL( "Reset Boat Exit Path Right", ref l_U6237 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Exit Path Right Start Pos X", ref l_U1690[4]._fU88._fU0, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Exit Path Right Start Pos Y", ref l_U1690[4]._fU88._fU4, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Exit Path Right Start Pos Z", ref l_U1690[4]._fU88._fU8, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Exit Path Right Start Heading", ref l_U1690[4]._fU100, -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_BOOL( "Reset Boat Exit Path Left", ref l_U6238 );
        ADD_WIDGET_BOOL( "Reset Boat Centre A", ref l_U6239 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Centre A Start Pos X", ref l_U1690[5]._fU88._fU0, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Centre A Start Pos Y", ref l_U1690[5]._fU88._fU4, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Centre A Start Pos Z", ref l_U1690[5]._fU88._fU8, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Centre A Start Heading", ref l_U1690[5]._fU100, -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_BOOL( "Reset Boat Centre B", ref l_U6240 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Centre B Start Pos X", ref l_U1690[6]._fU88._fU0, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Centre B Start Pos Y", ref l_U1690[6]._fU88._fU4, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Centre B Start Pos Z", ref l_U1690[6]._fU88._fU8, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Centre B Start Heading", ref l_U1690[6]._fU100, -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_BOOL( "Reset Boat Centre C", ref l_U6241 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Centre C Start Pos X", ref l_U1690[7]._fU88._fU0, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Centre C Start Pos Y", ref l_U1690[7]._fU88._fU4, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Centre C Start Pos Z", ref l_U1690[7]._fU88._fU8, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Centre C Start Heading", ref l_U1690[7]._fU100, -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_BOOL( "Reset Boat Centre D", ref l_U6242 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Centre D Start Pos X", ref l_U1690[8]._fU88._fU0, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Centre D Start Pos Y", ref l_U1690[8]._fU88._fU4, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Centre D Start Pos Z", ref l_U1690[8]._fU88._fU8, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Centre D Start Heading", ref l_U1690[8]._fU100, -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_BOOL( "Reset Boat Centre E", ref l_U6243 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Centre E Start Pos X", ref l_U1690[3]._fU88._fU0, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Centre E Start Pos Y", ref l_U1690[3]._fU88._fU4, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Centre E Start Pos Z", ref l_U1690[3]._fU88._fU8, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Centre E Start Heading", ref l_U1690[3]._fU100, -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_BOOL( "Reset Boat Tributary A", ref l_U6244 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Tributary A Start Pos X", ref l_U1690[9]._fU88._fU0, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Tributary A Start Pos Y", ref l_U1690[9]._fU88._fU4, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Tributary A Start Pos Z", ref l_U1690[9]._fU88._fU8, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Boat Tributary A Start Heading", ref l_U1690[9]._fU100, -360.00000000, 360.00000000, 1.00000000 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Under Pier" );
        ADD_WIDGET_FLOAT_SLIDER( "Serrano Boat Skip", ref l_U5045[1]._fU104, 0.00000000, 1E8, 50.00000000 );
        ADD_WIDGET_BOOL( "Reset Player Vehicle to Under Pier Start", ref l_U6245 );
        ADD_WIDGET_FLOAT_SLIDER( "Under Pier Start Pos X", ref g_U654[6]._fU0, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Under Pier Start Pos Y", ref g_U654[6]._fU4, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Under Pier Start Pos Z", ref g_U654[6]._fU8, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Under Pier Start Heading", ref g_U766[6], -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_BOOL( "Reset Serrano Under Pier ", ref l_U6246 );
        ADD_WIDGET_FLOAT_SLIDER( "Under Pier Serrano Pos X", ref l_U5045[1]._fU88._fU0, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Under Pier Serrano Pos Y", ref l_U5045[1]._fU88._fU4, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Under Pier Serrano Pos Z", ref l_U5045[1]._fU88._fU8, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Under Pier Serrano Heading", ref l_U5045[1]._fU100, -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_BOOL( "Reset Big Boat Under Pier ", ref l_U6247 );
        ADD_WIDGET_FLOAT_SLIDER( "Under Pier Big Boat Pos X", ref l_U5045[0]._fU88._fU0, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Under Pier Big Boat Pos Y", ref l_U5045[0]._fU88._fU4, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Under Pier Big Boat Pos Z", ref l_U5045[0]._fU88._fU8, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Under Pier Big Boat Heading", ref l_U5045[0]._fU100, -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_BOOL( "Reset Side A Boat Under Pier ", ref l_U6251 );
        ADD_WIDGET_FLOAT_SLIDER( "Under Pier Side A Boat Pos X", ref l_U4930[0]._fU88._fU0, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Under Pier Side A Boat Pos Y", ref l_U4930[0]._fU88._fU4, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Under Pier Side A Boat Pos Z", ref l_U4930[0]._fU88._fU8, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Under Pier Side A Boat Heading", ref l_U4930[0]._fU100, -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_BOOL( "Reset Side B Boat Under Pier ", ref l_U6252 );
        ADD_WIDGET_FLOAT_SLIDER( "Under Pier Side B Boat Pos X", ref l_U4930[1]._fU88._fU0, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Under Pier Side B Boat Pos Y", ref l_U4930[1]._fU88._fU4, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Under Pier Side B Boat Pos Z", ref l_U4930[1]._fU88._fU8, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Under Pier Side B Boat Heading", ref l_U4930[1]._fU100, -360.00000000, 360.00000000, 1.00000000 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Pier Jump" );
        ADD_WIDGET_BOOL( "Reset Player Vehicle to Pier Jump Start", ref l_U6253 );
        ADD_WIDGET_FLOAT_SLIDER( "Pier Jump Start Pos X", ref l_U883._fU0, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pier Jump Start Pos Y", ref l_U883._fU4, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pier Jump Start Pos Z", ref l_U883._fU8, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pier Jump Start Heading", ref l_U886, -360.00000000, 360.00000000, 1.00000000 );
        ADD_WIDGET_BOOL( "Reset Serrano to Pier Jump Start", ref l_U6254 );
        ADD_WIDGET_FLOAT_SLIDER( "Serrano Start Pos X", ref l_U5814._fU0, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Serrano Start Pos Y", ref l_U5814._fU4, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Serrano Start Pos Z", ref l_U5814._fU8, -10000.00000000, 10000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Serrano Start Heading", ref l_U5817, -360.00000000, 360.00000000, 1.00000000 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
        {
            SET_PED_REACT_TO_CAR_COLLISION(  /* PLAYER_PED_ID */ sub_34875(), 0 );
        }
        l_U6263 = 1;
    }
    uVar2 = GET_VEHICLE_PED_IS_IN(  /* PLAYER_PED_ID */ sub_34875() );
    if (l_U6255)
    {
        APPLY_FORCE_TO_VEHICLE( uVar2, 2, l_U6256, l_U6259, 0, 1, 1, 1 );
    }
    FREEZE_VEHICLE_POSITION( uVar2, l_U6262 );
    if (l_U6233)
    {
         /* CLEANVEHICLEARRAY */ sub_141996( ref l_U6225 );
        l_U6225[0] =  /* F_DEBUG_CREATE_RECORDING_VEHICLE */ sub_142096( g_U886, g_U654[5], g_U766[5] );
        l_U6233 = 0;
    }
    if (l_U6234)
    {
         /* CLEANVEHICLEARRAY */ sub_141996( ref l_U6225 );
        l_U6225[0] =  /* F_DEBUG_CREATE_RECORDING_VEHICLE */ sub_142096( g_U892, l_U1690[0]._fU88, l_U1690[0]._fU100 );
        l_U6234 = 0;
    }
    if (l_U6235)
    {
         /* CLEANVEHICLEARRAY */ sub_141996( ref l_U6225 );
        l_U6225[0] =  /* F_DEBUG_CREATE_RECORDING_VEHICLE */ sub_142096( g_U892, l_U1690[1]._fU88, l_U1690[1]._fU100 );
        l_U6235 = 0;
    }
    if (l_U6236)
    {
         /* CLEANVEHICLEARRAY */ sub_141996( ref l_U6225 );
        l_U6225[0] =  /* F_DEBUG_CREATE_RECORDING_VEHICLE */ sub_142096( g_U892, l_U1690[2]._fU88, l_U1690[2]._fU100 );
        l_U6236 = 0;
    }
    if (l_U6237)
    {
         /* CLEANVEHICLEARRAY */ sub_141996( ref l_U6225 );
        l_U6225[0] =  /* F_DEBUG_CREATE_RECORDING_VEHICLE */ sub_142096( g_U892, l_U1690[4]._fU88, l_U1690[4]._fU100 );
        l_U6237 = 0;
    }
    if (l_U6239)
    {
         /* CLEANVEHICLEARRAY */ sub_141996( ref l_U6225 );
        l_U6225[0] =  /* F_DEBUG_CREATE_RECORDING_VEHICLE */ sub_142096( g_U892, l_U1690[5]._fU88, l_U1690[5]._fU100 );
        l_U6239 = 0;
    }
    if (l_U6240)
    {
         /* CLEANVEHICLEARRAY */ sub_141996( ref l_U6225 );
        l_U6225[0] =  /* F_DEBUG_CREATE_RECORDING_VEHICLE */ sub_142096( g_U892, l_U1690[6]._fU88, l_U1690[6]._fU100 );
        l_U6240 = 0;
    }
    if (l_U6241)
    {
         /* CLEANVEHICLEARRAY */ sub_141996( ref l_U6225 );
        l_U6225[0] =  /* F_DEBUG_CREATE_RECORDING_VEHICLE */ sub_142096( g_U892, l_U1690[7]._fU88, l_U1690[7]._fU100 );
        l_U6241 = 0;
    }
    if (l_U6242)
    {
         /* CLEANVEHICLEARRAY */ sub_141996( ref l_U6225 );
        l_U6225[0] =  /* F_DEBUG_CREATE_RECORDING_VEHICLE */ sub_142096( g_U892, l_U1690[8]._fU88, l_U1690[8]._fU100 );
        l_U6242 = 0;
    }
    if (l_U6243)
    {
         /* CLEANVEHICLEARRAY */ sub_141996( ref l_U6225 );
        l_U6225[0] =  /* F_DEBUG_CREATE_RECORDING_VEHICLE */ sub_142096( g_U892, l_U1690[3]._fU88, l_U1690[3]._fU100 );
        l_U6243 = 0;
    }
    if (l_U6244)
    {
         /* CLEANVEHICLEARRAY */ sub_141996( ref l_U6225 );
        l_U6225[0] =  /* F_DEBUG_CREATE_RECORDING_VEHICLE */ sub_142096( g_U892, l_U1690[9]._fU88, l_U1690[9]._fU100 );
        l_U6244 = 0;
    }
    if (l_U6245)
    {
         /* CLEANVEHICLEARRAY */ sub_141996( ref l_U6225 );
        l_U6225[0] =  /* F_DEBUG_CREATE_RECORDING_VEHICLE */ sub_142096( g_U886, g_U654[6], g_U766[6] );
        l_U6225[1] =  /* CREATEVEHICLE */ sub_46120( g_U891, l_U5045[1]._fU88, l_U5045[1]._fU100, 1, 0, 0 );
        l_U6225[2] =  /* CREATEVEHICLE */ sub_46120( g_U891, l_U5045[0]._fU88, l_U5045[0]._fU100, 1, 0, 0 );
         /* P_START_VEHICLE_PLAYBACK */ sub_51942( l_U6225[1], l_U5045[1]._fU108, 1.00000000, l_U5045[1]._fU104 - l_U4927, 0 );
         /* P_START_VEHICLE_PLAYBACK */ sub_51942( l_U6225[2], l_U5045[0]._fU108, 1065353216, 0, 0 );
        l_U6245 = 0;
    }
    if (l_U6246)
    {
         /* CLEANVEHICLEARRAY */ sub_141996( ref l_U6225 );
        l_U6225[0] =  /* F_DEBUG_CREATE_RECORDING_VEHICLE */ sub_142096( g_U891, l_U5045[1]._fU88, l_U5045[1]._fU100 );
        l_U6246 = 0;
    }
    if (l_U6247)
    {
         /* CLEANVEHICLEARRAY */ sub_141996( ref l_U6225 );
        l_U6225[0] =  /* F_DEBUG_CREATE_RECORDING_VEHICLE */ sub_142096( g_U891, l_U5045[0]._fU88, l_U5045[0]._fU100 );
        l_U6225[1] =  /* CREATEVEHICLE */ sub_46120( g_U891, l_U5045[1]._fU88, l_U5045[1]._fU100, 1, 0, 0 );
         /* P_START_VEHICLE_PLAYBACK */ sub_51942( l_U6225[1], l_U5045[1]._fU108, 1.00000000, l_U5045[1]._fU104 - l_U5045[0]._fU104, 0 );
        l_U6247 = 0;
    }
    if (l_U6251)
    {
         /* CLEANVEHICLEARRAY */ sub_141996( ref l_U6225 );
        l_U6225[0] =  /* F_DEBUG_CREATE_RECORDING_VEHICLE */ sub_142096( g_U892, l_U4930[0]._fU88, l_U4930[0]._fU100 );
        l_U6225[1] =  /* CREATEVEHICLE */ sub_46120( g_U886, g_U654[6], g_U766[6], 1, 0, 0 );
        l_U6225[2] =  /* CREATEVEHICLE */ sub_46120( g_U891, l_U5045[0]._fU88, l_U5045[0]._fU100, 1, 0, 0 );
         /* P_START_VEHICLE_PLAYBACK */ sub_51942( l_U6225[1], l_U4929, 1065353216, 0, 0 );
         /* P_START_VEHICLE_PLAYBACK */ sub_51942( l_U6225[2], l_U5045[0]._fU108, 1065353216, 0, 0 );
        l_U6251 = 0;
    }
    if (l_U6252)
    {
         /* CLEANVEHICLEARRAY */ sub_141996( ref l_U6225 );
        l_U6225[0] =  /* F_DEBUG_CREATE_RECORDING_VEHICLE */ sub_142096( g_U892, l_U4930[1]._fU88, l_U4930[1]._fU100 );
        l_U6225[1] =  /* CREATEVEHICLE */ sub_46120( g_U886, g_U654[6], g_U766[6], 1, 0, 0 );
        l_U6225[2] =  /* CREATEVEHICLE */ sub_46120( g_U891, l_U5045[0]._fU88, l_U5045[0]._fU100, 1, 0, 0 );
        l_U6225[3] =  /* CREATEVEHICLE */ sub_46120( g_U892, l_U4930[0]._fU88, l_U4930[0]._fU100, 1, 0, 0 );
         /* P_START_VEHICLE_PLAYBACK */ sub_51942( l_U6225[1], l_U4929, 1065353216, 0, 0 );
         /* P_START_VEHICLE_PLAYBACK */ sub_51942( l_U6225[2], l_U5045[0]._fU108, 1.00000000, l_U4927 - 4000, 0 );
         /* P_START_VEHICLE_PLAYBACK */ sub_51942( l_U6225[3], l_U4930[0]._fU108, 1.00000000, l_U4927 - 10850, 0 );
        l_U6252 = 0;
    }
    if (l_U6253)
    {
         /* CLEANVEHICLEARRAY */ sub_141996( ref l_U6225 );
        if (NOT l_U6168)
        {
             /* P_RAIL_PIER_JUMP_CREATE_SHACK */ sub_68470();
            l_U6168 = 1;
        }
        l_U6225[0] =  /* F_DEBUG_CREATE_RECORDING_VEHICLE */ sub_142096( g_U886, l_U883, l_U886 );
        l_U6253 = 0;
    }
    if (l_U6254)
    {
         /* CLEANVEHICLEARRAY */ sub_141996( ref l_U6225 );
        l_U6225[0] =  /* F_DEBUG_CREATE_RECORDING_VEHICLE */ sub_142096( g_U891, l_U5814, l_U5817 );
        l_U6225[1] =  /* CREATEVEHICLE */ sub_46120( g_U886, l_U883, l_U886, 1, 0, 0 );
         /* P_START_VEHICLE_PLAYBACK */ sub_51942( l_U6225[1], l_U5812, 1065353216, 0, 0 );
        l_U6254 = 0;
    }
    if (IS_SCREEN_FADED_OUT())
    {
        DO_SCREEN_FADE_IN( 0 );
    }
    return;
}

/* CLEANVEHICLEARRAY */ void sub_141996(unknown uParam0)
{
    int I;

    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
         /* CLEANVEHICLE */ sub_67007( (uParam0^)[I] );
    }
    return;
}

/* F_DEBUG_CREATE_RECORDING_VEHICLE */ void sub_142096(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    unknown Result;

     /* WRITESCRIPTLOG */ sub_3853( "GA", "F_DEBUG_CREATE_RECORDING_VEHICLE start", 0 );
    Result =  /* CREATEVEHICLE */ sub_46120( uParam0, uParam1, uParam4, 1, 0, 0 );
    if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() ))) AND (NOT (IS_VEHICLE_DEAD( Result ))))
    {
        SET_PED_INTO_VEHICLE(  /* PLAYER_PED_ID */ sub_34875(), Result, -1 );
    }
    return Result;
}

/* P_PIER_5_04 */ void sub_144330()
{
    unknown uVar2;
    int iVar3;
    int I;
    boolean bVar5;

     /* WRITESCRIPTLOG */ sub_3853( "MF", "P_PIER_5_04 - START", 0 );
     /* LOADSEAMLESSCUTSCENE */ sub_73257( "05_04_DOCKS_concat", 1 );
     /* P_RAIL_SET_WATER_EFFECTS */ sub_50368( 14 );
     /* P_RAIL_PLAY_MUSIC_CUE */ sub_69937( l_U1639 );
    if (NOT (IS_PED_DEAD( g_U976 )))
    {
         /* WRITESCRIPTLOG */ sub_3853( "MF", "Registering Passos script ped with midscene 05_04_DOCKS_concat", 0 );
        SET_PED_COORDS( g_U976, (vector( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( g_U976 ))) - (vector( 0.00000000, 0.00000000, 1.00000000)), 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( g_U976, "Pass_Dock", 0 );
        DETACH_PED( g_U976, 1 );
        uVar2 = GET_WEAPON_FROM_HAND( g_U976, 0, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar2 ))
        {
             /* WRITESCRIPTLOG */ sub_3853( "GA", "Registering Passos weapon with cutscene.", 0 );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar2, "W_PI_PT92_Aa_H", 0 );
        }
    }
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        uVar2 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_34875(), 0, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar2 ))
        {
             /* WRITESCRIPTLOG */ sub_3853( "GA", "Registering Max's weapon with cutscene.", 0 );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar2, "W_MG_21E_Aa_H", 0 );
        }
        DETACH_PED(  /* PLAYER_PED_ID */ sub_34875(), 1 );
    }
    if (NOT (IS_VEHICLE_DEAD( g_U977 )))
    {
        SET_VEHICLE_ENGINE_ON( g_U977, 0, 1 );
        REGISTER_VEHICLE_PRE_SEAMLESS_CUTSCENE( g_U977, "boat_rs", 0 );
    }
    if (NOT (IS_VEHICLE_DEAD( l_U5703[0]._fU0 )))
    {
        REGISTER_VEHICLE_PRE_SEAMLESS_CUTSCENE( l_U5703[0]._fU0, "boat_chase", 0 );
    }
    if (NOT (IS_PED_DEAD( l_U6124 )))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U6124, "Fabi_Docks", 0 );
        DETACH_PED( l_U6124, 1 );
    }
    if (NOT (IS_PED_DEAD( l_U5703[0]._fU56 )))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U5703[0]._fU56, "Sero_Unif_1", 0 );
        DETACH_PED( l_U5703[0]._fU56, 1 );
    }
    iVar3 = 0;
    for ( I = 0; I < 7; I++ )
    {
        if (NOT (IS_PED_DEAD( l_U5822[I]._fU52 )))
        {
            if (iVar3 == 0)
            {
                REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U5822[I]._fU52, "G_CS_RAIL_A", 0 );
                DETACH_PED( l_U5822[I]._fU52, 1 );
                iVar3++;
            }
            else if (iVar3 == 1)
            {
                REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U5822[I]._fU52, "G_CS_RAIL_A^1", 0 );
                DETACH_PED( l_U5822[I]._fU52, 1 );
                iVar3++;
            }
        }
    }
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_34875() )))
    {
        TASK_CLEAR_LOOK_AT(  /* PLAYER_PED_ID */ sub_34875() );
    }
     /* NIS_PRE_SETUP */ sub_76681( 1, 0, 0, 1 );
    CUTSCENE_DISABLE_FADE_IN_GAME_AT_END( 1 );
    CUTSCENE_ENABLE_SKIP( 0 );
    CUTSCENE_REGISTER_SWITCH_TO_LEVEL_NAME( "s_office" );
    DISABLE_FADE_BETWEEN_SP_LEVELS();
    AUD_ENABLE_PRE_BINK_SHUTDOWN( 1 );
    START_SEAMLESS_CUTSCENE();
    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
    WAIT( 0 );
     /* P_STOP_LOOPED_PARTICLE_FX */ sub_145437( ref l_U1484 );
    if (NOT (IS_VEHICLE_DEAD( g_U977 )))
    {
        if (IS_PLAYBACK_GOING_ON_FOR_VEHICLE( g_U977 ))
        {
            STOP_PLAYBACK_RECORDED_VEHICLE( g_U977 );
        }
    }
    bVar5 = false;
    while (NOT HAS_CUTSCENE_FINISHED())
    {
        if ((GET_CUTSCENE_TIME_MS() > 21401) AND (NOT bVar5))
        {
             /* P_RAIL_PLAY_MUSIC_CUE */ sub_69937( l_U1644 );
            bVar5 = true;
        }
        WAIT( 0 );
    }
     /* WRITESCRIPTLOG */ sub_3853( "MF", "P_PIER_5_04 - END", 0 );
    return;
}

/* P_STOP_LOOPED_PARTICLE_FX */ void sub_145437(unknown uParam0)
{
    if ((uParam0^) == 0)
    {
         /* WRITESCRIPTLOG */ sub_3853( "GA", "Trying to stop an invalid particle effect ID.", 0 );
    }
    else
    {
        STOP_PARTICLE_FX_LOOPED( (uParam0^) );
        (uParam0^) = 0;
    }
    return;
}

/* P_UNLOAD_ASSETS */ void sub_145725()
{
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_UNLOAD_ASSETS start", 0 );
     /* P_UNLOAD_MODEL_ARRAY */ sub_67172( ref l_U416 );
     /* P_UNLOAD_MODEL_ARRAY */ sub_67172( ref l_U563 );
     /* P_UNLOAD_VEHICLE_RECORDING_ARRAY */ sub_67477( ref l_U541 );
     /* P_UNLOAD_VEHICLE_RECORDING_ARRAY */ sub_67477( ref l_U586 );
     /* P_UNLOAD_VEHICLE_RECORDING_ARRAY */ sub_67477( ref l_U593 );
     /* UNLOADANIMDICT */ sub_145853( "level_s_marina_rs" );
     /* UNLOADANIMDICT */ sub_145853( "level_s_marina_rs_cp_10" );
     /* UNLOADACTIONTREE */ sub_145963( "LEVEL/S_MARINA/s_marina_drv.act" );
     /* UNLOADACTIONTREE */ sub_145963( "Vehicle/Vehicle_Boat" );
    RELEASE_NAMED_SCRIPT_AUDIO_BANK( l_U6209 );
    RELEASE_NAMED_SCRIPT_AUDIO_BANK( "SCRIPT_MISSION\S_MARINA_RAIL_SHOOTER_2" );
     /* UNLOADWEAPON */ sub_146103( 427207702 );
     /* WRITESCRIPTLOG */ sub_3853( "GA", "P_UNLOAD_ASSETS end", 0 );
    return;
}

/* UNLOADANIMDICT */ void sub_145853(unknown uParam0)
{
    REMOVE_ANIM_DICT( uParam0, 0 );
    return;
}

/* UNLOADACTIONTREE */ void sub_145963(unknown uParam0)
{
    ACTION_TREE_UNLOAD( uParam0 );
    return;
}

/* UNLOADWEAPON */ void sub_146103(unknown uParam0)
{
    SET_WEAPON_AS_NO_LONGER_NEEDED( uParam0 );
    return;
}

/* P_UNLOAD_PERSISTENT_MODELS */ void sub_146186()
{
     /* WRITESCRIPTLOG */ sub_3853( "SA", "P_UNLOAD_PERSISTENT_MODELS", "###" );
     /* UNLOADWEAPON */ sub_146103( 68019059 );
     /* UNLOADWEAPON */ sub_146103( 1194438308 );
     /* UNLOADWEAPON */ sub_146103( -168327769 );
     /* UNLOADWEAPON */ sub_146103( -1074756423 );
    return;
}

