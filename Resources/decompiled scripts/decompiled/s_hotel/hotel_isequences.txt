void main()
{
    unknown uVar2;

    l_U0 = 1;
    l_U1 = 144;
    l_U2 = 0;
    l_U3 = 1;
    l_U4 = 0;
    l_U5 = 1.00000000;
    l_U6 = -5.00000000;
    l_U7 = 0;
    l_U8 = 0;
    l_U9 = 0;
    l_U13 = 42;
    l_U14 = 0;
    l_U15 = 0;
    l_U16 = 0;
    l_U17 = 0;
    l_U18 = 0;
    l_U19 = 90.00000000;
    l_U20 = {0.00000000, 0.00000000, 0.00000000};
    l_U23 = {0.00000000, 0.00000000, 0.00000000};
    l_U26 = 0;
    l_U27 = 0;
    l_U28 = 0;
    l_U29 = 0;
    l_U30 = 0;
    l_U31 = 0;
    l_U32 = nil;
    l_U33 = {0.00000000, 0.00000000, 0.00000000};
    l_U36 = 0;
    l_U37 = 0;
    l_U38 = 0;
    l_U85 = "PED_DEF";
    l_U127 = 1.00000000;
    l_U139 = 0;
    l_U180 = 0;
    l_U211 = 0.50000000;
    l_U212 = 0.40000000;
    l_U213 = 0.40000000;
    l_U214 = 0.30000000;
    l_U215 = 0.30000000;
    l_U219 = 0.60000000;
    l_U220 = 0.80000000;
    l_U223 = 0.80000000;
    l_U227 = 0.80000000;
    l_U228 = 0.70000000;
    l_U229 = {5.91000000, 8.21000000, 44.03000000};
    l_U232 = 1.00000000;
    l_U233 = {6.60000000, 7.60000000, 44.10000000};
    l_U236 = 1.00000000;
    l_U237 = {6.90000000, 8.80000000, 44.30000000};
    l_U240 = 1.00000000;
    l_U241 = 500;
    l_U242 = 0;
    l_U243 = 0;
    l_U253 = 0.85000000;
    l_U254 = 1.00000000;
    l_U255 = 0.85000000;
    l_U256 = 0.85000000;
    l_U257 = 0.85000000;
    l_U258 = 0.80000000;
    l_U259 = 0.80000000;
    l_U260 = {13.50000000, 26.50000000, 40.10000000};
    l_U263 = 1.00000000;
    l_U264 = 0;
    l_U265 = {14.89120000, 27.00090000, 41.51830000};
    l_U268 = 1.00000000;
    l_U269 = 600;
    l_U275 = 1844478068;
    l_U276 = -1455579663;
    l_U277 = -1563045636;
    l_U278 = 1.00000000;
    l_U279 = 1.00000000;
    l_U284 = 1188691208;
    l_U285 = -895442446;
    l_U286 = 638412747;
    l_U287 = 1.00000000;
    l_U288 = 1.00000000;
    l_U291 = -1911968389;
    l_U292 = -1210755311;
    l_U293 = 1.00000000;
    l_U294 = {-9.50000000, 1.00000000, 41.00000000};
    l_U297 = 1.00000000;
    l_U298 = 700;
    l_U299 = 0;
    l_U300 = 0;
    l_U305 = -1318069598;
    l_U306 = -138770415;
    l_U307 = 1085512198;
    l_U308 = -2014992279;
    l_U309 = 1.00000000;
    l_U310 = 1.00000000;
    l_U311 = 1.00000000;
    l_U314 = 1379132568;
    l_U315 = -1478959939;
    l_U316 = 1.00000000;
    l_U317 = {3.60000000, 41.00000000, 39.60000000};
    l_U320 = 1.00000000;
    l_U321 = 0;
    l_U322 = 0;
    l_U329 = 1954663832;
    l_U330 = 936208156;
    l_U331 = -127310191;
    l_U332 = -433077730;
    l_U333 = -1880750327;
    l_U334 = 694618066;
    l_U335 = 1.00000000;
    l_U336 = 1.00000000;
    l_U337 = 1.00000000;
    l_U338 = 1.00000000;
    l_U339 = 1.00000000;
    l_U340 = {9.15000000, 31.12000000, 39.74000000};
    l_U343 = 1.00000000;
    l_U344 = {4.70000000, 29.60000000, 42.36000000};
    l_U347 = 1.00000000;
    l_U348 = 0;
    l_U349 = 0;
    l_U355 = -1901851883;
    l_U356 = 712645242;
    l_U357 = -1062877481;
    l_U358 = 1849270784;
    l_U359 = -237396474;
    l_U360 = 1.00000000;
    l_U361 = 1.00000000;
    l_U362 = 1.00000000;
    l_U363 = {24.84000000, 29.83000000, 42.75000000};
    l_U366 = 1.00000000;
    l_U367 = 0;
    l_U368 = 0;
    l_U411 = 0;
    l_U412 = 0;
    l_U413 = 0;
    l_U415 = {27.04000000, -51.90500000, 13.12000000};
    l_U418 = {0, 0, -30.00000000};
    l_U423 = 0;
    l_U424 = 1;
    l_U425 = 1000;
    l_U426 = 0;
    l_U427 = {6.21000000, 5.71000000, 28.65191000};
    l_U430 = 0.29000000;
    l_U431 = {5.50200000, 31.82300000, 30.00000000};
    l_U434 = 310.00000000;
    l_U435 = 0;
    l_U465 = {4.05000000, -3.98000000, -3.65000000};
    l_U468 = {0.00000000, -0.75000000, 0.00000000};
    l_U471 = 0;
    l_U472 = {26.50500000, -31.67300000, 13.05000000};
    l_U475 = 270;
    l_U476 = {27.97500000, -34.60300000, 13.05000000};
    l_U479 = 0;
    l_U480 = {28.80000000, -32.41000000, 13.05000000};
    l_U483 = {0, 0, 338};
    l_U486 = {28.83000000, -32.96000000, 14.01300000};
    l_U489 = {-1.57000000, 0, 0.40160000};
    l_U492 = {0.17500000, 0.10000000, -0.17500000};
    l_U495 = {1.27000000, 0.90000000, 0.00000000};
    l_U498 = {28.55000000, -31.21000000, 13.05500000};
    l_U501 = {0.00000000, 0.00000000, 0.00000000};
    l_U504 = {25.86000000, -31.75000000, 13.05000000};
    l_U507 = {1.57000000, 0.00000000, 90.00000000};
    l_U510 = {27.28000000, -31.36000000, 13.06000000};
    l_U513 = {0.00000000, 0.00000000, 0.00000000};
    l_U572 = 25;
    l_U573 = 0;
    l_U574 = {-3.38000000, -25.75300000, 13.05300000};
    l_U577 = 25.00000000;
    l_U578 = 0;
    l_U593 = {17.69246000, 60.92407000, -3.20011100};
    l_U596 = 99.30113000;
    l_U597 = 0;
    l_U598 = 0;
    l_U599 = 0;
    l_U600 = 0;
    l_U601 = 0;
    l_U602 = 0;
    l_U609 = 0;
    l_U610 = 0;
    l_U611 = 0;
    l_U612 = {26.50000000, 43.20000000, 28.65200000};
    l_U615 = 121.00000000;
    l_U617 = {25.66000000, 42.75100000, 29.97200000};
    l_U620 = {0.00000000, -5.00000000, -60.00000000};
    l_U623 = {-1.25000000, -0.03000000, 0.22000000};
    l_U649 = 900;
    l_U650 = 0;
    l_U651 = 0;
    l_U652 = 0;
    l_U653 = 0;
    l_U654 = 0;
    l_U656 = 0;
    l_U657 = 0;
    l_U658 = 0;
    l_U659 = 0;
    l_U660 = 0;
    l_U662 = 0;
    l_U663 = 0;
    l_U664 = 0;
    l_U665 = 0;
    l_U666 = 0;
    l_U667 = 0;
    l_U668 = 0;
    l_U669 = 0;
    l_U670 = 0;
    l_U671 = 0;
    l_U672 = 0;
    l_U673 = 0;
    l_U674 = 0;
    l_U675 = 0;
    l_U676 = 0;
    l_U677 = 0;
    l_U678 = 0;
    l_U679 = 0;
    l_U680 = 0;
    l_U681 = {11.45500000, 27.95700000, 22.85500000};
    l_U684 = 0;
    l_U685 = 0;
    l_U686 = 0;
    l_U687 = 0;
    l_U688 = {2.15000000, -5.75000000, 14.45000000};
    l_U691 = {0.00000000, 0.00000000, 100.00000000};
    l_U694 = {1.13400000, -6.32400000, 13.05295000};
    l_U697 = 300.00000000;
    l_U817 = {-0.72531400, -9.08833800, 15.48838000};
    l_U820 = {-19.12753000, 0.00002400, -28.12246000};
    uVar2 =  /* MAL_GIVEPEDWEAPON */ sub_2438(  /* PLAYER_PED_ID */ sub_2334(), -862236369, 25000, 0, 0 );
     /* MAL_TOGGLEWEAPONATTACHMENTTOWEAPON */ sub_2740( ref uVar2, 8, 1 );
     /* P_SETUP_SEQUENCE_WIDGET */ sub_2878();
     /* P_FADE_IN_AND_WAIT */ sub_6405( 500 );
    while (true)
    {
         /* HANDLE_HOTEL_VIGNETTES */ sub_6565();
        WAIT( 0 );
    }
    return;
}

/* PLAYER_PED_ID */ int sub_2334()
{
    if (DOES_MAIN_PLAYER_EXIST())
    {
        return GET_PLAYER_PED(  /* PLAYER_ID */ sub_2372() );
    }
    return 0;
}

/* PLAYER_ID */ void sub_2372()
{
    return GET_PLAYER_ID();
}

/* MAL_GIVEPEDWEAPON */ void sub_2438(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, boolean bParam4)
{
    unknown Result;

    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, uParam2, uParam3 );
        if (bParam4)
        {
            Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
                 /* MAL_WRITESCRIPTLOG */ sub_2606( "MAL_GivePedWeapon waiting for weapon to exist" );
            }
        }
        return Result;
    }
    return nil;
}

/* MAL_WRITESCRIPTLOG */ void sub_2606(unknown uParam0)
{
    unknown uVar3;

    uVar3 = GET_REAL_GAME_TIMER();
    DISPLAYF( "[{0}][{1}]{3} {2} {3}", 4, 513, uVar3, 1537, "MSWW", 1537, uParam0, 1537, "###" );
    return;
}

/* MAL_TOGGLEWEAPONATTACHMENTTOWEAPON */ void sub_2740(unknown uParam0, unknown uParam1, boolean bParam2)
{
    if (GET_DOES_WEAPON_EXIST( (uParam0^) ))
    {
        if (bParam2)
        {
            ENABLE_WEAPON_ATTACHMENT( (uParam0^), uParam1, bParam2 );
            TOGGLE_WEAPON_ATTACHMENT( (uParam0^), uParam1, bParam2 );
        }
        else
        {
            TOGGLE_WEAPON_ATTACHMENT( (uParam0^), uParam1, bParam2 );
            ENABLE_WEAPON_ATTACHMENT( (uParam0^), uParam1, bParam2 );
        }
    }
    return;
}

/* P_SETUP_SEQUENCE_WIDGET */ void sub_2878()
{
     /* WRITESCRIPTLOG */ sub_2946( "SP", "P_SETUP_SEQUENCE_WIDGET", 0 );
    START_WIDGET_GROUP( "Interactive Sequence Test Helper" );
    START_WIDGET_GROUP( "S_STAD_SINK" );
    ADD_WIDGET_STRING( "Max washes his face in the sink, the dirty boy." );
    ADD_WIDGET_BOOL( "Teleport player to the Sequence", ref l_U411 );
    ADD_WIDGET_BOOL( "Start Sequence", ref l_U412 );
    ADD_WIDGET_BOOL( "Kill Sequence", ref l_U413 );
    START_WIDGET_GROUP( "Player" );
    ADD_WIDGET_FLOAT_SLIDER( "Player Pos X", ref l_U593._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Player Pos Y", ref l_U593._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Player Pos Z", ref l_U593._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Player Heading", ref l_U596, -5000.00000000, 5000.00000000, 0.01000000 );
    STOP_WIDGET_GROUP();
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "Elevator Door Widget" );
    ADD_WIDGET_BOOL( "Make Elevator Door", ref l_U421 );
    ADD_WIDGET_BOOL( "Kill Elevator DOor", ref l_U422 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( ref l_U415, "Elevator Position", 1036831949 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( ref l_U418, "Elevator Rotation", 1036831949 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "MID_02_blendout" );
     /* P_ADD_ISEQUENCE_WIDGETS */ sub_3863( ref l_U369, 15.59276000, -1.37111800, -3.90012500, 90.00000000, 0 );
    ADD_WIDGET_INT_SLIDER( "Frames to end early", ref l_U424, 0, 5000, 1 );
    ADD_WIDGET_INT_SLIDER( "Time to interp", ref l_U425, 0, 5000, 1 );
     /* P_ADD_WIDGET_PED_POSITION */ sub_4229( "CP1 Start Position", ref g_U1228, ref g_U1231 );
     /* P_ADD_WIDGET_PED_POSITION */ sub_4229( "CP2 Start Position", ref g_U1232, ref g_U1235 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "MID_07_blendout" );
     /* P_ADD_ISEQUENCE_WIDGETS */ sub_3863( ref l_U376, 6.00659500, 29.71787000, 28.65184000, 90.00000000, 0 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( ref l_U431, "Animated cam pos", 1036831949 );
    ADD_WIDGET_FLOAT_SLIDER( "Animated cam rotation", ref l_U434, 0, 360.00000000, 0.01000000 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( ref l_U427, "Player blendout position vector", 1036831949 );
    ADD_WIDGET_FLOAT_SLIDER( "Player blendout position heading", ref l_U430, 0, 360.00000000, 0.01000000 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "MID_08_blendout" );
     /* P_ADD_ISEQUENCE_WIDGETS */ sub_3863( ref l_U383, 6.00659500, 29.71787000, 28.65184000, 90.00000000, 0 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "VIG 01 - 2nd Floor Cleaners" );
     /* P_ADD_ISEQUENCE_WIDGETS */ sub_3863( ref l_U390, g_U1020[2], g_U1123[2], 0 );
     /* P_ADD_WIDGET_PED_POSITION */ sub_4229( "CP1 Start Position", ref l_U472, ref l_U475 );
     /* P_ADD_WIDGET_PED_POSITION */ sub_4229( "CP2 Start Position", ref l_U476, ref l_U479 );
    START_WIDGET_GROUP( "Gurney and Gun" );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( ref l_U480, "Gurney Position", 1036831949 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( ref l_U483, "Gurney Rotation", 1036831949 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( ref l_U486, "Gun Position", 1036831949 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( ref l_U489, "Gun Rotation", 1036831949 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( ref l_U492, "Gun Offset", 1036831949 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( ref l_U495, "Gun Offset Rotation", 1036831949 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "Pickup Props" );
    ADD_WIDGET_INT_SLIDER( "Set objects dynamic delay", ref l_U572, 0, 2000, 10 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( ref l_U498, "CP1 Prop1 Position", 1036831949 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( ref l_U501, "CP1 Prop1 Rotation", 1036831949 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( ref l_U504, "CP1 Prop2 Position", 1036831949 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( ref l_U507, "CP1 Prop2 Rotation", 1036831949 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( ref l_U510, "CP1 Prop3 Position", 1036831949 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( ref l_U513, "CP1 Prop3 Rotation", 1036831949 );
    STOP_WIDGET_GROUP();
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "VIG 02 - 2nd Floor Runner" );
     /* P_ADD_ISEQUENCE_WIDGETS */ sub_3863( ref l_U397, g_U1020[2], g_U1123[2], 0 );
     /* P_ADD_WIDGET_PED_POSITION */ sub_4229( "Runner Start Position", ref l_U574, ref l_U577 );
    ADD_WIDGET_BOOL( "Runner Flees", ref l_U578 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "RAYFIRE - Rooftop Explosion 2" );
     /* P_ADD_ISEQUENCE_WIDGETS */ sub_3863( ref l_U404, -6.14045000, 13.52391000, 38.25113000, 297, 0 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "LOCK SMASH" );
    ADD_WIDGET_STRING( "Max smashes the lock at the 5th Floor - Construction" );
    ADD_WIDGET_BOOL( "Teleport player to the Sequence", ref l_U609 );
    ADD_WIDGET_BOOL( "Start Sequence", ref l_U610 );
    ADD_WIDGET_BOOL( "Stop Sequence", ref l_U611 );
    ADD_WIDGET_INT_SLIDER( "Break the lock delay", ref l_U649, 0, 999999, 100 );
    START_WIDGET_GROUP( "Player" );
    ADD_WIDGET_FLOAT_SLIDER( "Pos X", ref l_U612._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Pos Y", ref l_U612._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Pos Z", ref l_U612._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Heading", ref l_U615, -360.00000000, 360.00000000, 0.10000000 );
    STOP_WIDGET_GROUP();
    START_WIDGET_GROUP( "Lock" );
    ADD_WIDGET_FLOAT_SLIDER( "Pos X", ref l_U617._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Pos Y", ref l_U617._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Pos Z", ref l_U617._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Rot X", ref l_U620._fU0, -360.00000000, 360.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Rot Y", ref l_U620._fU4, -360.00000000, 360.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Rot Z", ref l_U620._fU8, -360.00000000, 360.00000000, 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Attach Offset Pos X", ref l_U623._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Attach Offset Pos Y", ref l_U623._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "Attach Offset Pos Z", ref l_U623._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
    STOP_WIDGET_GROUP();
    STOP_WIDGET_GROUP();
    STOP_WIDGET_GROUP();
    return;
}

/* WRITESCRIPTLOG */ void sub_2946(unknown uParam0, unknown uParam1, string sParam2)
{
    unknown uVar5;

    if (IS_STRING_NULL( sParam2 ))
    {
        sParam2 = "###";
    }
    uVar5 = GET_REAL_GAME_TIMER();
    DISPLAYF( "[{0}][{1}]{3} {2} {3}", 4, 513, uVar5, 1537, uParam0, 1537, uParam1, 1537, sParam2 );
    return;
}

/* P_ADD_WIDGET_VECTOR_SLIDER */ void sub_3627(int iParam0, unknown uParam1, unknown uParam2)
{
    START_WIDGET_GROUP( uParam1 );
    ADD_WIDGET_FLOAT_SLIDER( "x", iParam0 + 0, 60536, 5000, uParam2 );
    ADD_WIDGET_FLOAT_SLIDER( "y", iParam0 + 4, 60536, 5000, uParam2 );
    ADD_WIDGET_FLOAT_SLIDER( "z", iParam0 + 8, 60536, 5000, uParam2 );
    STOP_WIDGET_GROUP();
    return;
}

/* P_ADD_ISEQUENCE_WIDGETS */ void sub_3863(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, boolean bParam5)
{
    iParam0->_fU0 = 0;
    iParam0->_fU4 = 0;
    iParam0->_fU8 = 0;
    iParam0->_fU12 = {uParam1};
    iParam0->_fU24 = uParam4;
    ADD_WIDGET_BOOL( "Teleport player", iParam0 + 0 );
    ADD_WIDGET_BOOL( "Start Sequence", iParam0 + 4 );
    ADD_WIDGET_BOOL( "Kill Sequence", iParam0 + 8 );
    if (bParam5)
    {
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( iParam0 + 12, "Player Teleport Position", 1036831949 );
        ADD_WIDGET_FLOAT_SLIDER( "Player Teleport Heading", iParam0 + 24, 65176, 360, 0.50000000 );
    }
    return;
}

/* P_ADD_WIDGET_PED_POSITION */ void sub_4229(unknown uParam0, unknown uParam1, unknown uParam2)
{
    START_WIDGET_GROUP( uParam0 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( uParam1, "Ped Position", 1036831949 );
    ADD_WIDGET_FLOAT_SLIDER( "Ped Heading", uParam2, -360.00000000, 360.00000000, 1.00000000 );
    STOP_WIDGET_GROUP();
    return;
}

/* P_FADE_IN_AND_WAIT */ void sub_6405(unknown uParam0)
{
    if ((IS_SCREEN_FADING_IN() == 0) AND (IS_SCREEN_FADED_IN() == 0))
    {
        DO_SCREEN_FADE_IN( uParam0 );
        while (IS_SCREEN_FADED_IN() == 0)
        {
            DISPLAYF( "[SP]### Waiting for screen to fade in... ###", 0 );
            WAIT( 0 );
        }
    }
    return;
}

/* HANDLE_HOTEL_VIGNETTES */ void sub_6565()
{
     /* P_HANDLE_ELEVATOR_DOOR_WIDGET */ sub_6600();
     /* P_HANDLE_S_STAD_SINK */ sub_7670();
     /* P_IS_HANDLE_VIG_04_HOT */ sub_7711();
     /* P_IS_HANDLE_HEAVY_GUNNER */ sub_10194();
     /* P_IS_HANDLE_COLLAPSE_REACT_VIG */ sub_11543();
     /* P_IS_HANDLE_EXPL_REACT_VIG */ sub_12144();
     /* P_IS_HANDLE_S_HOTEL_FAIL */ sub_13125();
     /* P_IS_HANDLE_S_HOTEL_PIANO */ sub_14094();
     /* P_HANDLE_ISEQ_LOCK_SMASH */ sub_15811();
     /* HANDLE_MID_02_BLENDOUT */ sub_18277();
     /* HANDLE_MID_07_BLENDOUT */ sub_21129();
     /* HANDLE_MID_08_BLENDOUT */ sub_21783();
     /* P_IS_HANDLE_BOUT_1205_HOTEL */ sub_22301();
     /* HANDLE_HOTEL_VIG01 */ sub_23978();
     /* HANDLE_HOTEL_VIG02 */ sub_27062();
     /* HANDLE_HOTEL_EXPLOSION2 */ sub_27889();
     /* HANDLE_2ND_FLOOR_GATE */ sub_30017();
    return;
}

/* P_HANDLE_ELEVATOR_DOOR_WIDGET */ void sub_6600()
{
    if (l_U421)
    {
         /* P_SETUP_ELEVATOR_DOOR */ sub_6652();
        l_U421 = 0;
    }
    if (l_U422)
    {
         /* WRITESCRIPTLOG */ sub_2946( "SBA", "Removing Door...", "***" );
         /* CLEANOBJECT */ sub_7020( l_U414 );
         /* UNLOADMODEL */ sub_7506( -1591126843 );
        l_U422 = 0;
    }
    return;
}

/* P_SETUP_ELEVATOR_DOOR */ void sub_6652()
{
     /* WRITESCRIPTLOG */ sub_2946( "SBA", "Making Door...", "***" );
     /* LOADMODEL */ sub_6726( -1591126843, 1 );
     /* CLEANOBJECT */ sub_7020( l_U414 );
    l_U414 =  /* CREATEOBJECT */ sub_7094( -1591126843, l_U415, l_U418, 0, 0, 0 );
    ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U414, ref g_U1298 );
    FREEZE_OBJECT_POSITION( l_U414, 1 );
    return;
}

/* LOADMODEL */ void sub_6726(unknown uParam0, boolean bParam1)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
         /* WRITE_STRING */ sub_6843( "[SP]### ERROR! (LoadModel) Trying to load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    if (bParam1)
    {
        while ((HAS_MODEL_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* WRITE_STRING */ void sub_6843(unknown uParam0)
{
    PRINTSTRING( uParam0 );
    PRINTNL();
    return;
}

/* CLEANOBJECT */ void sub_7020(unknown uParam0)
{
    if (DOES_OBJECT_EXIST( uParam0 ))
    {
        DELETE_OBJECT( ref uParam0 );
    }
    return;
}

/* CREATEOBJECT */ void sub_7094(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_6726( uParam0, 1 );
    }
    Result = CREATE_OBJECT( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an object to exist: {!f1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

/* UNLOADMODEL */ void sub_7506(unknown uParam0)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 1)
    {
        SET_MODEL_AS_NO_LONGER_NEEDED( uParam0 );
    }
    else
    {
         /* WRITE_STRING */ sub_6843( "[SP]### ERROR! (UnloadModel) Trying to unload a model that isn't in the img! ###" );
    }
    return;
}

/* P_HANDLE_S_STAD_SINK */ void sub_7670()
{
    return;
}

/* P_IS_HANDLE_VIG_04_HOT */ void sub_7711()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;

    if (NOT l_U651)
    {
        START_WIDGET_GROUP( "VIG_04_HOT" );
        ADD_WIDGET_BOOL( "Teleport Player to VIG_04_HOT", ref l_U652 );
        ADD_WIDGET_BOOL( "Start VIG_04_HOT", ref l_U653 );
        ADD_WIDGET_BOOL( "Kill VIG_04_HOT", ref l_U654 );
        STOP_WIDGET_GROUP();
        l_U651 = 1;
    }
    if (l_U652)
    {
         /* TELEPORTPED */ sub_7933(  /* PLAYER_PED_ID */ sub_2334(), -8.73000000, 12.58000000, 38.25000000, -90.00000000 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0.00000000, 1065353216, 0 );
        l_U652 = 0;
    }
    if (l_U653)
    {
         /* TERMINATEINTERACTIVESEQUENCE */ sub_8073( "S_HOTEL_VIG04", 1 );
         /* CLEANPED */ sub_8267( l_U655 );
         /* LOADINTERACTIVESEQUENCE */ sub_8369( "S_HOTEL_VIG04", 1 );
         /* P_CREATEPEDSTRUCTWITHNAME */ sub_8585( ref uVar2, 3.40000000, 8.51000000, 42.75000000, 90.00000000, 1003151468, 7, 3, 2, 0, 0 );
        l_U655 =  /* CREATEPED */ sub_8721( ref uVar2 );
         /* F_GIVEPEDWEAPON */ sub_9449( l_U655, 319712764, 25000, 0, 0 );
        if (NOT (IS_PED_DEAD( l_U655 )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U655, 1 );
        }
        I_SEQUENCE_REGISTER_ENTITY( "S_HOTEL_VIG04", "GMED", l_U655, 0 );
         /* TELEPORTPED */ sub_7933( l_U655, uVar2._fU0, uVar2._fU12 );
        I_SEQUENCE_START( "S_HOTEL_VIG04" );
        l_U653 = 0;
    }
    if (l_U654)
    {
         /* TERMINATEINTERACTIVESEQUENCE */ sub_8073( "S_HOTEL_VIG04", 1 );
         /* CLEANPED */ sub_8267( l_U655 );
        l_U654 = 0;
    }
    if (NOT (IS_PED_DEAD( l_U655 )))
    {
        if ((PED_GET_ACTION_INTENTION_STATUS( l_U655, 47 )) == 3)
        {
             /* WRITESCRIPTLOG */ sub_2946( "GA", "Killing S_HOTEL_VIG04 exploded ped.", 0 );
             /* P_KILL_PED */ sub_10108( l_U655 );
        }
    }
    return;
}

/* TELEPORTPED */ void sub_7933(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_COORDS( uParam0, uParam1, 1 );
        SET_PED_HEADING( uParam0, uParam4 );
    }
    return;
}

/* TERMINATEINTERACTIVESEQUENCE */ void sub_8073(unknown uParam0, int iParam1)
{
    if ((I_SEQUENCE_IS_LOADED( uParam0 )) == 1)
    {
        I_SEQUENCE_TERMINATE( uParam0 );
    }
    if (iParam1 == 1)
    {
        while ((I_SEQUENCE_IS_LOADED( uParam0 )) == 1)
        {
            DISPLAYF( "[SP]### Waiting for interactive sequence to terminate: {} ###", 1, 1537, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* CLEANPED */ void sub_8267(unknown uParam0)
{
    if (DOES_PED_EXIST( uParam0 ))
    {
        if ((NOT (IS_PED_DEAD( uParam0 ))) || (IS_PED_DEAD( uParam0 )))
        {
            REMOVE_ALL_PED_WEAPONS( uParam0 );
            DELETE_PED( ref uParam0 );
        }
    }
    return;
}

/* LOADINTERACTIVESEQUENCE */ void sub_8369(unknown uParam0, int iParam1)
{
    if ((I_SEQUENCE_IS_LOADED( uParam0 )) == 0)
    {
        I_SEQUENCE_LOAD_DATA( uParam0 );
        if (iParam1 == 1)
        {
            while ((I_SEQUENCE_QUERY_STATE( uParam0, 1 )) == 1)
            {
                DISPLAYF( "[SP]### Waiting for interactive sequence to be loaded: {} ###", 1, 1537, uParam0 );
                WAIT( 0 );
            }
        }
    }
    return;
}

/* P_CREATEPEDSTRUCTWITHNAME */ void sub_8585(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU20 = uParam5;
    iParam0->_fU12 = uParam4;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU16 = GET_SCENE_PED_MODEL( uParam5 );
    iParam0->_fU48 = uParam10;
    return;
}

/* CREATEPED */ void sub_8721(int iParam0)
{
    int iVar3;

    iVar3 = 0;
    if (iParam0->_fU16 == 0)
    {
        if (iParam0->_fU20 != 0)
        {
            iVar3 = GET_SCENE_PED_MODEL( iParam0->_fU20 );
        }
    }
    else
    {
        iVar3 = iParam0->_fU16;
    }
    if ((HAS_MODEL_LOADED( iVar3 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_6726( iParam0->_fU16, 1 );
    }
    iParam0->_fU40 = CREATE_PED( iParam0->_fU24, iParam0->_fU16, iParam0->_fU0, iParam0->_fU12, 1, iParam0->_fU48 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( iParam0->_fU40, 1 );
        SET_PED_COORDS_NO_OFFSET( iParam0->_fU40, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU40 ) );
        SET_PED_HEADING( iParam0->_fU40, iParam0->_fU12 );
        iParam0->_fU44 = 1;
    }
    else
    {
        SCRIPT_ASSERT( "Error: The ped you created doesn't exist or is dead!", 0 );
    }
     /* SETPEDDEFAULTSTATS */ sub_9212( iParam0->_fU40 );
     /* SETPEDDEFAULTTEMPLATE */ sub_9313( iParam0->_fU40 );
    return iParam0->_fU40;
}

/* SETPEDDEFAULTSTATS */ void sub_9212(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_HEALTH( uParam0, 200, 0 );
        SET_PED_ACCURACY( uParam0, -729479261 );
    }
    return;
}

/* SETPEDDEFAULTTEMPLATE */ void sub_9313(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_AI_TEMPLATE( uParam0, "AIT_DEFAULT_GENERIC" );
    }
    return;
}

/* F_GIVEPEDWEAPON */ void sub_9449(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's hand MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, uParam2, uParam3 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
                    DISPLAYF( "[SP]### Waiting for a weapon to exist: {} ###", 1, 513, uParam1 );
                }
            }
        }
    }
    else
    {
         /* WRITE_STRING */ sub_6843( "[SP]### (F_GivePedWeapon) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

/* P_KILL_PED */ void sub_10108(unknown uParam0)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        STOP_PED_SPEAKING( uParam0, 1 );
        SET_PED_HEALTH( uParam0, 0, 0 );
        SET_PED_CORPSE( uParam0, 0 );
    }
    return;
}

/* P_IS_HANDLE_HEAVY_GUNNER */ void sub_10194()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;

    if (NOT l_U656)
    {
        START_WIDGET_GROUP( "HEAVY GUNNER" );
        ADD_WIDGET_BOOL( "Teleport Player to HEAVY GUNNER", ref l_U657 );
        ADD_WIDGET_BOOL( "Start HEAVY GUNNER", ref l_U658 );
        ADD_WIDGET_BOOL( "Start Explosion", ref l_U659 );
        ADD_WIDGET_BOOL( "Kill HEAVY GUNNER", ref l_U660 );
        STOP_WIDGET_GROUP();
        l_U656 = 1;
    }
    if (l_U657)
    {
         /* TELEPORTPED */ sub_7933(  /* PLAYER_PED_ID */ sub_2334(), -8.73000000, 12.58000000, 38.25000000, -90.00000000 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0.00000000, 1065353216, 0 );
        l_U657 = 0;
    }
    if (l_U658)
    {
         /* TERMINATEINTERACTIVESEQUENCE */ sub_8073( "S_HOTEL_VIG04", 1 );
         /* CLEANPED */ sub_8267( l_U661 );
         /* LOADANIMDICT */ sub_10570( "LEVEL_S_OFFICE_CP_04", 0, 1 );
         /* LOADACTIONTREE */ sub_10772( "Level/S_OFFICE/S_OFF_HEAVYGUNNER", 1 );
         /* P_CREATEPEDSTRUCTWITHNAME */ sub_8585( ref uVar2, 3.40000000, 8.51000000, 42.75000000, 90.00000000, 1003151468, 7, 3, 2, 0, 0 );
        l_U661 =  /* CREATEPED */ sub_8721( ref uVar2 );
         /* F_GIVEPEDWEAPON */ sub_9449( l_U661, 319712764, 25000, 0, 0 );
        if (NOT (IS_PED_DEAD( l_U661 )))
        {
            PED_ACTION_TREE_PLAY_NODE( l_U661, "/Global/S_OFF_HEAVYGUNNER/HEAVYGUNNER" );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U661, 0 );
            SET_PED_IGNORE_LOS_CHECKS( l_U661, 1 );
            SET_PED_ALERTNESS( l_U661, 4 );
            SET_PED_COMBAT_MOVEMENT( l_U661, 0 );
            SET_PED_CONSUMING_AMMO( l_U661, 0 );
            SET_PED_CAN_PUT_PLAYER_INTO_LMS( l_U661, 0 );
            SET_PED_NO_RAGDOLL_TO_BULLET_UNLESS_DEAD( l_U661, 1 );
            SET_PED_AI_TEMPLATE( l_U661, "AIT_CP_HEAVY_GNR" );
            SET_PED_HEALTH( l_U661, 600, 0 );
            SET_PED_COMBAT_ATTRIBUTES( l_U661, 8192, 0 );
            SET_PED_FLAG_BLOCK_WOUNDED_MOVEMENT( l_U661, 1 );
        }
        l_U658 = 0;
    }
    if (l_U659)
    {
        if (NOT (IS_PED_DEAD( l_U661 )))
        {
             /* LOADINTERACTIVESEQUENCE */ sub_8369( "S_HOTEL_VIG04", 1 );
            I_SEQUENCE_REGISTER_ENTITY( "S_HOTEL_VIG04", "GMED", l_U661, 0 );
            I_SEQUENCE_START( "S_HOTEL_VIG04" );
        }
        l_U659 = 0;
    }
    if (l_U660)
    {
         /* TERMINATEINTERACTIVESEQUENCE */ sub_8073( "S_HOTEL_VIG04", 1 );
         /* CLEANPED */ sub_8267( l_U661 );
        l_U660 = 0;
    }
    if (NOT (IS_PED_DEAD( l_U661 )))
    {
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2334() )))
        {
            REGISTER_TARGET( l_U661,  /* PLAYER_PED_ID */ sub_2334() );
        }
        if ((PED_GET_ACTION_INTENTION_STATUS( l_U661, 47 )) == 3)
        {
             /* WRITESCRIPTLOG */ sub_2946( "GA", "Killing HEAVY GUNNER exploded ped.", 0 );
             /* P_KILL_PED */ sub_10108( l_U661 );
        }
    }
    return;
}

/* LOADANIMDICT */ void sub_10570(unknown uParam0, unknown uParam1, int iParam2)
{
    REQUEST_ANIM_DICT( uParam0, uParam1 );
    "[doubled result, dropped if not asigned]";
    if (iParam2 == 1)
    {
        while ((HAS_ANIM_DICT_LOADED( uParam0, uParam1 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an animation dictionary to be loaded: {} ###", 1, 1537, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* LOADACTIONTREE */ void sub_10772(unknown uParam0, int iParam1)
{
    ACTION_TREE_LOAD( uParam0 );
    if (iParam1 == 1)
    {
        while ((IS_ACTION_TREE_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an Action Tree to be loaded: {} ###", 1, 1537, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* P_IS_HANDLE_COLLAPSE_REACT_VIG */ void sub_11543()
{
    if (NOT l_U662)
    {
        START_WIDGET_GROUP( "COLLAPSE_REACT_VIG" );
        ADD_WIDGET_BOOL( "Teleport Player to COLLAPSE_REACT_VIG", ref l_U663 );
        ADD_WIDGET_BOOL( "Start COLLAPSE_REACT_VIG", ref l_U664 );
        ADD_WIDGET_BOOL( "Kill COLLAPSE_REACT_VIG", ref l_U665 );
        STOP_WIDGET_GROUP();
        l_U662 = 1;
    }
    if (l_U663)
    {
         /* TELEPORTPED */ sub_7933(  /* PLAYER_PED_ID */ sub_2334(), 16.33793000, 38.81776000, 39.73433000, 140 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0.00000000, 1065353216, 0 );
        l_U663 = 0;
    }
    if (l_U664)
    {
         /* TERMINATEINTERACTIVESEQUENCE */ sub_8073( "COLLAPSE_REACT_VIG", 1 );
         /* LOADINTERACTIVESEQUENCE */ sub_8369( "COLLAPSE_REACT_VIG", 1 );
        I_SEQUENCE_REGISTER_ENTITY( "COLLAPSE_REACT_VIG", "Max",  /* PLAYER_PED_ID */ sub_2334(), 0 );
        I_SEQUENCE_START( "COLLAPSE_REACT_VIG" );
        l_U666 = 1;
        l_U664 = 0;
    }
    if (l_U665)
    {
         /* TERMINATEINTERACTIVESEQUENCE */ sub_8073( "COLLAPSE_REACT_VIG", 1 );
        l_U666 = 0;
        l_U665 = 0;
    }
    if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2334() ))) AND (l_U666))
    {
        if ((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_2334(), 56 )) == 3)
        {
            START_PLAYER_SHOOTDODGE( 0.00000000, 1.00000000, 0.00000000, 1, 1, 0, 0 );
            PED_FINISH_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_2334(), 56 );
            l_U666 = 0;
        }
    }
    return;
}

/* P_IS_HANDLE_EXPL_REACT_VIG */ void sub_12144()
{
    if (NOT l_U667)
    {
        START_WIDGET_GROUP( "EXPL_REACT_VIG" );
        ADD_WIDGET_BOOL( "Teleport Player to EXPL_REACT_VIG", ref l_U668 );
        ADD_WIDGET_BOOL( "Knock on Back EXPL_REACT_VIG", ref l_U669 );
        ADD_WIDGET_BOOL( "Knock on Front EXPL_REACT_VIG", ref l_U670 );
        ADD_WIDGET_BOOL( "Kill EXPL_REACT_VIG", ref l_U671 );
        STOP_WIDGET_GROUP();
        l_U667 = 1;
    }
    if (l_U668)
    {
         /* TELEPORTPED */ sub_7933(  /* PLAYER_PED_ID */ sub_2334(), 16.33793000, 38.81776000, 39.73433000, 140 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0.00000000, 1065353216, 0 );
        l_U668 = 0;
    }
    if (l_U669)
    {
         /* LOADANIMDICT */ sub_10570( "LEVEL_S_HOTEL_CP_11", 0, 1 );
         /* LOADACTIONTREE */ sub_10772( "LEVEL/S_HOTEL/EXPL_REACT_VIG.act", 1 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2334() )))
        {
            PED_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_2334(), "/Global/EXPLOSION_REACT_VIG/KNOCKED_ON_BACK/WEAPON_DECISION" );
        }
        l_U672 = 1;
        l_U669 = 0;
    }
    if (l_U670)
    {
         /* LOADANIMDICT */ sub_10570( "LEVEL_S_HOTEL_CP_11", 0, 1 );
         /* LOADACTIONTREE */ sub_10772( "LEVEL/S_HOTEL/EXPL_REACT_VIG.act", 1 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2334() )))
        {
            PED_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_2334(), "/Global/EXPLOSION_REACT_VIG/KNOCKED_ON_FRONT/WEAPON_DECISION" );
        }
        l_U672 = 1;
        l_U670 = 0;
    }
    if (l_U671)
    {
         /* UNLOADANIMDICT */ sub_12885( "LEVEL_S_HOTEL_CP_11" );
         /* UNLOADACTIONTREE */ sub_12965( "LEVEL/S_HOTEL/EXPL_REACT_VIG.act" );
        l_U672 = 0;
        l_U671 = 0;
    }
    if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2334() ))) AND (l_U672))
    {
        if ((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_2334(), 56 )) == 3)
        {
            START_PLAYER_SHOOTDODGE( 0.00000000, 1.00000000, 0.00000000, 1, 1, 0, 0 );
            PED_FINISH_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_2334(), 56 );
            l_U672 = 0;
        }
    }
    return;
}

/* UNLOADANIMDICT */ void sub_12885(unknown uParam0)
{
    REMOVE_ANIM_DICT( uParam0, 0 );
    return;
}

/* UNLOADACTIONTREE */ void sub_12965(unknown uParam0)
{
    ACTION_TREE_UNLOAD( uParam0 );
    return;
}

/* P_IS_HANDLE_S_HOTEL_FAIL */ void sub_13125()
{
    if (NOT l_U673)
    {
        START_WIDGET_GROUP( "S_HOTEL_FAIL" );
        ADD_WIDGET_BOOL( "Teleport Player to S_HOTEL_FAIL", ref l_U674 );
        ADD_WIDGET_BOOL( "Start S_HOTEL_FAIL", ref l_U675 );
        ADD_WIDGET_BOOL( "Kill S_HOTEL_FAIL", ref l_U676 );
        STOP_WIDGET_GROUP();
        l_U673 = 1;
    }
    if (l_U674)
    {
         /* TELEPORTPED */ sub_7933(  /* PLAYER_PED_ID */ sub_2334(), 16.33793000, 38.81776000, 39.73433000, 140 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0.00000000, 1065353216, 0 );
        l_U674 = 0;
    }
    if (l_U675)
    {
         /* TERMINATEISEQ */ sub_13417( -473924166, 1 );
         /* LOADISEQ */ sub_13724( -473924166, 1 );
        ISEQ_REGISTER_ENTITY( -473924166, "Max",  /* PLAYER_PED_ID */ sub_2334(), 0 );
        ISEQ_START( -473924166 );
        l_U675 = 0;
    }
    if (l_U676)
    {
         /* TERMINATEISEQ */ sub_13417( -473924166, 1 );
        l_U676 = 0;
    }
    return;
}

/* TERMINATEISEQ */ void sub_13417(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to terminate does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 1)
    {
        ISEQ_TERMINATE( uParam0 );
    }
    ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
    if (iParam1 == 1)
    {
        while ((ISEQ_IS_LOADED( uParam0 )) == 1)
        {
            DISPLAYF( "[SP]### Waiting for interactive sequence to terminate: {0} {1} ###", 2, 1281, ref uVar4, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* LOADISEQ */ void sub_13724(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to load does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 0)
    {
        ISEQ_REQUEST( uParam0 );
        ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
        if (iParam1 == 1)
        {
            while ((ISEQ_QUERY_STATE( uParam0, 1 )) == 1)
            {
                DISPLAYF( "[SP]### Waiting for interactive sequence to be loaded: {0} {1} ###", 2, 1281, ref uVar4, 513, uParam0 );
                WAIT( 0 );
            }
        }
    }
    return;
}

/* P_IS_HANDLE_S_HOTEL_PIANO */ void sub_14094()
{
    if (NOT l_U677)
    {
        START_WIDGET_GROUP( "S_HOTEL_PIANO" );
        ADD_WIDGET_BOOL( "Teleport Player to S_HOTEL_PIANO", ref l_U678 );
        ADD_WIDGET_BOOL( "Start S_HOTEL_PIANO", ref l_U679 );
        ADD_WIDGET_BOOL( "Kill S_HOTEL_PIANO", ref l_U680 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( ref l_U681, "Player position", 1036831949 );
        STOP_WIDGET_GROUP();
        l_U677 = 1;
    }
    if (l_U678)
    {
        SET_INTERIOR_ACTIVE( GET_INTERIOR_FROM_NAME( "INT_BAR", 0 ), 1, 0 );
        LOAD_SCENE_FOR_ROOM_BY_KEY( GET_INTERIOR_FROM_NAME( "INT_BAR", 0 ), GET_HASH_KEY( "Room_Bar" ) );
         /* TELEPORTPED */ sub_7933(  /* PLAYER_PED_ID */ sub_2334(), 11.45500000, 27.95700000, 22.85500000, -38.55700000 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0.00000000, 1065353216, 0 );
        l_U678 = 0;
    }
    if (l_U679)
    {
         /* TERMINATEISEQ */ sub_13417( -905531099, 1 );
         /* NIS_PRE_SETUP */ sub_14504( 1, 0, 0, 1 );
         /* LOADISEQ */ sub_13724( -905531099, 1 );
         /* LOADSCRIPTSTREAM */ sub_14708( "S_HOTEL_PIANO", 0, 1 );
        ISEQ_REGISTER_ENTITY( -905531099, "Max",  /* PLAYER_PED_ID */ sub_2334(), 0 );
         /* TELEPORTPED */ sub_7933(  /* PLAYER_PED_ID */ sub_2334(), l_U681, -38.55700000 );
        ISEQ_START( -905531099 );
        CAMERA_PLAY_ANIMATED( "LEVEL_S_HOTEL_CP_04", "VIG_04_HOT_MAX_PLAY_PIANO_FWD_CAM", 0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0 );
        PLAY_SCRIPT_STREAM_FROM_COORD( 11.61000000, 28.60000000, 23.76000000, 0 );
         /* PED_CLEAR_ALL_ACTION_INTENTIONS */ sub_15057(  /* PLAYER_PED_ID */ sub_2334() );
        SET_PED_DEFAULT_AIM_AHEAD(  /* PLAYER_PED_ID */ sub_2334() );
        l_U679 = 0;
    }
    if ((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_2334(), 47 )) == 3)
    {
        PED_FINISH_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_2334(), 47 );
        SIMULATE_PLAYER_INPUT_GAIT(  /* PLAYER_ID */ sub_2372(), 2, 500, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( -1.01848400, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -6.90496900, 1065353216, 0 );
        CAMERA_ANIMATED_STOP( 0, 0 );
        WAIT( 1 );
        CLEAR_PED_DEFAULT_AIM(  /* PLAYER_PED_ID */ sub_2334() );
         /* NIS_POST_SETUP */ sub_15464( 1, 1 );
    }
    if (l_U680)
    {
         /* TERMINATEISEQ */ sub_13417( -905531099, 1 );
        STOP_SCRIPT_STREAM( 0 );
        l_U680 = 0;
    }
    return;
}

/* NIS_PRE_SETUP */ void sub_14504(int iParam0, int iParam1, unknown uParam2, boolean bParam3)
{
    END_POSTFX_BLENDER( 12, 0 );
    if (bParam3)
    {
        STOP_ALL_IMAGEFX( 0 );
    }
    SET_WIDESCREEN_BORDERS( 1, 500 );
    DISPLAY_HUD( 0 );
    if (iParam0 == 1)
    {
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2334() )))
        {
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_2372(), 0, uParam2 );
            SET_PED_DUCKING(  /* PLAYER_PED_ID */ sub_2334(), 0 );
            if (iParam1 == 1)
            {
                CLEAR_PED_TASKS_IMMEDIATELY(  /* PLAYER_PED_ID */ sub_2334() );
            }
            SET_PED_INVINCIBLE(  /* PLAYER_PED_ID */ sub_2334(), 1 );
        }
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    return;
}

/* LOADSCRIPTSTREAM */ void sub_14708(unknown uParam0, unknown uParam1, int iParam2)
{
    if (iParam2 == 0)
    {
        REQUEST_SCRIPT_STREAM( uParam0, uParam1 );
    }
    else
    {
        while ((LOAD_SCRIPT_STREAM( uParam0, uParam1 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for script stream to be loaded: {} : {} ###", 2, 1537, uParam0, 513, uParam1 );
            WAIT( 0 );
        }
    }
    return;
}

/* PED_CLEAR_ALL_ACTION_INTENTIONS */ void sub_15057(unknown uParam0)
{
    if ( /* IS_PED_VALID */ sub_15103( uParam0 ))
    {
        PED_FINISH_ACTION_INTENTION( uParam0, 47 );
        PED_FINISH_ACTION_INTENTION( uParam0, 48 );
        PED_FINISH_ACTION_INTENTION( uParam0, 49 );
        PED_FINISH_ACTION_INTENTION( uParam0, 50 );
        PED_FINISH_ACTION_INTENTION( uParam0, 51 );
        PED_FINISH_ACTION_INTENTION( uParam0, 52 );
        PED_FINISH_ACTION_INTENTION( uParam0, 53 );
        PED_FINISH_ACTION_INTENTION( uParam0, 54 );
        PED_FINISH_ACTION_INTENTION( uParam0, 55 );
        PED_FINISH_ACTION_INTENTION( uParam0, 56 );
        PED_FINISH_ACTION_INTENTION( uParam0, 57 );
        PED_FINISH_ACTION_INTENTION( uParam0, 58 );
    }
    return;
}

/* IS_PED_VALID */ int sub_15103(unknown uParam0)
{
    if ((NOT (IS_PED_DEAD( uParam0 ))) AND (DOES_PED_EXIST( uParam0 )))
    {
        return 1;
    }
    return 0;
}

/* NIS_POST_SETUP */ void sub_15464(boolean bParam0, boolean bParam1)
{
    SET_WIDESCREEN_BORDERS( 0, 500 );
    DISPLAY_HUD( 1 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2334() )))
    {
        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_2372(), 1, 0 );
        SET_PED_INVINCIBLE(  /* PLAYER_PED_ID */ sub_2334(), 0 );
        if (bParam0)
        {
             /* P_MAX_RELOAD_WEAPONS */ sub_15562();
        }
    }
    PULSE_CROSSHAIR( 1 );
    if (bParam1)
    {
        DESTROY_ALL_CAMS();
    }
    return;
}

/* P_MAX_RELOAD_WEAPONS */ void sub_15562()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2334() )) == 0)
    {
        uVar2 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_2334(), 0, 0 );
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_2334(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
        {
            uVar4 = GET_MAX_AMMO_IN_HAND_CLIP_MP(  /* PLAYER_PED_ID */ sub_2334(), 0 );
            SET_WEAPON_AMMO_IN_CLIP( uVar2, uVar4 );
        }
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            uVar5 = GET_MAX_AMMO_IN_HAND_CLIP_MP(  /* PLAYER_PED_ID */ sub_2334(), 1 );
            SET_WEAPON_AMMO_IN_CLIP( uVar3, uVar5 );
        }
    }
    return;
}

/* P_HANDLE_ISEQ_LOCK_SMASH */ void sub_15811()
{
    char[32] cVar2;
    char[32] cVar10;
    vector vVar18;
    float fVar21;
    unknown uVar22;
    unknown uVar23;

    StrCopy( ref cVar2, "INT_Armory", 32 );
    StrCopy( ref cVar10, "Room_Staircase", 32 );
    if (l_U609 == 1)
    {
         /* P_FADE_OUT_AND_WAIT */ sub_15900( 250 );
        vVar18 = {28.21462000, 44.56459000, 28.64965000};
        fVar21 = 141.89260000;
         /* TELEPORTPED */ sub_7933(  /* PLAYER_PED_ID */ sub_2334(), vVar18, fVar21 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2334() )) == 0)
        {
            SET_ROOM_FOR_PED_BY_NAME(  /* PLAYER_PED_ID */ sub_2334(), ref cVar10 );
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_2334(), 1 );
        }
        CLEAR_AREA( vVar18, 30.00000000, 1 );
        uVar22 = GET_HASH_KEY( ref cVar10 );
        uVar23 = GET_INTERIOR_FROM_NAME( ref cVar2, 0 );
        SET_INTERIOR_ACTIVE( uVar23, 1, 0 );
        LOAD_SCENE_FOR_ROOM_BY_KEY( uVar23, uVar22 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2334() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_2334(), 0 );
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( -13.25805000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -17.45652000, 1065353216, 0 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2334() )) == 0)
        {
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_2334(), 0 );
        }
         /* P_FADE_IN_AND_WAIT */ sub_6405( 250 );
        l_U609 = 0;
    }
    if (l_U610 == 1)
    {
        l_U650 = 0;
        ISEQ_UNREGISTER_ENTITY( -1248651628, "player" );
         /* TERMINATEISEQ */ sub_13417( -1248651628, 1 );
         /* LOADISEQ */ sub_13724( -1248651628, 1 );
         /* LOADMODEL */ sub_6726( 1731720022, 1 );
         /* P_CREATEDOORSTRUCT */ sub_16439( ref l_U626, g_U1476, 26.33442000, 41.70376000, 29.75548000, 0.00000000, 0.00000000, 0.00000000 );
         /* P_CREATEDOORSTRUCT */ sub_16439( ref l_U633, g_U1477, 24.97613000, 43.92115000, 29.75548000, 0.00000000, 0.00000000, 0.00000000 );
         /* P_SETDOORMINMAXLIMIT */ sub_16558( ref l_U626, 0, 90.00000000 );
         /* P_SETDOORMINMAXLIMIT */ sub_16558( ref l_U633, -90.00000000, 0 );
         /* P_CLOSEDOOR */ sub_16912( ref l_U626, 1 );
         /* P_CLOSEDOOR */ sub_16912( ref l_U633, 1 );
         /* P_SETDOORLOCKED */ sub_17066( ref l_U626, 1 );
         /* P_SETDOORLOCKED */ sub_17066( ref l_U633, 1 );
         /* CLEANOBJECT */ sub_7020( l_U616 );
        l_U616 =  /* CREATEOBJECT */ sub_7094( 1731720022, l_U617, l_U620, 0, 0, 0 );
        if ((DOES_OBJECT_EXIST( l_U616 )) == 1)
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U616, ref cVar10 );
            ATTACH_OBJECT_TO_OBJECT( l_U616, DOOR_FIND_CLOSEST( l_U626._fU0, l_U626._fU4 ), 0, l_U623, 0.00000000, 0.00000000, 0.00000000 );
            CAMERA_CAN_TARGET_OBJECT( 1, l_U616 );
        }
         /* TELEPORTPED */ sub_7933(  /* PLAYER_PED_ID */ sub_2334(), l_U612, l_U615 );
        ISEQ_REGISTER_ENTITY( -1248651628, "player",  /* PLAYER_PED_ID */ sub_2334(), 0 );
        ISEQ_START( -1248651628 );
         /* CREATETIMER */ sub_17436( ref l_U640, l_U649, 1, 0 );
         /* STARTTIMER */ sub_17586( ref l_U640 );
        l_U610 = 0;
    }
    if (l_U611 == 1)
    {
        l_U650 = 0;
        ISEQ_UNREGISTER_ENTITY( -1248651628, "player" );
         /* TERMINATEISEQ */ sub_13417( -1248651628, 1 );
         /* CLEANOBJECT */ sub_7020( l_U616 );
         /* UNLOADMODEL */ sub_7506( 1731720022 );
        CLEAR_AREA( l_U612, 30.00000000, 1 );
        l_U611 = 0;
    }
    if (l_U650 == 0)
    {
        if (( /* ISTIMERDONE */ sub_17832( ref l_U640 )) == 1)
        {
            if ((DOES_OBJECT_EXIST( l_U616 )) == 1)
            {
                DAMAGE_ALL_GROUPS_ON_OBJECT( l_U616 );
                DESTROY_FRAGMENT_OBJECT( l_U616 );
                 /* P_SETDOORLOCKED */ sub_17066( ref l_U626, 0 );
                 /* P_SETDOORLOCKED */ sub_17066( ref l_U633, 0 );
                 /* P_OPENDOOR */ sub_18088( ref l_U626, 1, 0, 0.25000000 );
                 /* P_OPENDOOR */ sub_18088( ref l_U633, 0, 0, 0.15000000 );
                l_U650 = 1;
            }
        }
    }
    return;
}

/* P_FADE_OUT_AND_WAIT */ void sub_15900(unknown uParam0)
{
    if ((IS_SCREEN_FADING_OUT() == 0) AND (IS_SCREEN_FADED_OUT() == 0))
    {
        DO_SCREEN_FADE_OUT( uParam0 );
        while (IS_SCREEN_FADED_OUT() == 0)
        {
            DISPLAYF( "[SP]### Waiting for screen to fade out... ###", 0 );
            WAIT( 0 );
        }
    }
    return;
}

/* P_CREATEDOORSTRUCT */ void sub_16439(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7)
{
    iParam0->_fU0 = uParam1;
    iParam0->_fU4 = {uParam2};
    iParam0->_fU16 = {uParam5};
    return;
}

/* P_SETDOORMINMAXLIMIT */ void sub_16558(int iParam0, float fParam1, float fParam2)
{
    if (( /* F_DOESDOOREXIST */ sub_16593( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_16677( iParam0 );
    }
    if (fParam1 > fParam2)
    {
        PRINTSTRING( "[SP]### Error: Door fMinLimit greater than fMaxLimit (default min:-81.0 max:81.0) ###" );
        PRINTNL();
    }
    else
    {
        DOOR_FIND_CLOSEST_SET_LIMIT_MIN( iParam0->_fU0, iParam0->_fU4, fParam1 );
        DOOR_FIND_CLOSEST_SET_LIMIT_MAX( iParam0->_fU0, iParam0->_fU4, fParam2 );
    }
    return;
}

/* F_DOESDOOREXIST */ int sub_16593(int iParam0)
{
    int iVar3;

    iVar3 = DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS( iParam0->_fU4, 1.00000000, iParam0->_fU0 );
    if (iVar3 == 1)
    {
        return 1;
    }
    return 0;
}

/* P_PRINTDOORNOTEXIST */ void sub_16677(unknown uParam0)
{
    (uParam0^) = {(uParam0^)};
    return;
}

/* P_CLOSEDOOR */ void sub_16912(int iParam0, int iParam1)
{
    if (( /* F_DOESDOOREXIST */ sub_16593( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_16677( iParam0 );
    }
    if (iParam1 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, 0.00000000 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, 0.00000000 );
    }
    else
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, 0.00000000 );
    }
    return;
}

/* P_SETDOORLOCKED */ void sub_17066(int iParam0, int iParam1)
{
    int iVar4;
    float fVar5;

    if (( /* F_DOESDOOREXIST */ sub_16593( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_16677( iParam0 );
    }
    if (iParam1 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, 0.00000000 );
    }
    else
    {
        iVar4 = 0;
        fVar5 = 0.00000000;
        GET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, ref iVar4, ref fVar5 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar5 );
    }
    return;
}

/* CREATETIMER */ void sub_17436(int iParam0, unknown uParam1, boolean bParam2, int iParam3)
{
    if (bParam2)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam3 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU12 = uParam1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = bParam2;
    iParam0->_fU32 = iParam3;
    iParam0->_fU8 = 0;
    return;
}

/* STARTTIMER */ void sub_17586(int iParam0)
{
    if (NOT iParam0->_fU20)
    {
        iParam0->_fU20 = 1;
        iParam0->_fU16 = 0;
        if (iParam0->_fU28)
        {
            iParam0->_fU0 = TIMERA();
        }
        else
        {
            iParam0->_fU0 = TIMERB();
        }
        if (iParam0->_fU32 == 1)
        {
            iParam0->_fU0 = TIMERSYSTEM();
        }
        iParam0->_fU4 = iParam0->_fU0;
    }
    return;
}

/* ISTIMERDONE */ int sub_17832(int iParam0)
{
    if (iParam0->_fU16)
    {
        return 0;
    }
    else if (NOT iParam0->_fU20)
    {
        return 0;
    }
    if (iParam0->_fU28)
    {
        iParam0->_fU4 = TIMERA();
    }
    else
    {
        iParam0->_fU4 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU4 = TIMERSYSTEM();
    }
    if ((iParam0->_fU4 - iParam0->_fU0) >= iParam0->_fU12)
    {
        iParam0->_fU16 = 1;
        iParam0->_fU20 = 0;
        return 1;
        break;
    }
    return 0;
}

/* P_OPENDOOR */ void sub_18088(int iParam0, int iParam1, int iParam2, unknown uParam3)
{
    float fVar6;

    if (( /* F_DOESDOOREXIST */ sub_16593( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_16677( iParam0 );
    }
    fVar6 = 0.00000000;
    if (iParam1 == 1)
    {
        fVar6 = uParam3;
    }
    else
    {
        fVar6 = -uParam3;
    }
    if (iParam2 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, fVar6 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar6 );
    }
    else
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar6 );
    }
    return;
}

/* HANDLE_MID_02_BLENDOUT */ void sub_18277()
{
    if (l_U369._fU0)
    {
         /* ISEQUENCE_TELEPORT_PLAYER */ sub_18328( ref l_U369 );
        if ( /* IS_MAX_VALID */ sub_18438())
        {
            SET_ROOM_FOR_PED_BY_NAME(  /* PLAYER_PED_ID */ sub_2334(), ref g_U1274 );
        }
    }
    if (l_U369._fU4)
    {
         /* UPDATE_MID_02_BLENDOUT */ sub_18613();
    }
    if (l_U369._fU8)
    {
         /* CLEAN_MID_02_BLENDOUT */ sub_20807();
         /* P_RESET_ISEQUENCE_WIDGET_BOOLS */ sub_21052( ref l_U369 );
    }
    return;
}

/* ISEQUENCE_TELEPORT_PLAYER */ void sub_18328(int iParam0)
{
     /* WRITESCRIPTLOG */ sub_2946( "RJM", "ISEQUENCE_TELEPORT_PLAYER - teleporting player...", 0 );
     /* P_FADE_OUT_AND_WAIT */ sub_15900( 1000 );
    if ( /* IS_MAX_VALID */ sub_18438())
    {
        FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_2334(), 1 );
    }
     /* TELEPORTPED */ sub_7933(  /* PLAYER_PED_ID */ sub_2334(), iParam0->_fU12, iParam0->_fU24 );
    if ( /* IS_MAX_VALID */ sub_18438())
    {
        FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_2334(), 0 );
    }
     /* P_FADE_IN_AND_WAIT */ sub_6405( 1000 );
    iParam0->_fU0 = 0;
    return;
}

/* IS_MAX_VALID */ int sub_18438()
{
    if ( /* IS_PED_VALID */ sub_15103(  /* PLAYER_PED_ID */ sub_2334() ))
    {
        return 1;
    }
    return 0;
}

/* UPDATE_MID_02_BLENDOUT */ void sub_18613()
{
    switch (l_U423)
    {
        case 0:
         /* NIS_PRE_SETUP */ sub_14504( 1, 0, 0, 1 );
         /* LOADISEQ */ sub_13724( 710130669, 1 );
         /* SETUP_MID_02_BLENDOUT */ sub_18704();
        ISEQ_START( 710130669 );
         /* WRITESCRIPTLOG */ sub_2946( "SBA", "UPDATE_MID_02_BLENDOUT - Setup done: Going to State eHIS_PLAYING", 0 );
        CAMERA_PLAY_ANIMATED( "LEVEL_S_HOTEL_CP_01", "B_OUT_MID_02_HOTEL_CAM", 0, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        l_U423 = 2;
        break;
        case 2:
        if ( /* F_IS_ACTION_INTENTION_STATUS_REACHED */ sub_20466( l_U463, 47, 3 ))
        {
             /* CLEANPLACEMENT */ sub_19989( l_U464 );
             /* F_GIVEPEDWEAPON */ sub_9449( l_U463, -1013714740, 25000, 0, 0 );
        }
        if ((CAMERA_ANIMATED_CURRENT_TIME() + l_U424) >= (CAMERA_ANIMATED_LENGTH( "LEVEL_S_HOTEL_CP_01", "B_OUT_MID_02_HOTEL_CAM" )))
        {
            CAMERA_ANIMATED_STOP( l_U425, 1 );
            l_U423 = 4;
        }
        break;
        case 4:
         /* NIS_POST_SETUP */ sub_15464( 1, 1 );
        break;
    }
    return;
}

/* SETUP_MID_02_BLENDOUT */ void sub_18704()
{
     /* WRITESCRIPTLOG */ sub_2946( "SBA", "SETUP_HOTEL_MID02BO", "***" );
     /* LOADMODEL */ sub_6726( 762297658, 1 );
     /* LOADWEAPON */ sub_18794( -612753081, 1 );
     /* LOADWEAPON */ sub_18794( -1013714740, 1 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_8585( ref l_U436, g_U1228, g_U1231, -242176005, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_8585( ref l_U450, g_U1232, g_U1235, -523735065, 7, 3, 2, 0, 0 );
     /* PED_INITIALIZE */ sub_19045( ref l_U436, ref l_U449, -612753081, "AIT_NORMAL", 0, 25000, 2, 0, 25000 );
     /* PED_SET_ROOM_BY_NAME */ sub_19734( ref l_U449, g_U1274 );
    ISEQ_REGISTER_ENTITY( 710130669, "cp1", l_U449, 0 );
     /* PED_INITIALIZE */ sub_19045( ref l_U450, ref l_U463, -1013714740, "AIT_NORMAL", 0, 25000, 2, 0, 25000 );
     /* PED_SET_ROOM_BY_NAME */ sub_19734( ref l_U463, g_U1274 );
    REMOVE_ALL_PED_WEAPONS( l_U463 );
    ISEQ_REGISTER_ENTITY( 710130669, "cp2", l_U463, 0 );
     /* P_CREATE_ENEMY_RIFLE */ sub_19916();
    return;
}

/* LOADWEAPON */ void sub_18794(unknown uParam0, boolean bParam1)
{
    REQUEST_WEAPON( uParam0 );
    if (bParam1)
    {
        while ((HAS_WEAPON_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting to load weapon: {!f1} : {1} ###", 2, 1, 199730165, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* PED_INITIALIZE */ void sub_19045(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, int iParam7, unknown uParam8)
{
    unknown uVar11;

     /* CLEANPED */ sub_8267( (uParam1^) );
    (uParam1^) =  /* CREATEPED */ sub_8721( uParam0 );
    if ( /* IS_PED_VALID */ sub_15103( (uParam1^) ))
    {
        uVar11 =  /* F_GIVEPEDWEAPON */ sub_9449( (uParam1^), uParam2, uParam5, 0, 1 );
        if (iParam7 != 0)
        {
             /* F_GIVEPEDWEAPONTOHOLSTER */ sub_19139( (uParam1^), iParam7, 0, uParam8, 0 );
        }
        SET_PED_AI_TEMPLATE( (uParam1^), uParam3 );
        SET_PED_ALERTNESS( (uParam1^), uParam6 );
        switch (uParam4)
        {
            case 0: break;
            case 1:
            ENABLE_WEAPON_ATTACHMENT( uVar11, 13, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uVar11, 13, 1 );
            break;
            case 2:
            ENABLE_WEAPON_ATTACHMENT( uVar11, 14, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uVar11, 14, 1 );
            break;
            case 3:
            ENABLE_WEAPON_ATTACHMENT( uVar11, 12, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uVar11, 12, 1 );
            break;
        }
    }
    return;
}

/* F_GIVEPEDWEAPONTOHOLSTER */ void sub_19139(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's holster MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HOLSTER( uParam0, uParam1, uParam3, uParam2 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
                    DISPLAYF( "[SP]### Waiting for a weapon to exist: {} ###", 1, 513, uParam1 );
                }
            }
        }
    }
    else
    {
         /* WRITE_STRING */ sub_6843( "[SP]### (F_GivePedWeaponToHolster) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

/* PED_SET_ROOM_BY_NAME */ void sub_19734(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    if ( /* IS_PED_VALID */ sub_15103( (uParam0^) ))
    {
        SET_ROOM_FOR_PED_BY_NAME( (uParam0^), ref uParam1 );
    }
    return;
}

/* P_CREATE_ENEMY_RIFLE */ void sub_19916()
{
     /* WRITESCRIPTLOG */ sub_2946( "SBA", "P_CREATE_ENEMY_RIFLE", 0 );
     /* CLEANPLACEMENT */ sub_19989( l_U464 );
    l_U464 =  /* CREATEPLACEMENT */ sub_20074( 1676080365, l_U465, l_U468, 0, 0, 0, 1119092736 );
    ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( l_U464, ref g_U1274 );
    return;
}

/* CLEANPLACEMENT */ void sub_19989(unknown uParam0)
{
    if ((DOES_PLACEMENT_EXIST( uParam0 )) == 1)
    {
        REMOVE_PLACEMENT( uParam0 );
    }
    return;
}

/* CREATEPLACEMENT */ void sub_20074(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, int iParam8, unknown uParam9, unknown uParam10)
{
    unknown Result;

    Result = CREATE_PLACEMENT_ROTATE( uParam0, uParam1, uParam4, uParam7, 0, uParam9, uParam10 );
    if (iParam8 == 1)
    {
        while ((DOES_PLACEMENT_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for a placement to exist: {} ###", 1, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return Result;
}

/* F_IS_ACTION_INTENTION_STATUS_REACHED */ int sub_20466(unknown uParam0, unknown uParam1, int iParam2)
{
    if ( /* IS_PED_VALID */ sub_15103( uParam0 ))
    {
        if ((PED_GET_ACTION_INTENTION_STATUS( uParam0, uParam1 )) == iParam2)
        {
            PED_FINISH_ACTION_INTENTION( uParam0, uParam1 );
             /* WRITESCRIPTLOG */ sub_2946( "SBA", "F_IS_ACTION_INTENTION_STATUS_REACHED: Returning TRUE", "***" );
            return 1;
        }
    }
    return 0;
}

/* CLEAN_MID_02_BLENDOUT */ void sub_20807()
{
     /* WRITESCRIPTLOG */ sub_2946( "SBA", "CLEAN_MID_02_BLENDOUT", "***" );
    ISEQ_UNREGISTER_ENTITY( 710130669, "cp1" );
    ISEQ_UNREGISTER_ENTITY( 710130669, "cp2" );
     /* TERMINATEISEQ */ sub_13417( 710130669, 1 );
     /* CLEANPED */ sub_8267( l_U449 );
     /* CLEANPED */ sub_8267( l_U463 );
     /* CLEANPLACEMENT */ sub_19989( l_U464 );
     /* UNLOADMODEL */ sub_7506( 762297658 );
     /* UNLOADWEAPON */ sub_20974( -612753081 );
     /* UNLOADWEAPON */ sub_20974( -1013714740 );
    l_U369._fU4 = 0;
    l_U423 = 0;
    return;
}

/* UNLOADWEAPON */ void sub_20974(unknown uParam0)
{
    SET_WEAPON_AS_NO_LONGER_NEEDED( uParam0 );
    return;
}

/* P_RESET_ISEQUENCE_WIDGET_BOOLS */ void sub_21052(int iParam0)
{
    iParam0->_fU0 = 0;
    iParam0->_fU4 = 0;
    iParam0->_fU8 = 0;
    return;
}

/* HANDLE_MID_07_BLENDOUT */ void sub_21129()
{
    if (l_U376._fU0)
    {
         /* ISEQUENCE_TELEPORT_PLAYER */ sub_18328( ref l_U376 );
    }
    if (l_U376._fU4)
    {
         /* UPDATE_MID_07_BLENDOUT */ sub_21197();
    }
    if (l_U376._fU8)
    {
         /* CLEAN_MID_07_BLENDOUT */ sub_21640();
         /* P_RESET_ISEQUENCE_WIDGET_BOOLS */ sub_21052( ref l_U376 );
    }
    return;
}

/* UPDATE_MID_07_BLENDOUT */ void sub_21197()
{
    switch (l_U426)
    {
        case 0:
         /* TELEPORTPED */ sub_7933(  /* PLAYER_PED_ID */ sub_2334(), l_U427, l_U430 );
         /* LOADISEQ */ sub_13724( 951295712, 1 );
         /* SETUP_MID_07_BLENDOUT */ sub_21292();
        ISEQ_START( 951295712 );
        CAMERA_PLAY_ANIMATED( "LEVEL_S_HOTEL_CP_06", "B_OUT_12_04_HOTEL_FWD_CAM", 1, l_U431, l_U434, 0, 0 );
         /* WRITESCRIPTLOG */ sub_2946( "bsw", "UPDATE_MID_07_BLENDOUT - Setup done: Going to State eHIS_PLAYING", 0 );
        l_U426 = 2;
        break;
        case 2:
        if ((ISEQ_QUERY_ENTITY_STATE( 951295712, "Max", 5 )) || (ISEQ_QUERY_ENTITY_STATE( 951295712, "Max", 6 )))
        {
            ;
        }
        break;
    }
    return;
}

/* SETUP_MID_07_BLENDOUT */ void sub_21292()
{
     /* WRITESCRIPTLOG */ sub_2946( "SBA", "SETUP_HOTEL_MID07BO", "***" );
    ISEQ_REGISTER_ENTITY( 951295712, "max",  /* PLAYER_PED_ID */ sub_2334(), 0 );
    return;
}

/* CLEAN_MID_07_BLENDOUT */ void sub_21640()
{
     /* WRITESCRIPTLOG */ sub_2946( "SBA", "CLEAN_MID_07_BLENDOUT", "***" );
    ISEQ_UNREGISTER_ENTITY( 951295712, "max" );
     /* TERMINATEISEQ */ sub_13417( 951295712, 1 );
    l_U376._fU4 = 0;
    l_U426 = 0;
    return;
}

/* HANDLE_MID_08_BLENDOUT */ void sub_21783()
{
    if (l_U383._fU0)
    {
         /* ISEQUENCE_TELEPORT_PLAYER */ sub_18328( ref l_U383 );
    }
    if (l_U383._fU4)
    {
         /* UPDATE_MID_08_BLENDOUT */ sub_21851();
    }
    if (l_U383._fU8)
    {
         /* CLEAN_MID_08_BLENDOUT */ sub_22158();
         /* P_RESET_ISEQUENCE_WIDGET_BOOLS */ sub_21052( ref l_U383 );
    }
    return;
}

/* UPDATE_MID_08_BLENDOUT */ void sub_21851()
{
    switch (l_U435)
    {
        case 0:
         /* LOADISEQ */ sub_13724( -780465587, 1 );
         /* SETUP_MID_08_BLENDOUT */ sub_21925();
        ISEQ_START( -780465587 );
         /* WRITESCRIPTLOG */ sub_2946( "SBA", "UPDATE_MID_08_BLENDOUT - Setup done: Going to State eHIS_PLAYING", 0 );
        l_U435 = 2;
        break;
        case 2: break;
    }
    return;
}

/* SETUP_MID_08_BLENDOUT */ void sub_21925()
{
     /* WRITESCRIPTLOG */ sub_2946( "SBA", "SETUP_HOTEL_MID08BO", "***" );
    ISEQ_REGISTER_ENTITY( -780465587, "max",  /* PLAYER_PED_ID */ sub_2334(), 0 );
    return;
}

/* CLEAN_MID_08_BLENDOUT */ void sub_22158()
{
     /* WRITESCRIPTLOG */ sub_2946( "SBA", "CLEAN_MID_08_BLENDOUT", "***" );
    ISEQ_UNREGISTER_ENTITY( -780465587, "max" );
     /* TERMINATEISEQ */ sub_13417( -780465587, 1 );
    l_U383._fU4 = 0;
    l_U435 = 0;
    return;
}

/* P_IS_HANDLE_BOUT_1205_HOTEL */ void sub_22301()
{
    unknown[5] uVar2;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    unknown uVar37;
    unknown uVar38;
    unknown uVar39;
    unknown uVar40;
    unknown uVar41;
    unknown uVar42;
    unknown uVar43;
    unknown uVar44;
    unknown uVar45;
    unknown uVar46;
    unknown uVar47;
    unknown uVar48;
    unknown uVar49;
    unknown uVar50;
    unknown uVar51;
    unknown uVar52;
    unknown uVar53;
    unknown uVar54;
    unknown uVar55;
    unknown uVar56;
    unknown uVar57;
    unknown uVar58;
    unknown uVar59;
    unknown uVar60;
    unknown uVar61;
    unknown uVar62;
    unknown uVar63;
    unknown uVar64;
    unknown uVar65;
    unknown uVar66;
    unknown uVar67;
    int I;

    if (NOT l_U597)
    {
        START_WIDGET_GROUP( "S_HOTEL_BLENDOUT_12_05" );
        ADD_WIDGET_BOOL( "Teleport Player to S_HOTEL_BLENDOUT_12_05", ref l_U598 );
        ADD_WIDGET_BOOL( "Start S_HOTEL_BLENDOUT_12_05", ref l_U599 );
        ADD_WIDGET_BOOL( "Kill S_HOTEL_BLENDOUT_12_05", ref l_U600 );
        ADD_WIDGET_BOOL( "Play with animated camera.", ref l_U601 );
        STOP_WIDGET_GROUP();
        l_U597 = 1;
    }
    if (l_U598)
    {
         /* TELEPORTPED */ sub_7933(  /* PLAYER_PED_ID */ sub_2334(), 14.96580000, 41.06865000, 39.72871000, 214.57790000 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0.00000000, 1065353216, 0 );
        l_U598 = 0;
    }
    if (l_U599)
    {
         /* TERMINATEISEQ */ sub_13417( 469460336, 1 );
         /* CLEANPEDARRAY */ sub_22687( ref l_U603 );
         /* LOADMODEL */ sub_6726( 928600325, 1 );
         /* LOADISEQ */ sub_13724( 469460336, 1 );
        array(ref uVar2, 5);
         /* P_CREATEPEDSTRUCTWITHNAME */ sub_8585( ref uVar2[0], 12.68000000, 30.93000000, 39.40000000, -10.00000000, 1820013202, 7, 3, 2, 0, 0 );
         /* P_CREATEPEDSTRUCTWITHNAME */ sub_8585( ref uVar2[1], 0.81000000, 32.24000000, 42.75000000, -55.00000000, -110444939, 7, 3, 2, 0, 0 );
         /* P_CREATEPEDSTRUCTWITHNAME */ sub_8585( ref uVar2[2], 1.87000000, 29.38000000, 42.80000000, -35.00000000, -263273570, 7, 3, 2, 0, 0 );
         /* P_CREATEPEDSTRUCTWITHNAME */ sub_8585( ref uVar2[3], -1.47000000, 28.19000000, 42.80000000, -60.00000000, -1091825948, 7, 3, 2, 0, 0 );
         /* P_CREATEPEDSTRUCTWITHNAME */ sub_8585( ref uVar2[4], 0.39000000, 22.90000000, 42.80000000, -30.00000000, 1311218474, 7, 3, 2, 0, 0 );
        for ( I = 0; I <= 4; I++ )
        {
            l_U603[I] =  /* CREATEPED */ sub_8721( ref uVar2[I] );
            SET_PED_ALERTNESS( l_U603[I], 3 );
            REGISTER_TARGET( l_U603[I],  /* PLAYER_PED_ID */ sub_2334() );
        }
         /* F_GIVEPEDWEAPON */ sub_9449( l_U603[0], -1013714740, 25000, 0, 0 );
         /* F_GIVEPEDWEAPON */ sub_9449( l_U603[1], -1013714740, 25000, 0, 0 );
         /* F_GIVEPEDWEAPON */ sub_9449( l_U603[2], -1013714740, 25000, 0, 0 );
         /* F_GIVEPEDWEAPON */ sub_9449( l_U603[3], -612753081, 25000, 0, 0 );
         /* F_GIVEPEDWEAPON */ sub_9449( l_U603[4], -612753081, 25000, 0, 0 );
        ISEQ_REGISTER_ENTITY( 469460336, "Max",  /* PLAYER_PED_ID */ sub_2334(), 0 );
         /* TELEPORTPED */ sub_7933(  /* PLAYER_PED_ID */ sub_2334(), 14.96580000, 41.06865000, 39.72871000, 214.57790000 );
        ISEQ_REGISTER_ENTITY( 469460336, "PLGE", l_U603[0], 0 );
        ISEQ_REGISTER_ENTITY( 469460336, "PLGE1", l_U603[1], 0 );
        ISEQ_REGISTER_ENTITY( 469460336, "PLGE2", l_U603[2], 0 );
        ISEQ_REGISTER_ENTITY( 469460336, "PLGE3", l_U603[3], 0 );
        ISEQ_REGISTER_ENTITY( 469460336, "PLGE4", l_U603[4], 0 );
        ISEQ_START( 469460336 );
        SNAP_PLAYER_TO_COVERPOINT(  /* PLAYER_ID */ sub_2372(), "GenCover", "C8D703C8_30D084ED_Corner1", 1 );
        SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_2334(), 0, 0 ), 0 );
        if (l_U601)
        {
            SET_GAMEPLAY_CAM_RELATIVE_HEADING( -65.00000000, 1065353216, 0 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( -4.00000000, 1065353216, 0 );
            CAMERA_PLAY_ANIMATED( "LEVEL_S_HOTEL_CP_09", "B_OUT_12_05_HOTEL_CAM", 0, 0, 0, 0, 0, 0, 0 );
            l_U602 = 1;
        }
        l_U599 = 0;
    }
    if (l_U600)
    {
         /* TERMINATEISEQ */ sub_13417( 469460336, 1 );
         /* CLEANPEDARRAY */ sub_22687( ref l_U603 );
         /* UNLOADMODEL */ sub_7506( 928600325 );
        SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_2334(), 0, 0 ), 1 );
        l_U600 = 0;
    }
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2334() )))
    {
        if (ISEQ_QUERY_ENTITY_STATE( 469460336, "Max", 3 ))
        {
            if ((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_2334(), 47 )) == 3)
            {
                 /* WRITESCRIPTLOG */ sub_2946( "GA", "Making Max's gun visible.", 0 );
                SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_2334(), 0, 0 ), 1 );
                PED_FINISH_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_2334(), 47 );
            }
        }
    }
    if (l_U602)
    {
        if (CAMERA_ANIMATED_CURRENT_TIME() >= ((CAMERA_ANIMATED_LENGTH( "LEVEL_S_HOTEL_CP_09", "B_OUT_12_05_HOTEL_CAM" )) - 1))
        {
            SET_GAMEPLAY_CAM_RELATIVE_HEADING( -65.00000000, 1065353216, 0 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( -4.00000000, 1065353216, 0 );
            CAMERA_FREEZE_FRAME( 1, 500, 0, 0 );
            l_U602 = 0;
        }
    }
    return;
}

/* CLEANPEDARRAY */ void sub_22687(unknown uParam0)
{
    int I;

    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
         /* CLEANPED */ sub_8267( (uParam0^)[I] );
    }
    return;
}

/* HANDLE_HOTEL_VIG01 */ void sub_23978()
{
    if (l_U390._fU0)
    {
         /* ISEQUENCE_TELEPORT_PLAYER */ sub_18328( ref l_U390 );
        if ( /* IS_MAX_VALID */ sub_18438())
        {
            SET_ROOM_FOR_PED_BY_NAME(  /* PLAYER_PED_ID */ sub_2334(), ref g_U1298 );
        }
    }
    if (l_U390._fU4)
    {
         /* UPDATE_HOTEL_VIG01 */ sub_24068();
    }
    if (l_U390._fU8)
    {
         /* CLEAN_HOTEL_VIG01 */ sub_26577();
         /* P_RESET_ISEQUENCE_WIDGET_BOOLS */ sub_21052( ref l_U390 );
    }
    return;
}

/* UPDATE_HOTEL_VIG01 */ void sub_24068()
{
    switch (l_U471)
    {
        case 0:
         /* LOADISEQ */ sub_13724( 1082349389, 1 );
         /* SETUP_HOTEL_VIG01 */ sub_24138();
        ISEQ_START( 1082349389 );
         /* WRITESCRIPTLOG */ sub_2946( "SBA", "UPDATE_HOTEL_VIG01 - Setup done: Going to State eHIS_PLAYING", 0 );
        l_U471 = 2;
        break;
        case 2:
        if ( /* IS_PED_VALID */ sub_15103( l_U529 ))
        {
            if ( /* F_IS_ACTION_INTENTION_STATUS_REACHED */ sub_20466( l_U529, 47, 1 ))
            {
                l_U546 =  /* CREATEOBJECT */ sub_7094( 1426433289, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_PROP_POSITION( l_U529, 13 ), "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PEP_PROP_ROTATION( l_U529, 13 ), 0, 0, 0 );
                ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U546, ref g_U1322 );
                CLEAR_PED_PROP( l_U529, 13 );
                l_U544 = l_U546;
                 /* CREATETIMER */ sub_17436( ref l_U554, l_U572, 1, 0 );
                 /* STARTTIMER */ sub_17586( ref l_U554 );
            }
            if ( /* F_IS_ACTION_INTENTION_STATUS_REACHED */ sub_20466( l_U529, 48, 3 ))
            {
                 /* CLEANOBJECT */ sub_7020( l_U548 );
                SET_PED_PROP_INDEX( l_U529, 13, 1, 0, 255 );
            }
            if ( /* F_IS_ACTION_INTENTION_STATUS_REACHED */ sub_20466( l_U529, 48, 1 ))
            {
                l_U548 =  /* CREATEOBJECT */ sub_7094( -1490597557, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_PROP_POSITION( l_U529, 13 ), "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PEP_PROP_ROTATION( l_U529, 13 ), 0, 0, 0 );
                ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U548, ref g_U1322 );
                CLEAR_PED_PROP( l_U529, 13 );
                l_U544 = l_U548;
                 /* CREATETIMER */ sub_17436( ref l_U554, l_U572, 1, 0 );
                 /* STARTTIMER */ sub_17586( ref l_U554 );
            }
            if ( /* F_IS_ACTION_INTENTION_STATUS_REACHED */ sub_20466( l_U529, 49, 3 ))
            {
                 /* CLEANOBJECT */ sub_7020( l_U549 );
                SET_PED_PROP_INDEX( l_U529, 13, 0, 0, 255 );
            }
            if ( /* F_IS_ACTION_INTENTION_STATUS_REACHED */ sub_20466( l_U529, 49, 1 ))
            {
                l_U549 =  /* CREATEOBJECT */ sub_7094( 1426433289, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_PROP_POSITION( l_U529, 13 ), "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PEP_PROP_ROTATION( l_U529, 13 ), 0, 0, 0 );
                ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U549, ref g_U1322 );
                CLEAR_PED_PROP( l_U529, 13 );
                l_U544 = l_U549;
                 /* CREATETIMER */ sub_17436( ref l_U554, l_U572, 1, 0 );
                 /* STARTTIMER */ sub_17586( ref l_U554 );
            }
            if ( /* F_IS_ACTION_INTENTION_STATUS_REACHED */ sub_20466( l_U529, 50, 3 ))
            {
                 /* CLEANOBJECT */ sub_7020( l_U550 );
                SET_PED_PROP_INDEX( l_U529, 13, 2, 0, 255 );
            }
            if ( /* F_IS_ACTION_INTENTION_STATUS_REACHED */ sub_20466( l_U529, 50, 1 ))
            {
                CLEAR_PED_PROP( l_U529, 13 );
                SET_PED_PROP_INDEX( l_U529, 12, 2, 0, 255 );
            }
            if ( /* F_IS_ACTION_INTENTION_STATUS_REACHED */ sub_20466( l_U529, 51, 1 ))
            {
                l_U550 =  /* CREATEOBJECT */ sub_7094( -1166741530, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_PROP_POSITION( l_U529, 12 ), "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PEP_PROP_ROTATION( l_U529, 12 ), 0, 0, 0 );
                ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U550, ref g_U1322 );
                CLEAR_PED_PROP( l_U529, 12 );
                l_U544 = l_U550;
                 /* CREATETIMER */ sub_17436( ref l_U554, l_U572, 1, 0 );
                 /* STARTTIMER */ sub_17586( ref l_U554 );
            }
            if ( /* F_IS_ACTION_INTENTION_STATUS_REACHED */ sub_20466( l_U529, 58, 3 ))
            {
                 /* P_SET_HAND_WEAPON_VISIBILITY */ sub_24389( l_U529, 0, 1 );
            }
        }
        if ( /* IS_PED_VALID */ sub_15103( l_U543 ))
        {
            if ( /* F_IS_ACTION_INTENTION_STATUS_REACHED */ sub_20466( l_U543, 47, 1 ))
            {
                l_U547 =  /* CREATEOBJECT */ sub_7094( -1490597557, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_PROP_POSITION( l_U543, 13 ), "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PEP_PROP_ROTATION( l_U543, 13 ), 0, 0, 0 );
                ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U547, ref g_U1322 );
                CLEAR_PED_PROP( l_U543, 13 );
                l_U545 = l_U547;
                 /* CREATETIMER */ sub_17436( ref l_U563, l_U572, 1, 0 );
                 /* STARTTIMER */ sub_17586( ref l_U563 );
            }
            if ( /* F_IS_ACTION_INTENTION_STATUS_REACHED */ sub_20466( l_U543, 57, 3 ))
            {
                l_U552 =  /* CREATEOBJECT */ sub_7094( 547887525, l_U486, l_U489, 0, 0, 0 );
                ATTACH_OBJECT_TO_PED( l_U552, l_U543, 25310, l_U492, l_U495, 0 );
                 /* CLEANPLACEMENT */ sub_19989( l_U553 );
            }
            if ( /* F_IS_ACTION_INTENTION_STATUS_REACHED */ sub_20466( l_U543, 58, 3 ))
            {
                 /* CLEANOBJECT */ sub_7020( l_U552 );
                 /* F_GIVEPEDWEAPON */ sub_9449( l_U543, -1013714740, 25000, 0, 0 );
            }
        }
        if ( /* ISTIMERDONE */ sub_17832( ref l_U554 ))
        {
             /* WRITESCRIPTLOG */ sub_2946( "SBA", "tmrCP1ShortDelay is DONE", "***" );
             /* P_SET_DROPPED_OBJECT_DYNAMIC */ sub_26327( ref l_U544 );
        }
        if ( /* ISTIMERDONE */ sub_17832( ref l_U563 ))
        {
             /* WRITESCRIPTLOG */ sub_2946( "SBA", "tmrCP2ShortDelay is DONE", "***" );
             /* P_SET_DROPPED_OBJECT_DYNAMIC */ sub_26327( ref l_U545 );
        }
        break;
    }
    return;
}

/* SETUP_HOTEL_VIG01 */ void sub_24138()
{
     /* WRITESCRIPTLOG */ sub_2946( "SBA", "SETUP_HOTEL_VIG01", "***" );
     /* LOADMODEL */ sub_6726( 762297658, 1 );
     /* LOADMODEL */ sub_6726( -754907209, 1 );
     /* LOADWEAPON */ sub_18794( -1013714740, 1 );
     /* LOADWEAPON */ sub_18794( -612753081, 1 );
     /* LOADMODEL */ sub_6726( 1426433289, 1 );
     /* LOADMODEL */ sub_6726( -1490597557, 1 );
     /* LOADMODEL */ sub_6726( -1166741530, 1 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_8585( ref l_U516, l_U472, l_U475, -242176005, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_8585( ref l_U530, l_U476, l_U479, -523735065, 7, 3, 2, 0, 0 );
     /* PED_INITIALIZE */ sub_19045( ref l_U516, ref l_U529, -612753081, "AIT_NORMAL", 2, 25000, 2, 0, 25000 );
     /* P_SET_HAND_WEAPON_VISIBILITY */ sub_24389( l_U529, 0, 0 );
     /* PED_SET_ROOM_BY_NAME */ sub_19734( ref l_U529, g_U1322 );
    ISEQ_REGISTER_ENTITY( 1082349389, "cp1", l_U529, 0 );
    SET_PED_PROP_INDEX( l_U529, 13, 0, 0, 255 );
     /* PED_INITIALIZE */ sub_19045( ref l_U530, ref l_U543, -1013714740, "AIT_NORMAL", 0, 25000, 2, 0, 25000 );
     /* PED_SET_ROOM_BY_NAME */ sub_19734( ref l_U543, g_U1322 );
    REMOVE_ALL_PED_WEAPONS( l_U543 );
    ISEQ_REGISTER_ENTITY( 1082349389, "cp2", l_U543, 0 );
    SET_PED_PROP_INDEX( l_U543, 13, 1, 0, 255 );
    if ( /* IS_MAX_VALID */ sub_18438())
    {
        SET_PED_PRIMARY_LOOKAT( l_U543,  /* PLAYER_PED_ID */ sub_2334() );
    }
    l_U551 =  /* CREATEOBJECT */ sub_7094( -754907209, l_U480, l_U483, 0, 0, 0 );
    ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U551, ref g_U1322 );
    l_U553 =  /* CREATEPLACEMENT */ sub_20074( 1676080365, l_U486, l_U489, 0, 0, 0, 1119092736 );
    ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( l_U553, ref g_U1322 );
    l_U548 =  /* CREATEOBJECT */ sub_7094( -1490597557, l_U498, l_U501, 0, 0, 0 );
    ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U548, ref g_U1322 );
    l_U549 =  /* CREATEOBJECT */ sub_7094( 1426433289, l_U504, l_U507, 0, 0, 0 );
    ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U549, ref g_U1322 );
    l_U550 =  /* CREATEOBJECT */ sub_7094( -1166741530, l_U510, l_U513, 0, 0, 0 );
    ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U550, ref g_U1322 );
    return;
}

/* P_SET_HAND_WEAPON_VISIBILITY */ void sub_24389(unknown uParam0, unknown uParam1, unknown uParam2)
{
     /* WRITESCRIPTLOG */ sub_2946( "SBA", "P_SET_HAND_WEAPON_VISIBILITY", 0 );
     /* WRITE_BOOL */ sub_24475( uParam2 );
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        if ((GET_WEAPON_FROM_HAND( uParam0, uParam1, 0 )) != 0)
        {
            SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND( uParam0, uParam1, 0 ), uParam2 );
        }
        else
        {
             /* WRITESCRIPTLOG */ sub_2946( "SBA", "P_SET_HAND_WEAPON_VISIBILITY: no weapon in specified hand!", "***" );
        }
    }
    return;
}

/* WRITE_BOOL */ void sub_24475(boolean bParam0)
{
    if (bParam0)
    {
        PRINTSTRING( "TRUE" );
    }
    else
    {
        PRINTSTRING( "FALSE" );
    }
    PRINTNL();
    return;
}

/* P_SET_DROPPED_OBJECT_DYNAMIC */ void sub_26327(unknown uParam0)
{
    if (DOES_OBJECT_EXIST( (uParam0^) ))
    {
         /* WRITESCRIPTLOG */ sub_2946( "SBA", "P_SET_DROPPED_OBJECT_DYNAMIC: Object exists - setting object dynamic", 0 );
        SET_OBJECT_DYNAMIC( (uParam0^), 1 );
    }
    return;
}

/* CLEAN_HOTEL_VIG01 */ void sub_26577()
{
     /* WRITESCRIPTLOG */ sub_2946( "SBA", "CLEAN_HOTEL_VIG01", "***" );
    ISEQ_UNREGISTER_ENTITY( 1082349389, "cp1" );
    ISEQ_UNREGISTER_ENTITY( 1082349389, "cp2" );
     /* TERMINATEISEQ */ sub_13417( 1082349389, 1 );
     /* CLEANPED */ sub_8267( l_U529 );
     /* CLEANPED */ sub_8267( l_U543 );
     /* CLEANOBJECT */ sub_7020( l_U551 );
     /* CLEANOBJECT */ sub_7020( l_U552 );
     /* CLEANPLACEMENT */ sub_19989( l_U553 );
     /* CLEANOBJECT */ sub_7020( l_U546 );
     /* CLEANOBJECT */ sub_7020( l_U547 );
     /* CLEANOBJECT */ sub_7020( l_U548 );
     /* CLEANOBJECT */ sub_7020( l_U549 );
     /* CLEANOBJECT */ sub_7020( l_U550 );
     /* UNLOADMODEL */ sub_7506( 762297658 );
     /* UNLOADMODEL */ sub_7506( -754907209 );
     /* UNLOADWEAPON */ sub_20974( -1013714740 );
     /* UNLOADWEAPON */ sub_20974( -612753081 );
     /* UNLOADMODEL */ sub_7506( 1426433289 );
     /* UNLOADMODEL */ sub_7506( -1490597557 );
     /* UNLOADMODEL */ sub_7506( -1166741530 );
    CLEAR_AREA_OF_OBJECTS( 28.00000000, -32.35000000, 13.05000000, 10 );
    l_U390._fU4 = 0;
    l_U471 = 0;
     /* RESETTIMER */ sub_26904( ref l_U554 );
     /* RESETTIMER */ sub_26904( ref l_U563 );
    return;
}

/* RESETTIMER */ void sub_26904(int iParam0)
{
    if (iParam0->_fU28)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    return;
}

/* HANDLE_HOTEL_VIG02 */ void sub_27062()
{
    if (l_U397._fU0)
    {
         /* ISEQUENCE_TELEPORT_PLAYER */ sub_18328( ref l_U397 );
        if ( /* IS_MAX_VALID */ sub_18438())
        {
            SET_ROOM_FOR_PED_BY_NAME(  /* PLAYER_PED_ID */ sub_2334(), ref g_U1298 );
        }
    }
    if (l_U397._fU4)
    {
         /* UPDATE_HOTEL_VIG02 */ sub_27152();
    }
    if (l_U397._fU8)
    {
         /* CLEAN_HOTEL_VIG02 */ sub_27715();
         /* P_RESET_ISEQUENCE_WIDGET_BOOLS */ sub_21052( ref l_U397 );
    }
    return;
}

/* UPDATE_HOTEL_VIG02 */ void sub_27152()
{
    switch (l_U573)
    {
        case 0:
         /* LOADISEQ */ sub_13724( 793883882, 1 );
         /* SETUP_PEDS_HOTEL_VIG02 */ sub_27230();
        ISEQ_START( 793883882 );
         /* WRITESCRIPTLOG */ sub_2946( "SBA", "UPDATE_HOTEL_VIG02 - Setup done: Going to State eHIS_PLAYING", 0 );
        l_U573 = 2;
        break;
        case 2:
        if (l_U578)
        {
            if ( /* IS_PED_VALID */ sub_15103( l_U592 ))
            {
                PED_SET_ACTION_INTENTION( l_U592, 47, 1000, 0, 0, 0 );
            }
            l_U578 = 0;
             /* WRITESCRIPTLOG */ sub_2946( "SBA", "UPDATE_HOTEL_VIG02 - Setup done: Going to State eHIS_FINISHED", 0 );
            l_U573 = 5;
        }
        break;
        case 5: break;
    }
    return;
}

/* SETUP_PEDS_HOTEL_VIG02 */ void sub_27230()
{
     /* WRITESCRIPTLOG */ sub_2946( "SBA", "SETUP_PEDS_HOTEL_VIG02", "***" );
     /* LOADMODEL */ sub_6726( 762297658, 1 );
     /* LOADWEAPON */ sub_18794( -612753081, 1 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_8585( ref l_U579, l_U574, l_U577, -1187100427, 7, 3, 2, 0, 0 );
     /* PED_INITIALIZE */ sub_19045( ref l_U579, ref l_U592, -612753081, "AIT_NORMAL", 0, 25000, 2, 0, 25000 );
     /* PED_SET_ROOM_BY_NAME */ sub_19734( ref l_U592, g_U1330 );
    ISEQ_REGISTER_ENTITY( 793883882, "runner", l_U592, 0 );
    return;
}

/* CLEAN_HOTEL_VIG02 */ void sub_27715()
{
     /* WRITESCRIPTLOG */ sub_2946( "SBA", "CLEAN_HOTEL_VIG02", "***" );
    ISEQ_UNREGISTER_ENTITY( 793883882, "runner" );
     /* TERMINATEISEQ */ sub_13417( 793883882, 1 );
     /* CLEANPED */ sub_8267( l_U592 );
     /* UNLOADMODEL */ sub_7506( 762297658 );
     /* UNLOADWEAPON */ sub_20974( -612753081 );
    l_U397._fU4 = 0;
    l_U578 = 0;
    l_U573 = 0;
    return;
}

/* HANDLE_HOTEL_EXPLOSION2 */ void sub_27889()
{
    if (l_U404._fU0)
    {
         /* ISEQUENCE_TELEPORT_PLAYER */ sub_18328( ref l_U404 );
    }
    if (l_U404._fU4)
    {
         /* LOADANIMDICT */ sub_10570( "ho_anim_stairs", 0, 1 );
         /* LOADMODEL */ sub_6726( -367636848, 1 );
         /* LOADMODEL */ sub_6726( -985729267, 1 );
         /* LOADMODEL */ sub_6726( -2018457515, 1 );
         /* LOADMODEL */ sub_6726( -529475815, 1 );
         /* LOADMODEL */ sub_6726( 1739372840, 1 );
         /* LOADMODEL */ sub_6726( -1991423309, 1 );
         /* LOADMODEL */ sub_6726( 1340369130, 1 );
         /* LOADMODEL */ sub_6726( 1629971762, 1 );
         /* CREATE_EXPLOSION2_OBJECTS */ sub_28070();
         /* START_EXPLOSION2 */ sub_29057();
        l_U404._fU4 = 0;
    }
    if (l_U404._fU8)
    {
         /* CLEAN_ALL_ROOFTOP_EXPLOSION2_OBJECTS */ sub_28108();
         /* P_RESET_ISEQUENCE_WIDGET_BOOLS */ sub_21052( ref l_U404 );
    }
    return;
}

/* CREATE_EXPLOSION2_OBJECTS */ void sub_28070()
{
     /* CLEAN_ALL_ROOFTOP_EXPLOSION2_OBJECTS */ sub_28108();
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_28268( ref l_U216, -367636848, 3.50000000, 9, 43.50000000, 1, 0 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_28268( ref l_U224, -985729267, 6, 9, 43.50000000, 1, 0 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_28268( ref l_U221, -2018457515, -1.80000000, 6.50000000, 41.50000000, 1, 0 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_28268( ref l_U218, -529475815, 3.20000000, 8.50000000, 43.50000000, 1, 0 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_28268( ref l_U217, 1739372840, 3.50000000, 9, 43.50000000, 1, 0 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_28268( ref l_U226, -1991423309, 6, 9, 43.50000000, 1, 0 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_28268( ref l_U225, 1340369130, 6, 9, 43.50000000, 1, 0 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_28268( ref l_U222, 1629971762, -2, 6.50000000, 41.50000000, 1, 0 );
    SET_OBJECT_VISIBLE( l_U218, 0 );
    SET_OBJECT_VISIBLE( l_U217, 0 );
    SET_OBJECT_VISIBLE( l_U226, 0 );
    SET_OBJECT_VISIBLE( l_U225, 0 );
    SET_OBJECT_VISIBLE( l_U222, 0 );
    FREEZE_OBJECT_POSITION( l_U218, 1 );
    FREEZE_OBJECT_POSITION( l_U217, 1 );
    FREEZE_OBJECT_POSITION( l_U226, 1 );
    FREEZE_OBJECT_POSITION( l_U225, 1 );
    FREEZE_OBJECT_POSITION( l_U222, 1 );
    return;
}

/* CLEAN_ALL_ROOFTOP_EXPLOSION2_OBJECTS */ void sub_28108()
{
     /* CLEANOBJECT */ sub_7020( l_U216 );
     /* CLEANOBJECT */ sub_7020( l_U217 );
     /* CLEANOBJECT */ sub_7020( l_U218 );
     /* CLEANOBJECT */ sub_7020( l_U221 );
     /* CLEANOBJECT */ sub_7020( l_U222 );
     /* CLEANOBJECT */ sub_7020( l_U224 );
     /* CLEANOBJECT */ sub_7020( l_U225 );
     /* CLEANOBJECT */ sub_7020( l_U226 );
    return;
}

/* MAL_RECREATEOBJECTWITHNOROTATION */ void sub_28268(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
     /* MAL_RECREATEOBJECT */ sub_28330( uParam0, uParam1, uParam2, g_U657, uParam5, uParam6 );
    return;
}

/* MAL_RECREATEOBJECT */ void sub_28330(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
     /* CLEANOBJECT */ sub_7020( (uParam0^) );
    (uParam0^) =  /* CREATEOBJECTNOOFFSET */ sub_28382( uParam1, uParam2, uParam5, 0, uParam9, 0 );
    FREEZE_OBJECT_POSITION( (uParam0^), uParam8 );
    return;
}

/* CREATEOBJECTNOOFFSET */ void sub_28382(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_6726( uParam0, 1 );
    }
    Result = CREATE_OBJECT_NO_OFFSET( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an object to exist: {!f1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

/* START_EXPLOSION2 */ void sub_29057()
{
     /* CLEANOBJECT */ sub_7020( l_U216 );
     /* CLEANOBJECT */ sub_7020( l_U224 );
     /* CLEANOBJECT */ sub_7020( l_U221 );
    SET_OBJECT_VISIBLE( l_U218, 1 );
    SET_OBJECT_VISIBLE( l_U217, 1 );
    SET_OBJECT_VISIBLE( l_U226, 1 );
    SET_OBJECT_VISIBLE( l_U225, 1 );
    SET_OBJECT_VISIBLE( l_U222, 1 );
    PLAY_OBJECT_ANIM( l_U218, "P_AN_DORBEN_AA_H", "ho_anim_stairs", 0.00000000, 0, 1 );
    PLAY_OBJECT_ANIM( l_U217, "P_AN_FENBEN_AA_H", "ho_anim_stairs", 0.00000000, 0, 1 );
    PLAY_OBJECT_ANIM( l_U226, "P_AN_WALEXP_AA_H", "ho_anim_stairs", 0.00000000, 0, 1 );
    PLAY_OBJECT_ANIM( l_U225, "P_AN_WALEXP_AB_H", "ho_anim_stairs", 0.00000000, 0, 1 );
    PLAY_OBJECT_ANIM( l_U222, "P_AN_WALEXP_BA_H", "ho_anim_stairs", 0.00000000, 0, 1 );
    SET_OBJECT_ANIM_SPEED( l_U218, "P_AN_DORBEN_AA_H", "ho_anim_stairs", l_U219 );
    SET_OBJECT_ANIM_SPEED( l_U217, "P_AN_FENBEN_AA_H", "ho_anim_stairs", l_U220 );
    SET_OBJECT_ANIM_SPEED( l_U226, "P_AN_WALEXP_AA_H", "ho_anim_stairs", l_U227 );
    SET_OBJECT_ANIM_SPEED( l_U225, "P_AN_WALEXP_AB_H", "ho_anim_stairs", l_U228 );
    SET_OBJECT_ANIM_SPEED( l_U222, "P_AN_WALEXP_BA_H", "ho_anim_stairs", l_U223 );
    START_PARTICLE_FX_NON_LOOPED_AT_COORD( "HOTEL_Blast_ACWall_S", l_U229, 0.00000000, 0.00000000, 0.00000000, l_U232 );
    START_PARTICLE_FX_NON_LOOPED_AT_COORD( "HOTEL_AC_Steam_S", l_U233, 0.00000000, 0.00000000, 0.00000000, l_U236 );
    START_PARTICLE_FX_NON_LOOPED_AT_COORD( "HOTEL_AC_Steam_S", l_U237, 0.00000000, 0.00000000, 0.00000000, l_U240 );
     /* CREATETIMER */ sub_17436( ref l_U200, l_U241, 1, 0 );
     /* STARTTIMER */ sub_17586( ref l_U200 );
    if (GET_ADRENALINE_AMT() < 0.10000000)
    {
        SET_ADRENALINE_AMT( 0.10000000 );
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    ACTIVATE_BULLET_TIME( 0, 1065353216, 1 );
    return;
}

/* HANDLE_2ND_FLOOR_GATE */ void sub_30017()
{
    int Result;

    Result = 0;
    if (l_U687)
    {
         /* TELEPORTPED */ sub_7933(  /* PLAYER_PED_ID */ sub_2334(), l_U694, l_U697 );
        l_U687 = 0;
    }
    if (l_U686)
    {
         /* CLEANOBJECT */ sub_7020( l_U698 );
         /* CLEANOBJECT */ sub_7020( l_U699 );
        l_U698 =  /* CREATEOBJECT */ sub_7094( g_U1445, l_U688, l_U691, 0, 1, 0 );
        l_U699 =  /* CREATEOBJECT */ sub_7094( g_U1446, l_U688, l_U691, 0, 1, 0 );
        if ((DOES_OBJECT_EXIST( l_U698 )) == 1)
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U698, ref g_U1306 );
            FREEZE_OBJECT_POSITION( l_U698, 1 );
             /* P_CREATEPOISTRUCTOBJECT */ sub_30259( ref l_U700, 1, l_U688, l_U698, 1, 0, 1.50000000, 3.00000000, 0, 0 );
             /* P_SET_INTERACTIVE_TEXT */ sub_31371( ref l_U700, 30, "POI_OPENGATE" );
        }
        if ((DOES_OBJECT_EXIST( l_U699 )) == 1)
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U699, ref g_U1306 );
            FREEZE_OBJECT_POSITION( l_U699, 1 );
        }
         /* P_ENABLE_POI */ sub_31629( ref l_U700, 1 );
         /* P_CREATEDOORSTRUCT */ sub_16439( ref g_U1533, g_U1455, -0.43661000, -5.45916000, 14.17127000, g_U657 );
         /* P_SETDOORLOCKED */ sub_17066( ref g_U1533, 1 );
        l_U686 = 0;
    }
    switch (l_U684)
    {
        case 0:
        START_WIDGET_GROUP( "2nd Floor Gate" );
        ADD_WIDGET_BOOL( "Teleport Max to Gate", ref l_U687 );
        ADD_WIDGET_BOOL( "Create button", ref l_U686 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( ref l_U688, "Button Position", 1036831949 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( ref l_U691, "Button Rotation", 1036831949 );
         /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_3627( ref l_U694, "Max Position", 1036831949 );
        ADD_WIDGET_FLOAT_SLIDER( "Max heading", ref l_U697, 0, 360.00000000, 1 );
        STOP_WIDGET_GROUP();
        l_U684 = 1;
        break;
        case 1:
         /* P_ENABLE_POI */ sub_31629( ref l_U700, 1 );
         /* P_SETDOORLOCKED */ sub_17066( ref g_U1533, 1 );
        l_U684 = 2;
        break;
        case 2:
        if ( /* F_HANDLE_POI */ sub_32806( ref l_U700 ))
        {
            l_U684 = 3;
        }
        break;
        case 3:
        if ( /* HANDLE_GATE_NIS */ sub_34696())
        {
            l_U684 = 1;
        }
        break;
    }
    return Result;
}

/* P_CREATEPOISTRUCTOBJECT */ void sub_30259(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;

     /* P_CREATEBLANKPOISTRUCT */ sub_30300( iParam0, uParam10 );
    if ((DOES_OBJECT_EXIST( uParam5 )) == 1)
    {
        uVar14 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_OBJECT_COORDS( uParam5 )};
        iParam0->_fU4 = uParam1;
        iParam0->_fU308 = uParam7;
        if (iParam0->_fU308 == 0)
        {
            iParam0->_fU100 = {uVar14};
            iParam0->_fU200 = {uVar14};
        }
        iParam0->_fU112 = uParam8;
        iParam0->_fU212 = uParam9;
        iParam0->_fU300 = uParam6;
        iParam0->_fU312 = uParam5;
        iParam0->_fU320 = uParam11;
        iParam0->_fU20 = {uParam2};
         /* P_CREATEPOIGLINT */ sub_30764( iParam0 );
    }
    else
    {
        SCRIPT_ASSERT( "[SP]### WARNING!!! (P_CreateObjectPOIStruct): Object doesn't exist! ###", 0 );
    }
    return;
}

/* P_CREATEBLANKPOISTRUCT */ void sub_30300(int iParam0, unknown uParam1)
{
    iParam0->_fU0 = uParam1;
    iParam0->_fU4 = 0;
    iParam0->_fU8 = 0;
    iParam0->_fU12 = nil;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = {0.00000000, 0.00000000, 0.00000000};
    iParam0->_fU52 = 1;
    iParam0->_fU56 = 1;
    iParam0->_fU60 = 0;
    iParam0->_fU64 = 0;
    iParam0->_fU68 = 0;
    iParam0->_fU72 = 0;
    iParam0->_fU76 = 0;
    iParam0->_fU80 = 0;
    iParam0->_fU84 = 0;
    iParam0->_fU100 = {0.00000000, 0.00000000, 0.00000000};
    iParam0->_fU112 = 0.00000000;
    iParam0->_fU88 = 0;
    iParam0->_fU92 = 0;
    iParam0->_fU96 = 0;
    iParam0->_fU200 = {0.00000000, 0.00000000, 0.00000000};
    iParam0->_fU212 = 0.00000000;
    iParam0->_fU300 = 0;
    iParam0->_fU304 = 1;
    iParam0->_fU308 = 0;
    iParam0->_fU324 = 1;
    iParam0->_fU328 = 0;
    iParam0->_fU340 = 0;
    iParam0->_fU336 = 0.20000000;
    return;
}

/* P_CREATEPOIGLINT */ void sub_30764(int iParam0)
{
    if (iParam0->_fU12 != nil)
    {
        if ((DOES_GLINT_EXIST( iParam0->_fU12 )) == 1)
        {
            REMOVE_GLINT( iParam0->_fU12 );
        }
    }
    iParam0->_fU12 = CREATE_GLINT( iParam0->_fU16, iParam0->_fU20 );
     /* P_INITPOIGLINT */ sub_30862( iParam0 );
    return;
}

/* P_INITPOIGLINT */ void sub_30862(int iParam0)
{
    if (iParam0->_fU0 == 1)
    {
        if (iParam0->_fU320 == 1)
        {
            if ((iParam0->_fU8 > 0) AND (iParam0->_fU4 == 0))
            {
                 /* P_ENABLEPOIGLINT */ sub_30938( iParam0, 1 );
            }
            else if ((iParam0->_fU8 < 2) AND (iParam0->_fU4 == 1))
            {
                 /* P_ENABLEPOIGLINT */ sub_30938( iParam0, 1 );
            }
            else if ((iParam0->_fU8 == 1) AND (iParam0->_fU4 == 2))
            {
                 /* P_ENABLEPOIGLINT */ sub_30938( iParam0, 1 );
            }
            else
            {
                 /* P_ENABLEPOIGLINT */ sub_30938( iParam0, 0 );
            };;;
        }
        else
        {
             /* P_ENABLEPOIGLINT */ sub_30938( iParam0, 0 );
        }
    }
    else
    {
         /* P_ENABLEPOIGLINT */ sub_30938( iParam0, 0 );
    }
    return;
}

/* P_ENABLEPOIGLINT */ void sub_30938(int iParam0, int iParam1)
{
    if (iParam1 == 1)
    {
        if (iParam0->_fU12 != nil)
        {
            if ((DOES_GLINT_EXIST( iParam0->_fU12 )) == 1)
            {
                ENABLE_GLINT( iParam0->_fU12, 1 );
            }
            else
            {
                iParam0->_fU12 = CREATE_GLINT( iParam0->_fU16, iParam0->_fU20 );
            }
        }
        else
        {
            iParam0->_fU12 = CREATE_GLINT( iParam0->_fU16, iParam0->_fU20 );
        }
    }
    else if (iParam0->_fU12 != nil)
    {
        if ((DOES_GLINT_EXIST( iParam0->_fU12 )) == 1)
        {
            ENABLE_GLINT( iParam0->_fU12, 0 );
        }
    }
    return;
}

/* P_SET_INTERACTIVE_TEXT */ void sub_31371(int iParam0, unknown uParam1, unknown uParam2)
{
    StrCopy( ref iParam0->_fU32, uParam2, 16 );
    iParam0->_fU48 = uParam1;
     /* P_INITINTERACTIVETEXT */ sub_31427( iParam0 );
    return;
}

/* P_INITINTERACTIVETEXT */ void sub_31427(int iParam0)
{
    if ((iParam0->_fU8 == 2) AND (iParam0->_fU0 == 1))
    {
        if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
        {
            SET_INTERACTIONTEXT_BUTTON( iParam0->_fU48 );
            SET_INTERACTIONTEXT_TEXT( iParam0 + 32 );
            SET_INTERACTIONTEXT_VISIBLE( 1 );
            SET_INTERACTIONTEXT_BUTTON_VISIBLE( 1 );
            SET_INTERACTIONTEXT_AVAILABLE( 1 );
            iParam0->_fU56 = 1;
        }
    }
    return;
}

/* P_ENABLE_POI */ void sub_31629(int iParam0, int iParam1)
{
    if (iParam1 == 1)
    {
        if ((iParam0->_fU4 == 1) AND (iParam0->_fU320 == 1))
        {
             /* P_ENABLEPOIGLINT */ sub_30938( iParam0, 1 );
        }
        iParam0->_fU0 = 1;
    }
    else
    {
         /* P_ENABLEPOIGLINT */ sub_30938( iParam0, 0 );
         /* P_ENABLEPOIINTERACTIONTEXT */ sub_31715( iParam0, 0 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2334() )) == 0)
        {
            TASK_CLEAR_LOOK_AT(  /* PLAYER_PED_ID */ sub_2334() );
            if ((iParam0->_fU328 == 1) AND (iParam0->_fU324 == 1))
            {
                SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_2334(), 0 );
                iParam0->_fU328 = 0;
            }
        }
        iParam0->_fU8 = 0;
        iParam0->_fU0 = 0;
    }
    return;
}

/* P_ENABLEPOIINTERACTIONTEXT */ void sub_31715(int iParam0, int iParam1)
{
    if (iParam1 == 1)
    {
        SET_INTERACTIONTEXT_TEXT( iParam0 + 32 );
        SET_INTERACTIONTEXT_BUTTON( iParam0->_fU48 );
        if ((iParam0->_fU72 == 0) AND ((iParam0->_fU64 == 1) AND (iParam0->_fU68 == 1)))
        {
            SET_INTERACTIONTEXT_VISIBLE( 0 );
            SET_INTERACTIONTEXT_BUTTON_VISIBLE( 0 );
            SET_INTERACTIONTEXT_AVAILABLE( 0 );
            iParam0->_fU56 = 0;
        }
        else
        {
            SET_INTERACTIONTEXT_VISIBLE( 1 );
            SET_INTERACTIONTEXT_BUTTON_VISIBLE( 1 );
            SET_INTERACTIONTEXT_AVAILABLE( 1 );
            iParam0->_fU56 = 1;
        }
         /* P_UPDATEINTERACTIONTEXTAVAILABLE */ sub_31895( iParam0 );
        if (iParam0->_fU332 == 1)
        {
            SET_INTERACTIONTEXT_PULSE( 1 );
            SET_INTERACTIONTEXT_PULSE_PERIOD( iParam0->_fU336 );
        }
    }
    else
    {
        SET_INTERACTIONTEXT_VISIBLE( 0 );
        SET_INTERACTIONTEXT_BUTTON_VISIBLE( 0 );
    }
    return;
}

/* P_UPDATEINTERACTIONTEXTAVAILABLE */ void sub_31895(int iParam0)
{
    if (iParam0->_fU60 == 1)
    {
        SET_INTERACTIONTEXT_AVAILABLE( 0 );
        iParam0->_fU56 = 0;
    }
    else if (iParam0->_fU56 == 1)
    {
        if (( /* F_ISACTIONINGAVAILABLE */ sub_31991( iParam0 )) == 0)
        {
            SET_INTERACTIONTEXT_AVAILABLE( 0 );
            iParam0->_fU56 = 0;
        }
    }
    else if (( /* F_ISACTIONINGAVAILABLE */ sub_31991( iParam0 )) == 1)
    {
        SET_INTERACTIONTEXT_AVAILABLE( 1 );
        iParam0->_fU56 = 1;
    };;;
    return;
}

/* F_ISACTIONINGAVAILABLE */ int sub_31991(int iParam0)
{
    if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2334() )) == 0) AND ((IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_2372() )) == 0))
    {
        if (((IS_PED_RELOADING(  /* PLAYER_PED_ID */ sub_2334() )) == 1) || (((IS_PED_GETTING_UP(  /* PLAYER_PED_ID */ sub_2334() )) == 1) || (((IS_PED_PICKING_UP_PICKUP(  /* PLAYER_PED_ID */ sub_2334() )) == 1) || (((IS_PED_IN_COVER(  /* PLAYER_PED_ID */ sub_2334() )) == 1) || (((IS_PED_DUCKING(  /* PLAYER_PED_ID */ sub_2334() )) == 1) || (IS_PLAYER_SHOOTDODGING() == 1))))))
        {
            return 0;
        }
        if (iParam0->_fU304 == 0)
        {
            if ((IS_MONOLOGUE_PLAYING() == 1) || ((IS_ANY_SPEECH_PLAYING(  /* PLAYER_PED_ID */ sub_2334() )) == 1))
            {
                return 0;
            }
        }
        return 1;
    }
    return 0;
}

/* F_HANDLE_POI */ int sub_32806(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    int iVar6;
    int iVar7;
    int iVar8;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2334() )) == 0)
    {
        if (iParam0->_fU0 == 1)
        {
            uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS(  /* PLAYER_PED_ID */ sub_2334() )};
            iVar6 = 0;
            if (iParam0->_fU80 == 1)
            {
                if (( /* F_ISPEDINTRIGGERBOX */ sub_32907(  /* PLAYER_PED_ID */ sub_2334(), iParam0->_fU116 )) == 1)
                {
                    if (iParam0->_fU300 == 1)
                    {
                        if (((IS_OBJECT_ON_SCREEN( iParam0->_fU312 )) == 1) AND ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1))
                        {
                            iVar6 = 1;
                        }
                    }
                    else
                    {
                        iVar6 = 1;
                    }
                }
            }
            else if ((iParam0->_fU308 == 1) AND (iParam0->_fU84 == 1))
            {
                if ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_OBJECT_COORDS( iParam0->_fU312 ), 1 )) <= iParam0->_fU112)
                    {
                        if (iParam0->_fU300 == 1)
                        {
                            if ((IS_OBJECT_ON_SCREEN( iParam0->_fU312 )) == 1)
                            {
                                iVar6 = 1;
                            }
                        }
                        else
                        {
                            iVar6 = 1;
                        }
                    }
                }
            }
            else if (iParam0->_fU96 == 1)
            {
                if ((DOES_PED_EXIST( iParam0->_fU316 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU316 ), 1 )) <= iParam0->_fU112)
                    {
                        if (iParam0->_fU300 == 1)
                        {
                            if ((IS_PED_ON_SCREEN( iParam0->_fU316, 0 )) == 1)
                            {
                                iVar6 = 1;
                            }
                        }
                        else
                        {
                            iVar6 = 1;
                        }
                    }
                }
            }
            else if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, iParam0->_fU100, 1 )) <= iParam0->_fU112)
            {
                if (iParam0->_fU300 == 1)
                {
                    if (((IS_OBJECT_ON_SCREEN( iParam0->_fU312 )) == 1) AND ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1))
                    {
                        iVar6 = 1;
                    }
                }
                else
                {
                    iVar6 = 1;
                }
            };;;;
            iVar7 = 0;
            if (iParam0->_fU88 == 1)
            {
                if (( /* F_ISPEDINTRIGGERBOX */ sub_32907(  /* PLAYER_PED_ID */ sub_2334(), iParam0->_fU216 )) == 1)
                {
                    iVar7 = 1;
                }
            }
            else if ((iParam0->_fU308 == 1) AND (iParam0->_fU92 == 1))
            {
                if ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_OBJECT_COORDS( iParam0->_fU312 ), 1 )) <= iParam0->_fU212)
                    {
                        iVar7 = 1;
                    }
                }
            }
            else if (iParam0->_fU96 == 1)
            {
                if ((DOES_PED_EXIST( iParam0->_fU316 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU316 ), 1 )) <= iParam0->_fU212)
                    {
                        iVar7 = 1;
                    }
                }
            }
            else if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, iParam0->_fU200, 1 )) <= iParam0->_fU212)
            {
                iVar7 = 1;
            };;;;
            if (iVar6 == 1)
            {
                if ((iParam0->_fU4 != 3) AND (iParam0->_fU52 == 1))
                {
                    if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                    {
                         /* P_UPDATEINTERACTIONTEXTAVAILABLE */ sub_31895( iParam0 );
                    }
                    iVar8 = 0;
                    if ((IS_WEAPON_PICKUP_VISIBLE() == 0) AND ((iParam0->_fU60 == 0) AND (( /* F_ISACTIONINGAVAILABLE */ sub_31991( iParam0 )) == 1)))
                    {
                        SET_ACTION_CONSUMED( 0, 1 );
                        if (( /* F_HASACTIONBEENPRESSED */ sub_33770()) == 1)
                        {
                            iVar8 = 1;
                        }
                    }
                    if (iVar8 == 1)
                    {
                        if (iParam0->_fU332 == 0)
                        {
                             /* P_ENABLE_POI */ sub_31629( iParam0, 0 );
                            iParam0->_fU64 = 1;
                        }
                        if (iParam0->_fU68 == 1)
                        {
                            iParam0->_fU72 = 0;
                        }
                        return 1;
                    }
                    else if (iParam0->_fU8 != 2)
                    {
                        if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                        {
                             /* P_ENABLEPOIGLINT */ sub_30938( iParam0, 0 );
                             /* P_ENABLEPOIINTERACTIONTEXT */ sub_31715( iParam0, 1 );
                        }
                        else if (iParam0->_fU320 == 1)
                        {
                             /* P_ENABLEPOIGLINT */ sub_30938( iParam0, 1 );
                        }
                        iParam0->_fU8 = 2;
                    }
                    if ((iParam0->_fU328 == 0) AND (iParam0->_fU324 == 1))
                    {
                        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2334() )) == 0)
                        {
                            SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_2334(), 1 );
                            iParam0->_fU328 = 1;
                        }
                    }
                }
            }
            else if (iVar7 == 1)
            {
                if (iParam0->_fU8 != 1)
                {
                    if ((iParam0->_fU4 != 3) AND (iParam0->_fU320 == 1))
                    {
                         /* P_ENABLEPOIGLINT */ sub_30938( iParam0, 1 );
                    }
                    if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                    {
                         /* P_ENABLEPOIINTERACTIONTEXT */ sub_31715( iParam0, 0 );
                    }
                    if (iParam0->_fU96 == 1)
                    {
                        if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2334() )) == 0) AND ((((IS_PED_DEAD( iParam0->_fU316 )) == 1) || ((IS_PED_DEAD( iParam0->_fU316 )) == 0)) AND ((DOES_PED_EXIST( iParam0->_fU316 )) == 1)))
                        {
                            TASK_LOOK_AT_PED(  /* PLAYER_PED_ID */ sub_2334(), iParam0->_fU316, -1, 0 );
                        }
                    }
                    else if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2334() )) == 0)
                    {
                        TASK_LOOK_AT_COORD(  /* PLAYER_PED_ID */ sub_2334(), iParam0->_fU100, -1, 0 );
                    }
                    iParam0->_fU340 = 1;
                    if ((iParam0->_fU72 == 0) AND ((iParam0->_fU68 == 1) AND ((iParam0->_fU64 == 1) AND (iParam0->_fU8 == 2))))
                    {
                        iParam0->_fU72 = 1;
                    }
                    iParam0->_fU8 = 1;
                }
                if ((iParam0->_fU328 == 0) AND (iParam0->_fU324 == 1))
                {
                    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2334() )) == 0)
                    {
                        SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_2334(), 1 );
                        iParam0->_fU328 = 1;
                    }
                }
            }
            else if ((iParam0->_fU4 == 1) || (iParam0->_fU4 == 3))
            {
                ;
            }
            else if (iParam0->_fU8 != 0)
            {
                if (iParam0->_fU320 == 1)
                {
                     /* P_ENABLEPOIGLINT */ sub_30938( iParam0, 0 );
                }
            }
            if (iParam0->_fU8 == 2)
            {
                if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                {
                     /* P_ENABLEPOIINTERACTIONTEXT */ sub_31715( iParam0, 0 );
                }
            }
            if (iParam0->_fU340)
            {
                if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2334() )) == 0)
                {
                    TASK_CLEAR_LOOK_AT(  /* PLAYER_PED_ID */ sub_2334() );
                    iParam0->_fU340 = 0;
                }
            }
            if ((iParam0->_fU328 == 1) AND (iParam0->_fU324 == 1))
            {
                if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_2334() )) == 0)
                {
                    SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_2334(), 0 );
                    iParam0->_fU328 = 0;
                }
            }
            if (iParam0->_fU332 == 1)
            {
                 /* P_ENABLEPOIINTERACTIONTEXT */ sub_31715( iParam0, 0 );
            }
            iParam0->_fU8 = 0;;;
        }
    }
    return 0;
}

/* F_ISPEDINTRIGGERBOX */ int sub_32907(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        return IS_PED_IN_GAMEPLAY_HELPER_BOX( uParam0, ref uParam1._fU0 );
    }
    return 0;
}

/* F_HASACTIONBEENPRESSED */ int sub_33770()
{
    if ((IS_CONTROL_JUST_PRESSED( 0, 30 )) == 1)
    {
        return 1;
    }
    return 0;
}

/* HANDLE_GATE_NIS */ void sub_34696()
{
    int Result;

    switch (l_U685)
    {
        case 0:
         /* NIS_PRE_SETUP */ sub_14504( 1, 0, 0, 1 );
         /* LOADISEQ */ sub_13724( 161673566, 1 );
         /* NIS_CREATE_STATIC_CAM */ sub_34803( ref l_U786, l_U817, l_U820, 45, 3000 );
         /* NIS_PLAY_STATIC_CAMERA */ sub_35038( ref l_U786 );
         /* TELEPORTPED */ sub_7933(  /* PLAYER_PED_ID */ sub_2334(), l_U694, l_U697 );
        ISEQ_REGISTER_ENTITY( 161673566, "MAX_PRESSING_BUTTON",  /* PLAYER_PED_ID */ sub_2334(), 0 );
        ISEQ_START( 161673566 );
         /* CREATETIMER */ sub_17436( ref l_U823, 1000, 1, 0 );
         /* STARTTIMER */ sub_17586( ref l_U823 );
        l_U685 = 1;
        break;
        case 1:
        if ( /* ISTIMERDONE */ sub_17832( ref l_U823 ))
        {
             /* P_SETDOORMINMAXLIMIT */ sub_16558( ref g_U1533, 0, 85 );
             /* P_SETDOORLOCKED */ sub_17066( ref g_U1533, 0 );
             /* P_OPENDOOR */ sub_18088( ref g_U1533, 1, 0, 0.10000000 );
        }
        if ( /* NIS_IS_SHOT_FINISHED */ sub_35315( ref l_U786, 1 ))
        {
             /* NIS_RETURN_TO_GAMEPLAY_CAM */ sub_35493( 750, 1, 0, 78.18056000, -6.06562900, 0 );
             /* NIS_POST_SETUP */ sub_15464( 1, 1 );
            l_U685 = 2;
        }
        break;
        case 2:
        l_U685 = 0;
        Result = 1;
        break;
    }
    return Result;
}

/* NIS_CREATE_STATIC_CAM */ void sub_34803(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    iParam0->_fU4 = {uParam4};
    iParam0->_fU16 = {uParam1};
    iParam0->_fU28 = uParam7;
    iParam0->_fU32 = 0;
    iParam0->_fU36 = 0;
    iParam0->_fU84 = uParam8;
    iParam0->_fU88 = 0;
    iParam0->_fU92 = 0;
    iParam0->_fU40 = 0;
    iParam0->_fU44 = 0;
    iParam0->_fU100 = 1;
    iParam0->_fU104 = 1;
    iParam0->_fU96 = 0;
     /* CREATETIMER */ sub_17436( iParam0 + 48, uParam8, 1, 0 );
    iParam0->_fU0 = CREATE_CAM_WITH_PARAMS( ref g_U724, iParam0->_fU16, iParam0->_fU4, iParam0->_fU28, 1 );
    SET_CAM_PARAMS( iParam0->_fU0, iParam0->_fU16, iParam0->_fU4, iParam0->_fU28, 0, 1, 1 );
    return;
}

/* NIS_PLAY_STATIC_CAMERA */ void sub_35038(int iParam0)
{
    RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
    SET_CAM_ACTIVE( iParam0->_fU0, 1 );
    RENDER_SCRIPT_CAMS( 1, 0, 3000, 0 );
     /* STARTTIMER */ sub_17586( iParam0 + 48 );
    iParam0->_fU32 = 1;
    iParam0->_fU40 = 1;
    return;
}

/* NIS_IS_SHOT_FINISHED */ int sub_35315(int iParam0, boolean bParam1)
{
    if (bParam1 == 1)
    {
        if (NOT iParam0->_fU44)
        {
            if ((ref iParam0->_fU48->_fU16) || ( /* ISTIMERDONE */ sub_17832( iParam0 + 48 )))
            {
                iParam0->_fU44 = 1;
                iParam0->_fU36 = 1;
                return 1;
            }
        }
    }
    if (NOT bParam1)
    {
        if ((ref iParam0->_fU48->_fU16) || ( /* ISTIMERDONE */ sub_17832( iParam0 + 48 )))
        {
            iParam0->_fU36 = 1;
            return 1;
        }
    }
    return 0;
}

/* NIS_RETURN_TO_GAMEPLAY_CAM */ void sub_35493(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, float fParam4, unknown uParam5)
{
    SET_CAM_SIDE_LEFT( uParam2 );
    if (fParam4 != -1E8)
    {
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( uParam3, 1065353216, 0 );
    }
    if (fParam4 != -1E8)
    {
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( fParam4, 1065353216, 0 );
    }
    RENDER_SCRIPT_CAMS( 0, uParam1, uParam0, uParam5 );
    return;
}

