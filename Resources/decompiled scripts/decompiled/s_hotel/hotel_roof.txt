void main()
{
    l_U0 = 1;
    l_U1 = 144;
    l_U2 = 0;
    l_U3 = 1;
    l_U4 = 0;
    l_U5 = 1.00000000;
    l_U6 = -5.00000000;
    l_U7 = 0;
    l_U8 = 0;
    l_U9 = 0;
    l_U13 = 42;
    l_U14 = 0;
    l_U15 = 0;
    l_U16 = 0;
    l_U17 = 0;
    l_U18 = 0;
    l_U19 = 90.00000000;
    l_U20 = {0.00000000, 0.00000000, 0.00000000};
    l_U23 = {0.00000000, 0.00000000, 0.00000000};
    l_U26 = 0;
    l_U27 = 0;
    l_U28 = 0;
    l_U29 = 0;
    l_U30 = 0;
    l_U31 = 0;
    l_U32 = nil;
    l_U33 = {0.00000000, 0.00000000, 0.00000000};
    l_U36 = 0;
    l_U37 = 0;
    l_U38 = 0;
    l_U85 = "PED_DEF";
    l_U127 = 1.00000000;
    l_U139 = 0;
    l_U180 = 0;
    l_U200 = -1;
    l_U201 = {64536, 64536, 64536};
    l_U204 = 1;
    l_U1212 = 1.00000000;
    l_U1213 = 0;
    l_U1214 = 0;
    l_U1215 = {51.00000000, -14.00000000, 50.00000000};
    l_U1218 = {75.00000000, -48.00000000, 65.00000000};
    l_U1221 = {-19.45000000, 0.00000000, 49.15000000};
    l_U1224 = {-23.00000000, 0.00000000, 48.00000000};
    l_U1227 = 50.00000000;
    l_U1228 = 13500;
    l_U1230 = 0;
    l_U1232 = 1;
    l_U1233 = 0;
    l_U1234 = 1;
    l_U1235 = 0;
    l_U1246 = 1;
    l_U1265 = 0;
    l_U1266 = 0;
    l_U1267 = "12_06_HOTEL_concat";
    l_U1299 = 0;
    l_U1300 = 0;
    l_U1301 = 1500;
    l_U1347 = 0;
    l_U1349 = 1;
    l_U1352 = 0;
    l_U1354 = 928600325;
    l_U1403 = 150000;
    l_U1413 = 2300;
    l_U1472 = 4500;
    l_U1482 = 0;
    l_U1502 = -1;
    l_U1669 = -1;
    l_U1670 = -1;
    l_U1714 = 2500;
    l_U1724 = -1;
    l_U1725 = -1;
    l_U1726 = -1;
    l_U1745 = -1;
    l_U1746 = -1;
    l_U1747 = 6.00000000;
    l_U1748 = 3000;
    l_U2217 = -1;
    l_U2218 = -1;
    l_U2219 = -1;
    l_U2605 = 0.50000000;
    l_U2606 = 0.40000000;
    l_U2607 = 0.40000000;
    l_U2608 = 0.30000000;
    l_U2609 = 0.30000000;
    l_U2613 = 0.60000000;
    l_U2614 = 0.80000000;
    l_U2617 = 0.80000000;
    l_U2621 = 0.80000000;
    l_U2622 = 0.70000000;
    l_U2623 = {5.91000000, 8.21000000, 44.03000000};
    l_U2626 = 1.00000000;
    l_U2627 = {6.60000000, 7.60000000, 44.10000000};
    l_U2630 = 1.00000000;
    l_U2631 = {6.90000000, 8.80000000, 44.30000000};
    l_U2634 = 1.00000000;
    l_U2635 = 500;
    l_U2636 = 0;
    l_U2637 = 0;
    l_U2647 = 0.85000000;
    l_U2648 = 1.00000000;
    l_U2649 = 0.85000000;
    l_U2650 = 0.85000000;
    l_U2651 = 0.85000000;
    l_U2652 = 0.80000000;
    l_U2653 = 0.80000000;
    l_U2654 = {13.50000000, 26.50000000, 40.10000000};
    l_U2657 = 1.00000000;
    l_U2658 = 0;
    l_U2659 = {14.89120000, 27.00090000, 41.51830000};
    l_U2662 = 1.00000000;
    l_U2663 = 600;
    l_U2669 = 1844478068;
    l_U2670 = -1455579663;
    l_U2671 = -1563045636;
    l_U2672 = 1.00000000;
    l_U2673 = 1.00000000;
    l_U2678 = 1188691208;
    l_U2679 = -895442446;
    l_U2680 = 638412747;
    l_U2681 = 1.00000000;
    l_U2682 = 1.00000000;
    l_U2685 = -1911968389;
    l_U2686 = -1210755311;
    l_U2687 = 1.00000000;
    l_U2688 = {-9.50000000, 1.00000000, 41.00000000};
    l_U2691 = 1.00000000;
    l_U2692 = 700;
    l_U2693 = 0;
    l_U2694 = 0;
    l_U2699 = -1318069598;
    l_U2700 = -138770415;
    l_U2701 = 1085512198;
    l_U2702 = -2014992279;
    l_U2703 = 1.00000000;
    l_U2704 = 1.00000000;
    l_U2705 = 1.00000000;
    l_U2708 = 1379132568;
    l_U2709 = -1478959939;
    l_U2710 = 1.00000000;
    l_U2711 = {3.60000000, 41.00000000, 39.60000000};
    l_U2714 = 1.00000000;
    l_U2715 = 0;
    l_U2716 = 0;
    l_U2723 = 1954663832;
    l_U2724 = 936208156;
    l_U2725 = -127310191;
    l_U2726 = -433077730;
    l_U2727 = -1880750327;
    l_U2728 = 694618066;
    l_U2729 = 1.00000000;
    l_U2730 = 1.00000000;
    l_U2731 = 1.00000000;
    l_U2732 = 1.00000000;
    l_U2733 = 1.00000000;
    l_U2734 = {9.15000000, 31.12000000, 39.74000000};
    l_U2737 = 1.00000000;
    l_U2738 = {4.70000000, 29.60000000, 42.36000000};
    l_U2741 = 1.00000000;
    l_U2742 = 0;
    l_U2743 = 0;
    l_U2749 = -1901851883;
    l_U2750 = 712645242;
    l_U2751 = -1062877481;
    l_U2752 = 1849270784;
    l_U2753 = -237396474;
    l_U2754 = 1.00000000;
    l_U2755 = 1.00000000;
    l_U2756 = 1.00000000;
    l_U2757 = {24.84000000, 29.83000000, 42.75000000};
    l_U2760 = 1.00000000;
    l_U2761 = 0;
    l_U2762 = 0;
    l_U2763 = 1;
    l_U2782 = "12_05_HOTEL_concat";
    l_U2908 = 0;
    l_U2909 = 0;
    l_U2910 = 0;
    l_U2911 = 0;
     /* WRITESCRIPTLOG */ sub_1750( "AT", "Script s_hotel_roof.sc is starting up...", 0 );
     /* SETUP_ASSET_ARRAYS */ sub_1868();
     /* ROOF_LOAD_WEAPONS */ sub_2608( 0 );
    l_U1230 = 0;
    if (g_U854 == 10)
    {
        g_U1001 = 1;
        l_U1347 = 1;
    }
    else
    {
        l_U1347 = 3;
    }
    while (NOT IS_EXITFLAG_SET())
    {
        if (g_U855 == 10)
        {
             /* P_HANDLE_MUSIC */ sub_2912();
        }
         /* HANDLE_FAILURE */ sub_3784();
        if (l_U1352 == 0)
        {
             /* HANDLE_EVENTS */ sub_15779();
        }
         /* P_DEBUG_ROOF_RAYFIRE_TUNING_WIDGET */ sub_89580();
        WAIT( 0 );
    }
     /* P_CLEANUP_ALL */ sub_6600();
     /* P_UNLOAD_ASSETS */ sub_94047();
    SET_EXITFLAG_RESPONSE();
    SET_SCRIPT_AS_NO_LONGER_NEEDED( "hotel_roof" );
     /* WRITESCRIPTLOG */ sub_1750( "AT", "Script s_hotel_roof.sc is terminating...", 0 );
    return;
}

/* WRITESCRIPTLOG */ void sub_1750(unknown uParam0, unknown uParam1, string sParam2)
{
    unknown uVar5;

    if (IS_STRING_NULL( sParam2 ))
    {
        sParam2 = "###";
    }
    uVar5 = GET_REAL_GAME_TIMER();
    DISPLAYF( "[{0}][{1}]{3} {2} {3}", 4, 513, uVar5, 1537, uParam0, 1537, uParam1, 1537, sParam2 );
    return;
}

/* SETUP_ASSET_ARRAYS */ void sub_1868()
{
     /* WRITESCRIPTLOG */ sub_1750( "AT", "SETUP_ASSET_ARRAYS start", 0 );
    l_U1355[0] = l_U1354;
    l_U1355[1] = l_U2685;
    l_U1355[2] = l_U2699;
    l_U1355[3] = l_U2708;
    l_U1355[4] = -1267912278;
    l_U1355[5] = 1550581806;
    l_U1355[6] = 1682089860;
    l_U1355[7] = l_U2723;
    l_U1355[8] = l_U2726;
    l_U1355[9] = l_U2749;
    l_U1355[10] = l_U2753;
    l_U1355[11] = l_U2669;
    l_U1355[12] = l_U2670;
    l_U1355[13] = l_U2671;
    l_U1355[14] = l_U2678;
    l_U1355[15] = l_U2679;
    l_U1355[16] = l_U2680;
    l_U1355[17] = l_U2686;
    l_U1355[18] = -367636848;
    l_U1355[19] = -985729267;
    l_U1355[20] = -2018457515;
    l_U1355[21] = -529475815;
    l_U1355[22] = 1739372840;
    l_U1355[23] = -1991423309;
    l_U1355[24] = 1340369130;
    l_U1355[25] = 1629971762;
    l_U1355[26] = 1629971762;
    l_U1355[27] = -75073551;
    l_U1355[28] = 21794980;
    l_U1355[29] = -934816225;
    l_U1355[30] = -726132516;
    l_U1355[31] = -304211046;
    l_U1355[32] = 429354730;
    l_U1355[33] = 729316143;
    l_U1355[34] = -318167782;
    l_U1355[35] = l_U2700;
    l_U1355[36] = l_U2701;
    l_U1355[37] = l_U2702;
    l_U1355[38] = l_U2709;
    l_U1355[39] = l_U2724;
    l_U1355[40] = l_U2725;
    l_U1355[41] = l_U2727;
    l_U1355[42] = l_U2728;
    l_U1355[43] = l_U2750;
    l_U1355[44] = l_U2751;
    l_U1355[45] = l_U2752;
     /* WRITESCRIPTLOG */ sub_1750( "AT", "SETUP_ASSET_ARRAYS end", 0 );
    return;
}

/* ROOF_LOAD_WEAPONS */ void sub_2608(unknown uParam0)
{
     /* LOADWEAPON */ sub_2645( -612753081, uParam0 );
     /* LOADWEAPON */ sub_2645( 1478009203, uParam0 );
     /* LOADWEAPON */ sub_2645( -1013714740, uParam0 );
     /* LOADWEAPON */ sub_2645( 514118749, uParam0 );
     /* LOADWEAPON */ sub_2645( 319712764, uParam0 );
    return;
}

/* LOADWEAPON */ void sub_2645(unknown uParam0, boolean bParam1)
{
    REQUEST_WEAPON( uParam0 );
    if (bParam1)
    {
        while ((HAS_WEAPON_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting to load weapon: {!f1} : {1} ###", 2, 1, 199730165, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* P_HANDLE_MUSIC */ void sub_2912()
{
    if (l_U1234 != l_U1232)
    {
         /* WRITESCRIPTLOG */ sub_1750( "TEH", "playing music:changed CUR FLAG", 0 );
         /* WRITE_INT */ sub_3005( l_U1232 );
         /* WRITE_INT */ sub_3005( l_U1233 );
        l_U1234 = l_U1232;
    }
    else if (l_U1235 != l_U1233)
    {
         /* WRITESCRIPTLOG */ sub_1750( "TEH", "playing music:changed NEW FLAG", 0 );
         /* WRITE_INT */ sub_3005( l_U1232 );
         /* WRITE_INT */ sub_3005( l_U1233 );
        l_U1235 = l_U1233;
    }
    switch (l_U1232)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_1750( "TEH", "playing music: MC_STARTUP ", 0 );
        AUDIO_MUSIC_FORCE_TRACK( "HOTEL_SONG", "HOTEL_SONG_5_6", "", 0, 4000, -1, -1082130432, 0 );
        l_U1232 = 3;
        break;
        case 2:
         /* WRITESCRIPTLOG */ sub_1750( "TEH", "playing music: MC_CHECKPOINT_RESTART_ROOFTOP ", 0 );
        AUDIO_MUSIC_FORCE_TRACK( "HOTEL_SONG", "HOTEL_SONG_5_6", "", 0, 4000, -1, -1082130432, 0 );
        l_U1232 = 3;
        break;
        case 3:
        if (l_U1233 == 3)
        {
            AUDIO_MUSIC_FORCE_TRACK( "HOTEL_SONG", "HOTEL_SONG_2_5_6", 0, 0, -1, -1, -1082130432, 0 );
            AUDIO_MUSIC_REQUEST_ONESHOT( "HOTEL_ONESHOT_15", 0 );
            l_U1232 = 4;
        }
        break;
        case 4:
        if (l_U1233 == 4)
        {
            if (AUDIO_MUSIC_IS_ONESHOT_PREPARED( "HOTEL_ONESHOT_15" ))
            {
                 /* WRITESCRIPTLOG */ sub_1750( "MF", "CUE: 9.3 playing music: HOTEL_ONESHOT_15 ", 0 );
                AUDIO_MUSIC_PLAY_ONESHOT();
                l_U1232 = 5;
            }
        }
        break;
        case 5:
        if (l_U1233 == 5)
        {
            AUDIO_MUSIC_FORCE_TRACK( "HOTEL_SONG", "HOTEL_SONG_5", "", 0, -1, 10000, -1082130432, 0 );
            l_U1232 = 6;
        }
        break;
        case 6:
        if (l_U1233 == 6)
        {
            AUDIO_MUSIC_SUSPEND( 10000 );
            l_U1232 = 7;
        }
        break;
    }
    return;
}

/* WRITE_INT */ void sub_3005(unknown uParam0)
{
    PRINTINT( uParam0 );
    PRINTNL();
    return;
}

/* HANDLE_FAILURE */ void sub_3784()
{
    if (g_U855 == 10)
    {
        switch (l_U1352)
        {
            case 0:
            if ( /* RESTARTING_CHECKPOINT */ sub_3883())
            {
                l_U1352 = 1;
                 /* WRITESCRIPTLOG */ sub_1750( "SBA", "RESTARTING CHECKPOINT: eFailState = FAIL_CLEANUP_ALL", 0 );
            }
            else if ((l_U1482) || (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
            {
                l_U1352 = 1;
                 /* WRITESCRIPTLOG */ sub_1750( "AT", "eFailState = FAIL_WAITING_FOR_PLAYER", 0 );
            }
            break;
            case 1:
            if ( /* IS_RESTART_ACTIVE */ sub_4590())
            {
                l_U1352 = 2;
            }
            else if (( /* F_CHECK_QUIT_RETRY */ sub_4650( 0 )) == 1)
            {
                l_U1352 = 2;
            }
            break;
            case 2:
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
            {
                l_U1352 = 3;
                 /* WRITESCRIPTLOG */ sub_1750( "AT", "eFailState = FAIL_CLEANUP_ALL", 0 );
            }
            break;
            case 3:
             /* WRITESCRIPTLOG */ sub_1750( "AT", "eFailState = FAIL_CLEANUP_ALL", 0 );
            if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() ))) AND (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_4217() ))))
            {
                SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_4217(), 1, 0 );
                if (GET_IS_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_4179() ))
                {
                    SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_4179(), 0 );
                }
                SET_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_4179(), 1 );
            }
            DO_SCREEN_FADE_OUT( 0 );
             /* P_IMAGEFX_STOP_BULLETCAM */ sub_6347( "MISS_DEATH_FAIL_FAST_01A" );
            DESTROY_ALL_CAMS();
            RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
            AUDIO_MUSIC_SUSPEND( 500 );
            RESET_FORCED_AIM_INTENTION_DIRECTION();
             /* P_CLEANUP_ALL */ sub_6600();
             /* UNLOAD_ROOFTOP_HEAVY_GUNNER_ASSETS */ sub_9915();
            l_U1352 = 4;
             /* WRITESCRIPTLOG */ sub_1750( "AT", "eFailState = FAIL_RESTORE_PLAYER", 0 );
            break;
            case 4:
             /* WRITESCRIPTLOG */ sub_1750( "AT", "eFailState = FAIL_RESTORE_PLAYER", 0 );
            if (l_U1311._fU0)
            {
                 /* P_RESTORE_HOTEL_PLAYER_DATA_CHECKPOINT */ sub_10491( ref l_U1311,  /* PLAYER_PED_ID */ sub_4179() );
            }
            l_U1352 = 5;
             /* WRITESCRIPTLOG */ sub_1750( "AT", "eFailState = FAIL_RESTART_CHECKPOINT", 0 );
            break;
            case 5:
             /* WRITESCRIPTLOG */ sub_1750( "AT", "eFailState = FAIL_RESTART_CHECKPOINT", 0 );
            l_U1347 = 3;
            l_U1349 = 0;
            l_U1482 = 0;
            l_U1232 = 2;
            l_U1352 = 0;
             /* WRITESCRIPTLOG */ sub_1750( "SP", "eFailState = FAIL_IDLE", 0 );
            break;
        }
    }
    return;
}

/* RESTARTING_CHECKPOINT */ int sub_3883()
{
    if (HAS_SELECTED_RETRY_CHECKPOINT())
    {
        if (IS_IN_NYMINUTE_MODE())
        {
            SWITCH_TO_LEVEL( GET_INDEX_OF_CURRENT_LEVEL() );
        }
        if (HAS_CUTSCENE_FINISHED() == 0)
        {
            return 0;
        }
        l_U0 = 0;
        g_U648 = 1;
        DO_SCREEN_FADE_OUT( 0 );
        ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 1 );
        TERMINATE_GAME_BULLET_CAMERA();
        if (IS_ANIMATED_CAMERA_PLAYING())
        {
            CAMERA_ANIMATED_STOP( 0, 0 );
        }
        STOP_ALL_SCRIPTED_CONVERSATIONS( 0 );
        DEACTIVATE_BULLET_TIME( 1, 0 );
        END_POSTFX_BLENDER( 0, 0 );
        END_POSTFX_BLENDER( 2, 0 );
        END_POSTFX_BLENDER( 3, 0 );
        END_POSTFX_BLENDER( 4, 0 );
        END_POSTFX_BLENDER( 5, 0 );
        END_POSTFX_BLENDER( 7, 0 );
        END_POSTFX_BLENDER( 9, 0 );
        END_POSTFX_BLENDER( 10, 0 );
        END_POSTFX_BLENDER( 11, 0 );
        END_POSTFX_BLENDER( 12, 0 );
        END_POSTFX_BLENDER( 13, 0 );
        END_POSTFX_BLENDER( 14, 0 );
        END_POSTFX_BLENDER( 15, 0 );
        END_POSTFX_BLENDER( 16, 0 );
        STOP_ALL_IMAGEFX( 0 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
        {
            SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_4179(), 0 );
            SET_PLAYER_FORCED_AIM(  /* PLAYER_ID */ sub_4217(), 0, 0 );
            SET_PLAYER_CAN_USE_SHOOTDODGE(  /* PLAYER_ID */ sub_4217(), 1 );
            if ((IS_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_4179() )) == 0)
            {
                SET_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_4179(), 1 );
            }
        }
        CLEAR_PRINTS();
        CLEAR_HELP();
        SET_INTERACTIONTEXT_VISIBLE( 0 );
        RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
        DESTROY_ALL_CAMS();
        AUDIO_MUSIC_SUSPEND( 500 );
        return 1;
    }
    return 0;
}

/* PLAYER_PED_ID */ int sub_4179()
{
    if (DOES_MAIN_PLAYER_EXIST())
    {
        return GET_PLAYER_PED(  /* PLAYER_ID */ sub_4217() );
    }
    return 0;
}

/* PLAYER_ID */ void sub_4217()
{
    return GET_PLAYER_ID();
}

/* IS_RESTART_ACTIVE */ void sub_4590()
{
    return g_U648;
}

/* F_CHECK_QUIT_RETRY */ int sub_4650(int iParam0)
{
    iParam0 = 1;
    switch (l_U1300)
    {
        case 0:
        if (NOT ( /* HASTIMERBEENACTIVATED */ sub_4732( ref l_U1302 )))
        {
            if ((IS_DEATH_PANEL_WIPE_ALLOWED()) AND (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
            {
                l_U1301 = 2000;
                ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 1 );
            }
             /* CREATETIMER */ sub_4866( ref l_U1302, l_U1301, 1, 1 );
             /* STARTTIMER */ sub_5016( ref l_U1302 );
        }
        if ( /* ISTIMERDONE */ sub_5149( ref l_U1302 ))
        {
             /* WRITESCRIPTLOG */ sub_1750( "NS", " show fail/retry text", 0 );
            if ((IS_DEATH_PANEL_WIPE_ALLOWED()) AND (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
            {
                if ((IS_BULLET_CAMERA_RUNNING( 0 )) == 0)
                {
                    if (IS_SCREEN_FADED_OUT())
                    {
                        DO_SCREEN_FADE_IN( 0 );
                    }
                }
                ENABLE_DEATHHELPERTEXT( 1, 1, 0 );
            }
            else if (IS_SCREEN_FADED_OUT())
            {
                DO_SCREEN_FADE_IN( 0 );
                ENABLE_DEATHHELPERTEXT( 1, iParam0, 0 );
            }
            else
            {
                ENABLE_DEATHHELPERTEXT( 1, iParam0, 0 );
            }
            if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_4217() )))
            {
                SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_4217(), 0, 0 );
            }
            DISPLAY_HUD( 0 );
            l_U1300 = 1;
        }
        break;
        case 1:
        if ((((NOT IS_QUIT_CONFIRMING()) == 1) AND (IS_BUTTON_JUST_PRESSED( 0, 501 ))) || ((N_1855335259()) || (IS_CONTROL_JUST_PRESSED( 2, 82 ))))
        {
            if (IS_QUIT_CONFIRMING() == 1)
            {
                l_U1300 = 2;
            }
            else
            {
                l_U1300 = 3;
            }
        }
        break;
        case 2:
         /* WRITESCRIPTLOG */ sub_1750( "NS", "Player will QUIT", 0 );
         /* P_POSTQUITRETRYCLEANUP */ sub_5650();
        if (iParam0 == 1)
        {
            DO_SCREEN_FADE_OUT( 0 );
        }
        START_PANEL_WIPE( 0, 6 );
        SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
        RETURN_TO_TITLESCREEN( 0 );
        break;
        case 3:
         /* WRITESCRIPTLOG */ sub_1750( "NS", "Player will RETRY", 0 );
        if (IS_IN_NYMINUTE_MODE())
        {
            SWITCH_TO_LEVEL( GET_INDEX_OF_CURRENT_LEVEL() );
        }
        if (iParam0 == 1)
        {
            DO_SCREEN_FADE_OUT( 0 );
        }
         /* P_POSTQUITRETRYCLEANUP */ sub_5650();
        return 1;
        break;
    }
    return 0;
}

/* HASTIMERBEENACTIVATED */ int sub_4732(int iParam0)
{
    if (iParam0->_fU20 == 1)
    {
        return 1;
    }
    if (iParam0->_fU16 == 1)
    {
        return 1;
    }
    return 0;
}

/* CREATETIMER */ void sub_4866(int iParam0, unknown uParam1, boolean bParam2, int iParam3)
{
    if (bParam2)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam3 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU12 = uParam1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = bParam2;
    iParam0->_fU32 = iParam3;
    iParam0->_fU8 = 0;
    return;
}

/* STARTTIMER */ void sub_5016(int iParam0)
{
    if (NOT iParam0->_fU20)
    {
        iParam0->_fU20 = 1;
        iParam0->_fU16 = 0;
        if (iParam0->_fU28)
        {
            iParam0->_fU0 = TIMERA();
        }
        else
        {
            iParam0->_fU0 = TIMERB();
        }
        if (iParam0->_fU32 == 1)
        {
            iParam0->_fU0 = TIMERSYSTEM();
        }
        iParam0->_fU4 = iParam0->_fU0;
    }
    return;
}

/* ISTIMERDONE */ int sub_5149(int iParam0)
{
    if (iParam0->_fU16)
    {
        return 0;
    }
    else if (NOT iParam0->_fU20)
    {
        return 0;
    }
    if (iParam0->_fU28)
    {
        iParam0->_fU4 = TIMERA();
    }
    else
    {
        iParam0->_fU4 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU4 = TIMERSYSTEM();
    }
    if ((iParam0->_fU4 - iParam0->_fU0) >= iParam0->_fU12)
    {
        iParam0->_fU16 = 1;
        iParam0->_fU20 = 0;
        return 1;
        break;
    }
    return 0;
}

/* P_POSTQUITRETRYCLEANUP */ void sub_5650()
{
     /* WRITESCRIPTLOG */ sub_1750( "NS", "P_PostFailRetryCleanup", 0 );
     /* RESETTIMER */ sub_5725( ref l_U1302 );
    ENABLE_DEATHHELPERTEXT( 0, 0, 2000 );
    SET_SCRIPT_CONTROL_RESET_ON_PLAYER_DEATH( 0 );
    if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_4217() )))
    {
        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_4217(), 1, 0 );
    }
    DISPLAY_HUD( 1 );
    l_U1299 = 0;
    l_U1299 = l_U1299;
    l_U1300 = 0;
    return;
}

/* RESETTIMER */ void sub_5725(int iParam0)
{
    if (iParam0->_fU28)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    return;
}

/* P_IMAGEFX_STOP_BULLETCAM */ void sub_6347(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_1750( "CO", "P_IMAGEFX_STOP_BULLETCAM:  Cameras Deleted", 0 );
    RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
     /* CLEANCAMERA */ sub_6457( ref l_U1231 );
    l_U1230 = 1;
    return;
}

/* CLEANCAMERA */ void sub_6457(unknown uParam0)
{
    if ((DOES_CAM_EXIST( (uParam0^) )) == 1)
    {
        if ((IS_CAM_ACTIVE( (uParam0^) )) == 1)
        {
            SET_CAM_ACTIVE( (uParam0^), 0 );
        }
        DESTROY_CAM( (uParam0^) );
    }
    (uParam0^) = nil;
    return;
}

/* P_CLEANUP_ALL */ void sub_6600()
{
    int I;

     /* WRITESCRIPTLOG */ sub_1750( "MW", "P_CLEANUP_ROOF start", 0 );
    STREAM_HELPERS_REQUEST_AT_LOC( 130.00000000, 50.00000000, 35.00000000, 0 );
    STOP_SCRIPT_STREAM( 0 );
    ENABLE_AMBIENT_ZONE( "S_HOTEL_ZONE_BUILDING_COLLAPSE", 0 );
    ENABLE_AMBIENT_STREAM( "S_HOTEL_OUTSIDE", 1 );
    ENABLE_AMBIENT_STREAM( "S_HOTEL_OUTSIDE_ROOFTOP", 0 );
    ENABLE_STATIC_EMITTER( "S_HOTEL_SE_ROOFTOP_RUMBLE_STREAM", 0 );
    ISEQ_TERMINATE( 469460336 );
    ISEQ_TERMINATE( -1844315547 );
    ISEQ_TERMINATE( -473924166 );
    RELEASE_SCRIPT_AUDIO_BANK();
     /* P_SAFE_STOP_SOUND */ sub_6884( l_U1745, 1 );
     /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U1745 );
     /* P_SAFE_STOP_SOUND */ sub_6884( l_U1746, 1 );
     /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U1746 );
     /* P_SAFE_STOP_SOUND */ sub_6884( l_U1502, 1 );
     /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U1502 );
     /* P_SAFE_STOP_SOUND */ sub_6884( l_U1724, 1 );
     /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U1724 );
     /* P_SAFE_STOP_SOUND */ sub_6884( l_U1725, 1 );
     /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U1725 );
     /* P_SAFE_STOP_SOUND */ sub_6884( l_U1726, 1 );
     /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U1726 );
     /* P_SAFE_STOP_SOUND */ sub_6884( l_U2217, 1 );
     /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U2217 );
     /* P_SAFE_STOP_SOUND */ sub_6884( l_U2218, 1 );
     /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U2218 );
     /* P_SAFE_STOP_SOUND */ sub_6884( l_U2219, 1 );
     /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U2219 );
     /* P_SAFE_STOP_SOUND */ sub_6884( l_U1669, 1 );
     /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U1669 );
     /* P_SAFE_STOP_SOUND */ sub_6884( l_U1670, 1 );
     /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U1670 );
    for ( I = 0; I <= 3; I++ )
    {
         /* P_SAFE_REMOVE_PARTICLE_FX */ sub_7491( ref l_U1807[I] );
    }
     /* P_ROOF_COLLAPSE_DELETE_OBJECTS */ sub_7572();
     /* CLEAN_EXPLOSION1 */ sub_8065();
     /* CLEAN_ALL_ROOFTOP_EXPLOSION2_OBJECTS */ sub_8271();
     /* P_CLEAN_ROOFTOP_BACK_COLLAPSE */ sub_8408();
     /* P_CLEAN_ROOFTOP_MID_COLLAPSE */ sub_8614();
     /* P_CLEAN_ROOFTOP_CORNER_EXPLOSION */ sub_8817();
     /* P_CLEAN_ROOFTOP_HALL_COLLAPSE */ sub_9062();
     /* CLEANPEDARRAY */ sub_9262( ref l_U2145 );
     /* CLEANPED */ sub_9312( l_U2233 );
     /* CLEANPEDARRAY */ sub_9262( ref l_U2248 );
     /* CLEANPEDARRAY */ sub_9262( ref l_U2361 );
     /* CLEANPED */ sub_9312( l_U2387 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
    {
        SET_PED_PROOFS(  /* PLAYER_PED_ID */ sub_4179(), 0, 0, 0, 0, 0 );
    }
     /* CLEANVEHICLE */ sub_9494( g_U991 );
     /* CLEANPLACEMENTARRAY */ sub_9567( ref l_U2011 );
     /* CLEAR_LOADED_CUTSCENE */ sub_9706( l_U2782 );
     /* CLEAR_LOADED_CUTSCENE */ sub_9706( l_U1267 );
     /* WRITESCRIPTLOG */ sub_1750( "MW", "P_CLEANUP_ROOF end", 0 );
    return;
}

/* P_SAFE_STOP_SOUND */ void sub_6884(int iParam0, unknown uParam1)
{
    if (iParam0 != -1)
    {
         /* WRITESCRIPTLOG */ sub_1750( "MF", "P_SAFE_STOP_SOUND: Stopping Sound...", 0 );
        STOP_SOUND( iParam0, uParam1 );
    }
    else
    {
         /* WRITESCRIPTLOG */ sub_1750( "MF", "P_SAFE_STOP_SOUND: Not stopping sound (SoundID = -1)", 0 );
    }
    return;
}

/* P_SAFE_RELEASE_SOUND_ID */ void sub_7067(unknown uParam0)
{
    if ((uParam0^) != -1)
    {
         /* WRITESCRIPTLOG */ sub_1750( "MF", "P_SAFE_RELEASE_SOUND_ID: Releasing Sound...", 0 );
        RELEASE_SOUND_ID( (uParam0^) );
        (uParam0^) = -1;
    }
    else
    {
         /* WRITESCRIPTLOG */ sub_1750( "MF", "P_SAFE_RELEASE_SOUND_ID: Not RELEASING sound (SoundID != -1)", 0 );
    }
    return;
}

/* P_SAFE_REMOVE_PARTICLE_FX */ void sub_7491(unknown uParam0)
{
    if ((uParam0^) != 0)
    {
        REMOVE_PARTICLE_FX( (uParam0^) );
        (uParam0^) = 0;
    }
    return;
}

/* P_ROOF_COLLAPSE_DELETE_OBJECTS */ void sub_7572()
{
     /* CLEANOBJECT */ sub_7622( l_U750._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U767._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U784._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U801._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U818[0]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U818[1]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U818[2]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U818[3]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U818[4]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U818[5]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U818[6]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U818[7]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U955[0]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U955[1]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U955[2]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U955[3]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U955[4]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U955[5]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U955[6]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U955[7]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U955[8]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U955[9]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U955[10]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U1143[0]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U1143[1]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U1143[2]._fU0 );
     /* CLEANOBJECT */ sub_7622( l_U1143[3]._fU0 );
    return;
}

/* CLEANOBJECT */ void sub_7622(unknown uParam0)
{
    if (DOES_OBJECT_EXIST( uParam0 ))
    {
        DELETE_OBJECT( ref uParam0 );
    }
    return;
}

/* CLEAN_EXPLOSION1 */ void sub_8065()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "CLEAN_EXPLOSION1 start", 0 );
     /* P_SAFE_REMOVE_PARTICLE_FX */ sub_7491( ref l_U2658 );
     /* CLEANOBJECT */ sub_7622( l_U2638 );
     /* CLEANOBJECT */ sub_7622( l_U2639 );
     /* CLEANOBJECT */ sub_7622( l_U2640 );
     /* CLEANOBJECT */ sub_7622( l_U2641 );
     /* CLEANOBJECT */ sub_7622( l_U2642 );
     /* CLEANOBJECT */ sub_7622( l_U2645 );
     /* CLEANOBJECT */ sub_7622( l_U2643 );
     /* CLEANOBJECT */ sub_7622( l_U2644 );
     /* CLEANOBJECT */ sub_7622( l_U2646 );
     /* WRITESCRIPTLOG */ sub_1750( "GA", "CLEAN_EXPLOSION1 end", 0 );
    return;
}

/* CLEAN_ALL_ROOFTOP_EXPLOSION2_OBJECTS */ void sub_8271()
{
     /* CLEANOBJECT */ sub_7622( l_U2610 );
     /* CLEANOBJECT */ sub_7622( l_U2611 );
     /* CLEANOBJECT */ sub_7622( l_U2612 );
     /* CLEANOBJECT */ sub_7622( l_U2615 );
     /* CLEANOBJECT */ sub_7622( l_U2616 );
     /* CLEANOBJECT */ sub_7622( l_U2618 );
     /* CLEANOBJECT */ sub_7622( l_U2619 );
     /* CLEANOBJECT */ sub_7622( l_U2620 );
    return;
}

/* P_CLEAN_ROOFTOP_BACK_COLLAPSE */ void sub_8408()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_CLEAN_ROOFTOP_BACK_COLLAPSE start", 0 );
     /* CLEANOBJECT */ sub_7622( l_U2695 );
     /* CLEANOBJECT */ sub_7622( l_U2696 );
     /* CLEANOBJECT */ sub_7622( l_U2697 );
     /* CLEANOBJECT */ sub_7622( l_U2698 );
     /* CLEANOBJECT */ sub_7622( l_U2706 );
     /* CLEANOBJECT */ sub_7622( l_U2707 );
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_CLEAN_ROOFTOP_BACK_COLLAPSE end", 0 );
    return;
}

/* P_CLEAN_ROOFTOP_MID_COLLAPSE */ void sub_8614()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_CLEAN_ROOFTOP_MID_COLLAPSE start", 0 );
     /* CLEANOBJECT */ sub_7622( l_U2717 );
     /* CLEANOBJECT */ sub_7622( l_U2718 );
     /* CLEANOBJECT */ sub_7622( l_U2719 );
     /* CLEANOBJECT */ sub_7622( l_U2720 );
     /* CLEANOBJECT */ sub_7622( l_U2721 );
     /* CLEANOBJECT */ sub_7622( l_U2722 );
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_CLEAN_ROOFTOP_MID_COLLAPSE end", 0 );
    return;
}

/* P_CLEAN_ROOFTOP_CORNER_EXPLOSION */ void sub_8817()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_CLEAN_ROOFTOP_CORNER_EXPLOSION start", 0 );
     /* CLEANOBJECT */ sub_7622( l_U2666 );
     /* CLEANOBJECT */ sub_7622( l_U2667 );
     /* CLEANOBJECT */ sub_7622( l_U2668 );
     /* CLEANOBJECT */ sub_7622( l_U2674 );
     /* CLEANOBJECT */ sub_7622( l_U2675 );
     /* CLEANOBJECT */ sub_7622( l_U2676 );
     /* CLEANOBJECT */ sub_7622( l_U2677 );
     /* CLEANOBJECT */ sub_7622( l_U2683 );
     /* CLEANOBJECT */ sub_7622( l_U2684 );
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_CLEAN_ROOFTOP_CORNER_EXPLOSION end", 0 );
    return;
}

/* P_CLEAN_ROOFTOP_HALL_COLLAPSE */ void sub_9062()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_CLEAN_ROOFTOP_HALL_COLLAPSE start", 0 );
     /* CLEANOBJECT */ sub_7622( l_U2744 );
     /* CLEANOBJECT */ sub_7622( l_U2745 );
     /* CLEANOBJECT */ sub_7622( l_U2746 );
     /* CLEANOBJECT */ sub_7622( l_U2747 );
     /* CLEANOBJECT */ sub_7622( l_U2748 );
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_CLEAN_ROOFTOP_HALL_COLLAPSE end", 0 );
    return;
}

/* CLEANPEDARRAY */ void sub_9262(unknown uParam0)
{
    int I;

    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
         /* CLEANPED */ sub_9312( (uParam0^)[I] );
    }
    return;
}

/* CLEANPED */ void sub_9312(unknown uParam0)
{
    if (DOES_PED_EXIST( uParam0 ))
    {
        if ((NOT (IS_PED_DEAD( uParam0 ))) || (IS_PED_DEAD( uParam0 )))
        {
            REMOVE_ALL_PED_WEAPONS( uParam0 );
            DELETE_PED( ref uParam0 );
        }
    }
    return;
}

/* CLEANVEHICLE */ void sub_9494(unknown uParam0)
{
    if (IS_VEHICLE_DEAD( uParam0 ))
    {
        ;
    }
    if (DOES_VEHICLE_EXIST( uParam0 ))
    {
        DELETE_VEHICLE( ref uParam0 );
    }
    return;
}

/* CLEANPLACEMENTARRAY */ void sub_9567(unknown uParam0)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
         /* CLEANPLACEMENT */ sub_9622( (uParam0^)[I] );
    }
    return;
}

/* CLEANPLACEMENT */ void sub_9622(unknown uParam0)
{
    if ((DOES_PLACEMENT_EXIST( uParam0 )) == 1)
    {
        REMOVE_PLACEMENT( uParam0 );
    }
    return;
}

/* CLEAR_LOADED_CUTSCENE */ void sub_9706(unknown uParam0)
{
    if ((CUTSCENE_NAMED_IS_LOADING( uParam0 )) || (CUTSCENE_IS_LOADED( uParam0 )))
    {
         /* WRITESCRIPTLOG */ sub_1750( "SBA", "Clearing cutscene:", 0 );
         /* WRITE_STRING */ sub_9799( uParam0 );
        CLEAR_NAMED_CUTSCENE( uParam0 );
    }
    return;
}

/* WRITE_STRING */ void sub_9799(unknown uParam0)
{
    PRINTSTRING( uParam0 );
    PRINTNL();
    return;
}

/* UNLOAD_ROOFTOP_HEAVY_GUNNER_ASSETS */ void sub_9915()
{
     /* WRITESCRIPTLOG */ sub_1750( "MF", "UNLOAD_ROOFTOP_HEAVY_GUNNER_ASSETS - START", 0 );
     /* UNLOADANIMDICT */ sub_10035( "AMED_HEVY_CORE" );
     /* UNLOADACTIONTREE */ sub_10103( "NPC/BOSS_HeavyGunner" );
     /* UNLOADMODEL */ sub_10155( 619024212 );
     /* WRITESCRIPTLOG */ sub_1750( "MF", "UNLOAD_ROOFTOP_HEAVY_GUNNER_ASSETS - END", 0 );
    return;
}

/* UNLOADANIMDICT */ void sub_10035(unknown uParam0)
{
    REMOVE_ANIM_DICT( uParam0, 0 );
    return;
}

/* UNLOADACTIONTREE */ void sub_10103(unknown uParam0)
{
    ACTION_TREE_UNLOAD( uParam0 );
    return;
}

/* UNLOADMODEL */ void sub_10155(unknown uParam0)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 1)
    {
        SET_MODEL_AS_NO_LONGER_NEEDED( uParam0 );
    }
    else
    {
         /* WRITE_STRING */ sub_9799( "[SP]### ERROR! (UnloadModel) Trying to unload a model that isn't in the img! ###" );
    }
    return;
}

/* P_RESTORE_HOTEL_PLAYER_DATA_CHECKPOINT */ void sub_10491(unknown uParam0, unknown uParam1)
{
     /* P_RESTORE_PLAYER_DATA_CHECKPOINT */ sub_10546( uParam0, uParam1 );
     /* RESTORE_WATERBOTTLE_STATE */ sub_14996( uParam0 );
    return;
}

/* P_RESTORE_PLAYER_DATA_CHECKPOINT */ void sub_10546(int iParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    int iVar9;
    int iVar10;
    int iVar11;
    unknown uVar12;
    unknown uVar13;

     /* WRITESCRIPTLOG */ sub_1750( "GA", "Restoring the player to the checkpoint - Start", 0 );
    if (l_U0)
    {
        INCREMENT_CHECKPOINT_ATTEMPT();
    }
    g_U648 = 0;
    if (iParam0->_fU0 == 0)
    {
        SCRIPT_ASSERT( "ERROR: Trying to restore a checkpoint that hasn't been saved!!!", 0 );
    }
     /* CLOSE_CURRENT_LEVEL_CONTEXT */ sub_10765( iParam0->_fU52 );
    if (SCRIPT_VAR_EXISTS( "SV_LOAD_CNT" ))
    {
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", (SCRIPT_VAR_GET_INT( "SV_LOAD_CNT" )) + 1 );
    }
    else
    {
        SCRIPT_VAR_ADD_INT( "SV_LOAD_CNT" );
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", 1 );
    }
    CLEAR_KILL_STREAK_RECORDS();
    AUDIO_MUSIC_SUSPEND( 0 );
    DEACTIVATE_BULLET_TIME( 1, 0 );
    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
    REMOVE_ALL_ENVIRONMENT_BLOOD();
    RESET_BLOOD_EFFECTS();
    REMOVE_ALL_GLINTS();
    RESET_DESTROYED_COVER();
    RESET_ALL_PTFX();
    uVar4 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam1 )};
    CLEAR_AREA( iParam0->_fU4, 10000.00000000, 1 );
    if (NOT (IS_PED_DEAD( uParam1 )))
    {
        SET_PED_COORDS( uParam1, iParam0->_fU4, 1 );
         /* LOADCOLLISIONFORPED */ sub_11929( uParam1 );
        SET_PED_HEADING( uParam1, iParam0->_fU16 );
    }
    CLEAR_AREA( uVar4, 3.00000000, 1 );
    LOAD_SCENE( iParam0->_fU4 );
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
    iParam0->_fU28 = GET_PED_MAX_HEALTH( uParam1 );
    SET_PED_HEALTH( uParam1, iParam0->_fU28, 0 );
    RESET_PED_GORE( uParam1 );
    RESET_PED_VISIBLE_DAMAGE( uParam1 );
    REMOVE_ALL_PED_WEAPONS( uParam1 );
    if (NOT (iParam0->_fU56 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPONTOHOLSTER */ sub_12243( uParam1, iParam0->_fU56, 0, iParam0->_fU76, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_12678( uVar7, iParam0 + 96, iParam0 + 100 );
    }
    if (NOT (iParam0->_fU60 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPONTOHOLSTER */ sub_12243( uParam1, iParam0->_fU60, 1, iParam0->_fU80, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_12678( uVar7, iParam0 + 104, iParam0 + 108 );
    }
    if (NOT (iParam0->_fU64 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPONTOHOLSTER */ sub_12243( uParam1, iParam0->_fU64, 2, iParam0->_fU84, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_12678( uVar7, iParam0 + 112, iParam0 + 116 );
    }
    if (NOT (iParam0->_fU68 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPON */ sub_12994( uParam1, iParam0->_fU68, iParam0->_fU88, 0, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_12678( uVar7, iParam0 + 120, iParam0 + 124 );
    }
    if (NOT (iParam0->_fU72 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPON */ sub_12994( uParam1, iParam0->_fU72, iParam0->_fU92, 1, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_12678( uVar7, iParam0 + 128, iParam0 + 132 );
    }
    if (l_U0 == 1)
    {
        if ((IS_PED_DEAD( uParam1 )) == 0)
        {
            if (iParam0->_fU68 != -1569615261)
            {
                uVar7 = GET_WEAPON_FROM_HAND( uParam1, 0, 0 );
                if ((GET_DOES_WEAPON_EXIST( uVar7 )) == 1)
                {
                    uVar8 = GET_WEAPON_TYPE( uVar7 );
                    if (( /* F_CAN_GIVE_AMMO_TO_REGULAR_WEAPON_TYPE */ sub_13566( uVar8 )) == 1)
                    {
                        iVar9 = GET_MAX_AMMO_IN_HAND_CLIP_MP( uParam1, 0 );
                        iVar10 = iParam0->_fU88;
                        if (iVar10 < iVar9)
                        {
                            iVar11 = iVar9 - iVar10;
                            ADD_AMMO_TO_PED( uParam1, uVar8, iVar11, 0 );
                            SET_WEAPON_AMMO_IN_CLIP( uVar7, iVar9 );
                        }
                    }
                }
            }
        }
    }
     /* START_NEW_LEVEL_CONTEXT */ sub_13768( iParam0->_fU52 );
    SET_ADRENALINE_AMT( iParam0->_fU32 );
    if (GET_ADRENALINE_AMT() < 0.20000000)
    {
        SET_ADRENALINE_AMT( 0.20000000 );
    }
    SET_PAYNEKILLER_AMT( iParam0->_fU36 );
    SET_PED_DUCKING(  /* PLAYER_PED_ID */ sub_4179(), 0 );
    GET_TIME_OF_DAY( ref uVar12, ref uVar13 );
    if (iParam0->_fU140 == 1)
    {
        FREEZE_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    else
    {
        RELEASE_TIME_OF_DAY();
        SET_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    SET_PED_SWEAT( uParam1, iParam0->_fU136, -1.00000000 );
    RESTORE_PICKUPS();
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( iParam0->_fU20, 1065353216, 0 );
    SET_GAMEPLAY_CAM_RELATIVE_PITCH( iParam0->_fU24, 1065353216, 0 );
    HANDLE_CHECKPOINT_RESTART();
    if (l_U0)
    {
        ADJUST_AMMO_ATTEMPTS();
        ADJUST_PAIN_KILLERS_ATTEMPTS();
    }
    l_U0 = 1;
    DISPLAY_HUD( 1 );
    if (IS_DEATH_PANEL_WIPE_ALLOWED())
    {
        if (IS_BULLET_CAMERA_WIPE_STOPPED())
        {
            RESUME_BULLET_CAMERA_WIPE_ON_FADEIN();
        }
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "Restoring the player to the checkpoint - End", 0 );
    return;
}

/* CLOSE_CURRENT_LEVEL_CONTEXT */ void sub_10765(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    iVar3 = 0;
    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        iVar3 =  /* GET_MISSION_INDEX_FROM_NAME */ sub_10827( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, iVar3, 513, uParam0 );
    END_CONTEXT( ref uVar4 );
    return;
}

/* GET_MISSION_INDEX_FROM_NAME */ int sub_10827(unknown uParam0)
{
    if (ARE_STRINGS_EQUAL( uParam0, "s_air" ))
    {
        return 21;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_beach" ))
    {
        return 22;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_boat" ))
    {
        return 10;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_booze" ))
    {
        return 0;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_busdep" ))
    {
        return 17;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_cemet" ))
    {
        return 15;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_club" ))
    {
        return 5;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_clubride" ))
    {
        return 4;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fashion" ))
    {
        return 3;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav0" ))
    {
        return 13;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav1" ))
    {
        return 14;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav2" ))
    {
        return 16;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fire" ))
    {
        return 12;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_hotel" ))
    {
        return 19;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_intro" ))
    {
        return 1;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_marina" ))
    {
        return 9;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc" ))
    {
        return 7;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc2" ))
    {
        return 8;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_office" ))
    {
        return 11;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_pana" ))
    {
        return 18;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_police" ))
    {
        return 20;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_stad" ))
    {
        return 6;
    }
    else
    {
        PRINTSTRING( uParam0 );
        PRINTSTRING( uParam0 );
        PRINTSTRING( uParam0 );
    };;;;;;;;;;;;;;;;;;;;;;
    return 99;
}

/* LOADCOLLISIONFORPED */ void sub_11929(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
        SET_LOAD_COLLISION_FOR_PED_FLAG( uParam0, 1 );
        SET_PED_COORDS_NO_OFFSET( uParam0, uVar3 );
        FREEZE_PED_POSITION( uParam0, 1 );
        REQUEST_COLLISION_AT_COORD( uVar3 );
        if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
        {
            FREEZE_PED_POSITION( uParam0, 0 );
        }
    }
    return;
}

/* F_GIVEPEDWEAPONTOHOLSTER */ void sub_12243(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's holster MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HOLSTER( uParam0, uParam1, uParam3, uParam2 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
                    DISPLAYF( "[SP]### Waiting for a weapon to exist: {} ###", 1, 513, uParam1 );
                }
            }
        }
    }
    else
    {
         /* WRITE_STRING */ sub_9799( "[SP]### (F_GivePedWeaponToHolster) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

/* P_RESTORE_WEAPON_ATTACHMENTS */ void sub_12678(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        if (IS_BIT_SET( (uParam1^), I ))
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, IS_BIT_SET( (uParam2^), I ) );
        }
        else
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
        }
    }
    return;
}

/* F_GIVEPEDWEAPON */ void sub_12994(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's hand MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, uParam2, uParam3 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
                    DISPLAYF( "[SP]### Waiting for a weapon to exist: {} ###", 1, 513, uParam1 );
                }
            }
        }
    }
    else
    {
         /* WRITE_STRING */ sub_9799( "[SP]### (F_GivePedWeapon) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

/* F_CAN_GIVE_AMMO_TO_REGULAR_WEAPON_TYPE */ int sub_13566(unknown uParam0)
{
    int iVar3;

    iVar3 = GET_WEAPONTYPE_AMMO( uParam0 );
    if ((iVar3 == -1383321053) || ((iVar3 == -1295933220) || ((iVar3 == 1138793073) || (iVar3 == -1088031219))))
    {
        return 1;
    }
    return 0;
}

/* START_NEW_LEVEL_CONTEXT */ void sub_13768(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        uVar3 =  /* GET_MISSION_INDEX_FROM_NAME */ sub_10827( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, uParam0 );
     /* CLEAR_GG_CONTEXTS */ sub_13866( uVar3 );
    START_CONTEXT( ref uVar4 );
    return;
}

/* CLEAR_GG_CONTEXTS */ void sub_13866(int iParam0)
{
    if (iParam0 != 3)
    {
        END_CONTEXT( "S_FAS_GG_PT" );
    }
    if (iParam0 != 5)
    {
        END_CONTEXT( "S_CLB_GG_M3" );
        END_CONTEXT( "S_CLB_MS" );
    }
    if (iParam0 != 6)
    {
        END_CONTEXT( "S_STA_GG_M1" );
        END_CONTEXT( "S_STA_GG_M81" );
    }
    if (iParam0 != 7)
    {
        END_CONTEXT( "S_NY1_GG_19" );
    }
    if (iParam0 != 8)
    {
        END_CONTEXT( "S_NY2_GG_40" );
        END_CONTEXT( "S_NY2_GG_M5" );
    }
    if (iParam0 != 9)
    {
        END_CONTEXT( "S_MAR_GG_LM" );
        END_CONTEXT( "S_MAR_GG_9M" );
    }
    if (iParam0 != 11)
    {
        END_CONTEXT( "S_OFF_GG_MD" );
    }
    if (iParam0 != 14)
    {
        END_CONTEXT( "S_FV1_GG_SP" );
        END_CONTEXT( "S_FV1_GG_SA" );
    }
    if (iParam0 != 15)
    {
        END_CONTEXT( "S_NYC_GG_6M" );
        END_CONTEXT( "S_NYC_GG_A9" );
    }
    if (iParam0 != 16)
    {
        END_CONTEXT( "S_FV2_GG_D5" );
        END_CONTEXT( "S_FV2_GG_97" );
    }
    if (iParam0 != 17)
    {
        END_CONTEXT( "S_BUS_GG_M4" );
        END_CONTEXT( "S_BUS_GG_FN" );
    }
    if (iParam0 != 18)
    {
        END_CONTEXT( "S_PAN_GG_AK" );
        END_CONTEXT( "S_PAN_GG_SS" );
    }
    if (iParam0 != 19)
    {
        END_CONTEXT( "S_HOT_GG_G3" );
        END_CONTEXT( "S_HOT_GG_LA" );
    }
    if (iParam0 != 20)
    {
        END_CONTEXT( "S_POL_GG_G6" );
        END_CONTEXT( "S_POL_GG_RP" );
        END_CONTEXT( "S_POL_GG_MP" );
    }
    if (iParam0 != 21)
    {
        END_CONTEXT( "S_AIR_GG_RG" );
        END_CONTEXT( "S_AIR_GG_PD" );
    }
    return;
}

/* RESTORE_WATERBOTTLE_STATE */ void sub_14996(int iParam0)
{
    unknown uVar3;

     /* WRITESCRIPTLOG */ sub_1750( "BSW", "RESTORE_WATERBOTTLE_STATE start", 0 );
    uVar3 =  /* GET_WATERBOTTLE_FROM_PLAYER */ sub_15080();
    if (GET_DOES_WEAPON_EXIST( uVar3 ))
    {
        SET_SUPPRESSOR_DAMAGE_LEVEL( uVar3, iParam0->_fU48 );
        DISPLAYF( "RESTORE_WATERBOTTLE_STATE found water bottle suppressor - restoring the state: {}", 1, 513, iParam0->_fU48 );
    }
    return;
}

/* GET_WATERBOTTLE_FROM_PLAYER */ void sub_15080()
{
    boolean bVar2;
    unknown Result;

     /* WRITESCRIPTLOG */ sub_1750( "BSW", "DOES_PLAYER_HAVE_WATERBOTTLE start", 0 );
    bVar2 = false;
    if ( /* IS_MAX_VALID */ sub_15172())
    {
        Result = GET_WEAPON_FROM_SLOT(  /* PLAYER_PED_ID */ sub_4179(), 0 );
        if (GET_DOES_WEAPON_EXIST( Result ))
        {
            if ((GET_WEAPON_TYPE( Result )) == 811797242)
            {
                bVar2 = true;
            }
        }
        if (NOT bVar2)
        {
            Result = GET_WEAPON_FROM_SLOT(  /* PLAYER_PED_ID */ sub_4179(), 1 );
            if (GET_DOES_WEAPON_EXIST( Result ))
            {
                if ((GET_WEAPON_TYPE( Result )) == 811797242)
                {
                    bVar2 = true;
                }
            }
        }
    }
    if (bVar2)
    {
        return Result;
        break;
    }
    return nil;
}

/* IS_MAX_VALID */ int sub_15172()
{
    if ( /* IS_PED_VALID */ sub_15202(  /* PLAYER_PED_ID */ sub_4179() ))
    {
        return 1;
    }
    return 0;
}

/* IS_PED_VALID */ int sub_15202(unknown uParam0)
{
    if ((NOT (IS_PED_DEAD( uParam0 ))) AND (DOES_PED_EXIST( uParam0 )))
    {
        return 1;
    }
    return 0;
}

/* HANDLE_EVENTS */ void sub_15779()
{
    int iVar2;
    int iVar3;
    unknown uVar4;
    int I;
    float fVar6;
    float fVar7;
    float fVar8;
    int J;

    iVar2 = l_U1347;
     /* P_HANDLE_SP_CHALLENGES */ sub_15812();
    switch (l_U1347)
    {
        case 0:
        if ( /* ISTIMERDONE */ sub_5149( ref l_U2594 ))
        {
            DEACTIVATE_BULLET_TIME( 1, 0 );
        }
         /* P_CAM_SHAKE_HANDLE */ sub_16374( ref l_U1758 );
        break;
        case 1:
         /* WRITESCRIPTLOG */ sub_1750( "AT", "eRooftopState = ROOFTOP_LEVEL_LOAD_SCRIPT_SETUP", 0 );
         /* ROOF_LOAD_WEAPONS */ sub_2608( 1 );
        if (NOT ( /* HAS_SAVEFILE_LOADED */ sub_16994( ref l_U1311 )))
        {
             /* F_GIVEPEDWEAPON */ sub_12994(  /* PLAYER_PED_ID */ sub_4179(), -612753081, 50, 0, 0 );
             /* F_GIVEPEDWEAPONTOHOLSTER */ sub_12243(  /* PLAYER_PED_ID */ sub_4179(), -1013714740, 2, 200, 0 );
             /* F_GIVEPEDWEAPONTOHOLSTER */ sub_12243(  /* PLAYER_PED_ID */ sub_4179(), -612753081, 0, 50, 0 );
            SET_PAYNEKILLER_AMT( 4 );
            l_U1347 = 2;
             /* WRITESCRIPTLOG */ sub_1750( "AT", "eRooftopState = ROOFTOP_WAIT_FOR_PLAYER_WEAPONS", 0 );
        }
        else
        {
            l_U1347 = 3;
             /* WRITESCRIPTLOG */ sub_1750( "AT", "eRooftopState = ROOFTOP_INITIALIZE_SCRIPT_DATA", 0 );
        }
        break;
        case 2:
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
        {
            if ((GET_DOES_WEAPON_EXIST( GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_4179(), 2 ) )) AND ((GET_DOES_WEAPON_EXIST( GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_4179(), 0 ) )) AND (GET_DOES_WEAPON_EXIST( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 0, 0 ) ))))
            {
                g_U855 = 10;
                 /* P_SAVE_HOTEL_PLAYER_DATA_CHECKPOINT */ sub_17551( ref l_U1311, g_U855,  /* PLAYER_PED_ID */ sub_4179(), g_U1020[10], g_U1123[10], g_U1158[10], g_U1193[10], 0 );
                l_U1347 = 3;
                 /* WRITESCRIPTLOG */ sub_1750( "AT", "eRooftopState = ROOFTOP_INITIALIZE_SCRIPT_DATA", 0 );
            }
        }
        break;
        case 3:
         /* WRITESCRIPTLOG */ sub_1750( "AT", "eRooftopState = ROOFTOP_INITIALIZE_SCRIPT_DATA", 0 );
         /* P_INITIALIZE_SCRIPT_DATA */ sub_22535();
         /* P_SET_STATIC_DATA */ sub_23031();
         /* P_INITIALIZE_SP_CHALLENGES */ sub_29070();
        SET_SCRIPT_CONTROL_RESET_ON_PLAYER_DEATH( 1 );
        l_U1347 = 4;
         /* WRITESCRIPTLOG */ sub_1750( "AT", "eRooftopState = ROOFTOP_REQUEST_ASSETS", 0 );
        break;
        case 4:
         /* WRITESCRIPTLOG */ sub_1750( "AT", "eRooftopState = ROOFTOP_REQUEST_ASSETS", 0 );
        l_U1347 = 5;
         /* WRITESCRIPTLOG */ sub_1750( "AT", "eRooftopState = ROOFTOP_LOADING_ASSETS", 0 );
        break;
        case 5:
         /* WRITESCRIPTLOG */ sub_1750( "SP", "eRooftopState = ROOFTOP_LOADING_ASSETS", 0 );
         /* LOAD_12_05_ASSETS */ sub_29894();
         /* ROOF_LOAD_WEAPONS */ sub_2608( 1 );
         /* WRITESCRIPTLOG */ sub_1750( "RJM", "eRooftopState = ROOFTOP_PRESPAWN_PEDS", 0 );
        l_U1347 = 6;
        break;
        case 6:
        if (l_U1348)
        {
            l_U2156 = 1;
        }
        if ((l_U2156 != 4) AND (l_U2156 != 0))
        {
             /* P_ROOF_SPAWN_WAVE1_ENEMIES */ sub_31477();
        }
        if (l_U2156 == 4)
        {
             /* SET_HOTEL_WEATHER_AND_TOD */ sub_34553( 10 );
            if ((NOT l_U1349) || (g_U854 == 10))
            {
                 /* LOAD_ROOFTOP_RAYFIRE_ASSETS */ sub_35020( 1 );
                 /* LOADMODEL */ sub_29983( 1721151522, 1 );
                 /* P_SETUP_ROOF_GAMEPLAY */ sub_35731();
                 /* NIS_PRE_SETUP */ sub_40869( 1, 0, 0, 1 );
                 /* P_ROOF_START_BLENDOUT_1205 */ sub_41044();
                 /* WRITESCRIPTLOG */ sub_1750( "RJM", "eRooftopState = ROOFTOP_BLENDOUT_12_05", 0 );
                l_U1347 = 9;
            }
            else
            {
                 /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2884, 0, 0, 0, 0, 1460404455, 26, 6, 0, 0, 0 );
                l_U2883 =  /* CREATEPED */ sub_32087( ref l_U2884 );
                 /* P_ROOF_REGISTER_CP_FOR_1205_BLENDOUT */ sub_41129();
                 /* WRITESCRIPTLOG */ sub_1750( "RJM", "eRooftopState = ROOFTOP_WAIT_TO_START_IN_FLOW", 0 );
                l_U1347 = 7;
            }
        }
        break;
        case 7:
        if (g_U1001)
        {
             /* REGISTER_PEDS_HOTEL_CUT_12_05 */ sub_44105( ref l_U2145, ref l_U2883 );
            l_U1347 = 8;
            CUTSCENE_ENABLE_SKIP( 0 );
        }
        break;
        case 8:
         /* PLAY_HOTEL_CUT_12_05 */ sub_45453( 1, 0, 0 );
        if (NOT HAS_CUTSCENE_FINISHED())
        {
            if (NOT l_U1351)
            {
                if (GET_CUTSCENE_TIME_MS() > 30000)
                {
                     /* WRITESCRIPTLOG */ sub_1750( "GA", "Requesting remaining roof assets.", 0 );
                     /* LOAD_ROOFTOP_RAYFIRE_ASSETS */ sub_35020( 0 );
                    l_U1351 = 1;
                }
            }
            if ((l_U1351) AND (NOT l_U1350))
            {
                if ( /* F_ROOF_ARE_ALL_MODELS_LOADED */ sub_49420())
                {
                     /* WRITESCRIPTLOG */ sub_1750( "GA", "All assets loaded.  cutscene can be skipped.", 0 );
                    CUTSCENE_ENABLE_SKIP( 1 );
                    l_U1350 = 1;
                }
            }
        }
        if ((l_U2763 == 5) || ((HAS_CUTSCENE_FINISHED()) AND (l_U2763 >= 4)))
        {
             /* P_ROOF_START_BLENDOUT_1205_FROM_CUTSCENE */ sub_49779();
             /* CLEANPEDARRAY */ sub_9262( ref l_U2783 );
             /* CLEANPED */ sub_9312( l_U2883 );
            AUDIO_MUSIC_FORCE_TRACK( "HOTEL_SONG", "HOTEL_SONG_5_6", "", 0, 4000, -1, -1082130432, 0 );
             /* LOAD_ROOFTOP_RAYFIRE_ASSETS */ sub_35020( 1 );
             /* CLEAN_STATIC_ROOFTOP_PIECES_FROM_CUTSCENE */ sub_47681();
             /* P_SETUP_ROOF_GAMEPLAY */ sub_35731();
            l_U1347 = 9;
             /* WRITESCRIPTLOG */ sub_1750( "AT", "eRooftopState = ROOFTOP_BLENDOUT_12_05", 0 );
        }
        break;
        case 9:
        if (l_U1348)
        {
            DO_SCREEN_FADE_IN( 0 );
             /* P_ROOF_START_DUST_EFFECTS */ sub_50996();
             /* UNLOAD_HOTEL_CUT_12_05_ASSETS */ sub_48750();
        }
        else if (NOT l_U1960)
        {
             /* P_ROOF_W1_ENEMIES_START_FALL_DOWN */ sub_52457();
            SET_PAD_SHAKE( 0, 3000, 64 );
            l_U1960 = 1;
        }
        if (NOT ( /* F_IMAGEFX_FADE_IN */ sub_53061()))
        {
            if ((IS_BULLET_CAMERA_RUNNING( 0 )) AND (IS_DEATH_PANEL_WIPE_ALLOWED()))
            {
                DO_SCREEN_FADE_IN( 0 );
            }
        }
         /* P_ROOF_1205_BLENDOUT_KEEP_ENEMIES_AWARE_OF_MAX */ sub_53331();
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
        {
            if ((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_4179(), 47 )) == 3)
            {
                 /* WRITESCRIPTLOG */ sub_1750( "GA", "Making Max's gun visible.", 0 );
                SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 0, 0 ), 1 );
                PED_FINISH_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_4179(), 47 );
            }
        }
        if ( /* ISTIMERDONE */ sub_5149( ref l_U1483 ))
        {
             /* P_START_ROOFTOP_BACK_COLLAPSE */ sub_53611();
             /* P_ROOF_TRIGGER_ENEMIES_FALLING_IN_COLLAPSE */ sub_54389();
        }
        if ((NOT IS_ANIMATED_CAMERA_PLAYING()) || (CAMERA_ANIMATED_CURRENT_TIME() >= ((CAMERA_ANIMATED_LENGTH( "LEVEL_S_HOTEL_CP_09", "B_OUT_12_05_HOTEL_CAM" )) - 1)))
        {
            if (g_U855 != 10)
            {
                g_U855 = 10;
                 /* P_SAVE_HOTEL_PLAYER_DATA_CHECKPOINT */ sub_17551( ref l_U1311, g_U855,  /* PLAYER_PED_ID */ sub_4179(), g_U1020[10], g_U1123[10], g_U1158[10], g_U1193[10], 0 );
            }
            SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 0, 0 ), 1 );
            SET_GAMEPLAY_CAM_RELATIVE_HEADING( g_U1158[10], 1065353216, 0 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( g_U1193[10], 1065353216, 0 );
            CAMERA_FREEZE_FRAME( 1, 500, 0, 0 );
             /* P_KILL_PED */ sub_55007( l_U2145[0] );
             /* P_KILL_PED */ sub_55007( l_U2145[1] );
             /* P_KILL_PED */ sub_55007( l_U2145[3] );
             /* NIS_POST_SETUP */ sub_48921( 1, 1 );
            for ( I = 0; I <= 3; I++ )
            {
                 /* P_SAFE_STOP_PARTICLE_FX */ sub_55138( ref l_U1807[I] );
            }
             /* WRITESCRIPTLOG */ sub_1750( "RJM", "eRooftopState = ROOFTOP_FIGHT", 0 );
            l_U1347 = 10;
        }
        break;
        case 10:
        if (l_U1348)
        {
             /* STARTTIMER */ sub_5016( ref l_U1404 );
             /* P_LOAD_COLLAPSE_ASSETS */ sub_55292( 0 );
        }
         /* P_HANDLE_PLAYER_BEING_AN_ASS_AND_JUMPING_OFF_THE_ROOF */ sub_55611();
         /* P_PED_ARRAY_Z_SAFETY_CHECK */ sub_55945( ref l_U2145, 36.50000000, 0, 1 );
         /* P_PED_ARRAY_Z_SAFETY_CHECK */ sub_55945( ref l_U2248, 36.50000000, 0, 1 );
         /* P_PED_ARRAY_Z_SAFETY_CHECK */ sub_55945( ref l_U2361, 36.50000000, 0, 1 );
         /* P_ROOF_HANDLE_AMBIENT_SHAKING */ sub_56176();
         /* P_ROOF_HANDLE_TIMER_DISPLAY */ sub_58501();
        if ( /* ISTIMERDONE */ sub_5149( ref l_U2594 ))
        {
            DEACTIVATE_BULLET_TIME( 1, 0 );
        }
        if (((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_4179(), 4 )) == 1) || (((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_4179(), 5 )) == 1) || ((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_4179(), 3 )) == 1)))
        {
             /* WRITESCRIPTLOG */ sub_1750( "GA", "Forcing the player to prone.", 0 );
            TASK_SHOOTDODGE(  /* PLAYER_PED_ID */ sub_4179(), 1, 0, 0 );
            PED_FINISH_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_4179(), 3 );
            PED_FINISH_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_4179(), 5 );
            PED_FINISH_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_4179(), 4 );
            SET_CAMERA_OVERRIDE( "", "", 0, 1, 1 );
        }
        if ( /* ISTIMERDONE */ sub_5149( ref l_U1555 ))
        {
            if (((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_4179(), 4 )) != 3) AND (((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_4179(), 5 )) != 3) AND ((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_4179(), 3 )) != 3)))
            {
                 /* WRITESCRIPTLOG */ sub_1750( "GA", "Reaction didn't start, cancelling action intention.", 0 );
                PED_FINISH_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_4179(), 3 );
                PED_FINISH_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_4179(), 5 );
                PED_FINISH_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_4179(), 4 );
            }
            else
            {
                 /* WRITESCRIPTLOG */ sub_1750( "GA", "Overriding camera to HOTEL_STUMBLE_CAMERA", 0 );
                SET_CAMERA_OVERRIDE( "HOTEL_STUMBLE_CAMERA", "HOTEL_STUMBLE_CAMERA", 0, 1, 1 );
            }
        }
        if (NOT l_U1492)
        {
            if ( /* F_ROOF_SHOULD_START_EXPLOSION01 */ sub_59033())
            {
                if (IS_SPHERE_VISIBLE( l_U2654, 1.00000000, 0 ))
                {
                     /* P_SAFE_STOP_SOUND */ sub_6884( l_U1502, 0 );
                     /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U1502 );
                    l_U1502 = GET_SOUND_ID();
                    PLAY_SOUND_FROM_COORD( l_U1502, "S_HOTEL_PRE_WALL_EXPLOSION", l_U2654 );
                     /* STARTTIMER */ sub_5016( ref l_U1493 );
                    l_U1492 = 1;
                }
            }
        }
        else if ( /* ISTIMERDONE */ sub_5149( ref l_U1493 ))
        {
             /* START_EXPLOSION1 */ sub_59637();
             /* P_ROOF_EXPLOSION01_ENEMY_REACTIONS */ sub_60539();
            TRIGGER_EXPLOSION_AUDIO_FROM_COORDS( "S_HOTEL_EXP_WALL_EXPLOSION", l_U2654 );
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
            {
                fVar6 = GET_PED_HEADING(  /* PLAYER_PED_ID */ sub_4179() );
                if ((fVar6 < 225.00000000) AND (fVar6 > 100.00000000))
                {
                     /* P_ROOF_KNOCK_PLAYER_ON_ASS */ sub_61031( 0 );
                }
                else
                {
                     /* P_ROOF_KNOCK_PLAYER_ON_ASS */ sub_61031( 1 );
                }
            }
             /* P_SHAKE_CAM */ sub_16603( "SMALL_EXPLOSION_SHAKE", 0.50000000 );
            SET_PAD_SHAKE( 0, l_U2663, 32 );
        }
        if (NOT l_U1671)
        {
            if (NOT ( /* F_ISPLAYERINTRIGGERBOX */ sub_59083( l_U1672 )))
            {
                 /* STARTTIMER */ sub_5016( ref l_U1715 );
                l_U1671 = 1;
            }
        }
        if ( /* ISTIMERDONE */ sub_5149( ref l_U1715 ))
        {
             /* P_START_ROOFTOP_MID_COLLAPSE */ sub_61359();
             /* P_SHAKE_CAM */ sub_16603( "SMALL_EXPLOSION_SHAKE", 0.50000000 );
             /* P_ROOF_START_MID_COLLAPSE_SOUNDS */ sub_62685();
            if ( /* F_ISPLAYERINTRIGGERBOX */ sub_59083( l_U1693 ))
            {
                 /* P_ROOF_MAX_STUMBLE */ sub_56783();
            }
             /* P_ROOF_W1_ACTIVATE_GATE_ENEMY */ sub_63138();
        }
        if ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_55704( ref l_U1627, 0 ))
        {
             /* P_ROOF_START_STAIRS_HEAVY_GUNNER */ sub_63569();
            RELEASE_NAMED_SCRIPT_AUDIO_BANK( "SCRIPT_MISSION\S_HOTEL_ROOFTOP_RAYFIRES_01" );
             /* LOADAUDIOBANK */ sub_35413( "SCRIPT_MISSION\S_HOTEL_ROOFTOP_RAYFIRES_02", 0 );
            l_U2250 = 1;
             /* P_ROOF_W1_UPPER_ENEMIES_MOVE_TO_LAST_AREA */ sub_64091();
        }
        else if (l_U1627._fU64)
        {
            if (NOT l_U2253)
            {
                if ( /* F_ROOF_HG_COMBAT_STARTED */ sub_64682())
                {
                     /* P_REMOVEALLTETHERSFROMPED */ sub_63250( l_U2248[0] );
                    l_U2253 = 1;
                }
            }
            if (NOT l_U2216)
            {
                if ( /* F_ROOF_SHOULD_START_CORNER_EXPLOSION */ sub_64889())
                {
                    l_U1233 = 3;
                     /* P_ROOF_EXPLODE_HEAVY_GUNNER */ sub_65287();
                     /* P_ROOF_HG_ENEMIES_FALL_OVER */ sub_65483();
                     /* START_EXPLOSION2 */ sub_65854();
                     /* P_ROOF_START_EXP2_SOUNDS */ sub_66772();
                    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
                    {
                        fVar7 = GET_PED_HEADING(  /* PLAYER_PED_ID */ sub_4179() );
                        if ((fVar7 < 335.00000000) AND (fVar7 > 150.00000000))
                        {
                             /* P_ROOF_KNOCK_PLAYER_ON_ASS */ sub_61031( 0 );
                        }
                        else
                        {
                             /* P_ROOF_KNOCK_PLAYER_ON_ASS */ sub_61031( 1 );
                        }
                    }
                     /* P_SHAKE_CAM */ sub_16603( "SMALL_EXPLOSION_SHAKE", 1.00000000 );
                    SET_PAD_SHAKE( 0, l_U2635, 32 );
                    if (NOT l_U2215)
                    {
                        l_U2215 = 1;
                         /* LOADMODEL */ sub_29983( -1071978962, 0 );
                    }
                    l_U2216 = 1;
                }
            }
        }
        if ((l_U2250 != 4) AND (l_U2250 != 0))
        {
             /* P_ROOF_SPAWN_HG_ENEMIES */ sub_67427();
        }
        if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() ))) AND (NOT (IS_PED_DEAD( l_U2233 ))))
        {
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
            {
                REGISTER_TARGET( l_U2233,  /* PLAYER_PED_ID */ sub_4179() );
            }
            if ((PED_GET_ACTION_INTENTION_STATUS( l_U2233, 47 )) == 3)
            {
                 /* WRITESCRIPTLOG */ sub_1750( "GA", "Killing HEAVY GUNNER exploded ped.", 0 );
                 /* P_KILL_PED */ sub_55007( l_U2233 );
            }
        }
        if ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_55704( ref l_U2194, 0 ))
        {
             /* P_ROOF_W1_ACTIVATE_LAST_AREA_ENEMY */ sub_68408();
            RELEASE_NAMED_SCRIPT_AUDIO_BANK( "SCRIPT_MISSION\S_HOTEL_ROOFTOP_RAYFIRES_02" );
             /* LOADAUDIOBANK */ sub_35413( "SCRIPT_MISSION\S_HOTEL_ROOFTOP_RAYFIRES_03", 0 );
        }
        if (NOT l_U2194._fU64)
        {
            if (NOT (IS_PED_DEAD( l_U2145[9] )))
            {
                if (IS_PED_VISIBLE( l_U2145[9] ))
                {
                    SET_PED_VISIBLE( l_U2145[9], 0 );
                }
            }
        }
        if ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_55704( ref l_U2275, 0 ))
        {
             /* P_CLOSEDOOR */ sub_28029( ref l_U1982, 0 );
             /* P_SETDOORFORCECLOSE */ sub_69003( ref l_U1982, 1, 0 );
             /* P_SETDOORAFFECTEDBYBULLETS */ sub_69091( ref l_U1982, 0 );
             /* P_ROOF_W1_LOWER_ENEMIES_RUN_OFF */ sub_69186();
        }
        else if ((NOT l_U2296) AND (l_U2275._fU64))
        {
            if (( /* F_IS_DOOR_CLOSED */ sub_69632( l_U1982, 1008981770 )) AND ( /* F_ISPLAYERINTRIGGERBOX */ sub_59083( l_U2275 )))
            {
                 /* P_SETDOORLOCKED */ sub_27697( ref l_U1982, 1 );
                l_U2296 = 1;
            }
        }
        if (l_U2275._fU64)
        {
             /* P_ROOF_W1_CLEANUP_OUT_OF_SIGHT */ sub_69823();
        }
        if (l_U2296)
        {
            if (NOT l_U2318)
            {
                if (l_U2296)
                {
                    if ( /* F_ISPLAYERINTRIGGERBOX */ sub_59083( l_U2297 ))
                    {
                         /* P_START_ROOFTOP_HALL_COLLAPSE */ sub_70194();
                         /* P_ROOF_MAX_STUMBLE */ sub_56783();
                         /* P_ROOF_BUILDING_SHAKING_KNOCK_OVER_ENEMIES */ sub_56945();
                         /* P_SHAKE_CAM */ sub_16603( "MEDIUM_EXPLOSION_SHAKE", 1065353216 );
                         /* P_SAFE_STOP_SOUND */ sub_6884( l_U1669, 0 );
                         /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U1669 );
                        l_U1669 = GET_SOUND_ID();
                        PLAY_SOUND_FROM_OBJECT( l_U1669, "S_HOTEL_HALL_COLLAPSE_TOWER", l_U2748 );
                         /* P_SAFE_STOP_SOUND */ sub_6884( l_U1670, 0 );
                         /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U1670 );
                        l_U1670 = GET_SOUND_ID();
                        TRIGGER_EXPLOSION_AUDIO_FROM_COORDS( "S_HOTEL_EXP_HALL_COLLAPSE", l_U2757 );
                        l_U2319 = 1;
                         /* LOAD_ROOFTOP_HEAVY_GUNNER_ASSETS */ sub_71047();
                        l_U2318 = 1;
                    }
                }
            }
            else
            {
                 /* P_HANDLE_ROOFTOP_HALL_COLLAPSE_PLAYING */ sub_71430();
            }
        }
        if ((l_U2319 != 4) AND (l_U2319 != 0))
        {
             /* P_ROOF_START_LAST_AREA_ENEMIES */ sub_71509();
        }
        if ( /* F_ROOF_IS_PLAYER_IN_STATE_WHERE_WE_CAN_START_FAIL */ sub_72747())
        {
            if ( /* ISTIMERDONE */ sub_5149( ref l_U1404 ))
            {
                l_U1347 = 13;
                 /* WRITESCRIPTLOG */ sub_1750( "AT", "eRooftopState = ROOFTOP_FAIL_COLLAPSE", 0 );
            }
        }
        if (l_U2319 == 4)
        {
            iVar3 = (( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_73046( ref l_U2145 )) + ( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_73046( ref l_U2248 ))) + ( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_73046( ref l_U2361 ));
            if (NOT l_U2365._fU20)
            {
                if ((NOT IS_LAST_MAN_STANDING_ACTIVE()) AND (iVar3 == 0))
                {
                     /* STARTTIMER */ sub_5016( ref l_U2365 );
                }
            }
            if ( /* ARE_ROOFTOP_HEAVY_GUNNDER_ASSETS_LOADED */ sub_73221())
            {
                if ( /* ISTIMERDONE */ sub_5149( ref l_U2365 ))
                {
                     /* P_ROOF_START_LAST_HEAVY_GUNNER */ sub_73379();
                    l_U1347 = 11;
                     /* WRITESCRIPTLOG */ sub_1750( "AT", "eRooftopState = ROOFTOP_NIS_HEAVY_GUNNER", 0 );
                }
            }
        }
        break;
        case 11:
        if (l_U1348)
        {
             /* NIS_PRE_SETUP */ sub_40869( 1, 0, 0, 1 );
            CAMERA_PLAY_ANIMATED( "LEVEL_S_HOTEL_CP_09", "PLGE_RIFLE_COMBAT_AIMFWD_POSE_CAM", 1, 17.10000000, 20.73000000, 46.54000000, -5.00000000, 0, 0 );
            l_U1233 = 4;
            if (NOT (IS_PED_DEAD( l_U2387 )))
            {
                CAMERA_POINT_AT_PED( l_U2387, 0 );
            }
             /* P_ACTIVATEPED */ sub_42136( l_U2387 );
            l_U1404._fU12 += 1500;
            ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
            if ((NOT (IS_PED_DEAD( l_U2387 ))) AND (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() ))))
            {
                if ( /* F_ISPLAYERINTRIGGERREGION */ sub_74281( ref l_U2407, 0 ))
                {
                     /* TELEPORTPED */ sub_41660(  /* PLAYER_PED_ID */ sub_4179(), 20.82000000, 23.96000000, 43.77000000, 130.59000000 );
                }
                if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
                {
                    SET_FORCED_AIM_INTENTION_DIRECTION(  /* FNORMALIZEVECTOR */ sub_74545( (vector( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( l_U2387 ))) - (vector( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS(  /* PLAYER_PED_ID */ sub_4179() ))) ) );
                }
            }
        }
        if (NOT IS_ANIMATED_CAMERA_PLAYING())
        {
            CAMERA_CLEAR_POINT_AT_TARGET();
             /* NIS_POST_SETUP */ sub_48921( 1, 1 );
            RESET_FORCED_AIM_INTENTION_DIRECTION();
            l_U1347 = 12;
             /* WRITESCRIPTLOG */ sub_1750( "AT", "eRooftopState = ROOFTOP_GAMEPLAY_HEAVY_GUNNER", 0 );
        }
        break;
        case 12:
        if (l_U1348)
        {
             /* STARTTIMER */ sub_5016( ref l_U2389 );
             /* STARTTIMER */ sub_5016( ref l_U2398 );
            ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 0 );
            BULLET_CAMERA_TRACK_UNTIL_GROUNDED( 1 );
             /* LOADSEAMLESSCUTSCENE */ sub_30263( l_U1267, 0 );
        }
         /* P_HANDLE_PLAYER_BEING_AN_ASS_AND_JUMPING_OFF_THE_ROOF */ sub_55611();
         /* P_PED_Z_SAFETY_CHECK */ sub_56011( l_U2387, 44.00000000, 1, 0 );
         /* P_ROOF_HANDLE_AMBIENT_SHAKING */ sub_56176();
         /* P_CAM_SHAKE_HANDLE_ARRAY */ sub_74854( ref l_U1812 );
         /* P_ROOF_HANDLE_TIMER_DISPLAY */ sub_58501();
        if ( /* ISTIMERDONE */ sub_5149( ref l_U2594 ))
        {
            DEACTIVATE_BULLET_TIME( 1, 0 );
        }
        if (((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_4179(), 4 )) == 1) || (((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_4179(), 5 )) == 1) || ((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_4179(), 3 )) == 1)))
        {
             /* WRITESCRIPTLOG */ sub_1750( "GA", "Forcing the player to prone.", 0 );
            TASK_SHOOTDODGE(  /* PLAYER_PED_ID */ sub_4179(), 1, 0, 0 );
            PED_FINISH_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_4179(), 3 );
            PED_FINISH_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_4179(), 5 );
            PED_FINISH_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_4179(), 4 );
            SET_CAMERA_OVERRIDE( "", "", 0, 1, 1 );
            if (NOT l_U2593)
            {
                l_U2593 = 1;
                 /* WRITESCRIPTLOG */ sub_1750( "CCB", "Ending the HOTEL_ROOF_SHAKING context...", 0 );
                END_CONTEXT( "HOTEL_ROOF_SHAKING" );
            }
        }
        if ( /* ISTIMERDONE */ sub_5149( ref l_U1555 ))
        {
            if (((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_4179(), 4 )) != 3) AND (((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_4179(), 5 )) != 3) AND ((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_4179(), 3 )) != 3)))
            {
                 /* WRITESCRIPTLOG */ sub_1750( "GA", "Reaction didn't start, cancelling action intention.", 0 );
                PED_FINISH_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_4179(), 3 );
                PED_FINISH_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_4179(), 5 );
                PED_FINISH_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_4179(), 4 );
            }
            else
            {
                 /* WRITESCRIPTLOG */ sub_1750( "GA", "Overriding camera to HOTEL_STUMBLE_CAMERA", 0 );
                SET_CAMERA_OVERRIDE( "HOTEL_STUMBLE_CAMERA", "HOTEL_STUMBLE_CAMERA", 0, 1, 1 );
            }
        }
        if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() ))) AND (NOT (IS_PED_DEAD( l_U2387 ))))
        {
            REGISTER_TARGET( l_U2387,  /* PLAYER_PED_ID */ sub_4179() );
            if ( /* ISTIMERDONE */ sub_5149( ref l_U2389 ))
            {
                 /* WRITESCRIPTLOG */ sub_1750( "GA", "Heavy gunner start firing.", 0 );
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U2387, 0 );
                TASK_COMBAT_PED( l_U2387,  /* PLAYER_PED_ID */ sub_4179() );
            }
        }
        if (NOT (IS_PED_DEAD( l_U2387 )))
        {
            if ( /* ISTIMERDONE */ sub_5149( ref l_U2398 ))
            {
                 /* WRITESCRIPTLOG */ sub_1750( "GA", "Heavy gunner ending blanks.", 0 );
                SET_WEAPON_CHANCE_TO_FIRE_BLANKS( GET_WEAPON_FROM_HAND( l_U2387, 0, 0 ), 0 );
            }
        }
        if (NOT l_U1545)
        {
            if ( /* F_ROOF_SHOULD_START_SATDISH_EXPLOSION */ sub_75754())
            {
                 /* WRITESCRIPTLOG */ sub_1750( "CCB", "Starting the HOTEL_ROOF_SHAKING context...", 0 );
                START_CONTEXT( "HOTEL_ROOF_SHAKING" );
                 /* P_START_ROOFTOP_CORNER_EXPLOSION */ sub_75954();
                if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
                {
                    fVar8 = GET_PED_HEADING(  /* PLAYER_PED_ID */ sub_4179() );
                    if ((fVar8 < 220.00000000) AND (fVar8 > 55.00000000))
                    {
                         /* P_ROOF_KNOCK_PLAYER_ON_ASS */ sub_61031( 0 );
                    }
                    else
                    {
                         /* P_ROOF_KNOCK_PLAYER_ON_ASS */ sub_61031( 1 );
                    }
                }
                 /* P_SHAKE_CAM */ sub_16603( "SMALL_EXPLOSION_SHAKE", 1.00000000 );
                SET_PAD_SHAKE( 0, l_U2692, 32 );
                l_U1545 = 1;
            }
        }
        if ( /* F_ROOF_IS_PLAYER_IN_STATE_WHERE_WE_CAN_START_FAIL */ sub_72747())
        {
            if ( /* ISTIMERDONE */ sub_5149( ref l_U1404 ))
            {
                if (NOT l_U2593)
                {
                    l_U2593 = 1;
                     /* WRITESCRIPTLOG */ sub_1750( "CCB", "Ending the HOTEL_ROOF_SHAKING context...", 0 );
                    END_CONTEXT( "HOTEL_ROOF_SHAKING" );
                }
                l_U1347 = 13;
                 /* WRITESCRIPTLOG */ sub_1750( "AT", "eRooftopState = ROOFTOP_FAIL_COLLAPSE", 0 );
            }
        }
        if ((NOT ( /* HASTIMERBEENACTIVATED */ sub_4732( ref l_U2899 ))) AND ((NOT (IS_BULLET_CAMERA_RUNNING( 0 ))) AND (IS_PED_DEAD( l_U2387 ))))
        {
             /* P_CREATE_AND_START_TIMER */ sub_77316( ref l_U2899, 1000 );
        }
        if ( /* ISTIMERDONE */ sub_5149( ref l_U2899 ))
        {
            END_CONTEXT( "HOTEL_TO_END" );
             /* CLOSE_CURRENT_LEVEL_CONTEXT */ sub_10765( l_U1311._fU52 );
            if (NOT l_U2593)
            {
                l_U2593 = 1;
                 /* WRITESCRIPTLOG */ sub_1750( "CCB", "Ending the HOTEL_ROOF_SHAKING context...", 0 );
                END_CONTEXT( "HOTEL_ROOF_SHAKING" );
            }
            if (IS_ARCADE_MODE_ACTIVE())
            {
                DISPLAY_ARCADE_MODE_LEVEL_END( "s_police" );
                l_U1347 = 0;
                 /* WRITESCRIPTLOG */ sub_1750( "AT", "eRooftopState = ROOFTOP_IDLE", 0 );
            }
            else
            {
                ISEQ_TERMINATE( 469460336 );
                ISEQ_TERMINATE( -1844315547 );
                ISEQ_TERMINATE( -473924166 );
                for ( J = 0; J < l_U1355; J++ )
                {
                     /* UNLOADMODEL */ sub_10155( l_U1355[J] );
                }
                 /* UNLOADMODEL */ sub_10155( 1721151522 );
                 /* UNLOADANIMDICT */ sub_10035( "LEVEL_S_HOTEL_CP_11" );
                 /* UNLOADANIMDICT */ sub_10035( "AMED_HEVY_CORE" );
                 /* UNLOADANIMDICT */ sub_10035( "LEVEL_S_HOTEL_CP_09" );
                 /* UNLOADACTIONTREE */ sub_10103( "NPC/BOSS_HeavyGunner" );
                 /* LOADMODEL */ sub_29983( -1071978962, 1 );
                 /* WRITESCRIPTLOG */ sub_1750( "RJM", "Everyone's dead, going to ROOFTOP_CUTSCENE_12_06", 0 );
                l_U1233 = 5;
                SET_HIGHEST_ARCADE_LEVEL_UNLOCKED( 15 );
                REMOVE_ALL_PICKUPS_AND_PLACEMENTS_OF_TYPE( 525284907 );
                REMOVE_ALL_PICKUPS_AND_PLACEMENTS_OF_TYPE( 280965399 );
                REMOVE_ALL_PICKUPS_AND_PLACEMENTS_OF_TYPE( 1676080365 );
                REMOVE_ALL_PICKUPS_AND_PLACEMENTS_OF_TYPE( -514108743 );
                REMOVE_ALL_PICKUPS_AND_PLACEMENTS_OF_TYPE( 809028259 );
                 /* P_HANDLE_MUSIC */ sub_2912();
                l_U1347 = 14;
            }
        }
        break;
        case 13:
        if (l_U1348)
        {
             /* P_INITIALIZE_BUIDLING_COMPONENTS */ sub_77982();
             /* INIT_FX_LIST */ sub_80401();
            STREAM_HELPERS_REQUEST_AT_LOC( 130.00000000, 50.00000000, 35.00000000, 1 );
             /* P_LOAD_COLLAPSE_ASSETS */ sub_55292( 1 );
             /* P_ROOF_START_FAIL_EVENT */ sub_81902();
            DISPLAY_HUD( 0 );
             /* LOADSCRIPTSTREAM */ sub_31117( "S_HOTEL_FINAL_COLLAPSE", 1, 0 );
             /* STARTTIMER */ sub_5016( ref l_U1414 );
        }
         /* P_CAM_SHAKE_HANDLE */ sub_16374( ref l_U1423 );
        if ( /* ISTIMERDONE */ sub_5149( ref l_U1414 ))
        {
             /* P_CREATE_COLLAPSE_OBJECTS */ sub_82201();
             /* P_ROOF_END_BUILDING_SHAKING */ sub_58013();
             /* P_CAM_SHAKE_FORCE_DEACTIVATE */ sub_58162( ref l_U1423, 0 );
             /* F_PLAY_ANIMS */ sub_83416( 1, 0 );
             /* START_COLLAPSE_FX */ sub_84579();
             /* CLEANPEDARRAY */ sub_9262( ref l_U2145 );
             /* CLEANPED */ sub_9312( l_U2233 );
             /* CLEANPEDARRAY */ sub_9262( ref l_U2248 );
             /* CLEANPEDARRAY */ sub_9262( ref l_U2361 );
             /* CLEANPED */ sub_9312( l_U2387 );
             /* CLEAN_EXPLOSION1 */ sub_8065();
             /* CLEAN_ALL_ROOFTOP_EXPLOSION2_OBJECTS */ sub_8271();
             /* P_CLEAN_ROOFTOP_BACK_COLLAPSE */ sub_8408();
             /* P_CLEAN_ROOFTOP_MID_COLLAPSE */ sub_8614();
             /* P_CLEAN_ROOFTOP_CORNER_EXPLOSION */ sub_8817();
             /* P_CLEAN_ROOFTOP_HALL_COLLAPSE */ sub_9062();
             /* CLEANVEHICLE */ sub_9494( g_U991 );
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
            {
                SET_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_4179(), 0 );
            }
            CAMERA_PLAY_ANIMATED( "LEVEL_S_HOTEL_CP_11", "MID_10_HOTEL_COLLAPSE_CAM1", 0, 0, 0, 0, 0.00000000, 0, 0 );
             /* CREATETIMER */ sub_4866( ref l_U1473, (CAMERA_ANIMATED_LENGTH( "LEVEL_S_HOTEL_CP_11", "MID_10_HOTEL_COLLAPSE_CAM1" )) - 2000, 1, 1 );
             /* STARTTIMER */ sub_5016( ref l_U1473 );
            PLAY_SCRIPT_STREAM_FRONTEND( 1 );
            STREAM_HELPERS_REQUEST_AT_LOC( 130.00000000, 50.00000000, 35.00000000, 0 );
            REMOVE_ALL_PICKUPS_AND_PLACEMENTS_OF_TYPE( 525284907 );
            REMOVE_ALL_PICKUPS_AND_PLACEMENTS_OF_TYPE( 280965399 );
            REMOVE_ALL_PICKUPS_AND_PLACEMENTS_OF_TYPE( 1676080365 );
            REMOVE_ALL_PICKUPS_AND_PLACEMENTS_OF_TYPE( -514108743 );
            REMOVE_ALL_PICKUPS_AND_PLACEMENTS_OF_TYPE( 809028259 );
        }
        if (l_U1414._fU16)
        {
             /* HANDLE_COLLAPSE_FX */ sub_85210();
        }
        if ( /* ISTIMERDONE */ sub_5149( ref l_U1473 ))
        {
             /* P_IMAGEFX_START_BULLETCAM */ sub_85431( "MISS_DEATH_FAIL_FAST_01A", 0 );
            l_U1482 = 1;
        }
        break;
        case 14:
        if (NOT HAS_CUTSCENE_FINISHED())
        {
            if (NOT l_U2590)
            {
                 /* P_ROOF_1206_DELETE_DEAD_BODIES_IN_THE_WAY */ sub_85767();
                l_U2590 = 1;
            }
            if (NOT l_U2591)
            {
                if (GET_CUTSCENE_TIME_MS() >= 73000)
                {
                     /* WRITESCRIPTLOG */ sub_1750( "GA", "Cleaning up all dead bodies.", 0 );
                     /* CLEANPEDARRAY */ sub_9262( ref l_U2145 );
                     /* CLEANPED */ sub_9312( l_U2233 );
                     /* CLEANPEDARRAY */ sub_9262( ref l_U2248 );
                     /* CLEANPEDARRAY */ sub_9262( ref l_U2361 );
                     /* CLEANPED */ sub_9312( l_U2387 );
                     /* P_ROOF_COLLAPSE_DELETE_OBJECTS */ sub_7572();
                     /* CLEAN_EXPLOSION1 */ sub_8065();
                     /* CLEAN_ALL_ROOFTOP_EXPLOSION2_OBJECTS */ sub_8271();
                     /* P_CLEAN_ROOFTOP_BACK_COLLAPSE */ sub_8408();
                     /* P_CLEAN_ROOFTOP_MID_COLLAPSE */ sub_8614();
                     /* P_CLEAN_ROOFTOP_CORNER_EXPLOSION */ sub_8817();
                     /* P_CLEAN_ROOFTOP_HALL_COLLAPSE */ sub_9062();
                    l_U2591 = 1;
                }
            }
        }
        if ( /* PLAY_HOTEL_CUT_12_06 */ sub_86507( 1, 0, 0 ))
        {
            if (NOT IS_BULLET_CAMERA_TO_GAMEPLAY_ALLOWED())
            {
                ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
            }
            l_U1347 = 15;
        }
        break;
        case 15:
        g_U1008 = 0;
        SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
        l_U1347 = 0;
         /* WRITESCRIPTLOG */ sub_1750( "AT", "eRooftopState = ROOFTOP_IDLE", 0 );
        break;
    }
    if (l_U1347 != iVar2)
    {
        l_U1348 = 1;
    }
    else
    {
        l_U1348 = 0;
    }
    return;
}

/* P_HANDLE_SP_CHALLENGES */ void sub_15812()
{
    switch (l_U2592)
    {
        case 0:
         /* WRITESCRIPTLOG */ sub_1750( "CCB", "eOldPainless - STATE_CHALLENGE_IDLE", 0 );
        l_U2592 = 1;
        break;
        case 1:
        if (l_U1347 >= 14)
        {
            if (SCRIPT_VAR_HASH_EXISTS( 1701971384 ))
            {
                SCRIPT_VAR_HASH_SET_INT( 1701971384, 1 );
                DISPLAYF( "[CCB] ### The current OldPainless value is: {} ###", 1, 513, SCRIPT_VAR_HASH_GET_INT( 1701971384 ) );
            }
            else
            {
                 /* WRITESCRIPTLOG */ sub_1750( "CCB", "The OldPainless script variable is NOT valid!!!", 0 );
            }
             /* WRITESCRIPTLOG */ sub_1750( "CCB", "eOldPainless - STATE_CHALLENGE_COMPLETE", 0 );
            l_U2592 = 2;
        }
        break;
        case 2: break;
    }
    return;
}

/* P_CAM_SHAKE_HANDLE */ void sub_16374(int iParam0)
{
    if (iParam0->_fU172 == 1)
    {
        if (iParam0->_fU164 == 0)
        {
             /* CREATETIMER */ sub_4866( iParam0 + 40, iParam0->_fU148, 1, 0 );
             /* STARTTIMER */ sub_5016( iParam0 + 40 );
            if (iParam0->_fU152 > 0)
            {
                 /* CREATETIMER */ sub_4866( iParam0 + 76, iParam0->_fU152, 1, 0 );
                 /* STARTTIMER */ sub_5016( iParam0 + 76 );
            }
            iParam0->_fU164 = 1;
        }
        if ( /* ISTIMERDONE */ sub_5149( iParam0 + 40 ))
        {
             /* WRITESCRIPTLOG */ sub_1750( "ML", "P_HANDLE_CAM_SHAKE is shaking the camera", "---" );
             /* P_SHAKE_CAM */ sub_16603( iParam0 + 4, iParam0->_fU36 );
            if (iParam0->_fU156 > 0)
            {
                 /* CREATETIMER */ sub_4866( iParam0 + 112, iParam0->_fU156, 1, 0 );
                 /* STARTTIMER */ sub_5016( iParam0 + 112 );
            }
        }
        if ( /* ISTIMERDONE */ sub_5149( iParam0 + 112 ))
        {
             /* P_SHAKE_CAM */ sub_16603( iParam0 + 4, iParam0->_fU36 );
             /* CREATETIMER */ sub_4866( iParam0 + 112, iParam0->_fU156, 1, 0 );
             /* STARTTIMER */ sub_5016( iParam0 + 112 );
        }
        if ( /* ISTIMERDONE */ sub_5149( iParam0 + 76 ))
        {
             /* WRITESCRIPTLOG */ sub_1750( "ML", "P_HANDLE_CAM_SHAKE is done shaking the camera", "---" );
            STOP_CAM_SHAKING( GET_RENDERING_CAM(), iParam0->_fU160 );
            STOP_GAMEPLAY_CAM_SHAKING( iParam0 + 4, iParam0->_fU160 );
             /* RESETTIMER */ sub_5725( iParam0 + 112 );
            iParam0->_fU172 = 0;
        }
    }
    return;
}

/* P_SHAKE_CAM */ void sub_16603(unknown uParam0, unknown uParam1)
{
    SHAKE_CAM( GET_RENDERING_CAM(), uParam0, uParam1 );
    SHAKE_GAMEPLAY_CAM( uParam0, uParam1 );
    return;
}

/* HAS_SAVEFILE_LOADED */ int sub_16994(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_1750( "rw", "HAS_SAVEFILE_LOADED()", 0 );
    if (IS_ARCADE_MODE_ACTIVE())
    {
        return 0;
    }
    if (HAS_LOAD_JUST_OCCURRED())
    {
        if ((GET_CHECKPOINT_SELECTED() == 1) || (GET_CHECKPOINT_SELECTED() == 0))
        {
            return 0;
        }
        else
        {
            l_U0 = 0;
            CHECKPOINT_STORAGE_LOAD( uParam0, l_U1 );
             /* P_RESTORE_PLAYER_DATA_CHECKPOINT */ sub_10546( uParam0,  /* PLAYER_PED_ID */ sub_4179() );
        }
        if (IS_IN_STORY_MODE())
        {
            START_CONTEXT( "LEVEL" );
        }
        return 1;
    }
    return 0;
}

/* P_SAVE_HOTEL_PLAYER_DATA_CHECKPOINT */ void sub_17551(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
     /* SAVE_WATERBOTTLE_STATE */ sub_17601( uParam0 );
     /* P_SAVE_PLAYER_DATA_CHECKPOINT */ sub_17839( uParam0, uParam1, uParam2, uParam3, uParam6, uParam7, uParam8, uParam9 );
    return;
}

/* SAVE_WATERBOTTLE_STATE */ void sub_17601(int iParam0)
{
    unknown uVar3;

     /* WRITESCRIPTLOG */ sub_1750( "BSW", "SAVE_WATERBOTTLE_STATE start", 0 );
    uVar3 =  /* GET_WATERBOTTLE_FROM_PLAYER */ sub_15080();
    if (GET_DOES_WEAPON_EXIST( uVar3 ))
    {
        iParam0->_fU48 = GET_SUPPRESSOR_DAMAGE_LEVEL( uVar3 );
        DISPLAYF( "SAVE_WATERBOTTLE_STATE found water bottle suppressor - saving the state: {}", 1, 513, iParam0->_fU48 );
    }
    return;
}

/* P_SAVE_PLAYER_DATA_CHECKPOINT */ void sub_17839(int iParam0, int iParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, int iParam9)
{
    int iVar12;
    int iVar13;
    int iVar14;
    int iVar15;
    int iVar16;

     /* WRITESCRIPTLOG */ sub_1750( "GA", "Saving the player data for checkpoint - Start", 0 );
    if ((IS_PED_DEAD( uParam2 )) == 0)
    {
         /* WRITESCRIPTLOG */ sub_1750( "SP", "Saving to scripted data...", 0 );
        RESET_CHECKPOINT_ATTEMPTS();
        if (SCRIPT_VAR_EXISTS( "SV_SAVE_CNT" ))
        {
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", (SCRIPT_VAR_GET_INT( "SV_SAVE_CNT" )) + 1 );
        }
        else
        {
            SCRIPT_VAR_ADD_INT( "SV_SAVE_CNT" );
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", 1 );
        }
         /* START_NEW_LEVEL_CONTEXT */ sub_13768( iParam1 );
         /* CLOSE_OLD_LEVEL_CONTEXT */ sub_18130( iParam1 );
        iParam0->_fU52 = iParam1;
        iParam0->_fU4 = {uParam3};
        iParam0->_fU16 = uParam6;
        iParam0->_fU20 = uParam7;
        iParam0->_fU24 = uParam8;
        iParam0->_fU28 = GET_PED_HEALTH( uParam2 );
        iParam0->_fU56 = -1569615261;
        iParam0->_fU60 = -1569615261;
        iParam0->_fU64 = -1569615261;
        iParam0->_fU68 = -1569615261;
        iParam0->_fU72 = -1569615261;
        iParam0->_fU76 = 0;
        iParam0->_fU80 = 0;
        iParam0->_fU84 = 0;
        iParam0->_fU88 = 0;
        iParam0->_fU92 = 0;
        iVar12 = GET_WEAPON_FROM_HAND( uParam2, 0, 0 );
        iVar13 = GET_WEAPON_FROM_HAND( uParam2, 1, 0 );
        iVar14 = GET_WEAPON_FROM_HOLSTER( uParam2, 0 );
        iVar15 = GET_WEAPON_FROM_HOLSTER( uParam2, 1 );
        iVar16 = GET_WEAPON_FROM_HOLSTER( uParam2, 2 );
        if (GET_DOES_WEAPON_EXIST( iVar12 ))
        {
            iParam0->_fU68 = GET_WEAPON_TYPE( iVar12 );
            iParam0->_fU88 = (GET_WEAPON_AMMO( iVar12 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar12 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_18607( iVar12, iParam0 + 120, iParam0 + 124 );
        }
        if (GET_DOES_WEAPON_EXIST( iVar13 ))
        {
            iParam0->_fU72 = GET_WEAPON_TYPE( iVar13 );
            iParam0->_fU92 = (GET_WEAPON_AMMO( iVar13 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar13 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_18607( iVar13, iParam0 + 128, iParam0 + 132 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_18867( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar13 ) ))
                {
                    iParam0->_fU92 = GET_WEAPON_AMMO_IN_CLIP( iVar12 );
                }
            }
        }
        if ((iVar14 != iVar13) AND ((iVar14 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar14 ))))
        {
            iParam0->_fU56 = GET_WEAPON_TYPE( iVar14 );
            iParam0->_fU76 = (GET_WEAPON_AMMO( iVar14 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar14 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_18607( iVar14, iParam0 + 96, iParam0 + 100 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_18867( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_18867( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
        }
        if ((iVar15 != iVar13) AND ((iVar15 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar15 ))))
        {
            iParam0->_fU60 = GET_WEAPON_TYPE( iVar15 );
            iParam0->_fU80 = (GET_WEAPON_AMMO( iVar15 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar15 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_18607( iVar15, iParam0 + 104, iParam0 + 108 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_18867( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_18867( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_18867( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
        }
        if ((iVar16 != iVar13) AND ((iVar16 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar16 ))))
        {
            iParam0->_fU64 = GET_WEAPON_TYPE( iVar16 );
            iParam0->_fU84 = (GET_WEAPON_AMMO( iVar16 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar16 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_18607( iVar16, iParam0 + 112, iParam0 + 116 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_18867( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_18867( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_18867( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar15 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_18867( GET_WEAPON_TYPE( iVar15 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
        }
        SAVE_PICKUPS();
        iParam0->_fU32 = GET_ADRENALINE_AMT();
        iParam0->_fU36 = GET_PAYNEKILLER_AMT();
        GET_TIME_OF_DAY( iParam0 + 40, iParam0 + 44 );
        iParam0->_fU140 = IS_TIME_OF_DAY_FROZEN();
        iParam0->_fU136 = GET_PED_SWEAT( uParam2 );
        if (iParam9 == 1)
        {
            if (IS_MAGDEMO() == 0)
            {
                ENABLE_CHECKPOINT_ICON();
            }
        }
        if (iParam1 >= 0)
        {
             /* P_PRINT_CHECKPOINT_DATA */ sub_20447( iParam0 );
            iParam0->_fU0 = 1;
            if (IS_ARCADE_MODE_ACTIVE() == 0)
            {
                CHECKPOINT_STORAGE_SAVE( iParam0, l_U1, iParam0->_fU52 );
                REQUEST_SAVE();
            }
        }
        if (IS_ARCADE_MODE_ACTIVE())
        {
            UPDATE_ARCADE_CHECK_POINT( iParam0->_fU52 );
        }
    }
    else
    {
        SCRIPT_ASSERT( "Error: Player is dead while saving a checkpoint!!!", 0 );
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "Saving the player data for checkpoint - End", 0 );
    return;
}

/* CLOSE_OLD_LEVEL_CONTEXT */ void sub_18130(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (iParam0 >= 0)
    {
        if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
        {
            uVar3 =  /* GET_MISSION_INDEX_FROM_NAME */ sub_10827( ref uVar20 );
        }
        STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, iParam0 - 1 );
         /* WRITESCRIPTLOG */ sub_1750( "TEH", "Ending context", 0 );
         /* WRITESCRIPTLOG */ sub_1750( "TEH", "Ending context", 0 );
        END_CONTEXT( ref uVar4 );
    }
    return;
}

/* P_SAVE_WEAPON_ATTACHMENTS */ void sub_18607(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        CLEAR_BIT( uParam1, I );
        CLEAR_BIT( uParam2, I );
        if (IS_WEAPON_ATTACHMENT_ENABLED( uParam0, I ))
        {
            SET_BIT( uParam1, I );
            if (IS_WEAPON_ATTACHMENT_TOGGLED( uParam0, I ))
            {
                SET_BIT( uParam2, I );
            }
        }
    }
    return;
}

/* F_WEAPONS_SAME_AMMO */ void sub_18867(int iParam0, int iParam1)
{
    int Result;

    Result = 0;
    if ((iParam0 == -612753081) || ((iParam0 == 68019059) || ((iParam0 == 456708483) || ((iParam0 == -862236369) || (iParam0 == 406496141)))))
    {
        if ((iParam1 == -612753081) || ((iParam1 == 68019059) || ((iParam1 == 456708483) || ((iParam1 == -862236369) || (iParam1 == 406496141)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 724901397) || ((iParam0 == 57534114) || ((iParam0 == 1308526797) || ((iParam0 == -1074756423) || (iParam0 == -1013714740)))))
    {
        if ((iParam1 == 724901397) || ((iParam1 == 57534114) || ((iParam1 == 1308526797) || ((iParam1 == -1074756423) || (iParam1 == -1013714740)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 514118749) || ((iParam0 == -184942895) || ((iParam0 == -168327769) || ((iParam0 == 1845102363) || (iParam0 == 434544317)))))
    {
        if ((iParam1 == 514118749) || ((iParam1 == -184942895) || ((iParam1 == -168327769) || ((iParam1 == 1845102363) || (iParam1 == 434544317)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -110877124) || (iParam0 == 319712764))
    {
        if ((iParam1 == -110877124) || (iParam1 == 319712764))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -1464892298) || ((iParam0 == 1194438308) || ((iParam0 == -1404433099) || ((iParam0 == 1478009203) || ((iParam0 == -691403429) || (iParam0 == 1964270085))))))
    {
        if ((iParam1 == -1464892298) || ((iParam1 == 1194438308) || ((iParam1 == -1404433099) || ((iParam1 == 1478009203) || ((iParam1 == -691403429) || (iParam1 == 1964270085))))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 10648147) || (iParam0 == 1224272620))
    {
        if ((iParam1 == 10648147) || (iParam1 == 1224272620))
        {
            Result = 1;
        }
    };;;;;;
    return Result;
}

/* P_PRINT_CHECKPOINT_DATA */ void sub_20447(int iParam0)
{
     /* WRITE_STRING */ sub_9799( "CHECKPOINT DATA" );
    PRINTSTRING( "---Position: " );
     /* WRITE_VECTOR */ sub_20535( iParam0->_fU4 );
    PRINTSTRING( "---Heading: " );
     /* WRITE_FLOAT */ sub_20612( iParam0->_fU16 );
    PRINTSTRING( "---fRelativeGameCamHeading: " );
     /* WRITE_FLOAT */ sub_20612( iParam0->_fU20 );
    PRINTSTRING( "---fRelativeGameCamPitch: " );
     /* WRITE_FLOAT */ sub_20612( iParam0->_fU24 );
    PRINTSTRING( "---nHealth: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU28 );
    PRINTSTRING( "---wtRightHolster: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU56 );
    PRINTSTRING( "---wtLeftHolster: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU60 );
    PRINTSTRING( "---wtRifleHolster: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU64 );
    PRINTSTRING( "---wtRightHand: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU68 );
    PRINTSTRING( "---wtLeftHand: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU72 );
    PRINTSTRING( "---nWeaponRightHolsterAmmo: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU76 );
    PRINTSTRING( "---nWeaponLeftHolsterAmmo: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU80 );
    PRINTSTRING( "---nWeaponRifleHolsterAmmo: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU84 );
    PRINTSTRING( "---nWeaponRightHandAmmo: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU88 );
    PRINTSTRING( "---nWeaponLeftHandAmmo: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU92 );
    PRINTSTRING( "---fAdrenaline: " );
     /* WRITE_FLOAT */ sub_20612( iParam0->_fU32 );
    PRINTSTRING( "---nPayneKillers: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU36 );
    PRINTSTRING( "---nHour: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU40 );
    PRINTSTRING( "---nMinute: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU44 );
    PRINTSTRING( "---fSweatAmount: " );
     /* WRITE_FLOAT */ sub_20612( iParam0->_fU136 );
    PRINTSTRING( "---bTimeFrozen: " );
     /* WRITE_BOOL */ sub_21441( iParam0->_fU140 );
    PRINTSTRING( "---checkpointIndex: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU52 );
     /* WRITE_STRING */ sub_9799( "---nRightHolsterAttachmentEnabled: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU96 );
     /* WRITE_STRING */ sub_9799( "---nRightHolsterAttachmentToggled: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU100 );
     /* WRITE_STRING */ sub_9799( "---nLeftHolsterAttachmentEnabled: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU104 );
     /* WRITE_STRING */ sub_9799( "---nLeftHolsterAttachmentToggled: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU108 );
     /* WRITE_STRING */ sub_9799( "---nRifleHolsterAttachmentEnabled: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU112 );
     /* WRITE_STRING */ sub_9799( "---nRifleHolsterAttachmentToggled: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU116 );
     /* WRITE_STRING */ sub_9799( "---nRightHandAttachmentEnabled: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU120 );
     /* WRITE_STRING */ sub_9799( "---nRightHandAttachmentToggled: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU124 );
     /* WRITE_STRING */ sub_9799( "---nLeftHandAttachmentEnabled: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU128 );
     /* WRITE_STRING */ sub_9799( "---nLeftHandAttachmentToggled: " );
     /* WRITE_INT */ sub_3005( iParam0->_fU132 );
    PRINTSTRING( "[CHECKPOINT DATA SIZE]: " );
     /* WRITE_INT */ sub_3005( l_U1 );
    PRINTSTRING( "[CHECKPOINT DATA REF SIZE]: " );
     /* WRITE_INT */ sub_3005( 144 );
    return;
}

/* WRITE_VECTOR */ void sub_20535(unknown uParam0, unknown uParam1, unknown uParam2)
{
    PRINTVECTOR( uParam0 );
    PRINTNL();
    return;
}

/* WRITE_FLOAT */ void sub_20612(unknown uParam0)
{
    PRINTFLOAT( uParam0 );
    PRINTNL();
    return;
}

/* WRITE_BOOL */ void sub_21441(boolean bParam0)
{
    if (bParam0)
    {
        PRINTSTRING( "TRUE" );
    }
    else
    {
        PRINTSTRING( "FALSE" );
    }
    PRINTNL();
    return;
}

/* P_INITIALIZE_SCRIPT_DATA */ void sub_22535()
{
     /* WRITESCRIPTLOG */ sub_1750( "MW", "P_INITIALIZE_ROOF_SCRIPT_DATA start", 0 );
    l_U1350 = 0;
    l_U1351 = 0;
    l_U1402 = 0;
     /* RESETTIMER */ sub_5725( ref l_U2594 );
     /* CREATETIMER */ sub_4866( ref l_U1555, 250, 1, 0 );
    l_U1492 = 0;
     /* CREATETIMER */ sub_4866( ref l_U1493, 2000, 1, 0 );
    l_U1545 = 0;
    l_U1960 = 0;
     /* CREATETIMER */ sub_4866( ref l_U1546, 2000, 1, 0 );
     /* CREATETIMER */ sub_4866( ref l_U1483, 1000, 1, 0 );
     /* CREATETIMER */ sub_4866( ref l_U1727, 12000, 1, 0 );
     /* CREATETIMER */ sub_4866( ref l_U1736, 15000, 1, 0 );
     /* CREATETIMER */ sub_4866( ref l_U1749, l_U1748, 1, 0 );
    l_U1671 = 0;
     /* CREATETIMER */ sub_4866( ref l_U1715, l_U1714, 1, 0 );
    l_U2156 = 0;
    l_U2157 = 0;
    l_U2250 = 0;
    l_U2251 = 0;
    l_U2253 = 0;
    l_U2296 = 0;
    l_U2318 = 0;
     /* CREATETIMER */ sub_4866( ref l_U2365, 2000, 1, 0 );
    l_U2216 = 0;
    l_U1348 = 1;
    l_U2215 = 0;
    l_U2319 = 0;
    l_U2320 = 0;
     /* CREATETIMER */ sub_4866( ref l_U2389, 2000, 1, 0 );
     /* CREATETIMER */ sub_4866( ref l_U2398, 5000, 1, 0 );
     /* CREATETIMER */ sub_4866( ref l_U1404, l_U1403, 1, 0 );
     /* CREATETIMER */ sub_4866( ref l_U1414, l_U1413, 1, 0 );
     /* CREATETIMER */ sub_4866( ref l_U1473, l_U1472, 1, 0 );
    l_U2590 = 0;
    l_U2591 = 0;
     /* CREATETIMER */ sub_4866( ref l_U2899, 1000, 1, 0 );
     /* WRITESCRIPTLOG */ sub_1750( "MW", "P_INITIALIZE_ROOF_SCRIPT_DATA end", 0 );
    return;
}

/* P_SET_STATIC_DATA */ void sub_23031()
{
    unknown[3] uVar2;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    unknown uVar37;
    unknown uVar38;
    unknown uVar39;
    unknown uVar40;
    unknown uVar41;
    unknown uVar42;
    unknown uVar43;
    unknown uVar44;
    unknown uVar45;
    unknown uVar46;
    unknown uVar47;
    unknown uVar48;
    unknown uVar49;
    unknown uVar50;
    unknown uVar51;
    unknown uVar52;
    unknown uVar53;
    unknown uVar54;
    unknown uVar55;
    unknown uVar56;
    unknown uVar57;
    unknown uVar58;
    unknown uVar59;
    unknown uVar60;
    unknown uVar61;
    unknown uVar62;
    unknown uVar63;
    unknown uVar64;
    unknown uVar65;

     /* WRITESCRIPTLOG */ sub_1750( "MW", "P_SET_ROOF_STATIC_GAMEPLAY_DATA start", 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2014[0], 3.14000000, 42.08000000, 39.70000000, 245.00000000, 1843238895, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2014[1], 0.75000000, 39.97000000, 39.70000000, 256.00000000, 1737415154, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2014[2], 12.68000000, 30.93000000, 39.70000000, 350.00000000, 1820013202, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2014[3], -6.64000000, 35.40000000, 42.80000000, 307.00000000, 1230663476, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2014[4], -3.43000000, 34.11000000, 42.75000000, -75.00000000, -110444939, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2014[5], 1.87000000, 29.38000000, 42.80000000, -35.00000000, -263273570, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2014[6], -1.47000000, 28.19000000, 42.80000000, -60.00000000, -1091825948, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2014[7], 0.39000000, 22.90000000, 42.80000000, 330.00000000, 1311218474, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2014[8], -4.62000000, 19.75000000, 39.80000000, 250.00000000, 1043413257, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2014[9], 18.22000000, 20.66000000, 42.80000000, 125.00000000, -2135788986, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2220, 4.91000000, 8.22000000, 42.75000000, 90.00000000, -523520642, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2234[0], 1.94000000, 8.63000000, 42.20000000, 80.00000000, -1815919647, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2321[0], 33.29000000, 37.12000000, 44.09000000, 110.00000000, 607021148, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2321[1], 35.09000000, 39.02000000, 43.73000000, 115.00000000, 535507561, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2321[2], 36.69000000, 42.07000000, 43.73000000, 145.00000000, 1663155418, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2374, 13.10000000, 16.00000000, 45.95000000, -30.00000000, 317753830, 7, 3, 2, 0, 0 );
     /* P_CREATETRIGGERBOX */ sub_23995( ref l_U1564, "tb_Roof_SafetyExplosion01", 17.69000000, 39.39000000, 39.72000000, 12.00000000, 5.00000000, 3.04000000, 0.00000000, 0.00000000, -55.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_23995( ref l_U1503, "tb_Roof_Explosion01_KillZone", 10.86000000, 29.99000000, 39.54000000, 10.00000000, 8.00000000, 3.01000000, 0.00000000, 0.00000000, 50.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_23995( ref l_U1524, "tb_Roof_Explosion01_KnockOver", 11.62000000, 31.16000000, 39.54000000, 20.00000000, 12.00000000, 3.01000000, 0.00000000, 0.00000000, 50.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_23995( ref l_U1672, "tb_Roof_StartMidCollapse", 19.54000000, 40.68000000, 39.72000000, 12.00000000, 10.00000000, 3.04000000, 0.00000000, 0.00000000, -55.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_23995( ref l_U1693, "tb_Roof_CaughtInCollapse", 10.97000000, 30.53000000, 39.54000000, 15.00000000, 12.00000000, 3.01000000, 0.00000000, 0.00000000, 50.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_23995( ref l_U1585, "TRIGGER_ACTIVATE_BEHIND_AIRCON", -10.02000000, 14.10000000, 39.61000000, 9.02000000, 3.47000000, 2.91000000, 0.00000000, 0.00000000, 27.63000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_23995( ref l_U2275, "TRIGGER_LAST_AREA", 20.83000000, 25.84000000, 42.72000000, 15.00000000, 20.00000000, 2.91000000, 0.00000000, 0.00000000, -31.21000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_23995( ref l_U1606, "TRIGGER_OPEN_GATE", 4.38000000, 22.17000000, 39.61000000, 1.98000000, 2.12000000, 2.91000000, 0.00000000, 0.00000000, 62.51000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_23995( ref l_U1627, "tb_Roof_StartStairsHeavyGunner", -2.69000000, 21.12000000, 39.73000000, 4.73000000, 5.57000000, 3.00000000, 0.00000000, 0.00000000, -20.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_23995( ref l_U1648, "tb_Roof_StairSafetyCornerExplosion", -2.89000000, 10.77000000, 39.73000000, 4.73000000, 8.00000000, 3.00000000, 0.00000000, 0.00000000, -10.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_23995( ref l_U2194, "tb_Roof_PlayerHeadingToLastAreaGate", 5.64000000, 12.76000000, 42.76000000, 3.00000000, 5.81000000, 3.55000000, 0.00000000, 0.00000000, -15.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_23995( ref l_U2297, "tb_Roof_StartHallCollapse", 21.62000000, 27.09000000, 42.76000000, 12.00000000, 7.00000000, 3.59000000, 0.00000000, 0.00000000, -45.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_23995( ref l_U2173, "tb_Roof_OutOfSightTeleportToRoof", -9.27000000, 21.51000000, 39.49000000, 8.00000000, 8.00000000, 3.21000000, 0.00000000, 0.00000000, -25.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_23995( ref l_U2254, "tb_Roof_HidingOnRoof", 13.44000000, 1.51000000, 45.73000000, 9.97000000, 7.46000000, 3.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_23995( ref l_U2548, "tb_Roof_KillZone", 12.91000000, 28.75000000, 33.56000000, 80.00000000, 80.00000000, 4.75000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    array(ref uVar2, 3);
     /* P_CREATETRIGGERBOX */ sub_23995( ref uVar2[0], "tb_Roof_LastHGForcePlayerOutOfCover[0]", 18.12000000, 25.28000000, 42.86000000, 5.43000000, 3.00000000, 3.00000000, 0.00000000, 0.00000000, -40.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_23995( ref uVar2[1], "tb_Roof_LastHGForcePlayerOutOfCover[1]", 21.65000000, 20.55000000, 42.86000000, 3.00000000, 4.00000000, 3.00000000, 0.00000000, 0.00000000, -40.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_23995( ref uVar2[2], "tb_Roof_LastHGForcePlayerOutOfCover[2]", 25.08000000, 24.32000000, 42.86000000, 3.00000000, 3.00000000, 3.00000000, 0.00000000, 0.00000000, -50.00000000, 1 );
     /* P_CREATETRIGGERREGION */ sub_25581( ref l_U2407, ref uVar2 );
     /* P_CREATETRIGGERBOX */ sub_23995( ref l_U2569, "tb_Roof_1206_DeadBodySafeZone", 15.99000000, 20.32000000, 42.72000000, 15.00000000, 15.00000000, 2.91000000, 0.00000000, 0.00000000, -36.21000000, 1 );
     /* P_CREATETETHERBOX */ sub_26052( ref l_U2164, "teth_Roof_StartHalf_LOWER", 14.64000000, 35.25000000, 38.68000000, 40.00000000, 40.00000000, 3.00000000, 0.00000000, 0.00000000, -30.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_26052( ref l_U2165, "teth_Roof_Bridge", 2.98000000, 23.47000000, 42.38000000, 10.00000000, 7.00000000, 6.00000000, 0.00000000, 0.00000000, -25.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_26052( ref l_U2166, "teth_Roof_Helipad", -2.34000000, 31.91000000, 42.38000000, 12.00000000, 6.00000000, 6.00000000, 0.00000000, 0.00000000, -30.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_26052( ref l_U2167, "teth_Roof_LastArea", 21.17000000, 26.45000000, 42.70000000, 12.00000000, 12.00000000, 3.21000000, 0.00000000, 0.00000000, -45.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_26052( ref l_U2252, "teth_Roof_BaseOfStairs", -2.96000000, 10.93000000, 39.62000000, 5.00000000, 8.00000000, 3.00000000, 0.00000000, 0.00000000, -10.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_26052( ref l_U2169[0], "teth_Roof_UpperSection[0]", 14.07000000, 17.67000000, 42.70000000, 15.00000000, 8.00000000, 6.00000000, 0.00000000, 0.00000000, -25.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_26052( ref l_U2169[1], "teth_Roof_UpperSection[1]", 18.98000000, 23.72000000, 42.70000000, 12.00000000, 12.00000000, 6.00000000, 0.00000000, 0.00000000, -40.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_26052( ref l_U2169[2], "teth_Roof_UpperSection[2]", 24.38000000, 29.36000000, 42.70000000, 12.00000000, 12.00000000, 6.00000000, 0.00000000, 0.00000000, -50.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_26052( ref l_U2388, "teth_Roof_LastHG", 14.19000000, 17.87000000, 46.84000000, 1.85000000, 2.58000000, 3.00000000, 0.00000000, 0.00000000, 65.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_26052( ref l_U2168, "teth_Roof_SplosionMan", 12.09000000, 30.20000000, 38.11000000, 3.60000000, 8.46000000, 3.21000000, 0.00000000, 0.00000000, -39.93000000, 1 );
     /* P_CREATEDOORSTRUCT */ sub_26882( ref l_U1961, g_U1481, 4.86017000, 21.46267000, 41.13677000, g_U657 );
     /* P_SETDOORMINMAXLIMIT */ sub_26961( ref l_U1961, -170.00000000, 95.00000000 );
     /* P_OPENDOOR */ sub_27304( ref l_U1961, 0, 1, 1065353216 );
     /* P_SETDOORLATCH */ sub_27468( ref l_U1961, 1 );
     /* P_CREATEDOORSTRUCT */ sub_26882( ref l_U1968, g_U1482, 7.15458000, 20.20000000, 44.06000000, g_U657 );
     /* P_SETDOORMINMAXLIMIT */ sub_26961( ref l_U1968, 65446, 65447 );
     /* P_OPENDOOR */ sub_27304( ref l_U1968, 0, 1, 1065353216 );
     /* P_SETDOORLATCH */ sub_27468( ref l_U1968, 1 );
     /* P_CREATEDOORSTRUCT */ sub_26882( ref l_U1975, g_U1483, 11.45683000, 18.35566000, 44.08820000, g_U657 );
     /* P_CREATEDOORSTRUCT */ sub_26882( ref l_U1982, g_U1481, 8.84019000, 19.67155000, 44.08596000, g_U657 );
     /* P_SETDOORLOCKED */ sub_27697( ref l_U1982, 0 );
     /* P_OPENDOOR */ sub_27304( ref l_U1982, 1, 1, 0.75000000 );
     /* P_SET_DOORS_ONE_WAY */ sub_27867( ref l_U1982, ref l_U1975 );
     /* P_CLOSEDOOR */ sub_28029( ref l_U1975, 1 );
     /* P_SETDOORLOCKED */ sub_27697( ref l_U1975, 1 );
     /* P_CREATEDOORSTRUCT */ sub_26882( ref l_U1989, -995190896, 2.81055000, 3.68765000, 44.03121000, 0.00000000, 0.00000000, 0.00000000 );
     /* P_SETDOORMINMAXLIMIT */ sub_26961( ref l_U1989, -110.00000000, 105.00000000 );
     /* P_OPENDOOR */ sub_27304( ref l_U1989, 0, 1, 1065353216 );
     /* P_SETDOORLATCH */ sub_27468( ref l_U1989, 1 );
     /* P_CREATEDOORSTRUCT */ sub_26882( ref l_U1996[0], -1702366341, 23.05440000, 42.75155000, 41.05700000, 0, 0, 0 );
     /* P_SETDOORLOCKED */ sub_27697( ref l_U1996[0], 1 );
     /* P_CREATEDOORSTRUCT */ sub_26882( ref l_U1996[1], 609227234, 24.41670000, 40.53064000, 41.05700000, 0, 0, 0 );
     /* P_SETDOORLOCKED */ sub_27697( ref l_U1996[1], 1 );
     /* P_CAM_SHAKE_CREATE_STRUCT */ sub_28394( ref l_U1812[0], 1, 0.10000000, 1, 1100, 100, 1, 0 );
     /* P_CAM_SHAKE_CREATE_STRUCT */ sub_28394( ref l_U1812[1], 1, 1.00000000, 1100, 1500, -1, 1, 0 );
     /* P_CAM_SHAKE_CREATE_STRUCT */ sub_28394( ref l_U1812[2], 1, 0.25000000, 1500, 3000, 200, 1, 0 );
     /* P_CAM_SHAKE_CREATE_STRUCT */ sub_28394( ref l_U1758, 1, 0.20000000, 10, -1, 200, 0, 0 );
     /* WRITESCRIPTLOG */ sub_1750( "MW", "P_SET_ROOF_STATIC_GAMEPLAY_DATA end", 0 );
    return;
}

/* P_CREATEPEDSTRUCTWITHNAME */ void sub_23149(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU20 = uParam5;
    iParam0->_fU12 = uParam4;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU16 = GET_SCENE_PED_MODEL( uParam5 );
    iParam0->_fU48 = uParam10;
    return;
}

/* P_CREATETRIGGERBOX */ void sub_23995(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    StrCopy( ref iParam0->_fU0, uParam1, 64 );
    iParam0->_fU64 = 0;
    iParam0->_fU68 = 0;
    iParam0->_fU72 = {uParam2};
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 1, iParam0 + 0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

/* P_CREATETRIGGERREGION */ void sub_25581(int iParam0, unknown uParam1)
{
    int iVar4;
    int I;

    iVar4 = (uParam1^);
    if (iVar4 > 6)
    {
         /* WRITESCRIPTLOG */ sub_1750( "[SA]", "P_CreateTriggerRegion() ERRROR: max number of trigger boxes exceeded.", 0 );
        SCRIPT_ASSERT( "P_CreateTriggerRegion() ERRROR: max number of trigger boxes exceeded.", 0 );
    }
    for ( I = 0; I < iVar4; I++ )
    {
        iParam0->_fU0[I] = {(uParam1^)[I]};
    }
    iParam0->_fU508 = iVar4;
    iParam0->_fU548 = 0;
    iParam0->_fU552 = 0;
    iParam0->_fU556 = 0;
    iParam0->_fU560 = 0;
    return;
}

/* P_CREATETETHERBOX */ void sub_26052(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    iParam0->_fU0 = uParam1;
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 2, iParam0->_fU0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

/* P_CREATEDOORSTRUCT */ void sub_26882(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7)
{
    iParam0->_fU0 = uParam1;
    iParam0->_fU4 = {uParam2};
    iParam0->_fU16 = {uParam5};
    return;
}

/* P_SETDOORMINMAXLIMIT */ void sub_26961(int iParam0, float fParam1, float fParam2)
{
    if (( /* F_DOESDOOREXIST */ sub_26996( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_27080( iParam0 );
    }
    if (fParam1 > fParam2)
    {
        PRINTSTRING( "[SP]### Error: Door fMinLimit greater than fMaxLimit (default min:-81.0 max:81.0) ###" );
        PRINTNL();
    }
    else
    {
        DOOR_FIND_CLOSEST_SET_LIMIT_MIN( iParam0->_fU0, iParam0->_fU4, fParam1 );
        DOOR_FIND_CLOSEST_SET_LIMIT_MAX( iParam0->_fU0, iParam0->_fU4, fParam2 );
    }
    return;
}

/* F_DOESDOOREXIST */ int sub_26996(int iParam0)
{
    int iVar3;

    iVar3 = DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS( iParam0->_fU4, 1.00000000, iParam0->_fU0 );
    if (iVar3 == 1)
    {
        return 1;
    }
    return 0;
}

/* P_PRINTDOORNOTEXIST */ void sub_27080(unknown uParam0)
{
    (uParam0^) = {(uParam0^)};
    return;
}

/* P_OPENDOOR */ void sub_27304(int iParam0, int iParam1, int iParam2, unknown uParam3)
{
    float fVar6;

    if (( /* F_DOESDOOREXIST */ sub_26996( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_27080( iParam0 );
    }
    fVar6 = 0.00000000;
    if (iParam1 == 1)
    {
        fVar6 = uParam3;
    }
    else
    {
        fVar6 = -uParam3;
    }
    if (iParam2 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, fVar6 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar6 );
    }
    else
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar6 );
    }
    return;
}

/* P_SETDOORLATCH */ void sub_27468(int iParam0, unknown uParam1)
{
    if (( /* F_DOESDOOREXIST */ sub_26996( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_27080( iParam0 );
    }
    DOOR_FIND_CLOSEST_SET_LATCH( iParam0->_fU0, iParam0->_fU4, uParam1 );
    return;
}

/* P_SETDOORLOCKED */ void sub_27697(int iParam0, int iParam1)
{
    int iVar4;
    float fVar5;

    if (( /* F_DOESDOOREXIST */ sub_26996( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_27080( iParam0 );
    }
    if (iParam1 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, 0.00000000 );
    }
    else
    {
        iVar4 = 0;
        fVar5 = 0.00000000;
        GET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, ref iVar4, ref fVar5 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar5 );
    }
    return;
}

/* P_SET_DOORS_ONE_WAY */ void sub_27867(unknown uParam0, unknown uParam1)
{
     /* P_SETDOORMINMAXLIMIT */ sub_26961( uParam0, 0, 90 );
     /* P_SETDOORMINMAXLIMIT */ sub_26961( uParam1, 65446, 0 );
     /* P_SETDOORAUTOCLOSE */ sub_27928( uParam0, 1 );
     /* P_SETDOORAUTOCLOSE */ sub_27928( uParam1, 1 );
    return;
}

/* P_SETDOORAUTOCLOSE */ void sub_27928(int iParam0, unknown uParam1)
{
    if (( /* F_DOESDOOREXIST */ sub_26996( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_27080( iParam0 );
    }
    DOOR_FIND_CLOSEST_SET_AUTO_CLOSE( iParam0->_fU0, iParam0->_fU4, uParam1 );
    return;
}

/* P_CLOSEDOOR */ void sub_28029(int iParam0, int iParam1)
{
    if (( /* F_DOESDOOREXIST */ sub_26996( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_27080( iParam0 );
    }
    if (iParam1 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, 0.00000000 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, 0.00000000 );
    }
    else
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, 0.00000000 );
    }
    return;
}

/* P_CAM_SHAKE_CREATE_STRUCT */ void sub_28394(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7)
{
    if (iParam0->_fU168 == 0)
    {
         /* P_CAM_SHAKE_SET_SHAKE_TYPE */ sub_28450( iParam0, uParam1 );
        iParam0->_fU192 = uParam1;
        iParam0->_fU36 = uParam2;
        iParam0->_fU148 = uParam3;
        iParam0->_fU152 = uParam4;
        iParam0->_fU156 = uParam5;
        iParam0->_fU160 = uParam7;
        iParam0->_fU176 = uParam6;
    }
     /* RESETTIMER */ sub_5725( iParam0 + 40 );
     /* RESETTIMER */ sub_5725( iParam0 + 76 );
     /* RESETTIMER */ sub_5725( iParam0 + 112 );
    iParam0->_fU172 = iParam0->_fU176;
    iParam0->_fU164 = 0;
    iParam0->_fU168 = 1;
    iParam0->_fU184 = 0;
    iParam0->_fU188 = 0;
    return;
}

/* P_CAM_SHAKE_SET_SHAKE_TYPE */ void sub_28450(int iParam0, unknown uParam1)
{
    switch (uParam1)
    {
        case 1:
        StrCopy( ref iParam0->_fU4, "SMALL_EXPLOSION_SHAKE", 32 );
        break;
        case 2:
        StrCopy( ref iParam0->_fU4, "MEDIUM_EXPLOSION_SHAKE", 32 );
        break;
        case 3:
        StrCopy( ref iParam0->_fU4, "LARGE_EXPLOSION_SHAKE", 32 );
        break;
        case 4:
        StrCopy( ref iParam0->_fU4, "HAND_SHAKE", 32 );
        break;
        case 5:
        StrCopy( ref iParam0->_fU4, "JOLT_SHAKE", 32 );
        break;
        case 6:
        StrCopy( ref iParam0->_fU4, "VIBRATE_SHAKE", 32 );
        break;
        case 7:
        StrCopy( ref iParam0->_fU4, "WOBBLY_SHAKE", 32 );
        break;
    }
    iParam0->_fU0 = iParam0->_fU192;
    return;
}

/* P_INITIALIZE_SP_CHALLENGES */ void sub_29070()
{
     /* WRITESCRIPTLOG */ sub_1750( "CCB", "P_INITIALIZE_SP_CHALLENGES", 0 );
    l_U2592 = 0;
    l_U2593 = 0;
    if (NOT (SCRIPT_VAR_HASH_EXISTS( 1701971384 )))
    {
         /* WRITESCRIPTLOG */ sub_1750( "CCB", "Creating the OldPainless script variable...", 0 );
        SCRIPT_VAR_HASH_ADD_INT( 1701971384 );
        DISPLAYF( "[CCB] ### The current OldPainless value is: {} ###", 1, 513, SCRIPT_VAR_HASH_GET_INT( 1701971384 ) );
        if (SCRIPT_VAR_HASH_EXISTS( 1701971384 ))
        {
             /* WRITESCRIPTLOG */ sub_1750( "CCB", "The OldPainless script variable was successfully created...", 0 );
        }
        else
        {
             /* WRITESCRIPTLOG */ sub_1750( "CCB", "The OldPainless script variable is NOT valid!!!", 0 );
        }
    }
    else
    {
         /* WRITESCRIPTLOG */ sub_1750( "CCB", "The OldPainless script variable was already created...", 0 );
        SCRIPT_VAR_HASH_SET_INT( 1701971384, 0 );
        DISPLAYF( "[CCB] ### The current OldPainless value is: {} ###", 1, 513, SCRIPT_VAR_HASH_GET_INT( 1701971384 ) );
    }
    return;
}

/* LOAD_12_05_ASSETS */ void sub_29894()
{
    int I;

     /* WRITESCRIPTLOG */ sub_1750( "MW", "LOAD_12_05_ASSETS start", 0 );
    for ( I = 0; I <= 1; I++ )
    {
         /* LOADMODEL */ sub_29983( l_U1355[I], 0 );
    }
    if ((l_U1349) AND (g_U854 != 10))
    {
         /* LOADSEAMLESSCUTSCENE */ sub_30263( l_U2782, 1 );
    }
     /* LOADANIMDICT */ sub_30627( "LEVEL_S_HOTEL_CP_09", 0, 1 );
     /* LOADISEQ */ sub_30799( 469460336, 1 );
     /* LOADSCRIPTSTREAM */ sub_31117( "S_HOTEL_BACK_COLLAPSE", 0, 1 );
    for ( I = 0; I <= 1; I++ )
    {
         /* LOADMODEL */ sub_29983( l_U1355[I], 1 );
    }
     /* WRITESCRIPTLOG */ sub_1750( "MW", "LOAD_12_05_ASSETS end", 0 );
    return;
}

/* LOADMODEL */ void sub_29983(unknown uParam0, boolean bParam1)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
         /* WRITE_STRING */ sub_9799( "[SP]### ERROR! (LoadModel) Trying to load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    if (bParam1)
    {
        while ((HAS_MODEL_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* LOADSEAMLESSCUTSCENE */ void sub_30263(unknown uParam0, int iParam1)
{
    if (HAS_CUTSCENE_LOADED())
    {
        if (NOT (CUTSCENE_IS_LOADED( uParam0 )))
        {
            SCRIPT_ASSERT( "Another cutscene is already loaded.  You can only load one cutscene into memory.  Your current cutscene will not load into memory.", 0 );
        }
    }
    if (NOT (CUTSCENE_IS_LOADED( uParam0 )))
    {
        PRE_STREAM_SEAMLESS_CUTSCENE( uParam0 );
        if (iParam1 == 1)
        {
            while ((CUTSCENE_IS_LOADED( uParam0 )) == 0)
            {
                DISPLAYF( "[SP]### Waiting for seamless cutscene to load: {} ###", 1, 1537, uParam0 );
                WAIT( 0 );
            }
        }
    }
    return;
}

/* LOADANIMDICT */ void sub_30627(unknown uParam0, unknown uParam1, int iParam2)
{
    REQUEST_ANIM_DICT( uParam0, uParam1 );
    "[doubled result, dropped if not asigned]";
    if (iParam2 == 1)
    {
        while ((HAS_ANIM_DICT_LOADED( uParam0, uParam1 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an animation dictionary to be loaded: {} ###", 1, 1537, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* LOADISEQ */ void sub_30799(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to load does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 0)
    {
        ISEQ_REQUEST( uParam0 );
        ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
        if (iParam1 == 1)
        {
            while ((ISEQ_QUERY_STATE( uParam0, 1 )) == 1)
            {
                DISPLAYF( "[SP]### Waiting for interactive sequence to be loaded: {0} {1} ###", 2, 1281, ref uVar4, 513, uParam0 );
                WAIT( 0 );
            }
        }
    }
    return;
}

/* LOADSCRIPTSTREAM */ void sub_31117(unknown uParam0, unknown uParam1, int iParam2)
{
    if (iParam2 == 0)
    {
        REQUEST_SCRIPT_STREAM( uParam0, uParam1 );
    }
    else
    {
        while ((LOAD_SCRIPT_STREAM( uParam0, uParam1 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for script stream to be loaded: {} : {} ###", 2, 1537, uParam0, 513, uParam1 );
            WAIT( 0 );
        }
    }
    return;
}

/* P_ROOF_SPAWN_WAVE1_ENEMIES */ void sub_31477()
{
    switch (l_U2156)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_1750( "GA", "e_Roof_W1_EnemySpawn = ENTITY_STATE_INIT", 0 );
        l_U2157 = 0;
         /* P_SETUP_AI_GROUP */ sub_31622( ref l_U2158, 1056964608, 0 );
        l_U2156 = 2;
         /* WRITESCRIPTLOG */ sub_1750( "GA", "e_Roof_W1_EnemySpawn = ENTITY_STATE_CREATING", 0 );
        break;
        case 2:
        l_U2145[l_U2157] =  /* CREATEPED */ sub_32087( ref l_U2014[l_U2157] );
         /* P_QUICK_ADD_PED_TO_GROUP */ sub_32823( l_U2145[l_U2157], ref l_U2158 );
        if (NOT (IS_PED_DEAD( l_U2145[l_U2157] )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U2145[l_U2157], 1 );
            SET_PED_ALERTNESS( l_U2145[l_U2157], 3 );
            SET_PED_PATH_CAN_USE_CLIMBOVERS( l_U2145[l_U2157], 0 );
            SET_PED_PATH_CAN_DROP_FROM_HEIGHT( l_U2145[l_U2157], 0 );
        }
        l_U2157++;
        if (l_U2157 >= 10)
        {
            l_U2156 = 3;
             /* WRITESCRIPTLOG */ sub_1750( "GA", "e_Roof_W1_EnemySpawn = ENTITY_STATE_POST_CREATE_SETUP", 0 );
        }
        break;
        case 3:
         /* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ sub_33434( ref l_U2145, "pi_Roof_W1_Enemy" );
         /* F_GIVEPEDWEAPON */ sub_12994( l_U2145[0], -612753081, 25000, 0, 0 );
         /* F_GIVEPEDWEAPON */ sub_12994( l_U2145[1], 1478009203, 25000, 0, 0 );
         /* F_GIVEPEDWEAPON */ sub_12994( l_U2145[2], -1013714740, 25000, 0, 0 );
         /* F_GIVEPEDWEAPON */ sub_12994( l_U2145[3], -1013714740, 25000, 0, 0 );
         /* F_GIVEPEDWEAPON */ sub_12994( l_U2145[4], -1013714740, 25000, 0, 0 );
         /* F_GIVEPEDWEAPON */ sub_12994( l_U2145[5], -1013714740, 25000, 0, 0 );
         /* F_GIVEPEDWEAPON */ sub_12994( l_U2145[6], -612753081, 25000, 0, 0 );
         /* F_GIVEPEDWEAPON */ sub_12994( l_U2145[7], -612753081, 25000, 0, 0 );
         /* F_GIVEPEDWEAPON */ sub_12994( l_U2145[8], 514118749, 25000, 0, 0 );
         /* F_GIVEPEDWEAPON */ sub_12994( l_U2145[9], 514118749, 25000, 0, 0 );
         /* P_SET_PED_TEMPLATE_AND_RANGES */ sub_33834( ref l_U2145[0], "AIT_EXPERT", 5.00000000, 40.00000000 );
         /* P_SET_PED_TEMPLATE_AND_RANGES */ sub_33834( ref l_U2145[1], "AIT_EXPERT", 5.00000000, 40.00000000 );
         /* P_SET_PED_TEMPLATE_AND_RANGES */ sub_33834( ref l_U2145[2], "AIT_EXPERT", 5.00000000, 40.00000000 );
         /* P_SET_PED_TEMPLATE_AND_RANGES */ sub_33834( ref l_U2145[3], "AIT_EXPERT", 5.00000000, 40.00000000 );
         /* P_SET_PED_TEMPLATE_AND_RANGES */ sub_33834( ref l_U2145[4], "AIT_EXPERT", 5.00000000, 40.00000000 );
         /* P_SET_PED_TEMPLATE_AND_RANGES */ sub_33834( ref l_U2145[5], "AIT_EXPERT", 5.00000000, 40.00000000 );
         /* P_SET_PED_TEMPLATE_AND_RANGES */ sub_33834( ref l_U2145[6], "AIT_EXPERT", 5.00000000, 40.00000000 );
         /* P_SET_PED_TEMPLATE_AND_RANGES */ sub_33834( ref l_U2145[7], "AIT_EXPERT", 5.00000000, 40.00000000 );
         /* P_SET_PED_TEMPLATE_AND_RANGES */ sub_33834( ref l_U2145[8], "AIT_EXPERT", 5.00000000, 10.00000000 );
         /* P_SET_PED_TEMPLATE_AND_RANGES */ sub_33834( ref l_U2145[9], "AIT_EXPERT", 2.50000000, 10.00000000 );
         /* P_DEACTIVATEPEDARRAY */ sub_34275( ref l_U2145 );
        l_U2156 = 4;
         /* WRITESCRIPTLOG */ sub_1750( "GA", "e_Roof_W1_EnemySpawn = ENTITY_STATE_COMPLETE", 0 );
        break;
    }
    return;
}

/* P_SETUP_AI_GROUP */ void sub_31622(int iParam0, unknown uParam1, boolean bParam2)
{
    iParam0->_fU4 = uParam1;
    iParam0->_fU0 = CREATE_GROUP( 3, 1 );
    if (bParam2)
    {
        PRINTSTRING( "[MSWW]### P_SETUP_AI_GROUP TOLD TO WAIT FOR GROUP TO EXIST ###" );
        PRINTNL();
        while (NOT (DOES_GROUP_EXIST( iParam0->_fU0 )))
        {
            WAIT( 0 );
            PRINTSTRING( "[MSWW]### GROUP ###" );
            PRINTNL();
        }
        PRINTSTRING( "[MSWW]### P_SETUP_AI_GROUP created group with ID: " );
        PRINTINT( iParam0->_fU0 );
        PRINTNL();
    }
    SET_GROUP_RATIO_FIRING_AT_VISIBLE( iParam0->_fU0, iParam0->_fU4 );
    SET_GROUP_RATIO_FIRING_AT_INVISIBLE( iParam0->_fU0, iParam0->_fU4 );
    if (iParam0->_fU8)
    {
        SET_GROUP_FORMATION( iParam0->_fU0, iParam0->_fU12 );
        SET_GROUP_FORMATION_SPACING( iParam0->_fU0, iParam0->_fU16 );
        SET_GROUP_FORMATION_MAX_MOVE_SPEED( iParam0->_fU0, iParam0->_fU20 );
    }
    return;
}

/* CREATEPED */ void sub_32087(int iParam0)
{
    int iVar3;

    iVar3 = 0;
    if (iParam0->_fU16 == 0)
    {
        if (iParam0->_fU20 != 0)
        {
            iVar3 = GET_SCENE_PED_MODEL( iParam0->_fU20 );
        }
    }
    else
    {
        iVar3 = iParam0->_fU16;
    }
    if ((HAS_MODEL_LOADED( iVar3 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_29983( iParam0->_fU16, 1 );
    }
    iParam0->_fU40 = CREATE_PED( iParam0->_fU24, iParam0->_fU16, iParam0->_fU0, iParam0->_fU12, 1, iParam0->_fU48 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( iParam0->_fU40, 1 );
        SET_PED_COORDS_NO_OFFSET( iParam0->_fU40, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU40 ) );
        SET_PED_HEADING( iParam0->_fU40, iParam0->_fU12 );
        iParam0->_fU44 = 1;
    }
    else
    {
        SCRIPT_ASSERT( "Error: The ped you created doesn't exist or is dead!", 0 );
    }
     /* SETPEDDEFAULTSTATS */ sub_32578( iParam0->_fU40 );
     /* SETPEDDEFAULTTEMPLATE */ sub_32679( iParam0->_fU40 );
    return iParam0->_fU40;
}

/* SETPEDDEFAULTSTATS */ void sub_32578(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_HEALTH( uParam0, 200, 0 );
        SET_PED_ACCURACY( uParam0, -729479261 );
    }
    return;
}

/* SETPEDDEFAULTTEMPLATE */ void sub_32679(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_AI_TEMPLATE( uParam0, "AIT_DEFAULT_GENERIC" );
    }
    return;
}

/* P_QUICK_ADD_PED_TO_GROUP */ void sub_32823(unknown uParam0, int iParam1)
{
    int iVar4;
    unknown uVar5;

    if ((DOES_GROUP_EXIST( iParam1->_fU0 )) == 0)
    {
         /* WRITE_STRING */ sub_9799( "[SP]### Warning!!! Group does not exist. Creating new group specified attributes. ###" );
        if (iParam1->_fU4 > 0)
        {
             /* P_SETUP_AI_GROUP */ sub_31622( iParam1, iParam1->_fU4, 0 );
        }
        else
        {
             /* P_SETUP_AI_GROUP */ sub_31622( iParam1, 1056964608, 0 );
        }
    }
    else
    {
        PRINTSTRING( "[MSWW]### P_QUICK_ADD_PED_TO_GROUP adding ped to group with ID: " );
        PRINTINT( iParam1->_fU0 );
        PRINTNL();
    }
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        GET_GROUP_SIZE( iParam1->_fU0, ref iVar4, ref uVar5 );
        if (iVar4 == 0)
        {
            SET_PED_AS_GROUP_LEADER( uParam0, iParam1->_fU0 );
        }
        else
        {
            SET_PED_AS_GROUP_MEMBER( uParam0, iParam1->_fU0 );
        }
        SET_PED_NEVER_LEAVES_GROUP( uParam0, 1 );
    }
    return;
}

/* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ void sub_33434(unknown uParam0, unknown uParam1)
{
    int I;
    char[32] cVar5;

    for ( I = 0; I < (uParam0^); I++ )
    {
        if (DOES_PED_EXIST( (uParam0^)[I] ))
        {
            StrCopy( ref cVar5, uParam1, 32 );
            ConcatString(ref cVar5, " ", 32);
            ConcatString(ref cVar5, I, 32);
            SET_PED_NAME_DEBUG( (uParam0^)[I], ref cVar5 );
        }
    }
    return;
}

/* P_SET_PED_TEMPLATE_AND_RANGES */ void sub_33834(unknown uParam0, unknown uParam1, float fParam2, float fParam3)
{
    if (NOT (IS_PED_DEAD( (uParam0^) )))
    {
        SET_PED_AI_TEMPLATE( (uParam0^), uParam1 );
        if (fParam2 > -1)
        {
            SET_PED_COMBAT_RANGE_MIN( (uParam0^), fParam2 );
        }
        if (fParam3 > -1)
        {
            SET_PED_COMBAT_RANGE_MAX( (uParam0^), fParam3 );
        }
    }
    return;
}

/* P_DEACTIVATEPEDARRAY */ void sub_34275(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
         /* P_DEACTIVATEPED */ sub_34329( (uParam0^)[I] );
    }
    return;
}

/* P_DEACTIVATEPED */ void sub_34329(unknown uParam0)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_FREEZE_PROCESSING( uParam0, 1 );
        SET_PED_VISIBLE( uParam0, 0 );
        SET_PED_VISIBLE_DURING_SEQUENCE( uParam0, 0 );
        FREEZE_PED_POSITION( uParam0, 1 );
        SET_PED_COLLISION( uParam0, 0 );
        SET_PED_PROOFS( uParam0, 1, 1, 1, 1, 1 );
    }
    return;
}

/* SET_HOTEL_WEATHER_AND_TOD */ void sub_34553(unknown uParam0)
{
    int iVar3;
    string sVar4;

    switch (uParam0)
    {
        case 20:
        case 0:
        iVar3 = 20;
        sVar4 = "SUNNY";
        break;
        case 1:
        iVar3 = 12;
        sVar4 = "SUNNY";
        break;
        case 2:
        case 3:
        case 4:
        iVar3 = 9;
        sVar4 = "SUNNY";
        break;
        case 5:
        iVar3 = 12;
        sVar4 = "SUNNY";
        break;
        case 6:
        case 7:
        case 8:
        case 9:
        iVar3 = 9;
        sVar4 = "SUNNY_WINDY";
        break;
        case 10:
        iVar3 = 12;
        sVar4 = "SUNNY_WINDY";
        break;
        default:
        iVar3 = 12;
        sVar4 = "SUNNY";
        break;
    }
    PRINTSTRING( "SET_HOTEL_WEATHER_AND_TOD - checkpoint #" );
    PRINTINT( uParam0 );
    PRINTSTRING( " hour: " );
    PRINTINT( iVar3 );
    PRINTSTRING( " weather: " );
    PRINTSTRING( sVar4 );
    PRINTNL();
    SET_TIME_OF_DAY( iVar3, 0 );
    FREEZE_TIME_OF_DAY( iVar3, 0 );
    SET_WEATHER_TYPE_NOW_PERSIST( sVar4 );
    SET_WEATHER_TRANSITION_IMMEDIATE( 1 );
    return;
}

/* LOAD_ROOFTOP_RAYFIRE_ASSETS */ void sub_35020(unknown uParam0)
{
    int I;

     /* WRITESCRIPTLOG */ sub_1750( "MW", "LOAD_ROOFTOP_RAYFIRE_ASSETS start", 0 );
     /* SETUP_SCRIPTED_SPEECH */ sub_35117( "SHOTAUD" );
    for ( I = 2; I <= (l_U1355 - 1); I++ )
    {
         /* LOADMODEL */ sub_29983( l_U1355[I], 0 );
    }
     /* LOADANIMDICT */ sub_30627( "LEVEL_S_HOTEL_CP_11", 0, uParam0 );
     /* LOADISEQ */ sub_30799( -1844315547, uParam0 );
     /* LOADISEQ */ sub_30799( -473924166, uParam0 );
     /* LOADAUDIOBANK */ sub_35413( "SCRIPT_MISSION\S_HOTEL_ROOFTOP", uParam0 );
     /* LOADAUDIOBANK */ sub_35413( "SCRIPT_MISSION\S_HOTEL_ROOFTOP_RAYFIRES_01", uParam0 );
    for ( I = 2; I <= (l_U1355 - 1); I++ )
    {
         /* LOADMODEL */ sub_29983( l_U1355[I], uParam0 );
    }
     /* WRITESCRIPTLOG */ sub_1750( "MW", "LOAD_ROOFTOP_RAYFIRE_ASSETS end", 0 );
    return;
}

/* SETUP_SCRIPTED_SPEECH */ void sub_35117(unknown uParam0)
{
    StrCopy( ref g_U157._fU0, uParam0, 16 );
     /* CLEARPEDCONVERSATIONDATA */ sub_35161();
    return;
}

/* CLEARPEDCONVERSATIONDATA */ void sub_35161()
{
    int I;

    for ( I = 0; I <= 8; I++ )
    {
        g_U157._fU16[I]._fU0 = nil;
        g_U157._fU16[I]._fU4 = 0;
        g_U157._fU92[I] = 0;
    }
    return;
}

/* LOADAUDIOBANK */ void sub_35413(unknown uParam0, int iParam1)
{
    LOAD_SCRIPT_AUDIO_BANK( uParam0 );
    if (iParam1 == 1)
    {
        while ((IS_SCRIPT_AUDIO_BANK_LOADED( uParam0, 0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for script audio bank to be loaded: {} ###", 1, 1537, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* P_SETUP_ROOF_GAMEPLAY */ void sub_35731()
{
     /* CREATE_EXPLOSION1_OBJECTS */ sub_35765();
     /* CREATE_EXPLOSION2_OBJECTS */ sub_36468();
     /* P_CREATE_ROOFTOP_BACK_COLLAPSE */ sub_36871();
     /* P_CREATE_ROOFTOP_MID_COLLAPSE */ sub_37540();
     /* P_CREATE_ROOFTOP_CORNER_EXPLOSION */ sub_38513();
     /* P_CREATE_ROOFTOP_HALL_COLLAPSE */ sub_39447();
     /* CREATE_ROOFTOP_HELICOPTER */ sub_40038();
     /* P_CREATE_ROOF_PLACEMENTS */ sub_40449();
    return;
}

/* CREATE_EXPLOSION1_OBJECTS */ void sub_35765()
{
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U2638, -1267912278, 14.00000000, 27.00000000, 42.80000000, 1, 0 );
     /* CLEANOBJECT */ sub_7622( l_U2639 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U2640, 1550581806, 14.00000000, 27.00000000, 42.80000000, 1, 0 );
     /* CLEANOBJECT */ sub_7622( l_U2641 );
     /* CLEANOBJECT */ sub_7622( l_U2642 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U2645, -75073551, 14.70000000, 28.50000000, 41.50000000, 1, 0 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U2643, -318167782, 13.00000000, 27.90000000, 40.20000000, 1, 0 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U2646, -934816225, 14, 27, 42.80000000, 1, 0 );
    SET_OBJECT_VISIBLE( l_U2646, 0 );
    SET_OBJECT_COLLISION( l_U2646, 0 );
    return;
}

/* MAL_RECREATEOBJECTWITHNOROTATION */ void sub_35829(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
     /* MAL_RECREATEOBJECT */ sub_35891( uParam0, uParam1, uParam2, g_U657, uParam5, uParam6 );
    return;
}

/* MAL_RECREATEOBJECT */ void sub_35891(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
     /* CLEANOBJECT */ sub_7622( (uParam0^) );
    (uParam0^) =  /* CREATEOBJECTNOOFFSET */ sub_35943( uParam1, uParam2, uParam5, 0, uParam9, 0 );
    FREEZE_OBJECT_POSITION( (uParam0^), uParam8 );
    return;
}

/* CREATEOBJECTNOOFFSET */ void sub_35943(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_29983( uParam0, 1 );
    }
    Result = CREATE_OBJECT_NO_OFFSET( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an object to exist: {!f1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

/* CREATE_EXPLOSION2_OBJECTS */ void sub_36468()
{
     /* CLEAN_ALL_ROOFTOP_EXPLOSION2_OBJECTS */ sub_8271();
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U2610, -367636848, 3.50000000, 9, 43.50000000, 1, 0 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U2618, -985729267, 6, 9, 43.50000000, 1, 0 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U2615, -2018457515, -1.80000000, 6.50000000, 41.50000000, 1, 0 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U2612, -529475815, 3.20000000, 8.50000000, 43.50000000, 1, 0 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U2611, 1739372840, 3.50000000, 9, 43.50000000, 1, 0 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U2620, -1991423309, 6, 9, 43.50000000, 1, 0 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U2619, 1340369130, 6, 9, 43.50000000, 1, 0 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U2616, 1629971762, -2, 6.50000000, 41.50000000, 1, 0 );
    SET_OBJECT_VISIBLE( l_U2612, 0 );
    SET_OBJECT_VISIBLE( l_U2611, 0 );
    SET_OBJECT_VISIBLE( l_U2620, 0 );
    SET_OBJECT_VISIBLE( l_U2619, 0 );
    SET_OBJECT_VISIBLE( l_U2616, 0 );
    FREEZE_OBJECT_POSITION( l_U2612, 1 );
    FREEZE_OBJECT_POSITION( l_U2611, 1 );
    FREEZE_OBJECT_POSITION( l_U2620, 1 );
    FREEZE_OBJECT_POSITION( l_U2619, 1 );
    FREEZE_OBJECT_POSITION( l_U2616, 1 );
    return;
}

/* P_CREATE_ROOFTOP_BACK_COLLAPSE */ void sub_36871()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_CREATE_ROOFTOP_BACK_COLLAPSE start", 0 );
    l_U2695 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2699, 6.00000000, 40.00000000, 38.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2695 ))
    {
        FREEZE_OBJECT_POSITION( l_U2695, 1 );
    }
    l_U2696 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2700, 6.00000000, 40.00000000, 38.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2696 ))
    {
        FREEZE_OBJECT_POSITION( l_U2696, 1 );
        SET_OBJECT_VISIBLE( l_U2696, 0 );
    }
    l_U2697 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2701, 6.00000000, 40.00000000, 38.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2697 ))
    {
        FREEZE_OBJECT_POSITION( l_U2697, 1 );
        SET_OBJECT_VISIBLE( l_U2697, 0 );
    }
    l_U2698 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2702, 6.00000000, 40.00000000, 38.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2698 ))
    {
        FREEZE_OBJECT_POSITION( l_U2698, 1 );
        SET_OBJECT_VISIBLE( l_U2698, 0 );
    }
    l_U2706 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2708, 3.00000000, 44.00000000, 40.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2706 ))
    {
        FREEZE_OBJECT_POSITION( l_U2706, 1 );
    }
    l_U2707 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2709, 3.00000000, 44.00000000, 40.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2707 ))
    {
        FREEZE_OBJECT_POSITION( l_U2707, 1 );
        SET_OBJECT_VISIBLE( l_U2707, 0 );
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_CREATE_ROOFTOP_BACK_COLLAPSE end", 0 );
    return;
}

/* P_CREATE_ROOFTOP_MID_COLLAPSE */ void sub_37540()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_CREATE_ROOFTOP_MID_COLLAPSE start", 0 );
    l_U2717 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2723, 8.00000000, 28.00000000, 39.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2717 ))
    {
        FREEZE_OBJECT_POSITION( l_U2717, 1 );
    }
    l_U2718 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2724, 8.00000000, 28.00000000, 39.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2718 ))
    {
        FREEZE_OBJECT_POSITION( l_U2718, 1 );
        SET_OBJECT_VISIBLE( l_U2718, 0 );
    }
    l_U2719 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2725, 13.00000000, 34.00000000, 39.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2719 ))
    {
        FREEZE_OBJECT_POSITION( l_U2719, 1 );
        SET_OBJECT_VISIBLE( l_U2719, 0 );
    }
    l_U2720 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2726, 8.00000000, 28.00000000, 39.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2720 ))
    {
        FREEZE_OBJECT_POSITION( l_U2720, 1 );
    }
    l_U2721 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2727, 10.00000000, 30.00000000, 40.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2721 ))
    {
        FREEZE_OBJECT_POSITION( l_U2721, 1 );
        SET_OBJECT_VISIBLE( l_U2721, 0 );
        SET_OBJECT_COLLISION( l_U2721, 0 );
    }
    l_U2722 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2728, 13.00000000, 27.90000000, 40.20000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2722 ))
    {
        FREEZE_OBJECT_POSITION( l_U2722, 1 );
        SET_OBJECT_VISIBLE( l_U2722, 0 );
        SET_OBJECT_COLLISION( l_U2722, 0 );
    }
    ENABLE_NORMAL_LINE( "roof_simple", "ACUnitPre_Coverline04", 1 );
    ENABLE_COVERPOINTMP3( "roof_simple", "ACUnitPre_Coverpoint01", 1 );
    ENABLE_COVERPOINTMP3( "roof_simple", "ACUnitPre_Coverpoint02", 1 );
    ENABLE_NORMAL_LINE( "roof_simple", "ACUnitPost_CoverLine01", 0 );
    ENABLE_NORMAL_LINE( "roof_simple", "ACUnitPost_CoverLine1L", 0 );
    ENABLE_NORMAL_LINE( "roof_simple", "ACUnitPost_CoverLine1R", 0 );
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_CREATE_ROOFTOP_MID_COLLAPSE end", 0 );
    return;
}

/* P_CREATE_ROOFTOP_CORNER_EXPLOSION */ void sub_38513()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_CREATE_ROOFTOP_CORNER_EXPLOSION start", 0 );
    l_U2666 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2669, -9.00000000, 2.00000000, 40.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2666 ))
    {
        FREEZE_OBJECT_POSITION( l_U2666, 1 );
    }
    l_U2667 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2670, -9.00000000, 2.00000000, 40.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2667 ))
    {
        FREEZE_OBJECT_POSITION( l_U2667, 1 );
        SET_OBJECT_VISIBLE( l_U2667, 0 );
    }
    l_U2668 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2671, -9.00000000, 2.00000000, 40.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2668 ))
    {
        FREEZE_OBJECT_POSITION( l_U2668, 1 );
        SET_OBJECT_VISIBLE( l_U2668, 0 );
    }
    l_U2674 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2678, -11.90000000, 5.00000000, 39.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2674 ))
    {
        FREEZE_OBJECT_POSITION( l_U2674, 1 );
    }
    l_U2675 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2678, -7.30000000, 4.50000000, 39.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2675 ))
    {
        FREEZE_OBJECT_POSITION( l_U2675, 1 );
    }
    l_U2676 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2679, -11.90000000, 5.00000000, 39.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2676 ))
    {
        FREEZE_OBJECT_POSITION( l_U2676, 1 );
        SET_OBJECT_VISIBLE( l_U2676, 0 );
    }
    l_U2677 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2680, -7.30000000, 4.50000000, 39.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2677 ))
    {
        FREEZE_OBJECT_POSITION( l_U2677, 1 );
        SET_OBJECT_VISIBLE( l_U2677, 0 );
    }
    l_U2683 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2685, -11.00000000, 0.00000000, 42.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2683 ))
    {
        FREEZE_OBJECT_POSITION( l_U2683, 1 );
    }
    l_U2684 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2686, -11.00000000, 0.00000000, 42.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2684 ))
    {
        FREEZE_OBJECT_POSITION( l_U2684, 1 );
        SET_OBJECT_VISIBLE( l_U2684, 0 );
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_CREATE_ROOFTOP_CORNER_EXPLOSION end", 0 );
    return;
}

/* P_CREATE_ROOFTOP_HALL_COLLAPSE */ void sub_39447()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_CREATE_ROOFTOP_HALL_COLLAPSE start", 0 );
    l_U2744 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2749, 26.00000000, 30.00000000, 43.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2744 ))
    {
        FREEZE_OBJECT_POSITION( l_U2744, 1 );
    }
    l_U2745 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2750, 26.00000000, 30.00000000, 42.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2745 ))
    {
        FREEZE_OBJECT_POSITION( l_U2745, 1 );
        SET_OBJECT_VISIBLE( l_U2745, 0 );
        SET_OBJECT_COLLISION( l_U2745, 0 );
    }
    l_U2746 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2751, 26.00000000, 30.00000000, 43.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2746 ))
    {
        FREEZE_OBJECT_POSITION( l_U2746, 1 );
        SET_OBJECT_VISIBLE( l_U2746, 0 );
    }
    l_U2747 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2752, 26.00000000, 30.00000000, 43.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2747 ))
    {
        FREEZE_OBJECT_POSITION( l_U2747, 1 );
        SET_OBJECT_VISIBLE( l_U2747, 0 );
    }
    l_U2748 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2753, 32.00000000, 29.00000000, 46.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2748 ))
    {
        FREEZE_OBJECT_POSITION( l_U2748, 1 );
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_CREATE_ROOFTOP_HALL_COLLAPSE end", 0 );
    return;
}

/* CREATE_ROOFTOP_HELICOPTER */ void sub_40038()
{
     /* CLEANVEHICLE */ sub_9494( g_U991 );
    g_U991 =  /* CREATEVEHICLE */ sub_40115( 1721151522, -7.29860900, 28.41558000, 43.75145000, 8.00000000, 1, 0, 0 );
    SET_VEHICLE_ENGINE_CAN_BE_DAMAGED( g_U991, 0 );
    return;
}

/* CREATEVEHICLE */ void sub_40115(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, int iParam5, unknown uParam6, unknown uParam7)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a vehicle with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_29983( uParam0, 1 );
    }
    Result = CREATE_VEHICLE( uParam0, uParam1, uParam4, uParam6, uParam7 );
    if (iParam5 == 1)
    {
        while ((DOES_VEHICLE_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for vehicle to exist: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    if (DOES_VEHICLE_EXIST( Result ))
    {
        SET_PETROLTANK_BURN_RATE( Result, 125.00000000 );
    }
    return Result;
}

/* P_CREATE_ROOF_PLACEMENTS */ void sub_40449()
{
     /* WRITESCRIPTLOG */ sub_1750( "MW", "P_CREATE_ROOF_PLACEMENTS start", 0 );
    l_U2011[0] =  /* CREATEPLACEMENT */ sub_40573( -4072149, 2.06000000, 2.68000000, 44.08000000, 0.00000000, 0.00000000, 0.00000000, 1, 0, 0, 1119092736 );
    l_U2011[1] =  /* CREATEPLACEMENT */ sub_40573( -4072149, 1.91000000, 2.67000000, 44.08000000, 0.00000000, 0.00000000, 0.45000000, 1, 0, 0, 1119092736 );
     /* WRITESCRIPTLOG */ sub_1750( "MW", "P_CREATE_ROOF_PLACEMENTS end", 0 );
    return;
}

/* CREATEPLACEMENT */ void sub_40573(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, int iParam8, unknown uParam9, unknown uParam10)
{
    unknown Result;

    Result = CREATE_PLACEMENT_ROTATE( uParam0, uParam1, uParam4, uParam7, 0, uParam9, uParam10 );
    if (iParam8 == 1)
    {
        while ((DOES_PLACEMENT_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for a placement to exist: {} ###", 1, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return Result;
}

/* NIS_PRE_SETUP */ void sub_40869(int iParam0, int iParam1, unknown uParam2, boolean bParam3)
{
    END_POSTFX_BLENDER( 12, 0 );
    if (bParam3)
    {
        STOP_ALL_IMAGEFX( 0 );
    }
    SET_WIDESCREEN_BORDERS( 1, 500 );
    DISPLAY_HUD( 0 );
    if (iParam0 == 1)
    {
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
        {
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_4217(), 0, uParam2 );
            SET_PED_DUCKING(  /* PLAYER_PED_ID */ sub_4179(), 0 );
            if (iParam1 == 1)
            {
                CLEAR_PED_TASKS_IMMEDIATELY(  /* PLAYER_PED_ID */ sub_4179() );
            }
            SET_PED_INVINCIBLE(  /* PLAYER_PED_ID */ sub_4179(), 1 );
        }
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    return;
}

/* P_ROOF_START_BLENDOUT_1205 */ void sub_41044()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_START_BLENDOUT_1205 start", 0 );
     /* P_ROOF_REGISTER_CP_FOR_1205_BLENDOUT */ sub_41129();
     /* TELEPORT_ALL_ROOFTOP_ENEMIES */ sub_41550();
    ISEQ_REGISTER_ENTITY( 469460336, "Max",  /* PLAYER_PED_ID */ sub_4179(), 0 );
     /* TELEPORTPED */ sub_41660(  /* PLAYER_PED_ID */ sub_4179(), g_U1020[10], g_U1123[10] );
    ISEQ_START( 469460336 );
    SNAP_PLAYER_TO_COVERPOINT(  /* PLAYER_ID */ sub_4217(), "GenCover", "C8D703C8_30D084ED_Corner1", 1 );
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( g_U1158[10], 1065353216, 0 );
    SET_GAMEPLAY_CAM_RELATIVE_PITCH( g_U1193[10], 1065353216, 0 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
    {
        SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 0, 0 ), 0 );
    }
     /* P_ACTIVATE_ROOF_GAMEPLAY */ sub_41949();
    PLAY_SCRIPT_STREAM_FROM_COORD( 4.03000000, 41.40000000, 39.73000000, 0 );
    TRIGGER_EXPLOSION_AUDIO_MIX_LAYER( "S_HOTEL_EXP_BACK_COLLAPSE", 4.03000000, 41.40000000, 39.73000000 );
    CAMERA_PLAY_ANIMATED( "LEVEL_S_HOTEL_CP_09", "B_OUT_12_05_HOTEL_CAM", 0, 0, 0, 0, 0, 0, 0 );
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_START_BLENDOUT_1205 end", 0 );
    return;
}

/* P_ROOF_REGISTER_CP_FOR_1205_BLENDOUT */ void sub_41129()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_REGISTER_CP_FOR_1205_BLENDOUT start", 0 );
    if (NOT (IS_PED_DEAD( l_U2145[2] )))
    {
        ISEQ_REGISTER_ENTITY( 469460336, "PLGE", l_U2145[2], 0 );
    }
    if (NOT (IS_PED_DEAD( l_U2145[4] )))
    {
        ISEQ_REGISTER_ENTITY( 469460336, "PLGE1", l_U2145[4], 0 );
    }
    if (NOT (IS_PED_DEAD( l_U2145[5] )))
    {
        ISEQ_REGISTER_ENTITY( 469460336, "PLGE2", l_U2145[5], 0 );
    }
    if (NOT (IS_PED_DEAD( l_U2145[6] )))
    {
        ISEQ_REGISTER_ENTITY( 469460336, "PLGE3", l_U2145[6], 0 );
    }
    if (NOT (IS_PED_DEAD( l_U2145[7] )))
    {
        ISEQ_REGISTER_ENTITY( 469460336, "PLGE4", l_U2145[7], 0 );
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_REGISTER_CP_FOR_1205_BLENDOUT end", 0 );
    return;
}

/* TELEPORT_ALL_ROOFTOP_ENEMIES */ void sub_41550()
{
    int I;

    for ( I = 0; I <= (l_U2145 - 1); I++ )
    {
        if ( /* IS_PED_VALID */ sub_15202( l_U2145[I] ))
        {
             /* TELEPORTPED */ sub_41660( l_U2145[I], l_U2014[I]._fU0, l_U2014[I]._fU12 );
        }
    }
    return;
}

/* TELEPORTPED */ void sub_41660(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_COORDS( uParam0, uParam1, 1 );
        SET_PED_HEADING( uParam0, uParam4 );
    }
    return;
}

/* P_ACTIVATE_ROOF_GAMEPLAY */ void sub_41949()
{
     /* STARTTIMER */ sub_5016( ref l_U1483 );
     /* STARTTIMER */ sub_5016( ref l_U1727 );
     /* STARTTIMER */ sub_5016( ref l_U1736 );
     /* P_ROOF_ACTIVATE_W1_POST_CUTSCENE */ sub_42013();
    ENABLE_AMBIENT_ZONE( "S_HOTEL_ZONE_BUILDING_COLLAPSE", 1 );
    ENABLE_AMBIENT_STREAM( "S_HOTEL_OUTSIDE", 0 );
    ENABLE_AMBIENT_STREAM( "S_HOTEL_OUTSIDE_ROOFTOP", 1 );
    ENABLE_STATIC_EMITTER( "S_HOTEL_SE_ROOFTOP_RUMBLE_STREAM", 1 );
    return;
}

/* P_ROOF_ACTIVATE_W1_POST_CUTSCENE */ void sub_42013()
{
    unknown uVar2;

     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_ACTIVATE_W1_POST_CUTSCENE start", 0 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
    {
         /* P_ACTIVATEPED */ sub_42136( l_U2145[0] );
        if (NOT (IS_PED_DEAD( l_U2145[0] )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U2145[0], 0 );
            REGISTER_TARGET( l_U2145[0],  /* PLAYER_PED_ID */ sub_4179() );
            SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND( l_U2145[0], 0, 0 ), 1 );
        }
         /* P_ACTIVATEPED */ sub_42136( l_U2145[1] );
        if (NOT (IS_PED_DEAD( l_U2145[1] )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U2145[1], 0 );
            REGISTER_TARGET( l_U2145[1],  /* PLAYER_PED_ID */ sub_4179() );
            SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND( l_U2145[1], 0, 0 ), 1 );
        }
         /* P_ACTIVATEPED */ sub_42136( l_U2145[2] );
        if (NOT (IS_PED_DEAD( l_U2145[2] )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U2145[2], 0 );
            REGISTER_TARGET( l_U2145[2],  /* PLAYER_PED_ID */ sub_4179() );
             /* P_TETHERPED */ sub_42509( ref l_U2168, l_U2145[2], 1 );
            SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND( l_U2145[2], 0, 0 ), 1 );
        }
         /* P_ACTIVATEPED */ sub_42136( l_U2145[3] );
        if (NOT (IS_PED_DEAD( l_U2145[3] )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U2145[3], 0 );
            REGISTER_TARGET( l_U2145[3],  /* PLAYER_PED_ID */ sub_4179() );
            SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND( l_U2145[3], 0, 0 ), 1 );
        }
         /* P_ACTIVATEPED */ sub_42136( l_U2145[4] );
        if (NOT (IS_PED_DEAD( l_U2145[4] )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U2145[4], 0 );
            REGISTER_TARGET( l_U2145[4],  /* PLAYER_PED_ID */ sub_4179() );
             /* P_TETHERPED */ sub_42509( ref l_U2164, l_U2145[4], 1 );
             /* P_TETHERPED */ sub_42509( ref l_U2166, l_U2145[4], 1 );
            SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND( l_U2145[4], 0, 0 ), 1 );
        }
         /* P_ACTIVATEPED */ sub_42136( l_U2145[5] );
        if (NOT (IS_PED_DEAD( l_U2145[5] )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U2145[5], 0 );
            REGISTER_TARGET( l_U2145[5],  /* PLAYER_PED_ID */ sub_4179() );
             /* P_TETHERPED */ sub_42509( ref l_U2164, l_U2145[5], 1 );
             /* P_TETHERPED */ sub_42509( ref l_U2166, l_U2145[5], 1 );
            SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND( l_U2145[5], 0, 0 ), 1 );
        }
         /* P_ACTIVATEPED */ sub_42136( l_U2145[6] );
        if (NOT (IS_PED_DEAD( l_U2145[6] )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U2145[6], 0 );
            REGISTER_TARGET( l_U2145[6],  /* PLAYER_PED_ID */ sub_4179() );
            SET_PED_SUGGESTED_COVER_POINT( l_U2145[6], "GenCover", "C8D703C8_49F04738_Popover4" );
             /* P_TETHERPED */ sub_42509( ref l_U2164, l_U2145[6], 1 );
             /* P_TETHERPED */ sub_42509( ref l_U2166, l_U2145[6], 1 );
             /* P_TETHERPED */ sub_42509( ref l_U2165, l_U2145[6], 1 );
            SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND( l_U2145[6], 0, 0 ), 1 );
        }
         /* P_ACTIVATEPED */ sub_42136( l_U2145[7] );
        if (NOT (IS_PED_DEAD( l_U2145[7] )))
        {
            REGISTER_TARGET( l_U2145[7],  /* PLAYER_PED_ID */ sub_4179() );
            SET_PED_SUGGESTED_COVER_POINT( l_U2145[7], "GenCover", "C8D703C8_49F04738_Popover1" );
             /* P_TETHERPED */ sub_42509( ref l_U2164, l_U2145[7], 1 );
             /* P_TETHERPED */ sub_42509( ref l_U2166, l_U2145[7], 1 );
             /* P_TETHERPED */ sub_42509( ref l_U2165, l_U2145[7], 1 );
            OPEN_SEQUENCE_TASK( ref uVar2 );
            TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
            TASK_ATTACK_MOVE_WHILE_AIMING_AT_PED( 0, 2.07000000, 25.15000000, 42.75000000,  /* PLAYER_PED_ID */ sub_4179(), 1, 1092616192, 1101004800, -1082130432, 3 );
            TASK_SHOOT_AT_PED( 0,  /* PLAYER_PED_ID */ sub_4179(), 2000, 0, 0, 0, 0 );
            TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
            TASK_COMBAT_PED( 0,  /* PLAYER_PED_ID */ sub_4179() );
            CLOSE_SEQUENCE_TASK( uVar2 );
            TASK_PERFORM_SEQUENCE( l_U2145[7], uVar2 );
            CLEAR_SEQUENCE_TASK( uVar2 );
            SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND( l_U2145[7], 0, 0 ), 1 );
        }
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_ACTIVATE_W1_POST_CUTSCENE end", 0 );
    return;
}

/* P_ACTIVATEPED */ void sub_42136(unknown uParam0)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_FREEZE_PROCESSING( uParam0, 0 );
        SET_PED_VISIBLE( uParam0, 1 );
        SET_PED_VISIBLE_DURING_SEQUENCE( uParam0, 1 );
        FREEZE_PED_POSITION( uParam0, 0 );
        SET_PED_COLLISION( uParam0, 1 );
        SET_PED_PROOFS( uParam0, 0, 0, 0, 0, 0 );
    }
    return;
}

/* P_TETHERPED */ void sub_42509(int iParam0, unknown uParam1, unknown uParam2)
{
    if (((IS_PED_DEAD( uParam1 )) == 0) AND ((DOES_PED_EXIST( uParam1 )) == 1))
    {
        SET_PED_TETHERING_ADD_BOX( uParam1, iParam0->_fU0 );
        SET_PED_TETHERING_OPTION( uParam1, uParam2 );
    }
    return;
}

/* REGISTER_PEDS_HOTEL_CUT_12_05 */ void sub_44105(unknown uParam0, unknown uParam1)
{
     /* WRITESCRIPTLOG */ sub_1750( "RJM", "REGISTER_PEDS_HOTEL_CUT_12_05", "***" );
    if ( /* IS_MAX_VALID */ sub_15172())
    {
        CUTSCENE_REGISTER_PED_TELEPORT(  /* PLAYER_PED_ID */ sub_4179(), g_U1020[10], g_U1123[10] );
        CUTSCENE_REGISTER_SET_PLAYER_IN_COVER( "GenCover", "C8D703C8_30D084ED_Corner1", 1, 1 );
        CUTSCENE_SET_COVER_CAMERA_DIRECTION( g_U1158[10], g_U1193[10] );
        CUTSCENE_REGISTER_ISEQ( 469460336 );
        ISEQ_REGISTER_ENTITY( 469460336, "Max",  /* PLAYER_PED_ID */ sub_4179(), 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE(  /* F_GET_SINGLE_HANDED_WEAPON_FROM_PLAYER */ sub_44343(), "W_PI_Clt1911_Aa_H", 0 );
        CUTSCENE_REGISTER_PED_WEAPON_HAND(  /* PLAYER_PED_ID */ sub_4179(),  /* F_GET_SINGLE_HANDED_WEAPON_FROM_PLAYER */ sub_44343(), 0 );
    }
     /* REGISTER_THUG_WITH_12_05 */ sub_44871( uParam1, "Nevs_Unif", "W_AR_97LC_Aa_H^4" );
     /* REGISTER_THUG_WITH_12_05 */ sub_44871( ref (uParam0^)[0], "H_Crac_Sold_C", "W_AR_97LC_Aa_H" );
     /* REGISTER_THUG_WITH_12_05 */ sub_44871( ref (uParam0^)[1], "H_Crac_Sold_C^1", "W_AR_97LC_Aa_H^1" );
     /* REGISTER_THUG_WITH_12_05 */ sub_44871( ref (uParam0^)[2], "H_Crac_Sold_C^2", "W_AR_97LC_Aa_H^2" );
     /* REGISTER_THUG_WITH_12_05 */ sub_44871( ref (uParam0^)[3], "H_Crac_Sold_C^3", "W_AR_97LC_Aa_H^3" );
     /* REGISTER_THUG_WITH_12_05 */ sub_44871( ref (uParam0^)[4], "H_Crac_Sold_C^4", "W_SB_Uzi_Aa_H" );
     /* REGISTER_THUG_WITH_12_05 */ sub_44871( ref (uParam0^)[5], "H_Crac_Sold_C^5", "W_SB_Uzi_Aa_H^1" );
     /* REGISTER_THUG_WITH_12_05 */ sub_44871( ref (uParam0^)[6], "H_Crac_Sold_C^6", "W_SB_Uzi_Aa_H^2" );
    return;
}

/* F_GET_SINGLE_HANDED_WEAPON_FROM_PLAYER */ int sub_44343()
{
    unknown Result;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )) == 0)
    {
        Result = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( Result )) == 1)
        {
            if (( /* IS_WEAPON_SINGLE_HANDED */ sub_44447( Result )) == 1)
            {
                return Result;
            }
        }
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            return uVar3;
        }
        uVar4 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_4179(), 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar4 )) == 1)
        {
            return uVar4;
        }
        uVar5 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_4179(), 1 );
        if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
        {
            return uVar5;
        }
    }
    return 0;
}

/* IS_WEAPON_SINGLE_HANDED */ int sub_44447(unknown uParam0)
{
    int iVar3;

    if ((GET_DOES_WEAPON_EXIST( uParam0 )) == 1)
    {
        iVar3 = GET_WEAPON_TYPE( uParam0 );
        if ((iVar3 == 1194438308) || ((iVar3 == -76667461) || ((iVar3 == -1404433099) || ((iVar3 == 1131969637) || ((iVar3 == -691403429) || ((iVar3 == 1845102363) || ((iVar3 == 150541352) || ((iVar3 == -820634585) || ((iVar3 == -612753081) || ((iVar3 == 811797242) || ((iVar3 == 68019059) || ((iVar3 == -1464892298) || ((iVar3 == 456708483) || ((iVar3 == -862236369) || (iVar3 == 406496141)))))))))))))))
        {
            return 1;
        }
    }
    return 0;
}

/* REGISTER_THUG_WITH_12_05 */ void sub_44871(unknown uParam0, unknown uParam1, unknown uParam2)
{
    uParam2 = uParam2;
    if ( /* IS_PED_VALID */ sub_15202( (uParam0^) ))
    {
        DISPLAYF( "REGISTER_THUG_WITH_12_05 - Ped is valid, registering entity '{}' ", 1, 1537, uParam1 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam0^), uParam1, 0 );
        SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND( (uParam0^), 0, 0 ), 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( (uParam0^), "/Global/PLGE/PLGE_Root/PLGE_INITIALIZE_IDLE" );
    }
    return;
}

/* PLAY_HOTEL_CUT_12_05 */ void sub_45453(boolean bParam0, boolean bParam1, unknown uParam2)
{
    int Result;
    int iVar6;
    int iVar7;
    unknown uVar8;

    Result = 0;
    if (IS_STRING_NULL( uParam2 ))
    {
        uParam2 = l_U2782;
    }
    switch (l_U2763)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_1750( "RJM", "PLAY_HOTEL_CUT_12_05 start", "*****" );
         /* NIS_PRE_SETUP */ sub_40869( 1, 0, 0, 1 );
         /* LOADSEAMLESSCUTSCENE */ sub_30263( uParam2, 1 );
        if (NOT bParam0)
        {
             /* BLOCKLOAD_HOTEL_CUT_12_05_ASSETS */ sub_45643();
             /* CREATE_CUTSCENE_ONLY_12_05_PEDS */ sub_46215();
             /* REGISTER_PEDS_HOTEL_CUT_12_05 */ sub_44105( ref l_U2783, ref l_U2883 );
        }
        REGISTER_HIDE_ENTITY_AT_POSITION( -1702366341, 23.05440000, 42.74555000, 41.05700000 );
        REGISTER_HIDE_ENTITY_AT_POSITION( 609227234, 24.41670000, 40.53064000, 41.05700000 );
         /* LOADMODEL */ sub_29983( 1721151522, 0 );
        l_U2897 = 0;
        l_U2898 = 0;
        l_U2763 = 2;
        break;
        case 2:
        if (bParam1)
        {
            START_CUTSCENE_CAPTURE( uParam2 );
        }
        if (bParam0)
        {
            CUTSCENE_ENABLE_SKIP( 0 );
        }
        START_SEAMLESS_CUTSCENE();
        l_U2763 = 3;
        break;
        case 3:
         /* P_EQUIP_PLAYER_WITH_SINGLE_HANDED_WEAPON */ sub_46720( 1 );
        iVar7 =  /* F_GET_SINGLE_HANDED_WEAPON_FROM_PLAYER */ sub_44343();
        if ((GET_DOES_WEAPON_EXIST( iVar7 )) == 1)
        {
            if (iVar7 == (GET_WEAPON_FROM_SLOT(  /* PLAYER_PED_ID */ sub_4179(), 0 )))
            {
                SET_WEAPON_SLOT(  /* PLAYER_PED_ID */ sub_4179(), iVar7, 1 );
            }
        }
        uVar8 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 1, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar8 ))
        {
            SET_WEAPON_VISIBLE( uVar8, 0 );
        }
        if (GET_DOES_WEAPON_EXIST(  /* F_GET_TWO_HANDED_WEAPON_FROM_PLAYER */ sub_47018() ))
        {
            SET_WEAPON_VISIBLE(  /* F_GET_TWO_HANDED_WEAPON_FROM_PLAYER */ sub_47018(), 0 );
        }
        l_U2763 = 4;
        break;
        case 4:
        if (HAS_CUTSCENE_FINISHED())
        {
            l_U2763 = 5;
        }
        else
        {
            iVar6 = GET_CUTSCENE_TIME();
            DISPLAYF( "CUTSCENE TIME: {}", 1, 513, iVar6 );
            if (iVar6 >= 25)
            {
                CUTSCENE_ENABLE_SKIP( 1 );
            }
            if (NOT l_U2897)
            {
                if (iVar6 >= 15)
                {
                     /* LOADMODEL */ sub_29983( 1721151522, 1 );
                     /* CREATE_STATIC_ROOFTOP_PIECES_FOR_CUTSCENE */ sub_47627();
                     /* CREATE_ROOFTOP_HELICOPTER */ sub_40038();
                    l_U2897 = 1;
                }
            }
            if (NOT l_U2898)
            {
                if (iVar6 >= 17)
                {
                    if (GET_DOES_WEAPON_EXIST(  /* F_GET_TWO_HANDED_WEAPON_FROM_PLAYER */ sub_47018() ))
                    {
                        SET_WEAPON_VISIBLE(  /* F_GET_TWO_HANDED_WEAPON_FROM_PLAYER */ sub_47018(), 1 );
                    }
                    if (GET_DOES_WEAPON_EXIST( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 1, 0 ) ))
                    {
                        SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 1, 0 ), 1 );
                    }
                    l_U2898 = 1;
                }
            }
        }
        break;
        case 5:
        if (bParam1)
        {
            STOP_CUTSCENE_CAPTURE();
        }
        Result = 1;
        if (NOT bParam0)
        {
             /* CLEANPEDARRAY */ sub_9262( ref l_U2783 );
        }
         /* CLEANPED */ sub_9312( l_U2883 );
         /* UNLOAD_HOTEL_CUT_12_05_ASSETS */ sub_48750();
         /* NIS_POST_SETUP */ sub_48921( 1, 1 );
        l_U2763 = 0;
         /* WRITESCRIPTLOG */ sub_1750( "RJM", "PLAY_HOTEL_CUT_12_05 end", "*****" );
        break;
        case 0:
        l_U2763 = 1;
        break;
    }
    return Result;
}

/* BLOCKLOAD_HOTEL_CUT_12_05_ASSETS */ void sub_45643()
{
     /* WRITESCRIPTLOG */ sub_1750( "RJM", "BLOCKLOAD_HOTEL_CUT_12_05_ASSETS", "***" );
     /* BLOCKLOADMODEL */ sub_45745( 466468872 );
     /* BLOCKLOADMODEL */ sub_45745( 928600325 );
     /* BLOCKLOADMODEL */ sub_45745( 609227234 );
     /* BLOCKLOADMODEL */ sub_45745( -1702366341 );
     /* BLOCKLOADMODEL */ sub_45745( 547887525 );
     /* BLOCKLOADMODEL */ sub_45745( 112963195 );
     /* BLOCKLOADMODEL */ sub_45745( 1844299595 );
    return;
}

/* BLOCKLOADMODEL */ void sub_45745(unknown uParam0)
{
    DISPLAYF( "[MSWW]### Trying to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
         /* WRITE_STRING */ sub_9799( "[SP]### ERROR! (BlockLoadModel) Trying to block load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    LOAD_ALL_OBJECTS_NOW();
    while ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        LOAD_ALL_OBJECTS_NOW();
        DISPLAYF( "[SP]### Waiting to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
        WAIT( 0 );
    }
    DISPLAYF( "[MSWW]### Has loaded model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
    return;
}

/* CREATE_CUTSCENE_ONLY_12_05_PEDS */ void sub_46215()
{
    int I;

     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2884, 0, 0, 0, 0, 1460404455, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2791[0], 0, 0, 0, 0, 1843238895, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2791[1], 0, 0, 0, 0, 1737415154, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2791[2], 0, 0, 0, 0, 1820013202, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2791[3], 0, 0, 0, 0, 1230663476, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2791[4], 0, 0, 0, 0, -110444939, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2791[5], 0, 0, 0, 0, -263273570, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U2791[6], 0, 0, 0, 0, -1091825948, 26, 6, 0, 0, 0 );
    l_U2883 =  /* CREATEPED */ sub_32087( ref l_U2884 );
    for ( I = 0; I <= (l_U2783 - 1); I++ )
    {
        l_U2783[I] =  /* CREATEPED */ sub_32087( ref l_U2791[I] );
    }
    return;
}

/* P_EQUIP_PLAYER_WITH_SINGLE_HANDED_WEAPON */ void sub_46720(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )) == 0)
    {
        iVar3 = 0;
        uVar4 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar4 )) == 0)
        {
            iVar3 = 1;
        }
        if ((( /* IS_WEAPON_SINGLE_HANDED */ sub_44447( uVar4 )) == 0) AND ((GET_DOES_WEAPON_EXIST( uVar4 )) == 1))
        {
            iVar3 = 1;
        }
        if (iVar3 == 1)
        {
            uVar5 =  /* F_GET_SINGLE_HANDED_WEAPON_FROM_PLAYER */ sub_44343();
            if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
            {
                SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_4179(), uVar5, 0, uParam0 );
            }
        }
    }
    return;
}

/* F_GET_TWO_HANDED_WEAPON_FROM_PLAYER */ int sub_47018()
{
    unknown Result;
    unknown uVar3;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )) == 0)
    {
        Result = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( Result )) == 1)
        {
            if (( /* IS_WEAPON_TWO_HANDED */ sub_47119( Result )) == 1)
            {
                return Result;
            }
        }
        uVar3 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_4179(), 2 );
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            return uVar3;
        }
    }
    return 0;
}

/* IS_WEAPON_TWO_HANDED */ int sub_47119(unknown uParam0)
{
    int iVar3;

    if ((GET_DOES_WEAPON_EXIST( uParam0 )) == 1)
    {
        iVar3 = GET_WEAPON_TYPE( uParam0 );
        if ((iVar3 == -2075384407) || ((iVar3 == 10648147) || ((iVar3 == 1224272620) || ((iVar3 == 1478009203) || ((iVar3 == 1964270085) || ((iVar3 == -110877124) || ((iVar3 == 427207702) || ((iVar3 == 319712764) || ((iVar3 == 514118749) || ((iVar3 == -184942895) || ((iVar3 == -168327769) || ((iVar3 == 434544317) || ((iVar3 == -1659006841) || ((iVar3 == 930042831) || ((iVar3 == 1001413062) || ((iVar3 == 377623895) || ((iVar3 == -1312131151) || ((iVar3 == -1787162676) || ((iVar3 == 724901397) || ((iVar3 == 57534114) || ((iVar3 == 840671040) || ((iVar3 == 1308526797) || ((iVar3 == -1074756423) || ((iVar3 == 1992962408) || (iVar3 == -1013714740)))))))))))))))))))))))))
        {
            return 1;
        }
    }
    return 0;
}

/* CREATE_STATIC_ROOFTOP_PIECES_FOR_CUTSCENE */ void sub_47627()
{
     /* CLEAN_STATIC_ROOFTOP_PIECES_FROM_CUTSCENE */ sub_47681();
     /* WRITESCRIPTLOG */ sub_1750( "RJM", "CREATE_STATIC_ROOFTOP_PIECES_FOR_CUTSCENE - start", 0 );
    l_U2683 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2685, -11.00000000, 0.00000000, 42.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2683 ))
    {
        FREEZE_OBJECT_POSITION( l_U2683, 1 );
    }
    l_U2695 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2699, 6.00000000, 40.00000000, 38.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2695 ))
    {
        FREEZE_OBJECT_POSITION( l_U2695, 1 );
    }
    l_U2706 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2708, 3.00000000, 44.00000000, 40.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2706 ))
    {
        FREEZE_OBJECT_POSITION( l_U2706, 1 );
    }
    l_U2717 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2723, 8.00000000, 28.00000000, 39.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2717 ))
    {
        FREEZE_OBJECT_POSITION( l_U2717, 1 );
    }
    l_U2720 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2726, 8.00000000, 28.00000000, 39.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2720 ))
    {
        FREEZE_OBJECT_POSITION( l_U2720, 1 );
    }
    l_U2744 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2749, 26.00000000, 30.00000000, 43.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2744 ))
    {
        FREEZE_OBJECT_POSITION( l_U2744, 1 );
    }
    l_U2748 =  /* CREATEOBJECTNOOFFSET */ sub_35943( l_U2753, 32.00000000, 29.00000000, 46.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U2748 ))
    {
        FREEZE_OBJECT_POSITION( l_U2748, 1 );
    }
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U2638, -1267912278, 14.00000000, 27.00000000, 42.80000000, 1, 0 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U2640, 1550581806, 14.00000000, 27.00000000, 42.80000000, 1, 0 );
     /* WRITESCRIPTLOG */ sub_1750( "RJM", "CREATE_STATIC_ROOFTOP_PIECES_FOR_CUTSCENE - end", 0 );
    return;
}

/* CLEAN_STATIC_ROOFTOP_PIECES_FROM_CUTSCENE */ void sub_47681()
{
     /* CLEANOBJECT */ sub_7622( l_U2683 );
     /* CLEANOBJECT */ sub_7622( l_U2695 );
     /* CLEANOBJECT */ sub_7622( l_U2706 );
     /* CLEANOBJECT */ sub_7622( l_U2717 );
     /* CLEANOBJECT */ sub_7622( l_U2720 );
     /* CLEANOBJECT */ sub_7622( l_U2744 );
     /* CLEANOBJECT */ sub_7622( l_U2748 );
     /* CLEANOBJECT */ sub_7622( l_U2638 );
     /* CLEANOBJECT */ sub_7622( l_U2640 );
     /* CLEANOBJECT */ sub_7622( l_U2644 );
    return;
}

/* UNLOAD_HOTEL_CUT_12_05_ASSETS */ void sub_48750()
{
     /* WRITESCRIPTLOG */ sub_1750( "RJM", "UNLOAD_HOTEL_CUT_12_05_ASSETS", "***" );
     /* UNLOADMODEL */ sub_10155( 466468872 );
     /* UNLOADMODEL */ sub_10155( 928600325 );
     /* UNLOADMODEL */ sub_10155( 609227234 );
     /* UNLOADMODEL */ sub_10155( -1702366341 );
     /* UNLOADMODEL */ sub_10155( 547887525 );
     /* UNLOADMODEL */ sub_10155( 112963195 );
     /* UNLOADMODEL */ sub_10155( 1844299595 );
    return;
}

/* NIS_POST_SETUP */ void sub_48921(boolean bParam0, boolean bParam1)
{
    SET_WIDESCREEN_BORDERS( 0, 500 );
    DISPLAY_HUD( 1 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
    {
        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_4217(), 1, 0 );
        SET_PED_INVINCIBLE(  /* PLAYER_PED_ID */ sub_4179(), 0 );
        if (bParam0)
        {
             /* P_MAX_RELOAD_WEAPONS */ sub_49019();
        }
    }
    PULSE_CROSSHAIR( 1 );
    if (bParam1)
    {
        DESTROY_ALL_CAMS();
    }
    return;
}

/* P_MAX_RELOAD_WEAPONS */ void sub_49019()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )) == 0)
    {
        uVar2 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 0, 0 );
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
        {
            uVar4 = GET_MAX_AMMO_IN_HAND_CLIP_MP(  /* PLAYER_PED_ID */ sub_4179(), 0 );
            SET_WEAPON_AMMO_IN_CLIP( uVar2, uVar4 );
        }
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            uVar5 = GET_MAX_AMMO_IN_HAND_CLIP_MP(  /* PLAYER_PED_ID */ sub_4179(), 1 );
            SET_WEAPON_AMMO_IN_CLIP( uVar3, uVar5 );
        }
    }
    return;
}

/* F_ROOF_ARE_ALL_MODELS_LOADED */ int sub_49420()
{
    int I;

    for ( I = 0; I <= (l_U1355 - 1); I++ )
    {
        if (NOT (HAS_MODEL_LOADED( l_U1355[I] )))
        {
            DISPLAYF( "[GA]### Waiting to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, l_U1355[I] );
            return 0;
        }
        else
        {
            DISPLAYF( "[GA]### Model is loaded: {!f1} : {1} ###", 2, 1, -874832622, 513, l_U1355[I] );
        }
    }
    return 1;
}

/* P_ROOF_START_BLENDOUT_1205_FROM_CUTSCENE */ void sub_49779()
{
    unknown uVar2;

     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_START_BLENDOUT_1205_FROM_CUTSCENE start", 0 );
     /* TELEPORT_ALL_ROOFTOP_ENEMIES */ sub_41550();
     /* P_ACTIVATE_ROOF_GAMEPLAY */ sub_41949();
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
    {
        SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 0, 0 ), 0 );
        uVar2 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 0, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar2 ))
        {
             /* WRITESCRIPTLOG */ sub_1750( "GA", "Adding one clip of ammo to right hand weapon.", 0 );
            ADD_AMMO_TO_PED(  /* PLAYER_PED_ID */ sub_4179(), GET_WEAPON_TYPE( uVar2 ), GET_MAX_AMMO_IN_CLIP(  /* PLAYER_PED_ID */ sub_4179(), GET_WEAPON_TYPE( uVar2 ) ), 0 );
        }
        uVar2 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 1, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar2 ))
        {
             /* WRITESCRIPTLOG */ sub_1750( "GA", "Adding one clip of ammo to left hand weapon.", 0 );
            ADD_AMMO_TO_PED(  /* PLAYER_PED_ID */ sub_4179(), GET_WEAPON_TYPE( uVar2 ), GET_MAX_AMMO_IN_CLIP(  /* PLAYER_PED_ID */ sub_4179(), GET_WEAPON_TYPE( uVar2 ) ), 0 );
        }
        uVar2 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_4179(), 2 );
        if (GET_DOES_WEAPON_EXIST( uVar2 ))
        {
             /* WRITESCRIPTLOG */ sub_1750( "GA", "Adding one clip of ammo to rifle holster weapon.", 0 );
            ADD_AMMO_TO_PED(  /* PLAYER_PED_ID */ sub_4179(), GET_WEAPON_TYPE( uVar2 ), GET_MAX_AMMO_IN_CLIP(  /* PLAYER_PED_ID */ sub_4179(), GET_WEAPON_TYPE( uVar2 ) ), 0 );
        }
        uVar2 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_4179(), 1 );
        if (GET_DOES_WEAPON_EXIST( uVar2 ))
        {
             /* WRITESCRIPTLOG */ sub_1750( "GA", "Adding one clip of ammo to pistol left holster weapon.", 0 );
            ADD_AMMO_TO_PED(  /* PLAYER_PED_ID */ sub_4179(), GET_WEAPON_TYPE( uVar2 ), GET_MAX_AMMO_IN_CLIP(  /* PLAYER_PED_ID */ sub_4179(), GET_WEAPON_TYPE( uVar2 ) ), 0 );
        }
        uVar2 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_4179(), 0 );
        if (GET_DOES_WEAPON_EXIST( uVar2 ))
        {
             /* WRITESCRIPTLOG */ sub_1750( "GA", "Adding one clip of ammo to pistol right holster weapon.", 0 );
            ADD_AMMO_TO_PED(  /* PLAYER_PED_ID */ sub_4179(), GET_WEAPON_TYPE( uVar2 ), GET_MAX_AMMO_IN_CLIP(  /* PLAYER_PED_ID */ sub_4179(), GET_WEAPON_TYPE( uVar2 ) ), 0 );
        }
    }
    PLAY_SCRIPT_STREAM_FROM_COORD( 4.03000000, 41.40000000, 39.73000000, 0 );
    TRIGGER_EXPLOSION_AUDIO_MIX_LAYER( "S_HOTEL_EXP_BACK_COLLAPSE", 4.03000000, 41.40000000, 39.73000000 );
    CAMERA_PLAY_ANIMATED( "LEVEL_S_HOTEL_CP_09", "B_OUT_12_05_HOTEL_CAM", 0, 0, 0, 0, 0, 0, 0 );
     /* P_ACTIVATE_ROOF_GAMEPLAY */ sub_41949();
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_START_BLENDOUT_1205_FROM_CUTSCENE end", 0 );
    return;
}

/* P_ROOF_START_DUST_EFFECTS */ void sub_50996()
{
    int I;
    int J;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    vector[15] vVar7;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    unknown uVar37;
    unknown uVar38;
    unknown uVar39;
    unknown uVar40;
    unknown uVar41;
    unknown uVar42;
    unknown uVar43;
    unknown uVar44;
    unknown uVar45;
    unknown uVar46;
    unknown uVar47;
    unknown uVar48;
    unknown uVar49;
    unknown uVar50;
    unknown uVar51;
    unknown uVar52;
    vector[4] vVar53;
    unknown uVar58;
    unknown uVar59;
    unknown uVar60;
    unknown uVar61;
    unknown uVar62;
    unknown uVar63;
    unknown uVar64;
    unknown uVar65;
    unknown uVar66;
    unknown uVar67;
    unknown uVar68;
    unknown uVar69;
    unknown uVar70;
    unknown uVar71;
    vector[7] vVar72;
    unknown uVar80;
    unknown uVar81;
    unknown uVar82;
    unknown uVar83;
    unknown uVar84;
    unknown uVar85;
    unknown uVar86;
    unknown uVar87;
    unknown uVar88;
    unknown uVar89;
    unknown uVar90;
    unknown uVar91;
    unknown uVar92;
    unknown uVar93;
    vector[2] vVar94;
    unknown uVar97;
    unknown uVar98;
    unknown uVar99;
    unknown uVar100;
    unknown uVar101;
    unknown uVar102;
    unknown uVar103;
    unknown uVar104;
    unknown uVar105;
    unknown uVar106;

     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_START_DUST_EFFECTS start", 0 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
    {
        uVar4 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS(  /* PLAYER_PED_ID */ sub_4179() )};
    }
    array(ref vVar7, 15);
    vVar7[0] = {14.00000000, 27.00000000, 43.00000000};
    vVar7[1] = {15.00000000, 29.00000000, 42.50000000};
    vVar7[2] = {8.70000000, 20.00000000, 42.50000000};
    vVar7[3] = {4.25000000, 31.63000000, 42.50000000};
    vVar7[4] = {5.00000000, 19.00000000, 42.50000000};
    vVar7[5] = {2.00000000, 22.00000000, 42.50000000};
    vVar7[6] = {10.00000000, 19.00000000, 45.50000000};
    vVar7[7] = {6.50000000, 10.50000000, 45.50000000};
    vVar7[8] = {5.00000000, 6.00000000, 45.50000000};
    vVar7[9] = {-2.00000000, 7.00000000, 45.70000000};
    vVar7[10] = {18.00000000, 41.80000000, 44.30000000};
    vVar7[11] = {21.80000000, 43.80000000, 43.50000000};
    vVar7[12] = {21.80000000, 35.10000000, 45.50000000};
    vVar7[13] = {29.20000000, 25.60000000, 45.50000000};
    vVar7[14] = {19.50000000, 14.50000000, 45.50000000};
    array(ref vVar53, 4);
    for ( I = 0; I <= 3; I++ )
    {
        vVar53[I] = {0.00000000, 0.00000000, 0.00000000};
    }
    for ( I = 0; I < vVar7; I++ )
    {
        uVar66 = {vVar7[I]};
        if (IS_SPHERE_VISIBLE( uVar66, 2.00000000, 0 ))
        {
            for ( J = 0; J <= 3; J++ )
            {
                if ((GET_DISTANCE_BETWEEN_COORDS( uVar4, uVar66, 1 )) < (GET_DISTANCE_BETWEEN_COORDS( uVar4, vVar53[J], 1 )))
                {
                    uVar69 = {vVar53[J]};
                    vVar53[J] = {uVar66};
                    uVar66 = {uVar69};
                }
            }
        }
    }
    for ( I = 0; I <= 3; I++ )
    {
        if (NOT ( /* F_ARE_VECTORS_EQUAL */ sub_51697( vVar53[I], 0.00000000, 0.00000000, 0.00000000, 1 )))
        {
            l_U1807[I] = START_PARTICLE_FX_LOOPED_AT_COORD( "HO_DebrisFall_S", vVar53[I], 0.00000000, 0.00000000, 0.00000000, 1.00000000 );
        }
    }
    array(ref vVar72, 7);
    vVar72[0] = {16.54000000, 38.95000000, 39.65000000};
    vVar72[1] = {7.00000000, 38.00000000, 39.65000000};
    vVar72[2] = {5.00000000, 23.00000000, 39.65000000};
    vVar72[3] = {-4.00000000, 20.00000000, 39.65000000};
    vVar72[4] = {-8.00000000, 15.00000000, 39.65000000};
    vVar72[5] = {9.20000000, 12.70000000, 42.65000000};
    vVar72[6] = {15.00000000, 20.70000000, 42.65000000};
    array(ref vVar94, 2);
    for ( I = 0; I <= 1; I++ )
    {
        vVar94[I] = {0.00000000, 0.00000000, 0.00000000};
    }
    for ( I = 0; I < vVar72; I++ )
    {
        uVar101 = {vVar72[I]};
        if (IS_SPHERE_VISIBLE( uVar101, 2.00000000, 0 ))
        {
            for ( J = 0; J <= 1; J++ )
            {
                if ((GET_DISTANCE_BETWEEN_COORDS( uVar4, uVar101, 1 )) < (GET_DISTANCE_BETWEEN_COORDS( uVar4, vVar94[J], 1 )))
                {
                    uVar104 = {vVar94[J]};
                    vVar94[J] = {uVar101};
                    uVar101 = {uVar104};
                }
            }
        }
    }
    for ( I = 0; I <= 1; I++ )
    {
        if (NOT ( /* F_ARE_VECTORS_EQUAL */ sub_51697( vVar94[I], 0.00000000, 0.00000000, 0.00000000, 1 )))
        {
            START_PARTICLE_FX_NON_LOOPED_AT_COORD( "HOTEL_Dust_Rumble_Lrg_S", vVar94[I], 0.00000000, 0.00000000, 0.00000000, 1.00000000 );
        }
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_START_DUST_EFFECTS end", 0 );
    return;
}

/* F_ARE_VECTORS_EQUAL */ int sub_51697(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    if ((GET_DISTANCE_BETWEEN_COORDS( uParam0, uParam3, uParam6 )) == 0)
    {
        return 1;
        break;
    }
    return 0;
}

/* P_ROOF_W1_ENEMIES_START_FALL_DOWN */ void sub_52457()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_W1_ENEMIES_START_FALL_DOWN start", 0 );
    if (NOT (IS_PED_DEAD( l_U2145[0] )))
    {
        SET_PED_TO_RAGDOLL_WITH_FALL( l_U2145[0], 500, 500, 0,  /* F_GET_VECTOR_NORM */ sub_52607( 5.98000000, 37.09000000, 40.23000000 ), 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000 );
    }
    if (NOT (IS_PED_DEAD( l_U2145[1] )))
    {
        SET_PED_TO_RAGDOLL_WITH_FALL( l_U2145[1], 500, 500, 0,  /* F_GET_VECTOR_NORM */ sub_52607( 5.98000000, 37.09000000, 40.23000000 ), 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000 );
    }
    if (NOT (IS_PED_DEAD( l_U2145[3] )))
    {
        SET_PED_TO_RAGDOLL_WITH_FALL( l_U2145[3], 2000, 2000, 0,  /* F_GET_VECTOR_NORM */ sub_52607( -18.04000000, 33.19000000, 40.23000000 ), 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000 );
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_W1_ENEMIES_START_FALL_DOWN end", 0 );
    return;
}

/* F_GET_VECTOR_NORM */ vector sub_52607(unknown uParam0, unknown uParam1, unknown uParam2)
{
    float fVar5;

    fVar5 = SQRT( ((uParam0._fU0 * uParam0._fU0) + (uParam0._fU4 * uParam0._fU4)) + (uParam0._fU8 * uParam0._fU8) );
    if (fVar5 > 0.00000000)
    {
        return vector( uParam0._fU0 / fVar5, uParam0._fU4 / fVar5, uParam0._fU8 / fVar5);
        break;
    }
    return vector( 0.00000000, 0.00000000, 0.00000000);
}

/* F_IMAGEFX_FADE_IN */ int sub_53061()
{
    if (l_U1230)
    {
         /* WRITESCRIPTLOG */ sub_1750( "CO", "F_IMAGEFX_FADE_IN: IMAGEFX START", 0 );
        START_PANEL_WIPE( 0, 6 );
        PLAY_IMAGEFX( "BULLETCAM_IMPACT", 3, 1 );
        PLAY_IMAGEFX( "BLACK_FADE_UP_FAST_01", 3, 1 );
        DO_SCREEN_FADE_IN( 0 );
        l_U1230 = 0;
        return 1;
        break;
    }
     /* WRITESCRIPTLOG */ sub_1750( "CO", "F_IMAGEFX_FADE_IN: NORMAL START", 0 );
    return 0;
}

/* P_ROOF_1205_BLENDOUT_KEEP_ENEMIES_AWARE_OF_MAX */ void sub_53331()
{
    int I;

    for ( I = 0; I <= (l_U2145 - 1); I++ )
    {
        if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() ))) AND ( /* IS_PED_VALID */ sub_15202( l_U2145[I] )))
        {
            REGISTER_TARGET( l_U2145[I],  /* PLAYER_PED_ID */ sub_4179() );
        }
    }
    return;
}

/* P_START_ROOFTOP_BACK_COLLAPSE */ void sub_53611()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_START_ROOFTOP_BACK_COLLAPSE start", 0 );
     /* CLEANOBJECT */ sub_7622( l_U2695 );
    if (DOES_OBJECT_EXIST( l_U2696 ))
    {
        SET_OBJECT_VISIBLE( l_U2696, 1 );
        PLAY_OBJECT_ANIM( l_U2696, "P_AN_FLR_COL_BA", "ho_anim_stairs", 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U2696, "P_AN_FLR_COL_BA", "ho_anim_stairs", l_U2703 );
    }
    if (DOES_OBJECT_EXIST( l_U2697 ))
    {
        SET_OBJECT_VISIBLE( l_U2697, 1 );
        PLAY_OBJECT_ANIM( l_U2697, "P_AN_FLR_COL_BD", "ho_anim_stairs", 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U2697, "P_AN_FLR_COL_BD", "ho_anim_stairs", l_U2704 );
    }
    if (DOES_OBJECT_EXIST( l_U2698 ))
    {
        SET_OBJECT_VISIBLE( l_U2698, 1 );
        PLAY_OBJECT_ANIM( l_U2698, "P_AN_FLR_COL_BE", "ho_anim_stairs", 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U2698, "P_AN_FLR_COL_BE", "ho_anim_stairs", l_U2705 );
    }
     /* CLEANOBJECT */ sub_7622( l_U2706 );
    if (DOES_OBJECT_EXIST( l_U2707 ))
    {
        SET_OBJECT_VISIBLE( l_U2707, 1 );
        PLAY_OBJECT_ANIM( l_U2707, "P_AN_WAL_COL_AA", "ho_anim_stairs", 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U2707, "P_AN_WAL_COL_AA", "ho_anim_stairs", l_U2710 );
    }
    START_PARTICLE_FX_NON_LOOPED_AT_COORD( "HOTEL_Blast_Side_collapse_S", l_U2711, 0.00000000, 0.00000000, 0.00000000, l_U2714 );
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_START_ROOFTOP_BACK_COLLAPSE end", 0 );
    return;
}

/* P_ROOF_TRIGGER_ENEMIES_FALLING_IN_COLLAPSE */ void sub_54389()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_TRIGGER_ENEMIES_FALLING_IN_COLLAPSE start", 0 );
    if (NOT (IS_PED_DEAD( l_U2145[0] )))
    {
        SET_PED_TO_RAGDOLL_WITH_FALL( l_U2145[0], 2000, 2000, 0,  /* F_GET_VECTOR_NORM */ sub_52607( -4.32000000, 50.27000000, 39.75000000 ), 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000 );
    }
    if (NOT (IS_PED_DEAD( l_U2145[1] )))
    {
        SET_PED_TO_RAGDOLL_WITH_FALL( l_U2145[1], 2000, 2000, 0,  /* F_GET_VECTOR_NORM */ sub_52607( -4.32000000, 50.27000000, 39.75000000 ), 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000 );
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_TRIGGER_ENEMIES_FALLING_IN_COLLAPSE end", 0 );
    return;
}

/* P_KILL_PED */ void sub_55007(unknown uParam0)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        STOP_PED_SPEAKING( uParam0, 1 );
        SET_PED_HEALTH( uParam0, 0, 0 );
        SET_PED_CORPSE( uParam0, 0 );
    }
    return;
}

/* P_SAFE_STOP_PARTICLE_FX */ void sub_55138(unknown uParam0)
{
    if ((uParam0^) != 0)
    {
        STOP_PARTICLE_FX_LOOPED( (uParam0^) );
        (uParam0^) = 0;
    }
    return;
}

/* P_LOAD_COLLAPSE_ASSETS */ void sub_55292(unknown uParam0)
{
     /* LOADMODEL */ sub_29983( -732347608, uParam0 );
     /* LOADMODEL */ sub_29983( 243792242, uParam0 );
     /* LOADMODEL */ sub_29983( -1037534607, uParam0 );
     /* LOADMODEL */ sub_29983( 1973799339, uParam0 );
     /* LOADMODEL */ sub_29983( 67436979, uParam0 );
     /* LOADMODEL */ sub_29983( -1618467083, uParam0 );
     /* LOADMODEL */ sub_29983( -721108783, uParam0 );
     /* LOADMODEL */ sub_29983( -2091080413, uParam0 );
     /* LOADMODEL */ sub_29983( 910452449, uParam0 );
     /* LOADMODEL */ sub_29983( 1652823720, uParam0 );
     /* LOADMODEL */ sub_29983( -1077107170, uParam0 );
     /* LOADMODEL */ sub_29983( -863152154, uParam0 );
     /* LOADMODEL */ sub_29983( -1683029998, uParam0 );
     /* LOADMODEL */ sub_29983( 601604623, uParam0 );
     /* LOADMODEL */ sub_29983( -2117158730, uParam0 );
     /* LOADMODEL */ sub_29983( 508806708, uParam0 );
     /* LOADMODEL */ sub_29983( 2124107981, uParam0 );
     /* LOADMODEL */ sub_29983( 677554510, uParam0 );
     /* LOADMODEL */ sub_29983( 1704523747, uParam0 );
     /* LOADMODEL */ sub_29983( 1085034612, uParam0 );
     /* LOADMODEL */ sub_29983( -246844569, uParam0 );
     /* LOADMODEL */ sub_29983( -875689657, uParam0 );
     /* LOADMODEL */ sub_29983( 286256608, uParam0 );
    return;
}

/* P_HANDLE_PLAYER_BEING_AN_ASS_AND_JUMPING_OFF_THE_ROOF */ void sub_55611()
{
    if ((NOT IS_LAST_MAN_STANDING_ACTIVE()) AND (NOT IS_BULLET_CAMERA_ACTIVE()))
    {
        if ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_55704( ref l_U2548, 0 ))
        {
            SET_PED_HEALTH(  /* PLAYER_PED_ID */ sub_4179(), 0, 0 );
            l_U1482 = 1;
        }
    }
    return;
}

/* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ void sub_55704(int iParam0, unknown uParam1)
{
    if (iParam0->_fU64 == 1)
    {
        return 0;
    }
    else
    {
        iParam0->_fU64 =  /* F_ISPEDINTRIGGERBOX */ sub_55780(  /* PLAYER_PED_ID */ sub_4179(), (iParam0^) );
        if ((iParam0->_fU64) AND (uParam1))
        {
            GAMEPLAY_HELPER_BOX_SET_ENABLED( iParam0 + 0, 0 );
        }
    }
    return iParam0->_fU64;
}

/* F_ISPEDINTRIGGERBOX */ int sub_55780(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        return IS_PED_IN_GAMEPLAY_HELPER_BOX( uParam0, ref uParam1._fU0 );
    }
    return 0;
}

/* P_PED_ARRAY_Z_SAFETY_CHECK */ void sub_55945(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
         /* P_PED_Z_SAFETY_CHECK */ sub_56011( (uParam0^)[I], uParam1, uParam2, uParam3 );
    }
    return;
}

/* P_PED_Z_SAFETY_CHECK */ void sub_56011(unknown uParam0, float fParam1, int iParam2, boolean bParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;

    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        uVar6 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
        if (uVar6._fU8 < fParam1)
        {
            if (iParam2 == 1)
            {
                SET_PED_HEALTH( uParam0, 0, 0 );
            }
            if (bParam3)
            {
                 /* CLEANPED */ sub_9312( uParam0 );
            }
        }
    }
    return;
}

/* P_ROOF_HANDLE_AMBIENT_SHAKING */ void sub_56176()
{
    if ( /* ISTIMERDONE */ sub_5149( ref l_U1727 ))
    {
         /* P_ROOF_BUILDING_PRE_SHAKE */ sub_56232();
    }
    if ( /* ISTIMERDONE */ sub_5149( ref l_U1736 ))
    {
        if ((NOT IS_BULLET_CAMERA_ACTIVE()) AND ((NOT (IS_GAMEPLAY_CAM_SHAKING( "SMALL_EXPLOSION_SHAKE" ))) AND (NOT (IS_GAMEPLAY_CAM_SHAKING( "MEDIUM_EXPLOSION_SHAKE" )))))
        {
             /* WRITESCRIPTLOG */ sub_1750( "GA", "Ambient shaking.", 0 );
             /* P_ROOF_TRIGGER_BUILDING_SHAKING */ sub_56587();
        }
         /* RESETTIMER */ sub_5725( ref l_U1736 );
         /* STARTTIMER */ sub_5016( ref l_U1736 );
         /* RESETTIMER */ sub_5725( ref l_U1727 );
         /* STARTTIMER */ sub_5016( ref l_U1727 );
    }
    if ( /* ISTIMERDONE */ sub_5149( ref l_U1749 ))
    {
         /* P_ROOF_END_BUILDING_SHAKING */ sub_58013();
    }
     /* P_CAM_SHAKE_HANDLE */ sub_16374( ref l_U1758 );
    return;
}

/* P_ROOF_BUILDING_PRE_SHAKE */ void sub_56232()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_BUILDING_PRE_SHAKE start", 0 );
     /* P_SAFE_STOP_SOUND */ sub_6884( l_U1745, 0 );
     /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U1745 );
    l_U1745 = GET_SOUND_ID();
    PLAY_SOUND_FRONTEND( l_U1745, "S_HOTEL_ROOFTOP_RUMBLE" );
    SET_VARIABLE_ON_SOUND( l_U1745, "DURATION", 7.00000000 );
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_BUILDING_PRE_SHAKE end", 0 );
    return;
}

/* P_ROOF_TRIGGER_BUILDING_SHAKING */ void sub_56587()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_TRIGGER_BUILDING_SHAKING start", 0 );
     /* P_SHAKE_CAM */ sub_16603( "HAND_SHAKE", l_U1747 );
     /* P_SAFE_STOP_SOUND */ sub_6884( l_U1746, 0 );
     /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U1746 );
    l_U1746 = GET_SOUND_ID();
    PLAY_SOUND_FRONTEND( l_U1746, "S_HOTEL_ROOFTOP_FLOOR_DUST" );
     /* P_ROOF_START_DUST_EFFECTS */ sub_50996();
     /* P_ROOF_MAX_STUMBLE */ sub_56783();
     /* P_ROOF_BUILDING_SHAKING_KNOCK_OVER_ENEMIES */ sub_56945();
     /* P_CAM_SHAKE_ACTIVATE */ sub_57722( ref l_U1758 );
     /* STARTTIMER */ sub_5016( ref l_U1749 );
     /* WRITESCRIPTLOG */ sub_1750( "CCB", "Starting the HOTEL_ROOF_SHAKING context...", 0 );
    START_CONTEXT( "HOTEL_ROOF_SHAKING" );
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_TRIGGER_BUILDING_SHAKING end", 0 );
    return;
}

/* P_ROOF_MAX_STUMBLE */ void sub_56783()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_MAX_STUMBLE start", 0 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
    {
        PED_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_4179(), 2, 1500, 0.00000000, 0.00000000, 0.00000000 );
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_MAX_STUMBLE end", 0 );
    return;
}

/* P_ROOF_BUILDING_SHAKING_KNOCK_OVER_ENEMIES */ void sub_56945()
{
    int I;
    unknown[14] uVar3;
    int iVar18;
    int iVar19;
    unknown uVar20;
    int iVar21;
    vector[4] vVar22;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    int iVar35;
    int iVar36;

     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_BUILDING_SHAKING_KNOCK_OVER_ENEMIES start", 0 );
    array(ref uVar3, 14);
    for ( I = 0; I <= 9; I++ )
    {
        uVar3[I] = l_U2145[I];
    }
    for ( I = 0; I <= 0; I++ )
    {
        uVar3[I + 10] = l_U2248[I];
    }
    for ( I = 0; I <= 2; I++ )
    {
        uVar3[(I + 10) + 1] = l_U2361[I];
    }
    for ( I = 0; I <= 42; I++ )
    {
        iVar18 = (GET_RANDOM_INT_IN_RANGE( 0, 1000 )) mod 14;
        iVar19 = (GET_RANDOM_INT_IN_RANGE( 0, 1000 )) mod 14;
        uVar20 = uVar3[iVar18];
        uVar3[iVar18] = uVar3[iVar19];
        uVar3[iVar19] = uVar20;
    }
    iVar21 = ((GET_RANDOM_INT_IN_RANGE( 0, 1000 )) mod 3) + 1;
    array(ref vVar22, 4);
    vVar22[0] = {43.30000000, 49.99000000, 39.75000000};
    vVar22[1] = {-13.29000000, 44.53000000, 39.75000000};
    vVar22[2] = {-4.87000000, -10.16000000, 39.75000000};
    vVar22[3] = {39.98000000, 7.04000000, 39.75000000};
    iVar35 = 0;
    for ( I = 0; I <= 13; I++ )
    {
        if (NOT (IS_PED_DEAD( uVar3[I] )))
        {
            if ((NOT (IS_PED_PROCESSING_FROZEN( uVar3[I] ))) AND ((NOT (IS_PED_USING_MP3_COVER_TASK( uVar3[I] ))) AND (IS_PED_ON_SCREEN( uVar3[I], 0 ))))
            {
                iVar36 = (GET_RANDOM_INT_IN_RANGE( 0, 1000 )) mod 4;
                SET_PED_TO_RAGDOLL_WITH_FALL( uVar3[I], 2000, 2000, 0,  /* F_GET_VECTOR_NORM */ sub_52607( vVar22[iVar36] ), 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000 );
                iVar35++;
                PRINTSTRING( "Knocked over Enemies = " );
                 /* WRITE_INT */ sub_3005( iVar35 );
            }
        }
        if (iVar35 >= iVar21)
        {
            return;
        }
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_BUILDING_SHAKING_KNOCK_OVER_ENEMIES end", 0 );
    return;
}

/* P_CAM_SHAKE_ACTIVATE */ void sub_57722(int iParam0)
{
     /* RESETTIMER */ sub_5725( iParam0 + 40 );
     /* RESETTIMER */ sub_5725( iParam0 + 76 );
     /* RESETTIMER */ sub_5725( iParam0 + 112 );
    iParam0->_fU172 = 1;
    iParam0->_fU164 = 0;
    return;
}

/* P_ROOF_END_BUILDING_SHAKING */ void sub_58013()
{
    int I;

     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_END_BUILDING_SHAKING start", 0 );
    STOP_GAMEPLAY_CAM_SHAKING( "HAND_SHAKE", 0 );
    for ( I = 0; I <= 3; I++ )
    {
         /* P_SAFE_STOP_PARTICLE_FX */ sub_55138( ref l_U1807[I] );
    }
     /* P_CAM_SHAKE_FORCE_DEACTIVATE */ sub_58162( ref l_U1758, 0 );
     /* WRITESCRIPTLOG */ sub_1750( "CCB", "Ending the HOTEL_ROOF_SHAKING context...", 0 );
    END_CONTEXT( "HOTEL_ROOF_SHAKING" );
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_END_BUILDING_SHAKING end", 0 );
    return;
}

/* P_CAM_SHAKE_FORCE_DEACTIVATE */ void sub_58162(int iParam0, int iParam1)
{
    if (iParam0->_fU172 == 1)
    {
        if (iParam1 == 1)
        {
            STOP_CAM_SHAKING( GET_RENDERING_CAM(), iParam1 );
            STOP_GAMEPLAY_CAM_SHAKING( iParam0 + 4, iParam1 );
        }
        else
        {
            STOP_CAM_SHAKING( GET_RENDERING_CAM(), iParam0->_fU160 );
            STOP_GAMEPLAY_CAM_SHAKING( iParam0 + 4, iParam0->_fU160 );
        }
         /* RESETTIMER */ sub_5725( iParam0 + 40 );
         /* RESETTIMER */ sub_5725( iParam0 + 76 );
         /* RESETTIMER */ sub_5725( iParam0 + 112 );
        iParam0->_fU172 = 0;
    }
    return;
}

/* P_ROOF_HANDLE_TIMER_DISPLAY */ void sub_58501()
{
    return;
}

/* F_ROOF_SHOULD_START_EXPLOSION01 */ int sub_59033()
{
    if (NOT ( /* F_ISPLAYERINTRIGGERBOX */ sub_59083( l_U1564 )))
    {
         /* WRITESCRIPTLOG */ sub_1750( "GA", "Player approached explosion 01 area, triggering explosion.", 0 );
        return 1;
    }
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
    {
        if (DOES_PED_EXIST( l_U2145[2] ))
        {
            if (IS_PED_DEAD( l_U2145[2] ))
            {
                 /* WRITESCRIPTLOG */ sub_1750( "GA", "Player killed one of the peds near the explosion, triggering explosion.", 0 );
                return 1;
            }
            else if (HAS_PED_BEEN_DAMAGED_BY_PED( l_U2145[2],  /* PLAYER_PED_ID */ sub_4179(), 0 ))
            {
                 /* WRITESCRIPTLOG */ sub_1750( "GA", "Player shot one of the peds near the explosion, triggering explosion.", 0 );
                return 1;
            }
        }
    }
    return 0;
}

/* F_ISPLAYERINTRIGGERBOX */ void sub_59083(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20)
{
    return  /* F_ISPEDINTRIGGERBOX */ sub_55780(  /* PLAYER_PED_ID */ sub_4179(), uParam0 );
}

/* START_EXPLOSION1 */ void sub_59637()
{
    WAKE_RESTING_OBJECTS_AROUND( l_U2638 );
    WAKE_RESTING_OBJECTS_AROUND( l_U2640 );
    ADD_EXPLOSION( 14.38075000, 27.11443000, 42.75126000, 0, 1.00000000, 0, 1, 1065353216 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U2638, 21794980, 14.00000000, 27.00000000, 42.80000000, 1, 1 );
     /* MAL_SWAPOBJECTWITHNOROTATIONANDANIMATE */ sub_59816( ref l_U2639, -726132516, 14.00000000, 27.00000000, 42.80000000, "P_AN_FLREXP_BB_H", "ho_anim", l_U2648, 1, 0 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U2640, -304211046, 14.00000000, 27.00000000, 42.80000000, 1, 0 );
     /* MAL_SWAPOBJECTWITHNOROTATIONANDANIMATE */ sub_59816( ref l_U2641, 429354730, 15.50000000, 29.50000000, 44.00000000, "P_AN_FNCSKN_AA_H", "ho_anim", l_U2649, 1, 0 );
     /* MAL_SWAPOBJECTWITHNOROTATIONANDANIMATE */ sub_59816( ref l_U2642, 729316143, 12.50000000, 25.50000000, 44.00000000, "P_AN_FNCSKN_AB_H", "ho_anim", l_U2650, 1, 0 );
     /* MAL_PLAYOBJECTANIM */ sub_59895( l_U2643, "P_AN_BIGPIP_AA_H", "ho_anim", l_U2651, 0 );
     /* MAL_PLAYOBJECTANIM */ sub_59895( l_U2645, "P_AN_ELECAB_AA_H", "ho_anim", l_U2652, 0 );
    if (DOES_OBJECT_EXIST( l_U2646 ))
    {
        SET_OBJECT_VISIBLE( l_U2646, 1 );
        SET_OBJECT_COLLISION( l_U2646, 1 );
    }
     /* MAL_PLAYOBJECTANIM */ sub_59895( l_U2646, "P_AN_FLREXP_BD_H", "ho_anim", l_U2653, 0 );
    START_PARTICLE_FX_NON_LOOPED_AT_COORD( "HO_Explode1_S", l_U2654, 0.00000000, 0.00000000, 0.00000000, l_U2657 );
    l_U2658 = START_PARTICLE_FX_LOOPED_AT_COORD( "HO_GasLineFire_S", l_U2659, 0.00000000, 0.00000000, 0.00000000, l_U2662 );
     /* CREATETIMER */ sub_4866( ref l_U2594, l_U2663, 1, 0 );
     /* STARTTIMER */ sub_5016( ref l_U2594 );
    if (GET_ADRENALINE_AMT() < 0.10000000)
    {
        SET_ADRENALINE_AMT( 0.10000000 );
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    ACTIVATE_BULLET_TIME( 0, 1065353216, 1 );
    return;
}

/* MAL_SWAPOBJECTWITHNOROTATIONANDANIMATE */ void sub_59816(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( uParam0, uParam1, uParam2, uParam8, uParam9 );
     /* MAL_PLAYOBJECTANIM */ sub_59895( (uParam0^), uParam5, uParam6, uParam7, 0 );
    return;
}

/* MAL_PLAYOBJECTANIM */ void sub_59895(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (DOES_OBJECT_EXIST( uParam0 ))
    {
        PLAY_OBJECT_ANIM( uParam0, uParam1, uParam2, 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_CURRENT_TIME( uParam0, uParam1, uParam2, uParam4 );
        SET_OBJECT_ANIM_SPEED( uParam0, uParam1, uParam2, uParam3 );
    }
    return;
}

/* P_ROOF_EXPLOSION01_ENEMY_REACTIONS */ void sub_60539()
{
    int I;

     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_EXPLOSION01_ENEMY_REACTIONS start", 0 );
    for ( I = 0; I <= 9; I++ )
    {
        if (NOT (IS_PED_DEAD( l_U2145[I] )))
        {
            if (NOT (IS_PED_PROCESSING_FROZEN( l_U2145[I] )))
            {
                if ( /* F_ISPEDINTRIGGERBOX */ sub_55780( l_U2145[I], l_U1503 ))
                {
                     /* P_KILL_PED */ sub_55007( l_U2145[I] );
                }
                else if ((NOT (IS_PED_USING_MP3_COVER_TASK( l_U2145[I] ))) AND ( /* F_ISPEDINTRIGGERBOX */ sub_55780( l_U2145[I], l_U1524 )))
                {
                    SET_PED_TO_RAGDOLL_WITH_FALL( l_U2145[I], 1000, 1000, 0,  /* F_GET_VECTOR_NORM */ sub_52607( -4.32000000, 50.27000000, 39.75000000 ), 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000 );
                }
            }
        }
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_EXPLOSION01_ENEMY_REACTIONS end", 0 );
    return;
}

/* P_ROOF_KNOCK_PLAYER_ON_ASS */ void sub_61031(boolean bParam0)
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_KNOCK_PLAYER_ON_ASS start", 0 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
    {
        if (bParam0)
        {
            TASK_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_4179(), 4, -1, 1000 );
        }
        else
        {
            TASK_SET_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_4179(), 5, -1, 1000 );
        }
         /* STARTTIMER */ sub_5016( ref l_U1555 );
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_KNOCK_PLAYER_ON_ASS end", 0 );
    return;
}

/* P_START_ROOFTOP_MID_COLLAPSE */ void sub_61359()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_START_ROOFTOP_MID_COLLAPSE start", 0 );
     /* CLEANOBJECT */ sub_7622( l_U2717 );
    WAKE_RESTING_OBJECTS_AROUND( l_U2718 );
    WAKE_RESTING_OBJECTS_AROUND( l_U2719 );
    WAKE_RESTING_OBJECTS_AROUND( l_U2720 );
    if (DOES_OBJECT_EXIST( l_U2718 ))
    {
        SET_OBJECT_VISIBLE( l_U2718, 1 );
        PLAY_OBJECT_ANIM( l_U2718, "P_AN_FLR_HOL_DA", "ho_anim_stairs", 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U2718, "P_AN_FLR_HOL_DA", "ho_anim_stairs", l_U2729 );
    }
    if (DOES_OBJECT_EXIST( l_U2719 ))
    {
        SET_OBJECT_VISIBLE( l_U2719, 1 );
        PLAY_OBJECT_ANIM( l_U2719, "P_AN_FLR_HOL_DB", "ho_anim_stairs", 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U2719, "P_AN_FLR_HOL_DB", "ho_anim_stairs", l_U2730 );
    }
    if (DOES_OBJECT_EXIST( l_U2720 ))
    {
        PLAY_OBJECT_ANIM( l_U2720, "P_AN_FLR_HOL_DC", "ho_anim_stairs", 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U2720, "P_AN_FLR_HOL_DC", "ho_anim_stairs", l_U2731 );
    }
     /* CLEANOBJECT */ sub_7622( l_U2646 );
    if (DOES_OBJECT_EXIST( l_U2721 ))
    {
        SET_OBJECT_VISIBLE( l_U2721, 1 );
        PLAY_OBJECT_ANIM( l_U2721, "P_AN_FLREXP_WC_H", "ho_anim", 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U2721, "P_AN_FLREXP_WC_H", "ho_anim", l_U2732 );
        SET_OBJECT_COLLISION( l_U2721, 1 );
    }
     /* CLEANOBJECT */ sub_7622( l_U2643 );
     /* CLEANOBJECT */ sub_7622( l_U2644 );
    if (DOES_OBJECT_EXIST( l_U2722 ))
    {
        SET_OBJECT_VISIBLE( l_U2722, 1 );
        PLAY_OBJECT_ANIM( l_U2722, "P_AN_BIGPIP_WA_H", "ho_anim", 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U2722, "P_AN_BIGPIP_WA_H", "ho_anim", l_U2733 );
        SET_OBJECT_COLLISION( l_U2722, 1 );
    }
    START_PARTICLE_FX_NON_LOOPED_AT_COORD( "HOTEL_Mid_collapse_S", l_U2734, 0.00000000, 0.00000000, 0.00000000, l_U2737 );
    START_PARTICLE_FX_NON_LOOPED_AT_COORD( "HOTEL_AC_MID_SteamVent_S", l_U2738, 0.00000000, 0.00000000, 0.00000000, l_U2741 );
    ENABLE_NORMAL_LINE( "roof_simple", "ACUnitPre_Coverline04", 0 );
    ENABLE_COVERPOINTMP3( "roof_simple", "ACUnitPre_Coverpoint01", 0 );
    ENABLE_COVERPOINTMP3( "roof_simple", "ACUnitPre_Coverpoint02", 0 );
    ENABLE_NORMAL_LINE( "roof_simple", "ACUnitPost_CoverLine01", 1 );
    ENABLE_NORMAL_LINE( "roof_simple", "ACUnitPost_CoverLine1L", 1 );
    ENABLE_NORMAL_LINE( "roof_simple", "ACUnitPost_CoverLine1R", 1 );
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_START_ROOFTOP_MID_COLLAPSE end", 0 );
    return;
}

/* P_ROOF_START_MID_COLLAPSE_SOUNDS */ void sub_62685()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_START_MID_COLLAPSE_SOUNDS start", 0 );
     /* P_SAFE_STOP_SOUND */ sub_6884( l_U1724, 0 );
     /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U1724 );
    l_U1724 = GET_SOUND_ID();
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
    {
        TRIGGER_EXPLOSION_AUDIO_FROM_PED( "S_HOTEL_EXP_MID_COLLAPSE",  /* PLAYER_PED_ID */ sub_4179() );
    }
     /* P_SAFE_STOP_SOUND */ sub_6884( l_U1725, 0 );
     /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U1725 );
    l_U1724 = GET_SOUND_ID();
    if (DOES_OBJECT_EXIST( l_U2720 ))
    {
        PLAY_SOUND_FROM_OBJECT( l_U1725, "S_HOTEL_MID_COLLAPSE_HVAC", l_U2720 );
    }
     /* P_SAFE_STOP_SOUND */ sub_6884( l_U1726, 0 );
     /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U1726 );
    l_U1724 = GET_SOUND_ID();
    if (DOES_OBJECT_EXIST( l_U2722 ))
    {
        PLAY_SOUND_FROM_OBJECT( l_U1726, "S_HOTEL_MID_COLLAPSE_PIPE", l_U2722 );
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_START_MID_COLLAPSE_SOUNDS end", 0 );
    return;
}

/* P_ROOF_W1_ACTIVATE_GATE_ENEMY */ void sub_63138()
{
    unknown uVar2;

     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_W1_ACTIVATE_GATE_ENEMY start", 0 );
     /* P_ACTIVATEPED */ sub_42136( l_U2145[8] );
     /* P_REMOVEALLTETHERSFROMPED */ sub_63250( l_U2145[8] );
    if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() ))) AND (NOT (IS_PED_DEAD( l_U2145[8] ))))
    {
        REGISTER_TARGET( l_U2145[8],  /* PLAYER_PED_ID */ sub_4179() );
        OPEN_SEQUENCE_TASK( ref uVar2 );
        TASK_ATTACK_MOVE_WHILE_AIMING_AT_PED( 0, 2.94000000, 20.10000000, 40.00000000,  /* PLAYER_PED_ID */ sub_4179(), 1, 4.00000000, -1.00000000, -1082130432, 3 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        TASK_COMBAT_PED( 0,  /* PLAYER_PED_ID */ sub_4179() );
        CLOSE_SEQUENCE_TASK( uVar2 );
        TASK_PERFORM_SEQUENCE( l_U2145[8], uVar2 );
        CLEAR_SEQUENCE_TASK( uVar2 );
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_W1_ACTIVATE_GATE_ENEMY end", 0 );
    return;
}

/* P_REMOVEALLTETHERSFROMPED */ void sub_63250(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        RESET_PED_TETHERING( uParam0 );
    }
    return;
}

/* P_ROOF_START_STAIRS_HEAVY_GUNNER */ void sub_63569()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_START_STAIRS_HEAVY_GUNNER start", 0 );
    l_U2233 =  /* CREATEPED */ sub_32087( ref l_U2220 );
     /* F_GIVEPEDWEAPON */ sub_12994( l_U2233, 319712764, 25000, 0, 0 );
    if (NOT (IS_PED_DEAD( l_U2233 )))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U2233, 0 );
        SET_PED_ALERTNESS( l_U2233, 4 );
        SET_PED_COMBAT_MOVEMENT( l_U2233, 0 );
        SET_PED_NO_RAGDOLL_TO_BULLET_UNLESS_DEAD( l_U2233, 1 );
        SET_PED_AI_TEMPLATE( l_U2233, "AIT_CP_HEAVY_GNR" );
        SET_PED_HEALTH( l_U2233, 300, 0 );
        SET_PED_COMBAT_ATTRIBUTES( l_U2233, 8192, 0 );
        SET_PED_FLAG_BLOCK_WOUNDED_MOVEMENT( l_U2233, 1 );
        SET_BULLET_CAM_PREF( l_U2233, "ALL_LMS_01", "ALL_LMS_01", "ALL_LMS_01", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
        SET_PED_PROOFS( l_U2233, 0, 1, 1, 1, 1 );
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_START_STAIRS_HEAVY_GUNNER end", 0 );
    return;
}

/* P_ROOF_W1_UPPER_ENEMIES_MOVE_TO_LAST_AREA */ void sub_64091()
{
    string[5] sVar2;
    int iVar8;
    int I;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;

     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_W1_UPPER_ENEMIES_MOVE_TO_LAST_AREA start", 0 );
    array(ref sVar2, 5);
    sVar2[0] = "C8D703C8_5B4D7B26_Popover1";
    sVar2[1] = "C8D703C8_9F92C8AC_Popover1";
    sVar2[2] = "C8D703C8_A24F5677_Corner1";
    sVar2[3] = "C8D703C8_A24F5677_Popover3";
    sVar2[4] = "C8D703C8_A24F5677_Popover1";
    iVar8 = 0;
    for ( I = 0; I <= 9; I++ )
    {
        if (NOT (IS_PED_DEAD( l_U2145[I] )))
        {
            if (NOT (IS_PED_PROCESSING_FROZEN( l_U2145[I] )))
            {
                uVar10 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( l_U2145[I] )};
                if (uVar10._fU8 >= 42.00000000)
                {
                     /* P_REMOVEALLTETHERSFROMPED */ sub_63250( l_U2145[I] );
                     /* P_TETHERPED */ sub_42509( ref l_U2167, l_U2145[I], 1 );
                    SET_PED_SUGGESTED_COVER_POINT( l_U2145[I], "GenCover", sVar2[iVar8] );
                    iVar8++;
                    if (iVar8 >= 5)
                    {
                        iVar8 = 0;
                    }
                }
            }
        }
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_W1_UPPER_ENEMIES_MOVE_TO_LAST_AREA end", 0 );
    return;
}

/* F_ROOF_HG_COMBAT_STARTED */ int sub_64682()
{
    if (NOT (IS_PED_DEAD( l_U2233 )))
    {
        if (IS_PED_SHOOTING( l_U2233 ))
        {
            return 1;
        }
    }
    if ((NOT (IS_PED_DEAD( l_U2248[0] ))) AND (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() ))))
    {
        if ((HAS_PED_BEEN_DAMAGED_BY_PED(  /* PLAYER_PED_ID */ sub_4179(), l_U2248[0], 0 )) || (HAS_PED_BEEN_DAMAGED_BY_PED( l_U2248[0],  /* PLAYER_PED_ID */ sub_4179(), 0 )))
        {
            return 1;
        }
    }
    return 0;
}

/* F_ROOF_SHOULD_START_CORNER_EXPLOSION */ int sub_64889()
{
    if (IS_LAST_MAN_STANDING_ACTIVE())
    {
        return 0;
    }
    if (NOT (IS_PED_DEAD( l_U2233 )))
    {
        if ((GET_PED_HEALTH( l_U2233 )) <= 200)
        {
             /* WRITESCRIPTLOG */ sub_1750( "GA", "Trigger corner explosion because player has damaged Heavy Gunner Enough.", 0 );
            return 1;
        }
    }
    else
    {
         /* WRITESCRIPTLOG */ sub_1750( "GA", "Trigger corner explosion because player has killed Heavy Gunner.", 0 );
        return 1;
    }
    if ( /* F_ISPLAYERINTRIGGERBOX */ sub_59083( l_U1648 ))
    {
         /* WRITESCRIPTLOG */ sub_1750( "GA", "Trigger corner explosion because player is too close to stairs.", 0 );
        return 1;
    }
    return 0;
}

/* P_ROOF_EXPLODE_HEAVY_GUNNER */ void sub_65287()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_EXPLODE_HEAVY_GUNNER start", 0 );
    if (NOT (IS_PED_DEAD( l_U2233 )))
    {
        ISEQ_REGISTER_ENTITY( -1844315547, "GMED", l_U2233, 0 );
        ISEQ_START( -1844315547 );
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_EXPLODE_HEAVY_GUNNER end", 0 );
    return;
}

/* P_ROOF_HG_ENEMIES_FALL_OVER */ void sub_65483()
{
    int I;

     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_HG_ENEMIES_FALL_OVER start", 0 );
    for ( I = 0; I <= 0; I++ )
    {
        if (NOT (IS_PED_DEAD( l_U2248[I] )))
        {
            if (NOT (IS_PED_USING_MP3_COVER_TASK( l_U2248[I] )))
            {
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U2248[I], 0 );
                CLEAR_PED_TASKS( l_U2248[I] );
                if (I == 0)
                {
                    SET_PED_TO_RAGDOLL_WITH_EXPLOSION( l_U2248[0], 2000, 2000, -4.32000000, 50.27000000, 39.75000000 );
                }
                else
                {
                    SET_PED_TO_RAGDOLL_WITH_FALL( l_U2248[I], 2000, 2000, 0,  /* F_GET_VECTOR_NORM */ sub_52607( 43.30000000, 49.99000000, 39.75000000 ), 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000 );
                }
            }
        }
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_HG_ENEMIES_FALL_OVER end", 0 );
    return;
}

/* START_EXPLOSION2 */ void sub_65854()
{
     /* CLEANOBJECT */ sub_7622( l_U2610 );
     /* CLEANOBJECT */ sub_7622( l_U2618 );
     /* CLEANOBJECT */ sub_7622( l_U2615 );
    SET_OBJECT_VISIBLE( l_U2612, 1 );
    SET_OBJECT_VISIBLE( l_U2611, 1 );
    SET_OBJECT_VISIBLE( l_U2620, 1 );
    SET_OBJECT_VISIBLE( l_U2619, 1 );
    SET_OBJECT_VISIBLE( l_U2616, 1 );
    PLAY_OBJECT_ANIM( l_U2612, "P_AN_DORBEN_AA_H", "ho_anim_stairs", 0.00000000, 0, 1 );
    PLAY_OBJECT_ANIM( l_U2611, "P_AN_FENBEN_AA_H", "ho_anim_stairs", 0.00000000, 0, 1 );
    PLAY_OBJECT_ANIM( l_U2620, "P_AN_WALEXP_AA_H", "ho_anim_stairs", 0.00000000, 0, 1 );
    PLAY_OBJECT_ANIM( l_U2619, "P_AN_WALEXP_AB_H", "ho_anim_stairs", 0.00000000, 0, 1 );
    PLAY_OBJECT_ANIM( l_U2616, "P_AN_WALEXP_BA_H", "ho_anim_stairs", 0.00000000, 0, 1 );
    SET_OBJECT_ANIM_SPEED( l_U2612, "P_AN_DORBEN_AA_H", "ho_anim_stairs", l_U2613 );
    SET_OBJECT_ANIM_SPEED( l_U2611, "P_AN_FENBEN_AA_H", "ho_anim_stairs", l_U2614 );
    SET_OBJECT_ANIM_SPEED( l_U2620, "P_AN_WALEXP_AA_H", "ho_anim_stairs", l_U2621 );
    SET_OBJECT_ANIM_SPEED( l_U2619, "P_AN_WALEXP_AB_H", "ho_anim_stairs", l_U2622 );
    SET_OBJECT_ANIM_SPEED( l_U2616, "P_AN_WALEXP_BA_H", "ho_anim_stairs", l_U2617 );
    START_PARTICLE_FX_NON_LOOPED_AT_COORD( "HOTEL_Blast_ACWall_S", l_U2623, 0.00000000, 0.00000000, 0.00000000, l_U2626 );
    START_PARTICLE_FX_NON_LOOPED_AT_COORD( "HOTEL_AC_Steam_S", l_U2627, 0.00000000, 0.00000000, 0.00000000, l_U2630 );
    START_PARTICLE_FX_NON_LOOPED_AT_COORD( "HOTEL_AC_Steam_S", l_U2631, 0.00000000, 0.00000000, 0.00000000, l_U2634 );
     /* CREATETIMER */ sub_4866( ref l_U2594, l_U2635, 1, 0 );
     /* STARTTIMER */ sub_5016( ref l_U2594 );
    if (GET_ADRENALINE_AMT() < 0.10000000)
    {
        SET_ADRENALINE_AMT( 0.10000000 );
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    ACTIVATE_BULLET_TIME( 0, 1065353216, 1 );
    return;
}

/* P_ROOF_START_EXP2_SOUNDS */ void sub_66772()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_START_EXP2_SOUNDS start", 0 );
    TRIGGER_EXPLOSION_AUDIO_FROM_COORDS( "S_HOTEL_EXP_STAIR_EXPLOSION", l_U2623 );
     /* P_SAFE_STOP_SOUND */ sub_6884( l_U2217, 0 );
     /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U2217 );
    l_U2217 = GET_SOUND_ID();
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
    {
        PLAY_SOUND_FROM_PED( l_U2217, "S_HOTEL_STAIR_EXPLOSION_SHOCKWAVE",  /* PLAYER_PED_ID */ sub_4179() );
    }
     /* P_SAFE_STOP_SOUND */ sub_6884( l_U2218, 0 );
     /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U2218 );
    l_U2218 = GET_SOUND_ID();
    if (DOES_OBJECT_EXIST( l_U2619 ))
    {
        PLAY_SOUND_FROM_OBJECT( l_U2218, "S_HOTEL_STAIR_EXPLOSION_AIRCON_WHOOSH", l_U2619 );
    }
     /* P_SAFE_STOP_SOUND */ sub_6884( l_U2219, 0 );
     /* P_SAFE_RELEASE_SOUND_ID */ sub_7067( ref l_U2219 );
    l_U2219 = GET_SOUND_ID();
    PLAY_SOUND_FROM_COORD( l_U2219, "S_HOTEL_STAIR_EXPLOSION_AIRCON_HIT", -1.97000000, 6.79000000, 44.11000000 );
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_START_EXP2_SOUNDS end", 0 );
    return;
}

/* P_ROOF_SPAWN_HG_ENEMIES */ void sub_67427()
{
    unknown uVar2;

    switch (l_U2250)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_1750( "GA", "e_Roof_HG_EnemySpawn = ENTITY_STATE_INIT", 0 );
        l_U2251 = 0;
        l_U2250 = 2;
         /* WRITESCRIPTLOG */ sub_1750( "GA", "e_Roof_HG_EnemySpawn = ENTITY_STATE_INIT", 0 );
        break;
        case 2:
        l_U2248[l_U2251] =  /* CREATEPED */ sub_32087( ref l_U2234[l_U2251] );
         /* P_QUICK_ADD_PED_TO_GROUP */ sub_32823( l_U2248[l_U2251], ref l_U2158 );
        if (NOT (IS_PED_DEAD( l_U2248[l_U2251] )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U2248[l_U2251], 1 );
            SET_PED_ALERTNESS( l_U2248[l_U2251], 3 );
            SET_PED_COMBAT_ATTRIBUTES( l_U2248[l_U2251], 1024, 0 );
        }
        l_U2251++;
        if (l_U2251 >= 1)
        {
            l_U2250 = 3;
             /* WRITESCRIPTLOG */ sub_1750( "GA", "e_Roof_HG_EnemySpawn = ENTITY_STATE_POST_CREATE_SETUP", 0 );
        }
        break;
        case 3:
         /* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ sub_33434( ref l_U2248, "pi_Roof_HG_Enemy" );
         /* F_GIVEPEDWEAPON */ sub_12994( l_U2248[0], -612753081, 25000, 0, 0 );
         /* P_SET_PED_TEMPLATE_AND_RANGES */ sub_33834( ref l_U2248[0], "AIT_EXPERT", 5.00000000, 10.00000000 );
         /* P_TETHERPED */ sub_42509( ref l_U2252, l_U2248[0], 1 );
        if (NOT (IS_PED_DEAD( l_U2248[0] )))
        {
            REGISTER_TARGET( l_U2248[0],  /* PLAYER_PED_ID */ sub_4179() );
            SET_PED_SUGGESTED_COVER_POINT( l_U2248[0], "GenCover", "C8D703C8_47334F5_Corner2" );
            OPEN_SEQUENCE_TASK( ref uVar2 );
            TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
            TASK_FOLLOW_NAV_MESH_TO_COORD( 0, -2.10000000, 9.65000000, 39.80000000, 3, -1, 1048576000, 0, 0 );
            TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
            TASK_COMBAT_PED( 0,  /* PLAYER_PED_ID */ sub_4179() );
            CLOSE_SEQUENCE_TASK( uVar2 );
            TASK_PERFORM_SEQUENCE( l_U2248[0], uVar2 );
            CLEAR_SEQUENCE_TASK( uVar2 );
        }
        l_U2250 = 4;
         /* WRITESCRIPTLOG */ sub_1750( "GA", "e_Roof_HG_EnemySpawn = ENTITY_STATE_COMPLETE", 0 );
        break;
    }
    return;
}

/* P_ROOF_W1_ACTIVATE_LAST_AREA_ENEMY */ void sub_68408()
{
    unknown uVar2;

     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_W1_ACTIVATE_LAST_AREA_ENEMY start", 0 );
     /* P_ACTIVATEPED */ sub_42136( l_U2145[9] );
    if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() ))) AND (NOT (IS_PED_DEAD( l_U2145[9] ))))
    {
        REGISTER_TARGET( l_U2145[9],  /* PLAYER_PED_ID */ sub_4179() );
        OPEN_SEQUENCE_TASK( ref uVar2 );
        TASK_ATTACK_MOVE_WHILE_AIMING_AT_PED( 0, 10.78000000, 21.63000000, 42.80000000,  /* PLAYER_PED_ID */ sub_4179(), 1, 4.00000000, -1.00000000, -1082130432, 3 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        TASK_COMBAT_PED( 0,  /* PLAYER_PED_ID */ sub_4179() );
        CLOSE_SEQUENCE_TASK( uVar2 );
        TASK_PERFORM_SEQUENCE( l_U2145[9], uVar2 );
        CLEAR_SEQUENCE_TASK( uVar2 );
        SET_PED_SUGGESTED_COVER_POINT( l_U2145[9], "roof_simple", "Corner_Position08" );
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_W1_ACTIVATE_LAST_AREA_ENEMY end", 0 );
    return;
}

/* P_SETDOORFORCECLOSE */ void sub_69003(int iParam0, unknown uParam1, unknown uParam2)
{
    if (( /* F_DOESDOOREXIST */ sub_26996( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_27080( iParam0 );
    }
    DOOR_FIND_CLOSEST_SET_FORCE_CLOSE( iParam0->_fU0, iParam0->_fU4, uParam1, uParam2 );
    return;
}

/* P_SETDOORAFFECTEDBYBULLETS */ void sub_69091(int iParam0, unknown uParam1)
{
    if (( /* F_DOESDOOREXIST */ sub_26996( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_27080( iParam0 );
    }
    DOOR_SET_IS_AFFECTED_BY_BULLETS( DOOR_FIND_CLOSEST( iParam0->_fU0, iParam0->_fU4 ), uParam1 );
    return;
}

/* P_ROOF_W1_LOWER_ENEMIES_RUN_OFF */ void sub_69186()
{
    int I;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_W1_LOWER_ENEMIES_RUN_OFF start", 0 );
    for ( I = 0; I <= 9; I++ )
    {
        if (NOT (IS_PED_DEAD( l_U2145[I] )))
        {
            uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( l_U2145[I] )};
            if ((I == 8) || (uVar3._fU8 < 42.00000000))
            {
                 /* P_REMOVEALLTETHERSFROMPED */ sub_63250( l_U2145[I] );
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U2145[I], 1 );
                TASK_FOLLOW_NAV_MESH_TO_COORD( l_U2145[I], -9.27000000, 21.51000000, 39.49000000, 3, -1, 1048576000, 0, 0 );
            }
        }
    }
    if (NOT (IS_PED_DEAD( l_U2248[0] )))
    {
         /* P_REMOVEALLTETHERSFROMPED */ sub_63250( l_U2248[0] );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U2248[0], 1 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( l_U2248[0], -9.27000000, 21.51000000, 39.49000000, 3, -1, 1048576000, 0, 0 );
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_W1_LOWER_ENEMIES_RUN_OFF end", 0 );
    return;
}

/* F_IS_DOOR_CLOSED */ int sub_69632(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, float fParam7)
{
    if ((ABSF(  /* F_GETDOOROPENRATIO */ sub_69662( ref uParam0 ) )) < fParam7)
    {
        return 1;
        break;
    }
    return 0;
}

/* F_GETDOOROPENRATIO */ void sub_69662(int iParam0)
{
    int iVar3;
    float Result;

    if (( /* F_DOESDOOREXIST */ sub_26996( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_27080( iParam0 );
    }
    iVar3 = 0;
    Result = 0.00000000;
    GET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, ref iVar3, ref Result );
    return Result;
}

/* P_ROOF_W1_CLEANUP_OUT_OF_SIGHT */ void sub_69823()
{
    int I;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;

    for ( I = 0; I <= 9; I++ )
    {
        if (NOT (IS_PED_DEAD( l_U2145[I] )))
        {
            uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( l_U2145[I] )};
            if ((NOT (IS_PED_ON_SCREEN( l_U2145[I], 0 ))) AND (uVar3._fU8 < 42.00000000))
            {
                 /* CLEANPED */ sub_9312( l_U2145[I] );
            }
            if ( /* F_ISPEDINTRIGGERBOX */ sub_55780( l_U2145[I], l_U2173 ))
            {
                 /* CLEANPED */ sub_9312( l_U2145[I] );
            }
        }
    }
    if (NOT (IS_PED_DEAD( l_U2248[0] )))
    {
        uVar6 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( l_U2248[0] )};
        if ((NOT (IS_PED_ON_SCREEN( l_U2248[0], 0 ))) AND (uVar6._fU8 < 42.00000000))
        {
             /* CLEANPED */ sub_9312( l_U2248[0] );
        }
        if ( /* F_ISPEDINTRIGGERBOX */ sub_55780( l_U2248[0], l_U2173 ))
        {
             /* CLEANPED */ sub_9312( l_U2248[0] );
        }
    }
    return;
}

/* P_START_ROOFTOP_HALL_COLLAPSE */ void sub_70194()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_START_ROOFTOP_HALL_COLLAPSE start", 0 );
     /* CLEANOBJECT */ sub_7622( l_U2744 );
    if (DOES_OBJECT_EXIST( l_U2745 ))
    {
        SET_OBJECT_VISIBLE( l_U2745, 1 );
        SET_OBJECT_COLLISION( l_U2745, 1 );
    }
    if (DOES_OBJECT_EXIST( l_U2746 ))
    {
        SET_OBJECT_VISIBLE( l_U2746, 1 );
        PLAY_OBJECT_ANIM( l_U2746, "P_AN_HALBOX_AA", "ho_anim_stairs", 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U2746, "P_AN_HALBOX_AA", "ho_anim_stairs", l_U2754 );
    }
    if (DOES_OBJECT_EXIST( l_U2747 ))
    {
        SET_OBJECT_VISIBLE( l_U2747, 1 );
        PLAY_OBJECT_ANIM( l_U2747, "P_AN_HALBOX_AB", "ho_anim_stairs", 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U2747, "P_AN_HALBOX_AB", "ho_anim_stairs", l_U2755 );
    }
    if (DOES_OBJECT_EXIST( l_U2748 ))
    {
        PLAY_OBJECT_ANIM( l_U2748, "P_AN_MICTWR_AA", "ho_anim_stairs", 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U2748, "P_AN_MICTWR_AA", "ho_anim_stairs", l_U2756 );
    }
    START_PARTICLE_FX_NON_LOOPED_AT_COORD( "HOTEL_Blast_Hall_Lrg_S", l_U2757, 0.00000000, 0.00000000, 0.00000000, l_U2760 );
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_START_ROOFTOP_HALL_COLLAPSE end", 0 );
    return;
}

/* LOAD_ROOFTOP_HEAVY_GUNNER_ASSETS */ void sub_71047()
{
     /* WRITESCRIPTLOG */ sub_1750( "MF", "LOAD_ROOFTOP_HEAVY_GUNNER_ASSETS - START", 0 );
     /* LOADANIMDICT */ sub_30627( "AMED_HEVY_CORE", 0, 0 );
     /* LOADACTIONTREE */ sub_71194( "NPC/BOSS_HeavyGunner", 0 );
     /* LOADMODEL */ sub_29983( 619024212, 0 );
     /* WRITESCRIPTLOG */ sub_1750( "MF", "LOAD_ROOFTOP_HEAVY_GUNNER_ASSETS - END", 0 );
    return;
}

/* LOADACTIONTREE */ void sub_71194(unknown uParam0, int iParam1)
{
    ACTION_TREE_LOAD( uParam0 );
    if (iParam1 == 1)
    {
        while ((IS_ACTION_TREE_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an Action Tree to be loaded: {} ###", 1, 1537, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* P_HANDLE_ROOFTOP_HALL_COLLAPSE_PLAYING */ void sub_71430()
{
    return;
}

/* P_ROOF_START_LAST_AREA_ENEMIES */ void sub_71509()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;

    switch (l_U2319)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_1750( "GA", "e_Roof_LA_EnemySpawn = ENTITY_STATE_INIT", 0 );
        l_U2320 = 0;
         /* WRITESCRIPTLOG */ sub_1750( "GA", "e_Roof_LA_EnemySpawn = ENTITY_STATE_CREATING", 0 );
        l_U2319 = 2;
        break;
        case 2:
        l_U2361[l_U2320] =  /* CREATEPED */ sub_32087( ref l_U2321[l_U2320] );
         /* P_QUICK_ADD_PED_TO_GROUP */ sub_32823( l_U2361[l_U2320], ref l_U2158 );
         /* P_SET_PED_TEMPLATE_AND_RANGES */ sub_33834( ref l_U2361[l_U2320], "AIT_EXPERT", 3.50000000, 20.00000000 );
        if (NOT (IS_PED_DEAD( l_U2361[l_U2320] )))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U2361[l_U2320], 1 );
            SET_PED_ALERTNESS( l_U2361[l_U2320], 3 );
            SET_PED_PATH_CAN_USE_CLIMBOVERS( l_U2361[l_U2320], 0 );
            SET_PED_PATH_CAN_DROP_FROM_HEIGHT( l_U2361[l_U2320], 0 );
             /* P_TETHERPED */ sub_42509( ref l_U2169[0], l_U2361[l_U2320], 1 );
             /* P_TETHERPED */ sub_42509( ref l_U2169[1], l_U2361[l_U2320], 1 );
             /* P_TETHERPED */ sub_42509( ref l_U2169[2], l_U2361[l_U2320], 1 );
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
            {
                REGISTER_TARGET( l_U2361[l_U2320],  /* PLAYER_PED_ID */ sub_4179() );
            }
        }
        l_U2320++;
        if (l_U2320 >= 3)
        {
             /* WRITESCRIPTLOG */ sub_1750( "GA", "e_Roof_LA_EnemySpawn = ENTITY_STATE_POST_CREATE_SETUP", 0 );
            l_U2319 = 3;
        }
        break;
        case 3:
         /* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ sub_33434( ref l_U2361, "pi_Roof_LA_Enemy" );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
        {
            if (NOT (IS_PED_DEAD( l_U2361[0] )))
            {
                 /* F_GIVEPEDWEAPON */ sub_12994( l_U2361[0], 514118749, 25000, 0, 0 );
                OPEN_SEQUENCE_TASK( ref uVar2 );
                TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
                TASK_ATTACK_MOVE_WHILE_AIMING_AT_PED( 0, 26.84000000, 30.02000000, 45.28000000,  /* PLAYER_PED_ID */ sub_4179(), 1, 3.50000000, -1.00000000, -1082130432, 3 );
                TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
                TASK_COMBAT_PED( 0,  /* PLAYER_PED_ID */ sub_4179() );
                CLOSE_SEQUENCE_TASK( uVar2 );
                TASK_PERFORM_SEQUENCE( l_U2361[0], uVar2 );
                CLEAR_SEQUENCE_TASK( uVar2 );
            }
            if (NOT (IS_PED_DEAD( l_U2361[1] )))
            {
                 /* F_GIVEPEDWEAPON */ sub_12994( l_U2361[1], -1013714740, 25000, 0, 0 );
                OPEN_SEQUENCE_TASK( ref uVar3 );
                TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
                TASK_ATTACK_MOVE_WHILE_AIMING_AT_PED( 0, 23.01000000, 34.83000000, 45.29000000,  /* PLAYER_PED_ID */ sub_4179(), 1, 3.50000000, -1.00000000, -1082130432, 3 );
                TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
                TASK_COMBAT_PED( 0,  /* PLAYER_PED_ID */ sub_4179() );
                CLOSE_SEQUENCE_TASK( uVar3 );
                TASK_PERFORM_SEQUENCE( l_U2361[1], uVar3 );
                CLEAR_SEQUENCE_TASK( uVar3 );
            }
            if (NOT (IS_PED_DEAD( l_U2361[2] )))
            {
                 /* F_GIVEPEDWEAPON */ sub_12994( l_U2361[2], -1013714740, 25000, 0, 0 );
                OPEN_SEQUENCE_TASK( ref uVar4 );
                TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
                TASK_ATTACK_MOVE_WHILE_AIMING_AT_PED( 0, 25.07000000, 32.19000000, 45.29000000,  /* PLAYER_PED_ID */ sub_4179(), 1, 3.50000000, -1.00000000, -1082130432, 3 );
                TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
                TASK_COMBAT_PED( 0,  /* PLAYER_PED_ID */ sub_4179() );
                CLOSE_SEQUENCE_TASK( uVar4 );
                TASK_PERFORM_SEQUENCE( l_U2361[2], uVar4 );
                CLEAR_SEQUENCE_TASK( uVar4 );
            }
        }
         /* WRITESCRIPTLOG */ sub_1750( "GA", "e_Roof_LA_EnemySpawn = ENTITY_STATE_COMPLETE", 0 );
        l_U2319 = 4;
        break;
    }
    return;
}

/* F_ROOF_IS_PLAYER_IN_STATE_WHERE_WE_CAN_START_FAIL */ int sub_72747()
{
    if (((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_4179(), 4 )) == 1) || (((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_4179(), 5 )) == 1) || ((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_4179(), 3 )) == 1)))
    {
        return 0;
    }
    if (((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_4179(), 4 )) == 3) || (((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_4179(), 5 )) == 3) || ((PED_GET_ACTION_INTENTION_STATUS(  /* PLAYER_PED_ID */ sub_4179(), 3 )) == 3)))
    {
        return 0;
    }
    if ((IS_LAST_MAN_STANDING_ACTIVE()) || (IS_BULLET_CAMERA_ACTIVE()))
    {
        return 0;
    }
    return 1;
}

/* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ void sub_73046(unknown uParam0)
{
    int Result;
    int I;
    int iVar5;

    Result = 0;
    iVar5 = (uParam0^) - 1;
    for ( I = 0; I <= iVar5; I++ )
    {
        if (NOT (IS_PED_DEAD( (uParam0^)[I] )))
        {
            Result++;
        }
    }
    return Result;
}

/* ARE_ROOFTOP_HEAVY_GUNNDER_ASSETS_LOADED */ int sub_73221()
{
    if ((HAS_MODEL_LOADED( 619024212 )) AND ((IS_ACTION_TREE_LOADED( "NPC/BOSS_HeavyGunner" )) AND (HAS_ANIM_DICT_LOADED( "AMED_HEVY_CORE", 0 ))))
    {
        return 1;
    }
    return 0;
}

/* P_ROOF_START_LAST_HEAVY_GUNNER */ void sub_73379()
{
    unknown uVar2;

     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_START_LAST_HEAVY_GUNNER start", 0 );
    l_U2387 =  /* CREATEPED */ sub_32087( ref l_U2374 );
    uVar2 =  /* F_GIVEPEDWEAPON */ sub_12994( l_U2387, 319712764, 25000, 0, 0 );
    SET_WEAPON_CHANCE_TO_FIRE_BLANKS( uVar2, 75 );
    if (NOT (IS_PED_DEAD( l_U2387 )))
    {
        PED_ACTION_TREE_PLAY_NODE( l_U2387, "/Global/HeavyGunner/HeavyGunner_Loco" );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U2387, 1 );
        SET_PED_ALERTNESS( l_U2387, 3 );
        SET_PED_NO_RAGDOLL_TO_BULLET_UNLESS_DEAD( l_U2387, 1 );
        SET_PED_AI_TEMPLATE( l_U2387, "AIT_CP_HEAVY_GNR" );
        SET_PED_HEALTH( l_U2387, 700, 0 );
        SET_PED_COMBAT_ATTRIBUTES( l_U2387, 8192, 0 );
        SET_PED_IGNORE_LOS_CHECKS( l_U2387, 1 );
        SET_PED_FLAG_BLOCK_WOUNDED_MOVEMENT( l_U2387, 1 );
        SET_PED_ALLOWED_TO_KNEEL_AND_FIRE( l_U2387, 0 );
        SET_PED_CAN_TRIGGER_BULLET_CAM( l_U2387, 1 );
        SET_BULLET_CAM_PREF( l_U2387, "ALL_LMS_16", "ALL_02_MED_FAILSAFE", "ALL_01_FAR_FAILSAFE", 0, 1, 0, 0, 0, 0, 0, 0, 0 );
        SET_PED_PROOFS( l_U2387, 0, 1, 1, 1, 1 );
        SET_PED_BOSS_PECENT_DAMAGED( l_U2387, 1 );
        SET_BOSS_PECENT_DAMAGE( 0.25000000 );
        SET_HELMET_KNOCK_OFF_HEALTH( l_U2387, 300 );
         /* P_TETHERPED */ sub_42509( ref l_U2388, l_U2387, 1 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( l_U2387, 14.27000000, 18.04000000, 46.96000000, 3, -1, 0.01000000, 0, 0 );
    }
     /* P_DEACTIVATEPED */ sub_34329( l_U2387 );
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_START_LAST_HEAVY_GUNNER end", 0 );
    return;
}

/* F_ISPLAYERINTRIGGERREGION */ void sub_74281(int iParam0, unknown uParam1)
{
    int Result;
    int I;
    int J;

    Result = 0;
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )))
    {
        for ( I = 0; I < iParam0->_fU508; I++ )
        {
            if ( /* F_ISPLAYERINTRIGGERBOX */ sub_59083( iParam0->_fU0[I] ))
            {
                Result = 1;
            }
        }
    }
    if ((uParam1) AND (Result))
    {
        for ( J = 0; J < iParam0->_fU508; J++ )
        {
            GAMEPLAY_HELPER_BOX_SET_ENABLED( ref iParam0->_fU0[J]._fU0, 0 );
        }
    }
    iParam0->_fU548 = 1;
    return Result;
}

/* FNORMALIZEVECTOR */ void sub_74545(unknown uParam0, unknown uParam1, unknown uParam2)
{
    unknown uVar5;
    unknown Result;
    unknown uVar7;
    unknown uVar8;

    uVar5 = SQRT( ((uParam0._fU0 * uParam0._fU0) + (uParam0._fU4 * uParam0._fU4)) + (uParam0._fU8 * uParam0._fU8) );
    Result._fU0 = uParam0._fU0 / uVar5;
    Result._fU4 = uParam0._fU4 / uVar5;
    Result._fU8 = uParam0._fU8 / uVar5;
    return Result;
}

/* P_CAM_SHAKE_HANDLE_ARRAY */ void sub_74854(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
         /* P_CAM_SHAKE_HANDLE */ sub_16374( ref (uParam0^)[I] );
    }
    return;
}

/* F_ROOF_SHOULD_START_SATDISH_EXPLOSION */ int sub_75754()
{
    if (IS_PED_DEAD( l_U2387 ))
    {
        return 1;
    }
    else if ((GET_PED_HEALTH( l_U2387 )) < 350)
    {
        return 1;
    }
    return 0;
}

/* P_START_ROOFTOP_CORNER_EXPLOSION */ void sub_75954()
{
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_START_ROOFTOP_CORNER_EXPLOSION start", 0 );
     /* CLEANOBJECT */ sub_7622( l_U2666 );
    if (DOES_OBJECT_EXIST( l_U2667 ))
    {
        SET_OBJECT_VISIBLE( l_U2667, 1 );
        PLAY_OBJECT_ANIM( l_U2667, "P_AN_FLREXP_AA_H", "ho_anim", 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U2667, "P_AN_FLREXP_AA_H", "ho_anim", l_U2672 );
    }
    if (DOES_OBJECT_EXIST( l_U2668 ))
    {
        SET_OBJECT_VISIBLE( l_U2668, 1 );
        PLAY_OBJECT_ANIM( l_U2668, "P_AN_FLREXP_AB_H", "ho_anim", 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U2668, "P_AN_FLREXP_AB_H", "ho_anim", l_U2673 );
    }
     /* CLEANOBJECT */ sub_7622( l_U2674 );
     /* CLEANOBJECT */ sub_7622( l_U2675 );
    if (DOES_OBJECT_EXIST( l_U2676 ))
    {
        SET_OBJECT_VISIBLE( l_U2676, 1 );
        PLAY_OBJECT_ANIM( l_U2676, "P_AN_ACUEXP_AA_H", "ho_anim", 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U2676, "P_AN_ACUEXP_AA_H", "ho_anim", l_U2681 );
    }
    if (DOES_OBJECT_EXIST( l_U2677 ))
    {
        SET_OBJECT_VISIBLE( l_U2677, 1 );
        PLAY_OBJECT_ANIM( l_U2677, "P_AN_ACUEXP_AB_H", "ho_anim", 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U2677, "P_AN_ACUEXP_AB_H", "ho_anim", l_U2682 );
    }
     /* CLEANOBJECT */ sub_7622( l_U2683 );
    if (DOES_OBJECT_EXIST( l_U2684 ))
    {
        SET_OBJECT_VISIBLE( l_U2684, 1 );
        PLAY_OBJECT_ANIM( l_U2684, "P_HO_SATEXP_AA_H", "ho_anim", 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_SPEED( l_U2684, "P_HO_SATEXP_AA_H", "ho_anim", l_U2687 );
    }
    START_PARTICLE_FX_NON_LOOPED_AT_COORD( "HO_Corner_Explo_S", l_U2688, 0.00000000, 0.00000000, 0.00000000, l_U2691 );
    TRIGGER_EXPLOSION_AUDIO_FROM_COORDS( "S_HOTEL_EXP_CORNER_EXPLOSION", -9.50000000, 1.00000000, 41.00000000 );
     /* CREATETIMER */ sub_4866( ref l_U2594, l_U2692, 1, 0 );
     /* STARTTIMER */ sub_5016( ref l_U2594 );
    if (GET_ADRENALINE_AMT() < 0.10000000)
    {
        SET_ADRENALINE_AMT( 0.10000000 );
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    ACTIVATE_BULLET_TIME( 0, 1065353216, 1 );
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_START_ROOFTOP_CORNER_EXPLOSION end", 0 );
    return;
}

/* P_CREATE_AND_START_TIMER */ void sub_77316(unknown uParam0, unknown uParam1)
{
     /* CREATETIMER */ sub_4866( uParam0, uParam1, 1, 0 );
     /* STARTTIMER */ sub_5016( uParam0 );
    return;
}

/* P_INITIALIZE_BUIDLING_COMPONENTS */ void sub_77982()
{
    l_U750._fU4 = {12, 27, 10};
    l_U750._fU16 = 1.00000000;
    l_U750._fU20 = 0;
    l_U750._fU60 = "ho_an_flr002_aa_h";
    l_U750._fU64 = 0;
    l_U767._fU4 = {12, 27, 15};
    l_U767._fU16 = 1.00000000;
    l_U767._fU20 = 0;
    l_U767._fU60 = "ho_an_flr003_aa_h";
    l_U767._fU64 = 0;
    l_U784._fU4 = {12, 27, 20};
    l_U784._fU16 = 1.00000000;
    l_U784._fU20 = 0;
    l_U784._fU60 = "ho_an_flr004_aa_h";
    l_U784._fU64 = 0;
    l_U801._fU4 = {12, 27, 25};
    l_U801._fU16 = 1.00000000;
    l_U801._fU20 = 0;
    l_U801._fU60 = "ho_an_flr005_aa_h";
    l_U801._fU64 = 0;
    l_U818[0]._fU4 = {12, 27, 30};
    l_U818[0]._fU16 = 1.00000000;
    l_U818[0]._fU20 = 0;
    l_U818[0]._fU60 = "ho_an_flr006_aa_h";
    l_U818[0]._fU64 = 0;
    l_U818[1]._fU4 = {12, 27, 30};
    l_U818[1]._fU16 = 1.00000000;
    l_U818[1]._fU20 = 0;
    l_U818[1]._fU60 = "ho_an_flr006_ab_h";
    l_U818[1]._fU64 = 0;
    l_U818[2]._fU4 = {12, 27, 30};
    l_U818[2]._fU16 = 1.00000000;
    l_U818[2]._fU20 = 0;
    l_U818[2]._fU60 = "ho_an_flr006_ac_h";
    l_U818[2]._fU64 = 0;
    l_U818[3]._fU4 = {12, 27, 30};
    l_U818[3]._fU16 = 1.00000000;
    l_U818[3]._fU20 = 0;
    l_U818[3]._fU60 = "ho_an_flr006_ad_h";
    l_U818[3]._fU64 = 0;
    l_U818[4]._fU4 = {18, 47, 31.21900000};
    l_U818[4]._fU16 = 1.00000000;
    l_U818[4]._fU20 = 0;
    l_U818[4]._fU60 = "p_an_winfrm_aa_h";
    l_U818[4]._fU64 = 0;
    l_U818[5]._fU4 = {18, 47, 31.21900000};
    l_U818[5]._fU16 = 1.00000000;
    l_U818[5]._fU20 = 0;
    l_U818[5]._fU60 = "p_an_winfrm_ab_h";
    l_U818[5]._fU64 = 0;
    l_U818[6]._fU4 = {18, 47, 31.21900000};
    l_U818[6]._fU16 = 1.00000000;
    l_U818[6]._fU20 = 0;
    l_U818[6]._fU60 = "p_an_winfrm_ac_h";
    l_U818[6]._fU64 = 0;
    l_U818[7]._fU4 = {18, 47, 31.21900000};
    l_U818[7]._fU16 = 1.00000000;
    l_U818[7]._fU20 = 0;
    l_U818[7]._fU60 = "p_an_winfrm_ad_h";
    l_U818[7]._fU64 = 0;
    l_U955[0]._fU4 = {12, 27, 35};
    l_U955[0]._fU16 = 1.00000000;
    l_U955[0]._fU20 = 0;
    l_U955[0]._fU60 = "ho_an_flr007_aa_h";
    l_U955[0]._fU64 = 0;
    l_U955[1]._fU4 = {12, 27, 35};
    l_U955[1]._fU16 = 1.00000000;
    l_U955[1]._fU20 = 0;
    l_U955[1]._fU60 = "ho_an_flr007_ab_h";
    l_U955[1]._fU64 = 0;
    l_U955[2]._fU4 = {12, 27, 35};
    l_U955[2]._fU16 = 1.00000000;
    l_U955[2]._fU20 = 0;
    l_U955[2]._fU60 = "ho_an_flr007_ac_h";
    l_U955[2]._fU64 = 0;
    l_U955[3]._fU4 = {12, 27, 35};
    l_U955[3]._fU16 = 1.00000000;
    l_U955[3]._fU20 = 0;
    l_U955[3]._fU60 = "ho_an_flr007_ad_h";
    l_U955[3]._fU64 = 0;
    l_U955[4]._fU4 = {12, 27, 35};
    l_U955[4]._fU16 = 1.00000000;
    l_U955[4]._fU20 = 0;
    l_U955[4]._fU60 = "ho_an_flr007_ae_h";
    l_U955[4]._fU64 = 0;
    l_U955[5]._fU4 = {12, 27, 35};
    l_U955[5]._fU16 = 1.00000000;
    l_U955[5]._fU20 = 0;
    l_U955[5]._fU60 = "ho_an_flr007_af_h";
    l_U955[5]._fU64 = 0;
    l_U955[6]._fU4 = {12, 27, 35};
    l_U955[6]._fU16 = 1.00000000;
    l_U955[6]._fU20 = 0;
    l_U955[6]._fU60 = "ho_an_flr007_ag_h";
    l_U955[6]._fU64 = 0;
    l_U955[7]._fU4 = {18, 47, 36};
    l_U955[7]._fU16 = 1.00000000;
    l_U955[7]._fU20 = 0;
    l_U955[7]._fU60 = "p_an_winfrm_aa_h";
    l_U955[7]._fU64 = 0;
    l_U955[8]._fU4 = {18, 47, 36};
    l_U955[8]._fU16 = 1.00000000;
    l_U955[8]._fU20 = 0;
    l_U955[8]._fU60 = "p_an_winfrm_ab_h";
    l_U955[8]._fU64 = 0;
    l_U955[9]._fU4 = {18, 47, 36};
    l_U955[9]._fU16 = 1.00000000;
    l_U955[9]._fU20 = 0;
    l_U955[9]._fU60 = "p_an_winfrm_ac_h";
    l_U955[9]._fU64 = 0;
    l_U955[10]._fU4 = {18, 47, 36};
    l_U955[10]._fU16 = 1.00000000;
    l_U955[10]._fU20 = 0;
    l_U955[10]._fU60 = "p_an_winfrm_ad_h";
    l_U955[10]._fU64 = 0;
    l_U1143[0]._fU4 = {12, 27, 41};
    l_U1143[0]._fU16 = 1.00000000;
    l_U1143[0]._fU20 = 0;
    l_U1143[0]._fU60 = "ho_an_flrrof_aa_h";
    l_U1143[0]._fU64 = 0;
    l_U1143[1]._fU4 = {12, 27, 41};
    l_U1143[1]._fU16 = 1.00000000;
    l_U1143[1]._fU20 = 0;
    l_U1143[1]._fU60 = "ho_an_flrrof_ab_h";
    l_U1143[1]._fU64 = 0;
    l_U1143[2]._fU4 = {12, 27, 41};
    l_U1143[2]._fU16 = 1.00000000;
    l_U1143[2]._fU20 = 0;
    l_U1143[2]._fU60 = "ho_an_flrrof_ac_h";
    l_U1143[2]._fU64 = 0;
    l_U1143[3]._fU4 = {12, 27, 41};
    l_U1143[3]._fU16 = 1.00000000;
    l_U1143[3]._fU20 = 0;
    l_U1143[3]._fU60 = "ho_an_flrrof_ad_h";
    l_U1143[3]._fU64 = 0;
    return;
}

/* INIT_FX_LIST */ void sub_80401()
{
    int I;

    for ( I = 0; I < l_U205; I++ )
    {
        l_U205[I]._fU0 = nil;
        l_U205[I]._fU4 = {0.00000000, 0.00000000, 0.00000000};
        l_U205[I]._fU16 = {0.00000000, 0.00000000, 0.00000000};
        l_U205[I]._fU64 = 0;
    }
     /* ADD_FX_ENTRY */ sub_80590( "Ho_Collapse_Explo_01_S", 34.00000000, 48.00000000, 36.00000000, 0, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_80590( "Ho_Collapse_Explo_01_S", 34.00000000, 29.00000000, 35.00000000, 200, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_80590( "Ho_Collapse_Explo_01_S", 20.00000000, 17.00000000, 33.00000000, 800, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_80590( "Ho_Collapse_Explo_01_S", 15.00000000, -0.20000000, 33.00000000, 1000, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_80590( "Ho_Collapse_Explo_01_S", 17.00000000, 11.00000000, 33.00000000, 1500, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_80590( "Ho_Collapse_Explo_01_S", 35.00000000, 28.00000000, 20.00000000, 4500, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_80590( "Ho_Collapse_Explo_01_S", 22.00000000, -2.00000000, 24.00000000, 4500, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_80590( "Ho_Collapse_Explo_02_S", 30.00000000, 49.00000000, 38.00000000, 475, 0.00000000, -5.00000000, 25.00000000 );
     /* ADD_FX_ENTRY */ sub_80590( "Ho_Collapse_Explo_02_S", 30.00000000, 45.00000000, 24.00000000, 1050, 0.00000000, 0.00000000, 65511 );
     /* ADD_FX_ENTRY */ sub_80590( "Ho_Collapse_Explo_03_S", 28.00000000, 39.00000000, 34.00000000, 5500, 60.00000000, -20.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_80590( "Ho_Collapse_Explo_03_S", -8.00000000, 8.50000000, 34.00000000, 7000, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_80590( "Ho_Collapse_Explo_05_S", -9.00000000, 14.00000000, 41.00000000, 800, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_80590( "Ho_Collapse_Explo_05_S", 13.00000000, 38.00000000, 41.00000000, 400, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_80590( "HO_collapse_fire_01", 1.00000000, 22.00000000, 34.00000000, 3000, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_80590( "HO_collapse_fire_01", -8.00000000, 8.50000000, 34.00000000, 3000, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_80590( "HO_collapse_fire_01", 0.30000000, 3.50000000, 30.00000000, 3000, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_80590( "HO_collapse_fire_01", 7.30000000, 32.50000000, 29.80000000, 3000, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_80590( "HO_collapse_fire_01", 1.60000000, 20.80000000, 29.80000000, 3000, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_80590( "HO_collapse_fire_01", 5.60000000, 33.80000000, 34.80000000, 3000, 0.00000000, 0.00000000, 0.00000000 );
    return;
}

/* ADD_FX_ENTRY */ void sub_80590(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7)
{
    int I;

    for ( I = 0; I < l_U205; I++ )
    {
        if (IS_STRING_NULL( l_U205[I]._fU0 ))
        {
            l_U205[I]._fU0 = uParam0;
            l_U205[I]._fU4 = {uParam1};
            l_U205[I]._fU64 = uParam4;
            l_U205[I]._fU16 = {uParam5};
            return;
        }
    }
    return;
}

/* P_ROOF_START_FAIL_EVENT */ void sub_81902()
{
    DEACTIVATE_BULLET_TIME( 0, 0 );
    if (NOT IS_PLAYER_SHOOTDODGING())
    {
        ISEQ_REGISTER_ENTITY( -473924166, "Max",  /* PLAYER_PED_ID */ sub_4179(), 0 );
        ISEQ_START( -473924166 );
    }
     /* P_SHAKE_CAM */ sub_16603( "HAND_SHAKE", 8.00000000 );
     /* P_CAM_SHAKE_CREATE_STRUCT */ sub_28394( ref l_U1423, 3, 1.00000000, 10, -1, 1000, 0, 0 );
     /* P_CAM_SHAKE_ACTIVATE */ sub_57722( ref l_U1423 );
     /* P_ROOF_BUILDING_SHAKING_KNOCK_OVER_ENEMIES */ sub_56945();
    SET_PAD_SHAKE( 0, l_U1413, 100 );
    PLAY_SOUND_FROM_PED( -1, "S_HOTEL_FINAL_COLLAPSE_PRE_RUMBLE",  /* PLAYER_PED_ID */ sub_4179() );
    return;
}

/* P_CREATE_COLLAPSE_OBJECTS */ void sub_82201()
{
     /* P_RESET_ALL_COLLAPSE_COMPONENTS */ sub_82239();
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U750._fU0, -732347608, l_U750._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U767._fU0, 243792242, l_U767._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U784._fU0, -1037534607, l_U784._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U801._fU0, 1973799339, l_U801._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U818[0]._fU0, 67436979, l_U818[0]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U818[1]._fU0, -1618467083, l_U818[1]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U818[2]._fU0, -721108783, l_U818[2]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U818[3]._fU0, -2091080413, l_U818[3]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U818[4]._fU0, 1085034612, l_U818[4]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U818[5]._fU0, -246844569, l_U818[5]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U818[6]._fU0, -875689657, l_U818[6]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U818[7]._fU0, 286256608, l_U818[7]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U955[0]._fU0, 910452449, l_U955[0]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U955[1]._fU0, 1652823720, l_U955[1]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U955[2]._fU0, -1077107170, l_U955[2]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U955[3]._fU0, -863152154, l_U955[3]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U955[4]._fU0, -1683029998, l_U955[4]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U955[5]._fU0, 601604623, l_U955[5]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U955[6]._fU0, -2117158730, l_U955[6]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U955[7]._fU0, 1085034612, l_U955[7]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U955[8]._fU0, -246844569, l_U955[8]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U955[9]._fU0, -875689657, l_U955[9]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U955[10]._fU0, 286256608, l_U955[10]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U1143[0]._fU0, 508806708, l_U1143[0]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U1143[1]._fU0, 2124107981, l_U1143[1]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U1143[2]._fU0, 677554510, l_U1143[2]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_35829( ref l_U1143[3]._fU0, 1704523747, l_U1143[3]._fU4, 1, 1 );
    return;
}

/* P_RESET_ALL_COLLAPSE_COMPONENTS */ void sub_82239()
{
     /* P_RESET_BUILDING_COLLAPSE_COMPONENTS */ sub_82287( ref l_U750 );
     /* P_RESET_BUILDING_COLLAPSE_COMPONENTS */ sub_82287( ref l_U767 );
     /* P_RESET_BUILDING_COLLAPSE_COMPONENTS */ sub_82287( ref l_U784 );
     /* P_RESET_BUILDING_COLLAPSE_COMPONENTS */ sub_82287( ref l_U801 );
     /* P_RESET_BUILDING_COMPLEX_COLLAPSE_COMPONENTS */ sub_82399( ref l_U818 );
     /* P_RESET_BUILDING_COMPLEX_COLLAPSE_COMPONENTS */ sub_82399( ref l_U955 );
     /* P_RESET_BUILDING_COMPLEX_COLLAPSE_COMPONENTS */ sub_82399( ref l_U1143 );
    return;
}

/* P_RESET_BUILDING_COLLAPSE_COMPONENTS */ void sub_82287(int iParam0)
{
     /* CREATETIMER */ sub_4866( iParam0 + 24, iParam0->_fU20, 1, 0 );
    iParam0->_fU64 = 0;
    return;
}

/* P_RESET_BUILDING_COMPLEX_COLLAPSE_COMPONENTS */ void sub_82399(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
         /* CREATETIMER */ sub_4866( ref (uParam0^)[I]._fU24, (uParam0^)[I]._fU20, 1, 0 );
        (uParam0^)[I]._fU64 = 0;
    }
    return;
}

/* F_PLAY_ANIMS */ int sub_83416(boolean bParam0, boolean bParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    unknown uVar37;
    unknown uVar38;
    unknown uVar39;
    unknown uVar40;
    unknown uVar41;
    unknown uVar42;
    unknown uVar43;
    unknown uVar44;
    unknown uVar45;
    unknown uVar46;
    unknown uVar47;
    unknown uVar48;
    unknown uVar49;
    unknown uVar50;
    unknown uVar51;
    unknown uVar52;
    unknown uVar53;
    unknown uVar54;
    unknown uVar55;
    unknown uVar56;
    unknown uVar57;
    unknown uVar58;
    unknown uVar59;
    unknown uVar60;
    unknown uVar61;
    unknown uVar62;
    unknown uVar63;
    unknown uVar64;
    unknown uVar65;

    if (bParam1)
    {
         /* NIS_CREATE_STATIC_CAM */ sub_83469( ref uVar4, l_U1215, l_U1221, 1110704128, 1000 );
         /* NIS_CREATE_STATIC_CAM */ sub_83469( ref uVar35, l_U1218, l_U1224, l_U1227, l_U1228 );
         /* NIS_PLAY_INTERP_WITH_STATIC_CAMS */ sub_83747( ref uVar4, ref uVar35, uVar35._fU84, 1, 1 );
    }
    if (bParam0)
    {
        if (( /* F_HANDLE_COMPLEX_EXPLOSION */ sub_84287( ref l_U1143, 1 )) AND (( /* F_HANDLE_COMPLEX_EXPLOSION */ sub_84287( ref l_U955, 1 )) AND (( /* F_HANDLE_COMPLEX_EXPLOSION */ sub_84287( ref l_U818, 1 )) AND (( /* F_HANDLE_SIMPLE_EXPLOSION */ sub_83888( ref l_U801, 1 )) AND (( /* F_HANDLE_SIMPLE_EXPLOSION */ sub_83888( ref l_U784, 1 )) AND (( /* F_HANDLE_SIMPLE_EXPLOSION */ sub_83888( ref l_U767, 1 )) AND ( /* F_HANDLE_SIMPLE_EXPLOSION */ sub_83888( ref l_U750, 1 ))))))))
        {
             /* P_RESET_ALL_COLLAPSE_COMPONENTS */ sub_82239();
            return 1;
        }
    }
    else if (( /* F_HANDLE_COMPLEX_EXPLOSION */ sub_84287( ref l_U1143, 0 )) AND (( /* F_HANDLE_COMPLEX_EXPLOSION */ sub_84287( ref l_U955, 0 )) AND (( /* F_HANDLE_COMPLEX_EXPLOSION */ sub_84287( ref l_U818, 0 )) AND (( /* F_HANDLE_SIMPLE_EXPLOSION */ sub_83888( ref l_U801, 0 )) AND (( /* F_HANDLE_SIMPLE_EXPLOSION */ sub_83888( ref l_U784, 0 )) AND (( /* F_HANDLE_SIMPLE_EXPLOSION */ sub_83888( ref l_U767, 0 )) AND ( /* F_HANDLE_SIMPLE_EXPLOSION */ sub_83888( ref l_U750, 0 ))))))))
    {
         /* P_RESET_ALL_COLLAPSE_COMPONENTS */ sub_82239();
        return 1;
    }
    return 0;
}

/* NIS_CREATE_STATIC_CAM */ void sub_83469(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    iParam0->_fU4 = {uParam4};
    iParam0->_fU16 = {uParam1};
    iParam0->_fU28 = uParam7;
    iParam0->_fU32 = 0;
    iParam0->_fU36 = 0;
    iParam0->_fU84 = uParam8;
    iParam0->_fU88 = 0;
    iParam0->_fU92 = 0;
    iParam0->_fU40 = 0;
    iParam0->_fU44 = 0;
    iParam0->_fU100 = 1;
    iParam0->_fU104 = 1;
    iParam0->_fU96 = 0;
     /* CREATETIMER */ sub_4866( iParam0 + 48, uParam8, 1, 0 );
    iParam0->_fU0 = CREATE_CAM_WITH_PARAMS( ref g_U724, iParam0->_fU16, iParam0->_fU4, iParam0->_fU28, 1 );
    SET_CAM_PARAMS( iParam0->_fU0, iParam0->_fU16, iParam0->_fU4, iParam0->_fU28, 0, 1, 1 );
    return;
}

/* NIS_PLAY_INTERP_WITH_STATIC_CAMS */ void sub_83747(int iParam0, int iParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
    SET_CAM_ACTIVE_WITH_INTERP( iParam1->_fU0, iParam0->_fU0, uParam2, uParam3, uParam4 );
    RENDER_SCRIPT_CAMS( 1, 0, 3000, 0 );
     /* STARTTIMER */ sub_5016( iParam1 + 48 );
    iParam1->_fU32 = 1;
    iParam1->_fU40 = 1;
    return;
}

/* F_HANDLE_SIMPLE_EXPLOSION */ int sub_83888(int iParam0, boolean bParam1)
{
    char[64] cVar4;
    unknown uVar20;

    StrCopy( ref cVar4, "Playing anim : ", 64 );
    if (bParam1)
    {
        uVar20 = l_U1212;
    }
    else
    {
        uVar20 = iParam0->_fU16;
    }
    if (iParam0->_fU20 > 0)
    {
        if (NOT (ref iParam0->_fU24->_fU20))
        {
             /* P_CREATE_AND_START_TIMER */ sub_77316( iParam0 + 24, iParam0->_fU20 );
        }
        else if ( /* ISTIMERDONE */ sub_5149( iParam0 + 24 ))
        {
             /* WRITESCRIPTLOG */ sub_1750( "AT", "Delay timer is done!", 0 );
            ConcatString(ref cVar4, iParam0->_fU60, 64);
            PRINTSTRING( ref cVar4 );
            PRINTNL();
             /* MAL_PLAYOBJECTANIM */ sub_59895( iParam0->_fU0, iParam0->_fU60, "ho_anim_coll", uVar20, 0 );
            iParam0->_fU64 = 1;
        }
    }
    else if (NOT iParam0->_fU64)
    {
        ConcatString(ref cVar4, iParam0->_fU60, 64);
        PRINTSTRING( ref cVar4 );
        PRINTNL();
         /* MAL_PLAYOBJECTANIM */ sub_59895( iParam0->_fU0, iParam0->_fU60, "ho_anim_coll", uVar20, 0 );
        iParam0->_fU64 = 1;
    }
    if (NOT iParam0->_fU64)
    {
        return 0;
    }
    return 1;
}

/* F_HANDLE_COMPLEX_EXPLOSION */ int sub_84287(unknown uParam0, unknown uParam1)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
        if (NOT (uParam0^)[I]._fU64)
        {
             /* F_HANDLE_SIMPLE_EXPLOSION */ sub_83888( ref (uParam0^)[I], uParam1 );
        }
    }
    for ( I = 0; I < (uParam0^); I++ )
    {
        if (NOT (uParam0^)[I]._fU64)
        {
            return 0;
        }
    }
    return 1;
}

/* START_COLLAPSE_FX */ void sub_84579()
{
    int I;

    for ( I = 0; I < l_U205; I++ )
    {
        if (l_U205[I]._fU64 > 0)
        {
             /* CREATETIMER */ sub_4866( ref l_U205[I]._fU28, l_U205[I]._fU64, 1, 0 );
             /* STARTTIMER */ sub_5016( ref l_U205[I]._fU28 );
        }
        else if ((IS_STRING_NULL( l_U205[I]._fU0 )) == 0)
        {
             /* WRITESCRIPTLOG */ sub_1750( "BSW", "playing collapse FX without timer", 0 );
            START_PARTICLE_FX_NON_LOOPED_AT_COORD( l_U205[I]._fU0, l_U205[I]._fU4, l_U205[I]._fU16, 1065353216 );
        }
    }
    return;
}

/* HANDLE_COLLAPSE_FX */ void sub_85210()
{
    int I;

    for ( I = 0; I < l_U205; I++ )
    {
        if ( /* ISTIMERDONE */ sub_5149( ref l_U205[I]._fU28 ))
        {
             /* WRITESCRIPTLOG */ sub_1750( "BSW", "playing collapse FX with timer", 0 );
            START_PARTICLE_FX_NON_LOOPED_AT_COORD( l_U205[I]._fU0, l_U205[I]._fU4, l_U205[I]._fU16, 1065353216 );
        }
    }
    return;
}

/* P_IMAGEFX_START_BULLETCAM */ void sub_85431(unknown uParam0, boolean bParam1)
{
    PRINTSTRING( "[CO] P_IMAGEFX_START_BULLETCAM: Starting BulletCam: " );
    PRINTSTRING( uParam0 );
    PRINTNL();
     /* CLEANCAMERA */ sub_6457( ref l_U1231 );
    l_U1231 = CREATE_CAM( "DEFAULT_BULLET_CAMERA", 1 );
    SETUP_BULLET_CAMERA_SCENE( l_U1231, uParam0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, "", "" );
    if (bParam1)
    {
        RENDER_SCRIPT_CAMS( 1, 0, 3000, 0 );
    }
    return;
}

/* P_ROOF_1206_DELETE_DEAD_BODIES_IN_THE_WAY */ void sub_85767()
{
    int I;

     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_1206_DELETE_DEAD_BODIES_IN_THE_WAY start", 0 );
    for ( I = 0; I <= 9; I++ )
    {
        if (IS_PED_IN_GAMEPLAY_HELPER_BOX( l_U2145[I], "tb_Roof_1206_DeadBodySafeZone" ))
        {
             /* CLEANPED */ sub_9312( l_U2145[I] );
        }
    }
    for ( I = 0; I <= 0; I++ )
    {
        if (IS_PED_IN_GAMEPLAY_HELPER_BOX( l_U2248[I], "tb_Roof_1206_DeadBodySafeZone" ))
        {
             /* CLEANPED */ sub_9312( l_U2248[I] );
        }
    }
    for ( I = 0; I <= 2; I++ )
    {
        if (IS_PED_IN_GAMEPLAY_HELPER_BOX( l_U2361[I], "tb_Roof_1206_DeadBodySafeZone" ))
        {
             /* CLEANPED */ sub_9312( l_U2361[I] );
        }
    }
    if (IS_PED_IN_GAMEPLAY_HELPER_BOX( l_U2233, "tb_Roof_1206_DeadBodySafeZone" ))
    {
         /* CLEANPED */ sub_9312( l_U2233 );
    }
    if (IS_PED_IN_GAMEPLAY_HELPER_BOX( l_U2387, "tb_Roof_1206_DeadBodySafeZone" ))
    {
         /* CLEANPED */ sub_9312( l_U2387 );
    }
     /* WRITESCRIPTLOG */ sub_1750( "GA", "P_ROOF_1206_DELETE_DEAD_BODIES_IN_THE_WAY start", 0 );
    return;
}

/* PLAY_HOTEL_CUT_12_06 */ void sub_86507(boolean bParam0, boolean bParam1, unknown uParam2)
{
    int Result;

    Result = 0;
    if (IS_STRING_NULL( uParam2 ))
    {
        uParam2 = l_U1267;
    }
    switch (l_U1246)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_1750( "RJM", "PLAY_HOTEL_CUT_12_06 start", "*****" );
        l_U1265 = 0;
        l_U1266 = 0;
         /* P_INITIALIZE_BUIDLING_COMPONENTS */ sub_77982();
         /* INIT_FX_LIST */ sub_80401();
         /* P_LOAD_COLLAPSE_ASSETS */ sub_55292( 1 );
         /* LOADSEAMLESSCUTSCENE */ sub_30263( uParam2, 1 );
         /* NIS_PRE_SETUP */ sub_40869( 1, 0, 0, 1 );
        if (NOT bParam0)
        {
             /* BLOCKLOAD_HOTEL_CUT_12_06_ASSETS */ sub_86725();
        }
         /* CREATE_CUTSCENE_ONLY_12_06_PEDS */ sub_86850();
         /* REGISTER_PEDS_HOTEL_CUT_12_06 */ sub_87017( ref l_U1268 );
        REGISTER_HIDE_ENTITY_AT_POSITION( -1996980633, 8.84019000, 19.67155000, 44.08596000 );
        REGISTER_HIDE_ENTITY_AT_POSITION( 812253989, 11.45683000, 18.35566000, 44.08820000 );
        l_U1246 = 2;
        break;
        case 2:
        if (bParam0 == 1)
        {
            CUTSCENE_ENABLE_SKIP( 0 );
            CUTSCENE_REGISTER_SWITCH_TO_LEVEL_NAME( "s_police" );
            DISABLE_FADE_BETWEEN_SP_LEVELS();
            AUD_ENABLE_PRE_BINK_SHUTDOWN( 1 );
        }
        if (bParam1)
        {
            START_CUTSCENE_CAPTURE( uParam2 );
        }
        START_SEAMLESS_CUTSCENE();
        if (NOT IS_BULLET_CAMERA_TO_GAMEPLAY_ALLOWED())
        {
            ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
        }
        l_U1246 = 3;
        break;
        case 3:
        l_U1246 = 4;
        break;
        case 4:
        if ((l_U1232 == 6) AND (GET_CUTSCENE_TIME_MS() >= 68955))
        {
             /* WRITESCRIPTLOG */ sub_1750( "BSW", " cutscene fading out music", 0 );
            l_U1233 = 6;
        }
        if (NOT l_U1266)
        {
            if (GET_CUTSCENE_TIME_MS() >= 73000)
            {
                 /* WRITESCRIPTLOG */ sub_1750( "GA", "Creating collapse rayfire objects.", 0 );
                 /* P_CREATE_COLLAPSE_OBJECTS */ sub_82201();
                l_U1266 = 1;
            }
        }
        if (GET_CUTSCENE_TIME_MS() >= 72986)
        {
            if (NOT (IS_VEHICLE_DEAD( g_U991 )))
            {
                SET_VEHICLE_ENGINE_ON( g_U991, 1, 1 );
                SET_HELI_BLADES_FULL_SPEED( g_U991 );
            }
        }
        if (GET_CUTSCENE_TIME_MS() > 77000)
        {
            if (NOT l_U1265)
            {
                 /* WRITESCRIPTLOG */ sub_1750( "BSW", "starting collapse in 12_06", 0 );
                l_U1265 = 1;
                 /* F_PLAY_ANIMS */ sub_83416( 1, 0 );
                 /* START_COLLAPSE_FX */ sub_84579();
            }
            else
            {
                 /* HANDLE_COLLAPSE_FX */ sub_85210();
            }
        }
        if (HAS_CUTSCENE_FINISHED())
        {
             /* P_PLAYER_UNHOLSTER_WEAPONS */ sub_88969( l_U1247, 1 );
             /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_87981( l_U1247, 1 );
            l_U1246 = 5;
        }
        break;
        case 5:
        if (bParam1)
        {
            STOP_CUTSCENE_CAPTURE();
        }
        Result = 1;
         /* CLEANPEDARRAY */ sub_9262( ref l_U1268 );
        if (NOT bParam0)
        {
             /* UNLOAD_HOTEL_CUT_12_06_ASSETS */ sub_89227();
        }
         /* NIS_POST_SETUP */ sub_48921( 1, 1 );
        l_U1246 = 0;
         /* WRITESCRIPTLOG */ sub_1750( "RJM", "PLAY_HOTEL_CUT_12_06 end", "*****" );
        break;
        case 0:
        l_U1246 = 1;
        break;
    }
    return Result;
}

/* BLOCKLOAD_HOTEL_CUT_12_06_ASSETS */ void sub_86725()
{
     /* WRITESCRIPTLOG */ sub_1750( "RJM", "BLOCKLOAD_HOTEL_CUT_12_06_ASSETS", "***" );
     /* BLOCKLOADMODEL */ sub_45745( 1844299595 );
     /* BLOCKLOADMODEL */ sub_45745( -1071978962 );
    return;
}

/* CREATE_CUTSCENE_ONLY_12_06_PEDS */ void sub_86850()
{
    int I;

     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U1271[0], 0, 0, 0, 0, 1460404455, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_23149( ref l_U1271[1], 0, 0, 0, 0, 1827385398, 26, 6, 0, 0, 0 );
    for ( I = 0; I <= (l_U1268 - 1); I++ )
    {
        l_U1268[I] =  /* CREATEPED */ sub_32087( ref l_U1271[I] );
    }
    return;
}

/* REGISTER_PEDS_HOTEL_CUT_12_06 */ void sub_87017(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_1750( "RJM", "REGISTER_PEDS_HOTEL_CUT_12_06", "***" );
    if ( /* IS_MAX_VALID */ sub_15172())
    {
         /* P_PLAYER_HOLSTER_WEAPONS */ sub_87124( ref l_U1247, 1, 1 );
         /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_87981( l_U1247, 0 );
         /* P_EQUIP_PLAYER_WITH_SINGLE_HANDED_WEAPON */ sub_46720( 1 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 0, 0 ), "W_PI_Glk18_Aa_H", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_4179(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
    }
     /* REGISTER_PED_WITH_12_06 */ sub_88239( ref (uParam0^)[0], "Nevs_Unif" );
     /* REGISTER_PED_WITH_12_06 */ sub_88239( ref (uParam0^)[1], "Pass_Comb" );
    REGISTER_HIDE_ENTITY_AT_POSITION( -1996980633, 8.84019000, 19.67155000, 42.58596000 );
    REGISTER_HIDE_ENTITY_AT_POSITION( 812253989, 11.45683000, 18.35566000, 42.58820000 );
    if (NOT (IS_VEHICLE_DEAD( g_U991 )))
    {
        REGISTER_VEHICLE_PRE_SEAMLESS_CUTSCENE( g_U991, "heli_cp", 0 );
    }
    return;
}

/* P_PLAYER_HOLSTER_WEAPONS */ void sub_87124(int iParam0, int iParam1, unknown uParam2)
{
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;

     /* RESET_WEAPON_CONFIG */ sub_87163( iParam0 );
    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )) == 0)
    {
        uVar5 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
        {
            if (( /* IS_WEAPON_SINGLE_HANDED */ sub_44447( uVar5 )) == 1)
            {
                ref iParam0->_fU0->_fU0 = uVar5;
                ref iParam0->_fU0->_fU4 = GET_WEAPON_TYPE( uVar5 );
            }
            else if (( /* IS_WEAPON_TWO_HANDED */ sub_47119( uVar5 )) == 1)
            {
                ref iParam0->_fU24->_fU0 = uVar5;
                ref iParam0->_fU24->_fU4 = GET_WEAPON_TYPE( uVar5 );
            }
        }
        uVar6 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar6 )) == 1)
        {
            ref iParam0->_fU12->_fU0 = uVar6;
            ref iParam0->_fU12->_fU4 = GET_WEAPON_TYPE( uVar6 );
        }
        uVar7 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_4179(), 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar7 )) == 1)
        {
            ref iParam0->_fU36->_fU0 = uVar7;
            ref iParam0->_fU36->_fU4 = GET_WEAPON_TYPE( uVar7 );
        }
        uVar8 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_4179(), 1 );
        if ((GET_DOES_WEAPON_EXIST( uVar8 )) == 1)
        {
            ref iParam0->_fU48->_fU0 = uVar8;
            ref iParam0->_fU48->_fU4 = GET_WEAPON_TYPE( uVar8 );
        }
        uVar9 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_4179(), 2 );
        if ((GET_DOES_WEAPON_EXIST( uVar9 )) == 1)
        {
            ref iParam0->_fU60->_fU0 = uVar9;
            ref iParam0->_fU60->_fU4 = GET_WEAPON_TYPE( uVar9 );
        }
    }
    if (iParam1 == 0)
    {
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )) == 0)
        {
            uVar10 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar10 )) == 1)
            {
                SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_4179(), 0, 0, uParam2 );
            }
            uVar11 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 1, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar11 )) == 1)
            {
                SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_4179(), 0, 1, uParam2 );
            }
        }
    }
    else if (iParam1 == 1)
    {
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )) == 0)
        {
            uVar12 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar12 )) == 1)
            {
                if (( /* IS_WEAPON_TWO_HANDED */ sub_47119( uVar12 )) == 1)
                {
                    SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_4179(), 0, 0, uParam2 );
                }
            }
            uVar13 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4179(), 1, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar13 )) == 1)
            {
                SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_4179(), 0, 1, uParam2 );
            }
        }
    }
    return;
}

/* RESET_WEAPON_CONFIG */ void sub_87163(int iParam0)
{
    ref iParam0->_fU0->_fU0 = 0;
    ref iParam0->_fU0->_fU4 = 0;
    ref iParam0->_fU12->_fU0 = 0;
    ref iParam0->_fU12->_fU4 = 0;
    ref iParam0->_fU24->_fU0 = 0;
    ref iParam0->_fU24->_fU4 = 0;
    ref iParam0->_fU36->_fU0 = 0;
    ref iParam0->_fU36->_fU4 = 0;
    ref iParam0->_fU48->_fU0 = 0;
    ref iParam0->_fU48->_fU4 = 0;
    ref iParam0->_fU60->_fU0 = 0;
    ref iParam0->_fU60->_fU4 = 0;
    return;
}

/* P_SET_TWO_HANDED_WEAPON_VISIBLE */ void sub_87981(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18)
{
    unknown uVar21;
    unknown uVar22;

    uVar21 = uParam0._fU24._fU0;
    if ((GET_DOES_WEAPON_EXIST( uVar21 )) == 1)
    {
        SET_WEAPON_VISIBLE( uVar21, uParam18 );
    }
    uVar22 = uParam0._fU60._fU0;
    if ((GET_DOES_WEAPON_EXIST( uVar22 )) == 1)
    {
        SET_WEAPON_VISIBLE( uVar22, uParam18 );
    }
    return;
}

/* REGISTER_PED_WITH_12_06 */ void sub_88239(unknown uParam0, unknown uParam1)
{
    if ( /* IS_PED_VALID */ sub_15202( (uParam0^) ))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam0^), uParam1, 1 );
        SET_PED_NAME_DEBUG( (uParam0^), uParam1 );
    }
    return;
}

/* P_PLAYER_UNHOLSTER_WEAPONS */ void sub_88969(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18)
{
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4179() )) == 0)
    {
        uVar21 = uParam0._fU0._fU0;
        if ((GET_DOES_WEAPON_EXIST( uVar21 )) == 1)
        {
            SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_4179(), uVar21, 0, uParam18 );
        }
        uVar22 = uParam0._fU12._fU0;
        if ((GET_DOES_WEAPON_EXIST( uVar22 )) == 1)
        {
            SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_4179(), uVar22, 1, uParam18 );
        }
        uVar23 = uParam0._fU24._fU0;
        if ((GET_DOES_WEAPON_EXIST( uVar23 )) == 1)
        {
            SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_4179(), uVar23, 0, uParam18 );
        }
    }
    return;
}

/* UNLOAD_HOTEL_CUT_12_06_ASSETS */ void sub_89227()
{
     /* WRITESCRIPTLOG */ sub_1750( "RJM", "UNLOAD_HOTEL_CUT_12_06_ASSETS", "***" );
     /* UNLOADMODEL */ sub_10155( 1844299595 );
     /* UNLOADMODEL */ sub_10155( -1071978962 );
    return;
}

/* P_DEBUG_ROOF_RAYFIRE_TUNING_WIDGET */ void sub_89580()
{
    if (NOT l_U2908)
    {
        START_WIDGET_GROUP( "Roof Rayfire Tuning" );
        ADD_WIDGET_BOOL( "Start Rayfire Tuning", ref l_U2909 );
         /* P_DEBUG_CREATE_EXPLOSION1_WIDGET */ sub_89703();
         /* P_DEBUG_CREATE_EXPLOSION2_WIDGET */ sub_90581();
         /* P_DEBUG_CREATE_CORNER_EXPLOSION_WIDGET */ sub_91338();
         /* P_DEBUG_CREATE_BACK_COLLAPSE_WIDGET */ sub_91895();
         /* P_DEBUG_CREATE_MID_COLLAPSE_WIDGET */ sub_92370();
         /* P_DEBUG_CREATE_HALL_COLLAPSE_WIDGET */ sub_92990();
        START_WIDGET_GROUP( "Building Shaking" );
        ADD_WIDGET_BOOL( "Test Building Shaking", ref l_U2910 );
        ADD_WIDGET_BOOL( "End Building Shaking", ref l_U2911 );
        ADD_WIDGET_FLOAT_SLIDER( "Cam Shake Amplitude", ref l_U1747, 0.00000000, 100.00000000, 0.01000000 );
        ADD_WIDGET_INT_SLIDER( "Cam Shake duration", ref l_U1748, 0, 10000000, 50 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        l_U2908 = 1;
    }
    if (l_U2909)
    {
         /* P_CLEANUP_ALL */ sub_6600();
        l_U1347 = 0;
        l_U2909 = 0;
    }
    if (l_U2910)
    {
         /* P_ROOF_TRIGGER_BUILDING_SHAKING */ sub_56587();
        l_U2910 = 0;
    }
    if (l_U2911)
    {
         /* P_ROOF_END_BUILDING_SHAKING */ sub_58013();
        l_U2911 = 0;
    }
    if (l_U2636)
    {
         /* CLEAN_ALL_ROOFTOP_EXPLOSION2_OBJECTS */ sub_8271();
         /* CREATE_EXPLOSION2_OBJECTS */ sub_36468();
        l_U2636 = 0;
    }
    if (l_U2637)
    {
         /* CLEAN_ALL_ROOFTOP_EXPLOSION2_OBJECTS */ sub_8271();
         /* CREATE_EXPLOSION2_OBJECTS */ sub_36468();
         /* START_EXPLOSION2 */ sub_65854();
        l_U2637 = 0;
    }
    if (l_U2664)
    {
         /* CLEAN_EXPLOSION1 */ sub_8065();
         /* CREATE_EXPLOSION1_OBJECTS */ sub_35765();
        l_U2664 = 0;
    }
    if (l_U2665)
    {
         /* CLEAN_EXPLOSION1 */ sub_8065();
         /* CREATE_EXPLOSION1_OBJECTS */ sub_35765();
         /* START_EXPLOSION1 */ sub_59637();
        l_U2665 = 0;
    }
    if (l_U2693)
    {
         /* P_CLEAN_ROOFTOP_CORNER_EXPLOSION */ sub_8817();
         /* P_CREATE_ROOFTOP_CORNER_EXPLOSION */ sub_38513();
        l_U2693 = 0;
    }
    if (l_U2694)
    {
         /* P_CLEAN_ROOFTOP_CORNER_EXPLOSION */ sub_8817();
         /* P_CREATE_ROOFTOP_CORNER_EXPLOSION */ sub_38513();
         /* P_START_ROOFTOP_CORNER_EXPLOSION */ sub_75954();
        l_U2694 = 0;
    }
    if (l_U2715)
    {
         /* P_CLEAN_ROOFTOP_BACK_COLLAPSE */ sub_8408();
         /* P_CREATE_ROOFTOP_BACK_COLLAPSE */ sub_36871();
        l_U2715 = 0;
    }
    if (l_U2716)
    {
         /* P_CLEAN_ROOFTOP_BACK_COLLAPSE */ sub_8408();
         /* P_CREATE_ROOFTOP_BACK_COLLAPSE */ sub_36871();
         /* P_START_ROOFTOP_BACK_COLLAPSE */ sub_53611();
        l_U2716 = 0;
    }
    if (l_U2742)
    {
         /* P_CLEAN_ROOFTOP_MID_COLLAPSE */ sub_8614();
         /* P_CREATE_ROOFTOP_MID_COLLAPSE */ sub_37540();
        l_U2742 = 0;
    }
    if (l_U2743)
    {
         /* P_CLEAN_ROOFTOP_MID_COLLAPSE */ sub_8614();
         /* P_CREATE_ROOFTOP_MID_COLLAPSE */ sub_37540();
         /* P_START_ROOFTOP_MID_COLLAPSE */ sub_61359();
        l_U2743 = 0;
    }
    if (l_U2761)
    {
         /* P_CLEAN_ROOFTOP_HALL_COLLAPSE */ sub_9062();
         /* P_CREATE_ROOFTOP_HALL_COLLAPSE */ sub_39447();
        l_U2761 = 0;
    }
    if (l_U2762)
    {
         /* P_CLEAN_ROOFTOP_HALL_COLLAPSE */ sub_9062();
         /* P_CREATE_ROOFTOP_HALL_COLLAPSE */ sub_39447();
         /* P_START_ROOFTOP_HALL_COLLAPSE */ sub_70194();
        l_U2762 = 0;
    }
    return;
}

/* P_DEBUG_CREATE_EXPLOSION1_WIDGET */ void sub_89703()
{
    START_WIDGET_GROUP( "Explosion 01" );
    ADD_WIDGET_BOOL( "Create Explosion 01", ref l_U2664 );
    ADD_WIDGET_BOOL( "Play Explosion 01", ref l_U2665 );
    ADD_WIDGET_INT_SLIDER( "Bullet Time Duration", ref l_U2663, 0, 100000, 25 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_FLREXP_BB_H Speed", ref l_U2648, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_FLREXP_BC_H Speed", ref l_U2647, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_FLREXP_BD_H Speed", ref l_U2653, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_FNCSKN_AA_H Speed", ref l_U2649, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_FNCSKN_AB_H Speed", ref l_U2650, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_BIGPIP_AA_H Speed", ref l_U2651, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_ELECAB_AA_H Speed", ref l_U2652, 0.00000000, 1.00000000, 0.01000000 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_90277( ref l_U2654, "HO_Explode1_S position", 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "HO_Explode1_S scale", ref l_U2657, 0.00000000, 1000.00000000, 0.10000000 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_90277( ref l_U2659, "HO_GasLineFire_S A position", 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "HO_GasLineFire_S A scale", ref l_U2662, 0.00000000, 1000.00000000, 0.01000000 );
    STOP_WIDGET_GROUP();
    return;
}

/* P_ADD_WIDGET_VECTOR_SLIDER */ void sub_90277(int iParam0, unknown uParam1, unknown uParam2)
{
    START_WIDGET_GROUP( uParam1 );
    ADD_WIDGET_FLOAT_SLIDER( "x", iParam0 + 0, 60536, 5000, uParam2 );
    ADD_WIDGET_FLOAT_SLIDER( "y", iParam0 + 4, 60536, 5000, uParam2 );
    ADD_WIDGET_FLOAT_SLIDER( "z", iParam0 + 8, 60536, 5000, uParam2 );
    STOP_WIDGET_GROUP();
    return;
}

/* P_DEBUG_CREATE_EXPLOSION2_WIDGET */ void sub_90581()
{
    START_WIDGET_GROUP( "Explosion 02" );
    ADD_WIDGET_BOOL( "Create Explosion 02", ref l_U2636 );
    ADD_WIDGET_BOOL( "Play Explosion 02", ref l_U2637 );
    ADD_WIDGET_INT_SLIDER( "Bullet Time Duration", ref l_U2635, 0, 100000, 25 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_DORBEN_AA_H Speed", ref l_U2613, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_FENBEN_AA_H Speed", ref l_U2614, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_WALEXP_AA_H Speed", ref l_U2621, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_WALEXP_AB_H Speed", ref l_U2622, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_WALEXP_BA_H Speed", ref l_U2617, 0.00000000, 1.00000000, 0.01000000 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_90277( ref l_U2623, "HOTEL_Blast_ACWall_S Position", 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "HOTEL_Blast_ACWall_S Scale", ref l_U2626, 0.00000000, 100.00000000, 0.10000000 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_90277( ref l_U2627, "HOTEL_AC_Steam_S A Position", 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "HOTEL_Blast_ACWall_S A Scale", ref l_U2630, 0.00000000, 100.00000000, 0.10000000 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_90277( ref l_U2631, "HOTEL_AC_Steam_S B Position", 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "HOTEL_Blast_ACWall_S B Scale", ref l_U2634, 0.00000000, 100.00000000, 0.10000000 );
    STOP_WIDGET_GROUP();
    return;
}

/* P_DEBUG_CREATE_CORNER_EXPLOSION_WIDGET */ void sub_91338()
{
    START_WIDGET_GROUP( "Corner Explosion" );
    ADD_WIDGET_BOOL( "Create Explosion 01", ref l_U2693 );
    ADD_WIDGET_BOOL( "Play Explosion 01", ref l_U2694 );
    ADD_WIDGET_INT_SLIDER( "Bullet Time Duration", ref l_U2692, 0, 100000, 25 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_FLREXP_AA_H Speed", ref l_U2672, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_FLREXP_AB_H Speed", ref l_U2673, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_ACUEXP_AA_H Speed", ref l_U2681, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_ACUEXP_AB_H Speed", ref l_U2682, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_HO_SATEXP_AA_H Speed", ref l_U2687, 0.00000000, 1.00000000, 0.01000000 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_90277( ref l_U2688, "HO_Corner_Explo_S position", 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "HO_Corner_Explo_S scale", ref l_U2691, 0.00000000, 10000.00000000, 0.10000000 );
    STOP_WIDGET_GROUP();
    return;
}

/* P_DEBUG_CREATE_BACK_COLLAPSE_WIDGET */ void sub_91895()
{
    START_WIDGET_GROUP( "Back Collapse" );
    ADD_WIDGET_BOOL( "Create Back Collapse", ref l_U2715 );
    ADD_WIDGET_BOOL( "Play Back Collapse", ref l_U2716 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_FLR_COL_BA Speed", ref l_U2703, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_FLR_COL_BD Speed", ref l_U2704, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_FLR_COL_BE Speed", ref l_U2705, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_WAL_COL_AA Speed", ref l_U2710, 0.00000000, 1.00000000, 0.01000000 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_90277( ref l_U2711, "HOTEL_Blast_Side_collapse_S position", 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "HOTEL_Blast_Side_collapse_S scale", ref l_U2714, 0.00000000, 10000.00000000, 0.10000000 );
    STOP_WIDGET_GROUP();
    return;
}

/* P_DEBUG_CREATE_MID_COLLAPSE_WIDGET */ void sub_92370()
{
    START_WIDGET_GROUP( "Mid Collapse" );
    ADD_WIDGET_BOOL( "Create Mid Collapse", ref l_U2742 );
    ADD_WIDGET_BOOL( "Play Mid Collapse", ref l_U2743 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_FLR_HOL_DA Speed", ref l_U2729, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_FLR_HOL_DB Speed", ref l_U2730, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_FLR_HOL_DC Speed", ref l_U2731, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_FLREXP_WC_H Speed", ref l_U2732, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_BIGPIP_WA_H Speed", ref l_U2733, 0.00000000, 1.00000000, 0.01000000 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_90277( ref l_U2734, "HOTEL_Mid_collapse_S position", 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "HOTEL_Mid_collapse_S scale", ref l_U2737, 0.00000000, 100.00000000, 0.10000000 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_90277( ref l_U2738, "HOTEL_AC_MID_SteamVent_S position", 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "HOTEL_AC_MID_SteamVent_S scale", ref l_U2741, 0.00000000, 100.00000000, 0.10000000 );
    STOP_WIDGET_GROUP();
    return;
}

/* P_DEBUG_CREATE_HALL_COLLAPSE_WIDGET */ void sub_92990()
{
    START_WIDGET_GROUP( "Hall Collapse" );
    ADD_WIDGET_BOOL( "Create Hall Collapse", ref l_U2761 );
    ADD_WIDGET_BOOL( "Play Hall Collapse", ref l_U2762 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_HALBOX_AA Speed", ref l_U2754, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_HALBOX_AB Speed", ref l_U2755, 0.00000000, 1.00000000, 0.01000000 );
    ADD_WIDGET_FLOAT_SLIDER( "P_AN_MICTWR_AA Speed", ref l_U2756, 0.00000000, 1.00000000, 0.01000000 );
     /* P_ADD_WIDGET_VECTOR_SLIDER */ sub_90277( ref l_U2757, "HOTEL_Blast_Hall_Lrg_S position", 0.10000000 );
    ADD_WIDGET_FLOAT_SLIDER( "HOTEL_Blast_Hall_Lrg_S Scale", ref l_U2760, 0.00000000, 100.00000000, 0.10000000 );
    STOP_WIDGET_GROUP();
    return;
}

/* P_UNLOAD_ASSETS */ void sub_94047()
{
    int I;

     /* WRITESCRIPTLOG */ sub_1750( "MW", "P_UNLOAD_ROOF_ASSETS start", 0 );
     /* P_RELEASE_COLLAPSE_ASSETS */ sub_94115();
    for ( I = 0; I < l_U1355; I++ )
    {
         /* UNLOADMODEL */ sub_10155( l_U1355[I] );
    }
     /* UNLOADMODEL */ sub_10155( -1071978962 );
     /* UNLOADMODEL */ sub_10155( 1721151522 );
     /* UNLOADANIMDICT */ sub_10035( "LEVEL_S_HOTEL_CP_11" );
     /* UNLOADANIMDICT */ sub_10035( "AMED_HEVY_CORE" );
     /* UNLOADANIMDICT */ sub_10035( "LEVEL_S_HOTEL_CP_09" );
     /* UNLOADACTIONTREE */ sub_10103( "NPC/BOSS_HeavyGunner" );
     /* WRITESCRIPTLOG */ sub_1750( "MW", "P_UNLOAD_ROOF_ASSETS end", 0 );
    return;
}

/* P_RELEASE_COLLAPSE_ASSETS */ void sub_94115()
{
     /* UNLOADMODEL */ sub_10155( -732347608 );
     /* UNLOADMODEL */ sub_10155( 243792242 );
     /* UNLOADMODEL */ sub_10155( -1037534607 );
     /* UNLOADMODEL */ sub_10155( 1973799339 );
     /* UNLOADMODEL */ sub_10155( 67436979 );
     /* UNLOADMODEL */ sub_10155( -1618467083 );
     /* UNLOADMODEL */ sub_10155( -721108783 );
     /* UNLOADMODEL */ sub_10155( -2091080413 );
     /* UNLOADMODEL */ sub_10155( 910452449 );
     /* UNLOADMODEL */ sub_10155( 1652823720 );
     /* UNLOADMODEL */ sub_10155( -1077107170 );
     /* UNLOADMODEL */ sub_10155( -863152154 );
     /* UNLOADMODEL */ sub_10155( -1683029998 );
     /* UNLOADMODEL */ sub_10155( 601604623 );
     /* UNLOADMODEL */ sub_10155( -2117158730 );
     /* UNLOADMODEL */ sub_10155( 508806708 );
     /* UNLOADMODEL */ sub_10155( 2124107981 );
     /* UNLOADMODEL */ sub_10155( 677554510 );
     /* UNLOADMODEL */ sub_10155( 1704523747 );
     /* UNLOADMODEL */ sub_10155( 1085034612 );
     /* UNLOADMODEL */ sub_10155( -246844569 );
     /* UNLOADMODEL */ sub_10155( -875689657 );
     /* UNLOADMODEL */ sub_10155( 286256608 );
    return;
}

