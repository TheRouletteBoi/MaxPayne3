void main()
{
    l_U0 = 1;
    l_U1 = 144;
    l_U20 = 1;
    l_U21 = 0;
    l_U68 = "PED_DEF";
    l_U110 = 1.00000000;
    l_U122 = 0;
    l_U163 = 0;
    l_U183 = 1;
    l_U202 = "mid_01_hotel_intro";
    l_U203 = 1;
    l_U252 = "MID_02_HOTEL_concat";
    l_U253 = 1;
    l_U302 = "MID_03_HOTEL_concat";
    l_U303 = 0;
    l_U304 = 1;
    l_U323 = "MID_04_HOTEL";
    l_U324 = 1;
    l_U325 = "MID_05_HOTEL";
    l_U326 = 1;
    l_U345 = "MID_07_HOTEL_concat";
    l_U346 = 1;
    l_U396 = "MID_08_HOTEL_concat";
    l_U397 = "MID_08_HOTELB_concat";
    l_U456 = 1;
    l_U457 = "MID_09_HOTEL_concat";
    l_U507 = {323.62230000, 363.08290000, -3.68839000};
    l_U510 = {8.19900400, 54.96789000, -0.01439600};
    l_U513 = {308.92420000, 391.37540000, -0.25633100};
    l_U516 = {66.99126000, 30.54711000, -0.27319800};
    l_U519 = 1;
    l_U538 = "12_01_HOTEL_concat";
    l_U570 = 0;
    l_U571 = 0;
    l_U572 = 1;
    l_U591 = "12_02_HOTEL_concat";
    l_U721 = 1;
    l_U740 = "12_03_HOTEL_concat";
    l_U771 = 1;
    l_U791 = 0;
    l_U792 = "12_04_HOTEL_concat";
    l_U804 = 0.50000000;
    l_U805 = 0.40000000;
    l_U806 = 0.40000000;
    l_U807 = 0.30000000;
    l_U808 = 0.30000000;
    l_U812 = 0.60000000;
    l_U813 = 0.80000000;
    l_U816 = 0.80000000;
    l_U820 = 0.80000000;
    l_U821 = 0.70000000;
    l_U822 = {5.91000000, 8.21000000, 44.03000000};
    l_U825 = 1.00000000;
    l_U826 = {6.60000000, 7.60000000, 44.10000000};
    l_U829 = 1.00000000;
    l_U830 = {6.90000000, 8.80000000, 44.30000000};
    l_U833 = 1.00000000;
    l_U834 = 500;
    l_U835 = 0;
    l_U836 = 0;
    l_U846 = 0.85000000;
    l_U847 = 1.00000000;
    l_U848 = 0.85000000;
    l_U849 = 0.85000000;
    l_U850 = 0.85000000;
    l_U851 = 0.80000000;
    l_U852 = 0.80000000;
    l_U853 = {13.50000000, 26.50000000, 40.10000000};
    l_U856 = 1.00000000;
    l_U857 = 0;
    l_U858 = {14.89120000, 27.00090000, 41.51830000};
    l_U861 = 1.00000000;
    l_U862 = 600;
    l_U868 = 1844478068;
    l_U869 = -1455579663;
    l_U870 = -1563045636;
    l_U871 = 1.00000000;
    l_U872 = 1.00000000;
    l_U877 = 1188691208;
    l_U878 = -895442446;
    l_U879 = 638412747;
    l_U880 = 1.00000000;
    l_U881 = 1.00000000;
    l_U884 = -1911968389;
    l_U885 = -1210755311;
    l_U886 = 1.00000000;
    l_U887 = {-9.50000000, 1.00000000, 41.00000000};
    l_U890 = 1.00000000;
    l_U891 = 700;
    l_U892 = 0;
    l_U893 = 0;
    l_U898 = -1318069598;
    l_U899 = -138770415;
    l_U900 = 1085512198;
    l_U901 = -2014992279;
    l_U902 = 1.00000000;
    l_U903 = 1.00000000;
    l_U904 = 1.00000000;
    l_U907 = 1379132568;
    l_U908 = -1478959939;
    l_U909 = 1.00000000;
    l_U910 = {3.60000000, 41.00000000, 39.60000000};
    l_U913 = 1.00000000;
    l_U914 = 0;
    l_U915 = 0;
    l_U922 = 1954663832;
    l_U923 = 936208156;
    l_U924 = -127310191;
    l_U925 = -433077730;
    l_U926 = -1880750327;
    l_U927 = 694618066;
    l_U928 = 1.00000000;
    l_U929 = 1.00000000;
    l_U930 = 1.00000000;
    l_U931 = 1.00000000;
    l_U932 = 1.00000000;
    l_U933 = {9.15000000, 31.12000000, 39.74000000};
    l_U936 = 1.00000000;
    l_U937 = {4.70000000, 29.60000000, 42.36000000};
    l_U940 = 1.00000000;
    l_U941 = 0;
    l_U942 = 0;
    l_U948 = -1901851883;
    l_U949 = 712645242;
    l_U950 = -1062877481;
    l_U951 = 1849270784;
    l_U952 = -237396474;
    l_U953 = 1.00000000;
    l_U954 = 1.00000000;
    l_U955 = 1.00000000;
    l_U956 = {24.84000000, 29.83000000, 42.75000000};
    l_U959 = 1.00000000;
    l_U960 = 0;
    l_U961 = 0;
    l_U962 = 1;
    l_U981 = "12_05_HOTEL_concat";
    l_U1098 = 0;
    l_U1099 = 1;
    l_U1100 = 0;
    l_U1101 = 1.00000000;
    l_U1102 = -5.00000000;
    l_U1103 = 0;
    l_U1104 = 0;
    l_U1105 = 0;
    l_U1109 = 42;
    l_U1110 = 0;
    l_U1111 = 0;
    l_U1112 = 0;
    l_U1113 = 0;
    l_U1114 = 0;
    l_U1115 = 90.00000000;
    l_U1116 = {0.00000000, 0.00000000, 0.00000000};
    l_U1119 = {0.00000000, 0.00000000, 0.00000000};
    l_U1122 = 0;
    l_U1123 = 0;
    l_U1124 = 0;
    l_U1125 = 0;
    l_U1126 = 0;
    l_U1127 = 0;
    l_U1128 = nil;
    l_U1129 = {0.00000000, 0.00000000, 0.00000000};
    l_U1132 = 0;
    l_U1133 = 0;
    l_U1134 = 0;
    l_U1135 = -1;
    l_U1136 = {64536, 64536, 64536};
    l_U1139 = 1;
    l_U2147 = 1.00000000;
    l_U2148 = 0;
    l_U2149 = 0;
    l_U2150 = {51.00000000, -14.00000000, 50.00000000};
    l_U2153 = {75.00000000, -48.00000000, 65.00000000};
    l_U2156 = {-19.45000000, 0.00000000, 49.15000000};
    l_U2159 = {-23.00000000, 0.00000000, 48.00000000};
    l_U2162 = 50.00000000;
    l_U2163 = 13500;
    l_U2164 = 1;
    l_U2183 = 0;
    l_U2184 = 0;
    l_U2185 = "12_06_HOTEL_concat";
    l_U2216 = 0;
    l_U2250 = 0;
    l_U2251 = 0;
    l_U2253 = 0;
     /* WRITESCRIPTLOG */ sub_2123( "AT", "Script hotel_cutscene.sc is starting...", "###" );
     /* P_FADE_IN_AND_WAIT */ sub_2242( 0 );
     /* P_CREATE_CUTSCENE_ARRAY */ sub_2396();
    while (true)
    {
         /* P_HANDLE_CUTSCENE_WIDGET */ sub_3099();
        WAIT( 0 );
    }
     /* WRITESCRIPTLOG */ sub_2123( "AT", "Script hotel_cutscene.sc is terminating...", "###" );
    return;
}

/* WRITESCRIPTLOG */ void sub_2123(unknown uParam0, unknown uParam1, string sParam2)
{
    unknown uVar5;

    if (IS_STRING_NULL( sParam2 ))
    {
        sParam2 = "###";
    }
    uVar5 = GET_REAL_GAME_TIMER();
    DISPLAYF( "[{0}][{1}]{3} {2} {3}", 4, 513, uVar5, 1537, uParam0, 1537, uParam1, 1537, sParam2 );
    return;
}

/* P_FADE_IN_AND_WAIT */ void sub_2242(unknown uParam0)
{
    if ((IS_SCREEN_FADING_IN() == 0) AND (IS_SCREEN_FADED_IN() == 0))
    {
        DO_SCREEN_FADE_IN( uParam0 );
        while (IS_SCREEN_FADED_IN() == 0)
        {
            DISPLAYF( "[SP]### Waiting for screen to fade in... ###", 0 );
            WAIT( 0 );
        }
    }
    return;
}

/* P_CREATE_CUTSCENE_ARRAY */ void sub_2396()
{
    l_U2217[0]._fU0 = "12_01_HOTEL_concat";
    l_U2217[0]._fU4 = 0;
    l_U2217[1]._fU0 = "mid_01_hotel_intro";
    l_U2217[1]._fU4 = 1;
    l_U2217[2]._fU0 = "MID_02_HOTEL_concat";
    l_U2217[2]._fU4 = 2;
    l_U2217[3]._fU0 = "MID_03_HOTEL_concat";
    l_U2217[3]._fU4 = 3;
    l_U2217[4]._fU0 = "MID_04_HOTEL";
    l_U2217[4]._fU4 = 4;
    l_U2217[5]._fU0 = "MID_05_HOTEL";
    l_U2217[5]._fU4 = 5;
    l_U2217[6]._fU0 = "12_02_HOTEL_concat";
    l_U2217[6]._fU4 = 6;
    l_U2217[7]._fU0 = "MID_06_HOTEL";
    l_U2217[7]._fU4 = 7;
    l_U2217[8]._fU0 = "12_03_HOTEL_concat";
    l_U2217[8]._fU4 = 8;
    l_U2217[9]._fU0 = "12_04_HOTEL_concat";
    l_U2217[9]._fU4 = 9;
    l_U2217[10]._fU0 = "MID_07_HOTEL_concat";
    l_U2217[10]._fU4 = 10;
    l_U2217[11]._fU0 = "MID_08_HOTEL_concat";
    l_U2217[11]._fU4 = 11;
    l_U2217[12]._fU0 = "MID_09_HOTEL_concat";
    l_U2217[12]._fU4 = 12;
    l_U2217[13]._fU0 = "MID_10_HOTEL";
    l_U2217[13]._fU4 = 13;
    l_U2217[14]._fU0 = "12_05_HOTEL_concat";
    l_U2217[14]._fU4 = 14;
    l_U2217[15]._fU0 = "12_06_HOTEL_concat";
    l_U2217[15]._fU4 = 15;
    return;
}

/* P_HANDLE_CUTSCENE_WIDGET */ void sub_3099()
{
    int I;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    unknown uVar37;
    unknown uVar38;
    unknown uVar39;
    unknown uVar40;
    unknown uVar41;
    unknown uVar42;

    switch (l_U2216)
    {
        case 0:
        START_WIDGET_GROUP( "HOTEL CUTSCENES" );
        ADD_WIDGET_BOOL( "Capture Cutscene", ref l_U2250 );
        ADD_WIDGET_BOOL( "Start Selected Cutscene", ref l_U2251 );
        START_NEW_WIDGET_COMBO();
        for ( I = 0; I < 16; I++ )
        {
            ADD_TO_WIDGET_COMBO( l_U2217[I]._fU0 );
        }
        l_U2252 = STOP_WIDGET_COMBO( "Cutscene Name", ref l_U2253 );
        STOP_WIDGET_GROUP();
        l_U2216 = 1;
        break;
        case 1:
        if (l_U2251)
        {
            GET_CONTENTS_OF_COMBO_WIDGET_SELECTION( 32, ref uVar3, l_U2252 );
            l_U2260 = 0;
            for ( l_U2260 = 0; l_U2260 < 16; l_U2260++ )
            {
                if (ARE_STRINGS_EQUAL( ref uVar3, l_U2217[l_U2260]._fU0 ))
                {
                    if (NOT (CUTSCENE_EXIST( ref uVar3 )))
                    {
                        StrCopy( ref uVar11, 16, uVar3, 8);
                        ConcatString(ref uVar11, " : Cutscene does not exist!", 64);
                         /* WRITE_STRING */ sub_3500( ref uVar11 );
                        SCRIPT_ASSERT( ref uVar11, 0 );
                    }
                    else if (HAS_CUTSCENE_UNLOADED())
                    {
                        StrCopy( ref uVar27, 16, uVar3, 8);
                        ConcatString(ref uVar27, " : advancing to play cutscene", 64);
                         /* WRITE_STRING */ sub_3500( ref uVar27 );
                        l_U2261 = l_U2260;
                        l_U2216 = 2;
                    }
                }
            }
             /* P_FADE_IN_AND_WAIT */ sub_2242( 500 );
            l_U2251 = 0;
        }
        break;
        case 2:
        if ( /* P_PLAY_CUTSCENE */ sub_3707( l_U2217[l_U2261]._fU4, l_U2217[l_U2261]._fU0 ))
        {
            l_U2216 = 1;
            l_U2251 = 0;
        }
        break;
    }
    return;
}

/* WRITE_STRING */ void sub_3500(unknown uParam0)
{
    PRINTSTRING( uParam0 );
    PRINTNL();
    return;
}

/* P_PLAY_CUTSCENE */ void sub_3707(unknown uParam0, unknown uParam1)
{
    int Result;

    Result = 1;
    switch (uParam0)
    {
        case 1:
        Result =  /* PLAY_HOTEL_MID_01 */ sub_3866( 0, l_U2250, 0 );
        break;
        case 2:
        Result =  /* PLAY_HOTEL_MID_02 */ sub_8361( 0, ref l_U2257, l_U2250, 0 );
        break;
        case 3:
        Result =  /* PLAY_HOTEL_MID_03 */ sub_11852( 0, l_U2250, 0 );
        break;
        case 4:
        Result =  /* PLAY_HOTEL_MID_04 */ sub_13520( 0, l_U2250, 0, 0 );
        break;
        case 5:
        Result =  /* PLAY_HOTEL_MID_05 */ sub_15236( 0, l_U2250, 0 );
        break;
        case 10:
        Result =  /* PLAY_HOTEL_MID_07 */ sub_15962( 0, g_U1020[26], g_U1123[26], 0, 0, 0, 0.00000000, l_U2250, 0 );
        break;
        case 11:
        Result =  /* PLAY_HOTEL_MID_08 */ sub_17952( 0, 0, l_U2250, 0 );
        break;
        case 12:
        Result =  /* PLAY_HOTEL_MID_09 */ sub_21156( 0, g_U1020[26], g_U1123[26], 0, 0, 0, 0, 0, 0, l_U2250, 0 );
        break;
        case 0:
        Result =  /* PLAY_HOTEL_CUT_12_01 */ sub_22140( 0, 0.00000000, 0.00000000, 0.00000000, l_U2250, 0, 0 );
        break;
        case 6:
        Result =  /* PLAY_HOTEL_CUT_12_02 */ sub_28465( 0, l_U2250, 0 );
        break;
        case 8:
        Result =  /* PLAY_HOTEL_CUT_12_03 */ sub_30873( 0, l_U2250, 0 );
        break;
        case 9:
        Result =  /* PLAY_HOTEL_CUT_12_04 */ sub_32851( 0, l_U2250, 0 );
        break;
        case 14:
        Result =  /* PLAY_HOTEL_CUT_12_05 */ sub_34080( 0, l_U2250, 0 );
        break;
        case 15:
        Result =  /* PLAY_HOTEL_CUT_12_06 */ sub_38034( 0, l_U2250, 0 );
        break;
    }
    return Result;
}

/* PLAY_HOTEL_MID_01 */ void sub_3866(boolean bParam0, boolean bParam1, unknown uParam2)
{
    int Result;

    Result = 0;
    if (IS_STRING_NULL( uParam2 ))
    {
        uParam2 = l_U202;
    }
    switch (l_U183)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "PLAY_HOTEL_MID_01 start", "*****" );
         /* NIS_PRE_SETUP */ sub_4029( 1, 0, 0, 1 );
        if (NOT bParam0)
        {
             /* BLOCKLOAD_MID_01_ASSETS */ sub_4301();
             /* REGISTER_PEDS_MID_01 */ sub_4795();
        }
         /* LOADSEAMLESSCUTSCENE */ sub_7062( uParam2, 1 );
        l_U183 = 2;
        break;
        case 2:
        if (bParam1)
        {
            START_CUTSCENE_CAPTURE( uParam2 );
        }
        START_SEAMLESS_CUTSCENE();
        l_U183 = 3;
        break;
        case 3:
        l_U183 = 4;
        break;
        case 4:
        if (HAS_CUTSCENE_FINISHED())
        {
             /* P_PLAYER_UNHOLSTER_WEAPONS */ sub_7477( l_U184, 1 );
             /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_6354( l_U184, 1 );
            l_U183 = 5;
        }
        break;
        case 5:
        if (bParam1)
        {
            STOP_CUTSCENE_CAPTURE();
        }
        Result = 1;
        if (NOT bParam0)
        {
             /* UNLOAD_MID_01_ASSETS */ sub_7726();
        }
         /* NIS_POST_SETUP */ sub_7964( 1, 1 );
        l_U183 = 0;
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "PLAY_HOTEL_MID_01 end", "*****" );
        break;
        case 0:
        l_U183 = 1;
        break;
    }
    return Result;
}

/* NIS_PRE_SETUP */ void sub_4029(int iParam0, int iParam1, unknown uParam2, boolean bParam3)
{
    END_POSTFX_BLENDER( 12, 0 );
    if (bParam3)
    {
        STOP_ALL_IMAGEFX( 0 );
    }
    SET_WIDESCREEN_BORDERS( 1, 500 );
    DISPLAY_HUD( 0 );
    if (iParam0 == 1)
    {
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4107() )))
        {
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_4145(), 0, uParam2 );
            SET_PED_DUCKING(  /* PLAYER_PED_ID */ sub_4107(), 0 );
            if (iParam1 == 1)
            {
                CLEAR_PED_TASKS_IMMEDIATELY(  /* PLAYER_PED_ID */ sub_4107() );
            }
            SET_PED_INVINCIBLE(  /* PLAYER_PED_ID */ sub_4107(), 1 );
        }
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    return;
}

/* PLAYER_PED_ID */ int sub_4107()
{
    if (DOES_MAIN_PLAYER_EXIST())
    {
        return GET_PLAYER_PED(  /* PLAYER_ID */ sub_4145() );
    }
    return 0;
}

/* PLAYER_ID */ void sub_4145()
{
    return GET_PLAYER_ID();
}

/* BLOCKLOAD_MID_01_ASSETS */ void sub_4301()
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "BLOCKLOAD_MID_01_ASSETS", "***" );
     /* BLOCKLOADMODEL */ sub_4385( 466468872 );
    return;
}

/* BLOCKLOADMODEL */ void sub_4385(unknown uParam0)
{
    DISPLAYF( "[MSWW]### Trying to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
         /* WRITE_STRING */ sub_3500( "[SP]### ERROR! (BlockLoadModel) Trying to block load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    LOAD_ALL_OBJECTS_NOW();
    while ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        LOAD_ALL_OBJECTS_NOW();
        DISPLAYF( "[SP]### Waiting to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
        WAIT( 0 );
    }
    DISPLAYF( "[MSWW]### Has loaded model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
    return;
}

/* REGISTER_PEDS_MID_01 */ void sub_4795()
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "REGISTER_PEDS_MID_01", "***" );
    if ( /* IS_MAX_VALID */ sub_4868())
    {
         /* P_PLAYER_HOLSTER_WEAPONS */ sub_4990( ref l_U184, 1, 1 );
         /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_6354( l_U184, 0 );
         /* P_EQUIP_PLAYER_WITH_SINGLE_HANDED_WEAPON */ sub_6487( 1 );
        CUTSCENE_REGISTER_PED_TELEPORT(  /* PLAYER_PED_ID */ sub_4107(), g_U1020[1], g_U1123[1] );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_4107(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 0 ), "W_PI_Clt1911_Aa_H", 0 );
    }
    return;
}

/* IS_MAX_VALID */ int sub_4868()
{
    if ( /* IS_PED_VALID */ sub_4898(  /* PLAYER_PED_ID */ sub_4107() ))
    {
        return 1;
    }
    return 0;
}

/* IS_PED_VALID */ int sub_4898(unknown uParam0)
{
    if ((NOT (IS_PED_DEAD( uParam0 ))) AND (DOES_PED_EXIST( uParam0 )))
    {
        return 1;
    }
    return 0;
}

/* P_PLAYER_HOLSTER_WEAPONS */ void sub_4990(int iParam0, int iParam1, unknown uParam2)
{
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;

     /* RESET_WEAPON_CONFIG */ sub_5029( iParam0 );
    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4107() )) == 0)
    {
        uVar5 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
        {
            if (( /* IS_WEAPON_SINGLE_HANDED */ sub_5230( uVar5 )) == 1)
            {
                ref iParam0->_fU0->_fU0 = uVar5;
                ref iParam0->_fU0->_fU4 = GET_WEAPON_TYPE( uVar5 );
            }
            else if (( /* IS_WEAPON_TWO_HANDED */ sub_5484( uVar5 )) == 1)
            {
                ref iParam0->_fU24->_fU0 = uVar5;
                ref iParam0->_fU24->_fU4 = GET_WEAPON_TYPE( uVar5 );
            }
        }
        uVar6 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar6 )) == 1)
        {
            ref iParam0->_fU12->_fU0 = uVar6;
            ref iParam0->_fU12->_fU4 = GET_WEAPON_TYPE( uVar6 );
        }
        uVar7 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_4107(), 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar7 )) == 1)
        {
            ref iParam0->_fU36->_fU0 = uVar7;
            ref iParam0->_fU36->_fU4 = GET_WEAPON_TYPE( uVar7 );
        }
        uVar8 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_4107(), 1 );
        if ((GET_DOES_WEAPON_EXIST( uVar8 )) == 1)
        {
            ref iParam0->_fU48->_fU0 = uVar8;
            ref iParam0->_fU48->_fU4 = GET_WEAPON_TYPE( uVar8 );
        }
        uVar9 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_4107(), 2 );
        if ((GET_DOES_WEAPON_EXIST( uVar9 )) == 1)
        {
            ref iParam0->_fU60->_fU0 = uVar9;
            ref iParam0->_fU60->_fU4 = GET_WEAPON_TYPE( uVar9 );
        }
    }
    if (iParam1 == 0)
    {
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4107() )) == 0)
        {
            uVar10 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar10 )) == 1)
            {
                SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 0, uParam2 );
            }
            uVar11 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 1, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar11 )) == 1)
            {
                SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 1, uParam2 );
            }
        }
    }
    else if (iParam1 == 1)
    {
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4107() )) == 0)
        {
            uVar12 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar12 )) == 1)
            {
                if (( /* IS_WEAPON_TWO_HANDED */ sub_5484( uVar12 )) == 1)
                {
                    SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 0, uParam2 );
                }
            }
            uVar13 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 1, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar13 )) == 1)
            {
                SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 1, uParam2 );
            }
        }
    }
    return;
}

/* RESET_WEAPON_CONFIG */ void sub_5029(int iParam0)
{
    ref iParam0->_fU0->_fU0 = 0;
    ref iParam0->_fU0->_fU4 = 0;
    ref iParam0->_fU12->_fU0 = 0;
    ref iParam0->_fU12->_fU4 = 0;
    ref iParam0->_fU24->_fU0 = 0;
    ref iParam0->_fU24->_fU4 = 0;
    ref iParam0->_fU36->_fU0 = 0;
    ref iParam0->_fU36->_fU4 = 0;
    ref iParam0->_fU48->_fU0 = 0;
    ref iParam0->_fU48->_fU4 = 0;
    ref iParam0->_fU60->_fU0 = 0;
    ref iParam0->_fU60->_fU4 = 0;
    return;
}

/* IS_WEAPON_SINGLE_HANDED */ int sub_5230(unknown uParam0)
{
    int iVar3;

    if ((GET_DOES_WEAPON_EXIST( uParam0 )) == 1)
    {
        iVar3 = GET_WEAPON_TYPE( uParam0 );
        if ((iVar3 == 1194438308) || ((iVar3 == -76667461) || ((iVar3 == -1404433099) || ((iVar3 == 1131969637) || ((iVar3 == -691403429) || ((iVar3 == 1845102363) || ((iVar3 == 150541352) || ((iVar3 == -820634585) || ((iVar3 == -612753081) || ((iVar3 == 811797242) || ((iVar3 == 68019059) || ((iVar3 == -1464892298) || ((iVar3 == 456708483) || ((iVar3 == -862236369) || (iVar3 == 406496141)))))))))))))))
        {
            return 1;
        }
    }
    return 0;
}

/* IS_WEAPON_TWO_HANDED */ int sub_5484(unknown uParam0)
{
    int iVar3;

    if ((GET_DOES_WEAPON_EXIST( uParam0 )) == 1)
    {
        iVar3 = GET_WEAPON_TYPE( uParam0 );
        if ((iVar3 == -2075384407) || ((iVar3 == 10648147) || ((iVar3 == 1224272620) || ((iVar3 == 1478009203) || ((iVar3 == 1964270085) || ((iVar3 == -110877124) || ((iVar3 == 427207702) || ((iVar3 == 319712764) || ((iVar3 == 514118749) || ((iVar3 == -184942895) || ((iVar3 == -168327769) || ((iVar3 == 434544317) || ((iVar3 == -1659006841) || ((iVar3 == 930042831) || ((iVar3 == 1001413062) || ((iVar3 == 377623895) || ((iVar3 == -1312131151) || ((iVar3 == -1787162676) || ((iVar3 == 724901397) || ((iVar3 == 57534114) || ((iVar3 == 840671040) || ((iVar3 == 1308526797) || ((iVar3 == -1074756423) || ((iVar3 == 1992962408) || (iVar3 == -1013714740)))))))))))))))))))))))))
        {
            return 1;
        }
    }
    return 0;
}

/* P_SET_TWO_HANDED_WEAPON_VISIBLE */ void sub_6354(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18)
{
    unknown uVar21;
    unknown uVar22;

    uVar21 = uParam0._fU24._fU0;
    if ((GET_DOES_WEAPON_EXIST( uVar21 )) == 1)
    {
        SET_WEAPON_VISIBLE( uVar21, uParam18 );
    }
    uVar22 = uParam0._fU60._fU0;
    if ((GET_DOES_WEAPON_EXIST( uVar22 )) == 1)
    {
        SET_WEAPON_VISIBLE( uVar22, uParam18 );
    }
    return;
}

/* P_EQUIP_PLAYER_WITH_SINGLE_HANDED_WEAPON */ void sub_6487(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4107() )) == 0)
    {
        iVar3 = 0;
        uVar4 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar4 )) == 0)
        {
            iVar3 = 1;
        }
        if ((( /* IS_WEAPON_SINGLE_HANDED */ sub_5230( uVar4 )) == 0) AND ((GET_DOES_WEAPON_EXIST( uVar4 )) == 1))
        {
            iVar3 = 1;
        }
        if (iVar3 == 1)
        {
            uVar5 =  /* F_GET_SINGLE_HANDED_WEAPON_FROM_PLAYER */ sub_6635();
            if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
            {
                SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_4107(), uVar5, 0, uParam0 );
            }
        }
    }
    return;
}

/* F_GET_SINGLE_HANDED_WEAPON_FROM_PLAYER */ int sub_6635()
{
    unknown Result;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4107() )) == 0)
    {
        Result = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( Result )) == 1)
        {
            if (( /* IS_WEAPON_SINGLE_HANDED */ sub_5230( Result )) == 1)
            {
                return Result;
            }
        }
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            return uVar3;
        }
        uVar4 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_4107(), 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar4 )) == 1)
        {
            return uVar4;
        }
        uVar5 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_4107(), 1 );
        if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
        {
            return uVar5;
        }
    }
    return 0;
}

/* LOADSEAMLESSCUTSCENE */ void sub_7062(unknown uParam0, int iParam1)
{
    if (HAS_CUTSCENE_LOADED())
    {
        if (NOT (CUTSCENE_IS_LOADED( uParam0 )))
        {
            SCRIPT_ASSERT( "Another cutscene is already loaded.  You can only load one cutscene into memory.  Your current cutscene will not load into memory.", 0 );
        }
    }
    if (NOT (CUTSCENE_IS_LOADED( uParam0 )))
    {
        PRE_STREAM_SEAMLESS_CUTSCENE( uParam0 );
        if (iParam1 == 1)
        {
            while ((CUTSCENE_IS_LOADED( uParam0 )) == 0)
            {
                DISPLAYF( "[SP]### Waiting for seamless cutscene to load: {} ###", 1, 1537, uParam0 );
                WAIT( 0 );
            }
        }
    }
    return;
}

/* P_PLAYER_UNHOLSTER_WEAPONS */ void sub_7477(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18)
{
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4107() )) == 0)
    {
        uVar21 = uParam0._fU0._fU0;
        if ((GET_DOES_WEAPON_EXIST( uVar21 )) == 1)
        {
            SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_4107(), uVar21, 0, uParam18 );
        }
        uVar22 = uParam0._fU12._fU0;
        if ((GET_DOES_WEAPON_EXIST( uVar22 )) == 1)
        {
            SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_4107(), uVar22, 1, uParam18 );
        }
        uVar23 = uParam0._fU24._fU0;
        if ((GET_DOES_WEAPON_EXIST( uVar23 )) == 1)
        {
            SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_4107(), uVar23, 0, uParam18 );
        }
    }
    return;
}

/* UNLOAD_MID_01_ASSETS */ void sub_7726()
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "UNLOAD_MID_01_ASSETS", "***" );
     /* UNLOADMODEL */ sub_7804( 466468872 );
    return;
}

/* UNLOADMODEL */ void sub_7804(unknown uParam0)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 1)
    {
        SET_MODEL_AS_NO_LONGER_NEEDED( uParam0 );
    }
    else
    {
         /* WRITE_STRING */ sub_3500( "[SP]### ERROR! (UnloadModel) Trying to unload a model that isn't in the img! ###" );
    }
    return;
}

/* NIS_POST_SETUP */ void sub_7964(boolean bParam0, boolean bParam1)
{
    SET_WIDESCREEN_BORDERS( 0, 500 );
    DISPLAY_HUD( 1 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4107() )))
    {
        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_4145(), 1, 0 );
        SET_PED_INVINCIBLE(  /* PLAYER_PED_ID */ sub_4107(), 0 );
        if (bParam0)
        {
             /* P_MAX_RELOAD_WEAPONS */ sub_8062();
        }
    }
    PULSE_CROSSHAIR( 1 );
    if (bParam1)
    {
        DESTROY_ALL_CAMS();
    }
    return;
}

/* P_MAX_RELOAD_WEAPONS */ void sub_8062()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4107() )) == 0)
    {
        uVar2 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 0 );
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
        {
            uVar4 = GET_MAX_AMMO_IN_HAND_CLIP_MP(  /* PLAYER_PED_ID */ sub_4107(), 0 );
            SET_WEAPON_AMMO_IN_CLIP( uVar2, uVar4 );
        }
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            uVar5 = GET_MAX_AMMO_IN_HAND_CLIP_MP(  /* PLAYER_PED_ID */ sub_4107(), 1 );
            SET_WEAPON_AMMO_IN_CLIP( uVar3, uVar5 );
        }
    }
    return;
}

/* PLAY_HOTEL_MID_02 */ void sub_8361(boolean bParam0, unknown uParam1, boolean bParam2, unknown uParam3)
{
    int Result;
    int iVar7;

    Result = 0;
    if (IS_STRING_NULL( uParam3 ))
    {
        uParam3 = l_U252;
    }
    switch (l_U203)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_2123( "SBA", "PLAY_HOTEL_MID_02 start", "*****" );
         /* LOADSEAMLESSCUTSCENE */ sub_7062( uParam3, 1 );
        if (NOT bParam0)
        {
             /* BLOCKLOAD_HOTEL_MID_02_ASSETS */ sub_8536();
        }
        else
        {
             /* LOADISEQ */ sub_8647( 710130669, 1 );
        }
        if (bParam0)
        {
             /* WRITESCRIPTLOG */ sub_2123( "BSW", "registering S_HOTEL_BLENDOUT_MID_02 with the cutscene", "*****" );
             /* REGISTER_PEDS_HOTEL_MID_02 */ sub_9023( uParam1 );
            CUTSCENE_REGISTER_ISEQ( 710130669 );
        }
        else
        {
             /* CREATE_PEDS_MID_02 */ sub_9587();
             /* REGISTER_PEDS_HOTEL_MID_02 */ sub_9023( ref l_U249 );
        }
         /* NIS_PRE_SETUP */ sub_4029( 1, 0, 0, 0 );
        l_U203 = 2;
        break;
        case 2:
        if (bParam2)
        {
            START_CUTSCENE_CAPTURE( uParam3 );
        }
        START_SEAMLESS_CUTSCENE();
        l_U203 = 3;
        break;
        case 3:
        l_U203 = 4;
        break;
        case 4:
        if (HAS_CUTSCENE_FINISHED())
        {
             /* P_PLAYER_UNHOLSTER_WEAPONS */ sub_7477( l_U204, 1 );
             /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_6354( l_U204, 1 );
            CAMERA_PLAY_ANIMATED( "LEVEL_S_HOTEL_CP_01", "B_OUT_MID_02_HOTEL_CAM", 1, 15.31680000, 0.19296800, -2.64646400, 0, 0, 0 );
            l_U203 = 5;
        }
        else
        {
            iVar7 = GET_CUTSCENE_TIME_MS();
            if ((iVar7 > 18000) AND (NOT g_U1789))
            {
                 /* P_SET_HOTEL_OBJECT_VISIBILITY */ sub_11046( g_U1787, 1 );
                 /* P_SET_HOTEL_OBJECT_VISIBILITY */ sub_11046( g_U1788, 1 );
                g_U1789 = 1;
            }
        }
        break;
        case 5:
        if (bParam2)
        {
            STOP_CUTSCENE_CAPTURE();
        }
        if (NOT g_U1789)
        {
             /* P_SET_HOTEL_OBJECT_VISIBILITY */ sub_11046( g_U1787, 1 );
             /* P_SET_HOTEL_OBJECT_VISIBILITY */ sub_11046( g_U1788, 1 );
        }
         /* TELEPORTPED */ sub_11346(  /* PLAYER_PED_ID */ sub_4107(), 13.97343000, 2.02557100, -3.90012500, 192.00000000 );
        SET_ROOM_FOR_PED_BY_NAME(  /* PLAYER_PED_ID */ sub_4107(), "room_rubble" );
        if (l_U20 != 6)
        {
            l_U20 = 6;
        }
        if (NOT bParam0)
        {
             /* CLEANUP_MID_02_PEDS */ sub_11465();
             /* UNLOAD_MID_02_ASSETS */ sub_11702();
        }
        Result = 1;
         /* NIS_POST_SETUP */ sub_7964( 1, 1 );
        l_U203 = 0;
         /* WRITESCRIPTLOG */ sub_2123( "SBA", "PLAY_HOTEL_MID_02 end", "*****" );
        break;
        case 0:
        l_U203 = 1;
        break;
    }
    return Result;
}

/* BLOCKLOAD_HOTEL_MID_02_ASSETS */ void sub_8536()
{
     /* WRITESCRIPTLOG */ sub_2123( "SBA", "P_SETUP_HOTEL_MID_02", "***" );
     /* BLOCKLOADMODEL */ sub_4385( 762297658 );
    return;
}

/* LOADISEQ */ void sub_8647(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to load does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 0)
    {
        ISEQ_REQUEST( uParam0 );
        ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
        if (iParam1 == 1)
        {
            while ((ISEQ_QUERY_STATE( uParam0, 1 )) == 1)
            {
                DISPLAYF( "[SP]### Waiting for interactive sequence to be loaded: {0} {1} ###", 2, 1281, ref uVar4, 513, uParam0 );
                WAIT( 0 );
            }
        }
    }
    return;
}

/* REGISTER_PEDS_HOTEL_MID_02 */ void sub_9023(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_2123( "SBA", "REGISTER_PEDS_HOTEL_MID_02", "***" );
    if ( /* IS_MAX_VALID */ sub_4868())
    {
         /* P_PLAYER_HOLSTER_WEAPONS */ sub_4990( ref l_U204, 1, 1 );
         /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_6354( l_U204, 0 );
         /* P_EQUIP_PLAYER_WITH_SINGLE_HANDED_WEAPON */ sub_6487( 1 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_4107(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 0 ), "W_PI_Clt1911_Aa_H", 0 );
    }
    if ( /* IS_PED_VALID */ sub_4898( (uParam0^)[0] ))
    {
         /* WRITESCRIPTLOG */ sub_2123( "BSW", "REGISTER_PEDS_HOTEL_MID_02 registering ped0", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam0^)[0], "H_Crac_Sold_A^1", 0 );
        ISEQ_REGISTER_ENTITY( 710130669, "cp1", (uParam0^)[0], 0 );
        CUTSCENE_REGISTER_PED_TELEPORT( (uParam0^)[0], g_U1228, g_U1231 );
    }
    if ( /* IS_PED_VALID */ sub_4898( (uParam0^)[1] ))
    {
         /* WRITESCRIPTLOG */ sub_2123( "BSW", "REGISTER_PEDS_HOTEL_MID_02 registering ped1", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam0^)[1], "H_Crac_Sold_A", 0 );
        ISEQ_REGISTER_ENTITY( 710130669, "cp2", (uParam0^)[1], 0 );
        CUTSCENE_REGISTER_PED_TELEPORT( (uParam0^)[1], g_U1232, g_U1235 );
    }
    return;
}

/* CREATE_PEDS_MID_02 */ void sub_9587()
{
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U222[0], 0.00000000, 0.00000000, 0.00000000, 0, -242176005, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U222[1], 0.00000000, 0.00000000, 0.00000000, 0, -523735065, 7, 3, 2, 0, 0 );
    l_U249[0] =  /* CREATEPED */ sub_9833( ref l_U222[0] );
    l_U249[1] =  /* CREATEPED */ sub_9833( ref l_U222[1] );
    return;
}

/* P_CREATEPEDSTRUCTWITHNAME */ void sub_9652(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU20 = uParam5;
    iParam0->_fU12 = uParam4;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU16 = GET_SCENE_PED_MODEL( uParam5 );
    iParam0->_fU48 = uParam10;
    return;
}

/* CREATEPED */ void sub_9833(int iParam0)
{
    int iVar3;

    iVar3 = 0;
    if (iParam0->_fU16 == 0)
    {
        if (iParam0->_fU20 != 0)
        {
            iVar3 = GET_SCENE_PED_MODEL( iParam0->_fU20 );
        }
    }
    else
    {
        iVar3 = iParam0->_fU16;
    }
    if ((HAS_MODEL_LOADED( iVar3 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_10015( iParam0->_fU16, 1 );
    }
    iParam0->_fU40 = CREATE_PED( iParam0->_fU24, iParam0->_fU16, iParam0->_fU0, iParam0->_fU12, 1, iParam0->_fU48 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( iParam0->_fU40, 1 );
        SET_PED_COORDS_NO_OFFSET( iParam0->_fU40, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU40 ) );
        SET_PED_HEADING( iParam0->_fU40, iParam0->_fU12 );
        iParam0->_fU44 = 1;
    }
    else
    {
        SCRIPT_ASSERT( "Error: The ped you created doesn't exist or is dead!", 0 );
    }
     /* SETPEDDEFAULTSTATS */ sub_10564( iParam0->_fU40 );
     /* SETPEDDEFAULTTEMPLATE */ sub_10665( iParam0->_fU40 );
    return iParam0->_fU40;
}

/* LOADMODEL */ void sub_10015(unknown uParam0, boolean bParam1)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
         /* WRITE_STRING */ sub_3500( "[SP]### ERROR! (LoadModel) Trying to load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    if (bParam1)
    {
        while ((HAS_MODEL_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* SETPEDDEFAULTSTATS */ void sub_10564(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_HEALTH( uParam0, 200, 0 );
        SET_PED_ACCURACY( uParam0, -729479261 );
    }
    return;
}

/* SETPEDDEFAULTTEMPLATE */ void sub_10665(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_AI_TEMPLATE( uParam0, "AIT_DEFAULT_GENERIC" );
    }
    return;
}

/* P_SET_HOTEL_OBJECT_VISIBILITY */ void sub_11046(unknown uParam0, unknown uParam1)
{
     /* WRITESCRIPTLOG */ sub_2123( "SBA", "P_SET_HOTEL_OBJECT_VISIBILITY", "***" );
    if (DOES_OBJECT_EXIST( uParam0 ))
    {
         /* WRITE_BOOL */ sub_11153( uParam1 );
        SET_OBJECT_VISIBLE( uParam0, uParam1 );
    }
    return;
}

/* WRITE_BOOL */ void sub_11153(boolean bParam0)
{
    if (bParam0)
    {
        PRINTSTRING( "TRUE" );
    }
    else
    {
        PRINTSTRING( "FALSE" );
    }
    PRINTNL();
    return;
}

/* TELEPORTPED */ void sub_11346(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_COORDS( uParam0, uParam1, 1 );
        SET_PED_HEADING( uParam0, uParam4 );
    }
    return;
}

/* CLEANUP_MID_02_PEDS */ void sub_11465()
{
     /* WRITESCRIPTLOG */ sub_2123( "SBA", "CLEANUP_MID_02_PEDS", "***" );
     /* CLEANPEDARRAY */ sub_11540( ref l_U249 );
    return;
}

/* CLEANPEDARRAY */ void sub_11540(unknown uParam0)
{
    int I;

    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
         /* CLEANPED */ sub_11590( (uParam0^)[I] );
    }
    return;
}

/* CLEANPED */ void sub_11590(unknown uParam0)
{
    if (DOES_PED_EXIST( uParam0 ))
    {
        if ((NOT (IS_PED_DEAD( uParam0 ))) || (IS_PED_DEAD( uParam0 )))
        {
            REMOVE_ALL_PED_WEAPONS( uParam0 );
            DELETE_PED( ref uParam0 );
        }
    }
    return;
}

/* UNLOAD_MID_02_ASSETS */ void sub_11702()
{
     /* UNLOADMODEL */ sub_7804( 762297658 );
    return;
}

/* PLAY_HOTEL_MID_03 */ void sub_11852(boolean bParam0, boolean bParam1, unknown uParam2)
{
    int Result;

    Result = 0;
    if (IS_STRING_NULL( uParam2 ))
    {
        uParam2 = l_U302;
    }
    switch (l_U253)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_2123( "SBA", "PLAY_HOTEL_MID_03 start", "*****" );
         /* LOADISEQ */ sub_8647( 262571667, 1 );
         /* LOADSEAMLESSCUTSCENE */ sub_7062( uParam2, 1 );
         /* NIS_PRE_SETUP */ sub_4029( 1, 0, 0, 1 );
        if (NOT bParam0)
        {
             /* BLOCKLOAD_HOTEL_MID_03_ASSETS */ sub_12047();
        }
        else
        {
            CUTSCENE_REGISTER_ISEQ( 262571667 );
        }
         /* CREATE_PEDS_MID_03 */ sub_12164();
        l_U303 = 0;
        l_U253 = 2;
        break;
        case 2:
         /* REGISTER_PEDS_HOTEL_MID_03 */ sub_12338();
        if (bParam1)
        {
            START_CUTSCENE_CAPTURE( uParam2 );
        }
        START_SEAMLESS_CUTSCENE();
        CUTSCENE_DISABLE_FADE_IN_GAME_AT_END( 1 );
        CUTSCENE_ENABLE_SKIP( 0 );
        l_U253 = 3;
        break;
        case 3:
        l_U253 = 4;
        break;
        case 4:
        if (HAS_CUTSCENE_FINISHED())
        {
             /* P_PLAYER_UNHOLSTER_WEAPONS */ sub_7477( l_U254, 1 );
             /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_6354( l_U254, 1 );
            CAMERA_PLAY_ANIMATED( "LEVEL_S_HOTEL_CP_02", "B_OUT_MID_03_HOTEL_FWD_CAM", 1, 26.81000000, -53.22000000, 14.70000000, 0.00000000, 0, 0 );
            l_U253 = 5;
        }
        else if (l_U20 == 6)
        {
            if (GET_CUTSCENE_TIME_MS() > 20530)
            {
                l_U21 = 6;
            }
        }
        if ((NOT l_U303) AND (GET_CUTSCENE_TIME_MS() > 27850))
        {
             /* WRITESCRIPTLOG */ sub_2123( "BSW", "we're now in the 2nd floor", 0 );
            CUTSCENE_ENABLE_SKIP( 1 );
            l_U303 = 1;
        }
        break;
        case 5:
        if (bParam1)
        {
            STOP_CUTSCENE_CAPTURE();
        }
        if (l_U20 == 6)
        {
            l_U21 = 6;
        }
         /* CLEANUP_MID_03_PEDS */ sub_13235();
         /* UNLOAD_MID_03_ASSETS */ sub_13284();
        if (IS_SCREEN_FADED_OUT())
        {
            if (NOT l_U303)
            {
                 /* WRITESCRIPTLOG */ sub_2123( "bsw", "forcing load scene after mid_03", "*****" );
                LOAD_SCENE( g_U1020[2] );
            }
        }
        Result = 1;
        l_U253 = 0;
         /* WRITESCRIPTLOG */ sub_2123( "SBA", "PLAY_HOTEL_MID_03 end", "*****" );
        break;
        case 0:
        l_U253 = 1;
        break;
    }
    return Result;
}

/* BLOCKLOAD_HOTEL_MID_03_ASSETS */ void sub_12047()
{
     /* WRITESCRIPTLOG */ sub_2123( "SBA", "P_SETUP_HOTEL_MID_03", "***" );
     /* BLOCKLOADMODEL */ sub_4385( 762297658 );
    return;
}

/* CREATE_PEDS_MID_03 */ void sub_12164()
{
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U272[0], 0.00000000, 0.00000000, 0.00000000, 0, -242176005, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U272[1], 0.00000000, 0.00000000, 0.00000000, 0, -523735065, 7, 3, 2, 0, 0 );
    l_U299[0] =  /* CREATEPED */ sub_9833( ref l_U272[0] );
    l_U299[1] =  /* CREATEPED */ sub_9833( ref l_U272[1] );
    return;
}

/* REGISTER_PEDS_HOTEL_MID_03 */ void sub_12338()
{
     /* WRITESCRIPTLOG */ sub_2123( "SBA", "REGISTER_PEDS_HOTEL_MID_03", "***" );
    if ( /* IS_MAX_VALID */ sub_4868())
    {
         /* P_PLAYER_HOLSTER_WEAPONS */ sub_4990( ref l_U254, 1, 1 );
         /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_6354( l_U254, 0 );
         /* P_EQUIP_PLAYER_WITH_SINGLE_HANDED_WEAPON */ sub_6487( 1 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_4107(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 0 ), "W_PI_Clt1911_Aa_H", 0 );
        ISEQ_REGISTER_ENTITY( 262571667, "max",  /* PLAYER_PED_ID */ sub_4107(), 0 );
        CUTSCENE_REGISTER_PED_TELEPORT(  /* PLAYER_PED_ID */ sub_4107(), g_U1020[2], g_U1123[2] );
    }
    if ( /* IS_PED_VALID */ sub_4898( l_U299[0] ))
    {
         /* WRITESCRIPTLOG */ sub_2123( "BSW", "REGISTER_PEDS_HOTEL_MID_03 registering ped0", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U299[0], "H_Crac_Sold_A^1", 1 );
    }
    if ( /* IS_PED_VALID */ sub_4898( l_U299[1] ))
    {
         /* WRITESCRIPTLOG */ sub_2123( "BSW", "REGISTER_PEDS_HOTEL_MID_03 registering ped1", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U299[1], "H_Crac_Sold_A", 1 );
    }
    REGISTER_HIDE_ENTITY_AT_POSITION( -1736621803, 26.41600000, -52.99701000, 12.95312000 );
    REGISTER_HIDE_ENTITY_AT_POSITION( 2070099020, -8.25424000, 11.30124000, -2.60249000 );
    return;
}

/* CLEANUP_MID_03_PEDS */ void sub_13235()
{
     /* CLEANPEDARRAY */ sub_11540( ref l_U299 );
    return;
}

/* UNLOAD_MID_03_ASSETS */ void sub_13284()
{
     /* UNLOADMODEL */ sub_7804( 762297658 );
    return;
}

/* PLAY_HOTEL_MID_04 */ void sub_13520(boolean bParam0, boolean bParam1, unknown uParam2, unknown uParam3)
{
    int Result;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    unknown uVar37;

    Result = 0;
    if (IS_STRING_NULL( uParam3 ))
    {
        uParam3 = l_U323;
    }
    switch (l_U304)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_2123( "SBA", "PLAY_HOTEL_MID_04 start", "*****" );
         /* NIS_PRE_SETUP */ sub_4029( 1, 0, 0, 1 );
        if (NOT bParam0)
        {
             /* BLOCKLOAD_HOTEL_MID_04_ASSETS */ sub_13696();
        }
         /* LOADSEAMLESSCUTSCENE */ sub_7062( uParam3, 1 );
        l_U304 = 2;
        break;
        case 2:
         /* REGISTER_PEDS_HOTEL_MID_04 */ sub_13837( uParam2 );
        if (bParam1)
        {
            START_CUTSCENE_CAPTURE( uParam3 );
        }
        START_SEAMLESS_CUTSCENE();
        l_U304 = 3;
        break;
        case 3:
         /* NIS_CREATE_STATIC_CAM */ sub_14459( ref uVar7, -10.99600000, -23.93340000, 13.97190000, 5.99460000, 0.00000000, 30.43450000, 1110704128, 1000 );
         /* NIS_PLAY_STATIC_CAMERA */ sub_14832( ref uVar7 );
        l_U304 = 4;
        break;
        case 4:
        if (HAS_CUTSCENE_FINISHED())
        {
             /* P_PLAYER_UNHOLSTER_WEAPONS */ sub_7477( l_U305, 1 );
             /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_6354( l_U305, 1 );
            l_U304 = 5;
        }
        break;
        case 5:
        if (bParam1)
        {
            STOP_CUTSCENE_CAPTURE();
        }
        Result = 1;
         /* NIS_POST_SETUP */ sub_7964( 1, 1 );
        l_U304 = 0;
         /* WRITESCRIPTLOG */ sub_2123( "SBA", "PLAY_HOTEL_MID_04 end", "*****" );
        break;
        case 0:
        l_U304 = 1;
        break;
    }
    return Result;
}

/* BLOCKLOAD_HOTEL_MID_04_ASSETS */ void sub_13696()
{
     /* WRITESCRIPTLOG */ sub_2123( "SBA", "P_SETUP_HOTEL_MID_04", "***" );
     /* BLOCKLOADMODEL */ sub_4385( 1537193207 );
     /* BLOCKLOADMODEL */ sub_4385( -443588150 );
     /* BLOCKLOADMODEL */ sub_4385( 466468872 );
    return;
}

/* REGISTER_PEDS_HOTEL_MID_04 */ void sub_13837(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_2123( "SBA", "REGISTER_PEDS_HOTEL_MID_04", "***" );
    if ( /* IS_MAX_VALID */ sub_4868())
    {
         /* P_PLAYER_HOLSTER_WEAPONS */ sub_4990( ref l_U305, 1, 1 );
         /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_6354( l_U305, 0 );
         /* P_EQUIP_PLAYER_WITH_SINGLE_HANDED_WEAPON */ sub_6487( 1 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 0 ), "W_PI_Clt1911_Aa_H", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_4107(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
        CUTSCENE_REGISTER_PED_TELEPORT(  /* PLAYER_PED_ID */ sub_4107(), -12.80505000, -21.54400000, 13.05342000, 21.01000000 );
        CUTSCENE_REGISTER_SET_PLAYER_IN_COVER( "gencover", "E9818EB4_45D318AF_POPOVER6", 1, 0 );
        CUTSCENE_SET_COVER_CAMERA_DIRECTION( 9.42499200, 5.98052900 );
    }
    if ( /* IS_PED_VALID */ sub_4898( uParam0 ))
    {
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "REGISTER_PEDS_HOTEL_MID_04 - sniper ped is valid, must be in flow", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( uParam0, "M_Crac_Snip_Avg", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( uParam0, 0, 0 ), "W_SR_SG1_Aa_H", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( uParam0, "/Global/PLGE/PLGE_Root/PLGE_INITIALIZE_IDLE" );
    }
    return;
}

/* NIS_CREATE_STATIC_CAM */ void sub_14459(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    iParam0->_fU4 = {uParam4};
    iParam0->_fU16 = {uParam1};
    iParam0->_fU28 = uParam7;
    iParam0->_fU32 = 0;
    iParam0->_fU36 = 0;
    iParam0->_fU84 = uParam8;
    iParam0->_fU88 = 0;
    iParam0->_fU92 = 0;
    iParam0->_fU40 = 0;
    iParam0->_fU44 = 0;
    iParam0->_fU100 = 1;
    iParam0->_fU104 = 1;
    iParam0->_fU96 = 0;
     /* CREATETIMER */ sub_14611( iParam0 + 48, uParam8, 1, 0 );
    iParam0->_fU0 = CREATE_CAM_WITH_PARAMS( ref g_U724, iParam0->_fU16, iParam0->_fU4, iParam0->_fU28, 1 );
    SET_CAM_PARAMS( iParam0->_fU0, iParam0->_fU16, iParam0->_fU4, iParam0->_fU28, 0, 1, 1 );
    return;
}

/* CREATETIMER */ void sub_14611(int iParam0, unknown uParam1, boolean bParam2, int iParam3)
{
    if (bParam2)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam3 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU12 = uParam1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = bParam2;
    iParam0->_fU32 = iParam3;
    iParam0->_fU8 = 0;
    return;
}

/* NIS_PLAY_STATIC_CAMERA */ void sub_14832(int iParam0)
{
    RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
    SET_CAM_ACTIVE( iParam0->_fU0, 1 );
    RENDER_SCRIPT_CAMS( 1, 0, 3000, 0 );
     /* STARTTIMER */ sub_14912( iParam0 + 48 );
    iParam0->_fU32 = 1;
    iParam0->_fU40 = 1;
    return;
}

/* STARTTIMER */ void sub_14912(int iParam0)
{
    if (NOT iParam0->_fU20)
    {
        iParam0->_fU20 = 1;
        iParam0->_fU16 = 0;
        if (iParam0->_fU28)
        {
            iParam0->_fU0 = TIMERA();
        }
        else
        {
            iParam0->_fU0 = TIMERB();
        }
        if (iParam0->_fU32 == 1)
        {
            iParam0->_fU0 = TIMERSYSTEM();
        }
        iParam0->_fU4 = iParam0->_fU0;
    }
    return;
}

/* PLAY_HOTEL_MID_05 */ void sub_15236(boolean bParam0, boolean bParam1, unknown uParam2)
{
    int Result;

    Result = 0;
    if (IS_STRING_NULL( uParam2 ))
    {
        uParam2 = l_U325;
    }
    switch (l_U324)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_2123( "SBA", "PLAY_HOTEL_MID_05 start", "*****" );
         /* NIS_PRE_SETUP */ sub_4029( 1, 0, 0, 1 );
        if (NOT bParam0)
        {
             /* BLOCKLOAD_HOTEL_MID_05_ASSETS */ sub_15412();
        }
         /* LOADSEAMLESSCUTSCENE */ sub_7062( uParam2, 1 );
        l_U324 = 2;
        break;
        case 2:
         /* REGISTER_PEDS_HOTEL_MID_05 */ sub_15521();
        if (bParam1)
        {
            START_CUTSCENE_CAPTURE( uParam2 );
        }
        START_SEAMLESS_CUTSCENE();
        l_U324 = 3;
        break;
        case 3:
        l_U324 = 4;
        break;
        case 4:
        if (HAS_CUTSCENE_FINISHED())
        {
            l_U324 = 5;
        }
        break;
        case 5:
        if (bParam1)
        {
            STOP_CUTSCENE_CAPTURE();
        }
        Result = 1;
         /* NIS_POST_SETUP */ sub_7964( 1, 1 );
        l_U324 = 0;
         /* WRITESCRIPTLOG */ sub_2123( "SBA", "PLAY_HOTEL_MID_05 end", "*****" );
        break;
        case 0:
        l_U324 = 1;
        break;
    }
    return Result;
}

/* BLOCKLOAD_HOTEL_MID_05_ASSETS */ void sub_15412()
{
     /* WRITESCRIPTLOG */ sub_2123( "SBA", "P_SETUP_HOTEL_MID_05", "***" );
    return;
}

/* REGISTER_PEDS_HOTEL_MID_05 */ void sub_15521()
{
     /* WRITESCRIPTLOG */ sub_2123( "SBA", "REGISTER_PEDS_HOTEL_MID_05", "***" );
    if ( /* IS_MAX_VALID */ sub_4868())
    {
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_4107(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 0 ), "W_AR_97LC_Aa_H", 0 );
    }
    REGISTER_HIDE_ENTITY_AT_POSITION( 951250609, 2.51825000, 20.70648000, 18.94560000 );
    return;
}

/* PLAY_HOTEL_MID_07 */ void sub_15962(boolean bParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, boolean bParam9, unknown uParam10)
{
    int Result;
    int iVar14;

    Result = 0;
    if (IS_STRING_NULL( uParam10 ))
    {
        uParam10 = l_U345;
    }
    switch (l_U326)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "PLAY_HOTEL_MID_07 start", "*****" );
         /* LOADSEAMLESSCUTSCENE */ sub_7062( uParam10, 1 );
         /* NIS_PRE_SETUP */ sub_4029( 1, 0, 0, 1 );
        if (NOT bParam0)
        {
             /* BLOCKLOAD_MID_07_ASSETS */ sub_16150();
        }
        else
        {
             /* LOADISEQ */ sub_8647( 951295712, 1 );
            CUTSCENE_REGISTER_ISEQ( 951295712 );
        }
         /* REGISTER_PEDS_MID_07 */ sub_16280( uParam1, uParam4 );
        l_U326 = 2;
        break;
        case 2:
        if (bParam9)
        {
            START_CUTSCENE_CAPTURE( uParam10 );
        }
        START_SEAMLESS_CUTSCENE();
        l_U326 = 3;
        break;
        case 3:
         /* P_PLAYER_HOLSTER_WEAPONS */ sub_4990( ref l_U327, 0, 1 );
         /* P_EQUIP_PLAYER_WITH_SINGLE_HANDED_WEAPON */ sub_6487( 1 );
         /* P_SET_PLAYER_WEAPONS_VISIBLE */ sub_16583( 0 );
        if ( /* CAN_TOGGLE_BAG */ sub_16852())
        {
            PLAYER_ENABLE_COMPONENT( 11, 0 );
        }
        l_U326 = 4;
        break;
        case 4:
        if (HAS_CUTSCENE_FINISHED())
        {
             /* P_SET_PLAYER_WEAPONS_VISIBLE */ sub_16583( 1 );
            if ( /* CAN_TOGGLE_BAG */ sub_16852())
            {
                PLAYER_ENABLE_COMPONENT( 11, 1 );
            }
            g_U1003 = 1;
            if (bParam0)
            {
                CAMERA_PLAY_ANIMATED( "LEVEL_S_HOTEL_CP_06", "B_OUT_12_04_HOTEL_FWD_CAM", 1, uParam5, uParam8, 0, 0 );
            }
            l_U326 = 5;
        }
        else
        {
            iVar14 = GET_CUTSCENE_TIME_MS();
            if ((NOT g_U1003) AND (iVar14 > 7600))
            {
                g_U1003 = 1;
            }
        }
        break;
        case 5:
        if (bParam9)
        {
            STOP_CUTSCENE_CAPTURE();
        }
        Result = 1;
         /* UNLOAD_MID_07_ASSETS */ sub_17755();
        if (NOT bParam0)
        {
             /* NIS_POST_SETUP */ sub_7964( 1, 1 );
        }
        l_U326 = 0;
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "PLAY_HOTEL_MID_07 end", "*****" );
        break;
        case 0:
        l_U326 = 1;
        break;
    }
    return Result;
}

/* BLOCKLOAD_MID_07_ASSETS */ void sub_16150()
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "BLOCKLOAD_MID_07_ASSETS", "***" );
     /* BLOCKLOADMODEL */ sub_4385( 466468872 );
    return;
}

/* REGISTER_PEDS_MID_07 */ void sub_16280(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "REGISTER_PEDS_MID_07", "***" );
    if ( /* IS_MAX_VALID */ sub_4868())
    {
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_4107(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 0 ), "W_PI_Clt1911_Aa_H", 0 );
        CUTSCENE_REGISTER_PED_TELEPORT(  /* PLAYER_PED_ID */ sub_4107(), uParam0, uParam3 );
        ISEQ_REGISTER_ENTITY( 951295712, "max",  /* PLAYER_PED_ID */ sub_4107(), 0 );
    }
    return;
}

/* P_SET_PLAYER_WEAPONS_VISIBLE */ void sub_16583(unknown uParam0)
{
    unknown uVar3;

    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4107() )))
    {
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
            SET_WEAPON_VISIBLE( uVar3, uParam0 );
        }
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 1, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
            SET_WEAPON_VISIBLE( uVar3, uParam0 );
        }
        uVar3 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_4107(), 0 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
            SET_WEAPON_VISIBLE( uVar3, uParam0 );
        }
        uVar3 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_4107(), 1 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
            SET_WEAPON_VISIBLE( uVar3, uParam0 );
        }
        uVar3 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_4107(), 2 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
            SET_WEAPON_VISIBLE( uVar3, uParam0 );
        }
    }
    return;
}

/* CAN_TOGGLE_BAG */ int sub_16852()
{
    int iVar2;

     /* WRITESCRIPTLOG */ sub_2123( "BSW", "CAN_TOGGLE_BAG start", "***" );
    DISPLAYF( "CAN_TOGGLE_BAG variation - {}", 1, 513, GET_CUSTOM_PLAYER_VARIATION() );
    iVar2 =  /* F_GET_ALTERNATE_PLAYER_VARIATION */ sub_16976( GET_CUSTOM_PLAYER_VARIATION() );
    if (NOT IS_ARCADE_MODE_ACTIVE())
    {
        return 1;
    }
    if ((iVar2 == 48) || ((iVar2 == 47) || ((iVar2 == 46) || ((iVar2 == 45) || (iVar2 == 44)))))
    {
         /* WRITESCRIPTLOG */ sub_2123( "BSW", "CAN_TOGGLE_BAG got a no-no variation, return false", "***" );
        return 0;
    }
    return 1;
}

/* F_GET_ALTERNATE_PLAYER_VARIATION */ int sub_16976(unknown uParam0)
{
    unknown uVar3;

    uVar3 = uParam0;
    switch (uVar3)
    {
        case 1:
        return 44;
        break;
        case 2:
        return 46;
        break;
        case 3:
        return 3;
        break;
        case 4:
        return 10;
        break;
        case 5:
        return 15;
        break;
        case 6:
        return 18;
        break;
        case 7:
        return 20;
        break;
        case 8:
        return 24;
        break;
        case 9:
        return 26;
        break;
        case 10:
        return 31;
        break;
        case 11:
        return 36;
        break;
        case 12:
        return 1;
        break;
        case 13:
        return 16;
        break;
        case 14:
        return 29;
        break;
        case 15:
        return 32;
        break;
        case 16:
        return 41;
        break;
        case 17:
        return 37;
        break;
        case 18:
        return 48;
        break;
        case 19:
        return 45;
        break;
        case 20:
        return 47;
        break;
    }
    return 49;
}

/* UNLOAD_MID_07_ASSETS */ void sub_17755()
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "UNLOAD_MID_07_ASSETS", "***" );
     /* UNLOADMODEL */ sub_7804( 466468872 );
    return;
}

/* PLAY_HOTEL_MID_08 */ void sub_17952(boolean bParam0, boolean bParam1, boolean bParam2, unknown uParam3)
{
    int Result;

    Result = 0;
    if (IS_STRING_NULL( uParam3 ))
    {
        uParam3 = l_U396;
    }
    switch (l_U346)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "PLAY_HOTEL_MID_08 start", "*****" );
         /* WRITESCRIPTLOG */ sub_2123( "SBA", "PLAY_HOTEL_MID_08: Using:", "***" );
         /* WRITE_STRING */ sub_3500( uParam3 );
         /* NIS_PRE_SETUP */ sub_4029( 1, 0, 0, 1 );
         /* LOADSEAMLESSCUTSCENE */ sub_7062( uParam3, 1 );
        if (NOT bParam0)
        {
             /* BLOCKLOAD_MID_08_ASSETS */ sub_18188();
             /* CREATE_MID_08_PEDS */ sub_18305();
             /* REGISTER_PEDS_MID_08 */ sub_18520( ref l_U403, 0 );
        }
        if (bParam1)
        {
             /* WRITESCRIPTLOG */ sub_2123( "bsw", "PLAY_HOTEL_MID_08 - going to use the cover blendout VIG this time", 0 );
             /* LOADISEQ */ sub_8647( -780465587, 1 );
            ISEQ_REGISTER_ENTITY( -780465587, "max",  /* PLAYER_PED_ID */ sub_4107(), 0 );
            CUTSCENE_REGISTER_ISEQ( -780465587 );
            CUTSCENE_REGISTER_PED_TELEPORT(  /* PLAYER_PED_ID */ sub_4107(), 6.22422600, 29.49182000, 28.65189000, 59.93398000 );
            CUTSCENE_REGISTER_SET_PLAYER_IN_COVER( "GenCover", "305DBE67_CCD82DFB_Popover1", 1, 0 );
            CUTSCENE_SET_COVER_CAMERA_DIRECTION( 93.47329000, -10.10740000 );
             /* NIS_CREATE_STATIC_CAM */ sub_14459( ref l_U365, 7.70572000, 32.40286000, 30.25313000, -10.38024000, -0.00000000, 147.76480000, 1110704128, 1000 );
        }
        else
        {
            CUTSCENE_REGISTER_PED_TELEPORT(  /* PLAYER_PED_ID */ sub_4107(), g_U1020[8], g_U1123[8] );
            CUTSCENE_REGISTER_SET_PLAYER_IN_COVER( "GenCover", "305DBE67_E394D885_Corner1", 1, 1 );
            CUTSCENE_SET_COVER_CAMERA_DIRECTION( g_U1158[8], g_U1193[8] );
        }
        REGISTER_HIDE_ENTITY_AT_POSITION( g_U1687._fU0, g_U1687._fU4 );
        l_U346 = 2;
        break;
        case 2:
        if (bParam2)
        {
            START_CUTSCENE_CAPTURE( uParam3 );
        }
        START_SEAMLESS_CUTSCENE();
        l_U346 = 3;
        break;
        case 3:
         /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_6354( l_U347, 0 );
        if ( /* CAN_TOGGLE_BAG */ sub_16852())
        {
            PLAYER_ENABLE_COMPONENT( 11, 0 );
        }
        if (bParam1)
        {
             /* NIS_PLAY_STATIC_CAMERA */ sub_14832( ref l_U365 );
        }
        l_U346 = 4;
        break;
        case 4:
        if (HAS_CUTSCENE_FINISHED())
        {
             /* P_PLAYER_UNHOLSTER_WEAPONS */ sub_7477( l_U347, 1 );
             /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_6354( l_U347, 1 );
            if ( /* CAN_TOGGLE_BAG */ sub_16852())
            {
                PLAYER_ENABLE_COMPONENT( 11, 1 );
            }
            l_U346 = 5;
        }
        break;
        case 5:
        if (bParam2)
        {
            STOP_CUTSCENE_CAPTURE();
        }
        Result = 1;
        if (NOT bParam0)
        {
             /* CLEANPEDARRAY */ sub_11540( ref l_U398 );
             /* UNLOAD_MID_08_ASSETS */ sub_20912();
        }
        if (NOT bParam1)
        {
             /* NIS_POST_SETUP */ sub_7964( 1, 1 );
        }
        l_U346 = 0;
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "PLAY_HOTEL_MID_08 end", "*****" );
        break;
        case 0:
        l_U346 = 1;
        break;
    }
    return Result;
}

/* BLOCKLOAD_MID_08_ASSETS */ void sub_18188()
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "BLOCKLOAD_MID_08_ASSETS", "***" );
     /* BLOCKLOADMODEL */ sub_4385( 928600325 );
     /* BLOCKLOADMODEL */ sub_4385( 466468872 );
     /* BLOCKLOADMODEL */ sub_4385( 547887525 );
    return;
}

/* CREATE_MID_08_PEDS */ void sub_18305()
{
    int I;

     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U403[0], 0, 0, 0, 0, -1175062477, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U403[1], 0, 0, 0, 0, -918073547, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U403[2], 0, 0, 0, 0, -1440269224, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U403[3], 0, 0, 0, 0, 341817814, 26, 6, 0, 0, 0 );
    for ( I = 0; I <= (l_U398 - 1); I++ )
    {
        l_U398[I] =  /* CREATEPED */ sub_9833( ref l_U403[I] );
    }
    return;
}

/* REGISTER_PEDS_MID_08 */ void sub_18520(unknown uParam0, boolean bParam1)
{
    unknown uVar4;
    unknown uVar5;

     /* WRITESCRIPTLOG */ sub_2123( "RJM", "REGISTER_PEDS_MID_08", "***" );
    if ( /* IS_MAX_VALID */ sub_4868())
    {
        uVar5 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar5 ))
        {
            if (NOT ( /* IS_WEAPON_TWO_HANDED */ sub_5484( uVar5 )))
            {
                 /* WRITESCRIPTLOG */ sub_2123( "BSW", "Max is holding a pistol, setting action01", "***" );
                CUTSCENE_REGISTER_PED_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_4107(), 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
            }
            else
            {
                 /* WRITESCRIPTLOG */ sub_2123( "BSW", "Max is holding a 2hander, setting action02", "***" );
                CUTSCENE_REGISTER_PED_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_4107(), 48, 1000, 0.00000000, 0.00000000, 0.00000000 );
            }
        }
        else
        {
             /* WRITESCRIPTLOG */ sub_2123( "BSW", "FAILSAFE: Assume Max is holding a pistol and set action01", "***" );
            CUTSCENE_REGISTER_PED_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_4107(), 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_4107(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
         /* P_PLAYER_HOLSTER_WEAPONS */ sub_4990( ref l_U347, 0, 1 );
        uVar4 =  /* F_GET_SINGLE_HANDED_WEAPON_FROM_PLAYER */ sub_6635();
        if (GET_DOES_WEAPON_EXIST( uVar4 ))
        {
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar4, "W_PI_Clt1911_Aa_H", 0 );
        }
    }
    if (bParam1)
    {
        if ( /* IS_PED_VALID */ sub_4898( (uParam0^)[0]._fU40 ))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam0^)[0]._fU40, "H_Crac_Sold_C", 0 );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( (uParam0^)[0]._fU40, "/Global/PLGE/PLGE_Root/VIGNETTE_EXIT/PLGE_VIGNETTE_EXECUTE_EXIT" );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( (uParam0^)[0]._fU40, 0, 0 ), "W_AR_97LC_Aa_H^2", 0 );
        }
        if ( /* IS_PED_VALID */ sub_4898( (uParam0^)[1]._fU40 ))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam0^)[1]._fU40, "H_Crac_Sold_C^1", 0 );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( (uParam0^)[1]._fU40, "/Global/PLGE/PLGE_Root/VIGNETTE_EXIT/PLGE_VIGNETTE_EXECUTE_EXIT" );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( (uParam0^)[1]._fU40, 0, 0 ), "W_AR_97LC_Aa_H", 0 );
        }
        if ( /* IS_PED_VALID */ sub_4898( (uParam0^)[2]._fU40 ))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam0^)[2]._fU40, "H_Crac_Sold_C^2", 0 );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( (uParam0^)[2]._fU40, "/Global/PLGE/PLGE_Root/VIGNETTE_EXIT/PLGE_VIGNETTE_EXECUTE_EXIT" );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( (uParam0^)[2]._fU40, 0, 0 ), "W_AR_97LC_Aa_H^1", 0 );
        }
        if ( /* IS_PED_VALID */ sub_4898( (uParam0^)[3]._fU40 ))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam0^)[3]._fU40, "H_Crac_Sold_C^3", 0 );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( (uParam0^)[3]._fU40, "/Global/PLGE/PLGE_Root/VIGNETTE_EXIT/PLGE_VIGNETTE_EXECUTE_EXIT" );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( (uParam0^)[3]._fU40, 0, 0 ), "W_AR_97LC_Aa_H^3", 0 );
        }
         /* REGISTER_PEDS_TELEPORT_WITH_MID_08 */ sub_19825( uParam0 );
    }
    else
    {
         /* REGISTER_PED_WITH_MID_08 */ sub_20048( ref (uParam0^)[0]._fU40, "H_Crac_Sold_C" );
         /* REGISTER_PED_WITH_MID_08 */ sub_20048( ref (uParam0^)[1]._fU40, "H_Crac_Sold_C^1" );
         /* REGISTER_PED_WITH_MID_08 */ sub_20048( ref (uParam0^)[2]._fU40, "H_Crac_Sold_C^2" );
         /* REGISTER_PED_WITH_MID_08 */ sub_20048( ref (uParam0^)[3]._fU40, "H_Crac_Sold_C^3" );
    }
    return;
}

/* REGISTER_PEDS_TELEPORT_WITH_MID_08 */ void sub_19825(unknown uParam0)
{
    int I;

     /* WRITESCRIPTLOG */ sub_2123( "SBA", "REGISTER_PED_TELEPORT_WITH_MID_08", "***" );
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        if ( /* IS_PED_VALID */ sub_4898( (uParam0^)[I]._fU40 ))
        {
            CUTSCENE_REGISTER_PED_TELEPORT( (uParam0^)[I]._fU40, (uParam0^)[I]._fU0, (uParam0^)[I]._fU12 );
        }
    }
    return;
}

/* REGISTER_PED_WITH_MID_08 */ void sub_20048(unknown uParam0, unknown uParam1)
{
    if ( /* IS_PED_VALID */ sub_4898( (uParam0^) ))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam0^), uParam1, 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( (uParam0^), "/Global/PLGE/PLGE_Root/VIGNETTE_EXIT/PLGE_VIGNETTE_EXECUTE_EXIT" );
    }
    return;
}

/* UNLOAD_MID_08_ASSETS */ void sub_20912()
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "UNLOAD_MID_08_ASSETS", "***" );
     /* UNLOADMODEL */ sub_7804( 928600325 );
     /* UNLOADMODEL */ sub_7804( 466468872 );
     /* UNLOADMODEL */ sub_7804( 547887525 );
    return;
}

/* PLAY_HOTEL_MID_09 */ void sub_21156(boolean bParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, boolean bParam11, unknown uParam12)
{
    int Result;
    int iVar16;

    Result = 0;
    if (IS_STRING_NULL( uParam12 ))
    {
        uParam12 = l_U457;
    }
    switch (l_U456)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "PLAY_HOTEL_MID_09 start", "*****" );
         /* LOADSEAMLESSCUTSCENE */ sub_7062( uParam12, 1 );
         /* NIS_PRE_SETUP */ sub_4029( 1, 0, 0, 1 );
        if (NOT bParam0)
        {
             /* BLOCKLOAD_MID_09_ASSETS */ sub_21344();
        }
         /* REGISTER_PEDS_MID_09 */ sub_21446( uParam1, uParam4 );
        l_U456 = 2;
        break;
        case 2:
        if (bParam11)
        {
            START_CUTSCENE_CAPTURE( uParam12 );
        }
        START_SEAMLESS_CUTSCENE();
        l_U456 = 3;
        break;
        case 3:
         /* P_PLAYER_HOLSTER_WEAPONS */ sub_4990( ref l_U458, 0, 1 );
         /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_6354( l_U458, 0 );
        if ( /* CAN_TOGGLE_BAG */ sub_16852())
        {
            PLAYER_ENABLE_COMPONENT( 11, 0 );
        }
        l_U456 = 4;
        break;
        case 4:
        if (HAS_CUTSCENE_FINISHED())
        {
            if ( /* CAN_TOGGLE_BAG */ sub_16852())
            {
                PLAYER_ENABLE_COMPONENT( 11, 1 );
            }
            SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0, 1065353216, 0 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0, 1065353216, 0 );
            g_U1004 = 1;
            l_U456 = 5;
        }
        else
        {
            iVar16 = GET_CUTSCENE_TIME_MS();
            if ((NOT g_U1004) AND (iVar16 > 6300))
            {
                 /* P_EQUIP_PLAYER_WITH_SINGLE_HANDED_WEAPON */ sub_6487( 1 );
                 /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_6354( l_U458, 1 );
                g_U1004 = 1;
            }
        }
        break;
        case 5:
        if (bParam11)
        {
            STOP_CUTSCENE_CAPTURE();
        }
        Result = 1;
        if (NOT bParam0)
        {
             /* UNLOAD_MID_09_ASSETS */ sub_21923();
        }
         /* NIS_POST_SETUP */ sub_7964( 1, 1 );
        CAMERA_FREEZE_FRAME( 1, 1000, 0, 0 );
        l_U456 = 0;
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "PLAY_HOTEL_MID_09 end", "*****" );
        break;
        case 0:
        l_U456 = 1;
        break;
    }
    return Result;
}

/* BLOCKLOAD_MID_09_ASSETS */ void sub_21344()
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "BLOCKLOAD_MID_09_ASSETS", "***" );
     /* BLOCKLOADMODEL */ sub_4385( 466468872 );
    return;
}

/* REGISTER_PEDS_MID_09 */ void sub_21446(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;

     /* WRITESCRIPTLOG */ sub_2123( "RJM", "REGISTER_PEDS_MID_09", "***" );
    if ( /* IS_MAX_VALID */ sub_4868())
    {
        uVar6 = GET_WEAPON_FROM_SLOT(  /* PLAYER_PED_ID */ sub_4107(), 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_4107(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar6, "W_PI_Clt1911_Aa_H", 0 );
        CUTSCENE_REGISTER_PED_TELEPORT(  /* PLAYER_PED_ID */ sub_4107(), uParam0, uParam3 );
    }
    return;
}

/* UNLOAD_MID_09_ASSETS */ void sub_21923()
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "UNLOAD_MID_09_ASSETS", "***" );
     /* UNLOADMODEL */ sub_7804( 466468872 );
    return;
}

/* PLAY_HOTEL_CUT_12_01 */ void sub_22140(boolean bParam0, unknown uParam1, unknown uParam2, unknown uParam3, boolean bParam4, unknown uParam5, unknown uParam6)
{
    int Result;
    int iVar10;
    string sVar11;
    unknown uVar12;

    Result = 0;
    if (IS_STRING_NULL( uParam5 ))
    {
        uParam5 = l_U538;
    }
    switch (l_U519)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "PLAY_HOTEL_CUT_12_01 start", "*****" );
         /* NIS_PRE_SETUP */ sub_4029( 1, 0, 0, 1 );
        if (NOT bParam0)
        {
             /* LOAD_HOTEL_CUT_12_01_ASSETS */ sub_22323();
            if ((uParam1._fU8 != 0.00000000) AND ((uParam1._fU4 != 0.00000000) AND (uParam1._fU0 != 0.00000000)))
            {
                 /* TELEPORTPED */ sub_11346(  /* PLAYER_PED_ID */ sub_4107(), uParam1, -90.00000000 );
                SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
                 /* WRITESCRIPTLOG */ sub_2123( "BSW", "teleporting Max to: ", 0 );
                 /* WRITE_VECTOR */ sub_22590( uParam1 );
            }
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_4107(), 1 );
            LOAD_SCENE( uParam1 );
            WAIT( 1 );
            while (GET_NUMBER_OF_STREAMING_REQUESTS() > 0)
            {
                 /* WRITESCRIPTLOG */ sub_2123( "BSW", "PLAY_HOTEL_CUT_12_01 waiting for streaming", 0 );
                WAIT( 0 );
            }
            WAIT( 2000 );
        }
        else
        {
             /* LOADISEQ */ sub_8647( 1009803174, 1 );
            CUTSCENE_REGISTER_ISEQ( 1009803174 );
        }
        if (bParam0)
        {
             /* SET_HOTEL_WEATHER_AND_TOD */ sub_22802( uParam6 );
        }
        else if ( /* F_ARE_VECTORS_EQUAL */ sub_23264( uParam1, l_U507, 1 ))
        {
            iVar10 = 20;
            sVar11 = "SUNNY";
        }
        else if ( /* F_ARE_VECTORS_EQUAL */ sub_23264( uParam1, l_U513, 1 ))
        {
            iVar10 = 20;
            sVar11 = "CLOUDY";
        }
        else
        {
            iVar10 = 20;
            sVar11 = "EXTRASUNNY";
        }
        SET_TIME_OF_DAY( iVar10, 0 );
        FREEZE_TIME_OF_DAY( iVar10, 0 );
        SET_WEATHER_TYPE_NOW_PERSIST( sVar11 );
        SET_WEATHER_TRANSITION_IMMEDIATE( 1 );;
         /* LOADSEAMLESSCUTSCENE */ sub_7062( uParam5, 1 );
        l_U570 = 0;
        if (ARE_STRINGS_EQUAL( uParam5, l_U538 ))
        {
             /* WRITESCRIPTLOG */ sub_2123( "BSW", "PLAY_HOTEL_CUT_12_01 get ready to twiddle the weather!", 0 );
            l_U571 = 1;
        }
        else
        {
            l_U571 = 0;
        }
         /* CREATE_CUTSCENE_ONLY_12_01_STUFF */ sub_23582();
         /* REGISTER_PEDS_HOTEL_CUT_12_01 */ sub_25418( ref l_U539 );
        CUTSCENE_SET_WAIT_FOR_MOVIE( 9 );
        CUTSCENE_ENABLE_SKIP( 0 );
        l_U519 = 2;
        break;
        case 2:
        if ((NOT CUTSCENE_IS_WAITING_FOR_MOVIE()) || (NOT IS_TRANSITION_MOVIE_PLAYING()))
        {
            if (bParam4)
            {
                START_CUTSCENE_CAPTURE( uParam5 );
            }
            START_SEAMLESS_CUTSCENE();
            CUTSCENE_DISABLE_FADE_IN_GAME_AT_END( 1 );
            l_U519 = 3;
        }
        break;
        case 3:
        l_U519 = 4;
        break;
        case 4:
        if (l_U571)
        {
            if ((GET_CUTSCENE_TIME_MS() > 100149) AND (l_U570 == 0))
            {
                SET_WEATHER_TYPE_NOW_PERSIST( "CLOUDY" );
                SET_WEATHER_TRANSITION_IMMEDIATE( 1 );
                 /* WRITESCRIPTLOG */ sub_2123( "BSW", "PLAY_HOTEL_CUT_12_01 twiddle 1, cloudy", 0 );
                l_U570++;
            }
            else if ((GET_CUTSCENE_TIME_MS() > 125437) AND (l_U570 == 1))
            {
                SET_WEATHER_TYPE_NOW_PERSIST( "EXTRASUNNY" );
                SET_WEATHER_TRANSITION_IMMEDIATE( 1 );
                 /* WRITESCRIPTLOG */ sub_2123( "BSW", "PLAY_HOTEL_CUT_12_01 twiddle 2, EXTRASUNNY", 0 );
                l_U570++;
            }
        }
        if (GET_CUTSCENE_TIME_MS() > 174099)
        {
            CUTSCENE_ENABLE_SKIP( 1 );
        }
        if (NOT l_U569)
        {
            if (GET_CUTSCENE_TIME_MS() > 135641)
            {
                 /* WRITESCRIPTLOG */ sub_2123( "MF", "Starting Music Cue 1.2", 0 );
                AUDIO_MUSIC_FORCE_TRACK( "HOTEL_SONG", "HOTEL_SONG_1", "", 0, 8000, 0, -1082130432, 0 );
                l_U569 = 1;
            }
        }
        if (HAS_CUTSCENE_FINISHED())
        {
             /* P_PLAYER_UNHOLSTER_WEAPONS */ sub_7477( l_U520, 1 );
             /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_6354( l_U520, 1 );
             /* P_SET_PED_ALL_WEAPON_VISIBILITY */ sub_25548(  /* PLAYER_PED_ID */ sub_4107(), 1 );
            l_U519 = 5;
            break;
        }
        return 0;
        case 5:
        if (bParam4)
        {
            STOP_CUTSCENE_CAPTURE();
        }
         /* CLEANPEDARRAY */ sub_11540( ref l_U539 );
         /* CLEANVEHICLE */ sub_27702( l_U555 );
         /* CLEANVEHICLE */ sub_27702( l_U556 );
         /* CLEANVEHICLEARRAY */ sub_27785( ref l_U561 );
         /* CLEANVEHICLEARRAY */ sub_27785( ref l_U557 );
         /* CLEANVEHICLEARRAY */ sub_27785( ref l_U565 );
         /* UNLOAD_HOTEL_CUT_12_01_ASSETS */ sub_27881();
        if (IS_SCREEN_FADED_OUT())
        {
             /* WRITESCRIPTLOG */ sub_2123( "BSW", "cutscene skipped, force some loading", 0 );
             /* TELEPORTPED */ sub_11346(  /* PLAYER_PED_ID */ sub_4107(), g_U1020[1], g_U1123[1] );
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_4107(), 1 );
            uVar12 = GET_INTERIOR_AT_COORDS( g_U1020[1] );
            SET_INTERIOR_ACTIVE( uVar12, 1, 0 );
            LOAD_SCENE_FOR_ROOM_BY_KEY( uVar12, GET_HASH_KEY( ref g_U1258 ) );
            WAIT( 1 );
            while (GET_NUMBER_OF_STREAMING_REQUESTS() > 0)
            {
                 /* WRITESCRIPTLOG */ sub_2123( "BSW", "WAITING FOR STREAMING 1", 0 );
                WAIT( 0 );
            }
            FREEZE_PED_POSITION(  /* PLAYER_PED_ID */ sub_4107(), 0 );
        }
        Result = 1;
         /* NIS_POST_SETUP */ sub_7964( 1, 1 );
        CAMERA_PLAY_ANIMATED( "LEVEL_S_HOTEL_CP_01", "B_OUT_MID_01_HOTEL_FWD_CAM", 1, 17.76000000, 45.46000000, -1.87000000, 0.00000000, 0, 0 );
        SET_ALL_VEHICLES_HIGH_LOD( 0 );
        l_U519 = 0;
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "PLAY_HOTEL_CUT_12_01 end", "*****" );
        break;
        case 0:
        l_U519 = 1;
        break;
    }
    return Result;
}

/* LOAD_HOTEL_CUT_12_01_ASSETS */ void sub_22323()
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "BLOCKLOAD_HOTEL_CUT_12_01_ASSETS", "***" );
     /* LOADMODEL */ sub_10015( 1912342970, 1 );
     /* LOADMODEL */ sub_10015( 1979959192, 1 );
     /* LOADMODEL */ sub_10015( -1425703854, 1 );
     /* LOADMODEL */ sub_10015( -764000169, 1 );
     /* LOADMODEL */ sub_10015( -1522400210, 1 );
    return;
}

/* WRITE_VECTOR */ void sub_22590(unknown uParam0, unknown uParam1, unknown uParam2)
{
    PRINTVECTOR( uParam0 );
    PRINTNL();
    return;
}

/* SET_HOTEL_WEATHER_AND_TOD */ void sub_22802(unknown uParam0)
{
    int iVar3;
    string sVar4;

    switch (uParam0)
    {
        case 20:
        case 0:
        iVar3 = 20;
        sVar4 = "SUNNY";
        break;
        case 1:
        iVar3 = 12;
        sVar4 = "SUNNY";
        break;
        case 2:
        case 3:
        case 4:
        iVar3 = 9;
        sVar4 = "SUNNY";
        break;
        case 5:
        iVar3 = 12;
        sVar4 = "SUNNY";
        break;
        case 6:
        case 7:
        case 8:
        case 9:
        iVar3 = 9;
        sVar4 = "SUNNY_WINDY";
        break;
        case 10:
        iVar3 = 12;
        sVar4 = "SUNNY_WINDY";
        break;
        default:
        iVar3 = 12;
        sVar4 = "SUNNY";
        break;
    }
    PRINTSTRING( "SET_HOTEL_WEATHER_AND_TOD - checkpoint #" );
    PRINTINT( uParam0 );
    PRINTSTRING( " hour: " );
    PRINTINT( iVar3 );
    PRINTSTRING( " weather: " );
    PRINTSTRING( sVar4 );
    PRINTNL();
    SET_TIME_OF_DAY( iVar3, 0 );
    FREEZE_TIME_OF_DAY( iVar3, 0 );
    SET_WEATHER_TYPE_NOW_PERSIST( sVar4 );
    SET_WEATHER_TRANSITION_IMMEDIATE( 1 );
    return;
}

/* F_ARE_VECTORS_EQUAL */ int sub_23264(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
    if ((GET_DISTANCE_BETWEEN_COORDS( uParam0, uParam3, uParam6 )) == 0)
    {
        return 1;
        break;
    }
    return 0;
}

/* CREATE_CUTSCENE_ONLY_12_01_STUFF */ void sub_23582()
{
    int I;

     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U541[0], 0, 0, 0, 0, -1694940103, 26, 6, 0, 0, 0 );
    for ( I = 0; I <= (l_U539 - 1); I++ )
    {
        l_U539[I] =  /* CREATEPED */ sub_9833( ref l_U541[I] );
    }
    l_U555 =  /* CREATEVEHICLE */ sub_23737( 1979959192, 318.86200000, 363.61200000, -3.33285000, 360.00000000, 1, 0, 0 );
    if (NOT (IS_VEHICLE_DEAD( l_U555 )))
    {
        SET_VEHICLE_ON_GROUND_PROPERLY( l_U555 );
        SET_VEHICLE_PROOFS( l_U555, 1, 1, 1, 1, 1 );
        SET_VEHICLE_CAN_BE_DAMAGED( l_U555, 0 );
        SET_VEHICLE_LIGHTS( l_U555, 1 );
        SET_VEHICLE_COLOUR_COMBINATION( l_U555, 0 );
        SET_VEHICLE_EXTRA( l_U555, 0, 1 );
        SET_VEHICLE_EXTRA( l_U555, 1, 1 );
        SET_VEHICLE_EXTRA( l_U555, 2, 1 );
        SET_VEHICLE_EXTRA( l_U555, 3, 1 );
        SET_VEHICLE_EXTRA( l_U555, 4, 1 );
        SET_VEHICLE_EXTRA( l_U555, 5, 1 );
        SET_VEHICLE_EXTRA( l_U555, 6, 1 );
        SET_VEHICLE_EXTRA( l_U555, 7, 1 );
        SET_VEHICLE_EXTRA( l_U555, 8, 1 );
    }
    l_U556 =  /* CREATEVEHICLE */ sub_23737( 1979959192, 0, 0, 0, 360.00000000, 1, 0, 0 );
    if (NOT (IS_VEHICLE_DEAD( l_U556 )))
    {
        SET_VEHICLE_PROOFS( l_U556, 1, 1, 1, 1, 1 );
        SET_VEHICLE_CAN_BE_DAMAGED( l_U556, 0 );
        SET_VEHICLE_LIGHTS( l_U556, 1 );
        SET_VEHICLE_COLOUR_COMBINATION( l_U556, 1 );
        SET_VEHICLE_EXTRA( l_U556, 0, 1 );
        SET_VEHICLE_EXTRA( l_U556, 1, 1 );
        SET_VEHICLE_EXTRA( l_U556, 2, 1 );
        SET_VEHICLE_EXTRA( l_U556, 3, 1 );
        SET_VEHICLE_EXTRA( l_U556, 4, 1 );
        SET_VEHICLE_EXTRA( l_U556, 5, 1 );
        SET_VEHICLE_EXTRA( l_U556, 6, 1 );
        SET_VEHICLE_EXTRA( l_U556, 7, 1 );
        SET_VEHICLE_EXTRA( l_U556, 8, 1 );
    }
    for ( I = 0; I <= (l_U557 - 1); I++ )
    {
        l_U557[I] =  /* CREATEVEHICLE */ sub_23737( -1522400210, 0, 0, 0, 360.00000000, 1, 0, 0 );
        if (NOT (IS_VEHICLE_DEAD( l_U557[I] )))
        {
            SET_VEHICLE_PROOFS( l_U557[I], 1, 1, 1, 1, 1 );
            SET_VEHICLE_CAN_BE_DAMAGED( l_U557[I], 0 );
            SET_VEHICLE_COLOUR_COMBINATION( l_U557[I], I );
            SET_VEHICLE_EXTRA( l_U557[I], 0, 1 );
            SET_VEHICLE_EXTRA( l_U557[I], 1, 1 );
            SET_VEHICLE_EXTRA( l_U557[I], 2, 1 );
            SET_VEHICLE_EXTRA( l_U557[I], 3, 1 );
            SET_VEHICLE_EXTRA( l_U557[I], 4, 1 );
            SET_VEHICLE_EXTRA( l_U557[I], 5, 1 );
            SET_VEHICLE_EXTRA( l_U557[I], 6, 1 );
            SET_VEHICLE_EXTRA( l_U557[I], 7, 1 );
            SET_VEHICLE_EXTRA( l_U557[I], 8, 1 );
        }
    }
    for ( I = 0; I <= (l_U561 - 1); I++ )
    {
        l_U561[I] =  /* CREATEVEHICLE */ sub_23737( -764000169, 0, 0, 0, 360.00000000, 1, 0, 0 );
        if (NOT (IS_VEHICLE_DEAD( l_U561[I] )))
        {
            SET_VEHICLE_PROOFS( l_U561[I], 1, 1, 1, 1, 1 );
            SET_VEHICLE_CAN_BE_DAMAGED( l_U561[I], 0 );
            SET_VEHICLE_COLOUR_COMBINATION( l_U561[I], I );
            SET_VEHICLE_EXTRA( l_U561[I], 0, 1 );
            SET_VEHICLE_EXTRA( l_U561[I], 1, 1 );
            SET_VEHICLE_EXTRA( l_U561[I], 2, 1 );
            SET_VEHICLE_EXTRA( l_U561[I], 3, 1 );
            SET_VEHICLE_EXTRA( l_U561[I], 4, 1 );
            SET_VEHICLE_EXTRA( l_U561[I], 5, 1 );
            SET_VEHICLE_EXTRA( l_U561[I], 6, 1 );
            SET_VEHICLE_EXTRA( l_U561[I], 7, 1 );
            SET_VEHICLE_EXTRA( l_U561[I], 8, 1 );
        }
    }
    for ( I = 0; I <= (l_U565 - 1); I++ )
    {
        l_U565[I] =  /* CREATEVEHICLE */ sub_23737( -1425703854, 0, 0, 0, 360.00000000, 1, 0, 0 );
        if (NOT (IS_VEHICLE_DEAD( l_U565[I] )))
        {
            SET_VEHICLE_PROOFS( l_U565[I], 1, 1, 1, 1, 1 );
            SET_VEHICLE_CAN_BE_DAMAGED( l_U565[I], 0 );
            SET_VEHICLE_COLOUR_COMBINATION( l_U565[I], I );
            SET_VEHICLE_EXTRA( l_U565[I], 0, 1 );
            SET_VEHICLE_EXTRA( l_U565[I], 1, 1 );
            SET_VEHICLE_EXTRA( l_U565[I], 2, 1 );
            SET_VEHICLE_EXTRA( l_U565[I], 3, 1 );
            SET_VEHICLE_EXTRA( l_U565[I], 4, 1 );
            SET_VEHICLE_EXTRA( l_U565[I], 5, 1 );
            SET_VEHICLE_EXTRA( l_U565[I], 6, 1 );
            SET_VEHICLE_EXTRA( l_U565[I], 7, 1 );
            SET_VEHICLE_EXTRA( l_U565[I], 8, 1 );
        }
    }
    SET_ALL_VEHICLES_HIGH_LOD( 1 );
    return;
}

/* CREATEVEHICLE */ void sub_23737(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, int iParam5, unknown uParam6, unknown uParam7)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a vehicle with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_10015( uParam0, 1 );
    }
    Result = CREATE_VEHICLE( uParam0, uParam1, uParam4, uParam6, uParam7 );
    if (iParam5 == 1)
    {
        while ((DOES_VEHICLE_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for vehicle to exist: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    if (DOES_VEHICLE_EXIST( Result ))
    {
        SET_PETROLTANK_BURN_RATE( Result, 125.00000000 );
    }
    return Result;
}

/* REGISTER_PEDS_HOTEL_CUT_12_01 */ void sub_25418(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "REGISTER_PEDS_HOTEL_CUT_12_01", "***" );
    if ( /* IS_MAX_VALID */ sub_4868())
    {
         /* P_PLAYER_HOLSTER_WEAPONS */ sub_4990( ref l_U520, 1, 1 );
         /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_6354( l_U520, 0 );
         /* P_SET_PED_ALL_WEAPON_VISIBILITY */ sub_25548(  /* PLAYER_PED_ID */ sub_4107(), 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_4107(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
        CUTSCENE_REGISTER_PED_TELEPORT(  /* PLAYER_PED_ID */ sub_4107(), g_U1020[1], g_U1123[1] );
        ISEQ_REGISTER_ENTITY( 1009803174, "max",  /* PLAYER_PED_ID */ sub_4107(), 0 );
    }
     /* REGISTER_PED_WITH_12_01 */ sub_26448( ref (uParam0^)[0], "Wlsn_Undr_1a" );
    if ( /* IS_VEHICLE_VALID */ sub_26535( l_U555 ))
    {
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "REGISTER_VEHICLE_WITH_12_01", "***" );
        CUTSCENE_REGISTER_VEHICLE_COPY( l_U555, "car_detective" );
        SET_VEHICLE_NAME_DEBUG( l_U555, "car_detective" );
    }
     /* REGISTER_VEHICLE_WITH_12_01 */ sub_26732( ref l_U556, "car_detective^1" );
     /* REGISTER_VEHICLE_WITH_12_01 */ sub_26732( ref l_U561[0], "car_brzhatch" );
     /* REGISTER_VEHICLE_WITH_12_01 */ sub_26732( ref l_U561[1], "car_brzhatch^1" );
     /* REGISTER_VEHICLE_WITH_12_01 */ sub_26732( ref l_U561[2], "car_brzhatch^2" );
     /* REGISTER_VEHICLE_WITH_12_01 */ sub_26732( ref l_U557[0], "car_brzsedan" );
     /* REGISTER_VEHICLE_WITH_12_01 */ sub_26732( ref l_U557[1], "car_brzsedan^1" );
     /* REGISTER_VEHICLE_WITH_12_01 */ sub_26732( ref l_U557[2], "car_brzsedan^2" );
     /* REGISTER_VEHICLE_WITH_12_01 */ sub_26732( ref l_U565[0], "felino" );
     /* REGISTER_VEHICLE_WITH_12_01 */ sub_26732( ref l_U565[1], "felino^1" );
     /* REGISTER_VEHICLE_WITH_12_01 */ sub_26732( ref l_U565[2], "felino^2" );
    return;
}

/* P_SET_PED_ALL_WEAPON_VISIBILITY */ void sub_25548(unknown uParam0, unknown uParam1)
{
     /* WRITESCRIPTLOG */ sub_2123( "SBA", "P_SET_PED_ALL_WEAPON_VISIBILITY", 0 );
     /* WRITE_BOOL */ sub_11153( uParam1 );
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
         /* WRITESCRIPTLOG */ sub_2123( "SBA", "P_SET_PED_ALL_WEAPON_VISIBILITY: WEAPONHAND_LEFT", 0 );
         /* WRITE_INT */ sub_25734( GET_WEAPON_FROM_HAND( uParam0, 1, 0 ) );
        if ((GET_WEAPON_FROM_HAND( uParam0, 1, 0 )) != 0)
        {
            SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND( uParam0, 1, 0 ), uParam1 );
        }
         /* WRITESCRIPTLOG */ sub_2123( "SBA", "P_SET_PED_ALL_WEAPON_VISIBILITY: WEAPONHAND_RIGHT", 0 );
         /* WRITE_INT */ sub_25734( GET_WEAPON_FROM_HAND( uParam0, 0, 0 ) );
        if ((GET_WEAPON_FROM_HAND( uParam0, 0, 0 )) != 0)
        {
            SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND( uParam0, 0, 0 ), uParam1 );
        }
         /* WRITESCRIPTLOG */ sub_2123( "SBA", "P_SET_PED_ALL_WEAPON_VISIBILITY: WEAPONHOLSTER_PISTOL_LEFT", 0 );
         /* WRITE_INT */ sub_25734( GET_WEAPON_FROM_HOLSTER( uParam0, 1 ) );
        if ((GET_WEAPON_FROM_HOLSTER( uParam0, 1 )) != 0)
        {
            SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HOLSTER( uParam0, 1 ), uParam1 );
        }
         /* WRITESCRIPTLOG */ sub_2123( "SBA", "P_SET_PED_ALL_WEAPON_VISIBILITY: WEAPONHOLSTER_PISTOL_RIGHT", 0 );
         /* WRITE_INT */ sub_25734( GET_WEAPON_FROM_HOLSTER( uParam0, 0 ) );
        if ((GET_WEAPON_FROM_HOLSTER( uParam0, 0 )) != 0)
        {
            SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HOLSTER( uParam0, 0 ), uParam1 );
        }
         /* WRITESCRIPTLOG */ sub_2123( "SBA", "P_SET_PED_ALL_WEAPON_VISIBILITY: WEAPONHOLSTER_RIFLE", 0 );
         /* WRITE_INT */ sub_25734( GET_WEAPON_FROM_HOLSTER( uParam0, 2 ) );
        if ((GET_WEAPON_FROM_HOLSTER( uParam0, 2 )) != 0)
        {
            SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HOLSTER( uParam0, 2 ), uParam1 );
        }
    }
    return;
}

/* WRITE_INT */ void sub_25734(unknown uParam0)
{
    PRINTINT( uParam0 );
    PRINTNL();
    return;
}

/* REGISTER_PED_WITH_12_01 */ void sub_26448(unknown uParam0, unknown uParam1)
{
    if ( /* IS_PED_VALID */ sub_4898( (uParam0^) ))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam0^), uParam1, 1 );
        SET_PED_NAME_DEBUG( (uParam0^), uParam1 );
    }
    return;
}

/* IS_VEHICLE_VALID */ int sub_26535(unknown uParam0)
{
    if ((NOT (IS_VEHICLE_DEAD( uParam0 ))) AND (DOES_VEHICLE_EXIST( uParam0 )))
    {
        return 1;
    }
    return 0;
}

/* REGISTER_VEHICLE_WITH_12_01 */ void sub_26732(unknown uParam0, unknown uParam1)
{
    if ( /* IS_VEHICLE_VALID */ sub_26535( (uParam0^) ))
    {
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "REGISTER_VEHICLE_WITH_12_01", "***" );
        REGISTER_VEHICLE_PRE_SEAMLESS_CUTSCENE( (uParam0^), uParam1, 0 );
        SET_VEHICLE_NAME_DEBUG( (uParam0^), uParam1 );
    }
    return;
}

/* CLEANVEHICLE */ void sub_27702(unknown uParam0)
{
    if (IS_VEHICLE_DEAD( uParam0 ))
    {
        ;
    }
    if (DOES_VEHICLE_EXIST( uParam0 ))
    {
        DELETE_VEHICLE( ref uParam0 );
    }
    return;
}

/* CLEANVEHICLEARRAY */ void sub_27785(unknown uParam0)
{
    int I;

    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
         /* CLEANVEHICLE */ sub_27702( (uParam0^)[I] );
    }
    return;
}

/* UNLOAD_HOTEL_CUT_12_01_ASSETS */ void sub_27881()
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "UNLOAD_HOTEL_CUT_12_01_ASSETS", "***" );
     /* UNLOADMODEL */ sub_7804( 1912342970 );
     /* UNLOADMODEL */ sub_7804( 1979959192 );
     /* UNLOADMODEL */ sub_7804( -1425703854 );
     /* UNLOADMODEL */ sub_7804( -764000169 );
     /* UNLOADMODEL */ sub_7804( -1522400210 );
    return;
}

/* PLAY_HOTEL_CUT_12_02 */ void sub_28465(boolean bParam0, boolean bParam1, unknown uParam2)
{
    int Result;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;

    Result = 0;
    uVar8 = GET_INTERIOR_AT_COORDS( -5.20781100, 1.24380300, 23.75783000 );
    if (IS_STRING_NULL( uParam2 ))
    {
        uParam2 = l_U591;
    }
    switch (l_U572)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "PLAY_HOTEL_CUT_12_02 start", "*****" );
         /* NIS_PRE_SETUP */ sub_4029( 1, 0, 0, 1 );
         /* LOADSEAMLESSCUTSCENE */ sub_7062( uParam2, 1 );
         /* LOADISEQ */ sub_8647( 1632315867, 1 );
         /* LOAD_HOTEL_CUT_12_02_ASSETS */ sub_28685( 1 );
         /* CREATE_CUTSCENE_ONLY_12_02_PEDS */ sub_28852();
         /* REGISTER_PEDS_HOTEL_CUT_12_02 */ sub_29237( ref l_U592 );
        if (bParam0)
        {
            CUTSCENE_REGISTER_ISEQ( 1632315867 );
        }
        l_U720 = 0;
        l_U572 = 2;
        break;
        case 2:
        if (bParam1)
        {
            START_CUTSCENE_CAPTURE( uParam2 );
        }
        CUTSCENE_ENABLE_SKIP( 0 );
        START_SEAMLESS_CUTSCENE();
        l_U572 = 3;
        break;
        case 3:
        l_U572 = 4;
        break;
        case 4:
        if (HAS_CUTSCENE_FINISHED())
        {
             /* P_REMOVE_TWO_HANDED_WEAPON_FROM_PLAYER */ sub_30069();
            CAMERA_PLAY_ANIMATED( "LEVEL_S_HOTEL_CP_04", "B_OUT_MID_06_HOTEL_CAM", 0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0 );
            if (IS_SCREEN_FADED_OUT())
            {
                SET_INTERIOR_ACTIVE( uVar8, 1, 0 );
                LOAD_SCENE_FOR_ROOM_BY_KEY( uVar8, GET_HASH_KEY( ref g_U1370 ) );
                LOAD_SCENE( -5.20781100, 1.24380300, 23.75783000 );
            }
            l_U572 = 5;
        }
        else if (NOT l_U720)
        {
            if (GET_CUTSCENE_TIME() > 60)
            {
                 /* WRITESCRIPTLOG */ sub_2123( "RJM", "Setting 12_02 models as no longer needed", 0 );
                l_U720 = 1;
            }
        }
        break;
        case 5:
        if (bParam1)
        {
            STOP_CUTSCENE_CAPTURE();
        }
        Result = 1;
         /* CLEANPEDARRAY */ sub_11540( ref l_U592 );
         /* UNLOAD_HOTEL_CUT_12_02_ASSETS */ sub_30617();
        if (NOT bParam0)
        {
             /* NIS_POST_SETUP */ sub_7964( 1, 1 );
        }
        l_U572 = 0;
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "PLAY_HOTEL_CUT_12_02 end", "*****" );
        break;
        case 0:
        l_U572 = 1;
        break;
    }
    return Result;
}

/* LOAD_HOTEL_CUT_12_02_ASSETS */ void sub_28685(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_2123( "TEH", "LOAD_HOTEL_CUT_12_02_ASSETS", "***" );
     /* LOADMODEL */ sub_10015( 547887525, uParam0 );
     /* LOADMODEL */ sub_10015( 466468872, uParam0 );
     /* LOADMODEL */ sub_10015( 75711909, uParam0 );
     /* LOADMODEL */ sub_10015( 1742372968, uParam0 );
     /* LOADMODEL */ sub_10015( -212388889, uParam0 );
     /* LOADISEQ */ sub_8647( 1632315867, uParam0 );
    return;
}

/* CREATE_CUTSCENE_ONLY_12_02_PEDS */ void sub_28852()
{
    int I;

     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U602[0], 0, 0, 0, 0, -1929099819, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U602[1], 0, 0, 0, 0, 415659566, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U602[2], 0, 0, 0, 0, -723071531, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U602[3], 0, 0, 0, 0, -1039118240, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U602[4], 0, 0, 0, 0, -1761435522, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U602[5], 0, 0, 0, 0, 2050789585, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U602[6], 0, 0, 0, 0, 1526704145, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U602[7], 0, 0, 0, 0, -907256100, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U602[8], 0, 0, 0, 0, 1374765765, 26, 6, 0, 0, 0 );
    for ( I = 0; I <= (l_U592 - 1); I++ )
    {
        l_U592[I] =  /* CREATEPED */ sub_9833( ref l_U602[I] );
        WAIT( 0 );
    }
    return;
}

/* REGISTER_PEDS_HOTEL_CUT_12_02 */ void sub_29237(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

     /* WRITESCRIPTLOG */ sub_2123( "RJM", "REGISTER_PEDS_HOTEL_CUT_12_02", "***" );
    if ( /* IS_MAX_VALID */ sub_4868())
    {
         /* P_EQUIP_PLAYER_WITH_SINGLE_HANDED_WEAPON */ sub_6487( 1 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_4107(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 0 ), "W_PI_Clt1911_Aa_H", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_SLOT(  /* PLAYER_PED_ID */ sub_4107(), 2 ), "W_AR_97LC_Aa_H", 0 );
        CUTSCENE_REGISTER_PED_TELEPORT(  /* PLAYER_PED_ID */ sub_4107(), g_U1020[5], g_U1123[5] );
        CUTSCENE_REGISTER_SET_PLAYER_IN_COVER( "GenCover", "D03F5BFC_7539FBC9_Corner1", 1, 1 );
        CUTSCENE_SET_COVER_CAMERA_DIRECTION( g_U1158[5], g_U1193[5] );
        ISEQ_REGISTER_ENTITY( 1632315867, "max",  /* PLAYER_PED_ID */ sub_4107(), 0 );
    }
    REGISTER_HIDE_ENTITY_AT_POSITION( 951250609, 2.51825000, 20.70648000, 18.94560000 );
     /* REGISTER_PED_WITH_12_02 */ sub_29658( ref (uParam0^)[0], "Sero_Unif_3" );
     /* REGISTER_PED_WITH_12_02 */ sub_29658( ref (uParam0^)[1], "M_Hotl_Pris_A" );
     /* REGISTER_PED_WITH_12_02 */ sub_29658( ref (uParam0^)[2], "M_Hotl_Pris_A^1" );
     /* REGISTER_PED_WITH_12_02 */ sub_29658( ref (uParam0^)[3], "M_Hotl_Pris_A^2" );
     /* REGISTER_PED_WITH_12_02 */ sub_29658( ref (uParam0^)[4], "M_Hotl_Pris_A^3" );
     /* REGISTER_PED_WITH_12_02 */ sub_29658( ref (uParam0^)[5], "M_Hotl_Pris_A^4" );
     /* REGISTER_PED_WITH_12_02 */ sub_29658( ref (uParam0^)[6], "F_Hotl_Pris_A" );
     /* REGISTER_PED_WITH_12_02 */ sub_29658( ref (uParam0^)[7], "F_Hotl_Pris_A^1" );
     /* REGISTER_PED_WITH_12_02 */ sub_29658( ref (uParam0^)[8], "F_Hotl_Pris_A^2" );
    return;
}

/* REGISTER_PED_WITH_12_02 */ void sub_29658(unknown uParam0, unknown uParam1)
{
    if ( /* IS_PED_VALID */ sub_4898( (uParam0^) ))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam0^), uParam1, 0 );
        SET_PED_NAME_DEBUG( (uParam0^), uParam1 );
    }
    return;
}

/* P_REMOVE_TWO_HANDED_WEAPON_FROM_PLAYER */ void sub_30069()
{
    unknown uVar2;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4107() )) == 0)
    {
        uVar2 =  /* F_GET_TWO_HANDED_WEAPON_FROM_PLAYER */ sub_30139();
        if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
        {
            REMOVE_PED_WEAPON(  /* PLAYER_PED_ID */ sub_4107(), uVar2 );
        }
    }
    return;
}

/* F_GET_TWO_HANDED_WEAPON_FROM_PLAYER */ int sub_30139()
{
    unknown Result;
    unknown uVar3;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_4107() )) == 0)
    {
        Result = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( Result )) == 1)
        {
            if (( /* IS_WEAPON_TWO_HANDED */ sub_5484( Result )) == 1)
            {
                return Result;
            }
        }
        uVar3 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_4107(), 2 );
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            return uVar3;
        }
    }
    return 0;
}

/* UNLOAD_HOTEL_CUT_12_02_ASSETS */ void sub_30617()
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "UNLOAD_HOTEL_CUT_12_02_ASSETS", "***" );
     /* UNLOADMODEL */ sub_7804( 547887525 );
     /* UNLOADMODEL */ sub_7804( 466468872 );
     /* UNLOADMODEL */ sub_7804( 75711909 );
     /* UNLOADMODEL */ sub_7804( 1742372968 );
     /* UNLOADMODEL */ sub_7804( -212388889 );
    return;
}

/* PLAY_HOTEL_CUT_12_03 */ void sub_30873(boolean bParam0, boolean bParam1, unknown uParam2)
{
    int Result;

    Result = 0;
    if (IS_STRING_NULL( uParam2 ))
    {
        uParam2 = l_U740;
    }
    switch (l_U721)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "PLAY_HOTEL_CUT_12_03 start", "*****" );
         /* NIS_PRE_SETUP */ sub_4029( 1, 0, 0, 1 );
         /* LOADSEAMLESSCUTSCENE */ sub_7062( uParam2, 1 );
        if (NOT bParam0)
        {
             /* BLOCKLOAD_HOTEL_CUT_12_03_ASSETS */ sub_31063();
        }
        else
        {
             /* LOADISEQ */ sub_8647( 1179793949, 1 );
            CUTSCENE_REGISTER_ISEQ( 1179793949 );
        }
         /* CREATE_CUTSCENE_ONLY_12_03_PEDS */ sub_31216();
         /* REGISTER_PEDS_HOTEL_CUT_12_03 */ sub_31385( ref l_U741, bParam0 );
         /* CREATE_BLENDOUT_DOOR */ sub_31817();
        ISEQ_REGISTER_ENTITY( 1179793949, "fifth_door", g_U1729, 1 );
        l_U721 = 2;
        break;
        case 2:
        if (bParam1)
        {
            START_CUTSCENE_CAPTURE( uParam2 );
        }
        CUTSCENE_ENABLE_SKIP( 0 );
        START_SEAMLESS_CUTSCENE();
        l_U721 = 3;
        break;
        case 3:
        l_U721 = 4;
        break;
        case 4:
        if (HAS_CUTSCENE_FINISHED())
        {
             /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_6354( l_U722, 1 );
            CAMERA_PLAY_ANIMATED( "LEVEL_S_HOTEL_CP_05", "B_OUT_12_03_HOTEL_CAM", 0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0 );
            l_U721 = 5;
        }
        break;
        case 5:
        if (bParam1)
        {
            STOP_CUTSCENE_CAPTURE();
        }
        Result = 1;
         /* UNLOAD_HOTEL_CUT_12_03_ASSETS */ sub_32624();
         /* CLEANPEDARRAY */ sub_11540( ref l_U741 );
         /* NIS_POST_SETUP */ sub_7964( 1, 1 );
        l_U721 = 0;
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "PLAY_HOTEL_CUT_12_03 end", "*****" );
        break;
        case 0:
        l_U721 = 1;
        break;
    }
    return Result;
}

/* BLOCKLOAD_HOTEL_CUT_12_03_ASSETS */ void sub_31063()
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "BLOCKLOAD_HOTEL_CUT_12_03_ASSETS", "***" );
     /* BLOCKLOADMODEL */ sub_4385( -643110723 );
     /* BLOCKLOADMODEL */ sub_4385( 75711909 );
    return;
}

/* CREATE_CUTSCENE_ONLY_12_03_PEDS */ void sub_31216()
{
    int I;

     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U744[0], 0, 0, 0, 0, -1929099819, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U744[1], 0, 0, 0, 0, 1856636111, 26, 6, 0, 0, 0 );
    for ( I = 0; I <= (l_U741 - 1); I++ )
    {
        l_U741[I] =  /* CREATEPED */ sub_9833( ref l_U744[I] );
    }
    return;
}

/* REGISTER_PEDS_HOTEL_CUT_12_03 */ void sub_31385(unknown uParam0, boolean bParam1)
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "REGISTER_PEDS_HOTEL_CUT_12_03", "***" );
    if ( /* IS_MAX_VALID */ sub_4868())
    {
         /* P_PLAYER_HOLSTER_WEAPONS */ sub_4990( ref l_U722, 1, 1 );
         /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_6354( l_U722, 0 );
         /* P_EQUIP_PLAYER_WITH_SINGLE_HANDED_WEAPON */ sub_6487( 1 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_4107(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 0 ), "W_PI_Clt1911_Aa_H", 0 );
        if (bParam1)
        {
            CUTSCENE_REGISTER_PED_TELEPORT(  /* PLAYER_PED_ID */ sub_4107(), 34.33100000, 48.73200000, 28.65600000, 120.00000000 );
        }
        ISEQ_REGISTER_ENTITY( 1179793949, "max",  /* PLAYER_PED_ID */ sub_4107(), 0 );
    }
     /* REGISTER_PED_WITH_12_03 */ sub_31703( ref (uParam0^)[0], "Sero_Unif_3" );
     /* REGISTER_PED_WITH_12_03 */ sub_31703( ref (uParam0^)[1], "Dr_Arth_Doc" );
    return;
}

/* REGISTER_PED_WITH_12_03 */ void sub_31703(unknown uParam0, unknown uParam1)
{
    if ( /* IS_PED_VALID */ sub_4898( (uParam0^) ))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam0^), uParam1, 1 );
        SET_PED_NAME_DEBUG( (uParam0^), uParam1 );
    }
    return;
}

/* CREATE_BLENDOUT_DOOR */ void sub_31817()
{
     /* WRITESCRIPTLOG */ sub_2123( "BSW", "CREATE_BLENDOUT_DOOR start", 0 );
     /* CLEANOBJECT */ sub_31896( g_U1729 );
     /* LOADMODEL */ sub_10015( -1538058993, 1 );
    g_U1729 =  /* CREATEOBJECT */ sub_31999( -1538058993, 33.29000000, 48.88000000, 28.65198000, 0.00000000, 0.00000000, 120.00000000, 0, 1, 0 );
    if (DOES_OBJECT_EXIST( g_U1729 ))
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( g_U1729, ref g_U1434 );
        FREEZE_OBJECT_POSITION( g_U1729, 1 );
    }
     /* WRITESCRIPTLOG */ sub_2123( "BSW", "CREATE_BLENDOUT_DOOR end", 0 );
    return;
}

/* CLEANOBJECT */ void sub_31896(unknown uParam0)
{
    if (DOES_OBJECT_EXIST( uParam0 ))
    {
        DELETE_OBJECT( ref uParam0 );
    }
    return;
}

/* CREATEOBJECT */ void sub_31999(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_10015( uParam0, 1 );
    }
    Result = CREATE_OBJECT( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an object to exist: {!f1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

/* UNLOAD_HOTEL_CUT_12_03_ASSETS */ void sub_32624()
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "UNLOAD_HOTEL_CUT_12_03_ASSETS", "***" );
     /* UNLOADMODEL */ sub_7804( -643110723 );
     /* UNLOADMODEL */ sub_7804( 75711909 );
    return;
}

/* PLAY_HOTEL_CUT_12_04 */ void sub_32851(boolean bParam0, boolean bParam1, unknown uParam2)
{
    int Result;
    int iVar6;

    Result = 0;
    if (IS_STRING_NULL( uParam2 ))
    {
        uParam2 = l_U792;
    }
    switch (l_U771)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "PLAY_HOTEL_CUT_12_04 start", "*****" );
         /* LOADSEAMLESSCUTSCENE */ sub_7062( uParam2, 1 );
         /* NIS_PRE_SETUP */ sub_4029( 1, 0, 0, 1 );
        if (NOT bParam0)
        {
             /* BLOCKLOAD_HOTEL_CUT_12_04_ASSETS */ sub_33033();
             /* REGISTER_PEDS_HOTEL_CUT_12_04 */ sub_33138();
        }
        else
        {
             /* LOADISEQ */ sub_8647( 951295712, 1 );
            CUTSCENE_REGISTER_ISEQ( 951295712 );
        }
        l_U771 = 2;
        break;
        case 2:
        if (bParam1)
        {
            START_CUTSCENE_CAPTURE( uParam2 );
        }
        START_SEAMLESS_CUTSCENE();
        l_U771 = 3;
        break;
        case 3:
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( g_U1158[7], 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( g_U1193[7], 1065353216, 0 );
        l_U771 = 4;
        break;
        case 4:
        if (HAS_CUTSCENE_FINISHED())
        {
            CAMERA_PLAY_ANIMATED( "LEVEL_S_HOTEL_CP_06", "B_OUT_12_04_HOTEL_FWD_CAM", 0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0 );
            if (bParam1)
            {
                STOP_CUTSCENE_CAPTURE();
            }
             /* P_SET_PLAYER_WEAPONS_VISIBLE */ sub_16583( 1 );
            Result = 1;
            if (NOT bParam0)
            {
                 /* UNLOAD_HOTEL_CUT_12_04_ASSETS */ sub_33750();
            }
             /* WRITESCRIPTLOG */ sub_2123( "RJM", "PLAY_HOTEL_CUT_12_04 end", "*****" );
            l_U771 = 0;
        }
        else
        {
            iVar6 = GET_CUTSCENE_TIME_MS();
            if (l_U20 == 7)
            {
                if (iVar6 > 12000)
                {
                    l_U21 = 7;
                }
            }
            if ((NOT l_U791) AND (iVar6 > 33000))
            {
                 /* WRITESCRIPTLOG */ sub_2123( "SBA", "PLAY_HOTEL_CUT_12_04: Making rifle visible", "***" );
                 /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_6354( l_U772, 1 );
                l_U791 = 1;
            }
        }
        break;
        case 0:
        l_U771 = 1;
        break;
    }
    return Result;
}

/* BLOCKLOAD_HOTEL_CUT_12_04_ASSETS */ void sub_33033()
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "BLOCKLOAD_HOTEL_CUT_12_04_ASSETS", "***" );
    return;
}

/* REGISTER_PEDS_HOTEL_CUT_12_04 */ void sub_33138()
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "REGISTER_PEDS_HOTEL_CUT_12_04", "***" );
    if ( /* IS_MAX_VALID */ sub_4868())
    {
         /* P_PLAYER_HOLSTER_WEAPONS */ sub_4990( ref l_U772, 0, 1 );
         /* P_SET_PLAYER_WEAPONS_VISIBLE */ sub_16583( 0 );
        l_U790 =  /* F_GET_SINGLE_HANDED_WEAPON_FROM_PLAYER */ sub_6635();
        if (GET_DOES_WEAPON_EXIST( l_U790 ))
        {
            SET_WEAPON_VISIBLE( l_U790, 1 );
            SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_4107(), l_U790, 0, 1 );
        }
        CUTSCENE_REGISTER_PED_TELEPORT(  /* PLAYER_PED_ID */ sub_4107(), g_U1020[7], g_U1123[7] );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_4107(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( l_U790, "W_PI_Clt1911_Aa_H", 0 );
        ISEQ_REGISTER_ENTITY( 951295712, "max",  /* PLAYER_PED_ID */ sub_4107(), 0 );
    }
    REGISTER_HIDE_ENTITY_AT_POSITION( -995190896, -5.57350000, 1.90177000, 29.94901000 );
    return;
}

/* UNLOAD_HOTEL_CUT_12_04_ASSETS */ void sub_33750()
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "UNLOAD_HOTEL_CUT_12_04_ASSETS", "***" );
    return;
}

/* PLAY_HOTEL_CUT_12_05 */ void sub_34080(boolean bParam0, boolean bParam1, unknown uParam2)
{
    int Result;
    int iVar6;
    int iVar7;
    unknown uVar8;

    Result = 0;
    if (IS_STRING_NULL( uParam2 ))
    {
        uParam2 = l_U981;
    }
    switch (l_U962)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "PLAY_HOTEL_CUT_12_05 start", "*****" );
         /* NIS_PRE_SETUP */ sub_4029( 1, 0, 0, 1 );
         /* LOADSEAMLESSCUTSCENE */ sub_7062( uParam2, 1 );
        if (NOT bParam0)
        {
             /* BLOCKLOAD_HOTEL_CUT_12_05_ASSETS */ sub_34270();
             /* CREATE_CUTSCENE_ONLY_12_05_PEDS */ sub_34445();
             /* REGISTER_PEDS_HOTEL_CUT_12_05 */ sub_34807( ref l_U982, ref l_U1082 );
        }
        REGISTER_HIDE_ENTITY_AT_POSITION( -1702366341, 23.05440000, 42.74555000, 41.05700000 );
        REGISTER_HIDE_ENTITY_AT_POSITION( 609227234, 24.41670000, 40.53064000, 41.05700000 );
         /* LOADMODEL */ sub_10015( 1721151522, 0 );
        l_U1096 = 0;
        l_U1097 = 0;
        l_U962 = 2;
        break;
        case 2:
        if (bParam1)
        {
            START_CUTSCENE_CAPTURE( uParam2 );
        }
        if (bParam0)
        {
            CUTSCENE_ENABLE_SKIP( 0 );
        }
        START_SEAMLESS_CUTSCENE();
        l_U962 = 3;
        break;
        case 3:
         /* P_EQUIP_PLAYER_WITH_SINGLE_HANDED_WEAPON */ sub_6487( 1 );
        iVar7 =  /* F_GET_SINGLE_HANDED_WEAPON_FROM_PLAYER */ sub_6635();
        if ((GET_DOES_WEAPON_EXIST( iVar7 )) == 1)
        {
            if (iVar7 == (GET_WEAPON_FROM_SLOT(  /* PLAYER_PED_ID */ sub_4107(), 0 )))
            {
                SET_WEAPON_SLOT(  /* PLAYER_PED_ID */ sub_4107(), iVar7, 1 );
            }
        }
        uVar8 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 1, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar8 ))
        {
            SET_WEAPON_VISIBLE( uVar8, 0 );
        }
        if (GET_DOES_WEAPON_EXIST(  /* F_GET_TWO_HANDED_WEAPON_FROM_PLAYER */ sub_30139() ))
        {
            SET_WEAPON_VISIBLE(  /* F_GET_TWO_HANDED_WEAPON_FROM_PLAYER */ sub_30139(), 0 );
        }
        l_U962 = 4;
        break;
        case 4:
        if (HAS_CUTSCENE_FINISHED())
        {
            l_U962 = 5;
        }
        else
        {
            iVar6 = GET_CUTSCENE_TIME();
            DISPLAYF( "CUTSCENE TIME: {}", 1, 513, iVar6 );
            if (iVar6 >= 25)
            {
                CUTSCENE_ENABLE_SKIP( 1 );
            }
            if (NOT l_U1096)
            {
                if (iVar6 >= 15)
                {
                     /* LOADMODEL */ sub_10015( 1721151522, 1 );
                     /* CREATE_STATIC_ROOFTOP_PIECES_FOR_CUTSCENE */ sub_36088();
                     /* CREATE_ROOFTOP_HELICOPTER */ sub_37499();
                    l_U1096 = 1;
                }
            }
            if (NOT l_U1097)
            {
                if (iVar6 >= 17)
                {
                    if (GET_DOES_WEAPON_EXIST(  /* F_GET_TWO_HANDED_WEAPON_FROM_PLAYER */ sub_30139() ))
                    {
                        SET_WEAPON_VISIBLE(  /* F_GET_TWO_HANDED_WEAPON_FROM_PLAYER */ sub_30139(), 1 );
                    }
                    if (GET_DOES_WEAPON_EXIST( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 1, 0 ) ))
                    {
                        SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 1, 0 ), 1 );
                    }
                    l_U1097 = 1;
                }
            }
        }
        break;
        case 5:
        if (bParam1)
        {
            STOP_CUTSCENE_CAPTURE();
        }
        Result = 1;
        if (NOT bParam0)
        {
             /* CLEANPEDARRAY */ sub_11540( ref l_U982 );
        }
         /* CLEANPED */ sub_11590( l_U1082 );
         /* UNLOAD_HOTEL_CUT_12_05_ASSETS */ sub_37766();
         /* NIS_POST_SETUP */ sub_7964( 1, 1 );
        l_U962 = 0;
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "PLAY_HOTEL_CUT_12_05 end", "*****" );
        break;
        case 0:
        l_U962 = 1;
        break;
    }
    return Result;
}

/* BLOCKLOAD_HOTEL_CUT_12_05_ASSETS */ void sub_34270()
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "BLOCKLOAD_HOTEL_CUT_12_05_ASSETS", "***" );
     /* BLOCKLOADMODEL */ sub_4385( 466468872 );
     /* BLOCKLOADMODEL */ sub_4385( 928600325 );
     /* BLOCKLOADMODEL */ sub_4385( 609227234 );
     /* BLOCKLOADMODEL */ sub_4385( -1702366341 );
     /* BLOCKLOADMODEL */ sub_4385( 547887525 );
     /* BLOCKLOADMODEL */ sub_4385( 112963195 );
     /* BLOCKLOADMODEL */ sub_4385( 1844299595 );
    return;
}

/* CREATE_CUTSCENE_ONLY_12_05_PEDS */ void sub_34445()
{
    int I;

     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U1083, 0, 0, 0, 0, 1460404455, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U990[0], 0, 0, 0, 0, 1843238895, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U990[1], 0, 0, 0, 0, 1737415154, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U990[2], 0, 0, 0, 0, 1820013202, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U990[3], 0, 0, 0, 0, 1230663476, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U990[4], 0, 0, 0, 0, -110444939, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U990[5], 0, 0, 0, 0, -263273570, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U990[6], 0, 0, 0, 0, -1091825948, 26, 6, 0, 0, 0 );
    l_U1082 =  /* CREATEPED */ sub_9833( ref l_U1083 );
    for ( I = 0; I <= (l_U982 - 1); I++ )
    {
        l_U982[I] =  /* CREATEPED */ sub_9833( ref l_U990[I] );
    }
    return;
}

/* REGISTER_PEDS_HOTEL_CUT_12_05 */ void sub_34807(unknown uParam0, unknown uParam1)
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "REGISTER_PEDS_HOTEL_CUT_12_05", "***" );
    if ( /* IS_MAX_VALID */ sub_4868())
    {
        CUTSCENE_REGISTER_PED_TELEPORT(  /* PLAYER_PED_ID */ sub_4107(), g_U1020[10], g_U1123[10] );
        CUTSCENE_REGISTER_SET_PLAYER_IN_COVER( "GenCover", "C8D703C8_30D084ED_Corner1", 1, 1 );
        CUTSCENE_SET_COVER_CAMERA_DIRECTION( g_U1158[10], g_U1193[10] );
        CUTSCENE_REGISTER_ISEQ( 469460336 );
        ISEQ_REGISTER_ENTITY( 469460336, "Max",  /* PLAYER_PED_ID */ sub_4107(), 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE(  /* F_GET_SINGLE_HANDED_WEAPON_FROM_PLAYER */ sub_6635(), "W_PI_Clt1911_Aa_H", 0 );
        CUTSCENE_REGISTER_PED_WEAPON_HAND(  /* PLAYER_PED_ID */ sub_4107(),  /* F_GET_SINGLE_HANDED_WEAPON_FROM_PLAYER */ sub_6635(), 0 );
    }
     /* REGISTER_THUG_WITH_12_05 */ sub_35129( uParam1, "Nevs_Unif", "W_AR_97LC_Aa_H^4" );
     /* REGISTER_THUG_WITH_12_05 */ sub_35129( ref (uParam0^)[0], "H_Crac_Sold_C", "W_AR_97LC_Aa_H" );
     /* REGISTER_THUG_WITH_12_05 */ sub_35129( ref (uParam0^)[1], "H_Crac_Sold_C^1", "W_AR_97LC_Aa_H^1" );
     /* REGISTER_THUG_WITH_12_05 */ sub_35129( ref (uParam0^)[2], "H_Crac_Sold_C^2", "W_AR_97LC_Aa_H^2" );
     /* REGISTER_THUG_WITH_12_05 */ sub_35129( ref (uParam0^)[3], "H_Crac_Sold_C^3", "W_AR_97LC_Aa_H^3" );
     /* REGISTER_THUG_WITH_12_05 */ sub_35129( ref (uParam0^)[4], "H_Crac_Sold_C^4", "W_SB_Uzi_Aa_H" );
     /* REGISTER_THUG_WITH_12_05 */ sub_35129( ref (uParam0^)[5], "H_Crac_Sold_C^5", "W_SB_Uzi_Aa_H^1" );
     /* REGISTER_THUG_WITH_12_05 */ sub_35129( ref (uParam0^)[6], "H_Crac_Sold_C^6", "W_SB_Uzi_Aa_H^2" );
    return;
}

/* REGISTER_THUG_WITH_12_05 */ void sub_35129(unknown uParam0, unknown uParam1, unknown uParam2)
{
    uParam2 = uParam2;
    if ( /* IS_PED_VALID */ sub_4898( (uParam0^) ))
    {
        DISPLAYF( "REGISTER_THUG_WITH_12_05 - Ped is valid, registering entity '{}' ", 1, 1537, uParam1 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam0^), uParam1, 0 );
        SET_WEAPON_VISIBLE( GET_WEAPON_FROM_HAND( (uParam0^), 0, 0 ), 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( (uParam0^), "/Global/PLGE/PLGE_Root/PLGE_INITIALIZE_IDLE" );
    }
    return;
}

/* CREATE_STATIC_ROOFTOP_PIECES_FOR_CUTSCENE */ void sub_36088()
{
     /* CLEAN_STATIC_ROOFTOP_PIECES_FROM_CUTSCENE */ sub_36142();
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "CREATE_STATIC_ROOFTOP_PIECES_FOR_CUTSCENE - start", 0 );
    l_U882 =  /* CREATEOBJECTNOOFFSET */ sub_36407( l_U884, -11.00000000, 0.00000000, 42.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U882 ))
    {
        FREEZE_OBJECT_POSITION( l_U882, 1 );
    }
    l_U894 =  /* CREATEOBJECTNOOFFSET */ sub_36407( l_U898, 6.00000000, 40.00000000, 38.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U894 ))
    {
        FREEZE_OBJECT_POSITION( l_U894, 1 );
    }
    l_U905 =  /* CREATEOBJECTNOOFFSET */ sub_36407( l_U907, 3.00000000, 44.00000000, 40.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U905 ))
    {
        FREEZE_OBJECT_POSITION( l_U905, 1 );
    }
    l_U916 =  /* CREATEOBJECTNOOFFSET */ sub_36407( l_U922, 8.00000000, 28.00000000, 39.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U916 ))
    {
        FREEZE_OBJECT_POSITION( l_U916, 1 );
    }
    l_U919 =  /* CREATEOBJECTNOOFFSET */ sub_36407( l_U925, 8.00000000, 28.00000000, 39.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U919 ))
    {
        FREEZE_OBJECT_POSITION( l_U919, 1 );
    }
    l_U943 =  /* CREATEOBJECTNOOFFSET */ sub_36407( l_U948, 26.00000000, 30.00000000, 43.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U943 ))
    {
        FREEZE_OBJECT_POSITION( l_U943, 1 );
    }
    l_U947 =  /* CREATEOBJECTNOOFFSET */ sub_36407( l_U952, 32.00000000, 29.00000000, 46.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U947 ))
    {
        FREEZE_OBJECT_POSITION( l_U947, 1 );
    }
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U837, -1267912278, 14.00000000, 27.00000000, 42.80000000, 1, 0 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U839, 1550581806, 14.00000000, 27.00000000, 42.80000000, 1, 0 );
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "CREATE_STATIC_ROOFTOP_PIECES_FOR_CUTSCENE - end", 0 );
    return;
}

/* CLEAN_STATIC_ROOFTOP_PIECES_FROM_CUTSCENE */ void sub_36142()
{
     /* CLEANOBJECT */ sub_31896( l_U882 );
     /* CLEANOBJECT */ sub_31896( l_U894 );
     /* CLEANOBJECT */ sub_31896( l_U905 );
     /* CLEANOBJECT */ sub_31896( l_U916 );
     /* CLEANOBJECT */ sub_31896( l_U919 );
     /* CLEANOBJECT */ sub_31896( l_U943 );
     /* CLEANOBJECT */ sub_31896( l_U947 );
     /* CLEANOBJECT */ sub_31896( l_U837 );
     /* CLEANOBJECT */ sub_31896( l_U839 );
     /* CLEANOBJECT */ sub_31896( l_U843 );
    return;
}

/* CREATEOBJECTNOOFFSET */ void sub_36407(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_10015( uParam0, 1 );
    }
    Result = CREATE_OBJECT_NO_OFFSET( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an object to exist: {!f1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

/* MAL_RECREATEOBJECTWITHNOROTATION */ void sub_37247(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6)
{
     /* MAL_RECREATEOBJECT */ sub_37309( uParam0, uParam1, uParam2, g_U657, uParam5, uParam6 );
    return;
}

/* MAL_RECREATEOBJECT */ void sub_37309(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
     /* CLEANOBJECT */ sub_31896( (uParam0^) );
    (uParam0^) =  /* CREATEOBJECTNOOFFSET */ sub_36407( uParam1, uParam2, uParam5, 0, uParam9, 0 );
    FREEZE_OBJECT_POSITION( (uParam0^), uParam8 );
    return;
}

/* CREATE_ROOFTOP_HELICOPTER */ void sub_37499()
{
     /* CLEANVEHICLE */ sub_27702( g_U991 );
    g_U991 =  /* CREATEVEHICLE */ sub_23737( 1721151522, -7.29860900, 28.41558000, 43.75145000, 8.00000000, 1, 0, 0 );
    SET_VEHICLE_ENGINE_CAN_BE_DAMAGED( g_U991, 0 );
    return;
}

/* UNLOAD_HOTEL_CUT_12_05_ASSETS */ void sub_37766()
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "UNLOAD_HOTEL_CUT_12_05_ASSETS", "***" );
     /* UNLOADMODEL */ sub_7804( 466468872 );
     /* UNLOADMODEL */ sub_7804( 928600325 );
     /* UNLOADMODEL */ sub_7804( 609227234 );
     /* UNLOADMODEL */ sub_7804( -1702366341 );
     /* UNLOADMODEL */ sub_7804( 547887525 );
     /* UNLOADMODEL */ sub_7804( 112963195 );
     /* UNLOADMODEL */ sub_7804( 1844299595 );
    return;
}

/* PLAY_HOTEL_CUT_12_06 */ void sub_38034(boolean bParam0, boolean bParam1, unknown uParam2)
{
    int Result;

    Result = 0;
    if (IS_STRING_NULL( uParam2 ))
    {
        uParam2 = l_U2185;
    }
    switch (l_U2164)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "PLAY_HOTEL_CUT_12_06 start", "*****" );
        l_U2183 = 0;
        l_U2184 = 0;
         /* P_INITIALIZE_BUIDLING_COMPONENTS */ sub_38211();
         /* INIT_FX_LIST */ sub_40630();
         /* P_LOAD_COLLAPSE_ASSETS */ sub_42103( 1 );
         /* LOADSEAMLESSCUTSCENE */ sub_7062( uParam2, 1 );
         /* NIS_PRE_SETUP */ sub_4029( 1, 0, 0, 1 );
        if (NOT bParam0)
        {
             /* BLOCKLOAD_HOTEL_CUT_12_06_ASSETS */ sub_42447();
        }
         /* CREATE_CUTSCENE_ONLY_12_06_PEDS */ sub_42572();
         /* REGISTER_PEDS_HOTEL_CUT_12_06 */ sub_42739( ref l_U2186 );
        REGISTER_HIDE_ENTITY_AT_POSITION( -1996980633, 8.84019000, 19.67155000, 44.08596000 );
        REGISTER_HIDE_ENTITY_AT_POSITION( 812253989, 11.45683000, 18.35566000, 44.08820000 );
        l_U2164 = 2;
        break;
        case 2:
        if (bParam0 == 1)
        {
            CUTSCENE_ENABLE_SKIP( 0 );
            CUTSCENE_REGISTER_SWITCH_TO_LEVEL_NAME( "s_police" );
            DISABLE_FADE_BETWEEN_SP_LEVELS();
            AUD_ENABLE_PRE_BINK_SHUTDOWN( 1 );
        }
        if (bParam1)
        {
            START_CUTSCENE_CAPTURE( uParam2 );
        }
        START_SEAMLESS_CUTSCENE();
        if (NOT IS_BULLET_CAMERA_TO_GAMEPLAY_ALLOWED())
        {
            ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
        }
        l_U2164 = 3;
        break;
        case 3:
        l_U2164 = 4;
        break;
        case 4:
        if ((l_U20 == 9) AND (GET_CUTSCENE_TIME_MS() >= 68955))
        {
             /* WRITESCRIPTLOG */ sub_2123( "BSW", " cutscene fading out music", 0 );
            l_U21 = 9;
        }
        if (NOT l_U2184)
        {
            if (GET_CUTSCENE_TIME_MS() >= 73000)
            {
                 /* WRITESCRIPTLOG */ sub_2123( "GA", "Creating collapse rayfire objects.", 0 );
                 /* P_CREATE_COLLAPSE_OBJECTS */ sub_43524();
                l_U2184 = 1;
            }
        }
        if (GET_CUTSCENE_TIME_MS() >= 72986)
        {
            if (NOT (IS_VEHICLE_DEAD( g_U991 )))
            {
                SET_VEHICLE_ENGINE_ON( g_U991, 1, 1 );
                SET_HELI_BLADES_FULL_SPEED( g_U991 );
            }
        }
        if (GET_CUTSCENE_TIME_MS() > 77000)
        {
            if (NOT l_U2183)
            {
                 /* WRITESCRIPTLOG */ sub_2123( "BSW", "starting collapse in 12_06", 0 );
                l_U2183 = 1;
                 /* F_PLAY_ANIMS */ sub_44868( 1, 0 );
                 /* START_COLLAPSE_FX */ sub_46132();
            }
            else
            {
                 /* HANDLE_COLLAPSE_FX */ sub_46393();
            }
        }
        if (HAS_CUTSCENE_FINISHED())
        {
             /* P_PLAYER_UNHOLSTER_WEAPONS */ sub_7477( l_U2165, 1 );
             /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_6354( l_U2165, 1 );
            l_U2164 = 5;
        }
        break;
        case 5:
        if (bParam1)
        {
            STOP_CUTSCENE_CAPTURE();
        }
        Result = 1;
         /* CLEANPEDARRAY */ sub_11540( ref l_U2186 );
        if (NOT bParam0)
        {
             /* UNLOAD_HOTEL_CUT_12_06_ASSETS */ sub_46653();
        }
         /* NIS_POST_SETUP */ sub_7964( 1, 1 );
        l_U2164 = 0;
         /* WRITESCRIPTLOG */ sub_2123( "RJM", "PLAY_HOTEL_CUT_12_06 end", "*****" );
        break;
        case 0:
        l_U2164 = 1;
        break;
    }
    return Result;
}

/* P_INITIALIZE_BUIDLING_COMPONENTS */ void sub_38211()
{
    l_U1685._fU4 = {12, 27, 10};
    l_U1685._fU16 = 1.00000000;
    l_U1685._fU20 = 0;
    l_U1685._fU60 = "ho_an_flr002_aa_h";
    l_U1685._fU64 = 0;
    l_U1702._fU4 = {12, 27, 15};
    l_U1702._fU16 = 1.00000000;
    l_U1702._fU20 = 0;
    l_U1702._fU60 = "ho_an_flr003_aa_h";
    l_U1702._fU64 = 0;
    l_U1719._fU4 = {12, 27, 20};
    l_U1719._fU16 = 1.00000000;
    l_U1719._fU20 = 0;
    l_U1719._fU60 = "ho_an_flr004_aa_h";
    l_U1719._fU64 = 0;
    l_U1736._fU4 = {12, 27, 25};
    l_U1736._fU16 = 1.00000000;
    l_U1736._fU20 = 0;
    l_U1736._fU60 = "ho_an_flr005_aa_h";
    l_U1736._fU64 = 0;
    l_U1753[0]._fU4 = {12, 27, 30};
    l_U1753[0]._fU16 = 1.00000000;
    l_U1753[0]._fU20 = 0;
    l_U1753[0]._fU60 = "ho_an_flr006_aa_h";
    l_U1753[0]._fU64 = 0;
    l_U1753[1]._fU4 = {12, 27, 30};
    l_U1753[1]._fU16 = 1.00000000;
    l_U1753[1]._fU20 = 0;
    l_U1753[1]._fU60 = "ho_an_flr006_ab_h";
    l_U1753[1]._fU64 = 0;
    l_U1753[2]._fU4 = {12, 27, 30};
    l_U1753[2]._fU16 = 1.00000000;
    l_U1753[2]._fU20 = 0;
    l_U1753[2]._fU60 = "ho_an_flr006_ac_h";
    l_U1753[2]._fU64 = 0;
    l_U1753[3]._fU4 = {12, 27, 30};
    l_U1753[3]._fU16 = 1.00000000;
    l_U1753[3]._fU20 = 0;
    l_U1753[3]._fU60 = "ho_an_flr006_ad_h";
    l_U1753[3]._fU64 = 0;
    l_U1753[4]._fU4 = {18, 47, 31.21900000};
    l_U1753[4]._fU16 = 1.00000000;
    l_U1753[4]._fU20 = 0;
    l_U1753[4]._fU60 = "p_an_winfrm_aa_h";
    l_U1753[4]._fU64 = 0;
    l_U1753[5]._fU4 = {18, 47, 31.21900000};
    l_U1753[5]._fU16 = 1.00000000;
    l_U1753[5]._fU20 = 0;
    l_U1753[5]._fU60 = "p_an_winfrm_ab_h";
    l_U1753[5]._fU64 = 0;
    l_U1753[6]._fU4 = {18, 47, 31.21900000};
    l_U1753[6]._fU16 = 1.00000000;
    l_U1753[6]._fU20 = 0;
    l_U1753[6]._fU60 = "p_an_winfrm_ac_h";
    l_U1753[6]._fU64 = 0;
    l_U1753[7]._fU4 = {18, 47, 31.21900000};
    l_U1753[7]._fU16 = 1.00000000;
    l_U1753[7]._fU20 = 0;
    l_U1753[7]._fU60 = "p_an_winfrm_ad_h";
    l_U1753[7]._fU64 = 0;
    l_U1890[0]._fU4 = {12, 27, 35};
    l_U1890[0]._fU16 = 1.00000000;
    l_U1890[0]._fU20 = 0;
    l_U1890[0]._fU60 = "ho_an_flr007_aa_h";
    l_U1890[0]._fU64 = 0;
    l_U1890[1]._fU4 = {12, 27, 35};
    l_U1890[1]._fU16 = 1.00000000;
    l_U1890[1]._fU20 = 0;
    l_U1890[1]._fU60 = "ho_an_flr007_ab_h";
    l_U1890[1]._fU64 = 0;
    l_U1890[2]._fU4 = {12, 27, 35};
    l_U1890[2]._fU16 = 1.00000000;
    l_U1890[2]._fU20 = 0;
    l_U1890[2]._fU60 = "ho_an_flr007_ac_h";
    l_U1890[2]._fU64 = 0;
    l_U1890[3]._fU4 = {12, 27, 35};
    l_U1890[3]._fU16 = 1.00000000;
    l_U1890[3]._fU20 = 0;
    l_U1890[3]._fU60 = "ho_an_flr007_ad_h";
    l_U1890[3]._fU64 = 0;
    l_U1890[4]._fU4 = {12, 27, 35};
    l_U1890[4]._fU16 = 1.00000000;
    l_U1890[4]._fU20 = 0;
    l_U1890[4]._fU60 = "ho_an_flr007_ae_h";
    l_U1890[4]._fU64 = 0;
    l_U1890[5]._fU4 = {12, 27, 35};
    l_U1890[5]._fU16 = 1.00000000;
    l_U1890[5]._fU20 = 0;
    l_U1890[5]._fU60 = "ho_an_flr007_af_h";
    l_U1890[5]._fU64 = 0;
    l_U1890[6]._fU4 = {12, 27, 35};
    l_U1890[6]._fU16 = 1.00000000;
    l_U1890[6]._fU20 = 0;
    l_U1890[6]._fU60 = "ho_an_flr007_ag_h";
    l_U1890[6]._fU64 = 0;
    l_U1890[7]._fU4 = {18, 47, 36};
    l_U1890[7]._fU16 = 1.00000000;
    l_U1890[7]._fU20 = 0;
    l_U1890[7]._fU60 = "p_an_winfrm_aa_h";
    l_U1890[7]._fU64 = 0;
    l_U1890[8]._fU4 = {18, 47, 36};
    l_U1890[8]._fU16 = 1.00000000;
    l_U1890[8]._fU20 = 0;
    l_U1890[8]._fU60 = "p_an_winfrm_ab_h";
    l_U1890[8]._fU64 = 0;
    l_U1890[9]._fU4 = {18, 47, 36};
    l_U1890[9]._fU16 = 1.00000000;
    l_U1890[9]._fU20 = 0;
    l_U1890[9]._fU60 = "p_an_winfrm_ac_h";
    l_U1890[9]._fU64 = 0;
    l_U1890[10]._fU4 = {18, 47, 36};
    l_U1890[10]._fU16 = 1.00000000;
    l_U1890[10]._fU20 = 0;
    l_U1890[10]._fU60 = "p_an_winfrm_ad_h";
    l_U1890[10]._fU64 = 0;
    l_U2078[0]._fU4 = {12, 27, 41};
    l_U2078[0]._fU16 = 1.00000000;
    l_U2078[0]._fU20 = 0;
    l_U2078[0]._fU60 = "ho_an_flrrof_aa_h";
    l_U2078[0]._fU64 = 0;
    l_U2078[1]._fU4 = {12, 27, 41};
    l_U2078[1]._fU16 = 1.00000000;
    l_U2078[1]._fU20 = 0;
    l_U2078[1]._fU60 = "ho_an_flrrof_ab_h";
    l_U2078[1]._fU64 = 0;
    l_U2078[2]._fU4 = {12, 27, 41};
    l_U2078[2]._fU16 = 1.00000000;
    l_U2078[2]._fU20 = 0;
    l_U2078[2]._fU60 = "ho_an_flrrof_ac_h";
    l_U2078[2]._fU64 = 0;
    l_U2078[3]._fU4 = {12, 27, 41};
    l_U2078[3]._fU16 = 1.00000000;
    l_U2078[3]._fU20 = 0;
    l_U2078[3]._fU60 = "ho_an_flrrof_ad_h";
    l_U2078[3]._fU64 = 0;
    return;
}

/* INIT_FX_LIST */ void sub_40630()
{
    int I;

    for ( I = 0; I < l_U1140; I++ )
    {
        l_U1140[I]._fU0 = nil;
        l_U1140[I]._fU4 = {0.00000000, 0.00000000, 0.00000000};
        l_U1140[I]._fU16 = {0.00000000, 0.00000000, 0.00000000};
        l_U1140[I]._fU64 = 0;
    }
     /* ADD_FX_ENTRY */ sub_40819( "Ho_Collapse_Explo_01_S", 34.00000000, 48.00000000, 36.00000000, 0, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_40819( "Ho_Collapse_Explo_01_S", 34.00000000, 29.00000000, 35.00000000, 200, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_40819( "Ho_Collapse_Explo_01_S", 20.00000000, 17.00000000, 33.00000000, 800, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_40819( "Ho_Collapse_Explo_01_S", 15.00000000, -0.20000000, 33.00000000, 1000, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_40819( "Ho_Collapse_Explo_01_S", 17.00000000, 11.00000000, 33.00000000, 1500, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_40819( "Ho_Collapse_Explo_01_S", 35.00000000, 28.00000000, 20.00000000, 4500, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_40819( "Ho_Collapse_Explo_01_S", 22.00000000, -2.00000000, 24.00000000, 4500, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_40819( "Ho_Collapse_Explo_02_S", 30.00000000, 49.00000000, 38.00000000, 475, 0.00000000, -5.00000000, 25.00000000 );
     /* ADD_FX_ENTRY */ sub_40819( "Ho_Collapse_Explo_02_S", 30.00000000, 45.00000000, 24.00000000, 1050, 0.00000000, 0.00000000, 65511 );
     /* ADD_FX_ENTRY */ sub_40819( "Ho_Collapse_Explo_03_S", 28.00000000, 39.00000000, 34.00000000, 5500, 60.00000000, -20.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_40819( "Ho_Collapse_Explo_03_S", -8.00000000, 8.50000000, 34.00000000, 7000, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_40819( "Ho_Collapse_Explo_05_S", -9.00000000, 14.00000000, 41.00000000, 800, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_40819( "Ho_Collapse_Explo_05_S", 13.00000000, 38.00000000, 41.00000000, 400, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_40819( "HO_collapse_fire_01", 1.00000000, 22.00000000, 34.00000000, 3000, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_40819( "HO_collapse_fire_01", -8.00000000, 8.50000000, 34.00000000, 3000, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_40819( "HO_collapse_fire_01", 0.30000000, 3.50000000, 30.00000000, 3000, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_40819( "HO_collapse_fire_01", 7.30000000, 32.50000000, 29.80000000, 3000, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_40819( "HO_collapse_fire_01", 1.60000000, 20.80000000, 29.80000000, 3000, 0.00000000, 0.00000000, 0.00000000 );
     /* ADD_FX_ENTRY */ sub_40819( "HO_collapse_fire_01", 5.60000000, 33.80000000, 34.80000000, 3000, 0.00000000, 0.00000000, 0.00000000 );
    return;
}

/* ADD_FX_ENTRY */ void sub_40819(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7)
{
    int I;

    for ( I = 0; I < l_U1140; I++ )
    {
        if (IS_STRING_NULL( l_U1140[I]._fU0 ))
        {
            l_U1140[I]._fU0 = uParam0;
            l_U1140[I]._fU4 = {uParam1};
            l_U1140[I]._fU64 = uParam4;
            l_U1140[I]._fU16 = {uParam5};
            return;
        }
    }
    return;
}

/* P_LOAD_COLLAPSE_ASSETS */ void sub_42103(unknown uParam0)
{
     /* LOADMODEL */ sub_10015( -732347608, uParam0 );
     /* LOADMODEL */ sub_10015( 243792242, uParam0 );
     /* LOADMODEL */ sub_10015( -1037534607, uParam0 );
     /* LOADMODEL */ sub_10015( 1973799339, uParam0 );
     /* LOADMODEL */ sub_10015( 67436979, uParam0 );
     /* LOADMODEL */ sub_10015( -1618467083, uParam0 );
     /* LOADMODEL */ sub_10015( -721108783, uParam0 );
     /* LOADMODEL */ sub_10015( -2091080413, uParam0 );
     /* LOADMODEL */ sub_10015( 910452449, uParam0 );
     /* LOADMODEL */ sub_10015( 1652823720, uParam0 );
     /* LOADMODEL */ sub_10015( -1077107170, uParam0 );
     /* LOADMODEL */ sub_10015( -863152154, uParam0 );
     /* LOADMODEL */ sub_10015( -1683029998, uParam0 );
     /* LOADMODEL */ sub_10015( 601604623, uParam0 );
     /* LOADMODEL */ sub_10015( -2117158730, uParam0 );
     /* LOADMODEL */ sub_10015( 508806708, uParam0 );
     /* LOADMODEL */ sub_10015( 2124107981, uParam0 );
     /* LOADMODEL */ sub_10015( 677554510, uParam0 );
     /* LOADMODEL */ sub_10015( 1704523747, uParam0 );
     /* LOADMODEL */ sub_10015( 1085034612, uParam0 );
     /* LOADMODEL */ sub_10015( -246844569, uParam0 );
     /* LOADMODEL */ sub_10015( -875689657, uParam0 );
     /* LOADMODEL */ sub_10015( 286256608, uParam0 );
    return;
}

/* BLOCKLOAD_HOTEL_CUT_12_06_ASSETS */ void sub_42447()
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "BLOCKLOAD_HOTEL_CUT_12_06_ASSETS", "***" );
     /* BLOCKLOADMODEL */ sub_4385( 1844299595 );
     /* BLOCKLOADMODEL */ sub_4385( -1071978962 );
    return;
}

/* CREATE_CUTSCENE_ONLY_12_06_PEDS */ void sub_42572()
{
    int I;

     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U2189[0], 0, 0, 0, 0, 1460404455, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_9652( ref l_U2189[1], 0, 0, 0, 0, 1827385398, 26, 6, 0, 0, 0 );
    for ( I = 0; I <= (l_U2186 - 1); I++ )
    {
        l_U2186[I] =  /* CREATEPED */ sub_9833( ref l_U2189[I] );
    }
    return;
}

/* REGISTER_PEDS_HOTEL_CUT_12_06 */ void sub_42739(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "REGISTER_PEDS_HOTEL_CUT_12_06", "***" );
    if ( /* IS_MAX_VALID */ sub_4868())
    {
         /* P_PLAYER_HOLSTER_WEAPONS */ sub_4990( ref l_U2165, 1, 1 );
         /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_6354( l_U2165, 0 );
         /* P_EQUIP_PLAYER_WITH_SINGLE_HANDED_WEAPON */ sub_6487( 1 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_4107(), 0, 0 ), "W_PI_Glk18_Aa_H", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_4107(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
    }
     /* REGISTER_PED_WITH_12_06 */ sub_42989( ref (uParam0^)[0], "Nevs_Unif" );
     /* REGISTER_PED_WITH_12_06 */ sub_42989( ref (uParam0^)[1], "Pass_Comb" );
    REGISTER_HIDE_ENTITY_AT_POSITION( -1996980633, 8.84019000, 19.67155000, 42.58596000 );
    REGISTER_HIDE_ENTITY_AT_POSITION( 812253989, 11.45683000, 18.35566000, 42.58820000 );
    if (NOT (IS_VEHICLE_DEAD( g_U991 )))
    {
        REGISTER_VEHICLE_PRE_SEAMLESS_CUTSCENE( g_U991, "heli_cp", 0 );
    }
    return;
}

/* REGISTER_PED_WITH_12_06 */ void sub_42989(unknown uParam0, unknown uParam1)
{
    if ( /* IS_PED_VALID */ sub_4898( (uParam0^) ))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam0^), uParam1, 1 );
        SET_PED_NAME_DEBUG( (uParam0^), uParam1 );
    }
    return;
}

/* P_CREATE_COLLAPSE_OBJECTS */ void sub_43524()
{
     /* P_RESET_ALL_COLLAPSE_COMPONENTS */ sub_43562();
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1685._fU0, -732347608, l_U1685._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1702._fU0, 243792242, l_U1702._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1719._fU0, -1037534607, l_U1719._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1736._fU0, 1973799339, l_U1736._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1753[0]._fU0, 67436979, l_U1753[0]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1753[1]._fU0, -1618467083, l_U1753[1]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1753[2]._fU0, -721108783, l_U1753[2]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1753[3]._fU0, -2091080413, l_U1753[3]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1753[4]._fU0, 1085034612, l_U1753[4]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1753[5]._fU0, -246844569, l_U1753[5]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1753[6]._fU0, -875689657, l_U1753[6]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1753[7]._fU0, 286256608, l_U1753[7]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1890[0]._fU0, 910452449, l_U1890[0]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1890[1]._fU0, 1652823720, l_U1890[1]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1890[2]._fU0, -1077107170, l_U1890[2]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1890[3]._fU0, -863152154, l_U1890[3]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1890[4]._fU0, -1683029998, l_U1890[4]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1890[5]._fU0, 601604623, l_U1890[5]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1890[6]._fU0, -2117158730, l_U1890[6]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1890[7]._fU0, 1085034612, l_U1890[7]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1890[8]._fU0, -246844569, l_U1890[8]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1890[9]._fU0, -875689657, l_U1890[9]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U1890[10]._fU0, 286256608, l_U1890[10]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U2078[0]._fU0, 508806708, l_U2078[0]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U2078[1]._fU0, 2124107981, l_U2078[1]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U2078[2]._fU0, 677554510, l_U2078[2]._fU4, 1, 1 );
     /* MAL_RECREATEOBJECTWITHNOROTATION */ sub_37247( ref l_U2078[3]._fU0, 1704523747, l_U2078[3]._fU4, 1, 1 );
    return;
}

/* P_RESET_ALL_COLLAPSE_COMPONENTS */ void sub_43562()
{
     /* P_RESET_BUILDING_COLLAPSE_COMPONENTS */ sub_43610( ref l_U1685 );
     /* P_RESET_BUILDING_COLLAPSE_COMPONENTS */ sub_43610( ref l_U1702 );
     /* P_RESET_BUILDING_COLLAPSE_COMPONENTS */ sub_43610( ref l_U1719 );
     /* P_RESET_BUILDING_COLLAPSE_COMPONENTS */ sub_43610( ref l_U1736 );
     /* P_RESET_BUILDING_COMPLEX_COLLAPSE_COMPONENTS */ sub_43722( ref l_U1753 );
     /* P_RESET_BUILDING_COMPLEX_COLLAPSE_COMPONENTS */ sub_43722( ref l_U1890 );
     /* P_RESET_BUILDING_COMPLEX_COLLAPSE_COMPONENTS */ sub_43722( ref l_U2078 );
    return;
}

/* P_RESET_BUILDING_COLLAPSE_COMPONENTS */ void sub_43610(int iParam0)
{
     /* CREATETIMER */ sub_14611( iParam0 + 24, iParam0->_fU20, 1, 0 );
    iParam0->_fU64 = 0;
    return;
}

/* P_RESET_BUILDING_COMPLEX_COLLAPSE_COMPONENTS */ void sub_43722(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
         /* CREATETIMER */ sub_14611( ref (uParam0^)[I]._fU24, (uParam0^)[I]._fU20, 1, 0 );
        (uParam0^)[I]._fU64 = 0;
    }
    return;
}

/* F_PLAY_ANIMS */ int sub_44868(boolean bParam0, boolean bParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    unknown uVar37;
    unknown uVar38;
    unknown uVar39;
    unknown uVar40;
    unknown uVar41;
    unknown uVar42;
    unknown uVar43;
    unknown uVar44;
    unknown uVar45;
    unknown uVar46;
    unknown uVar47;
    unknown uVar48;
    unknown uVar49;
    unknown uVar50;
    unknown uVar51;
    unknown uVar52;
    unknown uVar53;
    unknown uVar54;
    unknown uVar55;
    unknown uVar56;
    unknown uVar57;
    unknown uVar58;
    unknown uVar59;
    unknown uVar60;
    unknown uVar61;
    unknown uVar62;
    unknown uVar63;
    unknown uVar64;
    unknown uVar65;

    if (bParam1)
    {
         /* NIS_CREATE_STATIC_CAM */ sub_14459( ref uVar4, l_U2150, l_U2156, 1110704128, 1000 );
         /* NIS_CREATE_STATIC_CAM */ sub_14459( ref uVar35, l_U2153, l_U2159, l_U2162, l_U2163 );
         /* NIS_PLAY_INTERP_WITH_STATIC_CAMS */ sub_44973( ref uVar4, ref uVar35, uVar35._fU84, 1, 1 );
    }
    if (bParam0)
    {
        if (( /* F_HANDLE_COMPLEX_EXPLOSION */ sub_45840( ref l_U2078, 1 )) AND (( /* F_HANDLE_COMPLEX_EXPLOSION */ sub_45840( ref l_U1890, 1 )) AND (( /* F_HANDLE_COMPLEX_EXPLOSION */ sub_45840( ref l_U1753, 1 )) AND (( /* F_HANDLE_SIMPLE_EXPLOSION */ sub_45114( ref l_U1736, 1 )) AND (( /* F_HANDLE_SIMPLE_EXPLOSION */ sub_45114( ref l_U1719, 1 )) AND (( /* F_HANDLE_SIMPLE_EXPLOSION */ sub_45114( ref l_U1702, 1 )) AND ( /* F_HANDLE_SIMPLE_EXPLOSION */ sub_45114( ref l_U1685, 1 ))))))))
        {
             /* P_RESET_ALL_COLLAPSE_COMPONENTS */ sub_43562();
            return 1;
        }
    }
    else if (( /* F_HANDLE_COMPLEX_EXPLOSION */ sub_45840( ref l_U2078, 0 )) AND (( /* F_HANDLE_COMPLEX_EXPLOSION */ sub_45840( ref l_U1890, 0 )) AND (( /* F_HANDLE_COMPLEX_EXPLOSION */ sub_45840( ref l_U1753, 0 )) AND (( /* F_HANDLE_SIMPLE_EXPLOSION */ sub_45114( ref l_U1736, 0 )) AND (( /* F_HANDLE_SIMPLE_EXPLOSION */ sub_45114( ref l_U1719, 0 )) AND (( /* F_HANDLE_SIMPLE_EXPLOSION */ sub_45114( ref l_U1702, 0 )) AND ( /* F_HANDLE_SIMPLE_EXPLOSION */ sub_45114( ref l_U1685, 0 ))))))))
    {
         /* P_RESET_ALL_COLLAPSE_COMPONENTS */ sub_43562();
        return 1;
    }
    return 0;
}

/* NIS_PLAY_INTERP_WITH_STATIC_CAMS */ void sub_44973(int iParam0, int iParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
    SET_CAM_ACTIVE_WITH_INTERP( iParam1->_fU0, iParam0->_fU0, uParam2, uParam3, uParam4 );
    RENDER_SCRIPT_CAMS( 1, 0, 3000, 0 );
     /* STARTTIMER */ sub_14912( iParam1 + 48 );
    iParam1->_fU32 = 1;
    iParam1->_fU40 = 1;
    return;
}

/* F_HANDLE_SIMPLE_EXPLOSION */ int sub_45114(int iParam0, boolean bParam1)
{
    char[64] cVar4;
    unknown uVar20;

    StrCopy( ref cVar4, "Playing anim : ", 64 );
    if (bParam1)
    {
        uVar20 = l_U2147;
    }
    else
    {
        uVar20 = iParam0->_fU16;
    }
    if (iParam0->_fU20 > 0)
    {
        if (NOT (ref iParam0->_fU24->_fU20))
        {
             /* P_CREATE_AND_START_TIMER */ sub_45235( iParam0 + 24, iParam0->_fU20 );
        }
        else if ( /* ISTIMERDONE */ sub_45307( iParam0 + 24 ))
        {
             /* WRITESCRIPTLOG */ sub_2123( "AT", "Delay timer is done!", 0 );
            ConcatString(ref cVar4, iParam0->_fU60, 64);
            PRINTSTRING( ref cVar4 );
            PRINTNL();
             /* MAL_PLAYOBJECTANIM */ sub_45577( iParam0->_fU0, iParam0->_fU60, "ho_anim_coll", uVar20, 0 );
            iParam0->_fU64 = 1;
        }
    }
    else if (NOT iParam0->_fU64)
    {
        ConcatString(ref cVar4, iParam0->_fU60, 64);
        PRINTSTRING( ref cVar4 );
        PRINTNL();
         /* MAL_PLAYOBJECTANIM */ sub_45577( iParam0->_fU0, iParam0->_fU60, "ho_anim_coll", uVar20, 0 );
        iParam0->_fU64 = 1;
    }
    if (NOT iParam0->_fU64)
    {
        return 0;
    }
    return 1;
}

/* P_CREATE_AND_START_TIMER */ void sub_45235(unknown uParam0, unknown uParam1)
{
     /* CREATETIMER */ sub_14611( uParam0, uParam1, 1, 0 );
     /* STARTTIMER */ sub_14912( uParam0 );
    return;
}

/* ISTIMERDONE */ int sub_45307(int iParam0)
{
    if (iParam0->_fU16)
    {
        return 0;
    }
    else if (NOT iParam0->_fU20)
    {
        return 0;
    }
    if (iParam0->_fU28)
    {
        iParam0->_fU4 = TIMERA();
    }
    else
    {
        iParam0->_fU4 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU4 = TIMERSYSTEM();
    }
    if ((iParam0->_fU4 - iParam0->_fU0) >= iParam0->_fU12)
    {
        iParam0->_fU16 = 1;
        iParam0->_fU20 = 0;
        return 1;
        break;
    }
    return 0;
}

/* MAL_PLAYOBJECTANIM */ void sub_45577(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (DOES_OBJECT_EXIST( uParam0 ))
    {
        PLAY_OBJECT_ANIM( uParam0, uParam1, uParam2, 0.00000000, 0, 1 );
        SET_OBJECT_ANIM_CURRENT_TIME( uParam0, uParam1, uParam2, uParam4 );
        SET_OBJECT_ANIM_SPEED( uParam0, uParam1, uParam2, uParam3 );
    }
    return;
}

/* F_HANDLE_COMPLEX_EXPLOSION */ int sub_45840(unknown uParam0, unknown uParam1)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
        if (NOT (uParam0^)[I]._fU64)
        {
             /* F_HANDLE_SIMPLE_EXPLOSION */ sub_45114( ref (uParam0^)[I], uParam1 );
        }
    }
    for ( I = 0; I < (uParam0^); I++ )
    {
        if (NOT (uParam0^)[I]._fU64)
        {
            return 0;
        }
    }
    return 1;
}

/* START_COLLAPSE_FX */ void sub_46132()
{
    int I;

    for ( I = 0; I < l_U1140; I++ )
    {
        if (l_U1140[I]._fU64 > 0)
        {
             /* CREATETIMER */ sub_14611( ref l_U1140[I]._fU28, l_U1140[I]._fU64, 1, 0 );
             /* STARTTIMER */ sub_14912( ref l_U1140[I]._fU28 );
        }
        else if ((IS_STRING_NULL( l_U1140[I]._fU0 )) == 0)
        {
             /* WRITESCRIPTLOG */ sub_2123( "BSW", "playing collapse FX without timer", 0 );
            START_PARTICLE_FX_NON_LOOPED_AT_COORD( l_U1140[I]._fU0, l_U1140[I]._fU4, l_U1140[I]._fU16, 1065353216 );
        }
    }
    return;
}

/* HANDLE_COLLAPSE_FX */ void sub_46393()
{
    int I;

    for ( I = 0; I < l_U1140; I++ )
    {
        if ( /* ISTIMERDONE */ sub_45307( ref l_U1140[I]._fU28 ))
        {
             /* WRITESCRIPTLOG */ sub_2123( "BSW", "playing collapse FX with timer", 0 );
            START_PARTICLE_FX_NON_LOOPED_AT_COORD( l_U1140[I]._fU0, l_U1140[I]._fU4, l_U1140[I]._fU16, 1065353216 );
        }
    }
    return;
}

/* UNLOAD_HOTEL_CUT_12_06_ASSETS */ void sub_46653()
{
     /* WRITESCRIPTLOG */ sub_2123( "RJM", "UNLOAD_HOTEL_CUT_12_06_ASSETS", "***" );
     /* UNLOADMODEL */ sub_7804( 1844299595 );
     /* UNLOADMODEL */ sub_7804( -1071978962 );
    return;
}

