void main()
{
    l_U0 = 1;
    l_U1 = 144;
    l_U2 = 0;
    l_U3 = 1;
    l_U4 = 0;
    l_U5 = 1.00000000;
    l_U6 = -5.00000000;
    l_U7 = 0;
    l_U8 = 0;
    l_U9 = 0;
    l_U13 = 42;
    l_U14 = 0;
    l_U15 = 0;
    l_U16 = 0;
    l_U17 = 0;
    l_U18 = 0;
    l_U19 = 90.00000000;
    l_U20 = {0.00000000, 0.00000000, 0.00000000};
    l_U23 = {0.00000000, 0.00000000, 0.00000000};
    l_U26 = 0;
    l_U27 = 0;
    l_U28 = 0;
    l_U29 = 0;
    l_U30 = 0;
    l_U31 = 0;
    l_U32 = nil;
    l_U33 = {0.00000000, 0.00000000, 0.00000000};
    l_U36 = 0;
    l_U37 = 0;
    l_U38 = 0;
    l_U85 = "PED_DEF";
    l_U127 = 1.00000000;
    l_U139 = 0;
    l_U180 = 0;
    l_U200 = 0;
    l_U201 = 0;
    l_U202 = 1;
    l_U203 = 0;
    l_U204 = 1;
    l_U205 = 0;
    l_U216 = 1;
    l_U266 = "MID_08_HOTEL_concat";
    l_U267 = "MID_08_HOTELB_concat";
    l_U326 = 1;
    l_U327 = "MID_09_HOTEL_concat";
    l_U378 = 0;
    l_U379 = 0;
    l_U380 = 1500;
    l_U462 = 0;
    l_U463 = 0;
    l_U464 = 928600325;
    l_U854 = 0;
    l_U855 = 0;
    l_U856 = 0;
    l_U857 = 0;
    l_U858 = 0;
    l_U859 = 0;
    l_U860 = 0;
    l_U861 = 0;
    l_U1602 = 1224272620;
    l_U1603 = 0;
    l_U1752 = 0;
    l_U1753 = 0;
    l_U1829 = 1;
    l_U1830 = "mid_04_f1_hotel_concat";
    l_U1998 = {-9.59192900, 27.17838000, 33.45236000};
    l_U2001 = {-9.20479700, 29.06947000, 35.45236000};
    l_U2004 = {-11.05691000, 20.88817000, 35.45236000};
    l_U2007 = {-12.71705000, 20.47350000, 34.35154000};
    l_U2010 = 0;
    l_U2011 = 0;
     /* WRITESCRIPTLOG */ sub_675( "MW", "hotel_5f6f_fight script started.", 0 );
    if ((g_U854 <= 9) AND (g_U854 >= 8))
    {
        g_U855 = g_U854;
         /* P_DEBUG_CHECKPOINT_ADDITIONAL_SETUP */ sub_823();
        g_U1019 = 1;
        g_U999 = 1;
    }
     /* WRITESCRIPTLOG */ sub_675( "MW", "Entering Main Logic Loops for: hotel_5f6f_fight ...", 0 );
    while (NOT IS_EXITFLAG_SET())
    {
        if (l_U462)
        {
            SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
        }
        else if ((g_U855 <= 9) AND (g_U855 >= 8))
        {
             /* P_HANDLE_MUSIC */ sub_6474();
        }
         /* P_HANDLE_CHECKPOINTS */ sub_8595();
         /* P_HANDLE_EVENTS */ sub_22180();
         /* P_DEBUG_EXPLOSIVES_SETUP */ sub_75828();
         /* P_HANDLE_SNIPER_NEST_DEBUG_WIDGET */ sub_77318();;
        WAIT( 0 );
    }
     /* P_CLEANUP_ALL */ sub_11315();
     /* P_UNLOAD_ASSETS */ sub_71684();
     /* WRITESCRIPTLOG */ sub_675( "AT", "Script hotel_5f_demolition.sc is ending . . .", 0 );
    SET_SCRIPT_AS_NO_LONGER_NEEDED( "hotel_5f6f_fight" );
    SET_EXITFLAG_RESPONSE();
    return;
}

/* WRITESCRIPTLOG */ void sub_675(unknown uParam0, unknown uParam1, string sParam2)
{
    unknown uVar5;

    if (IS_STRING_NULL( sParam2 ))
    {
        sParam2 = "###";
    }
    uVar5 = GET_REAL_GAME_TIMER();
    DISPLAYF( "[{0}][{1}]{3} {2} {3}", 4, 513, uVar5, 1537, uParam0, 1537, uParam1, 1537, sParam2 );
    return;
}

/* P_DEBUG_CHECKPOINT_ADDITIONAL_SETUP */ void sub_823()
{
    unknown uVar2;

     /* WRITESCRIPTLOG */ sub_675( "MW", "P_DEBUG_CHECKPOINT_ADDITIONAL_SETUP start", 0 );
    if ((NOT ( /* HAS_SAVEFILE_LOADED */ sub_930( ref l_U426 ))) AND (NOT ( /* HAS_SAVEFILE_LOADED */ sub_930( ref l_U390 ))))
    {
         /* MAL_GIVEPEDWEAPON */ sub_5735(  /* PLAYER_PED_ID */ sub_1077(), -1013714740, 100, 0, 0 );
        uVar2 =  /* MAL_GIVEPEDWEAPONINHOLSTER */ sub_6048(  /* PLAYER_PED_ID */ sub_1077(), -612753081, 50, 0, 0 );
        uVar2 =  /* MAL_GIVEPEDWEAPONINHOLSTER */ sub_6048(  /* PLAYER_PED_ID */ sub_1077(), -612753081, 50, 1, 0 );
        SET_PAYNEKILLER_AMT( 3 );
    }
     /* WRITESCRIPTLOG */ sub_675( "MW", "P_DEBUG_CHECKPOINT_ADDITIONAL_SETUP end", 0 );
    return;
}

/* HAS_SAVEFILE_LOADED */ int sub_930(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_675( "rw", "HAS_SAVEFILE_LOADED()", 0 );
    if (IS_ARCADE_MODE_ACTIVE())
    {
        return 0;
    }
    if (HAS_LOAD_JUST_OCCURRED())
    {
        if ((GET_CHECKPOINT_SELECTED() == 1) || (GET_CHECKPOINT_SELECTED() == 0))
        {
            return 0;
        }
        else
        {
            l_U0 = 0;
            CHECKPOINT_STORAGE_LOAD( uParam0, l_U1 );
             /* P_RESTORE_PLAYER_DATA_CHECKPOINT */ sub_1171( uParam0,  /* PLAYER_PED_ID */ sub_1077() );
        }
        if (IS_IN_STORY_MODE())
        {
            START_CONTEXT( "LEVEL" );
        }
        return 1;
    }
    return 0;
}

/* PLAYER_PED_ID */ int sub_1077()
{
    if (DOES_MAIN_PLAYER_EXIST())
    {
        return GET_PLAYER_PED(  /* PLAYER_ID */ sub_1115() );
    }
    return 0;
}

/* PLAYER_ID */ void sub_1115()
{
    return GET_PLAYER_ID();
}

/* P_RESTORE_PLAYER_DATA_CHECKPOINT */ void sub_1171(int iParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    int iVar9;
    int iVar10;
    int iVar11;
    unknown uVar12;
    unknown uVar13;

     /* WRITESCRIPTLOG */ sub_675( "GA", "Restoring the player to the checkpoint - Start", 0 );
    if (l_U0)
    {
        INCREMENT_CHECKPOINT_ATTEMPT();
    }
    g_U648 = 0;
    if (iParam0->_fU0 == 0)
    {
        SCRIPT_ASSERT( "ERROR: Trying to restore a checkpoint that hasn't been saved!!!", 0 );
    }
     /* CLOSE_CURRENT_LEVEL_CONTEXT */ sub_1390( iParam0->_fU52 );
    if (SCRIPT_VAR_EXISTS( "SV_LOAD_CNT" ))
    {
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", (SCRIPT_VAR_GET_INT( "SV_LOAD_CNT" )) + 1 );
    }
    else
    {
        SCRIPT_VAR_ADD_INT( "SV_LOAD_CNT" );
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", 1 );
    }
    CLEAR_KILL_STREAK_RECORDS();
    AUDIO_MUSIC_SUSPEND( 0 );
    DEACTIVATE_BULLET_TIME( 1, 0 );
    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
    REMOVE_ALL_ENVIRONMENT_BLOOD();
    RESET_BLOOD_EFFECTS();
    REMOVE_ALL_GLINTS();
    RESET_DESTROYED_COVER();
    RESET_ALL_PTFX();
    uVar4 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam1 )};
    CLEAR_AREA( iParam0->_fU4, 10000.00000000, 1 );
    if (NOT (IS_PED_DEAD( uParam1 )))
    {
        SET_PED_COORDS( uParam1, iParam0->_fU4, 1 );
         /* LOADCOLLISIONFORPED */ sub_2554( uParam1 );
        SET_PED_HEADING( uParam1, iParam0->_fU16 );
    }
    CLEAR_AREA( uVar4, 3.00000000, 1 );
    LOAD_SCENE( iParam0->_fU4 );
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
    iParam0->_fU28 = GET_PED_MAX_HEALTH( uParam1 );
    SET_PED_HEALTH( uParam1, iParam0->_fU28, 0 );
    RESET_PED_GORE( uParam1 );
    RESET_PED_VISIBLE_DAMAGE( uParam1 );
    REMOVE_ALL_PED_WEAPONS( uParam1 );
    if (NOT (iParam0->_fU56 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPONTOHOLSTER */ sub_2868( uParam1, iParam0->_fU56, 0, iParam0->_fU76, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_3347( uVar7, iParam0 + 96, iParam0 + 100 );
    }
    if (NOT (iParam0->_fU60 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPONTOHOLSTER */ sub_2868( uParam1, iParam0->_fU60, 1, iParam0->_fU80, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_3347( uVar7, iParam0 + 104, iParam0 + 108 );
    }
    if (NOT (iParam0->_fU64 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPONTOHOLSTER */ sub_2868( uParam1, iParam0->_fU64, 2, iParam0->_fU84, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_3347( uVar7, iParam0 + 112, iParam0 + 116 );
    }
    if (NOT (iParam0->_fU68 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPON */ sub_3663( uParam1, iParam0->_fU68, iParam0->_fU88, 0, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_3347( uVar7, iParam0 + 120, iParam0 + 124 );
    }
    if (NOT (iParam0->_fU72 == -1569615261))
    {
        uVar7 =  /* F_GIVEPEDWEAPON */ sub_3663( uParam1, iParam0->_fU72, iParam0->_fU92, 1, 1 );
         /* P_RESTORE_WEAPON_ATTACHMENTS */ sub_3347( uVar7, iParam0 + 128, iParam0 + 132 );
    }
    if (l_U0 == 1)
    {
        if ((IS_PED_DEAD( uParam1 )) == 0)
        {
            if (iParam0->_fU68 != -1569615261)
            {
                uVar7 = GET_WEAPON_FROM_HAND( uParam1, 0, 0 );
                if ((GET_DOES_WEAPON_EXIST( uVar7 )) == 1)
                {
                    uVar8 = GET_WEAPON_TYPE( uVar7 );
                    if (( /* F_CAN_GIVE_AMMO_TO_REGULAR_WEAPON_TYPE */ sub_4235( uVar8 )) == 1)
                    {
                        iVar9 = GET_MAX_AMMO_IN_HAND_CLIP_MP( uParam1, 0 );
                        iVar10 = iParam0->_fU88;
                        if (iVar10 < iVar9)
                        {
                            iVar11 = iVar9 - iVar10;
                            ADD_AMMO_TO_PED( uParam1, uVar8, iVar11, 0 );
                            SET_WEAPON_AMMO_IN_CLIP( uVar7, iVar9 );
                        }
                    }
                }
            }
        }
    }
     /* START_NEW_LEVEL_CONTEXT */ sub_4437( iParam0->_fU52 );
    SET_ADRENALINE_AMT( iParam0->_fU32 );
    if (GET_ADRENALINE_AMT() < 0.20000000)
    {
        SET_ADRENALINE_AMT( 0.20000000 );
    }
    SET_PAYNEKILLER_AMT( iParam0->_fU36 );
    SET_PED_DUCKING(  /* PLAYER_PED_ID */ sub_1077(), 0 );
    GET_TIME_OF_DAY( ref uVar12, ref uVar13 );
    if (iParam0->_fU140 == 1)
    {
        FREEZE_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    else
    {
        RELEASE_TIME_OF_DAY();
        SET_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    SET_PED_SWEAT( uParam1, iParam0->_fU136, -1.00000000 );
    RESTORE_PICKUPS();
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( iParam0->_fU20, 1065353216, 0 );
    SET_GAMEPLAY_CAM_RELATIVE_PITCH( iParam0->_fU24, 1065353216, 0 );
    HANDLE_CHECKPOINT_RESTART();
    if (l_U0)
    {
        ADJUST_AMMO_ATTEMPTS();
        ADJUST_PAIN_KILLERS_ATTEMPTS();
    }
    l_U0 = 1;
    DISPLAY_HUD( 1 );
    if (IS_DEATH_PANEL_WIPE_ALLOWED())
    {
        if (IS_BULLET_CAMERA_WIPE_STOPPED())
        {
            RESUME_BULLET_CAMERA_WIPE_ON_FADEIN();
        }
    }
     /* WRITESCRIPTLOG */ sub_675( "GA", "Restoring the player to the checkpoint - End", 0 );
    return;
}

/* CLOSE_CURRENT_LEVEL_CONTEXT */ void sub_1390(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    iVar3 = 0;
    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        iVar3 =  /* GET_MISSION_INDEX_FROM_NAME */ sub_1452( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, iVar3, 513, uParam0 );
    END_CONTEXT( ref uVar4 );
    return;
}

/* GET_MISSION_INDEX_FROM_NAME */ int sub_1452(unknown uParam0)
{
    if (ARE_STRINGS_EQUAL( uParam0, "s_air" ))
    {
        return 21;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_beach" ))
    {
        return 22;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_boat" ))
    {
        return 10;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_booze" ))
    {
        return 0;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_busdep" ))
    {
        return 17;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_cemet" ))
    {
        return 15;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_club" ))
    {
        return 5;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_clubride" ))
    {
        return 4;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fashion" ))
    {
        return 3;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav0" ))
    {
        return 13;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav1" ))
    {
        return 14;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav2" ))
    {
        return 16;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fire" ))
    {
        return 12;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_hotel" ))
    {
        return 19;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_intro" ))
    {
        return 1;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_marina" ))
    {
        return 9;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc" ))
    {
        return 7;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc2" ))
    {
        return 8;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_office" ))
    {
        return 11;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_pana" ))
    {
        return 18;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_police" ))
    {
        return 20;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_stad" ))
    {
        return 6;
    }
    else
    {
        PRINTSTRING( uParam0 );
        PRINTSTRING( uParam0 );
        PRINTSTRING( uParam0 );
    };;;;;;;;;;;;;;;;;;;;;;
    return 99;
}

/* LOADCOLLISIONFORPED */ void sub_2554(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
        SET_LOAD_COLLISION_FOR_PED_FLAG( uParam0, 1 );
        SET_PED_COORDS_NO_OFFSET( uParam0, uVar3 );
        FREEZE_PED_POSITION( uParam0, 1 );
        REQUEST_COLLISION_AT_COORD( uVar3 );
        if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
        {
            FREEZE_PED_POSITION( uParam0, 0 );
        }
    }
    return;
}

/* F_GIVEPEDWEAPONTOHOLSTER */ void sub_2868(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's holster MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HOLSTER( uParam0, uParam1, uParam3, uParam2 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
                    DISPLAYF( "[SP]### Waiting for a weapon to exist: {} ###", 1, 513, uParam1 );
                }
            }
        }
    }
    else
    {
         /* WRITE_STRING */ sub_3272( "[SP]### (F_GivePedWeaponToHolster) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

/* WRITE_STRING */ void sub_3272(unknown uParam0)
{
    PRINTSTRING( uParam0 );
    PRINTNL();
    return;
}

/* P_RESTORE_WEAPON_ATTACHMENTS */ void sub_3347(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        if (IS_BIT_SET( (uParam1^), I ))
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, IS_BIT_SET( (uParam2^), I ) );
        }
        else
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
        }
    }
    return;
}

/* F_GIVEPEDWEAPON */ void sub_3663(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's hand MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, uParam2, uParam3 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
                    DISPLAYF( "[SP]### Waiting for a weapon to exist: {} ###", 1, 513, uParam1 );
                }
            }
        }
    }
    else
    {
         /* WRITE_STRING */ sub_3272( "[SP]### (F_GivePedWeapon) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

/* F_CAN_GIVE_AMMO_TO_REGULAR_WEAPON_TYPE */ int sub_4235(unknown uParam0)
{
    int iVar3;

    iVar3 = GET_WEAPONTYPE_AMMO( uParam0 );
    if ((iVar3 == -1383321053) || ((iVar3 == -1295933220) || ((iVar3 == 1138793073) || (iVar3 == -1088031219))))
    {
        return 1;
    }
    return 0;
}

/* START_NEW_LEVEL_CONTEXT */ void sub_4437(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        uVar3 =  /* GET_MISSION_INDEX_FROM_NAME */ sub_1452( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, uParam0 );
     /* CLEAR_GG_CONTEXTS */ sub_4535( uVar3 );
    START_CONTEXT( ref uVar4 );
    return;
}

/* CLEAR_GG_CONTEXTS */ void sub_4535(int iParam0)
{
    if (iParam0 != 3)
    {
        END_CONTEXT( "S_FAS_GG_PT" );
    }
    if (iParam0 != 5)
    {
        END_CONTEXT( "S_CLB_GG_M3" );
        END_CONTEXT( "S_CLB_MS" );
    }
    if (iParam0 != 6)
    {
        END_CONTEXT( "S_STA_GG_M1" );
        END_CONTEXT( "S_STA_GG_M81" );
    }
    if (iParam0 != 7)
    {
        END_CONTEXT( "S_NY1_GG_19" );
    }
    if (iParam0 != 8)
    {
        END_CONTEXT( "S_NY2_GG_40" );
        END_CONTEXT( "S_NY2_GG_M5" );
    }
    if (iParam0 != 9)
    {
        END_CONTEXT( "S_MAR_GG_LM" );
        END_CONTEXT( "S_MAR_GG_9M" );
    }
    if (iParam0 != 11)
    {
        END_CONTEXT( "S_OFF_GG_MD" );
    }
    if (iParam0 != 14)
    {
        END_CONTEXT( "S_FV1_GG_SP" );
        END_CONTEXT( "S_FV1_GG_SA" );
    }
    if (iParam0 != 15)
    {
        END_CONTEXT( "S_NYC_GG_6M" );
        END_CONTEXT( "S_NYC_GG_A9" );
    }
    if (iParam0 != 16)
    {
        END_CONTEXT( "S_FV2_GG_D5" );
        END_CONTEXT( "S_FV2_GG_97" );
    }
    if (iParam0 != 17)
    {
        END_CONTEXT( "S_BUS_GG_M4" );
        END_CONTEXT( "S_BUS_GG_FN" );
    }
    if (iParam0 != 18)
    {
        END_CONTEXT( "S_PAN_GG_AK" );
        END_CONTEXT( "S_PAN_GG_SS" );
    }
    if (iParam0 != 19)
    {
        END_CONTEXT( "S_HOT_GG_G3" );
        END_CONTEXT( "S_HOT_GG_LA" );
    }
    if (iParam0 != 20)
    {
        END_CONTEXT( "S_POL_GG_G6" );
        END_CONTEXT( "S_POL_GG_RP" );
        END_CONTEXT( "S_POL_GG_MP" );
    }
    if (iParam0 != 21)
    {
        END_CONTEXT( "S_AIR_GG_RG" );
        END_CONTEXT( "S_AIR_GG_PD" );
    }
    return;
}

/* MAL_GIVEPEDWEAPON */ void sub_5735(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, boolean bParam4)
{
    unknown Result;

    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, uParam2, uParam3 );
        if (bParam4)
        {
            Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
                 /* MAL_WRITESCRIPTLOG */ sub_5903( "MAL_GivePedWeapon waiting for weapon to exist" );
            }
        }
        return Result;
    }
    return nil;
}

/* MAL_WRITESCRIPTLOG */ void sub_5903(unknown uParam0)
{
    unknown uVar3;

    uVar3 = GET_REAL_GAME_TIMER();
    DISPLAYF( "[{0}][{1}]{3} {2} {3}", 4, 513, uVar3, 1537, "MSWW", 1537, uParam0, 1537, "###" );
    return;
}

/* MAL_GIVEPEDWEAPONINHOLSTER */ void sub_6048(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, boolean bParam4)
{
    int Result;

    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        Result = GIVE_WEAPON_TO_PED_HOLSTER( uParam0, uParam1, uParam2, uParam3 );
        if (bParam4)
        {
            Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam3 );
            while (Result == 0)
            {
                WAIT( 0 );
                Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam3 );
                 /* MAL_WRITESCRIPTLOG */ sub_5903( "MAL_GivePedWeapon waiting for weapon to exist" );
            }
        }
        return Result;
    }
    return nil;
}

/* P_HANDLE_MUSIC */ void sub_6474()
{
    if (l_U204 != l_U202)
    {
         /* WRITESCRIPTLOG */ sub_675( "TEH", "playing music:changed CUR FLAG", 0 );
         /* WRITE_INT */ sub_6567( l_U202 );
         /* WRITE_INT */ sub_6567( l_U203 );
        l_U204 = l_U202;
    }
    else if (l_U205 != l_U203)
    {
         /* WRITESCRIPTLOG */ sub_675( "TEH", "playing music:changed NEW FLAG", 0 );
         /* WRITE_INT */ sub_6567( l_U202 );
         /* WRITE_INT */ sub_6567( l_U203 );
        l_U205 = l_U203;
    }
    switch (l_U202)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_675( "TEH", "playing music: MC_STARTUP ", 0 );
        l_U215 = 0;
        l_U202 = 3;
        l_U203 = 3;
        break;
        case 2:
         /* WRITESCRIPTLOG */ sub_675( "TEH", "playing music: MC_RESTART_FIFTH_FLOOR_FIGHT ", 0 );
        AUDIO_MUSIC_FORCE_TRACK( "HOTEL_SONG", "HOTEL_SONG_1_4", "", 0, 3000, 5000, -1082130432, 0 );
        l_U215 = 0;
        l_U202 = 3;
        l_U203 = 3;
        break;
        case 3:
        if (l_U203 == 3)
        {
            if (l_U215 == 0)
            {
                AUDIO_MUSIC_PRELOAD_ONESHOT( "HOTEL_ONESHOT_01", 0 );
                if (AUDIO_MUSIC_IS_ONESHOT_PREPARED( 0 ))
                {
                     /* WRITESCRIPTLOG */ sub_675( "TEH", "playing music: Sussesfully preloaded oneshot_01", 0 );
                    l_U215 = 1;
                }
            }
            else
            {
                l_U202 = 4;
            }
        }
        break;
        case 4:
        if (l_U203 == 4)
        {
            if (l_U215 == 1)
            {
                if (AUDIO_MUSIC_IS_ONESHOT_PREPARED( 0 ))
                {
                     /* WRITESCRIPTLOG */ sub_675( "TEH", "playing music: Sussesfully played oneshot_01", 0 );
                    AUDIO_MUSIC_PLAY_ONESHOT();
                     /* WRITESCRIPTLOG */ sub_675( "TEH", "playing music: MC_CHECKPOINT_FIGHT_STARTS ", 0 );
                    AUDIO_MUSIC_FORCE_TRACK( "HOTEL_SONG", "HOTEL_SONG_1_4", "", 0, 3000, 5000, -1082130432, 0 );
                    l_U215 = 0;
                    l_U202 = 5;
                }
            }
        }
        break;
        case 5:
        if (l_U203 == 5)
        {
             /* WRITESCRIPTLOG */ sub_675( "TEH", "playing music: MC_UPSTAIRS_OR_ALL_DEAD ", 0 );
            AUDIO_MUSIC_FORCE_TRACK( "HOTEL_SONG", "HOTEL_SONG_1", "", 0, 3000, 5000, -1082130432, 0 );
            l_U215 = 0;
            l_U202 = 6;
        }
        break;
        case 10:
         /* WRITESCRIPTLOG */ sub_675( "TEH", "playing music: MC_RESTART_SIXTH_FLOOR_FIGHT ", 0 );
        AUDIO_MUSIC_FORCE_TRACK( "HOTEL_SONG", "HOTEL_SONG_1_4", "", 0, 3000, -1, -1082130432, 0 );
        l_U215 = 0;
        l_U202 = 6;
        break;
        case 6:
        if (l_U203 == 6)
        {
             /* WRITESCRIPTLOG */ sub_675( "TEH", "playing music: MC_SNIPER_BATTLE", 0 );
            AUDIO_MUSIC_FORCE_TRACK( "HOTEL_SONG", "HOTEL_SONG_1_4", "", 0, 3000, 6000, -1082130432, 0 );
            l_U215 = 0;
            l_U202 = 7;
            l_U203 = 7;
        }
        break;
        case 7:
        if (l_U203 == 7)
        {
            if (l_U215 == 0)
            {
                AUDIO_MUSIC_PRELOAD_ONESHOT( "HOTEL_PL_ONESHOT", 0 );
                if (AUDIO_MUSIC_IS_ONESHOT_PREPARED( 0 ))
                {
                     /* WRITESCRIPTLOG */ sub_675( "TEH", "playing music: Sussesfully preloaded PL oneshot", 0 );
                    l_U215 = 1;
                    l_U202 = 8;
                }
            }
            else
            {
                l_U202 = 8;
            }
        }
        break;
        case 8:
        if (l_U203 == 8)
        {
            if (l_U215 == 1)
            {
                if (AUDIO_MUSIC_IS_ONESHOT_PREPARED( 0 ))
                {
                     /* WRITESCRIPTLOG */ sub_675( "TEH", "playing music: Sussesfully played PL oneshot ", 0 );
                    AUDIO_MUSIC_PLAY_ONESHOT();
                    l_U215 = 0;
                }
            }
            if ((l_U201 < 14) AND (l_U200 == 2))
            {
                 /* WRITESCRIPTLOG */ sub_675( "TEH", "playing music: going back to preload PL oneshot", 0 );
                l_U215 = 0;
                l_U202 = 7;
                l_U203 = 7;
            }
            else
            {
                 /* WRITESCRIPTLOG */ sub_675( "TEH", "playing music: moving on to sixth floor", 0 );
                l_U202 = 11;
                l_U203 = 11;
            }
        }
        break;
        case 11:
        if (l_U203 == 11)
        {
             /* WRITESCRIPTLOG */ sub_675( "TEH", "playing music: MC_ON_SIXTH_FLOOR ", 0 );
            AUDIO_MUSIC_FORCE_TRACK( "HOTEL_SONG", "HOTEL_SONG_2_6", "", 0, 5000, 5000, -1082130432, 0 );
            l_U202 = 12;
        }
        break;
        case 12:
        if (l_U203 == 12)
        {
             /* WRITESCRIPTLOG */ sub_675( "TEH", "playing music: MC_ALL_DEAD ", 0 );
            AUDIO_MUSIC_FORCE_TRACK( "HOTEL_SONG", "HOTEL_SONG_1_3", "", 0, 6000, 6000, -1082130432, 0 );
            l_U215 = 0;
            l_U202 = 13;
        }
        break;
        case 13:
        if (l_U203 == 13)
        {
             /* WRITESCRIPTLOG */ sub_675( "TEH", "playing music: MC_ALL_DEAD ", 0 );
            AUDIO_MUSIC_SUSPEND( 10000 );
            l_U215 = 0;
            l_U202 = 14;
        }
        break;
    }
    return;
}

/* WRITE_INT */ void sub_6567(unknown uParam0)
{
    PRINTINT( uParam0 );
    PRINTNL();
    return;
}

/* P_HANDLE_CHECKPOINTS */ void sub_8595()
{
    if ((g_U855 == 9) || (g_U855 == 8))
    {
        if (( /* RESTARTING_CHECKPOINT */ sub_8660()) || (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )))
        {
             /* WRITESCRIPTLOG */ sub_675( "MW", "Player died on hotel_fifth_floor OR Restart", 0 );
            if ( /* IS_RESTART_ACTIVE */ sub_9174())
            {
                if ((g_U856[10]._fU40 != 4) AND (g_U856[10]._fU40 != 0))
                {
                     /* WRITESCRIPTLOG */ sub_675( "GA", "Shutting down script for Hotel Roof.", 0 );
                    g_U1000 = 0;
                    g_U1008 = 1;
                     /* P_RESET_CHECKPOINT_THREAD */ sub_9325( ref g_U856[10] );
                    SET_EXITFLAG_FOR_SCRIPT( g_U856[10]._fU32 );
                }
            }
            else
            {
                while (( /* F_CHECK_QUIT_RETRY */ sub_9412( 0 )) == 0)
                {
                    WAIT( 0 );
                }
                if ((g_U856[10]._fU40 != 4) AND (g_U856[10]._fU40 != 0))
                {
                     /* WRITESCRIPTLOG */ sub_675( "GA", "Shutting down script for Hotel Roof.", 0 );
                    g_U1000 = 0;
                    g_U1008 = 1;
                     /* P_RESET_CHECKPOINT_THREAD */ sub_9325( ref g_U856[10] );
                    SET_EXITFLAG_FOR_SCRIPT( g_U856[10]._fU32 );
                }
                while (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() ))
                {
                    WAIT( 0 );
                }
            }
            if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() ))) AND (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() ))))
            {
                CLEAR_PED_TASKS_IMMEDIATELY(  /* PLAYER_PED_ID */ sub_1077() );
                SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_1115(), 0, 0 );
                if (GET_IS_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_1077() ))
                {
                    SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_1077(), 0 );
                }
            }
            if ((IS_BULLET_CAMERA_RUNNING( 0 )) AND (IS_DEATH_PANEL_WIPE_ALLOWED() == 0))
            {
                 /* P_FADE_OUT_AND_WAIT */ sub_11141( 0 );
            }
            g_U1007 = 0;
            g_U1005 = 0;
            g_U1006 = 0;
             /* P_CLEANUP_ALL */ sub_11315();
            CAMERA_FREEZE_FRAME( 0, 400, 0, 0 );
            if (g_U855 == 9)
            {
                 /* WRITESCRIPTLOG */ sub_675( "SBA", "Restoring CP_SixthFloor_Fight.", 0 );
                 /* P_RESTORE_HOTEL_PLAYER_DATA_CHECKPOINT */ sub_13673( ref l_U426,  /* PLAYER_PED_ID */ sub_1077() );
            }
            else
            {
                 /* WRITESCRIPTLOG */ sub_675( "SBA", "Restoring CP_FifthFloor_Fight.", 0 );
                 /* P_RESTORE_HOTEL_PLAYER_DATA_CHECKPOINT */ sub_13673( ref l_U390,  /* PLAYER_PED_ID */ sub_1077() );
            }
             /* P_SET_STATIC_GAMEPLAY_DATA */ sub_14380();
             /* P_INITIALIZE_SCRIPT_DATA */ sub_19214();
            l_U201 = 2;
        }
    }
    return;
}

/* RESTARTING_CHECKPOINT */ int sub_8660()
{
    if (HAS_SELECTED_RETRY_CHECKPOINT())
    {
        if (IS_IN_NYMINUTE_MODE())
        {
            SWITCH_TO_LEVEL( GET_INDEX_OF_CURRENT_LEVEL() );
        }
        if (HAS_CUTSCENE_FINISHED() == 0)
        {
            return 0;
        }
        l_U0 = 0;
        g_U648 = 1;
        DO_SCREEN_FADE_OUT( 0 );
        ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 1 );
        TERMINATE_GAME_BULLET_CAMERA();
        if (IS_ANIMATED_CAMERA_PLAYING())
        {
            CAMERA_ANIMATED_STOP( 0, 0 );
        }
        STOP_ALL_SCRIPTED_CONVERSATIONS( 0 );
        DEACTIVATE_BULLET_TIME( 1, 0 );
        END_POSTFX_BLENDER( 0, 0 );
        END_POSTFX_BLENDER( 2, 0 );
        END_POSTFX_BLENDER( 3, 0 );
        END_POSTFX_BLENDER( 4, 0 );
        END_POSTFX_BLENDER( 5, 0 );
        END_POSTFX_BLENDER( 7, 0 );
        END_POSTFX_BLENDER( 9, 0 );
        END_POSTFX_BLENDER( 10, 0 );
        END_POSTFX_BLENDER( 11, 0 );
        END_POSTFX_BLENDER( 12, 0 );
        END_POSTFX_BLENDER( 13, 0 );
        END_POSTFX_BLENDER( 14, 0 );
        END_POSTFX_BLENDER( 15, 0 );
        END_POSTFX_BLENDER( 16, 0 );
        STOP_ALL_IMAGEFX( 0 );
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )))
        {
            SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_1077(), 0 );
            SET_PLAYER_FORCED_AIM(  /* PLAYER_ID */ sub_1115(), 0, 0 );
            SET_PLAYER_CAN_USE_SHOOTDODGE(  /* PLAYER_ID */ sub_1115(), 1 );
            if ((IS_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_1077() )) == 0)
            {
                SET_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_1077(), 1 );
            }
        }
        CLEAR_PRINTS();
        CLEAR_HELP();
        SET_INTERACTIONTEXT_VISIBLE( 0 );
        RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
        DESTROY_ALL_CAMS();
        AUDIO_MUSIC_SUSPEND( 500 );
        return 1;
    }
    return 0;
}

/* IS_RESTART_ACTIVE */ void sub_9174()
{
    return g_U648;
}

/* P_RESET_CHECKPOINT_THREAD */ void sub_9325(int iParam0)
{
    iParam0->_fU36 = 0;
    iParam0->_fU40 = 0;
    return;
}

/* F_CHECK_QUIT_RETRY */ int sub_9412(int iParam0)
{
    iParam0 = 1;
    switch (l_U379)
    {
        case 0:
        if (NOT ( /* HASTIMERBEENACTIVATED */ sub_9494( ref l_U381 )))
        {
            if ((IS_DEATH_PANEL_WIPE_ALLOWED()) AND (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )))
            {
                l_U380 = 2000;
                ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 0, 1 );
            }
             /* CREATETIMER */ sub_9628( ref l_U381, l_U380, 1, 1 );
             /* STARTTIMER */ sub_9778( ref l_U381 );
        }
        if ( /* ISTIMERDONE */ sub_9911( ref l_U381 ))
        {
             /* WRITESCRIPTLOG */ sub_675( "NS", " show fail/retry text", 0 );
            if ((IS_DEATH_PANEL_WIPE_ALLOWED()) AND (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )))
            {
                if ((IS_BULLET_CAMERA_RUNNING( 0 )) == 0)
                {
                    if (IS_SCREEN_FADED_OUT())
                    {
                        DO_SCREEN_FADE_IN( 0 );
                    }
                }
                ENABLE_DEATHHELPERTEXT( 1, 1, 0 );
            }
            else if (IS_SCREEN_FADED_OUT())
            {
                DO_SCREEN_FADE_IN( 0 );
                ENABLE_DEATHHELPERTEXT( 1, iParam0, 0 );
            }
            else
            {
                ENABLE_DEATHHELPERTEXT( 1, iParam0, 0 );
            }
            if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_1115() )))
            {
                SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_1115(), 0, 0 );
            }
            DISPLAY_HUD( 0 );
            l_U379 = 1;
        }
        break;
        case 1:
        if ((((NOT IS_QUIT_CONFIRMING()) == 1) AND (IS_BUTTON_JUST_PRESSED( 0, 501 ))) || ((N_1855335259()) || (IS_CONTROL_JUST_PRESSED( 2, 82 ))))
        {
            if (IS_QUIT_CONFIRMING() == 1)
            {
                l_U379 = 2;
            }
            else
            {
                l_U379 = 3;
            }
        }
        break;
        case 2:
         /* WRITESCRIPTLOG */ sub_675( "NS", "Player will QUIT", 0 );
         /* P_POSTQUITRETRYCLEANUP */ sub_10412();
        if (iParam0 == 1)
        {
            DO_SCREEN_FADE_OUT( 0 );
        }
        START_PANEL_WIPE( 0, 6 );
        SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
        RETURN_TO_TITLESCREEN( 0 );
        break;
        case 3:
         /* WRITESCRIPTLOG */ sub_675( "NS", "Player will RETRY", 0 );
        if (IS_IN_NYMINUTE_MODE())
        {
            SWITCH_TO_LEVEL( GET_INDEX_OF_CURRENT_LEVEL() );
        }
        if (iParam0 == 1)
        {
            DO_SCREEN_FADE_OUT( 0 );
        }
         /* P_POSTQUITRETRYCLEANUP */ sub_10412();
        return 1;
        break;
    }
    return 0;
}

/* HASTIMERBEENACTIVATED */ int sub_9494(int iParam0)
{
    if (iParam0->_fU20 == 1)
    {
        return 1;
    }
    if (iParam0->_fU16 == 1)
    {
        return 1;
    }
    return 0;
}

/* CREATETIMER */ void sub_9628(int iParam0, unknown uParam1, boolean bParam2, int iParam3)
{
    if (bParam2)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam3 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU12 = uParam1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = bParam2;
    iParam0->_fU32 = iParam3;
    iParam0->_fU8 = 0;
    return;
}

/* STARTTIMER */ void sub_9778(int iParam0)
{
    if (NOT iParam0->_fU20)
    {
        iParam0->_fU20 = 1;
        iParam0->_fU16 = 0;
        if (iParam0->_fU28)
        {
            iParam0->_fU0 = TIMERA();
        }
        else
        {
            iParam0->_fU0 = TIMERB();
        }
        if (iParam0->_fU32 == 1)
        {
            iParam0->_fU0 = TIMERSYSTEM();
        }
        iParam0->_fU4 = iParam0->_fU0;
    }
    return;
}

/* ISTIMERDONE */ int sub_9911(int iParam0)
{
    if (iParam0->_fU16)
    {
        return 0;
    }
    else if (NOT iParam0->_fU20)
    {
        return 0;
    }
    if (iParam0->_fU28)
    {
        iParam0->_fU4 = TIMERA();
    }
    else
    {
        iParam0->_fU4 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU4 = TIMERSYSTEM();
    }
    if ((iParam0->_fU4 - iParam0->_fU0) >= iParam0->_fU12)
    {
        iParam0->_fU16 = 1;
        iParam0->_fU20 = 0;
        return 1;
        break;
    }
    return 0;
}

/* P_POSTQUITRETRYCLEANUP */ void sub_10412()
{
     /* WRITESCRIPTLOG */ sub_675( "NS", "P_PostFailRetryCleanup", 0 );
     /* RESETTIMER */ sub_10487( ref l_U381 );
    ENABLE_DEATHHELPERTEXT( 0, 0, 2000 );
    SET_SCRIPT_CONTROL_RESET_ON_PLAYER_DEATH( 0 );
    if (NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_1115() )))
    {
        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_1115(), 1, 0 );
    }
    DISPLAY_HUD( 1 );
    l_U378 = 0;
    l_U378 = l_U378;
    l_U379 = 0;
    return;
}

/* RESETTIMER */ void sub_10487(int iParam0)
{
    if (iParam0->_fU28)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    return;
}

/* P_FADE_OUT_AND_WAIT */ void sub_11141(unknown uParam0)
{
    if ((IS_SCREEN_FADING_OUT() == 0) AND (IS_SCREEN_FADED_OUT() == 0))
    {
        DO_SCREEN_FADE_OUT( uParam0 );
        while (IS_SCREEN_FADED_OUT() == 0)
        {
            DISPLAYF( "[SP]### Waiting for screen to fade out... ###", 0 );
            WAIT( 0 );
        }
    }
    return;
}

/* P_CLEANUP_ALL */ void sub_11315()
{
    int I;

     /* WRITESCRIPTLOG */ sub_675( "MW", "P_CLEANUP_FIFTH_FLOOR start", 0 );
     /* SB_DESTROYSNIPER */ sub_11391( ref l_U1604, 1324418830 );
     /* SB_DESTROYSNIPER */ sub_11391( ref l_U1678, -1515441021 );
     /* CLEANPEDARRAY */ sub_11871( ref l_U1260 );
     /* CLEANPEDARRAY */ sub_11871( ref l_U1391 );
     /* CLEANPEDARRAY */ sub_11871( ref l_U1483 );
     /* CLEANPEDARRAY */ sub_11871( ref l_U1527 );
     /* CLEANPEDARRAY */ sub_11871( ref l_U1355 );
     /* CLEANPEDARRAY */ sub_11871( ref l_U1764 );
     /* CLEANPLACEMENT */ sub_11995( g_U1017 );
     /* CLEANPLACEMENT */ sub_11995( l_U1826 );
     /* CLEANPLACEMENT */ sub_11995( g_U1010 );
     /* CLEANPLACEMENTARRAY */ sub_12079( ref g_U1011 );
     /* CLEANPLACEMENTARRAY */ sub_12079( ref l_U1827 );
     /* CLEANPLACEMENT */ sub_11995( g_U758._fU0 );
     /* CLEANPLACEMENT */ sub_11995( g_U812._fU0 );
     /* CLEANOBJECT */ sub_12196( l_U1599 );
     /* CLEANOBJECT */ sub_12196( l_U1600 );
     /* CLEANOBJECT */ sub_12196( l_U1601 );
    SET_PORTAL_TRACK_DEATH_CAMERA( 0 );
    if (IS_ANIMATED_CAMERA_PLAYING())
    {
        CAMERA_ANIMATED_STOP( 0, 0 );
    }
    for ( I = 0; I < l_U553; I++ )
    {
         /* P_ENABLE_POI */ sub_12328( ref l_U553[I]._fU0, 0 );
    }
    for ( I = 0; I <= 5; I++ )
    {
         /* CLEANOBJECT */ sub_12196( l_U1905[I]._fU0 );
         /* CLEANOBJECT */ sub_12196( l_U1905[I]._fU4 );
    }
     /* CLEAR_LOADED_CUTSCENE */ sub_13402( l_U266 );
     /* CLEAR_LOADED_CUTSCENE */ sub_13402( l_U267 );
     /* CLEAR_LOADED_CUTSCENE */ sub_13402( l_U327 );
     /* CLEAR_LOADED_CUTSCENE */ sub_13402( l_U1830 );
     /* WRITESCRIPTLOG */ sub_675( "MW", "P_CLEANUP_FIFTH_FLOOR end", 0 );
    return;
}

/* SB_DESTROYSNIPER */ void sub_11391(int iParam0, unknown uParam1)
{
    iParam0->_fU116 = 0;
    ISEQ_UNREGISTER_ENTITY( uParam1, "stad_sniper" );
     /* TERMINATEISEQ */ sub_11454( uParam1, 1 );
     /* CLEANPED */ sub_11760( iParam0->_fU0 );
    return;
}

/* TERMINATEISEQ */ void sub_11454(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to terminate does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 1)
    {
        ISEQ_TERMINATE( uParam0 );
    }
    ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
    if (iParam1 == 1)
    {
        while ((ISEQ_IS_LOADED( uParam0 )) == 1)
        {
            DISPLAYF( "[SP]### Waiting for interactive sequence to terminate: {0} {1} ###", 2, 1281, ref uVar4, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* CLEANPED */ void sub_11760(unknown uParam0)
{
    if (DOES_PED_EXIST( uParam0 ))
    {
        if ((NOT (IS_PED_DEAD( uParam0 ))) || (IS_PED_DEAD( uParam0 )))
        {
            REMOVE_ALL_PED_WEAPONS( uParam0 );
            DELETE_PED( ref uParam0 );
        }
    }
    return;
}

/* CLEANPEDARRAY */ void sub_11871(unknown uParam0)
{
    int I;

    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
         /* CLEANPED */ sub_11760( (uParam0^)[I] );
    }
    return;
}

/* CLEANPLACEMENT */ void sub_11995(unknown uParam0)
{
    if ((DOES_PLACEMENT_EXIST( uParam0 )) == 1)
    {
        REMOVE_PLACEMENT( uParam0 );
    }
    return;
}

/* CLEANPLACEMENTARRAY */ void sub_12079(unknown uParam0)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
         /* CLEANPLACEMENT */ sub_11995( (uParam0^)[I] );
    }
    return;
}

/* CLEANOBJECT */ void sub_12196(unknown uParam0)
{
    if (DOES_OBJECT_EXIST( uParam0 ))
    {
        DELETE_OBJECT( ref uParam0 );
    }
    return;
}

/* P_ENABLE_POI */ void sub_12328(int iParam0, int iParam1)
{
    if (iParam1 == 1)
    {
        if ((iParam0->_fU4 == 1) AND (iParam0->_fU320 == 1))
        {
             /* P_ENABLEPOIGLINT */ sub_12387( iParam0, 1 );
        }
        iParam0->_fU0 = 1;
    }
    else
    {
         /* P_ENABLEPOIGLINT */ sub_12387( iParam0, 0 );
         /* P_ENABLEPOIINTERACTIONTEXT */ sub_12606( iParam0, 0 );
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )) == 0)
        {
            TASK_CLEAR_LOOK_AT(  /* PLAYER_PED_ID */ sub_1077() );
            if ((iParam0->_fU328 == 1) AND (iParam0->_fU324 == 1))
            {
                SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_1077(), 0 );
                iParam0->_fU328 = 0;
            }
        }
        iParam0->_fU8 = 0;
        iParam0->_fU0 = 0;
    }
    return;
}

/* P_ENABLEPOIGLINT */ void sub_12387(int iParam0, int iParam1)
{
    if (iParam1 == 1)
    {
        if (iParam0->_fU12 != nil)
        {
            if ((DOES_GLINT_EXIST( iParam0->_fU12 )) == 1)
            {
                ENABLE_GLINT( iParam0->_fU12, 1 );
            }
            else
            {
                iParam0->_fU12 = CREATE_GLINT( iParam0->_fU16, iParam0->_fU20 );
            }
        }
        else
        {
            iParam0->_fU12 = CREATE_GLINT( iParam0->_fU16, iParam0->_fU20 );
        }
    }
    else if (iParam0->_fU12 != nil)
    {
        if ((DOES_GLINT_EXIST( iParam0->_fU12 )) == 1)
        {
            ENABLE_GLINT( iParam0->_fU12, 0 );
        }
    }
    return;
}

/* P_ENABLEPOIINTERACTIONTEXT */ void sub_12606(int iParam0, int iParam1)
{
    if (iParam1 == 1)
    {
        SET_INTERACTIONTEXT_TEXT( iParam0 + 32 );
        SET_INTERACTIONTEXT_BUTTON( iParam0->_fU48 );
        if ((iParam0->_fU72 == 0) AND ((iParam0->_fU64 == 1) AND (iParam0->_fU68 == 1)))
        {
            SET_INTERACTIONTEXT_VISIBLE( 0 );
            SET_INTERACTIONTEXT_BUTTON_VISIBLE( 0 );
            SET_INTERACTIONTEXT_AVAILABLE( 0 );
            iParam0->_fU56 = 0;
        }
        else
        {
            SET_INTERACTIONTEXT_VISIBLE( 1 );
            SET_INTERACTIONTEXT_BUTTON_VISIBLE( 1 );
            SET_INTERACTIONTEXT_AVAILABLE( 1 );
            iParam0->_fU56 = 1;
        }
         /* P_UPDATEINTERACTIONTEXTAVAILABLE */ sub_12786( iParam0 );
        if (iParam0->_fU332 == 1)
        {
            SET_INTERACTIONTEXT_PULSE( 1 );
            SET_INTERACTIONTEXT_PULSE_PERIOD( iParam0->_fU336 );
        }
    }
    else
    {
        SET_INTERACTIONTEXT_VISIBLE( 0 );
        SET_INTERACTIONTEXT_BUTTON_VISIBLE( 0 );
    }
    return;
}

/* P_UPDATEINTERACTIONTEXTAVAILABLE */ void sub_12786(int iParam0)
{
    if (iParam0->_fU60 == 1)
    {
        SET_INTERACTIONTEXT_AVAILABLE( 0 );
        iParam0->_fU56 = 0;
    }
    else if (iParam0->_fU56 == 1)
    {
        if (( /* F_ISACTIONINGAVAILABLE */ sub_12882( iParam0 )) == 0)
        {
            SET_INTERACTIONTEXT_AVAILABLE( 0 );
            iParam0->_fU56 = 0;
        }
    }
    else if (( /* F_ISACTIONINGAVAILABLE */ sub_12882( iParam0 )) == 1)
    {
        SET_INTERACTIONTEXT_AVAILABLE( 1 );
        iParam0->_fU56 = 1;
    };;;
    return;
}

/* F_ISACTIONINGAVAILABLE */ int sub_12882(int iParam0)
{
    if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )) == 0) AND ((IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_1115() )) == 0))
    {
        if (((IS_PED_RELOADING(  /* PLAYER_PED_ID */ sub_1077() )) == 1) || (((IS_PED_GETTING_UP(  /* PLAYER_PED_ID */ sub_1077() )) == 1) || (((IS_PED_PICKING_UP_PICKUP(  /* PLAYER_PED_ID */ sub_1077() )) == 1) || (((IS_PED_IN_COVER(  /* PLAYER_PED_ID */ sub_1077() )) == 1) || (((IS_PED_DUCKING(  /* PLAYER_PED_ID */ sub_1077() )) == 1) || (IS_PLAYER_SHOOTDODGING() == 1))))))
        {
            return 0;
        }
        if (iParam0->_fU304 == 0)
        {
            if ((IS_MONOLOGUE_PLAYING() == 1) || ((IS_ANY_SPEECH_PLAYING(  /* PLAYER_PED_ID */ sub_1077() )) == 1))
            {
                return 0;
            }
        }
        return 1;
    }
    return 0;
}

/* CLEAR_LOADED_CUTSCENE */ void sub_13402(unknown uParam0)
{
    if ((CUTSCENE_NAMED_IS_LOADING( uParam0 )) || (CUTSCENE_IS_LOADED( uParam0 )))
    {
         /* WRITESCRIPTLOG */ sub_675( "SBA", "Clearing cutscene:", 0 );
         /* WRITE_STRING */ sub_3272( uParam0 );
        CLEAR_NAMED_CUTSCENE( uParam0 );
    }
    return;
}

/* P_RESTORE_HOTEL_PLAYER_DATA_CHECKPOINT */ void sub_13673(unknown uParam0, unknown uParam1)
{
     /* P_RESTORE_PLAYER_DATA_CHECKPOINT */ sub_1171( uParam0, uParam1 );
     /* RESTORE_WATERBOTTLE_STATE */ sub_13735( uParam0 );
    return;
}

/* RESTORE_WATERBOTTLE_STATE */ void sub_13735(int iParam0)
{
    unknown uVar3;

     /* WRITESCRIPTLOG */ sub_675( "BSW", "RESTORE_WATERBOTTLE_STATE start", 0 );
    uVar3 =  /* GET_WATERBOTTLE_FROM_PLAYER */ sub_13819();
    if (GET_DOES_WEAPON_EXIST( uVar3 ))
    {
        SET_SUPPRESSOR_DAMAGE_LEVEL( uVar3, iParam0->_fU48 );
        DISPLAYF( "RESTORE_WATERBOTTLE_STATE found water bottle suppressor - restoring the state: {}", 1, 513, iParam0->_fU48 );
    }
    return;
}

/* GET_WATERBOTTLE_FROM_PLAYER */ void sub_13819()
{
    boolean bVar2;
    unknown Result;

     /* WRITESCRIPTLOG */ sub_675( "BSW", "DOES_PLAYER_HAVE_WATERBOTTLE start", 0 );
    bVar2 = false;
    if ( /* IS_MAX_VALID */ sub_13911())
    {
        Result = GET_WEAPON_FROM_SLOT(  /* PLAYER_PED_ID */ sub_1077(), 0 );
        if (GET_DOES_WEAPON_EXIST( Result ))
        {
            if ((GET_WEAPON_TYPE( Result )) == 811797242)
            {
                bVar2 = true;
            }
        }
        if (NOT bVar2)
        {
            Result = GET_WEAPON_FROM_SLOT(  /* PLAYER_PED_ID */ sub_1077(), 1 );
            if (GET_DOES_WEAPON_EXIST( Result ))
            {
                if ((GET_WEAPON_TYPE( Result )) == 811797242)
                {
                    bVar2 = true;
                }
            }
        }
    }
    if (bVar2)
    {
        return Result;
        break;
    }
    return nil;
}

/* IS_MAX_VALID */ int sub_13911()
{
    if ( /* IS_PED_VALID */ sub_13941(  /* PLAYER_PED_ID */ sub_1077() ))
    {
        return 1;
    }
    return 0;
}

/* IS_PED_VALID */ int sub_13941(unknown uParam0)
{
    if ((NOT (IS_PED_DEAD( uParam0 ))) AND (DOES_PED_EXIST( uParam0 )))
    {
        return 1;
    }
    return 0;
}

/* P_SET_STATIC_GAMEPLAY_DATA */ void sub_14380()
{
     /* WRITESCRIPTLOG */ sub_675( "MW", "P_SET_FIFTH_FLOOR_STATIC_GAMEPLAY_DATA start", 0 );
     /* P_SET_SEARCHABLE_COVER */ sub_14478( 1 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_9607E1FF_Corner2", 1 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_EFA68C98_Corner1", 1 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_B2BB12C2_Corner1", 1 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_9075F85_Corner2", 1 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1267[0], -7.31103000, 3.32549000, 28.65185000, 318.48970000, -1175062477, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1267[1], -6.45055500, 4.23796400, 28.65185000, 170.31300000, -918073547, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1267[2], -8.91761700, 7.19876400, 28.65185000, 297.38420000, -1440269224, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1267[3], -8.20329700, 5.23183000, 28.65185000, 250.50890000, 341817814, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1267[4], -12.65176000, 20.30379000, 33.31094000, 160, -1202011141, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1267[5], -11.94803000, 21.87725000, 33.45235000, 160, -353717505, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1768[0], -52.75000000, 25.99000000, 35.56000000, 280, 1775810928, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1768[1], -47.90000000, 37.17000000, 42.61000000, 280, -1112605448, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1768[2], -51.51000000, 49.49000000, 42.55000000, 280, 1927998408, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1396[0], 15.47378000, 35.79782000, 33.45212000, 131.30000000, -1561915581, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1396[1], 16.20549000, 34.50547000, 33.45225000, 135.18000000, 1424858936, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1396[2], 19.48511000, 37.10789000, 33.45186000, 130.00000000, -1883661315, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1396[3], 21.98158000, 41.36515000, 33.45186000, 126.18000000, 607021148, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1487[0], -14.80608000, 5.57176400, 29.28769000, 0, -478422616, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1487[1], -16.29867000, 5.97296500, 29.35682000, 0, -1054444155, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1487[2], -16.88968000, 3.95425500, 28.65632000, 0, 535507561, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1532[0], 23.75428000, 40.10096000, 33.45186000, 125, -755755034, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1532[1], 22.60034000, 42.33077000, 33.45186000, 125, 256836731, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1532[2], 25.04673000, 41.31297000, 33.45186000, 125, 688990126, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1532[3], 24.16026000, 43.18258000, 33.45186000, 125, 593044608, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1358[0], -12.65176000, 20.30379000, 33.31094000, 160, 1663155418, 7, 3, 2, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U1358[1], -11.94803000, 21.87725000, 33.45235000, 160, -1198497955, 7, 3, 2, 0, 0 );
     /* P_CREATETRIGGERBOX */ sub_16821( ref l_U968, "TRIGGER_START_OF_RAMP", -12.50000000, 4.76000000, 28.49000000, 3.00000000, 5.00000000, 2.11000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_16821( ref l_U863, "TRIG_SNIPER_SCENE", -12.50000000, 22.51000000, 32.38000000, 6.00000000, 9.80000000, 6.00000000, 0.00000000, 0.00000000, -21.12000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_16821( ref l_U884, "TRIG_6TH_FLOOR_GATE", -6.20000000, 24.89000000, 32.50000000, 4.37000000, 7.40000000, 3.00000000, 0.00000000, 0.00000000, -25.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_16821( ref l_U905, "TRIG_INSIDE_6TH_FLOOR_GATE", -2.69000000, 23.27000000, 32.50000000, 3.00000000, 5.00000000, 3.00000000, 0.00000000, 0.00000000, -25.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_16821( ref l_U926, "TRIG_SIXTH_SPOT_FAILSAFE", 5.76000000, 23.23000000, 32.50000000, 18.50000000, 3.50000000, 3.00000000, 0.00000000, 0.00000000, -46.14000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_16821( ref l_U926, "TRIG_SIXTH_SPOT_FAILSAFE2", 1.76000000, 21.34000000, 32.50000000, 7.54000000, 3.50000000, 3.00000000, 0.00000000, 0.00000000, 72.51000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_16821( ref l_U989[0], "TRIGGER_DANGERZONE_0", -14.80000000, 7.62000000, 28.20000000, 7.90000000, 13.30000000, 18.04000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_16821( ref l_U989[1], "TRIGGER_DANGERZONE_1", -12.62000000, 19.51000000, 28.20000000, 7.90000000, 13.30000000, 18.04000000, 0.00000000, 0.00000000, -16.50000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_16821( ref l_U989[2], "TRIGGER_DANGERZONE_2", -8.46000000, 25.16000000, 28.20000000, 10.13000000, 8.00000000, 18.04000000, 0.00000000, 0.00000000, -28.98000000, 1 );
     /* P_CREATETRIGGERREGION */ sub_17587( ref l_U1053, ref l_U989 );
     /* P_CREATETRIGGERBOX */ sub_16821( ref l_U1236, "TRIG_BOTTOM_OF_RAMP", -15.77000000, 7.74000000, 28.20000000, 3.97000000, 11.24000000, 5.00000000, 0.00000000, 0.00000000, -8.20000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_16821( ref l_U1194, "TRIG_HOLE_IN_FLOOR", 1.80000000, 13.81000000, 31.00000000, 6.04000000, 11.17000000, 2.51000000, 0.00000000, 0.00000000, -19.50000000, 1 );
     /* P_CREATETRIGGERBOX */ sub_16821( ref l_U1215, "TRIG_FIFTH_FLOOR", 5.33000000, 19.77000000, 28.40000000, 45.00000000, 55.00000000, 3.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_18190( ref l_U1257, "TETH_FIFTH_FLOOR", 5.33000000, 19.77000000, 28.40000000, 32.00000000, 45.00000000, 3.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
     /* P_CREATETETHERBOX */ sub_18190( ref l_U1258, "TETH_FIFTH_FLOOR_WEDGE", -10.33000000, 12.88000000, 28.40000000, 4.45000000, 10.87000000, 3.00000000, 0.00000000, 0.00000000, -12.51000000, 1 );
     /* P_CREATETETHERBOX */ sub_18190( ref l_U1259, "TETH_TOP_OF_RAMP", -11.16000000, 22.85000000, 32.43000000, 5.00000000, 14.87000000, 4.00000000, 0.00000000, 0.00000000, -21.37000000, 1 );
     /* P_CREATEVARIANTBOX */ sub_18502( ref l_U1819[0], "VAR_OTHER_BLDG_SHOOTER1", -40.30000000, 33.62000000, 35.40000000, 4.70000000, 1.75000000, 2.00000000, 0.00000000, 0.00000000, 90.00000000, 1 );
     /* P_CREATEVARIANTBOX */ sub_18502( ref l_U1819[1], "VAR_OTHER_BLDG_SHOOTER2", -40.50000000, 33.75000000, 42.50000000, 4.70000000, 1.75000000, 2.00000000, 0.00000000, 0.00000000, 90.00000000, 1 );
     /* P_CREATEVARIANTBOX */ sub_18502( ref l_U1819[2], "VAR_OTHER_BLDG_SHOOTER3", -40.50000000, 46.75000000, 42.40000000, 4.85000000, 1.75000000, 2.00000000, 0.00000000, 0.00000000, 90.00000000, 1 );
     /* P_CREATEDOORSTRUCT */ sub_18777( ref l_U1585, g_U1476, 26.33442000, 41.70376000, 29.75548000, g_U657 );
     /* P_CREATEDOORSTRUCT */ sub_18777( ref l_U1592, g_U1477, 24.97613000, 43.92115000, 29.75548000, g_U657 );
     /* P_SETDOORLOCKED */ sub_18881( ref l_U1585, 1 );
     /* P_SETDOORLOCKED */ sub_18881( ref l_U1592, 1 );
     /* WRITESCRIPTLOG */ sub_675( "MW", "P_SET_FIFTH_FLOOR_STATIC_GAMEPLAY_DATA end", 0 );
    return;
}

/* P_SET_SEARCHABLE_COVER */ void sub_14478(boolean bParam0)
{
     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_SET_SEARCHABLE_COVER:", 0 );
     /* WRITE_BOOL */ sub_14553( bParam0 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_F5617DED_Corner1", bParam0 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_1A4F7D91_Corner1", bParam0 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_2B6944BC_Corner1", bParam0 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_96F2604_Corner2", bParam0 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_9607E1FF_Corner2", bParam0 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_E394D885_Corner1", bParam0 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_EFA68C98_Corner1", bParam0 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_B2BB12C2_Corner1", bParam0 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_9075F85_Corner2", bParam0 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_4ABDE895_Popover4", NOT bParam0 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_1A4F7D91_Corner1", NOT bParam0 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_64ECDA1F_Corner2", NOT bParam0 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_9607E1FF_Corner2", NOT bParam0 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_E84AE4E0_Corner1", NOT bParam0 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_B7850355_Corner2", NOT bParam0 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_EFA68C98_Corner1", NOT bParam0 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_B2BB12C2_Corner1", NOT bParam0 );
    MARK_COVERPOINTMP3_SEARCHABLE( "GenCover", "305DBE67_9075F85_Corner2", NOT bParam0 );
    return;
}

/* WRITE_BOOL */ void sub_14553(boolean bParam0)
{
    if (bParam0)
    {
        PRINTSTRING( "TRUE" );
    }
    else
    {
        PRINTSTRING( "FALSE" );
    }
    PRINTNL();
    return;
}

/* P_CREATEPEDSTRUCTWITHNAME */ void sub_15736(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU20 = uParam5;
    iParam0->_fU12 = uParam4;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU16 = GET_SCENE_PED_MODEL( uParam5 );
    iParam0->_fU48 = uParam10;
    return;
}

/* P_CREATETRIGGERBOX */ void sub_16821(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    StrCopy( ref iParam0->_fU0, uParam1, 64 );
    iParam0->_fU64 = 0;
    iParam0->_fU68 = 0;
    iParam0->_fU72 = {uParam2};
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 1, iParam0 + 0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

/* P_CREATETRIGGERREGION */ void sub_17587(int iParam0, unknown uParam1)
{
    int iVar4;
    int I;

    iVar4 = (uParam1^);
    if (iVar4 > 6)
    {
         /* WRITESCRIPTLOG */ sub_675( "[SA]", "P_CreateTriggerRegion() ERRROR: max number of trigger boxes exceeded.", 0 );
        SCRIPT_ASSERT( "P_CreateTriggerRegion() ERRROR: max number of trigger boxes exceeded.", 0 );
    }
    for ( I = 0; I < iVar4; I++ )
    {
        iParam0->_fU0[I] = {(uParam1^)[I]};
    }
    iParam0->_fU508 = iVar4;
    iParam0->_fU548 = 0;
    iParam0->_fU552 = 0;
    iParam0->_fU556 = 0;
    iParam0->_fU560 = 0;
    return;
}

/* P_CREATETETHERBOX */ void sub_18190(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    iParam0->_fU0 = uParam1;
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 2, iParam0->_fU0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

/* P_CREATEVARIANTBOX */ void sub_18502(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    iParam0->_fU0 = uParam1;
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 4, iParam0->_fU0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

/* P_CREATEDOORSTRUCT */ void sub_18777(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7)
{
    iParam0->_fU0 = uParam1;
    iParam0->_fU4 = {uParam2};
    iParam0->_fU16 = {uParam5};
    return;
}

/* P_SETDOORLOCKED */ void sub_18881(int iParam0, int iParam1)
{
    int iVar4;
    float fVar5;

    if (( /* F_DOESDOOREXIST */ sub_18911( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_18995( iParam0 );
    }
    if (iParam1 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, 0.00000000 );
    }
    else
    {
        iVar4 = 0;
        fVar5 = 0.00000000;
        GET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, ref iVar4, ref fVar5 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar5 );
    }
    return;
}

/* F_DOESDOOREXIST */ int sub_18911(int iParam0)
{
    int iVar3;

    iVar3 = DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS( iParam0->_fU4, 1.00000000, iParam0->_fU0 );
    if (iVar3 == 1)
    {
        return 1;
    }
    return 0;
}

/* P_PRINTDOORNOTEXIST */ void sub_18995(unknown uParam0)
{
    (uParam0^) = {(uParam0^)};
    return;
}

/* P_INITIALIZE_SCRIPT_DATA */ void sub_19214()
{
     /* WRITESCRIPTLOG */ sub_675( "MW", "P_INITIALIZE_FIFTH_FLOOR_SCRIPT_DATA start", 0 );
    l_U543[0] = {-2.54000000, 20.77000000, 34.55000000};
    l_U543[1] = {5.70400000, 7.51500000, 34.55000000};
    l_U543[2] = {10.05800000, 25.43000000, 34.55000000};
    l_U553[0]._fU344 = {-2.56000000, 19.64000000, 33.44438000};
    l_U553[1]._fU344 = {7.43000000, 6.94000000, 33.44438000};
    l_U553[2]._fU344 = {9.47000000, 26.60000000, 33.44438000};
    l_U553[0]._fU356 = 0.00000000;
    l_U553[1]._fU356 = 54.09000000;
    l_U553[2]._fU356 = -143.66000000;
    l_U553[0]._fU368 = {-4.88728400, 21.61246000, 35.28579000};
    l_U553[1]._fU368 = {7.52360500, 1.80719700, 35.61270000};
    l_U553[2]._fU368 = {8.26848700, 30.09833000, 35.79431000};
    l_U553[0]._fU380 = {-3.19466400, -0.00000000, -142.04830000};
    l_U553[1]._fU380 = {-6.17808500, -0.00000000, 14.06653000};
    l_U553[2]._fU380 = {-11.06329000, 0.00000000, -168.89930000};
    l_U553[0]._fU360 = 0.30632000;
    l_U553[1]._fU360 = -0.91023100;
    l_U553[2]._fU360 = 12.05067000;
    l_U553[0]._fU364 = -3.16048900;
    l_U553[1]._fU364 = -6.19255000;
    l_U553[2]._fU364 = -11.06443000;
    l_U553[0]._fU392 = 0;
    l_U553[1]._fU392 = 0;
    l_U553[2]._fU392 = 0;
    l_U200 = 0;
     /* P_CREATEPOISTRUCTCOORD */ sub_19937( ref l_U553[0]._fU0, 1, l_U543[0], l_U543[0], l_U543[0], g_U1910, 3.00000000, 0, 0 );
     /* P_SET_INTERACTIVE_TEXT */ sub_20706( ref l_U553[0]._fU0, 30, "POI_EXPLOSIVE" );
     /* P_CREATEPOISTRUCTCOORD */ sub_19937( ref l_U553[1]._fU0, 1, l_U543[1], l_U543[1], l_U543[1], g_U1910, 3.00000000, 0, 0 );
     /* P_SET_INTERACTIVE_TEXT */ sub_20706( ref l_U553[1]._fU0, 30, "POI_EXPLOSIVE" );
     /* P_CREATEPOISTRUCTCOORD */ sub_19937( ref l_U553[2]._fU0, 1, l_U543[2], l_U543[2], l_U543[2], g_U1910, 3.00000000, 0, 0 );
     /* P_SET_INTERACTIVE_TEXT */ sub_20706( ref l_U553[2]._fU0, 30, "POI_EXPLOSIVE" );
    l_U1905[2]._fU8 = {-5.98000000, 9.28000000, 30.31500000};
    l_U1905[2]._fU20 = {90, 195, -10};
    l_U1905[2]._fU32 = {-5.99000000, 9.25500000, 30.35000000};
    l_U1905[2]._fU44 = {90, 195, -10};
    l_U1905[1]._fU8 = {5.89000000, 7.04000000, 30.16000000};
    l_U1905[1]._fU20 = {90, 65446, -10};
    l_U1905[1]._fU32 = {5.88000000, 7.01200000, 30.20000000};
    l_U1905[1]._fU44 = {90, 65446, -10};
    l_U1905[0]._fU8 = {6.82000000, 28.48000000, 30.20000000};
    l_U1905[0]._fU20 = {65446, 65446, 65501};
    l_U1905[0]._fU32 = {6.84000000, 28.51000000, 30.24000000};
    l_U1905[0]._fU44 = {65446, 65446, 65501};
    l_U1905[3]._fU8 = {-2.65000000, 20.78500000, 35.09000000};
    l_U1905[3]._fU20 = {90, 195, 65511};
    l_U1905[3]._fU32 = {-2.66000000, 20.76000000, 35.12700000};
    l_U1905[3]._fU44 = {90, 195, 65511};
    l_U1905[4]._fU8 = {6.57000000, 7.29000000, 35.09000000};
    l_U1905[4]._fU20 = {65446, -15, 65436};
    l_U1905[4]._fU32 = {6.59600000, 7.28000000, 35.12500000};
    l_U1905[4]._fU44 = {65446, -15, 65436};
    l_U1905[5]._fU8 = {10.04000000, 26.15000000, 35.09000000};
    l_U1905[5]._fU20 = {65446, -15, 54};
    l_U1905[5]._fU32 = {10.02000000, 26.17000000, 35.12500000};
    l_U1905[5]._fU44 = {65446, -15, 54};
    l_U1449[0] = {-0.13208500, 32.44973000, 33.45237000};
    l_U1449[1] = {9.28200000, 34.32400000, 33.45000000};
    l_U1449[2] = {10.98400000, 31.46300000, 33.45000000};
    l_U1449[3] = {14.09700000, 29.32600000, 33.45000000};
    l_U1462[0] = -150.00000000;
    l_U1462[1] = 135.18000000;
    l_U1462[2] = 135.00000000;
    l_U1462[3] = 100.18000000;
    l_U201 = 0;
    l_U1352 = 0;
    l_U1353 = 0;
    l_U1354 = 0;
    l_U861 = 0;
    l_U1603 = 0;
    l_U463 = 0;
    l_U505 = 0;
    l_U1752 = 0;
    l_U1753 = 0;
    l_U1763 = 0;
    l_U854 = 0;
    l_U851 = 0;
    l_U852 = 0;
    l_U853 = 0;
    l_U855 = 0;
    l_U856 = 0;
    l_U857 = 0;
    l_U858 = 0;
    l_U859 = 0;
    l_U860 = 0;
    l_U1473 = 0;
    l_U1814 = 0;
     /* P_SET_BOOL_ARRAY_VALUE */ sub_21982( ref l_U1815, 0 );
     /* RESETTIMER */ sub_10487( ref l_U506 );
     /* RESETTIMER */ sub_10487( ref l_U515 );
     /* RESETTIMER */ sub_10487( ref l_U533 );
    l_U542 = 0;
    g_U1900 = 0;
    g_U1790 = -1;
     /* WRITESCRIPTLOG */ sub_675( "MW", "P_INITIALIZE_FIFTH_FLOOR_SCRIPT_DATA end", 0 );
    return;
}

/* P_CREATEPOISTRUCTCOORD */ void sub_19937(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14)
{
     /* P_CREATEBLANKPOISTRUCT */ sub_19977( iParam0, uParam13 );
    iParam0->_fU4 = uParam1;
    iParam0->_fU100 = {uParam5};
    iParam0->_fU112 = uParam11;
    iParam0->_fU200 = {uParam8};
    iParam0->_fU212 = uParam12;
    iParam0->_fU320 = uParam14;
    iParam0->_fU20 = {uParam2};
     /* P_CREATEPOIGLINT */ sub_20370( iParam0 );
    return;
}

/* P_CREATEBLANKPOISTRUCT */ void sub_19977(int iParam0, unknown uParam1)
{
    iParam0->_fU0 = uParam1;
    iParam0->_fU4 = 0;
    iParam0->_fU8 = 0;
    iParam0->_fU12 = nil;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = {0.00000000, 0.00000000, 0.00000000};
    iParam0->_fU52 = 1;
    iParam0->_fU56 = 1;
    iParam0->_fU60 = 0;
    iParam0->_fU64 = 0;
    iParam0->_fU68 = 0;
    iParam0->_fU72 = 0;
    iParam0->_fU76 = 0;
    iParam0->_fU80 = 0;
    iParam0->_fU84 = 0;
    iParam0->_fU100 = {0.00000000, 0.00000000, 0.00000000};
    iParam0->_fU112 = 0.00000000;
    iParam0->_fU88 = 0;
    iParam0->_fU92 = 0;
    iParam0->_fU96 = 0;
    iParam0->_fU200 = {0.00000000, 0.00000000, 0.00000000};
    iParam0->_fU212 = 0.00000000;
    iParam0->_fU300 = 0;
    iParam0->_fU304 = 1;
    iParam0->_fU308 = 0;
    iParam0->_fU324 = 1;
    iParam0->_fU328 = 0;
    iParam0->_fU340 = 0;
    iParam0->_fU336 = 0.20000000;
    return;
}

/* P_CREATEPOIGLINT */ void sub_20370(int iParam0)
{
    if (iParam0->_fU12 != nil)
    {
        if ((DOES_GLINT_EXIST( iParam0->_fU12 )) == 1)
        {
            REMOVE_GLINT( iParam0->_fU12 );
        }
    }
    iParam0->_fU12 = CREATE_GLINT( iParam0->_fU16, iParam0->_fU20 );
     /* P_INITPOIGLINT */ sub_20468( iParam0 );
    return;
}

/* P_INITPOIGLINT */ void sub_20468(int iParam0)
{
    if (iParam0->_fU0 == 1)
    {
        if (iParam0->_fU320 == 1)
        {
            if ((iParam0->_fU8 > 0) AND (iParam0->_fU4 == 0))
            {
                 /* P_ENABLEPOIGLINT */ sub_12387( iParam0, 1 );
            }
            else if ((iParam0->_fU8 < 2) AND (iParam0->_fU4 == 1))
            {
                 /* P_ENABLEPOIGLINT */ sub_12387( iParam0, 1 );
            }
            else if ((iParam0->_fU8 == 1) AND (iParam0->_fU4 == 2))
            {
                 /* P_ENABLEPOIGLINT */ sub_12387( iParam0, 1 );
            }
            else
            {
                 /* P_ENABLEPOIGLINT */ sub_12387( iParam0, 0 );
            };;;
        }
        else
        {
             /* P_ENABLEPOIGLINT */ sub_12387( iParam0, 0 );
        }
    }
    else
    {
         /* P_ENABLEPOIGLINT */ sub_12387( iParam0, 0 );
    }
    return;
}

/* P_SET_INTERACTIVE_TEXT */ void sub_20706(int iParam0, unknown uParam1, unknown uParam2)
{
    StrCopy( ref iParam0->_fU32, uParam2, 16 );
    iParam0->_fU48 = uParam1;
     /* P_INITINTERACTIVETEXT */ sub_20762( iParam0 );
    return;
}

/* P_INITINTERACTIVETEXT */ void sub_20762(int iParam0)
{
    if ((iParam0->_fU8 == 2) AND (iParam0->_fU0 == 1))
    {
        if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
        {
            SET_INTERACTIONTEXT_BUTTON( iParam0->_fU48 );
            SET_INTERACTIONTEXT_TEXT( iParam0 + 32 );
            SET_INTERACTIONTEXT_VISIBLE( 1 );
            SET_INTERACTIONTEXT_BUTTON_VISIBLE( 1 );
            SET_INTERACTIONTEXT_AVAILABLE( 1 );
            iParam0->_fU56 = 1;
        }
    }
    return;
}

/* P_SET_BOOL_ARRAY_VALUE */ void sub_21982(unknown uParam0, unknown uParam1)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
        (uParam0^)[I] = uParam1;
    }
    return;
}

/* P_HANDLE_EVENTS */ void sub_22180()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    int iVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    unknown uVar37;
    unknown uVar38;
    unknown uVar39;

     /* P_HANDLE_BRANCO_RECEIPT_POI */ sub_22208();
    switch (l_U201)
    {
        case 0:
         /* P_SETUP_ASSET_ARRAYS */ sub_27716();
         /* P_LOAD_ASSETS */ sub_27926();
         /* P_INITIALIZE_SCRIPT_DATA */ sub_19214();
         /* P_SET_STATIC_GAMEPLAY_DATA */ sub_14380();
        l_U201 = 1;
        break;
        case 1:
        l_U201 = 2;
        break;
        case 2:
        if (g_U999)
        {
            if (g_U855 < 8)
            {
                g_U855 = 8;
                if (g_U1019 == 0)
                {
                    l_U855 = 1;
                     /* P_SET_SEARCHABLE_COVER */ sub_14478( 0 );
                     /* WRITESCRIPTLOG */ sub_675( "SBA", "Loading sHOTEL_MID08", "***" );
                    l_U862 = l_U266;
                }
                else
                {
                    l_U855 = 0;
                     /* WRITESCRIPTLOG */ sub_675( "SBA", "Loading sHOTEL_MID08B", "***" );
                    l_U862 = l_U267;
                }
                 /* LOADSEAMLESSCUTSCENE */ sub_29043( l_U862, 1 );
                 /* P_CREATE_5TH_FLOOR_ENEMIES */ sub_29641();
                 /* TOGGLE_HIDE_EXTRA_5TH_FLOOR_ENEMIES */ sub_33200( 1 );
                 /* REGISTER_PEDS_MID_08 */ sub_33574( ref l_U1267, 1 );
                l_U201 = 3;
            }
            else if (g_U855 == 8)
            {
                 /* P_SNAP_PLAYER_TO_PILLAR */ sub_36962();
                 /* P_CREATE_5TH_6TH_FLOOR_EXPLOSIVE */ sub_37461( ref l_U1905[0], g_U1418 );
                 /* P_CREATE_5TH_6TH_FLOOR_EXPLOSIVE */ sub_37461( ref l_U1905[1], g_U1418 );
                 /* P_CREATE_BRANCO_RECEIPT_POI */ sub_38043();
                 /* P_CREATE_5TH_FLOOR_ENEMIES */ sub_29641();
                if (g_U1019 == 0)
                {
                    l_U855 = 1;
                     /* P_SET_SEARCHABLE_COVER */ sub_14478( 0 );
                     /* NIS_CREATE_STATIC_CAM */ sub_38462( ref uVar8, 7.70572000, 32.40286000, 30.25313000, -10.38024000, -0.00000000, 147.76480000, 1110704128, 1000 );
                     /* NIS_PLAY_STATIC_CAMERA */ sub_38695( ref uVar8 );
                }
                 /* P_START_5TH_FLOOR_SEARCH */ sub_38804();
                l_U202 = 2;
                l_U201 = 5;
            }
            else if (g_U855 == 9)
            {
                 /* P_CREATE_5TH_6TH_FLOOR_EXPLOSIVE */ sub_37461( ref l_U1905[0], g_U1418 );
                 /* P_CREATE_5TH_6TH_FLOOR_EXPLOSIVE */ sub_37461( ref l_U1905[1], g_U1418 );
                 /* P_CREATE_BRANCO_RECEIPT_POI */ sub_38043();
                 /* P_CREATE_SNIPERS */ sub_39232();
                 /* P_ACTIVATE_SNIPERS */ sub_40721();
                l_U202 = 10;
                if ((g_U1730 == 0) AND (g_U854 == 9))
                {
                    uVar39 =  /* F_GET_TWO_HANDED_WEAPON_FROM_PLAYER */ sub_41368();
                    if (GET_DOES_WEAPON_EXIST( uVar39 ))
                    {
                         /* WRITESCRIPTLOG */ sub_675( "SBA", "Saving Max's 2-handed weapon type at start up", "***" );
                        g_U1730 = GET_WEAPON_TYPE( uVar39 );
                    }
                    else
                    {
                        g_U1730 = -1569615261;
                    }
                }
                 /* PREPARE_MAX_WEAPONS_FOR_SNIPER_GAMEPLAY */ sub_41650();
                l_U201 = 10;
            };;;
            SET_SCRIPT_CONTROL_RESET_ON_PLAYER_DEATH( 1 );
             /* P_CREATE_S_HOT_GG_LA_02 */ sub_42198();
             /* P_CREATE_S_HOT_GG_G3_02 */ sub_43003();
             /* P_CREATE_FIFTH_FLOOR_PLACEMENTS */ sub_43161();
             /* P_CREATE_5TH_6TH_FLOOR_EXPLOSIVE */ sub_37461( ref l_U1905[2], g_U1418 );
             /* P_OPENDOOR */ sub_44350( ref g_U1652, 1, 1, 1065353216 );
             /* P_SETDOORLATCH */ sub_44514( ref g_U1652, 1 );
             /* P_SETDOORLOCKED */ sub_18881( ref g_U1687, 0 );
             /* P_SETDOORMINMAXLIMIT */ sub_44612( ref g_U1687, 65451, 85 );
             /* P_OPENDOOR */ sub_44350( ref g_U1687, 0, 1, 1065353216 );
             /* P_SETDOORLATCH */ sub_44514( ref g_U1687, 1 );
            if ((NOT (IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_1115() ))) AND (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() ))))
            {
                if (NOT (IS_PLAYER_CONTROL_ON(  /* PLAYER_ID */ sub_1115() )))
                {
                    SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_1115(), 1, 0 );
                }
            }
            if ((l_U201 != 5) AND (l_U201 != 10))
            {
                DO_SCREEN_FADE_IN( 0 );
            }
        }
        break;
        case 3:
        if (g_U1019 == 0)
        {
            if (NOT l_U855)
            {
                l_U855 = 1;
                 /* P_SET_SEARCHABLE_COVER */ sub_14478( 0 );
            }
        }
        else if (l_U855)
        {
            l_U855 = 0;
        }
        if ( /* PLAY_HOTEL_MID_08 */ sub_45022( 1, l_U855, 0, l_U862 ))
        {
             /* P_CREATE_5TH_6TH_FLOOR_EXPLOSIVE */ sub_37461( ref l_U1905[0], g_U1418 );
             /* P_CREATE_5TH_6TH_FLOOR_EXPLOSIVE */ sub_37461( ref l_U1905[1], g_U1418 );
             /* P_START_5TH_FLOOR_SEARCH */ sub_38804();
             /* WRITESCRIPTLOG */ sub_675( "SBA", "P_HANDLE_EVENTS: Going to eps5thFloorMID08Blendout", "***" );
            l_U201 = 4;
        }
        break;
        case 4:
        if (NOT (ISEQ_QUERY_ENTITY_STATE( -780465587, "max", 3 )))
        {
            if (l_U855)
            {
                 /* NIS_RETURN_TO_GAMEPLAY_CAM */ sub_48140( 500, 1, 0, 87.83089000, -10.43955000, 0 );
                 /* NIS_POST_SETUP */ sub_26754( 1, 1 );
            }
             /* WRITESCRIPTLOG */ sub_675( "SBA", "P_HANDLE_EVENTS: (in cover) going to epsPost5thFloorMID08", "***" );
            l_U201 = 6;
        }
        break;
        case 5:
        if (l_U855)
        {
            if ( /* IS_MAX_VALID */ sub_13911())
            {
                if ((IS_BULLET_CAMERA_WIPE_STOPPED()) AND (IS_DEATH_PANEL_WIPE_ALLOWED()))
                {
                    DO_SCREEN_FADE_IN( 0 );
                }
                if (IS_PED_USING_MP3_COVER_TASK(  /* PLAYER_PED_ID */ sub_1077() ))
                {
                    DO_SCREEN_FADE_IN( 0 );
                     /* NIS_RETURN_TO_GAMEPLAY_CAM */ sub_48140( 500, 1, 0, 87.83089000, -10.43955000, 0 );
                     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_HANDLE_EVENTS: From epsPost5thFloorMID08Restart, going to epsPost5thFloorMID08", "***" );
                    l_U201 = 6;
                }
            }
        }
        else
        {
            DO_SCREEN_FADE_IN( 0 );
            l_U201 = 6;
        }
        break;
        case 6:
        if (NOT l_U390._fU0)
        {
             /* P_SAVE_HOTEL_PLAYER_DATA_CHECKPOINT */ sub_48663( ref l_U390, g_U855,  /* PLAYER_PED_ID */ sub_1077(), g_U1020[g_U855], g_U1123[g_U855], g_U1158[g_U855], g_U1193[g_U855], 1 );
        }
         /* CLEAR_FORCED_COLLISION_LOAD_FOR_HOTEL */ sub_53442();
         /* P_CREATE_SNIPERS */ sub_39232();
         /* P_CREATE_AMMO_BAG */ sub_53588();
         /* P_CREATE_6TH_FLOOR_PILLS */ sub_53755();
         /* LOADSEAMLESSCUTSCENE */ sub_29043( l_U1830, 0 );
         /* PED_CLEAR_ALL_ACTION_INTENTIONS */ sub_53917(  /* PLAYER_PED_ID */ sub_1077() );
         /* WRITESCRIPTLOG */ sub_675( "SBA", "P_HANDLE_EVENTS: Going to eps5thFloorFight", "***" );
        l_U201 = 7;
        break;
        case 7:
         /* P_PED_ARRAY_Z_SAFETY_CHECK */ sub_54209( ref l_U1260, 25.00000000, 0, 1 );
        if (NOT l_U1352)
        {
            if ( /* F_SEARCHERS_START_ATTACK */ sub_54424( ref l_U1260, 3 ))
            {
                if (l_U202 == 4)
                {
                    l_U203 = 4;
                }
                 /* P_5TH_FLOOR_ENEMIES_ATTACK */ sub_55507();
                 /* P_DEPLOY_5TH_REINFORCEMENTS */ sub_55706();
                l_U1352 = 1;
            }
        }
        else
        {
             /* P_5TH_REINFORCEMENT_OFF_RAMP */ sub_56045();
        }
        if ((NOT l_U856) AND (( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_56651( ref l_U1260 )) == 1))
        {
            if (DOES_GROUP_EXIST( l_U1346._fU0 ))
            {
                PEDGROUPTASK_DESTROY( l_U1346._fU0, l_U1823 );
            }
             /* F_ASSIGN_BULLET_CAM_TO_LAST_LIVING_PED */ sub_56820( ref l_U1260 );
            l_U856 = 1;
        }
        else if (( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_56651( ref l_U1260 )) == 0)
        {
            if (NOT l_U861)
            {
                 /* P_SET_POI_AVAILABLE */ sub_38306( ref g_U1791, 1 );
                l_U861 = 1;
            }
            if (NOT l_U505)
            {
                if (NOT (IS_BULLET_CAMERA_RUNNING( 0 )))
                {
                     /* CREATETIMER */ sub_9628( ref l_U506, 1000, 1, 0 );
                     /* STARTTIMER */ sub_9778( ref l_U506 );
                     /* CREATETIMER */ sub_9628( ref l_U515, 30000, 1, 0 );
                     /* STARTTIMER */ sub_9778( ref l_U515 );
                     /* TAKE_PAINKILLER_ARRAY_SNAPSHOT */ sub_57121( ref g_U1011, ref g_U1014 );
                    l_U505 = 1;
                }
            }
            if ((l_U505 == 1) AND (NOT l_U463))
            {
                if ( /* UPDATE_PILL_VO */ sub_57386( "SHOT_MXFNDPLS", ref g_U1011, ref g_U1014 ))
                {
                     /* WRITESCRIPTLOG */ sub_675( "SBA", "Playing Pill monologue for puiKillHousePainkillers", "..." );
                    l_U463 = 1;
                }
            }
            l_U203 = 5;
        }
        if ( /* ISTIMERDONE */ sub_9911( ref l_U506 ))
        {
             /* P_SPEECH_PLAY_MAX_MONOLOGUE */ sub_24879( "SHOT_MXGTNPN", ref l_U475 );
        }
        if ( /* F_ISPLAYERINTRIGGERBOX */ sub_57795( l_U968 ))
        {
             /* WRITESCRIPTLOG */ sub_675( "SBA", "P_HANDLE_EVENTS: Advancing to epsSniperMidscene", "***" );
            l_U203 = 5;
             /* P_RESET_5TH_BULLET_CAM */ sub_57929();
             /* P_ACTIVATE_SNIPERS */ sub_40721();
             /* DISABLETIMER */ sub_58228( ref l_U515 );
            l_U201 = 8;
        }
         /* P_HANDLE_5TH_DAWDLE_MONOLOGUE */ sub_58279();
        break;
        case 8:
        if ( /* F_ISPLAYERINTRIGGERBOX */ sub_57795( l_U863 ))
        {
             /* P_SET_POI_AVAILABLE */ sub_38306( ref g_U1791, 0 );
            uVar39 =  /* F_GET_TWO_HANDED_WEAPON_FROM_PLAYER */ sub_41368();
            if (GET_DOES_WEAPON_EXIST( uVar39 ))
            {
                 /* WRITESCRIPTLOG */ sub_675( "SBA", "Saving Max's 2-handed weapon type in flow", "***" );
                g_U1730 = GET_WEAPON_TYPE( uVar39 );
            }
            else
            {
                g_U1730 = -1569615261;
            }
             /* LOADSEAMLESSCUTSCENE */ sub_29043( l_U1830, 1 );
             /* REGISTER_PEDS_MID_04_F1 */ sub_58547( l_U1604._fU0 );
            l_U201 = 9;
        }
        break;
        case 9:
        if ( /* PLAY_HOTEL_MID_04_F1 */ sub_59038( 1, 0, 0 ))
        {
             /* SB_ACTIVATESNIPER */ sub_40809( ref l_U1604, 1324418830 );
            l_U201 = 10;
            break;
        }
        return;
        case 10:
         /* WRITESCRIPTLOG */ sub_675( "SBA", "P_HANDLE_EVENTS: starting Sniper Fight", "***" );
        g_U855 = 9;
        if (NOT l_U426._fU0)
        {
             /* P_SAVE_HOTEL_PLAYER_DATA_CHECKPOINT */ sub_48663( ref l_U426, g_U855,  /* PLAYER_PED_ID */ sub_1077(), g_U1020[g_U855], g_U1123[g_U855], g_U1158[g_U855], g_U1193[g_U855], 1 );
        }
         /* P_CREATE_AMMO_BAG */ sub_53588();
         /* P_CREATE_6TH_FLOOR_PILLS */ sub_53755();
         /* P_CREATE_OTHER_BLDG_SHOOTERS */ sub_60123();
        SET_PED_MODEL_LOD_DISTANCES( 928600325, 45.00000000, 100.00000000 );
        if (NOT (IS_PED_USING_MP3_COVER_TASK(  /* PLAYER_PED_ID */ sub_1077() )))
        {
             /* WRITESCRIPTLOG */ sub_675( "BSW", "snapping max into cover", "***" );
            SNAP_PLAYER_TO_COVERPOINT(  /* PLAYER_ID */ sub_1115(), "GenCover", "98F68FD2_32E6F263_Popover2", 0 );
            SET_GAMEPLAY_CAM_RELATIVE_HEADING( g_U1158[9], 1, 1 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( g_U1193[9], 1, 1 );
        }
        l_U1753 = 1;
         /* SB_SETDUCKDELAY */ sub_60583( ref l_U1604, g_U723 );
         /* SB_SETDUCKDELAY */ sub_60583( ref l_U1678, g_U723 );
         /* P_DEPLOY_OTHER_BLDG_SHOOTERS */ sub_60642();
         /* P_PROCESS_OTHER_BLDG_SHOOTERS_ARRIVAL */ sub_61037();
        SET_PORTAL_TRACK_DEATH_CAMERA( 1 );
         /* WRITESCRIPTLOG */ sub_675( "bsw", "Going to epsSniperFadeIn", 0 );
        l_U201 = 11;
        break;
        case 11:
        if ( /* IS_MAX_VALID */ sub_13911())
        {
            if ((IS_BULLET_CAMERA_WIPE_STOPPED()) AND (IS_DEATH_PANEL_WIPE_ALLOWED()))
            {
                DO_SCREEN_FADE_IN( 0 );
            }
            if (IS_PED_USING_MP3_COVER_TASK(  /* PLAYER_PED_ID */ sub_1077() ))
            {
                 /* NIS_POST_SETUP */ sub_26754( 1, 1 );
                DO_SCREEN_FADE_IN( 0 );
                 /* WRITESCRIPTLOG */ sub_675( "SBA", "Going to epsOpen6thGate", 0 );
                l_U201 = 13;
                START_CONTEXT( "HOTEL_SIXTH_FLOOR" );
            }
        }
         /* P_PROCESS_OTHER_BLDG_SHOOTERS_ARRIVAL */ sub_61037();
        break;
        case 13:
        if (NOT (DOES_PLACEMENT_EXIST( l_U1826 )))
        {
             /* P_CREATE_AMMO_BAG */ sub_53588();
             /* P_CREATE_6TH_FLOOR_PILLS */ sub_53755();
        }
         /* P_PROCESS_OTHER_BLDG_SHOOTERS_ARRIVAL */ sub_61037();
         /* UPDATE_SNIPER_FIGHT */ sub_61729();
        if ( /* F_ISPLAYERINTRIGGERBOX */ sub_57795( l_U884 ))
        {
             /* P_LONE_WOLF_REMAINING_5TH_FLOOR_ENEMIES */ sub_62991();
             /* P_CREATE_6TH_FLOOR_ENEMIES */ sub_63480();
            uVar7 =  /* GET_LAST_LIVING_SHOOTER */ sub_61792();
            if ( /* IS_PED_VALID */ sub_13941( uVar7 ))
            {
                SET_PED_CAN_TRIGGER_BULLET_CAM( uVar7, 0 );
                 /* WRITESCRIPTLOG */ sub_675( "SBA", "Removing sniper bullet cam...", "***" );
            }
             /* WRITESCRIPTLOG */ sub_675( "SBA", "P_HANDLE_EVENTS: Advancing to eps6thFloorFight", "***" );
            l_U201 = 14;
        }
        break;
        case 14:
         /* P_PED_ARRAY_Z_SAFETY_CHECK */ sub_54209( ref l_U1391, 25.00000000, 0, 1 );
         /* P_PED_ARRAY_Z_SAFETY_CHECK */ sub_54209( ref l_U1483, 25.00000000, 0, 1 );
        if ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_64314( ref l_U905, 0 ))
        {
            l_U203 = 8;
             /* P_SETDOORLATCH */ sub_44514( ref g_U1694, 1 );
        }
        if (( /* F_ISPLAYERINTRIGGERBOX */ sub_57795( l_U905 )) AND (NOT l_U1473))
        {
             /* P_6TH_FLOOR_ENEMIES_ATTACK */ sub_64488();
             /* LOADSEAMLESSCUTSCENE */ sub_29043( l_U327, 0 );
            l_U1473 = 1;
        }
        if (NOT l_U1814)
        {
             /* P_PROCESS_OTHER_BLDG_SHOOTERS_ARRIVAL */ sub_61037();
            if (NOT ( /* F_ISPLAYERINTRIGGERREGION */ sub_64977( ref l_U1053, 0 )))
            {
                 /* CLEANPEDARRAY */ sub_11871( ref l_U1764 );
                RESET_PED_MODEL_LOD_DISTANCES( 928600325 );
                l_U1814 = 1;
            }
        }
        if ( /* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ sub_64314( ref l_U1194, 0 ))
        {
             /* P_CREATE_ENEMIES_GOING_TO_THE_HOLE */ sub_65211();
             /* WRITESCRIPTLOG */ sub_675( "SBA", "Resetting 6th Floor bullet cam!", "***" );
             /* P_REMOVE_BULLET_CAM_FROM_PED_ARRAY */ sub_58050( ref l_U1391 );
             /* P_REMOVE_BULLET_CAM_FROM_PED_ARRAY */ sub_58050( ref l_U1483 );
             /* P_REMOVE_BULLET_CAM_FROM_PED_ARRAY */ sub_58050( ref l_U1260 );
            l_U857 = 0;
        }
        iVar5 = ((( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_56651( ref l_U1391 )) + ( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_56651( ref l_U1260 ))) + ( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_56651( ref l_U1355 ))) + ( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_56651( ref l_U1483 ));
        if ((NOT l_U859) AND (iVar5 <= 2))
        {
             /* P_CREATE_6TH_FLOOR_REINFORCMENTS */ sub_65785();
             /* P_TASK_6TH_FLOOR_REINFORCEMENTS */ sub_66186( ref l_U1483 );
        }
        if ((NOT l_U857) AND (iVar5 == 1))
        {
            if (DOES_GROUP_EXIST( l_U1346._fU0 ))
            {
                PEDGROUPTASK_DESTROY( l_U1346._fU0, l_U1823 );
            }
            if (DOES_GROUP_EXIST( l_U1467._fU0 ))
            {
                PEDGROUPTASK_DESTROY( l_U1467._fU0, l_U1824 );
            }
             /* F_ASSIGN_BULLET_CAM_TO_LAST_LIVING_PED */ sub_56820( ref l_U1260 );
             /* F_ASSIGN_BULLET_CAM_TO_LAST_LIVING_PED */ sub_56820( ref l_U1391 );
             /* F_ASSIGN_BULLET_CAM_TO_LAST_LIVING_PED */ sub_56820( ref l_U1355 );
             /* F_ASSIGN_BULLET_CAM_TO_LAST_LIVING_PED */ sub_56820( ref l_U1483 );
             /* WRITESCRIPTLOG */ sub_675( "SBA", "6th Floor bullet cam Assigned", "***" );
            l_U857 = 1;
        }
        if ((NOT IS_LAST_MAN_STANDING_ACTIVE()) AND ((NOT (IS_BULLET_CAMERA_RUNNING( 0 ))) AND (iVar5 == 0)))
        {
            END_CONTEXT( "HOTEL_SIXTH_FLOOR" );
             /* P_ENABLE_POI */ sub_12328( ref l_U553[0]._fU0, 1 );
             /* P_ENABLE_POI */ sub_12328( ref l_U553[1]._fU0, 1 );
             /* P_ENABLE_POI */ sub_12328( ref l_U553[2]._fU0, 1 );
            l_U202 = 12;
            l_U203 = 12;
            if ((IS_PED_DEAD( l_U1678._fU0 )) AND ((IS_PED_DEAD( l_U1604._fU0 )) AND (( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_56651( ref l_U1764 )) == 0)))
            {
                 /* CREATETIMER */ sub_9628( ref l_U524, 1000, 1, 0 );
                 /* STARTTIMER */ sub_9778( ref l_U524 );
            }
             /* CREATETIMER */ sub_9628( ref l_U533, 40000, 1, 0 );
             /* STARTTIMER */ sub_9778( ref l_U533 );
             /* P_SET_POI_AVAILABLE */ sub_38306( ref g_U1791, 1 );
             /* TAKE_PAINKILLER_ARRAY_SNAPSHOT */ sub_57121( ref g_U1011, ref g_U1014 );
             /* WRITESCRIPTLOG */ sub_675( "SBA", "P_HANDLE_EVENTS: Advancing to epsFirst6thFloorColumn", "***" );
            l_U201 = 15;
        }
        break;
        case 15:
        if ( /* ISTIMERDONE */ sub_9911( ref l_U524 ))
        {
             /* P_SPEECH_PLAY_MONOLOGUE */ sub_66924( "SHOT_MXSPRDD", ref l_U485 );
        }
        if (NOT l_U463)
        {
            if ( /* UPDATE_PILL_VO */ sub_57386( "SHOT_MXFNDPLS", ref g_U1011, ref g_U1014 ))
            {
                 /* WRITESCRIPTLOG */ sub_675( "SBA", "Playing Pill monologue for puiKillHousePainkillers", "..." );
                l_U463 = 1;
            }
        }
         /* F_HANDLE_POI */ sub_22252( ref l_U553[0]._fU0 );
         /* F_HANDLE_POI */ sub_22252( ref l_U553[1]._fU0 );
         /* F_HANDLE_POI */ sub_22252( ref l_U553[2]._fU0 );
        if (( /* F_GET_NUM_SIXTH_FLOOR_PILLARS_USED */ sub_67201()) > 0)
        {
            l_U1904 =  /* F_FIND_INDEX_OF_USED_PILLAR */ sub_67323();
            if (l_U1904 > -1)
            {
                l_U1894 = {l_U553[l_U1904]._fU344};
                l_U1897 = l_U553[l_U1904]._fU356;
                l_U1898 = {l_U553[l_U1904]._fU368};
                l_U1901 = {l_U553[l_U1904]._fU380};
                l_U553[l_U1904]._fU392 = 1;
                g_U1004 = 0;
                 /* WRITESCRIPTLOG */ sub_675( "bsw", "new post-mid09 teleport vector:", 0 );
                 /* WRITE_VECTOR */ sub_51647( l_U1894 );
            }
            l_U201 = 16;
             /* WRITESCRIPTLOG */ sub_675( "SBA", "P_HANDLE_EVENTS: Advancing to epsFirstMID09", "***" );
        }
        else
        {
             /* HANDLE_6TH_FLOOR_HURRY_UP_DIALOGUE */ sub_67858();
        }
        break;
        case 16:
        if ( /* PLAY_HOTEL_MID_09 */ sub_68257( 1, l_U1894, l_U1897, l_U1898, l_U1901, 0, 0 ))
        {
             /* LOADSEAMLESSCUTSCENE */ sub_29043( l_U327, 0 );
             /* P_SET_POI_AVAILABLE */ sub_38306( ref g_U1791, 0 );
             /* P_ENABLE_POI */ sub_12328( ref l_U553[0]._fU0, 0 );
             /* P_ENABLE_POI */ sub_12328( ref l_U553[1]._fU0, 0 );
             /* P_ENABLE_POI */ sub_12328( ref l_U553[2]._fU0, 0 );
             /* WRITESCRIPTLOG */ sub_675( "SBA", "P_HANDLE_EVENTS: Advancing to eps6thFloorLastWave", "***" );
            l_U201 = 17;
        }
        if ((NOT l_U852) AND (g_U1004))
        {
             /* P_CREATE_5TH_6TH_FLOOR_EXPLOSIVE */ sub_37461( ref l_U1905[l_U1904 + 3], g_U1426 );
            l_U852 = 1;
        }
        break;
        case 17:
        if (NOT l_U860)
        {
             /* P_CREATE_6TH_FLOOR_REINFORCMENTS_WAVE2 */ sub_69617();
             /* P_TASK_6TH_FLOOR_REINFORCEMENTS2 */ sub_69952( ref l_U1527 );
            l_U860 = 1;
        }
        else
        {
            iVar5 =  /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_56651( ref l_U1527 );
            if ((NOT l_U858) AND (iVar5 == 1))
            {
                 /* F_ASSIGN_BULLET_CAM_TO_LAST_LIVING_PED */ sub_56820( ref l_U1527 );
                l_U858 = 1;
            }
            if ((NOT IS_LAST_MAN_STANDING_ACTIVE()) AND ((NOT (IS_BULLET_CAMERA_RUNNING( 0 ))) AND (iVar5 == 0)))
            {
                 /* TAKE_PAINKILLER_ARRAY_SNAPSHOT */ sub_57121( ref g_U1011, ref g_U1014 );
                 /* P_ENABLE_POI */ sub_12328( ref l_U553[0]._fU0, 1 );
                 /* P_ENABLE_POI */ sub_12328( ref l_U553[1]._fU0, 1 );
                 /* P_ENABLE_POI */ sub_12328( ref l_U553[2]._fU0, 1 );
                 /* P_ENABLE_POI */ sub_12328( ref l_U553[l_U1904]._fU0, 0 );
                 /* P_SET_POI_AVAILABLE */ sub_38306( ref g_U1791, 1 );
                 /* CREATETIMER */ sub_9628( ref l_U533, 30000, 1, 0 );
                 /* STARTTIMER */ sub_9778( ref l_U533 );
                 /* WRITESCRIPTLOG */ sub_675( "SBA", "P_HANDLE_EVENTS: Final wave dead, Advancing to epsSecond6thFloorColumn", "***" );
                l_U201 = 18;
            }
        }
        break;
        case 18:
        if (NOT l_U463)
        {
            if ( /* UPDATE_PILL_VO */ sub_57386( "SHOT_MXFNDPLS", ref g_U1011, ref g_U1014 ))
            {
                 /* WRITESCRIPTLOG */ sub_675( "SBA", "Playing Pill monologue for puiKillHousePainkillers", "..." );
                l_U463 = 1;
            }
        }
         /* F_HANDLE_POI */ sub_22252( ref l_U553[0]._fU0 );
         /* F_HANDLE_POI */ sub_22252( ref l_U553[1]._fU0 );
         /* F_HANDLE_POI */ sub_22252( ref l_U553[2]._fU0 );
        if (( /* F_GET_NUM_SIXTH_FLOOR_PILLARS_USED */ sub_67201()) > 1)
        {
            l_U1904 =  /* F_FIND_INDEX_OF_USED_PILLAR */ sub_67323();
            if (l_U1904 > -1)
            {
                l_U1894 = {l_U553[l_U1904]._fU344};
                l_U1897 = l_U553[l_U1904]._fU356;
                l_U1898 = {l_U553[l_U1904]._fU368};
                l_U1901 = {l_U553[l_U1904]._fU380};
                l_U553[l_U1904]._fU392 = 1;
                g_U1004 = 0;
                 /* WRITESCRIPTLOG */ sub_675( "bsw", "new post-mid09 teleport vector:", 0 );
                 /* WRITE_VECTOR */ sub_51647( l_U1894 );
            }
             /* WRITESCRIPTLOG */ sub_675( "SBA", "P_HANDLE_EVENTS: Advancing to epsSecondMID09", "***" );
            l_U201 = 19;
        }
        else
        {
             /* HANDLE_6TH_FLOOR_HURRY_UP_DIALOGUE */ sub_67858();
        }
        break;
        case 19:
        if ( /* PLAY_HOTEL_MID_09 */ sub_68257( 1, l_U1894, l_U1897, l_U1898, l_U1901, 0, 0 ))
        {
             /* P_CREATE_5TH_6TH_FLOOR_EXPLOSIVE */ sub_37461( ref l_U1905[l_U1904 + 3], g_U1426 );
            if (l_U542 < 3)
            {
                 /* CREATETIMER */ sub_9628( ref l_U533, 30000, 1, 0 );
                 /* STARTTIMER */ sub_9778( ref l_U533 );
            }
            g_U1000 = 1;
            l_U201 = 20;
        }
        if ((NOT l_U853) AND (g_U1004))
        {
             /* P_CREATE_5TH_6TH_FLOOR_EXPLOSIVE */ sub_37461( ref l_U1905[l_U1904 + 3], g_U1426 );
            l_U853 = 1;
        }
        break;
        case 20:
         /* F_HANDLE_POI */ sub_22252( ref l_U553[0]._fU0 );
         /* F_HANDLE_POI */ sub_22252( ref l_U553[1]._fU0 );
         /* F_HANDLE_POI */ sub_22252( ref l_U553[2]._fU0 );
        if (NOT l_U463)
        {
            if ( /* UPDATE_PILL_VO */ sub_57386( "SHOT_MXFNDPLS", ref g_U1011, ref g_U1014 ))
            {
                 /* WRITESCRIPTLOG */ sub_675( "SBA", "Playing Pill monologue for puiKillHousePainkillers", "..." );
                l_U463 = 1;
            }
        }
        if (( /* F_GET_NUM_SIXTH_FLOOR_PILLARS_USED */ sub_67201()) == 3)
        {
            if (IS_CUSTOM_PLAYER_VARIATION() == 0)
            {
                SET_PED_COMPONENT_VARIATION(  /* PLAYER_PED_ID */ sub_1077(), 5, 0, 1, 0 );
                SET_PED_COMPONENT_VARIATION(  /* PLAYER_PED_ID */ sub_1077(), 11, 0, 0, 0 );
            }
             /* WRITESCRIPTLOG */ sub_675( "SBA", "P_HANDLE_EVENTS: Advancing to epsInvalid", "***" );
            l_U201 = 21;
             /* P_CLEANUP_ALL */ sub_11315();
             /* P_UNLOAD_ASSETS */ sub_71684();
            l_U203 = 13;
             /* P_HANDLE_MUSIC */ sub_6474();
            g_U1001 = 1;
            l_U462 = 1;
        }
        else
        {
             /* HANDLE_6TH_FLOOR_HURRY_UP_DIALOGUE */ sub_67858();
        }
        break;
    }
    if (l_U1752)
    {
        if (l_U1753)
        {
            if (NOT ( /* F_ISPLAYERINTRIGGERREGION */ sub_64977( ref l_U1053, 0 )))
            {
                if ((l_U1604._fU116 == 3) || ((l_U1604._fU116 == 5) || ((l_U1604._fU116 == 2) || (l_U1604._fU116 == 1))))
                {
                    l_U1604._fU116 = 6;
                }
                if ((l_U1678._fU116 == 3) || ((l_U1678._fU116 == 5) || ((l_U1678._fU116 == 2) || (l_U1678._fU116 == 1))))
                {
                    l_U1678._fU116 = 6;
                }
            }
            else if ((l_U1604._fU116 == 6) || ((l_U1604._fU116 == 5) || (l_U1604._fU116 == 3)))
            {
                l_U1604._fU116 = 2;
            }
            if ((l_U1678._fU116 == 6) || ((l_U1678._fU116 == 5) || (l_U1678._fU116 == 3)))
            {
                l_U1678._fU116 = 2;
            }
            if (NOT (IS_BULLET_CAMERA_RUNNING( 0 )))
            {
                if ( /* IS_MAX_AIMING_WITH_SNIPER_RIFLE */ sub_62808())
                {
                     /* TOGGLE_SNIPER_BLOCKERS_VISIBILITY */ sub_62631( 0 );
                }
                else
                {
                     /* TOGGLE_SNIPER_BLOCKERS_VISIBILITY */ sub_62631( 1 );
                }
            }
            if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )) == 0)
            {
                if ( /* IS_PED_VALID */ sub_13941( l_U1604._fU0 ))
                {
                    if (HAS_PED_BEEN_DAMAGED_BY_PED(  /* PLAYER_PED_ID */ sub_1077(), l_U1604._fU0, 0 ))
                    {
                         /* P_KILL_PED */ sub_72396(  /* PLAYER_PED_ID */ sub_1077() );
                    }
                }
                if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )) == 0)
                {
                    if ( /* IS_PED_VALID */ sub_13941( l_U1678._fU0 ))
                    {
                        if (HAS_PED_BEEN_DAMAGED_BY_PED(  /* PLAYER_PED_ID */ sub_1077(), l_U1678._fU0, 0 ))
                        {
                             /* P_KILL_PED */ sub_72396(  /* PLAYER_PED_ID */ sub_1077() );
                        }
                    }
                }
            }
        }
         /* SB_HANDLESNIPERBEHAVIOUR */ sub_72549( ref l_U1604 );
         /* SB_HANDLESNIPERBEHAVIOUR */ sub_72549( ref l_U1678 );
    }
    return;
}

/* P_HANDLE_BRANCO_RECEIPT_POI */ void sub_22208()
{
    if ( /* F_HANDLE_POI */ sub_22252( ref g_U1791 ))
    {
        g_U1790 = 0;
    }
    if ( /* HANDLE_BRANCO_RECEIPT_CAM */ sub_24137())
    {
         /* P_ENABLE_POI */ sub_12328( ref g_U1791, 1 );
         /* WRITESCRIPTLOG */ sub_675( "SBA", "P_HANDLE_BRANCO_RECEIPT_POI: POI has been used", 0 );
    }
    if ( /* F_POI_CAN_PLAY_UNAVALIABLE_MONO */ sub_27242( ref g_U1791 ))
    {
         /* P_SPEECH_PLAY_MAX_MONOLOGUE */ sub_24879( "EXPLORE_ITEM", ref g_U1890 );
    }
    return;
}

/* F_HANDLE_POI */ int sub_22252(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    int iVar6;
    int iVar7;
    int iVar8;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )) == 0)
    {
        if (iParam0->_fU0 == 1)
        {
            uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS(  /* PLAYER_PED_ID */ sub_1077() )};
            iVar6 = 0;
            if (iParam0->_fU80 == 1)
            {
                if (( /* F_ISPEDINTRIGGERBOX */ sub_22353(  /* PLAYER_PED_ID */ sub_1077(), iParam0->_fU116 )) == 1)
                {
                    if (iParam0->_fU300 == 1)
                    {
                        if (((IS_OBJECT_ON_SCREEN( iParam0->_fU312 )) == 1) AND ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1))
                        {
                            iVar6 = 1;
                        }
                    }
                    else
                    {
                        iVar6 = 1;
                    }
                }
            }
            else if ((iParam0->_fU308 == 1) AND (iParam0->_fU84 == 1))
            {
                if ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_OBJECT_COORDS( iParam0->_fU312 ), 1 )) <= iParam0->_fU112)
                    {
                        if (iParam0->_fU300 == 1)
                        {
                            if ((IS_OBJECT_ON_SCREEN( iParam0->_fU312 )) == 1)
                            {
                                iVar6 = 1;
                            }
                        }
                        else
                        {
                            iVar6 = 1;
                        }
                    }
                }
            }
            else if (iParam0->_fU96 == 1)
            {
                if ((DOES_PED_EXIST( iParam0->_fU316 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU316 ), 1 )) <= iParam0->_fU112)
                    {
                        if (iParam0->_fU300 == 1)
                        {
                            if ((IS_PED_ON_SCREEN( iParam0->_fU316, 0 )) == 1)
                            {
                                iVar6 = 1;
                            }
                        }
                        else
                        {
                            iVar6 = 1;
                        }
                    }
                }
            }
            else if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, iParam0->_fU100, 1 )) <= iParam0->_fU112)
            {
                if (iParam0->_fU300 == 1)
                {
                    if (((IS_OBJECT_ON_SCREEN( iParam0->_fU312 )) == 1) AND ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1))
                    {
                        iVar6 = 1;
                    }
                }
                else
                {
                    iVar6 = 1;
                }
            };;;;
            iVar7 = 0;
            if (iParam0->_fU88 == 1)
            {
                if (( /* F_ISPEDINTRIGGERBOX */ sub_22353(  /* PLAYER_PED_ID */ sub_1077(), iParam0->_fU216 )) == 1)
                {
                    iVar7 = 1;
                }
            }
            else if ((iParam0->_fU308 == 1) AND (iParam0->_fU92 == 1))
            {
                if ((DOES_OBJECT_EXIST( iParam0->_fU312 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_OBJECT_COORDS( iParam0->_fU312 ), 1 )) <= iParam0->_fU212)
                    {
                        iVar7 = 1;
                    }
                }
            }
            else if (iParam0->_fU96 == 1)
            {
                if ((DOES_PED_EXIST( iParam0->_fU316 )) == 1)
                {
                    if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU316 ), 1 )) <= iParam0->_fU212)
                    {
                        iVar7 = 1;
                    }
                }
            }
            else if ((GET_DISTANCE_BETWEEN_COORDS( uVar3, iParam0->_fU200, 1 )) <= iParam0->_fU212)
            {
                iVar7 = 1;
            };;;;
            if (iVar6 == 1)
            {
                if ((iParam0->_fU4 != 3) AND (iParam0->_fU52 == 1))
                {
                    if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                    {
                         /* P_UPDATEINTERACTIONTEXTAVAILABLE */ sub_12786( iParam0 );
                    }
                    iVar8 = 0;
                    if ((IS_WEAPON_PICKUP_VISIBLE() == 0) AND ((iParam0->_fU60 == 0) AND (( /* F_ISACTIONINGAVAILABLE */ sub_12882( iParam0 )) == 1)))
                    {
                        SET_ACTION_CONSUMED( 0, 1 );
                        if (( /* F_HASACTIONBEENPRESSED */ sub_23216()) == 1)
                        {
                            iVar8 = 1;
                        }
                    }
                    if (iVar8 == 1)
                    {
                        if (iParam0->_fU332 == 0)
                        {
                             /* P_ENABLE_POI */ sub_12328( iParam0, 0 );
                            iParam0->_fU64 = 1;
                        }
                        if (iParam0->_fU68 == 1)
                        {
                            iParam0->_fU72 = 0;
                        }
                        return 1;
                    }
                    else if (iParam0->_fU8 != 2)
                    {
                        if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                        {
                             /* P_ENABLEPOIGLINT */ sub_12387( iParam0, 0 );
                             /* P_ENABLEPOIINTERACTIONTEXT */ sub_12606( iParam0, 1 );
                        }
                        else if (iParam0->_fU320 == 1)
                        {
                             /* P_ENABLEPOIGLINT */ sub_12387( iParam0, 1 );
                        }
                        iParam0->_fU8 = 2;
                    }
                    if ((iParam0->_fU328 == 0) AND (iParam0->_fU324 == 1))
                    {
                        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )) == 0)
                        {
                            SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_1077(), 1 );
                            iParam0->_fU328 = 1;
                        }
                    }
                }
            }
            else if (iVar7 == 1)
            {
                if (iParam0->_fU8 != 1)
                {
                    if ((iParam0->_fU4 != 3) AND (iParam0->_fU320 == 1))
                    {
                         /* P_ENABLEPOIGLINT */ sub_12387( iParam0, 1 );
                    }
                    if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                    {
                         /* P_ENABLEPOIINTERACTIONTEXT */ sub_12606( iParam0, 0 );
                    }
                    if (iParam0->_fU96 == 1)
                    {
                        if (((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )) == 0) AND ((((IS_PED_DEAD( iParam0->_fU316 )) == 1) || ((IS_PED_DEAD( iParam0->_fU316 )) == 0)) AND ((DOES_PED_EXIST( iParam0->_fU316 )) == 1)))
                        {
                            TASK_LOOK_AT_PED(  /* PLAYER_PED_ID */ sub_1077(), iParam0->_fU316, -1, 0 );
                        }
                    }
                    else if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )) == 0)
                    {
                        TASK_LOOK_AT_COORD(  /* PLAYER_PED_ID */ sub_1077(), iParam0->_fU100, -1, 0 );
                    }
                    iParam0->_fU340 = 1;
                    if ((iParam0->_fU72 == 0) AND ((iParam0->_fU68 == 1) AND ((iParam0->_fU64 == 1) AND (iParam0->_fU8 == 2))))
                    {
                        iParam0->_fU72 = 1;
                    }
                    iParam0->_fU8 = 1;
                }
                if ((iParam0->_fU328 == 0) AND (iParam0->_fU324 == 1))
                {
                    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )) == 0)
                    {
                        SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_1077(), 1 );
                        iParam0->_fU328 = 1;
                    }
                }
            }
            else if ((iParam0->_fU4 == 1) || (iParam0->_fU4 == 3))
            {
                ;
            }
            else if (iParam0->_fU8 != 0)
            {
                if (iParam0->_fU320 == 1)
                {
                     /* P_ENABLEPOIGLINT */ sub_12387( iParam0, 0 );
                }
            }
            if (iParam0->_fU8 == 2)
            {
                if ((iParam0->_fU4 == 2) || (iParam0->_fU4 == 1))
                {
                     /* P_ENABLEPOIINTERACTIONTEXT */ sub_12606( iParam0, 0 );
                }
            }
            if (iParam0->_fU340)
            {
                if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )) == 0)
                {
                    TASK_CLEAR_LOOK_AT(  /* PLAYER_PED_ID */ sub_1077() );
                    iParam0->_fU340 = 0;
                }
            }
            if ((iParam0->_fU328 == 1) AND (iParam0->_fU324 == 1))
            {
                if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )) == 0)
                {
                    SET_PED_FORCED_TO_WALK(  /* PLAYER_PED_ID */ sub_1077(), 0 );
                    iParam0->_fU328 = 0;
                }
            }
            if (iParam0->_fU332 == 1)
            {
                 /* P_ENABLEPOIINTERACTIONTEXT */ sub_12606( iParam0, 0 );
            }
            iParam0->_fU8 = 0;;;
        }
    }
    return 0;
}

/* F_ISPEDINTRIGGERBOX */ int sub_22353(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        return IS_PED_IN_GAMEPLAY_HELPER_BOX( uParam0, ref uParam1._fU0 );
    }
    return 0;
}

/* F_HASACTIONBEENPRESSED */ int sub_23216()
{
    if ((IS_CONTROL_JUST_PRESSED( 0, 30 )) == 1)
    {
        return 1;
    }
    return 0;
}

/* HANDLE_BRANCO_RECEIPT_CAM */ void sub_24137()
{
    int Result;

    Result = 0;
    switch (g_U1790)
    {
        case 0:
         /* WRITESCRIPTLOG */ sub_675( "SBA", "HANDLE_BRANCO_RECEIPT_CAM: eBrancoReceipt = ASS_SETUP", 0 );
         /* NIS_PRE_SETUP */ sub_24294( 1, 0, 0, 1 );
         /* KILL_ANY_MISSION_SPEECH */ sub_24470( 0 );
        g_U1790 = 3;
        break;
        case 3:
         /* WRITESCRIPTLOG */ sub_675( "SBA", "HANDLE_BRANCO_RECEIPT_CAM: eBrancoReceipt = ASS_WAITING_TO_PLAY", 0 );
        CAMERA_PLAY_ANIMATED( "EXPL_CAM", "EXPL_CAM_GND_15_F_CAM", 1, -12.14000000, -1.36000000, 30.70000000, 163.45000000, 0, 0 );
        if (NOT (HAS_EXPLORATION_ITEM_BEEN_FOUND( "shot_Receipt" )))
        {
             /* KILL_ANY_MISSION_SPEECH */ sub_24470( 0 );
             /* P_SPEECH_PLAY_MAX_MONOLOGUE */ sub_24879( "SHOT_MXSNPNVS", ref g_U1880 );
            FOUND_EXPLORATION_ITEM( "shot_Receipt" );
        }
        else
        {
             /* CREATETIMER */ sub_9628( ref g_U1901, 4000, 1, 0 );
             /* STARTTIMER */ sub_9778( ref g_U1901 );
        }
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )))
        {
            CLEAR_PED_TASKS_IMMEDIATELY(  /* PLAYER_PED_ID */ sub_1077() );
            RESET_PLAYER_INPUT_GAIT( 0 );
            SET_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_1077(), 0 );
        }
        g_U1790 = 4;
        break;
        case 4:
        if (((NOT ( /* IS_SPEECH_CURRENTLY_PLAYING */ sub_26381( g_U1880 ))) AND (NOT g_U1901._fU20)) || ( /* ISTIMERDONE */ sub_9911( ref g_U1901 )))
        {
            CAMERA_ANIMATED_STOP( 0, 0 );
            if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )))
            {
                SET_PED_VISIBLE(  /* PLAYER_PED_ID */ sub_1077(), 1 );
            }
             /* WRITESCRIPTLOG */ sub_675( "SBA", "HANDLE_BRANCO_RECEIPT_CAM: Cam cut done, going to eBrancoReceipt = ASS_FINISHED", 0 );
            g_U1790 = 5;
        }
        break;
        case 5:
         /* NIS_POST_SETUP */ sub_26754( 1, 1 );
        Result = 1;
         /* WRITESCRIPTLOG */ sub_675( "SBA", "HANDLE_BRANCO_RECEIPT_CAM: going to eBrancoReceipt = ASS_INACTIVE", 0 );
        g_U1790 = -1;
        break;
    }
    return Result;
}

/* NIS_PRE_SETUP */ void sub_24294(int iParam0, int iParam1, unknown uParam2, boolean bParam3)
{
    END_POSTFX_BLENDER( 12, 0 );
    if (bParam3)
    {
        STOP_ALL_IMAGEFX( 0 );
    }
    SET_WIDESCREEN_BORDERS( 1, 500 );
    DISPLAY_HUD( 0 );
    if (iParam0 == 1)
    {
        if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )))
        {
            SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_1115(), 0, uParam2 );
            SET_PED_DUCKING(  /* PLAYER_PED_ID */ sub_1077(), 0 );
            if (iParam1 == 1)
            {
                CLEAR_PED_TASKS_IMMEDIATELY(  /* PLAYER_PED_ID */ sub_1077() );
            }
            SET_PED_INVINCIBLE(  /* PLAYER_PED_ID */ sub_1077(), 1 );
        }
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    return;
}

/* KILL_ANY_MISSION_SPEECH */ void sub_24470(unknown uParam0)
{
    int I;

    for ( I = 0; I <= 3; I++ )
    {
        PRINTSTRING( "\n KILL_ANY_MISSION_SPEECH CALLED***************************************" );
        if (IS_SCRIPTED_CONVERSATION_ONGOING( I ))
        {
            if ((g_U1[I] <= 8) AND (g_U1[I] >= 4))
            {
                STOP_SCRIPTED_CONVERSATION( I, uParam0, 0 );
            }
        }
    }
    return;
}

/* P_SPEECH_PLAY_MAX_MONOLOGUE */ void sub_24879(unknown uParam0, unknown uParam1)
{
     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_SPEECH_PLAY_MAX_MONOLOGUE", "***" );
    if ( /* IS_MAX_VALID */ sub_13911())
    {
         /* RESET_SCRIPT_SPEECH_STRUCT */ sub_24978( uParam1 );
         /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_25087( 0,  /* PLAYER_PED_ID */ sub_1077(), "MAX", uParam1, 2, 0 );
         /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_25087( 1,  /* PLAYER_PED_ID */ sub_1077(), "MAX", uParam1, 2, 0 );
         /* PLAY_SINGLE_SPEECH */ sub_25340( uParam0, uParam1, 8, 1 );
    }
    return;
}

/* RESET_SCRIPT_SPEECH_STRUCT */ void sub_24978(int iParam0)
{
    iParam0->_fU4 = -1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = 0;
    iParam0->_fU32 = 0;
    iParam0->_fU36 = 0;
    return;
}

/* ADD_PED_FOR_SCRIPT_SPEECH */ void sub_25087(int iParam0, unknown uParam1, unknown uParam2, int iParam3, unknown uParam4, unknown uParam5)
{
    if (iParam3->_fU32)
    {
        ;
    }
    else if (iParam3->_fU36 == 0)
    {
        iParam3->_fU36 = 1;
        iParam3->_fU4 = CREATE_NEW_SCRIPTED_CONVERSATION( uParam4 );
        if (iParam3->_fU4 == -1)
        {
            iParam3->_fU32 = 1;
        }
    }
    if ((iParam0 < 9) AND ((iParam0 >= 0) AND ((iParam3->_fU4 < 4) AND (iParam3->_fU4 >= 0))))
    {
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU0 = uParam1;
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU4 = GET_HASH_KEY( uParam2 );
        if (NOT (IS_PED_INJURED( uParam1 )))
        {
            SET_PED_CAN_PLAY_AMBIENT_ANIMS( uParam1, uParam5 );
        }
    }
    return;
}

/* PLAY_SINGLE_SPEECH */ void sub_25340(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return  /* PLAY_SINGLE_SPEECH_FROM_BLOCK */ sub_25385( uParam0, ref g_U157._fU0, uParam1, uParam2, uParam3 );
}

/* PLAY_SINGLE_SPEECH_FROM_BLOCK */ void sub_25385(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    StrCopy( ref cVar11[0], uParam0, 16 );
    StrCopy( ref cVar11[1], "END", 16 );
    return  /* PLAYSPEECHMAIN */ sub_25472( ref cVar11, uParam2, uParam3, 0, 0, 0, 0, ref cVar7, uParam4 );
}

/* PLAYSPEECHMAIN */ int sub_25472(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    int I;
    unknown uVar12;
    unknown uVar13;

    if (iParam1->_fU4 == -1)
    {
        return 0;
    }
    iParam1->_fU0 = uParam2;
    if (NOT ( /* CANTHISSPEECHBEPLAYED */ sub_25524( iParam1 )))
    {
        return 0;
    }
    uVar12 = iParam1->_fU4;
    uVar13 = GET_HASH_KEY( ref (uParam0^)[0] );
    iParam1->_fU16 = uVar13;
    SET_CONVERSATION_CHECK_HASH( uVar12, uVar13 );
    g_U157._fU132 = 0;
    iParam1->_fU24 = 0;
    iParam1->_fU28 = uParam5;
    if (bParam3)
    {
        if (iParam1->_fU20)
        {
            iParam1->_fU20 = 0;
        }
    }
    else
    {
        iParam1->_fU20 = 0;
        if (bParam4)
        {
            iParam1->_fU12 = uParam6;
            iParam1->_fU20 = 0;
        }
        else
        {
            iParam1->_fU12 = 0;
            iParam1->_fU20 = 0;
        }
    }
    iParam1->_fU24 = bParam4;
    for ( I = 0; I <= 24; I++ )
    {
        StrCopy( ref g_U233[uVar12][I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        g_U233[uVar12][I] = {(uParam0^)[I]};
    }
    g_U192[uVar12] = {(iParam1^)};
     /* COPYHIDDENSPEECHSTUCT */ sub_26042( ref g_U16[uVar12], ref g_U157 );
    StrCopy( ref g_U16[uVar12]._fU0, uParam7, 16 );
    g_U16[uVar12]._fU136 = uParam8;
    g_U11[iParam1->_fU4] = 1;
    return 1;
}

/* CANTHISSPEECHBEPLAYED */ int sub_25524(int iParam0)
{
    switch (g_U11[iParam0->_fU4])
    {
        case 1:
        case 2:
        return 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING( iParam0->_fU4 ))
    {
        if (g_U1[iParam0->_fU4] > iParam0->_fU0)
        {
            return 0;
        }
        STOP_SCRIPTED_CONVERSATION( iParam0->_fU4, 0, 0 );
    }
    g_U1[iParam0->_fU4] = iParam0->_fU0;
    g_U6[iParam0->_fU4]++;
    if (g_U6[iParam0->_fU4] > 100000)
    {
        g_U6[iParam0->_fU4] = 1;
    }
    iParam0->_fU8 = g_U6[iParam0->_fU4];
    return 1;
}

/* COPYHIDDENSPEECHSTUCT */ void sub_26042(int iParam0, int iParam1)
{
    int I;

    iParam0->_fU0 = {iParam1->_fU0};
    for ( I = 0; I <= 8; I++ )
    {
        iParam0->_fU92[I] = iParam1->_fU92[I];
    }
    iParam0->_fU132 = iParam1->_fU132;
    iParam0->_fU136 = iParam1->_fU136;
    return;
}

/* IS_SPEECH_CURRENTLY_PLAYING */ int sub_26381(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
    if (NOT ( /* IS_SCRIPT_SPEECH_STRUCT_VALID */ sub_26424( uParam0 )))
    {
        return 0;
    }
    if ((g_U11[uParam0._fU4] == 2) || ((g_U11[uParam0._fU4] == 1) || (IS_SCRIPTED_CONVERSATION_ONGOING( uParam0._fU4 ))))
    {
        if (uParam0._fU8 == g_U6[uParam0._fU4])
        {
            return 1;
        }
    }
    return 0;
}

/* IS_SCRIPT_SPEECH_STRUCT_VALID */ boolean sub_26424(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
    int iVar12;

    if (uParam0._fU4 < 0)
    {
        return 0;
    }
    iVar12 = GET_CHECK_HASH_FROM_CONVERSATION_ID( uParam0._fU4 );
    return (uParam0._fU16 == iVar12) AND (iVar12 != 0);
}

/* NIS_POST_SETUP */ void sub_26754(boolean bParam0, boolean bParam1)
{
    SET_WIDESCREEN_BORDERS( 0, 500 );
    DISPLAY_HUD( 1 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )))
    {
        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_1115(), 1, 0 );
        SET_PED_INVINCIBLE(  /* PLAYER_PED_ID */ sub_1077(), 0 );
        if (bParam0)
        {
             /* P_MAX_RELOAD_WEAPONS */ sub_26852();
        }
    }
    PULSE_CROSSHAIR( 1 );
    if (bParam1)
    {
        DESTROY_ALL_CAMS();
    }
    return;
}

/* P_MAX_RELOAD_WEAPONS */ void sub_26852()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )) == 0)
    {
        uVar2 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_1077(), 0, 0 );
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_1077(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
        {
            uVar4 = GET_MAX_AMMO_IN_HAND_CLIP_MP(  /* PLAYER_PED_ID */ sub_1077(), 0 );
            SET_WEAPON_AMMO_IN_CLIP( uVar2, uVar4 );
        }
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            uVar5 = GET_MAX_AMMO_IN_HAND_CLIP_MP(  /* PLAYER_PED_ID */ sub_1077(), 1 );
            SET_WEAPON_AMMO_IN_CLIP( uVar3, uVar5 );
        }
    }
    return;
}

/* F_POI_CAN_PLAY_UNAVALIABLE_MONO */ int sub_27242(int iParam0)
{
    if ((iParam0->_fU8 == 2) AND ((iParam0->_fU76 == 0) AND (( /* F_IS_POI_AVAILABLE */ sub_27288( iParam0 )) == 0)))
    {
        if ((( /* F_HASACTIONBEENPRESSED */ sub_23216()) == 1) AND (((IS_PED_RELOADING(  /* PLAYER_PED_ID */ sub_1077() )) == 0) AND (((IS_PED_GETTING_UP(  /* PLAYER_PED_ID */ sub_1077() )) == 0) AND (((IS_PED_PICKING_UP_PICKUP(  /* PLAYER_PED_ID */ sub_1077() )) == 0) AND (((IS_PED_IN_COVER(  /* PLAYER_PED_ID */ sub_1077() )) == 0) AND (((IS_PED_DUCKING(  /* PLAYER_PED_ID */ sub_1077() )) == 0) AND ((IS_PLAYER_SHOOTDODGING() == 0) AND ((IS_MONOLOGUE_PLAYING() == 0) AND ((IS_INTERACTIONTEXT_AVAILABLE() == 0) AND (IS_INTERACTIONTEXT_ONSCREEN() == 1))))))))))
        {
            iParam0->_fU76 = 1;
            return 1;
        }
    }
    return 0;
}

/* F_IS_POI_AVAILABLE */ void sub_27288(int iParam0)
{
    return iParam0->_fU56;
}

/* P_SETUP_ASSET_ARRAYS */ void sub_27716()
{
     /* WRITESCRIPTLOG */ sub_675( "AT", "P_SETUP_ASSET_ARRAYS start", 0 );
    l_U1990[0] = g_U1452;
    l_U1990[1] = l_U464;
    l_U1990[2] = 24025937;
    l_U1990[3] = -247313793;
    l_U1990[4] = -1887740000;
    l_U1990[5] = -1748471750;
    l_U1990[6] = -1991592028;
     /* WRITESCRIPTLOG */ sub_675( "AT", "P_SETUP_ASSET_ARRAYS end", 0 );
    return;
}

/* P_LOAD_ASSETS */ void sub_27926()
{
    int I;

     /* WRITESCRIPTLOG */ sub_675( "MW", "P_LOAD_FIFTH_FLOOR_ASSETS start", 0 );
     /* SETUP_SCRIPTED_SPEECH */ sub_28007( "SHOTAUD" );
     /* LOADMODEL */ sub_28176( g_U849, 1 );
     /* LOADMODEL */ sub_28176( g_U852, 1 );
     /* LOADANIMDICT */ sub_28445( "EXPL_CAM", 0, 1 );
    for ( I = 0; I < l_U1990; I++ )
    {
         /* LOADMODEL */ sub_28176( l_U1990[I], 1 );
    }
     /* P_LOAD_LEVEL_WEAPONS */ sub_28654( 1 );
    if (g_U855 < 8)
    {
        if (g_U1019 == 0)
        {
            l_U855 = 1;
             /* WRITESCRIPTLOG */ sub_675( "SBA", "Loading sHOTEL_MID08", "***" );
            l_U862 = l_U266;
        }
        else
        {
            l_U855 = 0;
             /* WRITESCRIPTLOG */ sub_675( "SBA", "Loading sHOTEL_MID08B", "***" );
            l_U862 = l_U267;
        }
         /* LOADSEAMLESSCUTSCENE */ sub_29043( l_U862, 0 );
    }
     /* WRITESCRIPTLOG */ sub_675( "MW", "P_LOAD_FIFTH_FLOOR_ASSETS end", 0 );
    return;
}

/* SETUP_SCRIPTED_SPEECH */ void sub_28007(unknown uParam0)
{
    StrCopy( ref g_U157._fU0, uParam0, 16 );
     /* CLEARPEDCONVERSATIONDATA */ sub_28051();
    return;
}

/* CLEARPEDCONVERSATIONDATA */ void sub_28051()
{
    int I;

    for ( I = 0; I <= 8; I++ )
    {
        g_U157._fU16[I]._fU0 = nil;
        g_U157._fU16[I]._fU4 = 0;
        g_U157._fU92[I] = 0;
    }
    return;
}

/* LOADMODEL */ void sub_28176(unknown uParam0, boolean bParam1)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
         /* WRITE_STRING */ sub_3272( "[SP]### ERROR! (LoadModel) Trying to load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    if (bParam1)
    {
        while ((HAS_MODEL_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* LOADANIMDICT */ void sub_28445(unknown uParam0, unknown uParam1, int iParam2)
{
    REQUEST_ANIM_DICT( uParam0, uParam1 );
    "[doubled result, dropped if not asigned]";
    if (iParam2 == 1)
    {
        while ((HAS_ANIM_DICT_LOADED( uParam0, uParam1 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an animation dictionary to be loaded: {} ###", 1, 1537, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* P_LOAD_LEVEL_WEAPONS */ void sub_28654(unknown uParam0)
{
     /* LOADWEAPON */ sub_28694( 1224272620, uParam0 );
     /* LOADWEAPON */ sub_28694( -1013714740, uParam0 );
     /* LOADWEAPON */ sub_28694( 514118749, uParam0 );
     /* LOADWEAPON */ sub_28694( -612753081, uParam0 );
     /* LOADWEAPON */ sub_28694( -110877124, uParam0 );
    return;
}

/* LOADWEAPON */ void sub_28694(unknown uParam0, boolean bParam1)
{
    REQUEST_WEAPON( uParam0 );
    if (bParam1)
    {
        while ((HAS_WEAPON_LOADED( uParam0 )) == 0)
        {
            DISPLAYF( "[SP]### Waiting to load weapon: {!f1} : {1} ###", 2, 1, 199730165, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return;
}

/* LOADSEAMLESSCUTSCENE */ void sub_29043(unknown uParam0, int iParam1)
{
    if (HAS_CUTSCENE_LOADED())
    {
        if (NOT (CUTSCENE_IS_LOADED( uParam0 )))
        {
            SCRIPT_ASSERT( "Another cutscene is already loaded.  You can only load one cutscene into memory.  Your current cutscene will not load into memory.", 0 );
        }
    }
    if (NOT (CUTSCENE_IS_LOADED( uParam0 )))
    {
        PRE_STREAM_SEAMLESS_CUTSCENE( uParam0 );
        if (iParam1 == 1)
        {
            while ((CUTSCENE_IS_LOADED( uParam0 )) == 0)
            {
                DISPLAYF( "[SP]### Waiting for seamless cutscene to load: {} ###", 1, 1537, uParam0 );
                WAIT( 0 );
            }
        }
    }
    return;
}

/* P_CREATE_5TH_FLOOR_ENEMIES */ void sub_29641()
{
    int I;
    float fVar3;

     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_CREATE_5TH_FLOOR_ENEMIES", "***" );
     /* PED_ARRAY_INITIALIZE */ sub_29787( ref l_U1267, ref l_U1260, ref l_U1346, -1013714740, 1.00000000, "AIT_EXPERT", 0, 2, 25000, 2, -612753081, 25000, "5th_Floor" );
    for ( I = 0; I <= (l_U1260 - 1); I++ )
    {
        if ( /* IS_PED_VALID */ sub_13941( l_U1260[I] ))
        {
            if (I == 0)
            {
                REMOVE_ALL_PED_WEAPONS( l_U1260[I] );
                 /* F_GIVEPEDWEAPON */ sub_3663( l_U1260[I], 514118749, 25000, 0, 0 );
                 /* F_GIVEPEDWEAPONTOHOLSTER */ sub_2868( l_U1260[I], -612753081, 0, 25000, 0 );
            }
            else if (I == 3)
            {
                REMOVE_ALL_PED_WEAPONS( l_U1260[I] );
                SET_PED_PERFECT_ACCURACY_OVERRIDE( l_U1260[I], 1 );
                 /* F_GIVEPEDWEAPON */ sub_3663( l_U1260[I], -612753081, 25000, 0, 0 );
            }
            else if ((I == 5) || (I == 4))
            {
                REMOVE_ALL_PED_WEAPONS( l_U1260[I] );
                 /* F_GIVEPEDWEAPON */ sub_3663( l_U1260[I], -1013714740, 25000, 0, 0 );
                 /* F_GIVEPEDWEAPONTOHOLSTER */ sub_2868( l_U1260[I], -612753081, 0, 25000, 0 );
                fVar3 = 10.00000000;
                SET_PED_SEEING_RANGE( l_U1260[I], fVar3, 75 );
                SET_PED_HEARING_RANGE( l_U1260[I], fVar3 );
                SET_PED_ID_RANGE( l_U1260[I], fVar3 );
                REMOVE_PED_FROM_GROUP( l_U1260[I] );
            };;;
            SET_PED_PATH_CAN_USE_CLIMBOVERS( l_U1260[I], 0 );
        }
    }
    l_U1823 = PEDGROUPTASK_ADVANCE_CREATE( l_U1346._fU0 );
    for ( I = 0; I <= (l_U1260 - 3); I++ )
    {
        if ( /* IS_PED_VALID */ sub_13941( l_U1260[I] ))
        {
            PEDGROUPTASK_ADVANCE_ASSIGNPED( l_U1346._fU0, l_U1823, l_U1260[I] );
            if ((I == 3) || (I == 1))
            {
                SET_WEAPON_LIGHT_DATA_BY_NAME( GET_WEAPON_FROM_HAND( l_U1260[I], 0, 0 ), "Flashlight_Hotel" );
            }
             /* PED_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS */ sub_32888( ref l_U1260[I], 1 );
            SET_PED_SEEING_RANGE( l_U1260[I], 20, 75 );
        }
    }
    if ( /* IS_MAX_VALID */ sub_13911())
    {
        PEDGROUPTASK_ADVANCE_SETTARGET_PED( l_U1346._fU0, l_U1823,  /* PLAYER_PED_ID */ sub_1077() );
    }
    PEDGROUPTASK_ADVANCE_SETTIMETOHIDE( l_U1346._fU0, l_U1823, 2.00000000 );
    PEDGROUPTASK_ADVANCE_SETTIMETOIDLE( l_U1346._fU0, l_U1823, 3.00000000 );
    PEDGROUPTASK_ADVANCE_SETTIMERANGEFORALLPEDSTOSTARTFIRING( l_U1346._fU0, l_U1823, 2.50000000 );
    PEDGROUPTASK_ADVANCE_SETADVANCEDISTANCE( l_U1346._fU0, l_U1823, 3.00000000 );
    PEDGROUPTASK_ADVANCE_SETNUMPEDSTOADVANCE( l_U1346._fU0, l_U1823, 2 );
    PEDGROUPTASK_ADVANCE_SETADVANCERELATIVETO( l_U1346._fU0, l_U1823, 1 );
    SET_GROUP_LAST_ALIVE_AS_LONE_WOLF( l_U1346._fU0, 0 );
    return;
}

/* PED_ARRAY_INITIALIZE */ void sub_29787(unknown uParam0, unknown uParam1, unknown uParam2, int iParam3, unknown uParam4, unknown uParam5, boolean bParam6, unknown uParam7, unknown uParam8, unknown uParam9, int iParam10, unknown uParam11, unknown uParam12)
{
    int I;
    unknown uVar16;

    if ((uParam0^) != (uParam1^))
    {
        SCRIPT_ASSERT( "PED_ARRAY_INITIALIZE - Array sizes don't match!!", 0 );
        return;
    }
     /* P_SETUP_AI_GROUP */ sub_29899( uParam2, uParam4, 0 );
    if (IS_STRING_NULL( uParam12 ))
    {
        uParam12 = l_U85;
    }
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
         /* CLEANPED */ sub_11760( (uParam1^)[I] );
        (uParam1^)[I] =  /* CREATEPED */ sub_30345( ref (uParam0^)[I] );
        if ( /* IS_PED_VALID */ sub_13941( (uParam1^)[I] ))
        {
            SET_PED_AI_TEMPLATE( (uParam1^)[I], uParam5 );
            SET_PED_ALERTNESS( (uParam1^)[I], uParam9 );
            SET_PED_ALLOWED_TO_SURRENDER( (uParam1^)[I], 0 );
             /* P_QUICK_ADD_PED_TO_GROUP */ sub_31140( (uParam1^)[I], uParam2 );
            if (iParam3 != -1569615261)
            {
                uVar16 =  /* F_GIVEPEDWEAPON */ sub_3663( (uParam1^)[I], iParam3, uParam8, 0, 0 );
            }
            if (iParam10 != 0)
            {
                 /* F_GIVEPEDWEAPONTOHOLSTER */ sub_2868( (uParam1^)[I], iParam10, 0, uParam11, 0 );
            }
            if (bParam6)
            {
                 /* PED_SET_ENGAGEMENT_RANGES */ sub_31606( (uParam1^)[I], iParam3 );
            }
            switch (uParam7)
            {
                case 0: break;
                case 1:
                ENABLE_WEAPON_ATTACHMENT( uVar16, 13, 1 );
                TOGGLE_WEAPON_ATTACHMENT( uVar16, 13, 1 );
                break;
                case 2:
                ENABLE_WEAPON_ATTACHMENT( uVar16, 14, 1 );
                TOGGLE_WEAPON_ATTACHMENT( uVar16, 14, 1 );
                break;
                case 3:
                ENABLE_WEAPON_ATTACHMENT( uVar16, 12, 1 );
                TOGGLE_WEAPON_ATTACHMENT( uVar16, 12, 1 );
                break;
            }
        }
    }
     /* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ sub_32222( uParam1, uParam12 );
    return;
}

/* P_SETUP_AI_GROUP */ void sub_29899(int iParam0, unknown uParam1, boolean bParam2)
{
    iParam0->_fU4 = uParam1;
    iParam0->_fU0 = CREATE_GROUP( 3, 1 );
    if (bParam2)
    {
        PRINTSTRING( "[MSWW]### P_SETUP_AI_GROUP TOLD TO WAIT FOR GROUP TO EXIST ###" );
        PRINTNL();
        while (NOT (DOES_GROUP_EXIST( iParam0->_fU0 )))
        {
            WAIT( 0 );
            PRINTSTRING( "[MSWW]### GROUP ###" );
            PRINTNL();
        }
        PRINTSTRING( "[MSWW]### P_SETUP_AI_GROUP created group with ID: " );
        PRINTINT( iParam0->_fU0 );
        PRINTNL();
    }
    SET_GROUP_RATIO_FIRING_AT_VISIBLE( iParam0->_fU0, iParam0->_fU4 );
    SET_GROUP_RATIO_FIRING_AT_INVISIBLE( iParam0->_fU0, iParam0->_fU4 );
    if (iParam0->_fU8)
    {
        SET_GROUP_FORMATION( iParam0->_fU0, iParam0->_fU12 );
        SET_GROUP_FORMATION_SPACING( iParam0->_fU0, iParam0->_fU16 );
        SET_GROUP_FORMATION_MAX_MOVE_SPEED( iParam0->_fU0, iParam0->_fU20 );
    }
    return;
}

/* CREATEPED */ void sub_30345(int iParam0)
{
    int iVar3;

    iVar3 = 0;
    if (iParam0->_fU16 == 0)
    {
        if (iParam0->_fU20 != 0)
        {
            iVar3 = GET_SCENE_PED_MODEL( iParam0->_fU20 );
        }
    }
    else
    {
        iVar3 = iParam0->_fU16;
    }
    if ((HAS_MODEL_LOADED( iVar3 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_28176( iParam0->_fU16, 1 );
    }
    iParam0->_fU40 = CREATE_PED( iParam0->_fU24, iParam0->_fU16, iParam0->_fU0, iParam0->_fU12, 1, iParam0->_fU48 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( iParam0->_fU40, 1 );
        SET_PED_COORDS_NO_OFFSET( iParam0->_fU40, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU40 ) );
        SET_PED_HEADING( iParam0->_fU40, iParam0->_fU12 );
        iParam0->_fU44 = 1;
    }
    else
    {
        SCRIPT_ASSERT( "Error: The ped you created doesn't exist or is dead!", 0 );
    }
     /* SETPEDDEFAULTSTATS */ sub_30836( iParam0->_fU40 );
     /* SETPEDDEFAULTTEMPLATE */ sub_30937( iParam0->_fU40 );
    return iParam0->_fU40;
}

/* SETPEDDEFAULTSTATS */ void sub_30836(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_HEALTH( uParam0, 200, 0 );
        SET_PED_ACCURACY( uParam0, -729479261 );
    }
    return;
}

/* SETPEDDEFAULTTEMPLATE */ void sub_30937(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_AI_TEMPLATE( uParam0, "AIT_DEFAULT_GENERIC" );
    }
    return;
}

/* P_QUICK_ADD_PED_TO_GROUP */ void sub_31140(unknown uParam0, int iParam1)
{
    int iVar4;
    unknown uVar5;

    if ((DOES_GROUP_EXIST( iParam1->_fU0 )) == 0)
    {
         /* WRITE_STRING */ sub_3272( "[SP]### Warning!!! Group does not exist. Creating new group specified attributes. ###" );
        if (iParam1->_fU4 > 0)
        {
             /* P_SETUP_AI_GROUP */ sub_29899( iParam1, iParam1->_fU4, 0 );
        }
        else
        {
             /* P_SETUP_AI_GROUP */ sub_29899( iParam1, 1056964608, 0 );
        }
    }
    else
    {
        PRINTSTRING( "[MSWW]### P_QUICK_ADD_PED_TO_GROUP adding ped to group with ID: " );
        PRINTINT( iParam1->_fU0 );
        PRINTNL();
    }
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        GET_GROUP_SIZE( iParam1->_fU0, ref iVar4, ref uVar5 );
        if (iVar4 == 0)
        {
            SET_PED_AS_GROUP_LEADER( uParam0, iParam1->_fU0 );
        }
        else
        {
            SET_PED_AS_GROUP_MEMBER( uParam0, iParam1->_fU0 );
        }
        SET_PED_NEVER_LEAVES_GROUP( uParam0, 1 );
    }
    return;
}

/* PED_SET_ENGAGEMENT_RANGES */ void sub_31606(unknown uParam0, unknown uParam1)
{
    switch (uParam1)
    {
        case -1569615261:
        case 406496141:
        case -862236369:
        case 456708483:
        case -1464892298:
        case 68019059:
        case -612753081:
        case -820634585:
        SET_PED_COMBAT_RANGE_MAX( uParam0, 10.00000000 );
        SET_PED_COMBAT_RANGE_MIN( uParam0, 1.00000000 );
        break;
        case 434544317:
        case 1845102363:
        case -168327769:
        case -184942895:
        case 514118749:
        case 1964270085:
        case -691403429:
        case 1478009203:
        case -1404433099:
        case 1194438308:
        SET_PED_COMBAT_RANGE( uParam0, 1 );
        SET_PED_COMBAT_RANGE_MAX( uParam0, 20.00000000 );
        SET_PED_COMBAT_RANGE_MIN( uParam0, 1.00000000 );
        break;
        case -1013714740:
        case -1074756423:
        case 1308526797:
        case 840671040:
        case 57534114:
        case 724901397:
        case 1992962408:
        SET_PED_COMBAT_RANGE( uParam0, 2 );
        SET_PED_COMBAT_RANGE_MAX( uParam0, 30.00000000 );
        SET_PED_COMBAT_RANGE_MIN( uParam0, 1.00000000 );
        break;
        case 1224272620:
        case 10648147:
        case 377623895:
        case 319712764:
        case -110877124:
        case -1659006841:
        SET_PED_COMBAT_RANGE( uParam0, 3 );
        SET_PED_COMBAT_RANGE_MAX( uParam0, 50.00000000 );
        SET_PED_COMBAT_RANGE_MIN( uParam0, 5.00000000 );
        break;
    }
    return;
}

/* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ void sub_32222(unknown uParam0, unknown uParam1)
{
    int I;
    char[32] cVar5;

    for ( I = 0; I < (uParam0^); I++ )
    {
        if (DOES_PED_EXIST( (uParam0^)[I] ))
        {
            StrCopy( ref cVar5, uParam1, 32 );
            ConcatString(ref cVar5, " ", 32);
            ConcatString(ref cVar5, I, 32);
            SET_PED_NAME_DEBUG( (uParam0^)[I], ref cVar5 );
        }
    }
    return;
}

/* PED_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS */ void sub_32888(unknown uParam0, unknown uParam1)
{
    if ( /* IS_PED_VALID */ sub_13941( (uParam0^) ))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( (uParam0^), uParam1 );
    }
    return;
}

/* TOGGLE_HIDE_EXTRA_5TH_FLOOR_ENEMIES */ void sub_33200(boolean bParam0)
{
    int I;

    for ( I = 0; I < l_U1260; I++ )
    {
        if (I > 3)
        {
            if ( /* IS_PED_VALID */ sub_13941( l_U1260[I] ))
            {
                if (bParam0)
                {
                     /* P_DEACTIVATEPED */ sub_33308( l_U1260[I] );
                }
                else
                {
                     /* P_ACTIVATEPED */ sub_33437( l_U1260[I] );
                }
            }
        }
    }
    return;
}

/* P_DEACTIVATEPED */ void sub_33308(unknown uParam0)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_FREEZE_PROCESSING( uParam0, 1 );
        SET_PED_VISIBLE( uParam0, 0 );
        SET_PED_VISIBLE_DURING_SEQUENCE( uParam0, 0 );
        FREEZE_PED_POSITION( uParam0, 1 );
        SET_PED_COLLISION( uParam0, 0 );
        SET_PED_PROOFS( uParam0, 1, 1, 1, 1, 1 );
    }
    return;
}

/* P_ACTIVATEPED */ void sub_33437(unknown uParam0)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_FREEZE_PROCESSING( uParam0, 0 );
        SET_PED_VISIBLE( uParam0, 1 );
        SET_PED_VISIBLE_DURING_SEQUENCE( uParam0, 1 );
        FREEZE_PED_POSITION( uParam0, 0 );
        SET_PED_COLLISION( uParam0, 1 );
        SET_PED_PROOFS( uParam0, 0, 0, 0, 0, 0 );
    }
    return;
}

/* REGISTER_PEDS_MID_08 */ void sub_33574(unknown uParam0, boolean bParam1)
{
    unknown uVar4;
    unknown uVar5;

     /* WRITESCRIPTLOG */ sub_675( "RJM", "REGISTER_PEDS_MID_08", "***" );
    if ( /* IS_MAX_VALID */ sub_13911())
    {
        uVar5 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_1077(), 0, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar5 ))
        {
            if (NOT ( /* IS_WEAPON_TWO_HANDED */ sub_33689( uVar5 )))
            {
                 /* WRITESCRIPTLOG */ sub_675( "BSW", "Max is holding a pistol, setting action01", "***" );
                CUTSCENE_REGISTER_PED_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_1077(), 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
            }
            else
            {
                 /* WRITESCRIPTLOG */ sub_675( "BSW", "Max is holding a 2hander, setting action02", "***" );
                CUTSCENE_REGISTER_PED_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_1077(), 48, 1000, 0.00000000, 0.00000000, 0.00000000 );
            }
        }
        else
        {
             /* WRITESCRIPTLOG */ sub_675( "BSW", "FAILSAFE: Assume Max is holding a pistol and set action01", "***" );
            CUTSCENE_REGISTER_PED_ACTION_INTENTION(  /* PLAYER_PED_ID */ sub_1077(), 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_1077(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
         /* P_PLAYER_HOLSTER_WEAPONS */ sub_34375( ref l_U217, 0, 1 );
        uVar4 =  /* F_GET_SINGLE_HANDED_WEAPON_FROM_PLAYER */ sub_35435();
        if (GET_DOES_WEAPON_EXIST( uVar4 ))
        {
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar4, "W_PI_Clt1911_Aa_H", 0 );
        }
    }
    if (bParam1)
    {
        if ( /* IS_PED_VALID */ sub_13941( (uParam0^)[0]._fU40 ))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam0^)[0]._fU40, "H_Crac_Sold_C", 0 );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( (uParam0^)[0]._fU40, "/Global/PLGE/PLGE_Root/VIGNETTE_EXIT/PLGE_VIGNETTE_EXECUTE_EXIT" );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( (uParam0^)[0]._fU40, 0, 0 ), "W_AR_97LC_Aa_H^2", 0 );
        }
        if ( /* IS_PED_VALID */ sub_13941( (uParam0^)[1]._fU40 ))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam0^)[1]._fU40, "H_Crac_Sold_C^1", 0 );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( (uParam0^)[1]._fU40, "/Global/PLGE/PLGE_Root/VIGNETTE_EXIT/PLGE_VIGNETTE_EXECUTE_EXIT" );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( (uParam0^)[1]._fU40, 0, 0 ), "W_AR_97LC_Aa_H", 0 );
        }
        if ( /* IS_PED_VALID */ sub_13941( (uParam0^)[2]._fU40 ))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam0^)[2]._fU40, "H_Crac_Sold_C^2", 0 );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( (uParam0^)[2]._fU40, "/Global/PLGE/PLGE_Root/VIGNETTE_EXIT/PLGE_VIGNETTE_EXECUTE_EXIT" );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( (uParam0^)[2]._fU40, 0, 0 ), "W_AR_97LC_Aa_H^1", 0 );
        }
        if ( /* IS_PED_VALID */ sub_13941( (uParam0^)[3]._fU40 ))
        {
            REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam0^)[3]._fU40, "H_Crac_Sold_C^3", 0 );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( (uParam0^)[3]._fU40, "/Global/PLGE/PLGE_Root/VIGNETTE_EXIT/PLGE_VIGNETTE_EXECUTE_EXIT" );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( (uParam0^)[3]._fU40, 0, 0 ), "W_AR_97LC_Aa_H^3", 0 );
        }
         /* REGISTER_PEDS_TELEPORT_WITH_MID_08 */ sub_36465( uParam0 );
    }
    else
    {
         /* REGISTER_PED_WITH_MID_08 */ sub_36688( ref (uParam0^)[0]._fU40, "H_Crac_Sold_C" );
         /* REGISTER_PED_WITH_MID_08 */ sub_36688( ref (uParam0^)[1]._fU40, "H_Crac_Sold_C^1" );
         /* REGISTER_PED_WITH_MID_08 */ sub_36688( ref (uParam0^)[2]._fU40, "H_Crac_Sold_C^2" );
         /* REGISTER_PED_WITH_MID_08 */ sub_36688( ref (uParam0^)[3]._fU40, "H_Crac_Sold_C^3" );
    }
    return;
}

/* IS_WEAPON_TWO_HANDED */ int sub_33689(unknown uParam0)
{
    int iVar3;

    if ((GET_DOES_WEAPON_EXIST( uParam0 )) == 1)
    {
        iVar3 = GET_WEAPON_TYPE( uParam0 );
        if ((iVar3 == -2075384407) || ((iVar3 == 10648147) || ((iVar3 == 1224272620) || ((iVar3 == 1478009203) || ((iVar3 == 1964270085) || ((iVar3 == -110877124) || ((iVar3 == 427207702) || ((iVar3 == 319712764) || ((iVar3 == 514118749) || ((iVar3 == -184942895) || ((iVar3 == -168327769) || ((iVar3 == 434544317) || ((iVar3 == -1659006841) || ((iVar3 == 930042831) || ((iVar3 == 1001413062) || ((iVar3 == 377623895) || ((iVar3 == -1312131151) || ((iVar3 == -1787162676) || ((iVar3 == 724901397) || ((iVar3 == 57534114) || ((iVar3 == 840671040) || ((iVar3 == 1308526797) || ((iVar3 == -1074756423) || ((iVar3 == 1992962408) || (iVar3 == -1013714740)))))))))))))))))))))))))
        {
            return 1;
        }
    }
    return 0;
}

/* P_PLAYER_HOLSTER_WEAPONS */ void sub_34375(int iParam0, int iParam1, unknown uParam2)
{
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;

     /* RESET_WEAPON_CONFIG */ sub_34414( iParam0 );
    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )) == 0)
    {
        uVar5 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_1077(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
        {
            if (( /* IS_WEAPON_SINGLE_HANDED */ sub_34615( uVar5 )) == 1)
            {
                ref iParam0->_fU0->_fU0 = uVar5;
                ref iParam0->_fU0->_fU4 = GET_WEAPON_TYPE( uVar5 );
            }
            else if (( /* IS_WEAPON_TWO_HANDED */ sub_33689( uVar5 )) == 1)
            {
                ref iParam0->_fU24->_fU0 = uVar5;
                ref iParam0->_fU24->_fU4 = GET_WEAPON_TYPE( uVar5 );
            }
        }
        uVar6 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_1077(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar6 )) == 1)
        {
            ref iParam0->_fU12->_fU0 = uVar6;
            ref iParam0->_fU12->_fU4 = GET_WEAPON_TYPE( uVar6 );
        }
        uVar7 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_1077(), 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar7 )) == 1)
        {
            ref iParam0->_fU36->_fU0 = uVar7;
            ref iParam0->_fU36->_fU4 = GET_WEAPON_TYPE( uVar7 );
        }
        uVar8 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_1077(), 1 );
        if ((GET_DOES_WEAPON_EXIST( uVar8 )) == 1)
        {
            ref iParam0->_fU48->_fU0 = uVar8;
            ref iParam0->_fU48->_fU4 = GET_WEAPON_TYPE( uVar8 );
        }
        uVar9 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_1077(), 2 );
        if ((GET_DOES_WEAPON_EXIST( uVar9 )) == 1)
        {
            ref iParam0->_fU60->_fU0 = uVar9;
            ref iParam0->_fU60->_fU4 = GET_WEAPON_TYPE( uVar9 );
        }
    }
    if (iParam1 == 0)
    {
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )) == 0)
        {
            uVar10 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_1077(), 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar10 )) == 1)
            {
                SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_1077(), 0, 0, uParam2 );
            }
            uVar11 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_1077(), 1, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar11 )) == 1)
            {
                SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_1077(), 0, 1, uParam2 );
            }
        }
    }
    else if (iParam1 == 1)
    {
        if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )) == 0)
        {
            uVar12 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_1077(), 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar12 )) == 1)
            {
                if (( /* IS_WEAPON_TWO_HANDED */ sub_33689( uVar12 )) == 1)
                {
                    SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_1077(), 0, 0, uParam2 );
                }
            }
            uVar13 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_1077(), 1, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar13 )) == 1)
            {
                SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_1077(), 0, 1, uParam2 );
            }
        }
    }
    return;
}

/* RESET_WEAPON_CONFIG */ void sub_34414(int iParam0)
{
    ref iParam0->_fU0->_fU0 = 0;
    ref iParam0->_fU0->_fU4 = 0;
    ref iParam0->_fU12->_fU0 = 0;
    ref iParam0->_fU12->_fU4 = 0;
    ref iParam0->_fU24->_fU0 = 0;
    ref iParam0->_fU24->_fU4 = 0;
    ref iParam0->_fU36->_fU0 = 0;
    ref iParam0->_fU36->_fU4 = 0;
    ref iParam0->_fU48->_fU0 = 0;
    ref iParam0->_fU48->_fU4 = 0;
    ref iParam0->_fU60->_fU0 = 0;
    ref iParam0->_fU60->_fU4 = 0;
    return;
}

/* IS_WEAPON_SINGLE_HANDED */ int sub_34615(unknown uParam0)
{
    int iVar3;

    if ((GET_DOES_WEAPON_EXIST( uParam0 )) == 1)
    {
        iVar3 = GET_WEAPON_TYPE( uParam0 );
        if ((iVar3 == 1194438308) || ((iVar3 == -76667461) || ((iVar3 == -1404433099) || ((iVar3 == 1131969637) || ((iVar3 == -691403429) || ((iVar3 == 1845102363) || ((iVar3 == 150541352) || ((iVar3 == -820634585) || ((iVar3 == -612753081) || ((iVar3 == 811797242) || ((iVar3 == 68019059) || ((iVar3 == -1464892298) || ((iVar3 == 456708483) || ((iVar3 == -862236369) || (iVar3 == 406496141)))))))))))))))
        {
            return 1;
        }
    }
    return 0;
}

/* F_GET_SINGLE_HANDED_WEAPON_FROM_PLAYER */ int sub_35435()
{
    unknown Result;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )) == 0)
    {
        Result = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_1077(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( Result )) == 1)
        {
            if (( /* IS_WEAPON_SINGLE_HANDED */ sub_34615( Result )) == 1)
            {
                return Result;
            }
        }
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_1077(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            return uVar3;
        }
        uVar4 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_1077(), 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar4 )) == 1)
        {
            return uVar4;
        }
        uVar5 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_1077(), 1 );
        if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
        {
            return uVar5;
        }
    }
    return 0;
}

/* REGISTER_PEDS_TELEPORT_WITH_MID_08 */ void sub_36465(unknown uParam0)
{
    int I;

     /* WRITESCRIPTLOG */ sub_675( "SBA", "REGISTER_PED_TELEPORT_WITH_MID_08", "***" );
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        if ( /* IS_PED_VALID */ sub_13941( (uParam0^)[I]._fU40 ))
        {
            CUTSCENE_REGISTER_PED_TELEPORT( (uParam0^)[I]._fU40, (uParam0^)[I]._fU0, (uParam0^)[I]._fU12 );
        }
    }
    return;
}

/* REGISTER_PED_WITH_MID_08 */ void sub_36688(unknown uParam0, unknown uParam1)
{
    if ( /* IS_PED_VALID */ sub_13941( (uParam0^) ))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( (uParam0^), uParam1, 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( (uParam0^), "/Global/PLGE/PLGE_Root/VIGNETTE_EXIT/PLGE_VIGNETTE_EXECUTE_EXIT" );
    }
    return;
}

/* P_SNAP_PLAYER_TO_PILLAR */ void sub_36962()
{
     /* WRITESCRIPTLOG */ sub_675( "bsw", "P_SNAP_PLAYER_TO_PILLAR - snapping ped...", 0 );
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )))
    {
        CLEAR_PED_TASKS_IMMEDIATELY(  /* PLAYER_PED_ID */ sub_1077() );
        if (g_U1019 == 0)
        {
             /* WRITESCRIPTLOG */ sub_675( "AT", "Snapping player to POI[0] pillar.", 0 );
             /* TELEPORTPED */ sub_37168(  /* PLAYER_PED_ID */ sub_1077(), 6.22422600, 29.49182000, 28.65189000, 59.93398000 );
            SNAP_PLAYER_TO_COVERPOINT(  /* PLAYER_ID */ sub_1115(), "GenCover", "305DBE67_CCD82DFB_Popover1", 0 );
        }
        else
        {
             /* WRITESCRIPTLOG */ sub_675( "AT", "Snapping player to POI[1] pillar.", 0 );
            SNAP_PLAYER_TO_COVERPOINT(  /* PLAYER_ID */ sub_1115(), "GenCover", "305DBE67_E394D885_Corner1", 1 );
            SET_GAMEPLAY_CAM_RELATIVE_HEADING( g_U1158[8], 1065353216, 0 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( g_U1193[8], 1065353216, 0 );
        }
    }
    return;
}

/* TELEPORTPED */ void sub_37168(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_COORDS( uParam0, uParam1, 1 );
        SET_PED_HEADING( uParam0, uParam4 );
    }
    return;
}

/* P_CREATE_5TH_6TH_FLOOR_EXPLOSIVE */ void sub_37461(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_CREATE_5TH_FLOOR_EXPLOSIVE", 0 );
     /* CLEANOBJECT */ sub_12196( iParam0->_fU0 );
     /* CLEANOBJECT */ sub_12196( iParam0->_fU4 );
    iParam0->_fU0 =  /* CREATEOBJECT */ sub_37589( 24025937, iParam0->_fU8, iParam0->_fU20, 0, 0, 0 );
    iParam0->_fU4 =  /* CREATEOBJECT */ sub_37589( -1991592028, iParam0->_fU32, iParam0->_fU44, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( iParam0->_fU0 ))
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( iParam0->_fU0, ref uParam1 );
        FREEZE_OBJECT_POSITION( iParam0->_fU0, 1 );
    }
    if (DOES_OBJECT_EXIST( iParam0->_fU4 ))
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( iParam0->_fU4, ref uParam1 );
        FREEZE_OBJECT_POSITION( iParam0->_fU4, 1 );
    }
    return;
}

/* CREATEOBJECT */ void sub_37589(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
         /* LOADMODEL */ sub_28176( uParam0, 1 );
    }
    Result = CREATE_OBJECT( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for an object to exist: {!f1} ###", 2, 1, -874832622, 513, uParam0 );
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

/* P_CREATE_BRANCO_RECEIPT_POI */ void sub_38043()
{
     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_CREATE_BRANCO_RECEIPT_POI", 0 );
     /* P_CREATEPOISTRUCTCOORD */ sub_19937( ref g_U1791, 1, g_U1877, g_U1877, g_U1877, 1.50000000, 3.00000000, 1, 0 );
     /* P_SET_INTERACTIVE_TEXT */ sub_20706( ref g_U1791, 30, "POI_HOT_RECEIPT" );
     /* P_SET_POI_REUSABLE */ sub_38198( ref g_U1791, 1 );
     /* P_SET_POI_FORCE_WALK */ sub_38251( ref g_U1791, 0 );
     /* P_SET_POI_AVAILABLE */ sub_38306( ref g_U1791, 0 );
    return;
}

/* P_SET_POI_REUSABLE */ void sub_38198(int iParam0, unknown uParam1)
{
    iParam0->_fU68 = uParam1;
    return;
}

/* P_SET_POI_FORCE_WALK */ void sub_38251(int iParam0, unknown uParam1)
{
    iParam0->_fU324 = uParam1;
    return;
}

/* P_SET_POI_AVAILABLE */ void sub_38306(int iParam0, int iParam1)
{
    if (iParam1 == 0)
    {
        iParam0->_fU60 = 1;
    }
    else
    {
        iParam0->_fU60 = 0;
    }
     /* P_UPDATEINTERACTIONTEXTAVAILABLE */ sub_12786( iParam0 );
    return;
}

/* NIS_CREATE_STATIC_CAM */ void sub_38462(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    iParam0->_fU4 = {uParam4};
    iParam0->_fU16 = {uParam1};
    iParam0->_fU28 = uParam7;
    iParam0->_fU32 = 0;
    iParam0->_fU36 = 0;
    iParam0->_fU84 = uParam8;
    iParam0->_fU88 = 0;
    iParam0->_fU92 = 0;
    iParam0->_fU40 = 0;
    iParam0->_fU44 = 0;
    iParam0->_fU100 = 1;
    iParam0->_fU104 = 1;
    iParam0->_fU96 = 0;
     /* CREATETIMER */ sub_9628( iParam0 + 48, uParam8, 1, 0 );
    iParam0->_fU0 = CREATE_CAM_WITH_PARAMS( ref g_U724, iParam0->_fU16, iParam0->_fU4, iParam0->_fU28, 1 );
    SET_CAM_PARAMS( iParam0->_fU0, iParam0->_fU16, iParam0->_fU4, iParam0->_fU28, 0, 1, 1 );
    return;
}

/* NIS_PLAY_STATIC_CAMERA */ void sub_38695(int iParam0)
{
    RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
    SET_CAM_ACTIVE( iParam0->_fU0, 1 );
    RENDER_SCRIPT_CAMS( 1, 0, 3000, 0 );
     /* STARTTIMER */ sub_9778( iParam0 + 48 );
    iParam0->_fU32 = 1;
    iParam0->_fU40 = 1;
    return;
}

/* P_START_5TH_FLOOR_SEARCH */ void sub_38804()
{
    int I;

     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_START_5TH_FLOOR_SEARCH", "***" );
    for ( I = 0; I <= (l_U1260 - 3); I++ )
    {
         /* PED_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS */ sub_32888( ref l_U1260[I], 0 );
         /* PED_SET_ALERTNESS */ sub_38926( ref l_U1260[I], 1 );
        if ( /* IS_PED_VALID */ sub_13941( l_U1260[I] ))
        {
            TASK_SEARCH_FOR_UNSEEN_ENEMY( l_U1260[I], 1 );
        }
         /* P_TETHERPED */ sub_39039( ref l_U1257, l_U1260[I], 1 );
         /* P_TETHERPED */ sub_39039( ref l_U1258, l_U1260[I], 1 );
    }
    return;
}

/* PED_SET_ALERTNESS */ void sub_38926(unknown uParam0, unknown uParam1)
{
    if ( /* IS_PED_VALID */ sub_13941( (uParam0^) ))
    {
        SET_PED_ALERTNESS( (uParam0^), uParam1 );
    }
    return;
}

/* P_TETHERPED */ void sub_39039(int iParam0, unknown uParam1, unknown uParam2)
{
    if (((IS_PED_DEAD( uParam1 )) == 0) AND ((DOES_PED_EXIST( uParam1 )) == 1))
    {
        SET_PED_TETHERING_ADD_BOX( uParam1, iParam0->_fU0 );
        SET_PED_TETHERING_OPTION( uParam1, uParam2 );
    }
    return;
}

/* P_CREATE_SNIPERS */ void sub_39232()
{
     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_CREATE_SNIPERS", "***" );
     /* P_CREATE_SNIPER_BLOCKERS */ sub_39297();
     /* SB_CREATESNIPER */ sub_39866( ref l_U1604, -45.44961000, 28.26855000, 42.90605000, 280.00000000, -275177247, l_U1998, l_U2004, 1324418830, 1500, 6000, 2000, 0, 1224272620 );
    l_U1604._fU116 = 6;
    SET_PED_NAME_DEBUG( l_U1604._fU0, "Sniper01" );
     /* SB_CREATESNIPER */ sub_39866( ref l_U1678, -46.65964000, 47.24558000, 35.55828000, 280.00000000, -1013670573, l_U2001, l_U2007, -1515441021, 1500, 6000, 2000, 0, 1224272620 );
    l_U1678._fU116 = 6;
    SET_PED_NAME_DEBUG( l_U1678._fU0, "Sniper02" );
    return;
}

/* P_CREATE_SNIPER_BLOCKERS */ void sub_39297()
{
     /* WRITESCRIPTLOG */ sub_675( "BSW", "P_CREATE_SNIPER_BLOCKERS start", 0 );
     /* CLEANOBJECT */ sub_12196( l_U1599 );
     /* CLEANOBJECT */ sub_12196( l_U1600 );
     /* CLEANOBJECT */ sub_12196( l_U1601 );
    l_U1599 =  /* CREATEOBJECT */ sub_37589( -247313793, -43.70000000, 23.50000000, 35.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U1600 =  /* CREATEOBJECT */ sub_37589( -1887740000, -44.34000000, 28.30000000, 43.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    l_U1601 =  /* CREATEOBJECT */ sub_37589( -1748471750, -45.40000000, 46.50000000, 35.50000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U1599 ))
    {
         /* WRITESCRIPTLOG */ sub_675( "BSW", "freezing position of objDarkPlane00", 0 );
        FREEZE_OBJECT_POSITION( l_U1599, 1 );
    }
    if (DOES_OBJECT_EXIST( l_U1600 ))
    {
         /* WRITESCRIPTLOG */ sub_675( "BSW", "freezing position of objDarkPlane01", 0 );
        FREEZE_OBJECT_POSITION( l_U1600, 1 );
    }
    if (DOES_OBJECT_EXIST( l_U1601 ))
    {
         /* WRITESCRIPTLOG */ sub_675( "BSW", "freezing position of objDarkPlane02", 0 );
        FREEZE_OBJECT_POSITION( l_U1601, 1 );
    }
    return;
}

/* SB_CREATESNIPER */ void sub_39866(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17)
{
    iParam0->_fU56 = {uParam6};
    iParam0->_fU68 = {uParam9};
    iParam0->_fU116 = 0;
    iParam0->_fU120 = 0;
    iParam0->_fU124 = 0;
    iParam0->_fU128 = 0;
    iParam0->_fU132 = 0;
    iParam0->_fU136 = 0;
    iParam0->_fU140 = 0;
    iParam0->_fU80 = uParam13;
    iParam0->_fU88 = uParam14;
    iParam0->_fU84 = uParam15;
    iParam0->_fU92 = uParam16;
    iParam0->_fU148 = 3;
    iParam0->_fU100 = 0;
    iParam0->_fU104 = 1;
    iParam0->_fU108 = 0;
    iParam0->_fU96 = uParam17;
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( iParam0 + 4, uParam1, uParam4, uParam5, 7, 3, 2, 0, 0 );
    iParam0->_fU0 =  /* CREATEPED */ sub_30345( iParam0 + 4 );
    if (NOT (IS_PED_DEAD( iParam0->_fU0 )))
    {
         /* P_DEACTIVATEPED */ sub_33308( iParam0->_fU0 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( iParam0->_fU0, 1 );
        SET_PED_INVINCIBLE( iParam0->_fU0, 1 );
        SET_PED_GORE( iParam0->_fU0, 0 );
        SET_PED_CAN_BE_TARGETTED( iParam0->_fU0, 0 );
        SET_PED_AS_ONE_SHOT_KILL( iParam0->_fU0, 0 );
        iParam0->_fU144 = 0;
        SET_PED_ALERTNESS( iParam0->_fU0, 3 );
        SET_PED_AI_TEMPLATE( iParam0->_fU0, "AIT_SNIPER" );
        SET_PED_CONSUMING_AMMO( iParam0->_fU0, 0 );
    }
    iParam0->_fU112 =  /* MAL_GIVEPEDWEAPON */ sub_5735( iParam0->_fU0, iParam0->_fU96, 25000, 0, 0 );
     /* LOADISEQ */ sub_40276( uParam12, 1 );
    return;
}

/* LOADISEQ */ void sub_40276(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to load does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 0)
    {
        ISEQ_REQUEST( uParam0 );
        ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
        if (iParam1 == 1)
        {
            while ((ISEQ_QUERY_STATE( uParam0, 1 )) == 1)
            {
                DISPLAYF( "[SP]### Waiting for interactive sequence to be loaded: {0} {1} ###", 2, 1281, ref uVar4, 513, uParam0 );
                WAIT( 0 );
            }
        }
    }
    return;
}

/* P_ACTIVATE_SNIPERS */ void sub_40721()
{
     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_ACTIVATE_SNIPERS", "***" );
    l_U1604._fU116 = 3;
     /* SB_ACTIVATESNIPER */ sub_40809( ref l_U1604, 1324418830 );
     /* PED_SET_COMBAT_MOVEMENT */ sub_41223( ref l_U1604._fU0, 0 );
    l_U1678._fU116 = 3;
     /* SB_ACTIVATESNIPER */ sub_40809( ref l_U1678, -1515441021 );
     /* PED_SET_COMBAT_MOVEMENT */ sub_41223( ref l_U1678._fU0, 0 );
    l_U1752 = 1;
    return;
}

/* SB_ACTIVATESNIPER */ void sub_40809(int iParam0, unknown uParam1)
{
     /* P_ACTIVATEPED */ sub_33437( iParam0->_fU0 );
    if (NOT (IS_PED_DEAD( iParam0->_fU0 )))
    {
        FREEZE_PED_POSITION( iParam0->_fU0, 0 );
        SET_PED_COLLISION( iParam0->_fU0, 1 );
        ISEQ_REGISTER_ENTITY( uParam1, "stad_sniper", iParam0->_fU0, 0 );
    }
    ISEQ_START( uParam1 );
    while (NOT (ISEQ_QUERY_ENTITY_STATE( uParam1, "stad_sniper", 3 )))
    {
        WAIT( 0 );
    }
    ENABLE_WEAPON_ATTACHMENT( iParam0->_fU112, 13, 1 );
    TOGGLE_WEAPON_ATTACHMENT( iParam0->_fU112, 13, 1 );
    SET_LASER_SIGHT_ATTACHMENT( iParam0->_fU112, 124577409 );
     /* MAL_TELEPORTPED */ sub_41046( iParam0->_fU0, ref iParam0->_fU4->_fU0, ref iParam0->_fU4->_fU12 );
    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( iParam0->_fU0, 0 );
    PED_ACTION_TREE_PLAY_NODE( iParam0->_fU0, "/Global/SNIPER_BEHAVIOR/SNIPER3SET_SEQ/STATES/DUCK_TO_PEEK" );
    return;
}

/* MAL_TELEPORTPED */ void sub_41046(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_COORDS( uParam0, uParam1, 1 );
        SET_PED_HEADING( uParam0, uParam4 );
    }
    return;
}

/* PED_SET_COMBAT_MOVEMENT */ void sub_41223(unknown uParam0, unknown uParam1)
{
    if ( /* IS_PED_VALID */ sub_13941( (uParam0^) ))
    {
        SET_PED_COMBAT_MOVEMENT( (uParam0^), uParam1 );
    }
    return;
}

/* F_GET_TWO_HANDED_WEAPON_FROM_PLAYER */ int sub_41368()
{
    unknown Result;
    unknown uVar3;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )) == 0)
    {
        Result = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_1077(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( Result )) == 1)
        {
            if (( /* IS_WEAPON_TWO_HANDED */ sub_33689( Result )) == 1)
            {
                return Result;
            }
        }
        uVar3 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_1077(), 2 );
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            return uVar3;
        }
    }
    return 0;
}

/* PREPARE_MAX_WEAPONS_FOR_SNIPER_GAMEPLAY */ void sub_41650()
{
    unknown uVar2;
    unknown uVar3;

    if ((g_U1730 != 0) AND (g_U1730 != -1569615261))
    {
         /* WRITESCRIPTLOG */ sub_675( "SBA", "Creating two-handed weapon placement", 0 );
        uVar3 = GET_PICKUP_TYPE_FROM_WEAPON_TYPE( g_U1730 );
        l_U1825 =  /* CREATEPLACEMENT */ sub_41830( uVar3, -11.67746000, 23.71673000, 33.47500000, 1.57000000, 0, -0.50000000, 0, 1, 0, 1119092736 );
    }
     /* P_REMOVE_TWO_HANDED_WEAPON_FROM_PLAYER */ sub_42005();
     /* P_PLAYER_HOLSTER_WEAPONS */ sub_34375( ref l_U1862, 0, 1 );
    uVar2 =  /* MAL_GIVEPEDWEAPON */ sub_5735(  /* PLAYER_PED_ID */ sub_1077(), l_U1602, 50, 0, 0 );
    ENABLE_WEAPON_ATTACHMENT( uVar2, 11, 1 );
    TOGGLE_WEAPON_ATTACHMENT( uVar2, 11, 1 );
    return;
}

/* CREATEPLACEMENT */ void sub_41830(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, int iParam8, unknown uParam9, unknown uParam10)
{
    unknown Result;

    Result = CREATE_PLACEMENT_ROTATE( uParam0, uParam1, uParam4, uParam7, 0, uParam9, uParam10 );
    if (iParam8 == 1)
    {
        while ((DOES_PLACEMENT_EXIST( Result )) == 0)
        {
            DISPLAYF( "[SP]### Waiting for a placement to exist: {} ###", 1, 513, uParam0 );
            WAIT( 0 );
        }
    }
    return Result;
}

/* P_REMOVE_TWO_HANDED_WEAPON_FROM_PLAYER */ void sub_42005()
{
    unknown uVar2;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )) == 0)
    {
        uVar2 =  /* F_GET_TWO_HANDED_WEAPON_FROM_PLAYER */ sub_41368();
        if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
        {
            REMOVE_PED_WEAPON(  /* PLAYER_PED_ID */ sub_1077(), uVar2 );
        }
    }
    return;
}

/* P_CREATE_S_HOT_GG_LA_02 */ void sub_42198()
{
     /* WRITESCRIPTLOG */ sub_675( "CO", "P_CREATE_S_HOT_GG_LA_02", 0 );
     /* P_CREATECOLLECTIBLESTRUCT */ sub_42324( ref g_U758, g_U849, -750880089, 1729666573, -15.71000000, 3.05000000, 33.52000000, 1.50000000, 0.00000000, 5.00000000, "" );
     /* P_CREATECOLLECTIBLE */ sub_42481( ref g_U758 );
    return;
}

/* P_CREATECOLLECTIBLESTRUCT */ void sub_42324(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    if (NOT IS_ARCADE_MODE_ACTIVE())
    {
        iParam0->_fU4 = uParam1;
        iParam0->_fU8 = uParam2;
        iParam0->_fU12 = uParam3;
        iParam0->_fU16 = {uParam4};
        iParam0->_fU28 = {uParam7};
        StrCopy( ref iParam0->_fU40, uParam10, 32 );
    }
    else
    {
         /* WRITESCRIPTLOG */ sub_675( "CO", "NO GOLDEN GUNS FOR ARCADE", 0 );
    }
    return;
}

/* P_CREATECOLLECTIBLE */ void sub_42481(int iParam0)
{
     /* WRITESCRIPTLOG */ sub_675( "CO", "P_CreateCollectible", 0 );
    if (NOT IS_ARCADE_MODE_ACTIVE())
    {
        if (( /* F_HAS_COLLECTIBLE_BEEN_COLLECTED */ sub_42564( iParam0->_fU12 )) == 1)
        {
             /* WRITESCRIPTLOG */ sub_675( "CO", "HAS BEEN COLLECTED.", 0 );
        }
        else
        {
             /* WRITESCRIPTLOG */ sub_675( "CO", "has never been collected.", 0 );
        }
        if (( /* F_HAS_COLLECTIBLE_BEEN_COLLECTED */ sub_42564( iParam0->_fU12 )) == 0)
        {
             /* CLEANPLACEMENT */ sub_11995( iParam0->_fU0 );
            iParam0->_fU0 =  /* CREATEPLACEMENT */ sub_41830( iParam0->_fU8, iParam0->_fU16, iParam0->_fU28, 1, 0, 0, 1119092736 );
            if (NOT (IS_STRING_NULL( iParam0 + 40 )))
            {
                if ((DOES_PLACEMENT_EXIST( iParam0->_fU0 )) == 1)
                {
                     /* WRITESCRIPTLOG */ sub_675( "CO", "Added collectible to interior", 0 );
                    ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( iParam0->_fU0, iParam0 + 40 );
                }
            }
        }
    }
    else
    {
         /* WRITESCRIPTLOG */ sub_675( "CO", "NO GOLDEN GUNS FOR ARCADE", 0 );
    }
    return;
}

/* F_HAS_COLLECTIBLE_BEEN_COLLECTED */ int sub_42564(unknown uParam0)
{
    unknown uVar3;
    float fVar4;

    if (IS_COLLECTABLE_ENABLED() == 0)
    {
        return 1;
    }
    uVar3 = uParam0;
    fVar4 = STAT_HASH_GET_FLOAT( uVar3 );
    if (ARE_SP_STATS_LOADED() == 1)
    {
        if ((STAT_HASH_EXISTS( uVar3 )) == 1)
        {
            if (fVar4 > 0.00000000)
            {
                return 1;
            }
        }
    }
    return 0;
}

/* P_CREATE_S_HOT_GG_G3_02 */ void sub_43003()
{
     /* WRITESCRIPTLOG */ sub_675( "CO", "P_CREATE_S_HOT_GG_G3_02", 0 );
     /* P_CREATECOLLECTIBLESTRUCT */ sub_42324( ref g_U812, g_U852, -1011553821, 560477456, -7.22000000, 26.34000000, 28.69000000, 1.50000000, 0.00000000, 10.00000000, "Room_F5_01" );
     /* P_CREATECOLLECTIBLE */ sub_42481( ref g_U812 );
    return;
}

/* P_CREATE_FIFTH_FLOOR_PLACEMENTS */ void sub_43161()
{
     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_CREATE_FIFTH_FLOOR_PLACEMENTS start", 0 );
    if (NOT g_U1007)
    {
         /* WRITESCRIPTLOG */ sub_675( "SBA", "P_CREATE_FIFTH_FLOOR_PLACEMENTS: creating RPD", 0 );
         /* CLEANPLACEMENT */ sub_11995( g_U1010 );
        g_U1010 =  /* CREATEPLACEMENT */ sub_41830( -217311068, -5.28500000, -2.11900000, 29.08000000, 0.00000000, -1.08000000, -1.52000000, 1, 1, 0, 1119092736 );
        ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( g_U1010, ref g_U1418 );
    }
    if (NOT g_U1005)
    {
         /* WRITESCRIPTLOG */ sub_675( "SBA", "P_CREATE_FIFTH_FLOOR_PLACEMENTS: creating pills 1", 0 );
         /* CLEANPLACEMENT */ sub_11995( g_U1011[0] );
        g_U1011[0] =  /* CREATEPLACEMENT */ sub_41830( -4072149, -7.28500000, -2.20000000, 29.62100000, 0, 0, 0.50000000, 0, 0, 0, 1119092736 );
        ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( g_U1011[0], ref g_U1418 );
    }
    if (NOT g_U1006)
    {
         /* WRITESCRIPTLOG */ sub_675( "SBA", "P_CREATE_FIFTH_FLOOR_PLACEMENTS: creating pills 2", 0 );
         /* CLEANPLACEMENT */ sub_11995( g_U1011[1] );
        g_U1011[1] =  /* CREATEPLACEMENT */ sub_41830( -4072149, -7.58500000, -2.26000000, 29.62100000, g_U657, 0, 0, 0, 1119092736 );
        ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( g_U1011[1], ref g_U1418 );
    }
    if (NOT (DOES_PLACEMENT_EXIST( g_U1017 )))
    {
         /* WRITESCRIPTLOG */ sub_675( "SBA", "P_CHECK_5TH_FLOOR_PLACEMENTS: CREATE AMMO BAG", "***" );
         /* CLEANPLACEMENT */ sub_11995( g_U1017 );
        g_U1017 = CREATE_AMMOBAG_PLACEMENT_ROTATE( -8.95000000, -2.16500000, 28.74000000, 0, 0, 1.87000000, 0, -1.00000000, 0, 1119092736 );
        ADD_PLACEMENT_TO_INTERIOR_ROOM_BY_NAME( g_U1017, ref g_U1418 );
         /* P_SETUP_AMMO_BAG_DEFAULTS */ sub_43892( g_U1017 );
        SET_AMMOBAG_AMMO_AMOUNT( g_U1017, 581312862, 100 );
    }
     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_CREATE_FIFTH_FLOOR_PLACEMENTS end", 0 );
    return;
}

/* P_SETUP_AMMO_BAG_DEFAULTS */ void sub_43892(unknown uParam0)
{
    if ((DOES_PLACEMENT_EXIST( uParam0 )) == 1)
    {
        SET_AMMOBAG_REGEN_TIME( uParam0, 10.00000000 );
        SET_AMMOBAG_REGEN_RANGE( uParam0, 3.00000000 );
        SET_AMMOBAG_AMMO_AMOUNT( uParam0, -1088031219, 45 );
        SET_AMMOBAG_AMMO_AMOUNT( uParam0, 954369040, 0 );
        SET_AMMOBAG_AMMO_AMOUNT( uParam0, 1138793073, 95 );
        SET_AMMOBAG_AMMO_AMOUNT( uParam0, 1087746638, 0 );
        SET_AMMOBAG_AMMO_AMOUNT( uParam0, -1295933220, 30 );
        SET_AMMOBAG_AMMO_AMOUNT( uParam0, -1383321053, 85 );
        SET_AMMOBAG_AMMO_AMOUNT( uParam0, -1481241171, 0 );
        SET_AMMOBAG_AMMO_AMOUNT( uParam0, -1889644301, 0 );
        SET_AMMOBAG_AMMO_AMOUNT( uParam0, -790090695, 0 );
        SET_AMMOBAG_AMMO_AMOUNT( uParam0, 1742569970, 0 );
        SET_AMMOBAG_AMMO_AMOUNT( uParam0, -1575030772, 0 );
        SET_AMMOBAG_AMMO_AMOUNT( uParam0, -1622373246, 0 );
        SET_AMMOBAG_AMMO_AMOUNT( uParam0, 558118158, 0 );
        SET_AMMOBAG_AMMO_AMOUNT( uParam0, -1701914198, 0 );
        SET_AMMOBAG_AMMO_AMOUNT( uParam0, 1126469201, 0 );
        SET_AMMOBAG_AMMO_AMOUNT( uParam0, 936600426, 0 );
        SET_AMMOBAG_AMMO_AMOUNT( uParam0, 205668857, 0 );
    }
    return;
}

/* P_OPENDOOR */ void sub_44350(int iParam0, int iParam1, int iParam2, unknown uParam3)
{
    float fVar6;

    if (( /* F_DOESDOOREXIST */ sub_18911( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_18995( iParam0 );
    }
    fVar6 = 0.00000000;
    if (iParam1 == 1)
    {
        fVar6 = uParam3;
    }
    else
    {
        fVar6 = -uParam3;
    }
    if (iParam2 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, fVar6 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar6 );
    }
    else
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar6 );
    }
    return;
}

/* P_SETDOORLATCH */ void sub_44514(int iParam0, unknown uParam1)
{
    if (( /* F_DOESDOOREXIST */ sub_18911( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_18995( iParam0 );
    }
    DOOR_FIND_CLOSEST_SET_LATCH( iParam0->_fU0, iParam0->_fU4, uParam1 );
    return;
}

/* P_SETDOORMINMAXLIMIT */ void sub_44612(int iParam0, float fParam1, float fParam2)
{
    if (( /* F_DOESDOOREXIST */ sub_18911( iParam0 )) == 0)
    {
         /* P_PRINTDOORNOTEXIST */ sub_18995( iParam0 );
    }
    if (fParam1 > fParam2)
    {
        PRINTSTRING( "[SP]### Error: Door fMinLimit greater than fMaxLimit (default min:-81.0 max:81.0) ###" );
        PRINTNL();
    }
    else
    {
        DOOR_FIND_CLOSEST_SET_LIMIT_MIN( iParam0->_fU0, iParam0->_fU4, fParam1 );
        DOOR_FIND_CLOSEST_SET_LIMIT_MAX( iParam0->_fU0, iParam0->_fU4, fParam2 );
    }
    return;
}

/* PLAY_HOTEL_MID_08 */ void sub_45022(boolean bParam0, boolean bParam1, boolean bParam2, unknown uParam3)
{
    int Result;

    Result = 0;
    if (IS_STRING_NULL( uParam3 ))
    {
        uParam3 = l_U266;
    }
    switch (l_U216)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_675( "RJM", "PLAY_HOTEL_MID_08 start", "*****" );
         /* WRITESCRIPTLOG */ sub_675( "SBA", "PLAY_HOTEL_MID_08: Using:", "***" );
         /* WRITE_STRING */ sub_3272( uParam3 );
         /* NIS_PRE_SETUP */ sub_24294( 1, 0, 0, 1 );
         /* LOADSEAMLESSCUTSCENE */ sub_29043( uParam3, 1 );
        if (NOT bParam0)
        {
             /* BLOCKLOAD_MID_08_ASSETS */ sub_45258();
             /* CREATE_MID_08_PEDS */ sub_45772();
             /* REGISTER_PEDS_MID_08 */ sub_33574( ref l_U273, 0 );
        }
        if (bParam1)
        {
             /* WRITESCRIPTLOG */ sub_675( "bsw", "PLAY_HOTEL_MID_08 - going to use the cover blendout VIG this time", 0 );
             /* LOADISEQ */ sub_40276( -780465587, 1 );
            ISEQ_REGISTER_ENTITY( -780465587, "max",  /* PLAYER_PED_ID */ sub_1077(), 0 );
            CUTSCENE_REGISTER_ISEQ( -780465587 );
            CUTSCENE_REGISTER_PED_TELEPORT(  /* PLAYER_PED_ID */ sub_1077(), 6.22422600, 29.49182000, 28.65189000, 59.93398000 );
            CUTSCENE_REGISTER_SET_PLAYER_IN_COVER( "GenCover", "305DBE67_CCD82DFB_Popover1", 1, 0 );
            CUTSCENE_SET_COVER_CAMERA_DIRECTION( 93.47329000, -10.10740000 );
             /* NIS_CREATE_STATIC_CAM */ sub_38462( ref l_U235, 7.70572000, 32.40286000, 30.25313000, -10.38024000, -0.00000000, 147.76480000, 1110704128, 1000 );
        }
        else
        {
            CUTSCENE_REGISTER_PED_TELEPORT(  /* PLAYER_PED_ID */ sub_1077(), g_U1020[8], g_U1123[8] );
            CUTSCENE_REGISTER_SET_PLAYER_IN_COVER( "GenCover", "305DBE67_E394D885_Corner1", 1, 1 );
            CUTSCENE_SET_COVER_CAMERA_DIRECTION( g_U1158[8], g_U1193[8] );
        }
        REGISTER_HIDE_ENTITY_AT_POSITION( g_U1687._fU0, g_U1687._fU4 );
        l_U216 = 2;
        break;
        case 2:
        if (bParam2)
        {
            START_CUTSCENE_CAPTURE( uParam3 );
        }
        START_SEAMLESS_CUTSCENE();
        l_U216 = 3;
        break;
        case 3:
         /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_46454( l_U217, 0 );
        if ( /* CAN_TOGGLE_BAG */ sub_46586())
        {
            PLAYER_ENABLE_COMPONENT( 11, 0 );
        }
        if (bParam1)
        {
             /* NIS_PLAY_STATIC_CAMERA */ sub_38695( ref l_U235 );
        }
        l_U216 = 4;
        break;
        case 4:
        if (HAS_CUTSCENE_FINISHED())
        {
             /* P_PLAYER_UNHOLSTER_WEAPONS */ sub_47338( l_U217, 1 );
             /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_46454( l_U217, 1 );
            if ( /* CAN_TOGGLE_BAG */ sub_46586())
            {
                PLAYER_ENABLE_COMPONENT( 11, 1 );
            }
            l_U216 = 5;
        }
        break;
        case 5:
        if (bParam2)
        {
            STOP_CUTSCENE_CAPTURE();
        }
        Result = 1;
        if (NOT bParam0)
        {
             /* CLEANPEDARRAY */ sub_11871( ref l_U268 );
             /* UNLOAD_MID_08_ASSETS */ sub_47615();
        }
        if (NOT bParam1)
        {
             /* NIS_POST_SETUP */ sub_26754( 1, 1 );
        }
        l_U216 = 0;
         /* WRITESCRIPTLOG */ sub_675( "RJM", "PLAY_HOTEL_MID_08 end", "*****" );
        break;
        case 0:
        l_U216 = 1;
        break;
    }
    return Result;
}

/* BLOCKLOAD_MID_08_ASSETS */ void sub_45258()
{
     /* WRITESCRIPTLOG */ sub_675( "RJM", "BLOCKLOAD_MID_08_ASSETS", "***" );
     /* BLOCKLOADMODEL */ sub_45342( 928600325 );
     /* BLOCKLOADMODEL */ sub_45342( 466468872 );
     /* BLOCKLOADMODEL */ sub_45342( 547887525 );
    return;
}

/* BLOCKLOADMODEL */ void sub_45342(unknown uParam0)
{
    DISPLAYF( "[MSWW]### Trying to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
         /* WRITE_STRING */ sub_3272( "[SP]### ERROR! (BlockLoadModel) Trying to block load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    LOAD_ALL_OBJECTS_NOW();
    while ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        LOAD_ALL_OBJECTS_NOW();
        DISPLAYF( "[SP]### Waiting to load model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
        WAIT( 0 );
    }
    DISPLAYF( "[MSWW]### Has loaded model: {!f1} : {1} ###", 2, 1, -874832622, 513, uParam0 );
    return;
}

/* CREATE_MID_08_PEDS */ void sub_45772()
{
    int I;

     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U273[0], 0, 0, 0, 0, -1175062477, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U273[1], 0, 0, 0, 0, -918073547, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U273[2], 0, 0, 0, 0, -1440269224, 26, 6, 0, 0, 0 );
     /* P_CREATEPEDSTRUCTWITHNAME */ sub_15736( ref l_U273[3], 0, 0, 0, 0, 341817814, 26, 6, 0, 0, 0 );
    for ( I = 0; I <= (l_U268 - 1); I++ )
    {
        l_U268[I] =  /* CREATEPED */ sub_30345( ref l_U273[I] );
    }
    return;
}

/* P_SET_TWO_HANDED_WEAPON_VISIBLE */ void sub_46454(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18)
{
    unknown uVar21;
    unknown uVar22;

    uVar21 = uParam0._fU24._fU0;
    if ((GET_DOES_WEAPON_EXIST( uVar21 )) == 1)
    {
        SET_WEAPON_VISIBLE( uVar21, uParam18 );
    }
    uVar22 = uParam0._fU60._fU0;
    if ((GET_DOES_WEAPON_EXIST( uVar22 )) == 1)
    {
        SET_WEAPON_VISIBLE( uVar22, uParam18 );
    }
    return;
}

/* CAN_TOGGLE_BAG */ int sub_46586()
{
    int iVar2;

     /* WRITESCRIPTLOG */ sub_675( "BSW", "CAN_TOGGLE_BAG start", "***" );
    DISPLAYF( "CAN_TOGGLE_BAG variation - {}", 1, 513, GET_CUSTOM_PLAYER_VARIATION() );
    iVar2 =  /* F_GET_ALTERNATE_PLAYER_VARIATION */ sub_46710( GET_CUSTOM_PLAYER_VARIATION() );
    if (NOT IS_ARCADE_MODE_ACTIVE())
    {
        return 1;
    }
    if ((iVar2 == 48) || ((iVar2 == 47) || ((iVar2 == 46) || ((iVar2 == 45) || (iVar2 == 44)))))
    {
         /* WRITESCRIPTLOG */ sub_675( "BSW", "CAN_TOGGLE_BAG got a no-no variation, return false", "***" );
        return 0;
    }
    return 1;
}

/* F_GET_ALTERNATE_PLAYER_VARIATION */ int sub_46710(unknown uParam0)
{
    unknown uVar3;

    uVar3 = uParam0;
    switch (uVar3)
    {
        case 1:
        return 44;
        break;
        case 2:
        return 46;
        break;
        case 3:
        return 3;
        break;
        case 4:
        return 10;
        break;
        case 5:
        return 15;
        break;
        case 6:
        return 18;
        break;
        case 7:
        return 20;
        break;
        case 8:
        return 24;
        break;
        case 9:
        return 26;
        break;
        case 10:
        return 31;
        break;
        case 11:
        return 36;
        break;
        case 12:
        return 1;
        break;
        case 13:
        return 16;
        break;
        case 14:
        return 29;
        break;
        case 15:
        return 32;
        break;
        case 16:
        return 41;
        break;
        case 17:
        return 37;
        break;
        case 18:
        return 48;
        break;
        case 19:
        return 45;
        break;
        case 20:
        return 47;
        break;
    }
    return 49;
}

/* P_PLAYER_UNHOLSTER_WEAPONS */ void sub_47338(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18)
{
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )) == 0)
    {
        uVar21 = uParam0._fU0._fU0;
        if ((GET_DOES_WEAPON_EXIST( uVar21 )) == 1)
        {
            SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_1077(), uVar21, 0, uParam18 );
        }
        uVar22 = uParam0._fU12._fU0;
        if ((GET_DOES_WEAPON_EXIST( uVar22 )) == 1)
        {
            SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_1077(), uVar22, 1, uParam18 );
        }
        uVar23 = uParam0._fU24._fU0;
        if ((GET_DOES_WEAPON_EXIST( uVar23 )) == 1)
        {
            SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_1077(), uVar23, 0, uParam18 );
        }
    }
    return;
}

/* UNLOAD_MID_08_ASSETS */ void sub_47615()
{
     /* WRITESCRIPTLOG */ sub_675( "RJM", "UNLOAD_MID_08_ASSETS", "***" );
     /* UNLOADMODEL */ sub_47693( 928600325 );
     /* UNLOADMODEL */ sub_47693( 466468872 );
     /* UNLOADMODEL */ sub_47693( 547887525 );
    return;
}

/* UNLOADMODEL */ void sub_47693(unknown uParam0)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 1)
    {
        SET_MODEL_AS_NO_LONGER_NEEDED( uParam0 );
    }
    else
    {
         /* WRITE_STRING */ sub_3272( "[SP]### ERROR! (UnloadModel) Trying to unload a model that isn't in the img! ###" );
    }
    return;
}

/* NIS_RETURN_TO_GAMEPLAY_CAM */ void sub_48140(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, float fParam4, unknown uParam5)
{
    SET_CAM_SIDE_LEFT( uParam2 );
    if (fParam4 != -1E8)
    {
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( uParam3, 1065353216, 0 );
    }
    if (fParam4 != -1E8)
    {
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( fParam4, 1065353216, 0 );
    }
    RENDER_SCRIPT_CAMS( 0, uParam1, uParam0, uParam5 );
    return;
}

/* P_SAVE_HOTEL_PLAYER_DATA_CHECKPOINT */ void sub_48663(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9)
{
     /* SAVE_WATERBOTTLE_STATE */ sub_48713( uParam0 );
     /* P_SAVE_PLAYER_DATA_CHECKPOINT */ sub_48951( uParam0, uParam1, uParam2, uParam3, uParam6, uParam7, uParam8, uParam9 );
    return;
}

/* SAVE_WATERBOTTLE_STATE */ void sub_48713(int iParam0)
{
    unknown uVar3;

     /* WRITESCRIPTLOG */ sub_675( "BSW", "SAVE_WATERBOTTLE_STATE start", 0 );
    uVar3 =  /* GET_WATERBOTTLE_FROM_PLAYER */ sub_13819();
    if (GET_DOES_WEAPON_EXIST( uVar3 ))
    {
        iParam0->_fU48 = GET_SUPPRESSOR_DAMAGE_LEVEL( uVar3 );
        DISPLAYF( "SAVE_WATERBOTTLE_STATE found water bottle suppressor - saving the state: {}", 1, 513, iParam0->_fU48 );
    }
    return;
}

/* P_SAVE_PLAYER_DATA_CHECKPOINT */ void sub_48951(int iParam0, int iParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, int iParam9)
{
    int iVar12;
    int iVar13;
    int iVar14;
    int iVar15;
    int iVar16;

     /* WRITESCRIPTLOG */ sub_675( "GA", "Saving the player data for checkpoint - Start", 0 );
    if ((IS_PED_DEAD( uParam2 )) == 0)
    {
         /* WRITESCRIPTLOG */ sub_675( "SP", "Saving to scripted data...", 0 );
        RESET_CHECKPOINT_ATTEMPTS();
        if (SCRIPT_VAR_EXISTS( "SV_SAVE_CNT" ))
        {
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", (SCRIPT_VAR_GET_INT( "SV_SAVE_CNT" )) + 1 );
        }
        else
        {
            SCRIPT_VAR_ADD_INT( "SV_SAVE_CNT" );
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", 1 );
        }
         /* START_NEW_LEVEL_CONTEXT */ sub_4437( iParam1 );
         /* CLOSE_OLD_LEVEL_CONTEXT */ sub_49242( iParam1 );
        iParam0->_fU52 = iParam1;
        iParam0->_fU4 = {uParam3};
        iParam0->_fU16 = uParam6;
        iParam0->_fU20 = uParam7;
        iParam0->_fU24 = uParam8;
        iParam0->_fU28 = GET_PED_HEALTH( uParam2 );
        iParam0->_fU56 = -1569615261;
        iParam0->_fU60 = -1569615261;
        iParam0->_fU64 = -1569615261;
        iParam0->_fU68 = -1569615261;
        iParam0->_fU72 = -1569615261;
        iParam0->_fU76 = 0;
        iParam0->_fU80 = 0;
        iParam0->_fU84 = 0;
        iParam0->_fU88 = 0;
        iParam0->_fU92 = 0;
        iVar12 = GET_WEAPON_FROM_HAND( uParam2, 0, 0 );
        iVar13 = GET_WEAPON_FROM_HAND( uParam2, 1, 0 );
        iVar14 = GET_WEAPON_FROM_HOLSTER( uParam2, 0 );
        iVar15 = GET_WEAPON_FROM_HOLSTER( uParam2, 1 );
        iVar16 = GET_WEAPON_FROM_HOLSTER( uParam2, 2 );
        if (GET_DOES_WEAPON_EXIST( iVar12 ))
        {
            iParam0->_fU68 = GET_WEAPON_TYPE( iVar12 );
            iParam0->_fU88 = (GET_WEAPON_AMMO( iVar12 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar12 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_49719( iVar12, iParam0 + 120, iParam0 + 124 );
        }
        if (GET_DOES_WEAPON_EXIST( iVar13 ))
        {
            iParam0->_fU72 = GET_WEAPON_TYPE( iVar13 );
            iParam0->_fU92 = (GET_WEAPON_AMMO( iVar13 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar13 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_49719( iVar13, iParam0 + 128, iParam0 + 132 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_49979( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar13 ) ))
                {
                    iParam0->_fU92 = GET_WEAPON_AMMO_IN_CLIP( iVar12 );
                }
            }
        }
        if ((iVar14 != iVar13) AND ((iVar14 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar14 ))))
        {
            iParam0->_fU56 = GET_WEAPON_TYPE( iVar14 );
            iParam0->_fU76 = (GET_WEAPON_AMMO( iVar14 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar14 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_49719( iVar14, iParam0 + 96, iParam0 + 100 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_49979( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_49979( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
        }
        if ((iVar15 != iVar13) AND ((iVar15 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar15 ))))
        {
            iParam0->_fU60 = GET_WEAPON_TYPE( iVar15 );
            iParam0->_fU80 = (GET_WEAPON_AMMO( iVar15 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar15 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_49719( iVar15, iParam0 + 104, iParam0 + 108 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_49979( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_49979( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_49979( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
        }
        if ((iVar16 != iVar13) AND ((iVar16 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar16 ))))
        {
            iParam0->_fU64 = GET_WEAPON_TYPE( iVar16 );
            iParam0->_fU84 = (GET_WEAPON_AMMO( iVar16 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar16 ));
             /* P_SAVE_WEAPON_ATTACHMENTS */ sub_49719( iVar16, iParam0 + 112, iParam0 + 116 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_49979( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_49979( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_49979( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar15 ))
            {
                if ( /* F_WEAPONS_SAME_AMMO */ sub_49979( GET_WEAPON_TYPE( iVar15 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
        }
        SAVE_PICKUPS();
        iParam0->_fU32 = GET_ADRENALINE_AMT();
        iParam0->_fU36 = GET_PAYNEKILLER_AMT();
        GET_TIME_OF_DAY( iParam0 + 40, iParam0 + 44 );
        iParam0->_fU140 = IS_TIME_OF_DAY_FROZEN();
        iParam0->_fU136 = GET_PED_SWEAT( uParam2 );
        if (iParam9 == 1)
        {
            if (IS_MAGDEMO() == 0)
            {
                ENABLE_CHECKPOINT_ICON();
            }
        }
        if (iParam1 >= 0)
        {
             /* P_PRINT_CHECKPOINT_DATA */ sub_51559( iParam0 );
            iParam0->_fU0 = 1;
            if (IS_ARCADE_MODE_ACTIVE() == 0)
            {
                CHECKPOINT_STORAGE_SAVE( iParam0, l_U1, iParam0->_fU52 );
                REQUEST_SAVE();
            }
        }
        if (IS_ARCADE_MODE_ACTIVE())
        {
            UPDATE_ARCADE_CHECK_POINT( iParam0->_fU52 );
        }
    }
    else
    {
        SCRIPT_ASSERT( "Error: Player is dead while saving a checkpoint!!!", 0 );
    }
     /* WRITESCRIPTLOG */ sub_675( "GA", "Saving the player data for checkpoint - End", 0 );
    return;
}

/* CLOSE_OLD_LEVEL_CONTEXT */ void sub_49242(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (iParam0 >= 0)
    {
        if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
        {
            uVar3 =  /* GET_MISSION_INDEX_FROM_NAME */ sub_1452( ref uVar20 );
        }
        STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, iParam0 - 1 );
         /* WRITESCRIPTLOG */ sub_675( "TEH", "Ending context", 0 );
         /* WRITESCRIPTLOG */ sub_675( "TEH", "Ending context", 0 );
        END_CONTEXT( ref uVar4 );
    }
    return;
}

/* P_SAVE_WEAPON_ATTACHMENTS */ void sub_49719(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        CLEAR_BIT( uParam1, I );
        CLEAR_BIT( uParam2, I );
        if (IS_WEAPON_ATTACHMENT_ENABLED( uParam0, I ))
        {
            SET_BIT( uParam1, I );
            if (IS_WEAPON_ATTACHMENT_TOGGLED( uParam0, I ))
            {
                SET_BIT( uParam2, I );
            }
        }
    }
    return;
}

/* F_WEAPONS_SAME_AMMO */ void sub_49979(int iParam0, int iParam1)
{
    int Result;

    Result = 0;
    if ((iParam0 == -612753081) || ((iParam0 == 68019059) || ((iParam0 == 456708483) || ((iParam0 == -862236369) || (iParam0 == 406496141)))))
    {
        if ((iParam1 == -612753081) || ((iParam1 == 68019059) || ((iParam1 == 456708483) || ((iParam1 == -862236369) || (iParam1 == 406496141)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 724901397) || ((iParam0 == 57534114) || ((iParam0 == 1308526797) || ((iParam0 == -1074756423) || (iParam0 == -1013714740)))))
    {
        if ((iParam1 == 724901397) || ((iParam1 == 57534114) || ((iParam1 == 1308526797) || ((iParam1 == -1074756423) || (iParam1 == -1013714740)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 514118749) || ((iParam0 == -184942895) || ((iParam0 == -168327769) || ((iParam0 == 1845102363) || (iParam0 == 434544317)))))
    {
        if ((iParam1 == 514118749) || ((iParam1 == -184942895) || ((iParam1 == -168327769) || ((iParam1 == 1845102363) || (iParam1 == 434544317)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -110877124) || (iParam0 == 319712764))
    {
        if ((iParam1 == -110877124) || (iParam1 == 319712764))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -1464892298) || ((iParam0 == 1194438308) || ((iParam0 == -1404433099) || ((iParam0 == 1478009203) || ((iParam0 == -691403429) || (iParam0 == 1964270085))))))
    {
        if ((iParam1 == -1464892298) || ((iParam1 == 1194438308) || ((iParam1 == -1404433099) || ((iParam1 == 1478009203) || ((iParam1 == -691403429) || (iParam1 == 1964270085))))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 10648147) || (iParam0 == 1224272620))
    {
        if ((iParam1 == 10648147) || (iParam1 == 1224272620))
        {
            Result = 1;
        }
    };;;;;;
    return Result;
}

/* P_PRINT_CHECKPOINT_DATA */ void sub_51559(int iParam0)
{
     /* WRITE_STRING */ sub_3272( "CHECKPOINT DATA" );
    PRINTSTRING( "---Position: " );
     /* WRITE_VECTOR */ sub_51647( iParam0->_fU4 );
    PRINTSTRING( "---Heading: " );
     /* WRITE_FLOAT */ sub_51724( iParam0->_fU16 );
    PRINTSTRING( "---fRelativeGameCamHeading: " );
     /* WRITE_FLOAT */ sub_51724( iParam0->_fU20 );
    PRINTSTRING( "---fRelativeGameCamPitch: " );
     /* WRITE_FLOAT */ sub_51724( iParam0->_fU24 );
    PRINTSTRING( "---nHealth: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU28 );
    PRINTSTRING( "---wtRightHolster: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU56 );
    PRINTSTRING( "---wtLeftHolster: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU60 );
    PRINTSTRING( "---wtRifleHolster: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU64 );
    PRINTSTRING( "---wtRightHand: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU68 );
    PRINTSTRING( "---wtLeftHand: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU72 );
    PRINTSTRING( "---nWeaponRightHolsterAmmo: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU76 );
    PRINTSTRING( "---nWeaponLeftHolsterAmmo: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU80 );
    PRINTSTRING( "---nWeaponRifleHolsterAmmo: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU84 );
    PRINTSTRING( "---nWeaponRightHandAmmo: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU88 );
    PRINTSTRING( "---nWeaponLeftHandAmmo: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU92 );
    PRINTSTRING( "---fAdrenaline: " );
     /* WRITE_FLOAT */ sub_51724( iParam0->_fU32 );
    PRINTSTRING( "---nPayneKillers: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU36 );
    PRINTSTRING( "---nHour: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU40 );
    PRINTSTRING( "---nMinute: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU44 );
    PRINTSTRING( "---fSweatAmount: " );
     /* WRITE_FLOAT */ sub_51724( iParam0->_fU136 );
    PRINTSTRING( "---bTimeFrozen: " );
     /* WRITE_BOOL */ sub_14553( iParam0->_fU140 );
    PRINTSTRING( "---checkpointIndex: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU52 );
     /* WRITE_STRING */ sub_3272( "---nRightHolsterAttachmentEnabled: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU96 );
     /* WRITE_STRING */ sub_3272( "---nRightHolsterAttachmentToggled: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU100 );
     /* WRITE_STRING */ sub_3272( "---nLeftHolsterAttachmentEnabled: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU104 );
     /* WRITE_STRING */ sub_3272( "---nLeftHolsterAttachmentToggled: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU108 );
     /* WRITE_STRING */ sub_3272( "---nRifleHolsterAttachmentEnabled: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU112 );
     /* WRITE_STRING */ sub_3272( "---nRifleHolsterAttachmentToggled: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU116 );
     /* WRITE_STRING */ sub_3272( "---nRightHandAttachmentEnabled: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU120 );
     /* WRITE_STRING */ sub_3272( "---nRightHandAttachmentToggled: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU124 );
     /* WRITE_STRING */ sub_3272( "---nLeftHandAttachmentEnabled: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU128 );
     /* WRITE_STRING */ sub_3272( "---nLeftHandAttachmentToggled: " );
     /* WRITE_INT */ sub_6567( iParam0->_fU132 );
    PRINTSTRING( "[CHECKPOINT DATA SIZE]: " );
     /* WRITE_INT */ sub_6567( l_U1 );
    PRINTSTRING( "[CHECKPOINT DATA REF SIZE]: " );
     /* WRITE_INT */ sub_6567( 144 );
    return;
}

/* WRITE_VECTOR */ void sub_51647(unknown uParam0, unknown uParam1, unknown uParam2)
{
    PRINTVECTOR( uParam0 );
    PRINTNL();
    return;
}

/* WRITE_FLOAT */ void sub_51724(unknown uParam0)
{
    PRINTFLOAT( uParam0 );
    PRINTNL();
    return;
}

/* CLEAR_FORCED_COLLISION_LOAD_FOR_HOTEL */ void sub_53442()
{
    unknown uVar2;

     /* WRITESCRIPTLOG */ sub_675( "BSW", "CLEAR_FORCED_COLLISION_LOAD_FOR_HOTEL", 0 );
    uVar2 = GET_INTERIOR_AT_COORDS( g_U1020[g_U854] );
    CLEAR_INTERIOR_COLLISION_REQUIRED( uVar2 );
    return;
}

/* P_CREATE_AMMO_BAG */ void sub_53588()
{
     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_CREATE_AMMO_BAG", "***" );
     /* CLEANPLACEMENT */ sub_11995( l_U1826 );
    l_U1826 = CREATE_AMMOBAG_PLACEMENT_ROTATE( -12.18000000, 23.09000000, 33.45000000, 0, 0, -0.10000000, 0, -1.00000000, 0, 1119092736 );
     /* P_SETUP_AMMO_BAG_DEFAULTS */ sub_43892( l_U1826 );
    SET_AMMOBAG_AMMO_AMOUNT( l_U1826, 581312862, 100 );
    return;
}

/* P_CREATE_6TH_FLOOR_PILLS */ void sub_53755()
{
     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_CREATE_6TH_FLOOR_PILLS", "***" );
     /* CLEANPLACEMENTARRAY */ sub_12079( ref l_U1827 );
    l_U1827[0] =  /* CREATEPLACEMENT */ sub_41830( -4072149, -12.90000000, 23.40000000, 33.45400000, g_U657, 0, 0, 0, 1119092736 );
    return;
}

/* PED_CLEAR_ALL_ACTION_INTENTIONS */ void sub_53917(unknown uParam0)
{
    if ( /* IS_PED_VALID */ sub_13941( uParam0 ))
    {
        PED_FINISH_ACTION_INTENTION( uParam0, 47 );
        PED_FINISH_ACTION_INTENTION( uParam0, 48 );
        PED_FINISH_ACTION_INTENTION( uParam0, 49 );
        PED_FINISH_ACTION_INTENTION( uParam0, 50 );
        PED_FINISH_ACTION_INTENTION( uParam0, 51 );
        PED_FINISH_ACTION_INTENTION( uParam0, 52 );
        PED_FINISH_ACTION_INTENTION( uParam0, 53 );
        PED_FINISH_ACTION_INTENTION( uParam0, 54 );
        PED_FINISH_ACTION_INTENTION( uParam0, 55 );
        PED_FINISH_ACTION_INTENTION( uParam0, 56 );
        PED_FINISH_ACTION_INTENTION( uParam0, 57 );
        PED_FINISH_ACTION_INTENTION( uParam0, 58 );
    }
    return;
}

/* P_PED_ARRAY_Z_SAFETY_CHECK */ void sub_54209(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
         /* P_PED_Z_SAFETY_CHECK */ sub_54275( (uParam0^)[I], uParam1, uParam2, uParam3 );
    }
    return;
}

/* P_PED_Z_SAFETY_CHECK */ void sub_54275(unknown uParam0, float fParam1, int iParam2, boolean bParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;

    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        uVar6 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
        if (uVar6._fU8 < fParam1)
        {
            if (iParam2 == 1)
            {
                SET_PED_HEALTH( uParam0, 0, 0 );
            }
            if (bParam3)
            {
                 /* CLEANPED */ sub_11760( uParam0 );
            }
        }
    }
    return;
}

/* F_SEARCHERS_START_ATTACK */ int sub_54424(unknown uParam0, int iParam1)
{
    int I;

    if (iParam1 > ((uParam0^) - 1))
    {
        SCRIPT_ASSERT( "F_SEARCHERS_START_ATTACK: ERROR! iCount parameter is too big!", 0 );
        return 0;
    }
    else
    {
        for ( I = 0; I <= iParam1; I++ )
        {
            if (( /* IS_MAX_VALID */ sub_13911()) AND ( /* IS_PED_VALID */ sub_13941( (uParam0^)[I] )))
            {
                if (IS_PED_IN_COMBAT( (uParam0^)[I] ))
                {
                     /* WRITESCRIPTLOG */ sub_675( "SBA", "F_SEARCHERS_START_ATTACK: Ped in combat", "***" );
                    return 1;
                }
                else if ((NOT (IS_PED_USING_MP3_COVER_TASK(  /* PLAYER_PED_ID */ sub_1077() ))) || (( /* GET_DISTANCE_BETWEEN_PEDS */ sub_54691(  /* PLAYER_PED_ID */ sub_1077(), (uParam0^)[I], 1 )) < 2.50000000))
                {
                     /* WRITESCRIPTLOG */ sub_675( "SBA", "F_SEARCHERS_START_ATTACK: Player should be spotted, tasking combat", "***" );
                     /* PED_TASK_COMBAT_PLAYER */ sub_54969( (uParam0^)[I], 1 );
                    return 1;
                }
            }
            else
            {
                 /* WRITESCRIPTLOG */ sub_675( "SBA", "F_SEARCHERS_START_ATTACK: Ped is dead", "***" );
                return 1;
            }
        }
    }
    return 0;
}

/* GET_DISTANCE_BETWEEN_PEDS */ void sub_54691(unknown uParam0, unknown uParam1, boolean bParam2)
{
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;

    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        uVar5 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
    }
    if (NOT (IS_PED_DEAD( uParam1 )))
    {
        uVar8 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam1 )};
    }
    if (bParam2)
    {
        return VDIST( uVar5, uVar8 );
        break;
    }
    return VDIST( uVar5._fU0, uVar5._fU4, 0, uVar8._fU0, uVar8._fU4, 0 );
}

/* PED_TASK_COMBAT_PLAYER */ void sub_54969(unknown uParam0, boolean bParam1)
{
    if ((NOT (IS_PED_RAGDOLL( uParam0, 0 ))) AND ((NOT (IS_PED_INJURED( uParam0 ))) AND (( /* IS_MAX_VALID */ sub_13911()) AND ( /* IS_PED_VALID */ sub_13941( uParam0 )))))
    {
        if (bParam1)
        {
            CLEAR_PED_TASKS_IMMEDIATELY( uParam0 );
        }
        CLEAR_LOCKED_TARGET( uParam0 );
         /* PED_SET_REGISTER_TARGET_PLAYER */ sub_55071( ref uParam0 );
         /* PED_SET_LOCKED_ON_PLAYER */ sub_55226( ref uParam0 );
        TASK_COMBAT_PED( uParam0,  /* PLAYER_PED_ID */ sub_1077() );
    }
    return;
}

/* PED_SET_REGISTER_TARGET_PLAYER */ void sub_55071(unknown uParam0)
{
    if (( /* IS_MAX_VALID */ sub_13911()) AND ( /* IS_PED_VALID */ sub_13941( (uParam0^) )))
    {
         /* PED_SET_REGISTER_TARGET */ sub_55140( uParam0,  /* PLAYER_PED_ID */ sub_1077() );
    }
    return;
}

/* PED_SET_REGISTER_TARGET */ void sub_55140(unknown uParam0, unknown uParam1)
{
    if (( /* IS_PED_VALID */ sub_13941( uParam1 )) AND ( /* IS_PED_VALID */ sub_13941( (uParam0^) )))
    {
        REGISTER_TARGET( (uParam0^), uParam1 );
    }
    return;
}

/* PED_SET_LOCKED_ON_PLAYER */ void sub_55226(unknown uParam0)
{
    if (( /* IS_MAX_VALID */ sub_13911()) AND ( /* IS_PED_VALID */ sub_13941( (uParam0^) )))
    {
         /* PED_SET_LOCKED_ON_PED */ sub_55289( uParam0,  /* PLAYER_PED_ID */ sub_1077() );
    }
    return;
}

/* PED_SET_LOCKED_ON_PED */ void sub_55289(unknown uParam0, unknown uParam1)
{
    if (( /* IS_PED_VALID */ sub_13941( uParam1 )) AND ( /* IS_PED_VALID */ sub_13941( (uParam0^) )))
    {
        SET_LOCKED_TARGET( (uParam0^), uParam1 );
    }
    return;
}

/* P_5TH_FLOOR_ENEMIES_ATTACK */ void sub_55507()
{
    int I;

     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_5TH_FLOOR_ENEMIES_ATTACK", "***" );
    for ( I = 0; I <= (l_U1260 - 3); I++ )
    {
        if ( /* IS_PED_VALID */ sub_13941( l_U1260[I] ))
        {
            SET_PED_SEEING_RANGE( l_U1260[I], 60, 75 );
            CLEAR_PED_TASKS( l_U1260[I] );
        }
    }
    PEDGROUPTASK_ADVANCE_TRIGGER_MOVE( l_U1346._fU0, l_U1823 );
    return;
}

/* P_DEPLOY_5TH_REINFORCEMENTS */ void sub_55706()
{
     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_DEPLOY_5TH_REINFORCEMENTS", "***" );
     /* TOGGLE_HIDE_EXTRA_5TH_FLOOR_ENEMIES */ sub_33200( 0 );
     /* PED_TASK_ATTACK_MOVE */ sub_55833( l_U1260[4], -6.06872400, 4.56076400, 28.65191000, 3, 4, -1082130432, 3 );
     /* P_TETHERPED */ sub_39039( ref l_U1257, l_U1260[4], 1 );
     /* P_TETHERPED */ sub_39039( ref l_U1258, l_U1260[4], 1 );
     /* PED_TASK_ATTACK_MOVE */ sub_55833( l_U1260[5], -7.80146000, 7.00067000, 28.65191000, 3, 4, -1082130432, 3 );
     /* P_TETHERPED */ sub_39039( ref l_U1257, l_U1260[5], 1 );
     /* P_TETHERPED */ sub_39039( ref l_U1258, l_U1260[5], 1 );
    return;
}

/* PED_TASK_ATTACK_MOVE */ void sub_55833(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7)
{
    if ( /* IS_PED_VALID */ sub_13941( uParam0 ))
    {
        CLEAR_PED_TASKS_IMMEDIATELY( uParam0 );
        TASK_ATTACK_MOVE( uParam0, uParam1, uParam4, uParam5, uParam6, uParam7 );
    }
    return;
}

/* P_5TH_REINFORCEMENT_OFF_RAMP */ void sub_56045()
{
    if (NOT l_U1353)
    {
        if (NOT ( /* F_ISPEDINTRIGGERREGION */ sub_56110( ref l_U1053, l_U1260[4], 0 )))
        {
             /* WRITESCRIPTLOG */ sub_675( "SBA", "P_5TH_REINFORCEMENT_OFF_RAMP: pi5thFloor[4] off ramp", "***" );
            SET_PED_SEEING_RANGE( l_U1260[4], 60, 75 );
            SET_PED_HEARING_RANGE( l_U1260[4], 60 );
            SET_PED_ID_RANGE( l_U1260[4], 20 );
             /* P_QUICK_ADD_PED_TO_GROUP */ sub_31140( l_U1260[4], ref l_U1346 );
            l_U1353 = 1;
        }
    }
    if (NOT l_U1354)
    {
        if (NOT ( /* F_ISPEDINTRIGGERREGION */ sub_56110( ref l_U1053, l_U1260[5], 0 )))
        {
             /* WRITESCRIPTLOG */ sub_675( "SBA", "P_5TH_REINFORCEMENT_OFF_RAMP: pi5thFloor[5] off ramp", "***" );
            SET_PED_SEEING_RANGE( l_U1260[5], 60, 75 );
            SET_PED_HEARING_RANGE( l_U1260[5], 60 );
            SET_PED_ID_RANGE( l_U1260[5], 20 );
             /* P_QUICK_ADD_PED_TO_GROUP */ sub_31140( l_U1260[5], ref l_U1346 );
            l_U1354 = 1;
        }
    }
    return;
}

/* F_ISPEDINTRIGGERREGION */ void sub_56110(int iParam0, unknown uParam1, unknown uParam2)
{
    int Result;
    int I;
    int J;

    Result = 0;
    if (NOT (IS_PED_DEAD( uParam1 )))
    {
        for ( I = 0; I < iParam0->_fU508; I++ )
        {
            if ( /* F_ISPEDINTRIGGERBOX */ sub_22353( uParam1, iParam0->_fU0[I] ))
            {
                Result = 1;
            }
        }
    }
    if ((uParam2) AND (Result))
    {
        for ( J = 0; J < iParam0->_fU508; J++ )
        {
            GAMEPLAY_HELPER_BOX_SET_ENABLED( ref iParam0->_fU0[J]._fU0, 0 );
        }
    }
    iParam0->_fU552 = 1;
    return Result;
}

/* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ void sub_56651(unknown uParam0)
{
    int Result;
    int I;
    int iVar5;

    Result = 0;
    iVar5 = (uParam0^) - 1;
    for ( I = 0; I <= iVar5; I++ )
    {
        if (NOT (IS_PED_DEAD( (uParam0^)[I] )))
        {
            Result++;
        }
    }
    return Result;
}

/* F_ASSIGN_BULLET_CAM_TO_LAST_LIVING_PED */ void sub_56820(unknown uParam0)
{
    int I;

    if (( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_56651( uParam0 )) == 1)
    {
        for ( I = 0; I <= ((uParam0^) - 1); I++ )
        {
            if (NOT (IS_PED_DEAD( (uParam0^)[I] )))
            {
                if (NOT (GET_PED_CAN_TRIGGER_BULLET_CAM( (uParam0^)[I] )))
                {
                    SET_PED_CAN_TRIGGER_BULLET_CAM( (uParam0^)[I], 1 );
                    return (uParam0^)[I];
                }
            }
        }
    }
    return nil;
}

/* TAKE_PAINKILLER_ARRAY_SNAPSHOT */ void sub_57121(unknown uParam0, unknown uParam1)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        if (DOES_PLACEMENT_EXIST( (uParam0^)[I] ))
        {
             /* WRITESCRIPTLOG */ sub_675( "RJM", "DO_ANY_PAINKILLERS_STILL_EXIST - Found a pill in there, we can still play some V.O.", 0 );
            (uParam1^)[I] = 1;
        }
        else
        {
            (uParam1^)[I] = 0;
        }
    }
    return;
}

/* UPDATE_PILL_VO */ int sub_57386(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    if ((IS_PLAYER_DEAD(  /* PLAYER_ID */ sub_1115() )) == 0)
    {
        if (( /* IS_ANY_SPEECH_CURRENTLY_PLAYING */ sub_57432()) == 0)
        {
            for ( I = 0; I <= ((uParam1^) - 1); I++ )
            {
                if ((uParam2^)[I])
                {
                    if ((HAS_PLACEMENT_BEEN_COLLECTED( (uParam1^)[I] )) || (NOT (DOES_PLACEMENT_EXIST( (uParam1^)[I] ))))
                    {
                        (uParam2^)[I] = 0;
                        if (TIME_SINCE_LAST_MONOLOGUE() > 5000)
                        {
                             /* RESET_SCRIPT_SPEECH_STRUCT */ sub_24978( ref l_U190 );
                             /* P_SPEECH_PLAY_MAX_MONOLOGUE */ sub_24879( uParam0, ref l_U190 );
                            return 1;
                        }
                    }
                }
            }
        }
    }
    return 0;
}

/* IS_ANY_SPEECH_CURRENTLY_PLAYING */ void sub_57432()
{
    int Result;
    int I;

    Result = 0;
    for ( I = 0; I <= 3; I++ )
    {
        Result = (IS_SCRIPTED_CONVERSATION_ONGOING( I )) || (Result);
    }
    return Result;
}

/* F_ISPLAYERINTRIGGERBOX */ void sub_57795(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20)
{
    return  /* F_ISPEDINTRIGGERBOX */ sub_22353(  /* PLAYER_PED_ID */ sub_1077(), uParam0 );
}

/* P_RESET_5TH_BULLET_CAM */ void sub_57929()
{
    if (( /* F_GET_NUM_LIVING_PEDS_IN_ARRAY */ sub_56651( ref l_U1260 )) > 0)
    {
         /* WRITESCRIPTLOG */ sub_675( "SBA", "P_RESET_5TH_BULLET_CAM: removing bullet cam...", "***" );
         /* P_REMOVE_BULLET_CAM_FROM_PED_ARRAY */ sub_58050( ref l_U1260 );
    }
    return;
}

/* P_REMOVE_BULLET_CAM_FROM_PED_ARRAY */ void sub_58050(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
        if (NOT (IS_PED_DEAD( (uParam0^)[I] )))
        {
            SET_PED_CAN_TRIGGER_BULLET_CAM( (uParam0^)[I], 0 );
            PRINTSTRING( "CLEARING BULLET CAM FROM PED:" );
             /* WRITE_INT */ sub_6567( I );
        }
    }
    return;
}

/* DISABLETIMER */ void sub_58228(int iParam0)
{
    iParam0->_fU20 = 0;
    iParam0->_fU16 = 0;
    return;
}

/* P_HANDLE_5TH_DAWDLE_MONOLOGUE */ void sub_58279()
{
    if (NOT ( /* IS_ANY_SPEECH_CURRENTLY_PLAYING */ sub_57432()))
    {
        if ( /* ISTIMERDONE */ sub_9911( ref l_U515 ))
        {
             /* P_SPEECH_PLAY_MAX_MONOLOGUE */ sub_24879( "SHOT_MXDWDL5", ref l_U465 );
        }
    }
    return;
}

/* REGISTER_PEDS_MID_04_F1 */ void sub_58547(unknown uParam0)
{
     /* WRITESCRIPTLOG */ sub_675( "BSW", "REGISTER_PEDS_MID_04_F1", "***" );
    if ( /* IS_MAX_VALID */ sub_13911())
    {
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_1077(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_1077(), 0, 0 ), "W_SR_SG1_Aa_H", 0 );
        CUTSCENE_REGISTER_PED_TELEPORT(  /* PLAYER_PED_ID */ sub_1077(), g_U1020[9], g_U1123[9] );
        CUTSCENE_REGISTER_SET_PLAYER_IN_COVER( "GenCover", "98F68FD2_32E6F263_Popover2", 1, 0 );
        CUTSCENE_SET_COVER_CAMERA_DIRECTION( g_U1158[9], g_U1193[9] );
    }
    if ( /* IS_PED_VALID */ sub_13941( uParam0 ))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( uParam0, "H_Crac_Sold_C", 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( uParam0, "/Global/PLGE/PLGE_Root/VIGNETTE_EXIT/PLGE_VIGNETTE_EXECUTE_EXIT" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( uParam0, 0, 0 ), "W_SR_M82_Aa_H", 0 );
        CUTSCENE_REGISTER_PED_TELEPORT( uParam0, -45.56521000, 28.51978000, 42.53452000, 280.00000000 );
    }
    return;
}

/* PLAY_HOTEL_MID_04_F1 */ void sub_59038(boolean bParam0, boolean bParam1, unknown uParam2)
{
    int Result;

    Result = 0;
    if (IS_STRING_NULL( uParam2 ))
    {
        uParam2 = l_U1830;
    }
    switch (l_U1829)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_675( "BSW", "PLAY_HOTEL_MID_04_F1 start", "*****" );
         /* LOADSEAMLESSCUTSCENE */ sub_29043( uParam2, 1 );
         /* NIS_PRE_SETUP */ sub_24294( 1, 0, 0, 1 );
        if (NOT bParam0)
        {
             /* LOAD_MID_04_F1_ASSETS */ sub_59228();
             /* REGISTER_PEDS_MID_04_F1 */ sub_58547( l_U1893 );
        }
        l_U1829 = 2;
        break;
        case 2:
        if (bParam1)
        {
            START_CUTSCENE_CAPTURE( uParam2 );
        }
        START_SEAMLESS_CUTSCENE();
        l_U1829 = 3;
        break;
        case 3:
         /* PREPARE_MAX_WEAPONS_FOR_SNIPER_GAMEPLAY */ sub_41650();
         /* P_SET_PLAYER_WEAPONS_VISIBLE */ sub_59383( 0 );
        l_U1829 = 4;
        break;
        case 4:
        if (HAS_CUTSCENE_FINISHED())
        {
             /* P_SET_PLAYER_WEAPONS_VISIBLE */ sub_59383( 1 );
            l_U1829 = 5;
        }
        else if ((l_U202 == 6) AND (GET_CUTSCENE_TIME_MS() > 2591))
        {
            l_U203 = 6;
        }
        break;
        case 5:
        if (bParam1)
        {
            STOP_CUTSCENE_CAPTURE();
        }
        Result = 1;
        if (NOT bParam0)
        {
             /* UNLOAD_MID_04_F1_ASSETS */ sub_59752();
             /* NIS_POST_SETUP */ sub_26754( 1, 1 );
        }
        l_U1829 = 0;
         /* WRITESCRIPTLOG */ sub_675( "BSW", "PLAY_HOTEL_MID_04_F1 end", "*****" );
        break;
        case 0:
        l_U1829 = 1;
        break;
    }
    return Result;
}

/* LOAD_MID_04_F1_ASSETS */ void sub_59228()
{
     /* WRITESCRIPTLOG */ sub_675( "BSW", "LOAD_MID_04_F1_ASSETS", "***" );
     /* LOADMODEL */ sub_28176( 928600325, 1 );
    return;
}

/* P_SET_PLAYER_WEAPONS_VISIBLE */ void sub_59383(unknown uParam0)
{
    unknown uVar3;

    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )))
    {
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_1077(), 0, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
            SET_WEAPON_VISIBLE( uVar3, uParam0 );
        }
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_1077(), 1, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
            SET_WEAPON_VISIBLE( uVar3, uParam0 );
        }
        uVar3 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_1077(), 0 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
            SET_WEAPON_VISIBLE( uVar3, uParam0 );
        }
        uVar3 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_1077(), 1 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
            SET_WEAPON_VISIBLE( uVar3, uParam0 );
        }
        uVar3 = GET_WEAPON_FROM_HOLSTER(  /* PLAYER_PED_ID */ sub_1077(), 2 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
            SET_WEAPON_VISIBLE( uVar3, uParam0 );
        }
    }
    return;
}

/* UNLOAD_MID_04_F1_ASSETS */ void sub_59752()
{
     /* WRITESCRIPTLOG */ sub_675( "BSW", "UNLOAD_MID_04_F1_ASSETS", "***" );
     /* UNLOADMODEL */ sub_47693( 928600325 );
    return;
}

/* P_CREATE_OTHER_BLDG_SHOOTERS */ void sub_60123()
{
     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_CREATE_OTHER_BLDG_SHOOTERS", "***" );
     /* PED_ARRAY_INITIALIZE */ sub_29787( ref l_U1768, ref l_U1764, ref l_U1808, -1013714740, 1.00000000, "AIT_NORMAL", 0, 0, 25000, 2, 0, 25000, 0 );
     /* GIVE_DEBUG_NAMES_TO_PEDS_IN_ARRAY */ sub_32222( ref l_U1764, "OtherBldgShooters" );
     /* PED_ARRAY_SET_COMBAT_MOVEMENT */ sub_60297( ref l_U1764, 0 );
    return;
}

/* PED_ARRAY_SET_COMBAT_MOVEMENT */ void sub_60297(unknown uParam0, unknown uParam1)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
         /* PED_SET_COMBAT_MOVEMENT */ sub_41223( ref (uParam0^)[I], uParam1 );
    }
    return;
}

/* SB_SETDUCKDELAY */ void sub_60583(int iParam0, unknown uParam1)
{
    iParam0->_fU92 = uParam1;
    return;
}

/* P_DEPLOY_OTHER_BLDG_SHOOTERS */ void sub_60642()
{
     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_DEPLOY_OTHER_BLDG_SHOOTERS", "***" );
     /* P_SEND_IN_OTHER_BLDG_SHOOTER */ sub_60758( l_U1764[0], -40.50000000, 32.70000000, 35.56000000, 1000 );
     /* P_SEND_IN_OTHER_BLDG_SHOOTER */ sub_60758( l_U1764[1], -40.50000000, 33.41000000, 42.61000000, 7000 );
     /* P_SEND_IN_OTHER_BLDG_SHOOTER */ sub_60758( l_U1764[2], -40.60000000, 48.79000000, 42.61000000, 11000 );
    return;
}

/* P_SEND_IN_OTHER_BLDG_SHOOTER */ void sub_60758(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    unknown uVar7;

     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_SEND_IN_OTHER_BLDG_SHOOTER", "***" );
    if ( /* IS_PED_VALID */ sub_13941( uParam0 ))
    {
        OPEN_SEQUENCE_TASK( ref uVar7 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
        TASK_PAUSE( 0, uParam4 );
        TASK_FOLLOW_NAV_MESH_TO_COORD( 0, uParam1, 3, -1, 0.50000000, 0, 1.50000000 );
        TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 0 );
        CLOSE_SEQUENCE_TASK( uVar7 );
        CLEAR_PED_TASKS( uParam0 );
        TASK_PERFORM_SEQUENCE( uParam0, uVar7 );
        CLEAR_SEQUENCE_TASK( uVar7 );
    }
    return;
}

/* P_PROCESS_OTHER_BLDG_SHOOTERS_ARRIVAL */ void sub_61037()
{
    int I;

    for ( I = 0; I <= 2; I++ )
    {
        if (NOT l_U1815[I])
        {
            if ( /* F_ISPEDINVARIANTBOX */ sub_61132( l_U1764[I], l_U1819[I] ))
            {
                 /* WRITESCRIPTLOG */ sub_675( "SBA", "P_PROCESS_OTHER_BLDG_SHOOTERS_ARRIVAL", ":" );
                 /* WRITE_INT */ sub_6567( I );
                 /* P_TETHERPEDINVARIANTBOX */ sub_61290( ref l_U1819[I], l_U1764[I], 1 );
                 /* PED_SET_COMBAT_MOVEMENT */ sub_41223( ref l_U1764[I], 2 );
                 /* PED_SET_REGISTER_TARGET_PLAYER */ sub_55071( ref l_U1764[I] );
                SET_PED_FLAG_BLOCK_BLINDFIRE_IN_COVER( l_U1764[I], 1 );
                if (I == 0)
                {
                    SET_PED_COMBAT_ATTRIBUTES( l_U1764[I], 1, 0 );
                }
                l_U1815[I] = 1;
            }
        }
    }
    return;
}

/* F_ISPEDINVARIANTBOX */ int sub_61132(unknown uParam0, unknown uParam1)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        return IS_PED_IN_GAMEPLAY_HELPER_BOX( uParam0, uParam1._fU0 );
    }
    return 0;
}

/* P_TETHERPEDINVARIANTBOX */ void sub_61290(int iParam0, unknown uParam1, unknown uParam2)
{
    if (((IS_PED_DEAD( uParam1 )) == 0) AND ((DOES_PED_EXIST( uParam1 )) == 1))
    {
        SET_PED_TETHERING_ADD_BOX( uParam1, iParam0->_fU0 );
        SET_PED_TETHERING_OPTION( uParam1, uParam2 );
    }
    return;
}

/* UPDATE_SNIPER_FIGHT */ void sub_61729()
{
    int Result;
    int iVar3;

    Result = 0;
    switch (l_U200)
    {
        case 0:
        iVar3 =  /* GET_LAST_LIVING_SHOOTER */ sub_61792();
        if ( /* IS_PED_VALID */ sub_13941( iVar3 ))
        {
            if (NOT (GET_PED_CAN_TRIGGER_BULLET_CAM( iVar3 )))
            {
                 /* WRITESCRIPTLOG */ sub_675( "SBA", "UPDATE_SNIPER_FIGHT: last enemy - assigning bullet cam.", 0 );
                SET_PED_CAN_TRIGGER_BULLET_CAM( iVar3, 1 );
                if (iVar3 == l_U1678._fU0)
                {
                     /* WRITESCRIPTLOG */ sub_675( "SBA", "UPDATE_SNIPER_FIGHT: It's the LOWER Sniper.", 0 );
                    SET_BULLET_CAM_PREF( iVar3, "PIST_CUSTOM_HOTEL_SNIPER_01", "PIST_CUSTOM_HOTEL_SNIPER_01", "PIST_CUSTOM_HOTEL_SNIPER_01", "", 0, 0, 0, 0, 0, 0, 0, 0 );
                }
                else
                {
                     /* WRITESCRIPTLOG */ sub_675( "SBA", "UPDATE_SNIPER_FIGHT: It's the UPPER Sniper.", 0 );
                    SET_BULLET_CAM_PREF( iVar3, "PIST_CUSTOM_HOTEL_SNIPER_01", "PIST_CUSTOM_HOTEL_SNIPER_01", "PIST_CUSTOM_HOTEL_SNIPER_01", "", 0, 0, 0, 0, 0, 0, 0, 0 );
                }
            }
        }
        if (( /* GET_NUM_LIVING_SHOOTERS */ sub_62399()) == 0)
        {
            if (NOT (IS_BULLET_CAMERA_RUNNING( 0 )))
            {
                if ( /* IS_MAX_VALID */ sub_13911())
                {
                    SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_1115(), 1, 0 );
                }
                l_U203 = 8;
                 /* WRITESCRIPTLOG */ sub_675( "SBA", "UPDATE_SNIPER_FIGHT: Going to esfFinished.", 0 );
                l_U200 = 2;
            }
            else if (NOT l_U1763)
            {
                 /* TOGGLE_SNIPER_BLOCKERS_VISIBILITY */ sub_62631( 0 );
                if ( /* IS_MAX_AIMING_WITH_SNIPER_RIFLE */ sub_62808())
                {
                    if ( /* IS_MAX_VALID */ sub_13911())
                    {
                         /* WRITESCRIPTLOG */ sub_675( "SBA", "UPDATE_SNIPER_FIGHT: Clearing aim.", 0 );
                        SET_PLAYER_CONTROL(  /* PLAYER_ID */ sub_1115(), 0, 0 );
                        l_U1763 = 1;
                    }
                }
            }
        }
        break;
        case 2:
        Result = 1;
        break;
    }
    return Result;
}

/* GET_LAST_LIVING_SHOOTER */ void sub_61792()
{
    int iVar2;
    unknown Result;

    iVar2 = 0;
    Result = nil;
    if (NOT (IS_PED_DEAD( l_U1604._fU0 )))
    {
        iVar2++;
        Result = l_U1604._fU0;
    }
    if (NOT (IS_PED_DEAD( l_U1678._fU0 )))
    {
        iVar2++;
        Result = l_U1678._fU0;
    }
    if (iVar2 == 1)
    {
        return Result;
        break;
    }
    return nil;
}

/* GET_NUM_LIVING_SHOOTERS */ void sub_62399()
{
    int Result;

    Result = 0;
    if (NOT (IS_PED_DEAD( l_U1604._fU0 )))
    {
        Result++;
    }
    if (NOT (IS_PED_DEAD( l_U1678._fU0 )))
    {
        Result++;
    }
    return Result;
}

/* TOGGLE_SNIPER_BLOCKERS_VISIBILITY */ void sub_62631(boolean bParam0)
{
    if (l_U1603 == bParam0)
    {
         /* WRITESCRIPTLOG */ sub_675( "SBA", "TOGGLE_SNIPER_BLOCKERS_VISIBILITY", "***" );
         /* WRITE_BOOL */ sub_14553( bParam0 );
        SET_OBJECT_VISIBLE( l_U1599, bParam0 );
        SET_OBJECT_VISIBLE( l_U1600, bParam0 );
        SET_OBJECT_VISIBLE( l_U1601, bParam0 );
        l_U1603 = NOT bParam0;
    }
    return;
}

/* IS_MAX_AIMING_WITH_SNIPER_RIFLE */ void sub_62808()
{
    return IS_SNIPER_SCOPE_VISIBLE();
}

/* P_LONE_WOLF_REMAINING_5TH_FLOOR_ENEMIES */ void sub_62991()
{
    int I;

     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_LONE_WOLF_REMAINING_5TH_FLOOR_ENEMIES", "***" );
    if (DOES_GROUP_EXIST( l_U1346._fU0 ))
    {
        PEDGROUPTASK_DESTROY( l_U1346._fU0, l_U1823 );
    }
     /* P_REMOVE_TETHERS_FROM_PED_ARRAY */ sub_63144( ref l_U1260 );
     /* PED_ARRAY_TASK_COMBAT_PLAYER */ sub_63315( ref l_U1260 );
    for ( I = 0; I <= (l_U1260 - 1); I++ )
    {
        if ( /* IS_PED_VALID */ sub_13941( l_U1260[I] ))
        {
            SET_PED_COMBAT_ATTRIBUTES( l_U1260[I], 8192, 1 );
        }
    }
    return;
}

/* P_REMOVE_TETHERS_FROM_PED_ARRAY */ void sub_63144(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
         /* P_REMOVEALLTETHERSFROMPED */ sub_63209( (uParam0^)[I] );
    }
    return;
}

/* P_REMOVEALLTETHERSFROMPED */ void sub_63209(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        RESET_PED_TETHERING( uParam0 );
    }
    return;
}

/* PED_ARRAY_TASK_COMBAT_PLAYER */ void sub_63315(unknown uParam0)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
         /* PED_TASK_COMBAT_PLAYER */ sub_54969( (uParam0^)[I], 1 );
    }
    return;
}

/* P_CREATE_6TH_FLOOR_ENEMIES */ void sub_63480()
{
    int I;
    unknown uVar3;

     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_CREATE_6TH_FLOOR_ENEMIES", "***" );
     /* PED_ARRAY_INITIALIZE */ sub_29787( ref l_U1396, ref l_U1391, ref l_U1467, -1013714740, 1.00000000, "AIT_EXPERT", 0, 0, 25000, 2, -612753081, 25000, "6th_Floor" );
    if ( /* IS_PED_VALID */ sub_13941( l_U1391[2] ))
    {
        REMOVE_ALL_PED_WEAPONS( l_U1391[2] );
         /* F_GIVEPEDWEAPON */ sub_3663( l_U1391[2], 514118749, 25000, 0, 0 );
    }
    l_U1824 = PEDGROUPTASK_ADVANCE_CREATE( l_U1467._fU0 );
    for ( I = 0; I <= (l_U1391 - 1); I++ )
    {
        if ( /* IS_PED_VALID */ sub_13941( l_U1391[I] ))
        {
            PEDGROUPTASK_ADVANCE_ASSIGNPED( l_U1467._fU0, l_U1824, l_U1391[I] );
             /* PED_SET_ALERTNESS */ sub_38926( ref l_U1391[I], 3 );
            if (I == 3)
            {
                uVar3 =  /* F_GIVEPEDWEAPON */ sub_3663( l_U1391[I], -1013714740, 25000, 0, 0 );
                ENABLE_WEAPON_ATTACHMENT( uVar3, 14, 1 );
                TOGGLE_WEAPON_ATTACHMENT( uVar3, 14, 1 );
                SET_WEAPON_LIGHT_DATA_BY_NAME( uVar3, "Flashlight_Hotel" );
            }
        }
    }
    if ( /* IS_MAX_VALID */ sub_13911())
    {
        PEDGROUPTASK_ADVANCE_SETTARGET_PED( l_U1467._fU0, l_U1824,  /* PLAYER_PED_ID */ sub_1077() );
    }
    PEDGROUPTASK_ADVANCE_SETTIMETOHIDE( l_U1467._fU0, l_U1824, 2.00000000 );
    PEDGROUPTASK_ADVANCE_SETTIMETOIDLE( l_U1467._fU0, l_U1824, 3.00000000 );
    PEDGROUPTASK_ADVANCE_SETTIMERANGEFORALLPEDSTOSTARTFIRING( l_U1467._fU0, l_U1824, 1.50000000 );
    PEDGROUPTASK_ADVANCE_SETADVANCEDISTANCE( l_U1467._fU0, l_U1824, 2.00000000 );
    PEDGROUPTASK_ADVANCE_SETNUMPEDSTOADVANCE( l_U1467._fU0, l_U1824, 4 );
     /* P_DEACTIVATEPEDARRAY */ sub_64036( ref l_U1391 );
    return;
}

/* P_DEACTIVATEPEDARRAY */ void sub_64036(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
         /* P_DEACTIVATEPED */ sub_33308( (uParam0^)[I] );
    }
    return;
}

/* F_ISPLAYERINTRIGGERBOXFIRSTTIME */ void sub_64314(int iParam0, unknown uParam1)
{
    if (iParam0->_fU64 == 1)
    {
        return 0;
    }
    else
    {
        iParam0->_fU64 =  /* F_ISPEDINTRIGGERBOX */ sub_22353(  /* PLAYER_PED_ID */ sub_1077(), (iParam0^) );
        if ((iParam0->_fU64) AND (uParam1))
        {
            GAMEPLAY_HELPER_BOX_SET_ENABLED( iParam0 + 0, 0 );
        }
    }
    return iParam0->_fU64;
}

/* P_6TH_FLOOR_ENEMIES_ATTACK */ void sub_64488()
{
    int I;
    vector vVar3;

     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_6TH_FLOOR_ENEMIES_ATTACK", "***" );
     /* P_ACTIVATEPEDARRAY */ sub_64577( ref l_U1391 );
    for ( I = 0; I <= (l_U1391 - 1); I++ )
    {
        if (( /* IS_MAX_VALID */ sub_13911()) AND ( /* IS_PED_VALID */ sub_13941( l_U1391[I] )))
        {
            REGISTER_TARGET( l_U1391[I],  /* PLAYER_PED_ID */ sub_1077() );
            CLEAR_PED_TASKS( l_U1391[I] );
            SET_PED_PATH_CAN_USE_CLIMBOVERS( l_U1391[I], 1 );
            if (I == 0)
            {
                vVar3 = {-9.60213700, 24.89864000, 33.50064000};
            }
            else if (I == 1)
            {
                vVar3 = {13.18882000, 19.46395000, 33.45340000};
            }
            else if (I == 2)
            {
                vVar3 = {5.89071500, 17.96693000, 33.45291000};
            }
            else
            {
                vVar3 = {-3.26641000, 23.72162000, 33.45189000};
            };;;
            TASK_ATTACK_MOVE( l_U1391[I], vVar3, 7.00000000, 1101004800, -1082130432, 3 );
        }
    }
    PEDGROUPTASK_ADVANCE_TRIGGER_MOVE( l_U1467._fU0, l_U1824 );
    return;
}

/* P_ACTIVATEPEDARRAY */ void sub_64577(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
         /* P_ACTIVATEPED */ sub_33437( (uParam0^)[I] );
    }
    return;
}

/* F_ISPLAYERINTRIGGERREGION */ void sub_64977(int iParam0, unknown uParam1)
{
    int Result;
    int I;
    int J;

    Result = 0;
    if (NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )))
    {
        for ( I = 0; I < iParam0->_fU508; I++ )
        {
            if ( /* F_ISPLAYERINTRIGGERBOX */ sub_57795( iParam0->_fU0[I] ))
            {
                Result = 1;
            }
        }
    }
    if ((uParam1) AND (Result))
    {
        for ( J = 0; J < iParam0->_fU508; J++ )
        {
            GAMEPLAY_HELPER_BOX_SET_ENABLED( ref iParam0->_fU0[J]._fU0, 0 );
        }
    }
    iParam0->_fU548 = 1;
    return Result;
}

/* P_CREATE_ENEMIES_GOING_TO_THE_HOLE */ void sub_65211()
{
     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_CREATE_ENEMIES_GOING_TO_THE_HOLE", "***" );
     /* PED_ARRAY_INITIALIZE */ sub_29787( ref l_U1358, ref l_U1355, ref l_U1385, -1013714740, 1.00000000, "AIT_NORMAL", 0, 2, 25000, 2, -612753081, 25000, "GoingToTheHole" );
     /* PED_TASK_ATTACK_MOVE */ sub_55833( l_U1355[0], -6.06872400, 4.56076400, 28.65191000, 5, 30, -1082130432, 3 );
     /* PED_TASK_ATTACK_MOVE */ sub_55833( l_U1355[1], -7.80146000, 7.00067000, 28.65191000, 5, 30, -1082130432, 3 );
     /* PED_ARRAY_SET_REGISTER_TARGET_PLAYER */ sub_65465( ref l_U1355 );
    return;
}

/* PED_ARRAY_SET_REGISTER_TARGET_PLAYER */ void sub_65465(unknown uParam0)
{
     /* PED_ARRAY_SET_REGISTER_TARGET */ sub_65521( uParam0,  /* PLAYER_PED_ID */ sub_1077() );
    return;
}

/* PED_ARRAY_SET_REGISTER_TARGET */ void sub_65521(unknown uParam0, unknown uParam1)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        if ( /* IS_PED_VALID */ sub_13941( (uParam0^)[I] ))
        {
             /* PED_SET_REGISTER_TARGET */ sub_55140( ref (uParam0^)[I], uParam1 );
        }
    }
    return;
}

/* P_CREATE_6TH_FLOOR_REINFORCMENTS */ void sub_65785()
{
     /* WRITESCRIPTLOG */ sub_675( "BSW", "P_CREATE_6TH_FLOOR_REINFORCMENTS start", 0 );
    l_U859 = 1;
    if (( /* F_ISPLAYERINTRIGGERBOX */ sub_57795( l_U1215 )) || (IS_SPHERE_VISIBLE( l_U1487[0]._fU0, 5.00000000, 0 )))
    {
         /* WRITESCRIPTLOG */ sub_675( "BSW", "P_CREATE_6TH_FLOOR_REINFORCMENTS - default position is visible, move them upstairs", 0 );
        l_U1487[0]._fU0 = {23.75428000, 40.10096000, 33.45186000};
        l_U1487[1]._fU0 = {22.60034000, 42.33077000, 33.45186000};
        l_U1487[2]._fU0 = {24.16026000, 43.18258000, 33.45186000};
    }
     /* PED_ARRAY_INITIALIZE */ sub_29787( ref l_U1487, ref l_U1483, ref l_U1467, -1013714740, 1.00000000, "AIT_EXPERT", 0, 0, 25000, 2, -612753081, 25000, "6th_Floor_R1" );
    return;
}

/* P_TASK_6TH_FLOOR_REINFORCEMENTS */ void sub_66186(unknown uParam0)
{
    int I;

     /* WRITESCRIPTLOG */ sub_675( "BSW", "P_TASK_6TH_FLOOR_REINFORCEMENTS start", 0 );
     /* PED_ARRAY_TASK_COMBAT_PLAYER */ sub_63315( uParam0 );
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        if ( /* IS_PED_VALID */ sub_13941( (uParam0^)[I] ))
        {
            TASK_ATTACK_MOVE( (uParam0^)[I], 5.48635100, 19.59429000, 33.45305000, 6.00000000, 1101004800, -1082130432, 3 );
        }
    }
    return;
}

/* P_SPEECH_PLAY_MONOLOGUE */ void sub_66924(unknown uParam0, unknown uParam1)
{
     /* RESET_SCRIPT_SPEECH_STRUCT */ sub_24978( uParam1 );
     /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_25087( 0,  /* PLAYER_PED_ID */ sub_1077(), "MAX", uParam1, 2, 0 );
     /* ADD_PED_FOR_SCRIPT_SPEECH */ sub_25087( 1,  /* PLAYER_PED_ID */ sub_1077(), "MAX", uParam1, 2, 0 );
     /* PLAY_SINGLE_SPEECH */ sub_25340( uParam0, uParam1, 8, 1 );
    return;
}

/* F_GET_NUM_SIXTH_FLOOR_PILLARS_USED */ void sub_67201()
{
    int I;
    int Result;

    Result = 0;
    for ( I = 0; I < l_U553; I++ )
    {
        if (l_U553[I]._fU0._fU64)
        {
            Result++;
        }
    }
    return Result;
}

/* F_FIND_INDEX_OF_USED_PILLAR */ int sub_67323()
{
    int Result;

    for ( Result = 0; Result < l_U553; Result++ )
    {
        if ((NOT l_U553[Result]._fU392) AND (l_U553[Result]._fU0._fU64))
        {
            PRINTSTRING( "F_FIND_INDEX_OF_USED_PILLAR - found used pillar: " );
            PRINTINT( Result );
            PRINTNL();
            return Result;
        }
    }
    SCRIPT_ASSERT( "F_FIND_INDEX_OF_USED_PILLAR did not find an unused pillar!", 0 );
    return -1;
}

/* HANDLE_6TH_FLOOR_HURRY_UP_DIALOGUE */ void sub_67858()
{
    if (l_U542 < 3)
    {
        if (NOT ( /* F_ISPLAYERINTRIGGERREGION */ sub_64977( ref l_U1053, 0 )))
        {
            if ( /* ISTIMERDONE */ sub_9911( ref l_U533 ))
            {
                if (NOT ( /* IS_ANY_SPEECH_CURRENTLY_PLAYING */ sub_57432()))
                {
                    l_U542++;
                     /* WRITESCRIPTLOG */ sub_675( "SBA", "HANDLE_6th_FLOOR_HURRY_UP_DIALOGUE: Playing VO", 0 );
                     /* P_SPEECH_PLAY_MAX_MONOLOGUE */ sub_24879( "SHOT_MXTLNGP", ref l_U495 );
                     /* WRITE_INT */ sub_6567( l_U542 );
                    if (l_U542 < 3)
                    {
                         /* CREATETIMER */ sub_9628( ref l_U533, 25000, 1, 0 );
                         /* STARTTIMER */ sub_9778( ref l_U533 );
                    }
                }
                else
                {
                     /* WRITESCRIPTLOG */ sub_675( "SBA", "HANDLE_6th_FLOOR_HURRY_UP_DIALOGUE: VO already playing, starting rety timer", 0 );
                     /* CREATETIMER */ sub_9628( ref l_U533, 5000, 1, 0 );
                     /* STARTTIMER */ sub_9778( ref l_U533 );
                }
            }
        }
    }
    return;
}

/* PLAY_HOTEL_MID_09 */ void sub_68257(boolean bParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, boolean bParam11, unknown uParam12)
{
    int Result;
    int iVar16;

    Result = 0;
    if (IS_STRING_NULL( uParam12 ))
    {
        uParam12 = l_U327;
    }
    switch (l_U326)
    {
        case 1:
         /* WRITESCRIPTLOG */ sub_675( "RJM", "PLAY_HOTEL_MID_09 start", "*****" );
         /* LOADSEAMLESSCUTSCENE */ sub_29043( uParam12, 1 );
         /* NIS_PRE_SETUP */ sub_24294( 1, 0, 0, 1 );
        if (NOT bParam0)
        {
             /* BLOCKLOAD_MID_09_ASSETS */ sub_68445();
        }
         /* REGISTER_PEDS_MID_09 */ sub_68547( uParam1, uParam4 );
        l_U326 = 2;
        break;
        case 2:
        if (bParam11)
        {
            START_CUTSCENE_CAPTURE( uParam12 );
        }
        START_SEAMLESS_CUTSCENE();
        l_U326 = 3;
        break;
        case 3:
         /* P_PLAYER_HOLSTER_WEAPONS */ sub_34375( ref l_U328, 0, 1 );
         /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_46454( l_U328, 0 );
        if ( /* CAN_TOGGLE_BAG */ sub_46586())
        {
            PLAYER_ENABLE_COMPONENT( 11, 0 );
        }
        l_U326 = 4;
        break;
        case 4:
        if (HAS_CUTSCENE_FINISHED())
        {
            if ( /* CAN_TOGGLE_BAG */ sub_46586())
            {
                PLAYER_ENABLE_COMPONENT( 11, 1 );
            }
            SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0, 1065353216, 0 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0, 1065353216, 0 );
            g_U1004 = 1;
            l_U326 = 5;
        }
        else
        {
            iVar16 = GET_CUTSCENE_TIME_MS();
            if ((NOT g_U1004) AND (iVar16 > 6300))
            {
                 /* P_EQUIP_PLAYER_WITH_SINGLE_HANDED_WEAPON */ sub_68969( 1 );
                 /* P_SET_TWO_HANDED_WEAPON_VISIBLE */ sub_46454( l_U328, 1 );
                g_U1004 = 1;
            }
        }
        break;
        case 5:
        if (bParam11)
        {
            STOP_CUTSCENE_CAPTURE();
        }
        Result = 1;
        if (NOT bParam0)
        {
             /* UNLOAD_MID_09_ASSETS */ sub_69215();
        }
         /* NIS_POST_SETUP */ sub_26754( 1, 1 );
        CAMERA_FREEZE_FRAME( 1, 1000, 0, 0 );
        l_U326 = 0;
         /* WRITESCRIPTLOG */ sub_675( "RJM", "PLAY_HOTEL_MID_09 end", "*****" );
        break;
        case 0:
        l_U326 = 1;
        break;
    }
    return Result;
}

/* BLOCKLOAD_MID_09_ASSETS */ void sub_68445()
{
     /* WRITESCRIPTLOG */ sub_675( "RJM", "BLOCKLOAD_MID_09_ASSETS", "***" );
     /* BLOCKLOADMODEL */ sub_45342( 466468872 );
    return;
}

/* REGISTER_PEDS_MID_09 */ void sub_68547(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;

     /* WRITESCRIPTLOG */ sub_675( "RJM", "REGISTER_PEDS_MID_09", "***" );
    if ( /* IS_MAX_VALID */ sub_13911())
    {
        uVar6 = GET_WEAPON_FROM_SLOT(  /* PLAYER_PED_ID */ sub_1077(), 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE(  /* PLAYER_PED_ID */ sub_1077(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar6, "W_PI_Clt1911_Aa_H", 0 );
        CUTSCENE_REGISTER_PED_TELEPORT(  /* PLAYER_PED_ID */ sub_1077(), uParam0, uParam3 );
    }
    return;
}

/* P_EQUIP_PLAYER_WITH_SINGLE_HANDED_WEAPON */ void sub_68969(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() )) == 0)
    {
        iVar3 = 0;
        uVar4 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_1077(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar4 )) == 0)
        {
            iVar3 = 1;
        }
        if ((( /* IS_WEAPON_SINGLE_HANDED */ sub_34615( uVar4 )) == 0) AND ((GET_DOES_WEAPON_EXIST( uVar4 )) == 1))
        {
            iVar3 = 1;
        }
        if (iVar3 == 1)
        {
            uVar5 =  /* F_GET_SINGLE_HANDED_WEAPON_FROM_PLAYER */ sub_35435();
            if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
            {
                SELECT_WEAPON_TO_HAND(  /* PLAYER_PED_ID */ sub_1077(), uVar5, 0, uParam0 );
            }
        }
    }
    return;
}

/* UNLOAD_MID_09_ASSETS */ void sub_69215()
{
     /* WRITESCRIPTLOG */ sub_675( "RJM", "UNLOAD_MID_09_ASSETS", "***" );
     /* UNLOADMODEL */ sub_47693( 466468872 );
    return;
}

/* P_CREATE_6TH_FLOOR_REINFORCMENTS_WAVE2 */ void sub_69617()
{
     /* WRITESCRIPTLOG */ sub_675( "SBA", "P_CREATE_6TH_FLOOR_REINFORCMENTS_WAVE2 start", 0 );
     /* PED_ARRAY_INITIALIZE */ sub_29787( ref l_U1532, ref l_U1527, ref l_U1467, -1013714740, 1.00000000, "AIT_EXPERT", 0, 0, 25000, 2, -612753081, 25000, "6th_Floor_R2" );
    if ( /* IS_PED_VALID */ sub_13941( l_U1527[0] ))
    {
        SET_PED_SUGGESTED_COVER_POINT( l_U1527[0], "GenCover", "98F68FD2_D7A3F499_Corner2" );
    }
    if ( /* IS_PED_VALID */ sub_13941( l_U1527[1] ))
    {
        SET_PED_SUGGESTED_COVER_POINT( l_U1527[1], "GenCover", "98F68FD2_BAAF3AB4_Corner1" );
    }
    return;
}

/* P_TASK_6TH_FLOOR_REINFORCEMENTS2 */ void sub_69952(unknown uParam0)
{
    int I;
    vector vVar4;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;

     /* WRITESCRIPTLOG */ sub_675( "BSW", "P_TASK_6TH_FLOOR_REINFORCEMENTS2 start", 0 );
     /* PED_ARRAY_TASK_COMBAT_PLAYER */ sub_63315( uParam0 );
    uVar7 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS(  /* PLAYER_PED_ID */ sub_1077() )};
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        if ( /* IS_PED_VALID */ sub_13941( (uParam0^)[I] ))
        {
            if (uVar7._fU4 < 15.00000000)
            {
                 /* WRITESCRIPTLOG */ sub_675( "SBA", "P_TASK_6TH_FLOOR_REINFORCEMENTS2: Player at far end", 0 );
                vVar4 = {GET_RANDOM_FLOAT_IN_RANGE( 5.50000000, 9.50000000 ), 19.00000000, 33.45305000};
            }
            else
            {
                 /* WRITESCRIPTLOG */ sub_675( "SBA", "P_TASK_6TH_FLOOR_REINFORCEMENTS2: Player at close end", 0 );
                if (I == 0)
                {
                    vVar4 = {16.54742000, 30.73744000, 33.45349000};
                }
                else if (I == 1)
                {
                    vVar4 = {9.43422900, 34.83167000, 33.45324000};
                }
                else if (I == 2)
                {
                    vVar4 = {11.74242000, 31.38112000, 33.45339000};
                }
                else
                {
                    vVar4 = {6.92909600, 23.87423000, 33.45339000};
                };;;
            }
            TASK_ATTACK_MOVE( (uParam0^)[I], vVar4, 6.00000000, 30, -1082130432, 3 );
        }
    }
    return;
}

/* P_UNLOAD_ASSETS */ void sub_71684()
{
    int I;

     /* WRITESCRIPTLOG */ sub_675( "MW", "P_UNLOAD_FIFTH_FLOOR_ASSETS start", 0 );
     /* UNLOADMODEL */ sub_47693( g_U852 );
     /* UNLOADMODEL */ sub_47693( g_U849 );
     /* UNLOADANIMDICT */ sub_71790( "EXPL_CAM" );
    for ( I = 0; I < l_U1990; I++ )
    {
         /* UNLOADMODEL */ sub_47693( l_U1990[I] );
    }
     /* UNLOADWEAPON */ sub_71881( 1224272620 );
     /* UNLOADWEAPON */ sub_71881( -110877124 );
     /* WRITESCRIPTLOG */ sub_675( "MW", "P_UNLOAD_FIFTH_FLOOR_ASSETS end", 0 );
    return;
}

/* UNLOADANIMDICT */ void sub_71790(unknown uParam0)
{
    REMOVE_ANIM_DICT( uParam0, 0 );
    return;
}

/* UNLOADWEAPON */ void sub_71881(unknown uParam0)
{
    SET_WEAPON_AS_NO_LONGER_NEEDED( uParam0 );
    return;
}

/* P_KILL_PED */ void sub_72396(unknown uParam0)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        STOP_PED_SPEAKING( uParam0, 1 );
        SET_PED_HEALTH( uParam0, 0, 0 );
        SET_PED_CORPSE( uParam0, 0 );
    }
    return;
}

/* SB_HANDLESNIPERBEHAVIOUR */ void sub_72549(int iParam0)
{
    if (NOT (IS_PED_DEAD( iParam0->_fU0 )))
    {
        switch (iParam0->_fU116)
        {
            case 0:
            if (NOT (( /* F_GET_SCRIPT_TASK_STATUS */ sub_72674( iParam0->_fU0, 37 )) == 1))
            {
                iParam0->_fU120 = 0;
                iParam0->_fU132 = 0;
                iParam0->_fU136 = 0;
                iParam0->_fU128 = 0;
                iParam0->_fU140 = 0;
                iParam0->_fU124 = 0;
                TASK_AIM_GUN_AT_COORD( iParam0->_fU0, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU0 ), -1, 1 );
            }
            break;
            case 2:
            if (iParam0->_fU128)
            {
                if (iParam0->_fU144 == 1)
                {
                    SET_PED_INVINCIBLE( iParam0->_fU0, 1 );
                    SET_PED_GORE( iParam0->_fU0, 0 );
                    SET_PED_CAN_BE_TARGETTED( iParam0->_fU0, 0 );
                    SET_PED_AS_ONE_SHOT_KILL( iParam0->_fU0, 0 );
                    iParam0->_fU144 = 0;
                     /* CREATETIMER */ sub_9628( iParam0 + 152, g_U723, 1, 0 );
                     /* STARTTIMER */ sub_9778( iParam0 + 152 );
                     /* RESETTIMER */ sub_10487( iParam0 + 188 );
                }
                 /* SB_SNIPERDUCKS */ sub_72977( iParam0 );
            }
            else if ( /* SB_ISMAXAIMINGATSNIPER */ sub_73024( iParam0 ))
            {
                 /* P_PROCESS_DUCK */ sub_73503( iParam0 );
            }
            else if (iParam0->_fU144 == 1)
            {
                 /* RESETTIMER */ sub_10487( iParam0 + 188 );
                SET_PED_INVINCIBLE( iParam0->_fU0, 1 );
                SET_PED_GORE( iParam0->_fU0, 0 );
                SET_PED_CAN_BE_TARGETTED( iParam0->_fU0, 0 );
                SET_PED_AS_ONE_SHOT_KILL( iParam0->_fU0, 0 );
                iParam0->_fU144 = 0;
            };;;
            if (iParam0->_fU128 == 0)
            {
                if (NOT iParam0->_fU124)
                {
                     /* SB_SNIPERAIMS */ sub_73864( iParam0 );
                }
                else if ( /* SB_ISMAXINCOVER */ sub_74174( (iParam0^) ))
                {
                     /* RESETTIMER */ sub_10487( iParam0 + 224 );
                     /* STARTTIMER */ sub_9778( iParam0 + 224 );
                     /* RESETTIMER */ sub_10487( iParam0 + 260 );
                     /* STARTTIMER */ sub_9778( iParam0 + 260 );
                }
                else if ((HAS_PED_CLEAR_LOS_TO_PED( iParam0->_fU0,  /* PLAYER_PED_ID */ sub_1077() )) AND (IS_CONTROL_PRESSED( 0, 6 )))
                {
                    if ( /* ISTIMERDONE */ sub_9911( iParam0 + 260 ))
                    {
                        iParam0->_fU124 = 0;
                        iParam0->_fU116 = 1;
                    }
                }
                else if (HAS_PED_CLEAR_LOS_TO_PED( iParam0->_fU0,  /* PLAYER_PED_ID */ sub_1077() ))
                {
                    if ( /* ISTIMERDONE */ sub_9911( iParam0 + 224 ))
                    {
                        iParam0->_fU124 = 0;
                        iParam0->_fU116 = 1;
                    }
                };;;;
            }
            break;
            case 1:
            if (iParam0->_fU128)
            {
                if (iParam0->_fU144 == 1)
                {
                    SET_PED_INVINCIBLE( iParam0->_fU0, 1 );
                    SET_PED_GORE( iParam0->_fU0, 0 );
                    SET_PED_CAN_BE_TARGETTED( iParam0->_fU0, 0 );
                    SET_PED_AS_ONE_SHOT_KILL( iParam0->_fU0, 0 );
                    iParam0->_fU144 = 0;
                     /* CREATETIMER */ sub_9628( iParam0 + 152, g_U723, 1, 0 );
                     /* STARTTIMER */ sub_9778( iParam0 + 152 );
                     /* RESETTIMER */ sub_10487( iParam0 + 188 );
                }
                 /* SB_SNIPERDUCKS */ sub_72977( iParam0 );
            }
            else if ( /* SB_ISMAXAIMINGATSNIPER */ sub_73024( iParam0 ))
            {
                 /* P_PROCESS_DUCK */ sub_73503( iParam0 );
            }
            else if (iParam0->_fU144 == 1)
            {
                 /* RESETTIMER */ sub_10487( iParam0 + 188 );
                SET_PED_INVINCIBLE( iParam0->_fU0, 1 );
                SET_PED_GORE( iParam0->_fU0, 0 );
                SET_PED_CAN_BE_TARGETTED( iParam0->_fU0, 0 );
                SET_PED_AS_ONE_SHOT_KILL( iParam0->_fU0, 0 );
                iParam0->_fU144 = 0;
            };;;
            if (iParam0->_fU128 == 0)
            {
                if ( /* SB_ISMAXINCOVER */ sub_74174( (iParam0^) ))
                {
                    iParam0->_fU120 = 0;
                    iParam0->_fU116 = 2;
                }
                else if (iParam0->_fU120 == 0)
                {
                     /* SB_SNIPERFIRES */ sub_74760( iParam0 );
                }
            }
            break;
            case 5:
            if (iParam0->_fU128)
            {
                if (iParam0->_fU144 == 1)
                {
                    SET_PED_INVINCIBLE( iParam0->_fU0, 1 );
                    SET_PED_GORE( iParam0->_fU0, 0 );
                    SET_PED_CAN_BE_TARGETTED( iParam0->_fU0, 0 );
                    SET_PED_AS_ONE_SHOT_KILL( iParam0->_fU0, 0 );
                    iParam0->_fU144 = 0;
                     /* CREATETIMER */ sub_9628( iParam0 + 152, g_U723, 1, 0 );
                     /* STARTTIMER */ sub_9778( iParam0 + 152 );
                     /* RESETTIMER */ sub_10487( iParam0 + 188 );
                }
                 /* SB_SNIPERDUCKS */ sub_72977( iParam0 );
            }
            else if ( /* SB_ISMAXAIMINGATSNIPER */ sub_73024( iParam0 ))
            {
                 /* P_PROCESS_DUCK */ sub_73503( iParam0 );
            }
            break;
            case 3:
            if (iParam0->_fU128)
            {
                if (iParam0->_fU144 == 1)
                {
                    SET_PED_INVINCIBLE( iParam0->_fU0, 1 );
                    SET_PED_GORE( iParam0->_fU0, 0 );
                    SET_PED_CAN_BE_TARGETTED( iParam0->_fU0, 0 );
                    SET_PED_AS_ONE_SHOT_KILL( iParam0->_fU0, 0 );
                    iParam0->_fU144 = 0;
                     /* CREATETIMER */ sub_9628( iParam0 + 152, g_U723, 1, 0 );
                     /* STARTTIMER */ sub_9778( iParam0 + 152 );
                     /* RESETTIMER */ sub_10487( iParam0 + 188 );
                }
                 /* SB_SNIPERDUCKS */ sub_72977( iParam0 );
            }
            else if ( /* SB_ISMAXAIMINGATSNIPER */ sub_73024( iParam0 ))
            {
                 /* P_PROCESS_DUCK */ sub_73503( iParam0 );
            }
            else if (iParam0->_fU144 == 1)
            {
                 /* RESETTIMER */ sub_10487( iParam0 + 188 );
                SET_PED_INVINCIBLE( iParam0->_fU0, 1 );
                SET_PED_GORE( iParam0->_fU0, 0 );
                SET_PED_CAN_BE_TARGETTED( iParam0->_fU0, 0 );
                SET_PED_AS_ONE_SHOT_KILL( iParam0->_fU0, 0 );
                iParam0->_fU144 = 0;
            };;;
            if (iParam0->_fU128 == 0)
            {
                if (NOT iParam0->_fU132)
                {
                     /* SB_SNIPERSEARCHES */ sub_75405( iParam0 );
                }
            }
            break;
            case 6:
            if (NOT iParam0->_fU140)
            {
                CLEAR_PED_TASKS( iParam0->_fU0 );
                PED_SET_ACTION_INTENTION( iParam0->_fU0, 47, -1, g_U657 );
                iParam0->_fU120 = 0;
                iParam0->_fU132 = 0;
                iParam0->_fU136 = 0;
                iParam0->_fU128 = 0;
                iParam0->_fU124 = 0;
                iParam0->_fU140 = 1;
            }
            break;
        }
    }
    return;
}

/* F_GET_SCRIPT_TASK_STATUS */ int sub_72674(unknown uParam0, unknown uParam1)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        return GET_SCRIPT_TASK_STATUS( uParam0, uParam1 );
    }
    return 0;
}

/* SB_SNIPERDUCKS */ void sub_72977(int iParam0)
{
    if (NOT (IS_PED_DEAD( iParam0->_fU0 )))
    {
        if ( /* SB_ISMAXAIMINGATSNIPER */ sub_73024( iParam0 ))
        {
             /* CREATETIMER */ sub_9628( iParam0 + 152, g_U723, 1, 0 );
             /* STARTTIMER */ sub_9778( iParam0 + 152 );
        }
        if (NOT iParam0->_fU128)
        {
             /* WRITESCRIPTLOG */ sub_675( "MW", "Sniper ducks", 0 );
            CLEAR_PED_TASKS( iParam0->_fU0 );
            PED_SET_ACTION_INTENTION( iParam0->_fU0, 47, -1, g_U657 );
            iParam0->_fU128 = 1;
            iParam0->_fU124 = 0;
            iParam0->_fU120 = 0;
            iParam0->_fU132 = 0;
            iParam0->_fU140 = 0;
        }
        else if ( /* ISTIMERDONE */ sub_9911( iParam0 + 152 ))
        {
             /* WRITESCRIPTLOG */ sub_675( "MSWW", "SniperBehaviour: Duck timer done", "###" );
            PED_SET_ACTION_INTENTION( iParam0->_fU0, 48, -1, g_U657 );
            iParam0->_fU128 = 0;
            iParam0->_fU140 = 0;
        }
    }
    return;
}

/* SB_ISMAXAIMINGATSNIPER */ int sub_73024(int iParam0)
{
    unknown uVar3;
    int iVar4;

    if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() ))) AND (NOT (IS_PED_DEAD( iParam0->_fU0 ))))
    {
        uVar3 = GET_WEAPON_FROM_HAND(  /* PLAYER_PED_ID */ sub_1077(), 0, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar3 ))
        {
            iVar4 = GET_WEAPON_TYPE( uVar3 );
            if ((IS_CONTROL_PRESSED( 0, 6 )) AND ((iVar4 == 10648147) || (iVar4 == 1224272620)))
            {
                if (IS_PED_IN_CROSSHAIR_CYLINDER( iParam0->_fU0, iParam0->_fU148, 1000, iParam0->_fU100, -1082130432 ))
                {
                    return 1;
                }
            }
        }
    }
    return 0;
}

/* P_PROCESS_DUCK */ void sub_73503(int iParam0)
{
    if (iParam0->_fU92 != 0)
    {
        if (iParam0->_fU144 == 0)
        {
             /* CREATETIMER */ sub_9628( iParam0 + 188, iParam0->_fU92, 1, 0 );
             /* STARTTIMER */ sub_9778( iParam0 + 188 );
            SET_PED_INVINCIBLE( iParam0->_fU0, 0 );
            SET_PED_GORE( iParam0->_fU0, 1 );
            SET_PED_CAN_BE_TARGETTED( iParam0->_fU0, 1 );
            SET_PED_AS_ONE_SHOT_KILL( iParam0->_fU0, 1 );
            iParam0->_fU144 = 1;
        }
        else if ( /* ISTIMERDONE */ sub_9911( iParam0 + 188 ))
        {
            SET_PED_INVINCIBLE( iParam0->_fU0, 1 );
            SET_PED_GORE( iParam0->_fU0, 0 );
            SET_PED_CAN_BE_TARGETTED( iParam0->_fU0, 0 );
            SET_PED_AS_ONE_SHOT_KILL( iParam0->_fU0, 0 );
            iParam0->_fU144 = 0;
             /* SB_SNIPERDUCKS */ sub_72977( iParam0 );
        }
    }
    return;
}

/* SB_SNIPERAIMS */ void sub_73864(int iParam0)
{
    if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() ))) AND (NOT (IS_PED_DEAD( iParam0->_fU0 ))))
    {
        if ((iParam0->_fU140) || (iParam0->_fU128))
        {
            PED_SET_ACTION_INTENTION( iParam0->_fU0, 48, 1000, g_U657 );
            iParam0->_fU128 = 0;
            iParam0->_fU140 = 0;
        }
        else
        {
            CLEAR_PED_TASKS( iParam0->_fU0 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( iParam0->_fU0, 0 );
            iParam0->_fU120 = 0;
            iParam0->_fU132 = 0;
            iParam0->_fU136 = 0;
            iParam0->_fU124 = 1;
            SET_PED_DEFAULT_AIM_AT_PED( iParam0->_fU0,  /* PLAYER_PED_ID */ sub_1077() );
            SET_PED_PERFECT_ACCURACY_OVERRIDE(  /* PLAYER_PED_ID */ sub_1077(), 0 );
            TASK_AIM_GUN_AT_PED( iParam0->_fU0,  /* PLAYER_PED_ID */ sub_1077(), -1, 0 );
             /* CREATETIMER */ sub_9628( iParam0 + 224, iParam0->_fU80, 1, 0 );
             /* STARTTIMER */ sub_9778( iParam0 + 224 );
             /* CREATETIMER */ sub_9628( iParam0 + 260, iParam0->_fU88, 1, 0 );
             /* STARTTIMER */ sub_9778( iParam0 + 260 );
        }
    }
    return;
}

/* SB_ISMAXINCOVER */ int sub_74174(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21, unknown uParam22, unknown uParam23, unknown uParam24, unknown uParam25, unknown uParam26, unknown uParam27, unknown uParam28, unknown uParam29, unknown uParam30, unknown uParam31, unknown uParam32, unknown uParam33, unknown uParam34, unknown uParam35, unknown uParam36, unknown uParam37, unknown uParam38, unknown uParam39, unknown uParam40, unknown uParam41, unknown uParam42, unknown uParam43, unknown uParam44, unknown uParam45, unknown uParam46, unknown uParam47, unknown uParam48, unknown uParam49, unknown uParam50, unknown uParam51, unknown uParam52, unknown uParam53, unknown uParam54, unknown uParam55, unknown uParam56, unknown uParam57, unknown uParam58, unknown uParam59, unknown uParam60, unknown uParam61, unknown uParam62, unknown uParam63, unknown uParam64, unknown uParam65, unknown uParam66, unknown uParam67, unknown uParam68, unknown uParam69, unknown uParam70, unknown uParam71, unknown uParam72, unknown uParam73)
{
    if (((HAS_PED_CLEAR_LOS_TO_PED( uParam0._fU0,  /* PLAYER_PED_ID */ sub_1077() )) AND (IS_CONTROL_PRESSED( 0, 6 ))) || (NOT (IS_TARGET_IN_VALID_COVER_FROM_PED( uParam0._fU0,  /* PLAYER_PED_ID */ sub_1077() ))))
    {
        return 0;
    }
    return 1;
}

/* SB_SNIPERFIRES */ void sub_74760(int iParam0)
{
    unknown uVar3;

    if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() ))) AND (NOT (IS_PED_DEAD( iParam0->_fU0 ))))
    {
        CLEAR_PED_TASKS_IMMEDIATELY( iParam0->_fU0 );
        iParam0->_fU124 = 0;
        iParam0->_fU120 = 1;
        iParam0->_fU132 = 0;
        iParam0->_fU136 = 0;
        SET_PED_PERFECT_ACCURACY_OVERRIDE(  /* PLAYER_PED_ID */ sub_1077(), 1 );
        OPEN_SEQUENCE_TASK( ref uVar3 );
        TASK_SHOOT_AT_PED( 0,  /* PLAYER_PED_ID */ sub_1077(), -1, iParam0->_fU108, 0, 0, iParam0->_fU104 );
        CLOSE_SEQUENCE_TASK( uVar3 );
        TASK_PERFORM_SEQUENCE( iParam0->_fU0, uVar3 );
        CLEAR_SEQUENCE_TASK( uVar3 );
        iParam0->_fU116 = 1;
    }
    return;
}

/* SB_SNIPERSEARCHES */ void sub_75405(int iParam0)
{
    unknown uVar3;

    if ((NOT (IS_PED_DEAD(  /* PLAYER_PED_ID */ sub_1077() ))) AND (NOT (IS_PED_DEAD( iParam0->_fU0 ))))
    {
        if ((iParam0->_fU140) || (iParam0->_fU128))
        {
            PED_SET_ACTION_INTENTION( iParam0->_fU0, 48, 1000, g_U657 );
            iParam0->_fU128 = 0;
            iParam0->_fU140 = 0;
             /* P_PROCESS_DUCK */ sub_73503( iParam0 );
        }
        else
        {
            iParam0->_fU124 = 0;
            iParam0->_fU120 = 0;
            iParam0->_fU132 = 1;
            iParam0->_fU136 = 0;
            OPEN_SEQUENCE_TASK( ref uVar3 );
            TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( 0, 1 );
            TASK_AIM_GUN_AT_COORD( 0, iParam0->_fU56, GET_RANDOM_INT_IN_RANGE( 2250, 2750 ), 0 );
            TASK_AIM_GUN_AT_COORD( 0, iParam0->_fU68, GET_RANDOM_INT_IN_RANGE( 2250, 2750 ), 0 );
            SET_SEQUENCE_TO_REPEAT( uVar3, 1 );
            CLOSE_SEQUENCE_TASK( uVar3 );
            TASK_PERFORM_SEQUENCE( iParam0->_fU0, uVar3 );
            CLEAR_SEQUENCE_TASK( uVar3 );
        }
    }
    return;
}

/* P_DEBUG_EXPLOSIVES_SETUP */ void sub_75828()
{
    if (NOT g_U3203)
    {
        START_WIDGET_GROUP( "Explosives Setup Widget" );
        ADD_WIDGET_BOOL( "Create Explosive Object", ref g_U3204 );
        ADD_WIDGET_BOOL( "Delete Explosive Object", ref g_U3207 );
        ADD_WIDGET_BOOL( "Create Light Object", ref g_U3205 );
        ADD_WIDGET_BOOL( "Delete Light Object", ref g_U3206 );
        START_WIDGET_GROUP( "Explosives Position" );
        ADD_WIDGET_BOOL( "Floor5?", ref g_U3208 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos X", ref g_U3209._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Y", ref g_U3209._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Z", ref g_U3209._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Rot X", ref g_U3212._fU0, -360.00000000, 360.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Rot Y", ref g_U3212._fU4, -360.00000000, 360.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Rot Z", ref g_U3212._fU8, -360.00000000, 360.00000000, 0.10000000 );
        STOP_WIDGET_GROUP();
        START_WIDGET_GROUP( "Light Position" );
        ADD_WIDGET_FLOAT_SLIDER( "Pos X", ref g_U3215._fU0, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Y", ref g_U3215._fU4, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Pos Z", ref g_U3215._fU8, -5000.00000000, 5000.00000000, 0.01000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Rot X", ref g_U3218._fU0, -360.00000000, 360.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Rot Y", ref g_U3218._fU4, -360.00000000, 360.00000000, 0.10000000 );
        ADD_WIDGET_FLOAT_SLIDER( "Rot Z", ref g_U3218._fU8, -360.00000000, 360.00000000, 0.10000000 );
        STOP_WIDGET_GROUP();
        STOP_WIDGET_GROUP();
        g_U3203 = 1;
    }
    if (g_U3204)
    {
         /* WRITESCRIPTLOG */ sub_675( "SBA", "P_DEBUG_EXPLOSIVES_SETUP: Creating Explosive", 0 );
         /* LOADMODEL */ sub_28176( 24025937, 1 );
         /* CLEANOBJECT */ sub_12196( g_U3221 );
        g_U3221 =  /* CREATEOBJECT */ sub_37589( 24025937, g_U3209, g_U3212, 0, 0, 0 );
        if ((DOES_OBJECT_EXIST( g_U3221 )) == 1)
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( g_U3221, ref g_U3223 );
            FREEZE_OBJECT_POSITION( g_U3221, 1 );
        }
        g_U3204 = 0;
    }
    if (g_U3205)
    {
         /* LOADMODEL */ sub_28176( -1991592028, 1 );
         /* CLEANOBJECT */ sub_12196( g_U3222 );
        g_U3222 =  /* CREATEOBJECT */ sub_37589( -1991592028, g_U3215, g_U3218, 0, 0, 0 );
        if ((DOES_OBJECT_EXIST( g_U3222 )) == 1)
        {
            ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( g_U3222, ref g_U3223 );
            FREEZE_OBJECT_POSITION( g_U3222, 1 );
        }
        g_U3205 = 0;
    }
    if (g_U3208)
    {
        if (NOT (ARE_STRINGS_EQUAL( ref g_U3223, ref g_U1418 )))
        {
             /* WRITESCRIPTLOG */ sub_675( "SBA", "P_DEBUG_EXPLOSIVES_SETUP: Setting room to FIFTH Floor", 0 );
            g_U3223 = {g_U1418};
        }
    }
    else if (NOT (ARE_STRINGS_EQUAL( ref g_U3223, ref g_U1426 )))
    {
         /* WRITESCRIPTLOG */ sub_675( "SBA", "P_DEBUG_EXPLOSIVES_SETUP: Setting room to SIXTH Floor", 0 );
        g_U3223 = {g_U1426};
    }
    if (g_U3207)
    {
         /* WRITESCRIPTLOG */ sub_675( "SBA", "P_DEBUG_EXPLOSIVES_SETUP: Deleting Explosive", 0 );
         /* UNLOADMODEL */ sub_47693( 24025937 );
         /* CLEANOBJECT */ sub_12196( g_U3221 );
        g_U3207 = 0;
    }
    if (g_U3206)
    {
         /* WRITESCRIPTLOG */ sub_675( "SBA", "P_DEBUG_EXPLOSIVES_SETUP: Deleting Explosive", 0 );
         /* UNLOADMODEL */ sub_47693( -1991592028 );
         /* CLEANOBJECT */ sub_12196( g_U3222 );
        g_U3206 = 0;
    }
    return;
}

/* P_HANDLE_SNIPER_NEST_DEBUG_WIDGET */ void sub_77318()
{
    switch (l_U2010)
    {
        case 0:
        ADD_WIDGET_BOOL( "Teleport Max over", ref l_U2011 );
        l_U2010 = 1;
        break;
        case 1:
        if (l_U2011)
        {
            l_U2011 = 0;
             /* TELEPORTPED */ sub_37168(  /* PLAYER_PED_ID */ sub_1077(), -45.12862000, 28.65252000, 42.53452000, 0 );
        }
        break;
    }
    return;
}

