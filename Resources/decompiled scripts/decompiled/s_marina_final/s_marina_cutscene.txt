void main()
{
    l_U0 = 1;
    l_U1 = 144;
    l_U44 = "PED_DEF";
    l_U86 = 1.00000000;
    l_U98 = 0;
    l_U139 = 0;
    l_U159 = -1;
    l_U160 = {64536, 64536, 64536};
    l_U183 = "05_03_DOCKS_concat";
    l_U184 = 0;
    l_U185 = 0;
    l_U186 = 0;
    l_U187 = 19966;
    l_U188 = 20300;
    l_U361 = 0;
    l_U362 = 0;
    l_U460 = 0;
    l_U461 = 0;
    l_U462 = 0;
    l_U463 = 0;
    l_U464 = 0;
    l_U466 = 1;
    l_U467 = 0;
    l_U468 = 1;
    l_U469 = 0;
    StrCopy( ref l_U480, "mid_01a_docks_concat", 32 );
    l_U488 = 0;
    StrCopy( ref l_U489, "mid_07_docks_concat", 32 );
    l_U497 = 20000;
    l_U652 = 6200;
    l_U653 = 10300;
    l_U726 = {48.59875000, -36.83268000, 1.82873400};
    l_U729 = 273.90910000;
    DO_SCREEN_FADE_IN( 0 );
    while (true)
    {
        sub_340();
        WAIT( 0 );
    }
    return;
}

void sub_340()
{
    int I;

    if (NOT l_U462)
    {
        sub_401( "GA", "Creating Docks Cutscene widget.", 0 );
        StrCopy( ref l_U363[0], "05_01_DOCKS", 32 );
        StrCopy( ref l_U363[1], "MID_01_DOCKS - DELETED!!!!!!", 32 );
        StrCopy( ref l_U363[2], "MID_01A_DOCKS", 32 );
        StrCopy( ref l_U363[3], "05_02_docks_concat", 32 );
        StrCopy( ref l_U363[4], "MID_03_DOCKS_concat", 32 );
        StrCopy( ref l_U363[5], "MID_04_DOCKS_pt1", 32 );
        StrCopy( ref l_U363[6], "MID_05_DOCKS_concat", 32 );
        StrCopy( ref l_U363[7], "mid_06_docks_concat", 32 );
        StrCopy( ref l_U363[8], "MID_06_DOCKS_PT2", 32 );
        StrCopy( ref l_U363[9], "MID_06_DOCKS_PT2_a", 32 );
        StrCopy( ref l_U363[10], "MID_07_DOCKS", 32 );
        StrCopy( ref l_U363[11], "05_03_DOCKS", 32 );
        START_WIDGET_GROUP( "DOCKS CUTSCENES" );
        START_NEW_WIDGET_COMBO();
        for ( I = 0; I <= 11; I++ )
        {
            ADD_TO_WIDGET_COMBO( ref l_U363[I] );
        }
        STOP_WIDGET_COMBO( "Cutscene to play: ", ref l_U460 );
        ADD_WIDGET_STRING( " " );
        sub_910();
        sub_1086();
        ADD_WIDGET_BOOL( "Play Cutscene", ref l_U463 );
        ADD_WIDGET_BOOL( "Play Single Scene", ref l_U464 );
        ADD_WIDGET_BOOL( "Capture Cutscene", ref l_U461 );
        STOP_WIDGET_GROUP();
        l_U462 = 1;
    }
    if ((l_U464) || (l_U463))
    {
        if (l_U460 == 0)
        {
            sub_1315();
        }
        else if (l_U460 == 1)
        {
            ;
        }
        else if (l_U460 == 2)
        {
            l_U465 = 1;
            l_U488 = 0;
        }
        else if (l_U460 == 3)
        {
            sub_5539( l_U461 );
        }
        else if (l_U460 == 4)
        {
            sub_7887( l_U461 );
        }
        else if (l_U460 == 5)
        {
            sub_11932( l_U461 );
        }
        else if (l_U460 == 6)
        {
            sub_12275( l_U461 );
        }
        else if ((l_U460 == 9) || ((l_U460 == 8) || (l_U460 == 7)))
        {
            sub_12634( l_U461 );
        }
        else if (l_U460 == 10)
        {
            sub_15192( 1, 0, l_U461 );
        }
        else if (l_U460 == 11)
        {
            sub_18771( 0, l_U461, 0 );
        };;;;;;;;;;
        l_U463 = 0;
        l_U464 = 0;
    }
    if (l_U465)
    {
        sub_32157( ref l_U465, l_U461 );
    }
    return;
}

void sub_401(unknown uParam0, unknown uParam1, string sParam2)
{
    unknown uVar5;

    if (IS_STRING_NULL( sParam2 ))
    {
        sParam2 = "###";
    }
    uVar5 = GET_REAL_GAME_TIMER();
    return;
}

void sub_910()
{
    int I;

    StrCopy( ref l_U567[0], "05_01_docks_pt1", 32 );
    StrCopy( ref l_U567[1], "05_01_docks_pt2", 32 );
    StrCopy( ref l_U567[2], "05_01_docks_pt3", 32 );
    START_NEW_WIDGET_COMBO();
    for ( I = 0; I < l_U567; I++ )
    {
        ADD_TO_WIDGET_COMBO( ref l_U567[I] );
    }
    STOP_WIDGET_COMBO( "05_01 Scenes:", ref l_U621 );
    return;
}

void sub_1086()
{
    START_WIDGET_GROUP( "CUTSCENE 05_03" );
    ADD_WIDGET_INT_SLIDER( "Time to start explosion", ref l_U187, 0, 50000, 50 );
    STOP_WIDGET_GROUP();
    return;
}

void sub_1315()
{
    int I;

    sub_401( "RJM", "P_PLAY_CUTSCENE_05_01 start", 0 );
    sub_1371( 1, 0, 0, 1 );
    sub_1592( 1 );
    sub_1992( g_U1026 );
    sub_1992( 434129791 );
    sub_1992( g_U1029 );
    sub_2233( ref l_U592, 0, 0, 0, 0.00000000, g_U1026, 4, 1, 0, 0, 0 );
    sub_2351( ref l_U606, 0, 0, 0, 0.00000000, -1801828532, 7, 3, 2, 0, 0 );
    l_U619 = sub_2462( ref l_U606 );
    if (sub_3283( l_U619 ))
    {
        sub_401( "RJM", "piScene_CS is valid...why isn't he later?", 0 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U619, 1 );
        SET_PED_CAN_RAGDOLL_FROM_PLAYER_IMPACT( l_U619, 0 );
    }
    l_U620 = sub_3437( g_U1036, 0, 0, 0, 0.00000000, 1, 0, 0 );
    if (NOT (IS_VEHICLE_DEAD( l_U620 )))
    {
        SET_VEHICLE_DOORS_LOCKED( l_U620, 2 );
        SET_VEHICLE_ENGINE_ON( l_U620, 0, 1 );
        SET_PAYNE_BOAT_PTFX_CUTSCENE_EFFECT( 1 );
        SET_PAYNE_BOAT_PTFX_MAX_SPEED_EVO( 1 );
        SET_VEHICLE_EXTRA( l_U620, 1, 0 );
        SET_VEHICLE_EXTRA( l_U620, 2, 1 );
        SET_VEHICLE_EXTRA( l_U620, 3, 1 );
        SET_VEHICLE_EXTRA( l_U620, 4, 1 );
        SET_VEHICLE_EXTRA( l_U620, 5, 0 );
        SET_VEHICLE_EXTRA( l_U620, 6, 1 );
        l_U605 = sub_2462( ref l_U592 );
        if (sub_3283( l_U605 ))
        {
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U605, 1 );
            SET_PED_CAN_RAGDOLL_FROM_PLAYER_IMPACT( l_U605, 0 );
        }
    }
    for ( I = 0; I < l_U567; I++ )
    {
        if (l_U463 == 1)
        {
            sub_3896( ref l_U567[I], 1 );
        }
        else if (l_U464 == 1)
        {
            sub_3896( ref l_U567[l_U621], 1 );
            I = l_U621;
        }
        switch (I)
        {
            case 0:
            if (sub_3283( l_U605 ))
            {
                sub_401( "RJM", "Registering Passos with cutscene 05_01_docks_pt1", 0 );
                REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U605, "Pass_Dock", 0 );
            }
            if (sub_4326( l_U620 ))
            {
                sub_401( "RJM", "Registering Boat with cutscene 05_01_docks_pt1", 0 );
                REGISTER_VEHICLE_PRE_SEAMLESS_CUTSCENE( l_U620, "boat_rs", 0 );
            }
            break;
            case 1:
            if (sub_4326( l_U620 ))
            {
                sub_401( "RJM", "Registering Boat with cutscene 05_01_docks_pt2", 0 );
                REGISTER_VEHICLE_PRE_SEAMLESS_CUTSCENE( l_U620, "boat_rs", 0 );
            }
            break;
            case 2:
            if (sub_3283( l_U619 ))
            {
                sub_401( "RJM", "Registering Comando Sombre guy with cutscene 05_01_docks_pt3", 0 );
                REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U619, "M5_CS_01_Avg", 0 );
            }
            else
            {
                sub_401( "RJM", "CS guy's not valid now...WTF?!?", 0 );
            }
            break;
        }
        if (l_U461)
        {
            if (l_U464)
            {
                sub_401( "BSW", ref l_U567[l_U621], 0 );
                START_CUTSCENE_CAPTURE( ref l_U567[l_U621] );
            }
            else
            {
                SCRIPT_ASSERT( "[MF] Cutscene capture can only occur on single scene playback! Cutscene recording has been halted", 0 );
            }
        }
        START_SEAMLESS_CUTSCENE();
        while (NOT HAS_CUTSCENE_FINISHED())
        {
            WAIT( 0 );
        }
        while (NOT HAS_CUTSCENE_UNLOADED())
        {
            WAIT( 0 );
        }
        if (l_U464)
        {
            sub_401( "MF", "Exiting the cutscene after playing a single scene...", 0 );
            I = l_U567 + 1;
        }
    }
    if ((l_U464) AND (l_U461))
    {
        STOP_CUTSCENE_CAPTURE();
    }
    SET_PAYNE_BOAT_PTFX_CUTSCENE_EFFECT( 0 );
    SET_PAYNE_BOAT_PTFX_MAX_SPEED_EVO( 0 );
    sub_5119( g_U1026 );
    sub_5119( 434129791 );
    sub_5119( g_U1029 );
    sub_5280( l_U619 );
    sub_5280( l_U605 );
    sub_5369( l_U620 );
    sub_401( "RJM", "P_PLAY_CUTSCENE_05_01 end", 0 );
    return;
}

void sub_1371(int iParam0, int iParam1, unknown uParam2, boolean bParam3)
{
    END_POSTFX_BLENDER( 12, 0 );
    if (bParam3)
    {
        STOP_ALL_IMAGEFX( 0 );
    }
    SET_WIDESCREEN_BORDERS( 1, 500 );
    DISPLAY_HUD( 0 );
    if (iParam0 == 1)
    {
        if (NOT (IS_PED_DEAD( sub_1433() )))
        {
            SET_PLAYER_CONTROL( sub_1455(), 0, uParam2 );
            SET_PED_DUCKING( sub_1433(), 0 );
            if (iParam1 == 1)
            {
                CLEAR_PED_TASKS_IMMEDIATELY( sub_1433() );
            }
            SET_PED_INVINCIBLE( sub_1433(), 1 );
        }
    }
    DEACTIVATE_BULLET_TIME( 1, 0 );
    return;
}

int sub_1433()
{
    if (DOES_MAIN_PLAYER_EXIST())
    {
        return GET_PLAYER_PED( sub_1455() );
    }
    return 0;
}

void sub_1455()
{
    return GET_PLAYER_ID();
}

void sub_1592(unknown uParam0)
{
    sub_401( "SP", "P_SETUP_WEATHER_TIMEOFDAY", 0 );
    FREEZE_TIME_OF_DAY( 22, 0 );
    switch (uParam0)
    {
        case 0:
        case 1:
        SET_WEATHER_TYPE_NOW_PERSIST( "DRIZZLE" );
        SET_PUDDLES( 0.00000000, 0.07000000, 0.00000000, 0.11000000 );
        break;
        case 2:
        case 4:
        case 5:
        SET_WEATHER_TYPE_NOW_PERSIST( "RAIN" );
        SET_PUDDLES( 0.00000000, 0.07000000, 0.00000000, 0.67000000 );
        break;
        case 6:
        case 7:
        case 8:
        SET_WEATHER_TYPE_NOW_PERSIST( "STORMY" );
        SET_PUDDLES( 0.11000000, 0.07000000, 0.11000000, 0.90000000 );
        break;
        case 9:
        SET_WEATHER_TYPE_NOW_PERSIST( "STORMY" );
        SET_PUDDLES( 0.11000000, 0.07000000, 0.11000000, 1.00000000 );
        break;
        case 10:
        SET_WEATHER_TYPE_NOW_PERSIST( "STORMY" );
        FREEZE_TIME_OF_DAY( 21, 0 );
        break;
        default:
        SET_WEATHER_TYPE_NOW_PERSIST( "RAIN" );
        break;
    }
    return;
}

void sub_1992(unknown uParam0)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
        sub_2108( "[SP]### ERROR! (BlockLoadModel) Trying to block load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    LOAD_ALL_OBJECTS_NOW();
    while ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        LOAD_ALL_OBJECTS_NOW();
        WAIT( 0 );
    }
    return;
}

void sub_2108(unknown uParam0)
{
    return;
}

void sub_2233(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU12 = uParam4;
    iParam0->_fU16 = uParam5;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU48 = uParam10;
    return;
}

void sub_2351(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU20 = uParam5;
    iParam0->_fU12 = uParam4;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU16 = GET_SCENE_PED_MODEL( uParam5 );
    iParam0->_fU48 = uParam10;
    return;
}

void sub_2462(int iParam0)
{
    int iVar3;

    iVar3 = 0;
    if (iParam0->_fU16 == 0)
    {
        if (iParam0->_fU20 != 0)
        {
            iVar3 = GET_SCENE_PED_MODEL( iParam0->_fU20 );
        }
    }
    else
    {
        iVar3 = iParam0->_fU16;
    }
    if ((HAS_MODEL_LOADED( iVar3 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
        sub_2632( iParam0->_fU16, 1 );
    }
    iParam0->_fU40 = CREATE_PED( iParam0->_fU24, iParam0->_fU16, iParam0->_fU0, iParam0->_fU12, 1, iParam0->_fU48 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( iParam0->_fU40, 1 );
        SET_PED_COORDS_NO_OFFSET( iParam0->_fU40, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU40 ) );
        SET_PED_HEADING( iParam0->_fU40, iParam0->_fU12 );
        iParam0->_fU44 = 1;
    }
    else
    {
        SCRIPT_ASSERT( "Error: The ped you created doesn't exist or is dead!", 0 );
    }
    sub_3101( iParam0->_fU40 );
    sub_3181( iParam0->_fU40 );
    return iParam0->_fU40;
}

void sub_2632(unknown uParam0, boolean bParam1)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
        sub_2108( "[SP]### ERROR! (LoadModel) Trying to load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    if (bParam1)
    {
        while ((HAS_MODEL_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_3101(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_HEALTH( uParam0, 200, 0 );
        SET_PED_ACCURACY( uParam0, -729479261 );
    }
    return;
}

void sub_3181(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_AI_TEMPLATE( uParam0, "AIT_DEFAULT_GENERIC" );
    }
    return;
}

int sub_3283(unknown uParam0)
{
    if ((NOT (IS_PED_DEAD( uParam0 ))) AND (DOES_PED_EXIST( uParam0 )))
    {
        return 1;
    }
    return 0;
}

void sub_3437(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, int iParam5, unknown uParam6, unknown uParam7)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a vehicle with MUST BE PRELOADED!!!!", 0 );
        sub_2632( uParam0, 1 );
    }
    Result = CREATE_VEHICLE( uParam0, uParam1, uParam4, uParam6, uParam7 );
    if (iParam5 == 1)
    {
        while ((DOES_VEHICLE_EXIST( Result )) == 0)
        {
            WAIT( 0 );
        }
    }
    if (DOES_VEHICLE_EXIST( Result ))
    {
        SET_PETROLTANK_BURN_RATE( Result, 125.00000000 );
    }
    return Result;
}

void sub_3896(unknown uParam0, int iParam1)
{
    if (HAS_CUTSCENE_LOADED())
    {
        if (NOT (CUTSCENE_IS_LOADED( uParam0 )))
        {
            SCRIPT_ASSERT( "Another cutscene is already loaded.  You can only load one cutscene into memory.  Your current cutscene will not load into memory.", 0 );
        }
    }
    if (NOT (CUTSCENE_IS_LOADED( uParam0 )))
    {
        PRE_STREAM_SEAMLESS_CUTSCENE( uParam0 );
        if (iParam1 == 1)
        {
            while ((CUTSCENE_IS_LOADED( uParam0 )) == 0)
            {
                WAIT( 0 );
            }
        }
    }
    return;
}

int sub_4326(unknown uParam0)
{
    if ((NOT (IS_VEHICLE_DEAD( uParam0 ))) AND (DOES_VEHICLE_EXIST( uParam0 )))
    {
        return 1;
    }
    return 0;
}

void sub_5119(unknown uParam0)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 1)
    {
        SET_MODEL_AS_NO_LONGER_NEEDED( uParam0 );
    }
    else
    {
        sub_2108( "[SP]### ERROR! (UnloadModel) Trying to unload a model that isn't in the img! ###" );
    }
    return;
}

void sub_5280(unknown uParam0)
{
    if (DOES_PED_EXIST( uParam0 ))
    {
        if ((NOT (IS_PED_DEAD( uParam0 ))) || (IS_PED_DEAD( uParam0 )))
        {
            REMOVE_ALL_PED_WEAPONS( uParam0 );
            DELETE_PED( ref uParam0 );
        }
    }
    return;
}

void sub_5369(unknown uParam0)
{
    if (IS_VEHICLE_DEAD( uParam0 ))
    {
        ;
    }
    if (DOES_VEHICLE_EXIST( uParam0 ))
    {
        DELETE_VEHICLE( ref uParam0 );
    }
    return;
}

void sub_5539(boolean bParam0)
{
    sub_401( "GA", "P_PLAY_CUTSCENE_05_02_DOCKS start", 0 );
    sub_1371( 1, 0, 0, 1 );
    sub_3896( ref l_U363[l_U460], 1 );
    sub_1992( g_U1030 );
    sub_1992( g_U1027 );
    sub_1992( g_U1038 );
    sub_1992( g_U1042 );
    sub_5662();
    sub_5991();
    if (bParam0)
    {
        sub_401( "BSW", ref l_U363[l_U460], 0 );
        START_CUTSCENE_CAPTURE( ref l_U363[l_U460] );
    }
    if (sub_3283( l_U667 ))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U667, "Sero_Unif_1", 0 );
    }
    if (sub_3283( l_U681 ))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U681, "G_CS_DOCK_B", 0 );
    }
    if (sub_3283( l_U695 ))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U695, "G_CS_DOCK_B^1", 0 );
    }
    if (sub_3283( l_U709 ))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U709, "G_CS_DOCK_B^2", 0 );
    }
    if (sub_3283( l_U723 ))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U723, "G_CS_DOCK_B^3", 0 );
    }
    if (sub_4326( l_U724 ))
    {
        REGISTER_VEHICLE_PRE_SEAMLESS_CUTSCENE( l_U724, "boat_chase", 0 );
    }
    if (sub_7230())
    {
        CUTSCENE_REGISTER_PED_TELEPORT( sub_1433(), g_U790[2], g_U899[2] );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( sub_1433(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
    }
    SET_WAKES_SECTION( 12 );
    START_SEAMLESS_CUTSCENE();
    WAIT( 1 );
    while (NOT HAS_CUTSCENE_FINISHED())
    {
        WAIT( 0 );
    }
    if (bParam0)
    {
        STOP_CUTSCENE_CAPTURE();
    }
    SET_WAKES_SECTION( 0 );
    sub_7438( 1, 1 );
    sub_5280( l_U667 );
    sub_5280( l_U681 );
    sub_5280( l_U695 );
    sub_5280( l_U709 );
    sub_5280( l_U723 );
    sub_5369( l_U725 );
    sub_5369( l_U724 );
    sub_5119( g_U1030 );
    sub_5119( g_U1027 );
    sub_5119( g_U1038 );
    sub_5119( g_U1042 );
    sub_401( "GA", "P_PLAY_CUTSCENE_05_02_DOCKS end", 0 );
    return;
}

void sub_5662()
{
    sub_401( "SBA", "P_CREATE_CUTSCENE_05_02_VEHICLES", "***" );
    sub_5369( l_U724 );
    l_U724 = sub_3437( g_U1042, 0, 0, 0, 0.00000000, 1, 0, 0 );
    if (sub_4326( l_U724 ))
    {
        SET_VEHICLE_ENGINE_ON( l_U724, 1, 1 );
    }
    sub_5369( l_U725 );
    l_U725 = sub_3437( g_U1038, l_U726, l_U729, 0, 0, 0 );
    if (NOT (IS_VEHICLE_DEAD( l_U725 )))
    {
        SET_VEHICLE_ON_GROUND_PROPERLY( l_U725 );
        SET_VEHICLE_LIGHTS( l_U725, 2 );
        SET_VEHICLE_LIGHT_MULTIPLIER( l_U725, 0.15000000 );
        REMOVE_VEHICLE_WINDOW( l_U725, 0 );
        REMOVE_VEHICLE_WINDOW( l_U725, 1 );
        SET_VEHICLE_DOOR_BROKEN( l_U725, 5, 1 );
        SET_VEHICLE_DOOR_CONTROL( l_U725, 2, 1, 1.00000000 );
        SET_VEHICLE_DOOR_CONTROL( l_U725, 3, 1, 1.00000000 );
        FREEZE_VEHICLE_POSITION( l_U725, 1 );
    }
    return;
}

void sub_5991()
{
    sub_401( "SBA", "P_CREATE_CUTSCENE_05_02_PEDS", "***" );
    sub_2233( ref l_U654, 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U1027, 7, 3, 2, 0, 0 );
    sub_5280( l_U667 );
    l_U667 = sub_2462( ref l_U654 );
    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U667, 1 );
    sub_2351( ref l_U668, 0.00000000, 0.00000000, 0.00000000, 0.00000000, -543716414, 7, 3, 2, 0, 0 );
    sub_5280( l_U681 );
    l_U681 = sub_2462( ref l_U668 );
    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U681, 1 );
    sub_2351( ref l_U682, 0.00000000, 0.00000000, 0.00000000, 0.00000000, -183497857, 7, 3, 2, 0, 0 );
    sub_5280( l_U695 );
    l_U695 = sub_2462( ref l_U682 );
    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U695, 1 );
    sub_2351( ref l_U696, 0.00000000, 0.00000000, 0.00000000, 0.00000000, -194690324, 7, 3, 2, 0, 0 );
    sub_5280( l_U709 );
    if (sub_4326( l_U724 ))
    {
        l_U709 = sub_6353( ref l_U696, l_U724, -1, 1, 0 );
    }
    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U709, 1 );
    sub_2351( ref l_U710, 0.00000000, 0.00000000, 0.00000000, 0.00000000, -194690324, 7, 3, 2, 0, 0 );
    sub_5280( l_U723 );
    l_U723 = sub_2462( ref l_U710 );
    SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U723, 1 );
    return;
}

void sub_6353(int iParam0, unknown uParam1, unknown uParam2, int iParam3, unknown uParam4)
{
    if ((HAS_MODEL_LOADED( iParam0->_fU16 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
        sub_2632( iParam0->_fU16, 1 );
    }
    if (((IS_VEHICLE_DEAD( uParam1 )) == 0) AND ((DOES_VEHICLE_EXIST( uParam1 )) == 1))
    {
        iParam0->_fU40 = CREATE_PED_INSIDE_VEHICLE( uParam1, iParam0->_fU24, iParam0->_fU16, uParam2, uParam4, iParam0->_fU48 );
    }
    else
    {
        SCRIPT_ASSERT( "The vehicle your trying to create a ped inside of is not valid!!!", 0 );
    }
    if (iParam3 == 1)
    {
        while ((DOES_PED_EXIST( iParam0->_fU40 )) == 0)
        {
            WAIT( 0 );
        }
    }
    sub_3101( iParam0->_fU40 );
    sub_3181( iParam0->_fU40 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        iParam0->_fU44 = 1;
    }
    return iParam0->_fU40;
}

int sub_7230()
{
    if (sub_3283( sub_1433() ))
    {
        return 1;
    }
    return 0;
}

void sub_7438(boolean bParam0, boolean bParam1)
{
    SET_WIDESCREEN_BORDERS( 0, 500 );
    DISPLAY_HUD( 1 );
    if (NOT (IS_PED_DEAD( sub_1433() )))
    {
        SET_PLAYER_CONTROL( sub_1455(), 1, 0 );
        SET_PED_INVINCIBLE( sub_1433(), 0 );
        if (bParam0)
        {
            sub_7519();
        }
    }
    PULSE_CROSSHAIR( 1 );
    if (bParam1)
    {
        DESTROY_ALL_CAMS();
    }
    return;
}

void sub_7519()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD( sub_1433() )) == 0)
    {
        uVar2 = GET_WEAPON_FROM_HAND( sub_1433(), 0, 0 );
        uVar3 = GET_WEAPON_FROM_HAND( sub_1433(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
        {
            uVar4 = GET_MAX_AMMO_IN_HAND_CLIP_MP( sub_1433(), 0 );
            SET_WEAPON_AMMO_IN_CLIP( uVar2, uVar4 );
        }
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            uVar5 = GET_MAX_AMMO_IN_HAND_CLIP_MP( sub_1433(), 1 );
            SET_WEAPON_AMMO_IN_CLIP( uVar3, uVar5 );
        }
    }
    return;
}

void sub_7887(boolean bParam0)
{
    int I;

    sub_401( "GA", "P_PLAY_CUTSCENE_MID_03_DOCKS start", 0 );
    sub_1371( 1, 0, 0, 1 );
    sub_1992( g_U1028 );
    sub_1992( g_U1030 );
    sub_1992( g_U1057 );
    sub_1992( g_U1058 );
    sub_3896( ref l_U363[l_U460], 1 );
    sub_8011();
    sub_8739();
    if (bParam0)
    {
        sub_401( "BSW", ref l_U363[l_U460], 0 );
        START_CUTSCENE_CAPTURE( ref l_U363[l_U460] );
    }
    if (sub_3283( l_U730[0] ))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U730[0], "Fabi_Docks", 0 );
    }
    if (sub_3283( l_U730[1] ))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U730[1], "G_CS_DOCK_B^2", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U730[1], 0, 0 ), "W_PI_PT92_Aa_H", 0 );
    }
    if (sub_3283( l_U730[2] ))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U730[2], "G_CS_DOCK_B^3", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U730[2], 0, 0 ), "W_PI_PT92_Aa_H^1", 0 );
    }
    if (sub_3283( l_U730[3] ))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U730[3], "G_CS_DOCK_B", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U730[3], 0, 0 ), "W_AR_AK47_Aa_H", 0 );
    }
    if (sub_3283( l_U730[4] ))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U730[4], "G_CS_DOCK_B^1", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U730[4], 0, 0 ), "W_AR_AK47_Aa_H^1", 0 );
    }
    if (sub_7230())
    {
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( sub_1433(), 0, 0 ), "W_PI_PT92_Aa_H^2", 0 );
        CUTSCENE_REGISTER_PED_TELEPORT( sub_1433(), 56.07251000, -17.39861000, 2.00000000, 270.00000000 );
        CUTSCENE_REGISTER_SET_PLAYER_IN_COVER( 0, 0, 1, 0 );
        CUTSCENE_SET_COVER_CAMERA_DIRECTION( 81.55157000, -3.61368100 );
    }
    sub_10065( ref l_U634, l_U652 );
    START_SEAMLESS_CUTSCENE();
    WAIT( 1 );
    while (NOT HAS_CUTSCENE_FINISHED())
    {
        sub_10371( ref l_U622 );
        if (sub_11385( ref l_U634 ))
        {
            sub_401( "RJM", "Start up the security video", 0 );
            l_U622._fU24 = 1;
            sub_11605( ref l_U634 );
            sub_10065( ref l_U643, l_U653 );
        }
        if (sub_11385( ref l_U643 ))
        {
            sub_401( "RJM", "Stop the security video", 0 );
            l_U622._fU24 = 3;
            sub_11605( ref l_U643 );
        }
        WAIT( 0 );
    }
    l_U622._fU24 = 4;
    sub_10371( ref l_U622 );
    if (bParam0)
    {
        STOP_CUTSCENE_CAPTURE();
    }
    sub_7438( 1, 1 );
    sub_8131( l_U633 );
    for ( I = 0; I <= 4; I++ )
    {
        sub_5280( l_U730[I] );
    }
    sub_5119( g_U1057 );
    sub_5119( g_U1058 );
    sub_5119( g_U1028 );
    sub_5119( g_U1030 );
    sub_401( "GA", "P_PLAY_CUTSCENE_MID_03_DOCKS end", 0 );
    return;
}

void sub_8011()
{
    vector vVar2;
    vector vVar5;

    sub_401( "BSW", "[GA] P_START_WAREHOUSE_OFFICE_SECURITY_MONITOR start", 0 );
    vVar2 = {56.12000000, -21.71300000, 2.92700000};
    vVar5 = {6.21400000, 0.00000000, -20.00000000};
    sub_8131( l_U633 );
    l_U633 = sub_8185( g_U1058, vVar2, vVar5, 0, 1, 0 );
    if ((DOES_OBJECT_EXIST( l_U633 )) == 1)
    {
        ADD_OBJECT_TO_INTERIOR_ROOM_BY_NAME( l_U633, ref g_U1170 );
    }
    l_U622._fU0 = l_U633;
    l_U622._fU4 = "DOCKS_GIOVANNA_SLIPWAY";
    l_U622._fU8 = 0;
    l_U622._fU12 = -100.00000000;
    l_U622._fU16 = 0;
    l_U622._fU20 = 1;
    l_U622._fU32 = 0;
    l_U622._fU36 = 0;
    sub_8547( ref l_U622 );
    sub_401( "BSW", "[GA] P_START_WAREHOUSE_OFFICE_SECURITY_MONITOR end", 0 );
    return;
}

void sub_8131(unknown uParam0)
{
    if (DOES_OBJECT_EXIST( uParam0 ))
    {
        DELETE_OBJECT( ref uParam0 );
    }
    return;
}

void sub_8185(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
        sub_2632( uParam0, 1 );
    }
    Result = CREATE_OBJECT( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

void sub_8547(int iParam0)
{
    if (NOT iParam0->_fU40)
    {
        PRELOAD_MOVIE( iParam0->_fU8, iParam0->_fU4, 0, 0 );
    }
    SET_MOVIE_VOLUME( iParam0->_fU8, iParam0->_fU12 );
    SET_MOVIE_LOOP( iParam0->_fU8, 1 );
    if (iParam0->_fU20)
    {
        iParam0->_fU24 = 1;
    }
    else
    {
        iParam0->_fU24 = 0;
    }
    iParam0->_fU28 = GET_SOUND_ID();
    return;
}

void sub_8739()
{
    int I;

    sub_401( "SBA", "P_MIDSCENE_03_SPAWN_PEDS", 0 );
    sub_2233( ref l_U736[0], 0.00000000, 0.00000000, 0.00000000, 0.00000000, g_U1028, 7, 3, 2, 0, 0 );
    sub_2351( ref l_U736[1], 0.00000000, 0.00000000, 0.00000000, 0.00000000, -119960381, 7, 3, 2, 0, 0 );
    sub_2351( ref l_U736[2], 0.00000000, 0.00000000, 0.00000000, 0.00000000, -2005382089, 7, 3, 2, 0, 0 );
    sub_2351( ref l_U736[3], 0.00000000, 0.00000000, 0.00000000, 0.00000000, 119668021, 7, 3, 2, 0, 0 );
    sub_2351( ref l_U736[4], 0.00000000, 0.00000000, 0.00000000, 0.00000000, 1417046166, 7, 3, 2, 0, 0 );
    for ( I = 0; I < l_U730; I++ )
    {
        l_U730[I] = sub_2462( ref l_U736[I] );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U730[I], 1 );
        if ((I == 2) || (I == 1))
        {
            sub_9086( l_U730[I], -612753081, 25000, 0, 1 );
        }
        else
        {
            sub_9086( l_U730[I], -1074756423, 25000, 0, 1 );
        }
    }
    sub_9086( sub_1433(), 68019059, 25000, 0, 1 );
    return;
}

void sub_9086(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's hand MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, uParam2, uParam3 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
                }
            }
        }
    }
    else
    {
        sub_2108( "[SP]### (F_GivePedWeapon) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

void sub_10065(unknown uParam0, unknown uParam1)
{
    sub_10081( uParam0, uParam1, 1, 0 );
    sub_10215( uParam0 );
    return;
}

void sub_10081(int iParam0, unknown uParam1, boolean bParam2, int iParam3)
{
    if (bParam2)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam3 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU12 = uParam1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = bParam2;
    iParam0->_fU32 = iParam3;
    iParam0->_fU8 = 0;
    return;
}

void sub_10215(int iParam0)
{
    if (NOT iParam0->_fU20)
    {
        iParam0->_fU20 = 1;
        iParam0->_fU16 = 0;
        if (iParam0->_fU28)
        {
            iParam0->_fU0 = TIMERA();
        }
        else
        {
            iParam0->_fU0 = TIMERB();
        }
        if (iParam0->_fU32 == 1)
        {
            iParam0->_fU0 = TIMERSYSTEM();
        }
        iParam0->_fU4 = iParam0->_fU0;
    }
    return;
}

void sub_10371(int iParam0)
{
    sub_10383( iParam0 );
    if (iParam0->_fU36)
    {
        sub_10806( iParam0 );
    }
    if (iParam0->_fU16)
    {
        sub_11002( iParam0 );
    }
    return;
}

void sub_10383(int iParam0)
{
    switch (iParam0->_fU24)
    {
        case 0: break;
        case 1:
        if (DOES_OBJECT_EXIST( iParam0->_fU0 ))
        {
            SET_OBJECT_LIGHTS( iParam0->_fU0, 1 );
        }
        PLAY_MOVIE( iParam0->_fU8, 0 );
        iParam0->_fU24 = 2;
        break;
        case 2: break;
        case 3:
        sub_10511( iParam0 );
        iParam0->_fU24 = 0;
        break;
        case 4:
        sub_10665( iParam0 );
        break;
    }
    return;
}

void sub_10511(int iParam0)
{
    SET_TEXT_RENDER_ID( GET_SCRIPT_RENDERTARGET_RENDER_ID() );
    DRAW_RECT( 0.50000000, 0.50000000, 1.00000000, 1.00000000, 0, 0, 0, 255 );
    STOP_MOVIE( iParam0->_fU8 );
    if (DOES_OBJECT_EXIST( iParam0->_fU0 ))
    {
        SET_OBJECT_LIGHTS( iParam0->_fU0, 0 );
    }
    PLAY_SOUND_FROM_OBJECT( iParam0->_fU28, "TELEVISION_OFF", iParam0->_fU0 );
    return;
}

void sub_10665(int iParam0)
{
    SET_TEXT_RENDER_ID( GET_SCRIPT_RENDERTARGET_RENDER_ID() );
    DRAW_RECT( 0.50000000, 0.50000000, 1.00000000, 1.00000000, 0, 0, 0, 255 );
    STOP_MOVIE( iParam0->_fU8 );
    RELEASE_MOVIE( iParam0->_fU8 );
    STOP_SOUND( iParam0->_fU28, 0 );
    RELEASE_SOUND_ID( iParam0->_fU28 );
    return;
}

void sub_10806(int iParam0)
{
    if (DOES_OBJECT_EXIST( iParam0->_fU0 ))
    {
        if (((GET_OBJECT_HEALTH( iParam0->_fU0 )) < 900.00000000) || (HAS_OBJECT_BEEN_DAMAGED( iParam0->_fU0 )))
        {
            SMASH_GLASS_ON_OBJECT( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_OBJECT_COORDS( iParam0->_fU0 ), 1.00000000, GET_OBJECT_MODEL( iParam0->_fU0 ), 1.00000000 );
            SET_OBJECT_LIGHTS( iParam0->_fU0, 0 );
            if (((IS_PED_DEAD( sub_1433() )) == 0) AND (iParam0->_fU32 == 1))
            {
                TASK_CLEAR_LOOK_AT( sub_1433() );
            }
            iParam0->_fU24 = 4;
        }
    }
    else
    {
        iParam0->_fU24 = 4;
    }
    return;
}

void sub_11002(int iParam0)
{
    unknown uVar3;

    uVar3 = GET_PLAYER_PED( INT_TO_PLAYERINDEX( GET_PLAYER_ID() ) );
    if ((DOES_OBJECT_EXIST( iParam0->_fU0 )) AND (NOT (IS_PED_DEAD( uVar3 ))))
    {
        if ((GET_DISTANCE_BETWEEN_COORDS( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uVar3 ), "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_OBJECT_COORDS( iParam0->_fU0 ), 1 )) < 3.00000000)
        {
            if (iParam0->_fU32 == 0)
            {
                if ((IS_PED_IN_COMBAT( uVar3 )) == 0)
                {
                    TASK_LOOK_AT_OBJECT( uVar3, iParam0->_fU0, 180000, 16 );
                }
                iParam0->_fU32 = 1;
            }
        }
        else if (iParam0->_fU32 == 1)
        {
            CLEAR_PRINTS();
            TASK_CLEAR_LOOK_AT( uVar3 );
            iParam0->_fU32 = 0;
        }
        if (((GET_DISTANCE_BETWEEN_COORDS( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uVar3 ), "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_OBJECT_COORDS( iParam0->_fU0 ), 1 )) < 1.50000000) AND (IS_OBJECT_ON_SCREEN( iParam0->_fU0 )))
        {
            if (IS_BUTTON_JUST_PRESSED( 0, 15 ))
            {
                if (iParam0->_fU24 == 0)
                {
                    PLAY_SOUND_FROM_OBJECT( iParam0->_fU28, "TELEVISION_ON", iParam0->_fU0 );
                    WAIT( 200 );
                    iParam0->_fU24 = 1;
                }
                else if (iParam0->_fU24 == 2)
                {
                    WAIT( 200 );
                    iParam0->_fU24 = 3;
                }
            }
        }
    }
    return;
}

int sub_11385(int iParam0)
{
    if (iParam0->_fU16)
    {
        return 0;
    }
    else if (NOT iParam0->_fU20)
    {
        return 0;
    }
    if (iParam0->_fU28)
    {
        iParam0->_fU4 = TIMERA();
    }
    else
    {
        iParam0->_fU4 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU4 = TIMERSYSTEM();
    }
    if ((iParam0->_fU4 - iParam0->_fU0) >= iParam0->_fU12)
    {
        iParam0->_fU16 = 1;
        iParam0->_fU20 = 0;
        return 1;
        break;
    }
    return 0;
}

void sub_11605(int iParam0)
{
    iParam0->_fU20 = 0;
    iParam0->_fU16 = 0;
    return;
}

void sub_11932(boolean bParam0)
{
    sub_401( "GA", "P_PLAY_CUTSCENE_MID_04_DOCKS start", 0 );
    sub_1371( 1, 0, 0, 1 );
    sub_3896( ref l_U363[l_U460], 1 );
    if (bParam0)
    {
        sub_401( "BSW", ref l_U363[l_U460], 0 );
        START_CUTSCENE_CAPTURE( ref l_U363[l_U460] );
    }
    if (sub_7230())
    {
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( sub_1433(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
    }
    START_SEAMLESS_CUTSCENE();
    WAIT( 1 );
    while (NOT HAS_CUTSCENE_FINISHED())
    {
        WAIT( 0 );
    }
    if (bParam0)
    {
        STOP_CUTSCENE_CAPTURE();
    }
    sub_7438( 1, 1 );
    sub_401( "GA", "P_PLAY_CUTSCENE_MID_04_DOCKS end", 0 );
    return;
}

void sub_12275(boolean bParam0)
{
    sub_401( "GA", "P_PLAY_CUTSCENE_MID_05_DOCKS start", 0 );
    sub_1371( 1, 0, 0, 1 );
    sub_3896( ref l_U363[l_U460], 1 );
    if (bParam0)
    {
        sub_401( "BSW", ref l_U363[l_U460], 0 );
        START_CUTSCENE_CAPTURE( ref l_U363[l_U460] );
    }
    if (sub_7230())
    {
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( sub_1433(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
    }
    START_SEAMLESS_CUTSCENE();
    WAIT( 1 );
    while (NOT HAS_CUTSCENE_FINISHED())
    {
        WAIT( 0 );
    }
    if (bParam0)
    {
        STOP_CUTSCENE_CAPTURE();
    }
    sub_7438( 1, 1 );
    sub_401( "GA", "P_PLAY_CUTSCENE_MID_05_DOCKS end", 0 );
    return;
}

void sub_12634(boolean bParam0)
{
    vector vVar3;
    vector vVar6;
    vector vVar9;
    vector vVar12;
    vector vVar15;
    vector vVar18;
    vector vVar21;
    float fVar24;
    float fVar25;
    float fVar26;
    float fVar27;
    float fVar28;
    float fVar29;
    float fVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    unknown uVar37;
    unknown uVar38;
    unknown uVar39;
    unknown uVar40;
    unknown uVar41;
    unknown uVar42;
    unknown uVar43;
    unknown uVar44;
    unknown uVar45;
    unknown uVar46;
    unknown uVar47;
    unknown uVar48;
    unknown uVar49;
    unknown uVar50;
    unknown uVar51;
    unknown uVar52;
    unknown uVar53;
    unknown uVar54;
    unknown uVar55;
    unknown uVar56;
    unknown uVar57;
    unknown uVar58;
    unknown[7] uVar59;
    unknown uVar67;
    unknown uVar68;
    unknown uVar69;
    unknown uVar70;
    unknown uVar71;
    unknown uVar72;
    unknown uVar73;
    unknown uVar74;
    unknown uVar75;
    unknown uVar76;
    unknown uVar77;
    unknown uVar78;
    unknown uVar79;
    unknown uVar80;
    unknown uVar81;
    unknown uVar82;
    unknown uVar83;
    unknown uVar84;
    unknown uVar85;
    unknown uVar86;
    unknown uVar87;
    unknown uVar88;
    unknown uVar89;
    unknown uVar90;
    unknown uVar91;
    unknown uVar92;
    unknown uVar93;
    unknown uVar94;
    unknown uVar95;
    unknown uVar96;
    unknown uVar97;
    unknown uVar98;
    unknown uVar99;
    unknown uVar100;
    unknown uVar101;
    unknown uVar102;
    unknown uVar103;
    unknown uVar104;
    unknown uVar105;
    unknown uVar106;
    unknown uVar107;
    unknown uVar108;
    unknown uVar109;
    unknown uVar110;
    unknown uVar111;
    unknown uVar112;
    unknown uVar113;
    unknown uVar114;
    unknown uVar115;
    unknown uVar116;
    unknown uVar117;
    unknown uVar118;
    unknown uVar119;
    unknown uVar120;
    unknown uVar121;
    unknown uVar122;
    unknown uVar123;
    unknown uVar124;
    unknown uVar125;
    unknown uVar126;
    unknown uVar127;
    unknown uVar128;
    unknown uVar129;
    unknown uVar130;
    unknown uVar131;
    unknown uVar132;
    unknown uVar133;
    unknown uVar134;
    unknown uVar135;
    unknown uVar136;
    unknown uVar137;
    unknown uVar138;
    unknown uVar139;
    unknown uVar140;
    unknown uVar141;
    unknown uVar142;
    unknown uVar143;
    unknown uVar144;
    unknown uVar145;
    unknown uVar146;
    unknown uVar147;
    unknown uVar148;
    unknown uVar149;
    unknown uVar150;
    unknown[7] uVar151;
    unknown uVar159;
    unknown uVar160;
    unknown uVar161;
    unknown uVar162;
    unknown uVar163;
    unknown uVar164;
    int I;
    unknown uVar166;

    sub_401( "GA", "P_PLAY_CUTSCENE_MID_06_DOCKS start", 0 );
    sub_1371( 1, 0, 0, 1 );
    sub_3896( ref l_U363[l_U460], 1 );
    vVar3 = {55.20800000, 101.96500000, 2.00000000};
    vVar6 = {59.50700000, 92.31700000, 2.00000000};
    vVar9 = {57.00900000, 87.04200000, 2.00000000};
    vVar12 = {57.27500000, 89.06400000, 2.00000000};
    vVar15 = {55.45000000, 93.30000000, 2.04000000};
    vVar18 = {58.51300000, 98.27000000, 2.00000000};
    vVar21 = {59.53900000, 98.10600000, 2.00000000};
    fVar24 = -89.67600000;
    fVar25 = 180.00000000;
    fVar26 = 0.00000000;
    fVar27 = 180.00000000;
    fVar28 = 87.47000000;
    fVar29 = 180.00000000;
    fVar30 = 165.55200000;
    array(ref uVar59, 7);
    array(ref uVar151, 7);
    sub_2233( ref uVar31, 53.83300000, 101.41700000, 1.96900000, 0.00000000, g_U1027, 7, 3, 2, 0, 0 );
    sub_2351( ref uVar45, 59.01100000, 92.20000000, 2.01700000, 0.00000000, 184940678, 7, 3, 2, 0, 0 );
    sub_2351( ref uVar59[0], vVar3, fVar24, -1558665996, 7, 3, 2, 0, 0 );
    sub_2351( ref uVar59[1], vVar6, fVar25, -260640613, 7, 3, 2, 0, 0 );
    sub_2351( ref uVar59[2], vVar9, fVar26, -1226966353, 7, 3, 2, 0, 0 );
    sub_2351( ref uVar59[3], vVar12, fVar27, -1735340775, 7, 3, 2, 0, 0 );
    sub_2351( ref uVar59[4], vVar15, fVar28, -1062642820, 7, 3, 2, 0, 0 );
    sub_2351( ref uVar59[5], vVar18, fVar29, 1139198700, 7, 3, 2, 0, 0 );
    sub_2351( ref uVar59[6], vVar21, fVar30, -1898162626, 7, 3, 2, 0, 0 );
    sub_13201( ref uVar151 );
    sub_13269( ref uVar159, 0.80000000, 0 );
    for ( I = 0; I <= 6; I++ )
    {
        uVar151[I] = sub_2462( ref uVar59[I] );
        if (NOT (IS_PED_DEAD( uVar151[I] )))
        {
            sub_13528( uVar151[I], ref uVar159 );
            SET_ROOM_FOR_PED_BY_NAME( uVar151[I], ref g_U1200 );
            SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uVar151[I], 1 );
            if (sub_3283( sub_1433() ))
            {
                REGISTER_TARGET( uVar151[I], sub_1433() );
            }
            sub_401( "TEH", "created: ", 0 );
            sub_13900( I );
        }
        else
        {
            sub_401( "TEH", "fail to create: ", 0 );
            sub_13900( I );
        }
    }
    if (sub_7230())
    {
        uVar166 = GET_WEAPON_FROM_HAND( sub_1433(), 0, 0 );
        if (GET_DOES_WEAPON_EXIST( uVar166 ))
        {
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( uVar166, "W_PI_PT92_Aa_H", 0 );
        }
    }
    uVar44 = sub_2462( ref uVar31 );
    if (((IS_PED_DEAD( uVar44 )) == 0) AND ((DOES_PED_EXIST( uVar44 )) == 1))
    {
        sub_9086( uVar44, 406496141, 200, 0, 1 );
        SET_ROOM_FOR_PED_BY_NAME( uVar44, ref g_U1200 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uVar44, 1 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( uVar44, 0, 0 ), "W_PI_PT92_Aa_H^1", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( uVar44, "Sero_Unif_1", 0 );
    }
    uVar58 = sub_2462( ref uVar45 );
    if (((IS_PED_DEAD( uVar58 )) == 0) AND ((DOES_PED_EXIST( uVar58 )) == 1))
    {
        sub_9086( uVar58, -1074756423, 200, 0, 1 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( uVar58, "G_CS_DOCK_D", 0 );
        SET_ROOM_FOR_PED_BY_NAME( uVar58, ref g_U1200 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uVar58, 1 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( uVar58, 0, 0 ), "W_AR_AK47_Aa_H", 0 );
    }
    if (((IS_PED_DEAD( uVar151[6] )) == 0) AND ((DOES_PED_EXIST( uVar151[6] )) == 1))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( uVar151[6], "G_CS_DOCK_D^1", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( uVar58, 0, 0 ), "W_SG_M590_Aa_H", 0 );
    }
    if (((IS_PED_DEAD( uVar151[5] )) == 0) AND ((DOES_PED_EXIST( uVar151[5] )) == 1))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( uVar151[5], "G_CS_DOCK_D^2", 0 );
    }
    if (((IS_PED_DEAD( uVar151[1] )) == 0) AND ((DOES_PED_EXIST( uVar151[1] )) == 1))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( uVar151[1], "G_CS_DOCK_D^3", 0 );
    }
    if (((IS_PED_DEAD( uVar151[4] )) == 0) AND ((DOES_PED_EXIST( uVar151[4] )) == 1))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( uVar151[4], "G_CS_DOCK_D^4", 0 );
    }
    if (((IS_PED_DEAD( uVar151[0] )) == 0) AND ((DOES_PED_EXIST( uVar151[0] )) == 1))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( uVar151[0], "G_CS_DOCK_D^5", 0 );
    }
    if (((IS_PED_DEAD( uVar151[2] )) == 0) AND ((DOES_PED_EXIST( uVar151[2] )) == 1))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( uVar151[2], "G_CS_DOCK_D^7", 0 );
        CUTSCENE_REGISTER_PED_TELEPORT( uVar151[2], vVar9, fVar26 );
    }
    if (((IS_PED_DEAD( uVar151[3] )) == 0) AND ((DOES_PED_EXIST( uVar151[3] )) == 1))
    {
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( uVar151[3], "G_CS_DOCK_D^8", 0 );
    }
    REGISTER_HIDE_ENTITY_AT_POSITION( g_U1106, g_U782 );
    if (bParam0)
    {
        sub_401( "BSW", ref l_U363[l_U460], 0 );
        START_CUTSCENE_CAPTURE( ref l_U363[l_U460] );
    }
    START_SEAMLESS_CUTSCENE();
    START_SEAMLESS_CUTSCENE();
    WAIT( 1 );
    while (NOT HAS_CUTSCENE_FINISHED())
    {
        WAIT( 0 );
    }
    if (bParam0)
    {
        STOP_CUTSCENE_CAPTURE();
    }
    sub_13201( ref uVar151 );
    sub_5280( uVar44 );
    sub_5280( uVar58 );
    sub_7438( 1, 1 );
    sub_401( "GA", "P_PLAY_CUTSCENE_MID_06_DOCKS end", 0 );
    return;
}

void sub_13201(unknown uParam0)
{
    int I;

    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_5280( (uParam0^)[I] );
    }
    return;
}

void sub_13269(int iParam0, unknown uParam1, boolean bParam2)
{
    iParam0->_fU4 = uParam1;
    iParam0->_fU0 = CREATE_GROUP( 3, 1 );
    if (bParam2)
    {
        while (NOT (DOES_GROUP_EXIST( iParam0->_fU0 )))
        {
            WAIT( 0 );
        }
    }
    SET_GROUP_RATIO_FIRING_AT_VISIBLE( iParam0->_fU0, iParam0->_fU4 );
    SET_GROUP_RATIO_FIRING_AT_INVISIBLE( iParam0->_fU0, iParam0->_fU4 );
    if (iParam0->_fU8)
    {
        SET_GROUP_FORMATION( iParam0->_fU0, iParam0->_fU12 );
        SET_GROUP_FORMATION_SPACING( iParam0->_fU0, iParam0->_fU16 );
        SET_GROUP_FORMATION_MAX_MOVE_SPEED( iParam0->_fU0, iParam0->_fU20 );
    }
    return;
}

void sub_13528(unknown uParam0, int iParam1)
{
    int iVar4;
    unknown uVar5;

    if ((DOES_GROUP_EXIST( iParam1->_fU0 )) == 0)
    {
        sub_2108( "[SP]### Warning!!! Group does not exist. Creating new group specified attributes. ###" );
        if (iParam1->_fU4 > 0)
        {
            sub_13269( iParam1, iParam1->_fU4, 0 );
        }
        else
        {
            sub_13269( iParam1, 1056964608, 0 );
        }
    }
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        GET_GROUP_SIZE( iParam1->_fU0, ref iVar4, ref uVar5 );
        if (iVar4 == 0)
        {
            SET_PED_AS_GROUP_LEADER( uParam0, iParam1->_fU0 );
        }
        else
        {
            SET_PED_AS_GROUP_MEMBER( uParam0, iParam1->_fU0 );
        }
        SET_PED_NEVER_LEAVES_GROUP( uParam0, 1 );
    }
    return;
}

void sub_13900(unknown uParam0)
{
    return;
}

void sub_15192(boolean bParam0, boolean bParam1, boolean bParam2)
{
    sub_401( "RJM", "PLAY_MIDSCENE_07 start", 0 );
    sub_1371( 1, 0, 0, 1 );
    if (bParam0)
    {
        sub_1992( -789094042 );
        sub_1992( 1103070254 );
    }
    sub_2351( ref l_U507, -35.87403000, 254.40860000, 0.95014300, 0.00000000, 1780441150, 7, 3, 2, 0, 0 );
    sub_2351( ref l_U521, -41.42004000, 253.55730000, 1.60013400, 0.00000000, 1155448180, 7, 3, 2, 0, 0 );
    sub_2351( ref l_U535, -40.42004000, 253.55730000, 1.60013400, 0.00000000, 516057477, 7, 3, 2, 0, 0 );
    l_U520 = sub_2462( ref l_U507 );
    l_U534 = sub_2462( ref l_U521 );
    l_U548 = sub_2462( ref l_U535 );
    sub_15442( l_U520 );
    sub_15442( l_U534 );
    sub_15442( l_U548 );
    if (bParam0)
    {
        sub_3896( ref l_U489, 1 );
        if (bParam1)
        {
            sub_15552( 2097995000, 1 );
        }
    }
    if (bParam1)
    {
        sub_15760( ref l_U549, 1, 1 );
        sub_17026( l_U549, 0 );
        sub_17131( l_U549, 0 );
        sub_17189( 1 );
        CUTSCENE_REGISTER_ISEQ( 2097995000 );
        ISEQ_REGISTER_ENTITY( 2097995000, "max", sub_1433(), 0 );
        CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( sub_1433(), "/Global/Player/PlayerRoot/PLAYER_INITIALIZE_IDLE" );
        CUTSCENE_REGISTER_PED_TELEPORT( sub_1433(), g_U790[9], 0.00000000 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( sub_1433(), 0, 0 ), "W_PI_PT92_Aa_H", 0 );
        REGISTER_HIDE_ENTITY_AT_POSITION( g_U1071, -17.50000000, 208.73000000, 0.75000000 );
        REGISTER_HIDE_ENTITY_AT_POSITION( g_U1072, -17.50000000, 194.68000000, 0.75000000 );
    }
    if (sub_3283( l_U520 ))
    {
        sub_401( "RJM", "Registering G_CS_Dock_F1 with mid_07_docks_concat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U520, "G_CS_DOCK_F", 0 );
    }
    else
    {
        sub_401( "RJM", "G_CS_Dock_F1's not valid", 0 );
    }
    if (sub_3283( l_U534 ))
    {
        sub_401( "RJM", "Registering G_CS_Dock_F2 with mid_07_docks_concat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U534, "G_CS_DOCK_F^1", 0 );
    }
    else
    {
        sub_401( "RJM", "G_CS_Dock_F2's not valid", 0 );
    }
    if (sub_3283( l_U548 ))
    {
        sub_401( "RJM", "Registering Fabiana with mid_07_docks_concat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U548, "Fabi_Docks", 0 );
    }
    sub_10081( ref l_U498, l_U497, 1, 0 );
    sub_10215( ref l_U498 );
    if (bParam2)
    {
        START_CUTSCENE_CAPTURE( ref l_U489 );
    }
    sub_18202( 0 );
    START_SEAMLESS_CUTSCENE();
    while (NOT HAS_CUTSCENE_FINISHED())
    {
        if (sub_18318( ref l_U498 ))
        {
            if (sub_11385( ref l_U498 ))
            {
                sub_401( "RJM", "Unfreezing Peds for cutscene Part 2", 0 );
                FREEZE_PED_POSITION( l_U520, 0 );
                FREEZE_PED_POSITION( l_U534, 0 );
                sub_11605( ref l_U498 );
            }
        }
        WAIT( 0 );
    }
    sub_17026( l_U549, 1 );
    sub_17026( l_U549, 1 );
    if (bParam2)
    {
        STOP_CUTSCENE_CAPTURE();
    }
    sub_5280( l_U520 );
    sub_5280( l_U534 );
    sub_5280( l_U548 );
    sub_5119( 1799140107 );
    sub_5119( 672795858 );
    sub_5119( 1103070254 );
    sub_5119( -789094042 );
    sub_5119( 486848460 );
    if (bParam1)
    {
        CAMERA_PLAY_ANIMATED( "LEVEL_S_MARINA_CP_05", "MID_07_DOCKS_BLEND_OUT_FWD_CAM", 0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0 );
    }
    sub_7438( 1, 1 );
    sub_401( "RJM", "PLAY_MIDSCENE_07 end", 0 );
    return;
}

void sub_15442(unknown uParam0)
{
    if (sub_3283( uParam0 ))
    {
        FREEZE_PED_POSITION( uParam0, 1 );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uParam0, 1 );
        SET_PED_CAN_RAGDOLL_FROM_PLAYER_IMPACT( uParam0, 0 );
    }
    return;
}

void sub_15552(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to load does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 0)
    {
        ISEQ_REQUEST( uParam0 );
        ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
        if (iParam1 == 1)
        {
            while ((ISEQ_QUERY_STATE( uParam0, 1 )) == 1)
            {
                WAIT( 0 );
            }
        }
    }
    return;
}

void sub_15760(int iParam0, int iParam1, unknown uParam2)
{
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;

    sub_15772( iParam0 );
    if ((IS_PED_DEAD( sub_1433() )) == 0)
    {
        uVar5 = GET_WEAPON_FROM_HAND( sub_1433(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
        {
            if ((sub_15951( uVar5 )) == 1)
            {
                ref iParam0->_fU0->_fU0 = uVar5;
                ref iParam0->_fU0->_fU4 = GET_WEAPON_TYPE( uVar5 );
            }
            else if ((sub_16179( uVar5 )) == 1)
            {
                ref iParam0->_fU24->_fU0 = uVar5;
                ref iParam0->_fU24->_fU4 = GET_WEAPON_TYPE( uVar5 );
            }
        }
        uVar6 = GET_WEAPON_FROM_HAND( sub_1433(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar6 )) == 1)
        {
            ref iParam0->_fU12->_fU0 = uVar6;
            ref iParam0->_fU12->_fU4 = GET_WEAPON_TYPE( uVar6 );
        }
        uVar7 = GET_WEAPON_FROM_HOLSTER( sub_1433(), 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar7 )) == 1)
        {
            ref iParam0->_fU36->_fU0 = uVar7;
            ref iParam0->_fU36->_fU4 = GET_WEAPON_TYPE( uVar7 );
        }
        uVar8 = GET_WEAPON_FROM_HOLSTER( sub_1433(), 1 );
        if ((GET_DOES_WEAPON_EXIST( uVar8 )) == 1)
        {
            ref iParam0->_fU48->_fU0 = uVar8;
            ref iParam0->_fU48->_fU4 = GET_WEAPON_TYPE( uVar8 );
        }
        uVar9 = GET_WEAPON_FROM_HOLSTER( sub_1433(), 2 );
        if ((GET_DOES_WEAPON_EXIST( uVar9 )) == 1)
        {
            ref iParam0->_fU60->_fU0 = uVar9;
            ref iParam0->_fU60->_fU4 = GET_WEAPON_TYPE( uVar9 );
        }
    }
    if (iParam1 == 0)
    {
        if ((IS_PED_DEAD( sub_1433() )) == 0)
        {
            uVar10 = GET_WEAPON_FROM_HAND( sub_1433(), 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar10 )) == 1)
            {
                SELECT_WEAPON_TO_HAND( sub_1433(), 0, 0, uParam2 );
            }
            uVar11 = GET_WEAPON_FROM_HAND( sub_1433(), 1, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar11 )) == 1)
            {
                SELECT_WEAPON_TO_HAND( sub_1433(), 0, 1, uParam2 );
            }
        }
    }
    else if (iParam1 == 1)
    {
        if ((IS_PED_DEAD( sub_1433() )) == 0)
        {
            uVar12 = GET_WEAPON_FROM_HAND( sub_1433(), 0, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar12 )) == 1)
            {
                if ((sub_16179( uVar12 )) == 1)
                {
                    SELECT_WEAPON_TO_HAND( sub_1433(), 0, 0, uParam2 );
                }
            }
            uVar13 = GET_WEAPON_FROM_HAND( sub_1433(), 1, 0 );
            if ((GET_DOES_WEAPON_EXIST( uVar13 )) == 1)
            {
                SELECT_WEAPON_TO_HAND( sub_1433(), 0, 1, uParam2 );
            }
        }
    }
    return;
}

void sub_15772(int iParam0)
{
    ref iParam0->_fU0->_fU0 = 0;
    ref iParam0->_fU0->_fU4 = 0;
    ref iParam0->_fU12->_fU0 = 0;
    ref iParam0->_fU12->_fU4 = 0;
    ref iParam0->_fU24->_fU0 = 0;
    ref iParam0->_fU24->_fU4 = 0;
    ref iParam0->_fU36->_fU0 = 0;
    ref iParam0->_fU36->_fU4 = 0;
    ref iParam0->_fU48->_fU0 = 0;
    ref iParam0->_fU48->_fU4 = 0;
    ref iParam0->_fU60->_fU0 = 0;
    ref iParam0->_fU60->_fU4 = 0;
    return;
}

int sub_15951(unknown uParam0)
{
    int iVar3;

    if ((GET_DOES_WEAPON_EXIST( uParam0 )) == 1)
    {
        iVar3 = GET_WEAPON_TYPE( uParam0 );
        if ((iVar3 == 1194438308) || ((iVar3 == -76667461) || ((iVar3 == -1404433099) || ((iVar3 == 1131969637) || ((iVar3 == -691403429) || ((iVar3 == 1845102363) || ((iVar3 == 150541352) || ((iVar3 == -820634585) || ((iVar3 == -612753081) || ((iVar3 == 811797242) || ((iVar3 == 68019059) || ((iVar3 == -1464892298) || ((iVar3 == 456708483) || ((iVar3 == -862236369) || (iVar3 == 406496141)))))))))))))))
        {
            return 1;
        }
    }
    return 0;
}

int sub_16179(unknown uParam0)
{
    int iVar3;

    if ((GET_DOES_WEAPON_EXIST( uParam0 )) == 1)
    {
        iVar3 = GET_WEAPON_TYPE( uParam0 );
        if ((iVar3 == -2075384407) || ((iVar3 == 10648147) || ((iVar3 == 1224272620) || ((iVar3 == 1478009203) || ((iVar3 == 1964270085) || ((iVar3 == -110877124) || ((iVar3 == 427207702) || ((iVar3 == 319712764) || ((iVar3 == 514118749) || ((iVar3 == -184942895) || ((iVar3 == -168327769) || ((iVar3 == 434544317) || ((iVar3 == -1659006841) || ((iVar3 == 930042831) || ((iVar3 == 1001413062) || ((iVar3 == 377623895) || ((iVar3 == -1312131151) || ((iVar3 == -1787162676) || ((iVar3 == 724901397) || ((iVar3 == 57534114) || ((iVar3 == 840671040) || ((iVar3 == 1308526797) || ((iVar3 == -1074756423) || ((iVar3 == 1992962408) || (iVar3 == -1013714740)))))))))))))))))))))))))
        {
            return 1;
        }
    }
    return 0;
}

void sub_17026(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18)
{
    unknown uVar21;
    unknown uVar22;

    uVar21 = uParam0._fU24._fU0;
    if ((GET_DOES_WEAPON_EXIST( uVar21 )) == 1)
    {
        SET_WEAPON_VISIBLE( uVar21, uParam18 );
    }
    uVar22 = uParam0._fU60._fU0;
    if ((GET_DOES_WEAPON_EXIST( uVar22 )) == 1)
    {
        SET_WEAPON_VISIBLE( uVar22, uParam18 );
    }
    return;
}

void sub_17131(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18)
{
    unknown uVar21;

    uVar21 = uParam0._fU12._fU0;
    if ((GET_DOES_WEAPON_EXIST( uVar21 )) == 1)
    {
        SET_WEAPON_VISIBLE( uVar21, uParam18 );
    }
    return;
}

void sub_17189(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD( sub_1433() )) == 0)
    {
        iVar3 = 0;
        uVar4 = GET_WEAPON_FROM_HAND( sub_1433(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar4 )) == 0)
        {
            iVar3 = 1;
        }
        if (((sub_15951( uVar4 )) == 0) AND ((GET_DOES_WEAPON_EXIST( uVar4 )) == 1))
        {
            iVar3 = 1;
        }
        if (iVar3 == 1)
        {
            uVar5 = sub_17294();
            if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
            {
                SELECT_WEAPON_TO_HAND( sub_1433(), uVar5, 0, uParam0 );
            }
        }
    }
    return;
}

int sub_17294()
{
    unknown Result;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD( sub_1433() )) == 0)
    {
        Result = GET_WEAPON_FROM_HAND( sub_1433(), 0, 0 );
        if ((GET_DOES_WEAPON_EXIST( Result )) == 1)
        {
            if ((sub_15951( Result )) == 1)
            {
                return Result;
            }
        }
        uVar3 = GET_WEAPON_FROM_HAND( sub_1433(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            return uVar3;
        }
        uVar4 = GET_WEAPON_FROM_HOLSTER( sub_1433(), 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar4 )) == 1)
        {
            return uVar4;
        }
        uVar5 = GET_WEAPON_FROM_HOLSTER( sub_1433(), 1 );
        if ((GET_DOES_WEAPON_EXIST( uVar5 )) == 1)
        {
            return uVar5;
        }
    }
    return 0;
}

void sub_18202(unknown uParam0)
{
    int I;

    for ( I = 0; I <= 3; I++ )
    {
        if (IS_SCRIPTED_CONVERSATION_ONGOING( I ))
        {
            if ((g_U1[I] <= 8) AND (g_U1[I] >= 4))
            {
                STOP_SCRIPTED_CONVERSATION( I, uParam0, 0 );
            }
        }
    }
    return;
}

int sub_18318(int iParam0)
{
    if (iParam0->_fU20 == 1)
    {
        return 1;
    }
    if (iParam0->_fU16 == 1)
    {
        return 1;
    }
    return 0;
}

int sub_18771(boolean bParam0, boolean bParam1, unknown uParam2)
{
    int iVar5;
    unknown[7] uVar6;
    unknown[4] uVar14;
    boolean bVar19;
    vector vVar20;
    float fVar23;
    vector vVar24;
    vector vVar27;

    sub_401( "RJM", "PLAY_CUTSCENE_05_03 start", 0 );
    if (IS_STRING_NULL( uParam2 ))
    {
        uParam2 = l_U183;
    }
    sub_1371( 1, 0, 0, 1 );
    if (NOT (IS_PED_DEAD( sub_1433() )))
    {
        REMOVE_ALL_PED_WEAPONS( sub_1433() );
    }
    if (NOT bParam0)
    {
        sub_1992( g_U1026 );
        sub_1992( 1799140107 );
        sub_1992( 672795858 );
        sub_1992( 1103070254 );
        sub_1992( g_U1114 );
        sub_1992( g_U1115 );
        sub_1992( g_U1116 );
        sub_1992( g_U1117 );
        sub_1992( g_U1118 );
        sub_1992( g_U1119 );
        sub_1992( g_U1120 );
        sub_1992( g_U1121 );
        sub_1992( g_U1042 );
        sub_1992( 984150689 );
        sub_1992( -25483224 );
        sub_1992( 1766079890 );
        sub_1992( g_U1036 );
        sub_1992( -592858361 );
        sub_1992( 1593620416 );
        sub_1992( 1660942907 );
        sub_1992( 1593620416 );
        sub_19104( 68019059 );
        sub_19104( 1308526797 );
        sub_19104( 1194438308 );
        if (ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh9d" ))
        {
            sub_8131( l_U360 );
            l_U360 = sub_19267( -592858361, 3.67100000, 339.13300000, -0.17300000, 0, 0, 0, 0, 0, 0 );
            FREEZE_OBJECT_POSITION( l_U360, 1 );
        }
        else
        {
            sub_19507();
        }
    }
    array(ref uVar6, 7);
    array(ref uVar14, 4);
    if (ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh9" ))
    {
        uVar6[0] = sub_8185( 1593620416, 6.92500000, 373.36000000, 0.66300000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        uVar6[1] = sub_8185( 1593620416, 5.34600000, 371.32000000, 0.66300000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        uVar6[2] = sub_8185( 1593620416, 6.45000000, 371.27500000, 0.66300000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        uVar6[3] = sub_8185( 1593620416, 6.18700000, 370.15200000, 0.66300000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        uVar6[4] = sub_8185( 1593620416, 8.02800000, 371.95300000, 0.66300000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        uVar6[5] = sub_8185( 1660942907, 8.54000000, 374.98700000, 0.61600000, 0.00000000, 80.50000000, -65.00000000, 0, 0, 0 );
        uVar6[6] = sub_8185( 1660942907, 7.34400000, 370.70400000, 0.61600000, 0.00000000, 80.50000000, -140.00000000, 0, 0, 0 );
    }
    else if (ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh9d" ))
    {
        uVar14[0] = sub_8185( 1593620416, 15.53300000, 369.08300000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        uVar14[1] = sub_8185( 1593620416, 5.08600000, 370.03800000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        uVar14[2] = sub_8185( 1593620416, 2.95600000, 364.36800000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        uVar14[3] = sub_8185( 1660942907, 4.89800000, 367.48500000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
    }
    if (NOT bParam0)
    {
        if ((ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh9d" )) || (ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh9" )))
        {
            sub_21749( sub_1433() );
        }
        else
        {
            sub_21961( sub_1433() );
        }
    }
    bVar19 = false;
    if (ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh7a" ))
    {
        bVar19 = true;
        l_U361 = 0;
        l_U362 = 0;
    }
    if ((ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh9d" )) || (ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh9" )))
    {
        sub_401( "BSW", "PLAY_CUTSCENE_05_03 starting fire", 0 );
        l_U169[0] = START_PARTICLE_FX_LOOPED_AT_COORD( "CS_Flame_spread_S", 8.50000000, 371.00000000, -0.05000000, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
        l_U169[1] = START_PARTICLE_FX_LOOPED_AT_COORD( "CS_Flame_spread_S", 7.00000000, 369.00000000, -0.05000000, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
        l_U169[2] = START_PARTICLE_FX_LOOPED_AT_COORD( "CS_Flame_spread_S", 7.75000000, 370.50000000, -0.05000000, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
        l_U169[3] = START_PARTICLE_FX_LOOPED_AT_COORD( "CS_Flame_spread_S", 6.50000000, 368.50000000, -0.05000000, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
        l_U169[4] = START_PARTICLE_FX_LOOPED_AT_COORD( "CS_Flame_spread_S", 9.10000000, 386.50000000, -0.05000000, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
        l_U169[5] = START_PARTICLE_FX_LOOPED_AT_COORD( "CS_Flame_spread_S", 2.70000000, 366.50000000, -0.05000000, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
    }
    if ((ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh9d" )) || ((ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh9b" )) || (ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh8" ))))
    {
        sub_401( "BSW", "PLAY_CUTSCENE_05_03 starting fire", 0 );
        l_U176[0] = START_PARTICLE_FX_LOOPED_AT_COORD( "CS_Flame_spread_S", 5.30000000, 339.00000000, 1.00000000, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
        l_U176[1] = START_PARTICLE_FX_LOOPED_AT_COORD( "CS_Flame_spread_S", 5.00000000, 335.00000000, 1.00000000, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
        l_U176[2] = START_PARTICLE_FX_LOOPED_AT_COORD( "CS_Flame_spread_S", 4.50000000, 345.00000000, 1.00000000, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
        l_U176[3] = START_PARTICLE_FX_LOOPED_AT_COORD( "CS_Flame_spread_S", 4.00000000, 341.00000000, 1.00000000, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
        l_U176[4] = START_PARTICLE_FX_LOOPED_AT_COORD( "CS_Flame_spread_S", 2.00000000, 338.00000000, 1.00000000, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
        l_U176[5] = START_PARTICLE_FX_LOOPED_AT_COORD( "CS_Flame_spread_S", 0.00000000, 345.60000000, 1.00000000, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
    }
    if (NOT bParam0)
    {
        if (ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh8" ))
        {
            vVar20 = {6.85600000, 347.74000000, 1.61000000};
            fVar23 = 90.00000000;
        }
        else if (ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh9" ))
        {
            vVar20 = {5.54000000, 370.67000000, 0.20000000};
            fVar23 = 0.00000000;
        }
        else if (ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh9b" ))
        {
            vVar20 = {6.85600000, 347.74000000, 1.61000000};
            fVar23 = 90.00000000;
        }
        else if (ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh9d" ))
        {
            vVar20 = {5.54000000, 370.67000000, 0.20000000};
            fVar23 = 180.00000000;
        }
        else
        {
            vVar20 = {-6.17820600, 330.57930000, 0.69531400};
            fVar23 = 270.55840000;
        };;;;
        if (NOT (ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh9d" )))
        {
            sub_23637();
        }
        sub_3896( uParam2, 1 );
        if (sub_7230())
        {
            sub_26241( sub_1433(), vVar20, fVar23 );
            if ((NOT (ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh9d" ))) || (NOT (ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh9" ))))
            {
                if (NOT (IS_PED_DEAD( sub_1433() )))
                {
                    FREEZE_PED_POSITION( sub_1433(), 1 );
                }
            }
            SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0, 1065353216, 0 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0, 1065353216, 0 );
            LOAD_SCENE( vVar20 );
            WAIT( 30 );
            while (NOT (GET_NUMBER_OF_STREAMING_REQUESTS() == 0))
            {
                WAIT( 0 );
            }
            if (NOT (IS_PED_DEAD( sub_1433() )))
            {
                FREEZE_PED_POSITION( sub_1433(), 0 );
            }
            WAIT( 3000 );
        }
    }
    sub_5369( l_U345 );
    l_U345 = sub_3437( 170939170, 0, 0, 0, 0.00000000, 1, 0, 0 );
    if (sub_4326( l_U345 ))
    {
        SET_VEHICLE_ENGINE_ON( l_U345, 0, 1 );
    }
    sub_5369( l_U346 );
    l_U346 = sub_3437( 170939170, 0, 0, 0, 0.00000000, 1, 0, 0 );
    if (sub_4326( l_U346 ))
    {
        SET_VEHICLE_ENGINE_ON( l_U346, 0, 1 );
    }
    g_U1365 = sub_3437( g_U1036, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 1, 0, 0 );
    l_U350 = sub_8185( 984150689, 1.00000000, 1.00000000, 1.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 1, 0 );
    vVar24 = {-0.60000000, -4.00000000, 0.80000000};
    vVar27 = {0.60000000, -4.00000000, 0.80000000};
    if (sub_4326( g_U1365 ))
    {
        l_U348 = sub_8185( -25483224, (vector( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( g_U1365 ))) + vVar24, 0.00000000, 0.00000000, 0.00000000, 0, 1, 0 );
        l_U349 = sub_8185( 1766079890, (vector( "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_VEHICLE_COORDS( g_U1365 ))) + vVar27, 0.00000000, 0.00000000, 0.00000000, 0, 1, 0 );
    }
    sub_26888();
    if (sub_4326( l_U345 ))
    {
        sub_401( "RJM", "Registering Boat with 05_03_DOCKS_concat", 0 );
        REGISTER_VEHICLE_PRE_SEAMLESS_CUTSCENE( l_U345, "boat_chase", 0 );
    }
    if (sub_4326( l_U346 ))
    {
        sub_401( "RJM", "Registering Boat with 05_03_DOCKS_concat", 0 );
        REGISTER_VEHICLE_PRE_SEAMLESS_CUTSCENE( l_U346, "boat_chase^1", 0 );
    }
    if (sub_4326( g_U1365 ))
    {
        ATTACH_OBJECT_TO_VEHICLE( l_U350, g_U1365, 0, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 0.00000000 );
        ATTACH_OBJECT_TO_VEHICLE( l_U348, g_U1365, 0, vVar24, 0.00000000, 0.00000000, 0.00000000 );
        ATTACH_OBJECT_TO_VEHICLE( l_U349, g_U1365, 0, vVar27, 0.00000000, 0.00000000, 0.00000000 );
        SET_VEHICLE_EXTRA( g_U1365, 1, 0 );
        SET_VEHICLE_EXTRA( g_U1365, 2, 1 );
        SET_VEHICLE_EXTRA( g_U1365, 3, 1 );
        SET_VEHICLE_EXTRA( g_U1365, 4, 1 );
        SET_VEHICLE_EXTRA( g_U1365, 5, 0 );
        SET_VEHICLE_EXTRA( g_U1365, 6, 1 );
        sub_401( "SA", "Registering Passos's Boat with 05_03_DOCKS_concat", 0 );
        REGISTER_VEHICLE_PRE_SEAMLESS_CUTSCENE( g_U1365, "boat_rs", 0 );
    }
    if (sub_29349( ref g_U1523 ))
    {
        sub_401( "RJM", "PLAY_CUTSCENE_05_03 - Registering hidden Final Fence.", 0 );
        REGISTER_HIDE_ENTITY_AT_POSITION( g_U1523._fU0, g_U1523._fU4 );
    }
    else
    {
        sub_401( "RJM", "PLAY_CUTSCENE_05_03 - Final Fence doesn't exist here?", 0 );
    }
    CUTSCENE_DISABLE_FADE_IN_GAME_AT_END( 1 );
    if (bParam1)
    {
        START_CUTSCENE_CAPTURE( uParam2 );
    }
    SET_PED_PTFX_SPLASH_OUT_SPECIAL_EFFECT( 1 );
    SET_PAYNE_BOAT_PTFX_CUTSCENE_EFFECT( 1 );
    if (ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh9" ))
    {
        sub_401( "SBA", "PLAY_CUTSCENE_05_03 setting VFX for section 9", 0 );
        SET_WAKES_SECTION( 16 );
        SET_PAYNE_BOAT_PTFX_MAX_SPEED_EVO( 1 );
    }
    else if (ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh4" ))
    {
        sub_401( "SBA", "PLAY_CUTSCENE_05_03 setting VFX for section 4", 0 );
        SET_WAKES_SECTION( 15 );
    }
    else
    {
        SET_WAKES_SECTION( 14 );
    }
    SET_BIG_BOATS_PTFX_MAX_SPEED_EVO( 1 );
    OVERRIDE_WATER_SETTINGS( 11.00000000, 1.00000000, 160 );
    CUTSCENE_DISABLE_FADE_IN_GAME_AT_END( 1 );
    if (bParam0)
    {
        CUTSCENE_ENABLE_SKIP( 0 );
        AUD_ENABLE_PRE_BINK_SHUTDOWN( 1 );
    }
    if (bParam0 == 1)
    {
        CUTSCENE_REGISTER_SWITCH_TO_LEVEL_NAME( "s_boat" );
    }
    DISABLE_FADE_BETWEEN_SP_LEVELS();
    START_SEAMLESS_CUTSCENE();
    g_U1231 = 1;
    l_U185 = 1;
    if (ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh8" ))
    {
        l_U185 = 0;
        l_U186 = 0;
        l_U187 = 750;
        l_U188 = 2000;
    }
    else if (ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh9b" ))
    {
        l_U185 = 0;
        l_U187 = 1000;
    }
    WAIT( 1 );
    sub_1592( 10 );
    while (NOT HAS_CUTSCENE_FINISHED())
    {
        iVar5 = GET_CUTSCENE_TIME_MS();
        if (bVar19)
        {
            sub_30106();
        }
        if (iVar5 > l_U187)
        {
            if (NOT l_U185)
            {
                sub_401( "RJM", "Playing explosions", 0 );
                l_U185 = 1;
                sub_30608( uParam2 );
            }
        }
        if ((NOT l_U186) AND (iVar5 > l_U188))
        {
            sub_31028( uParam2, 1.30000000 );
            l_U186 = 1;
        }
        if (NOT l_U184)
        {
            if (ARE_STRINGS_EQUAL( uParam2, "05_03_docks_sh9" ))
            {
                if (iVar5 > 15140)
                {
                    SET_WAKES_SECTION( 14 );
                    SET_PAYNE_BOAT_PTFX_MAX_SPEED_EVO( 1 );
                    l_U184 = 1;
                }
            }
        }
        WAIT( 0 );
    }
    SET_PAYNE_BOAT_PTFX_MAX_SPEED_EVO( 0 );
    SET_PED_PTFX_SPLASH_OUT_SPECIAL_EFFECT( 0 );
    SET_PAYNE_BOAT_PTFX_CUTSCENE_EFFECT( 0 );
    SET_WAKES_SECTION( 0 );
    USE_DEFAULT_WATER_SETTINGS();
    SET_BIG_BOATS_PTFX_MAX_SPEED_EVO( 0 );
    if (bParam0)
    {
        DO_SCREEN_FADE_OUT( 0 );
    }
    g_U1232 = 1;
    while (NOT HAS_CUTSCENE_UNLOADED())
    {
        WAIT( 0 );
    }
    if (bParam1)
    {
        STOP_CUTSCENE_CAPTURE();
    }
    sub_31583();
    sub_5369( l_U345 );
    sub_5369( l_U346 );
    sub_8131( l_U348 );
    sub_8131( l_U349 );
    sub_8131( l_U350 );
    sub_19558( ref uVar6 );
    sub_19558( ref uVar14 );
    sub_5369( g_U1365 );
    sub_31743();
    sub_5119( 1660942907 );
    sub_5119( 1593620416 );
    sub_5119( -140197840 );
    sub_5119( -789094042 );
    sub_5119( 486848460 );
    sub_5119( g_U1026 );
    sub_5119( 1799140107 );
    sub_5119( 672795858 );
    sub_5119( 1103070254 );
    sub_5119( g_U1042 );
    sub_5119( 984150689 );
    sub_5119( -25483224 );
    sub_5119( 1766079890 );
    sub_5119( g_U1036 );
    sub_7438( 1, 1 );
    l_U185 = 0;
    l_U184 = 0;
    CUTSCENE_DISABLE_FADE_IN_GAME_AT_END( 0 );
    if (sub_7230())
    {
        sub_26241( sub_1433(), 3.38713700, 336.32720000, 0.57725800, 0 );
    }
    sub_401( "RJM", "PLAY_CUTSCENE_05_03 end", 0 );
    return 1;
}

void sub_19104(unknown uParam0)
{
    REQUEST_WEAPON( uParam0 );
    LOAD_ALL_OBJECTS_NOW();
    while ((HAS_WEAPON_LOADED( uParam0 )) == 0)
    {
        LOAD_ALL_OBJECTS_NOW();
        WAIT( 0 );
    }
    return;
}

void sub_19267(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
        sub_2632( uParam0, 1 );
    }
    Result = CREATE_OBJECT_NO_OFFSET( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

void sub_19507()
{
    sub_401( "GA", "CREATE_FUEL_PUMPS start", 0 );
    sub_19558( ref l_U351 );
    l_U351[0] = sub_19267( g_U1114, 5.00000000, 344.00000000, 0.50000000, 0, 0, 0, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U351[0] ))
    {
        FREEZE_OBJECT_POSITION( l_U351[0], 1 );
        SET_OBJECT_PROOFS( l_U351[0], 1, 1, 1, 1, 1 );
    }
    l_U351[1] = sub_19267( g_U1115, 3.72855700, 341.12540000, 4.92846700, 0, 0, 0, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U351[1] ))
    {
        FREEZE_OBJECT_POSITION( l_U351[1], 1 );
        SET_OBJECT_PROOFS( l_U351[1], 1, 1, 1, 1, 1 );
    }
    l_U351[2] = sub_19267( g_U1116, -0.50000000, 338.00000000, 2.00000000, 0, 0, 0, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U351[2] ))
    {
        FREEZE_OBJECT_POSITION( l_U351[2], 1 );
        SET_OBJECT_PROOFS( l_U351[2], 1, 1, 1, 1, 1 );
    }
    l_U351[3] = sub_19267( g_U1117, 3.00000000, 348.00000000, 0.00000000, 0, 0, 0, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U351[3] ))
    {
        FREEZE_OBJECT_POSITION( l_U351[3], 1 );
        SET_OBJECT_PROOFS( l_U351[3], 1, 1, 1, 1, 1 );
    }
    l_U351[4] = sub_19267( g_U1118, 5.50000000, 339.00000000, 0.00000000, 0, 0, 0, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U351[4] ))
    {
        FREEZE_OBJECT_POSITION( l_U351[4], 1 );
        SET_OBJECT_PROOFS( l_U351[4], 1, 1, 1, 1, 1 );
    }
    l_U351[5] = sub_19267( g_U1119, 4.00000000, 341.00000000, 0.00000000, 0, 0, 0, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U351[5] ))
    {
        FREEZE_OBJECT_POSITION( l_U351[5], 1 );
        SET_OBJECT_PROOFS( l_U351[5], 1, 1, 1, 1, 1 );
    }
    l_U351[6] = sub_19267( g_U1120, 1.00000000, 337.00000000, 0.00000000, 0, 0, 0, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U351[6] ))
    {
        FREEZE_OBJECT_POSITION( l_U351[6], 1 );
        SET_OBJECT_PROOFS( l_U351[6], 1, 1, 1, 1, 1 );
    }
    l_U351[7] = sub_19267( g_U1121, 1.00000000, 350.00000000, 2.00000000, 0, 0, 0, 0, 0, 0 );
    if (DOES_OBJECT_EXIST( l_U351[7] ))
    {
        FREEZE_OBJECT_POSITION( l_U351[7], 1 );
        SET_OBJECT_PROOFS( l_U351[7], 1, 1, 1, 1, 1 );
    }
    sub_20400();
    sub_401( "GA", "CREATE_FUEL_PUMPS end", 0 );
    return;
}

void sub_19558(unknown uParam0)
{
    int I;

    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        sub_8131( (uParam0^)[I] );
    }
    return;
}

void sub_20400()
{
    char[36] cVar2;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    unknown uVar37;
    unknown uVar38;
    unknown uVar39;
    unknown uVar40;
    unknown uVar41;
    unknown uVar42;
    unknown uVar43;
    unknown uVar44;
    unknown uVar45;
    unknown uVar46;
    unknown uVar47;
    unknown uVar48;
    unknown uVar49;
    unknown uVar50;
    unknown uVar51;
    unknown uVar52;
    unknown uVar53;
    unknown uVar54;
    unknown uVar55;
    unknown uVar56;
    unknown uVar57;
    unknown uVar58;
    unknown uVar59;
    unknown uVar60;
    unknown uVar61;
    unknown uVar62;
    unknown uVar63;
    unknown uVar64;
    unknown uVar65;
    unknown uVar66;
    int I;

    array(ref cVar2, 8);
    STOP_PARTICLE_FX_LOOPED( l_U169[0] );
    STOP_PARTICLE_FX_LOOPED( l_U169[1] );
    STOP_PARTICLE_FX_LOOPED( l_U169[2] );
    STOP_PARTICLE_FX_LOOPED( l_U169[3] );
    STOP_PARTICLE_FX_LOOPED( l_U169[4] );
    STOP_PARTICLE_FX_LOOPED( l_U169[5] );
    STOP_PARTICLE_FX_LOOPED( l_U176[0] );
    STOP_PARTICLE_FX_LOOPED( l_U176[1] );
    STOP_PARTICLE_FX_LOOPED( l_U176[2] );
    STOP_PARTICLE_FX_LOOPED( l_U176[3] );
    STOP_PARTICLE_FX_LOOPED( l_U176[4] );
    STOP_PARTICLE_FX_LOOPED( l_U176[5] );
    STOP_PARTICLE_FX_LOOPED( l_U163[0] );
    STOP_PARTICLE_FX_LOOPED( l_U163[1] );
    STOP_PARTICLE_FX_LOOPED( l_U163[2] );
    STOP_PARTICLE_FX_LOOPED( l_U163[3] );
    STOP_PARTICLE_FX_LOOPED( l_U163[4] );
    StrCopy( ref cVar2[0], "p_ma_exppmp_aa_h", 32 );
    StrCopy( ref cVar2[1], "p_ma_exppmp_ra_h", 32 );
    StrCopy( ref cVar2[2], "p_ma_exppmp_ca_h", 32 );
    StrCopy( ref cVar2[3], "p_ma_exppmp_ba_h", 32 );
    StrCopy( ref cVar2[4], "p_ma_exppmp_da_h", 32 );
    StrCopy( ref cVar2[5], "p_ma_exppmp_ea_h", 32 );
    StrCopy( ref cVar2[6], "p_ma_exppmp_fa_h", 32 );
    StrCopy( ref cVar2[7], "p_ma_fenexp_aa_h", 32 );
    for ( I = 0; I < cVar2; I++ )
    {
        if (DOES_OBJECT_EXIST( l_U351[I] ))
        {
            if (IS_OBJECT_PLAYING_ANIM( l_U351[I], ref cVar2[I], "ma_int" ))
            {
                SET_OBJECT_ANIM_CURRENT_TIME( l_U351[I], ref cVar2[I], "ma_int", 1.00000000 );
            }
        }
    }
    return;
}

void sub_21749(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_COMPONENT_VARIATION( uParam0, 0, 0, 16, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 1, 10, 0, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 2, 23, 0, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 3, 14, 0, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 4, 4, 0, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 5, 11, 0, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 6, 6, 1, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 7, 0, 0, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 8, 1, 1, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 9, 0, 0, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 11, 0, 0, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 12, 1, 0, 0 );
    }
    return;
}

void sub_21961(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_COMPONENT_VARIATION( uParam0, 0, 0, 17, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 1, 9, 0, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 2, 2, 0, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 3, 11, 0, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 4, 4, 0, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 5, 4, 0, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 6, 6, 0, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 7, 0, 0, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 8, 1, 1, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 9, 0, 0, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 11, 0, 0, 0 );
        SET_PED_COMPONENT_VARIATION( uParam0, 12, 1, 0, 0 );
    }
    return;
}

void sub_23637()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;

    sub_2233( ref l_U203, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 672795858, 7, 3, 2, 0, 0 );
    sub_2351( ref l_U189, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 516057477, 7, 3, 2, 0, 0 );
    sub_2351( ref l_U217, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 443275588, 7, 3, 2, 0, 0 );
    sub_2351( ref l_U231, 0.00000000, 0.00000000, 0.00000000, 0.00000000, 2143350548, 7, 3, 2, 0, 0 );
    sub_2351( ref l_U245, 0.00000000, 0.00000000, 0.00000000, 0.00000000, -763623256, 7, 3, 2, 0, 0 );
    sub_2351( ref l_U259, 0.00000000, 0.00000000, 0.00000000, 0.00000000, -920950695, 7, 3, 2, 0, 0 );
    sub_2351( ref l_U273[0], 0.00000000, 0.00000000, 0.00000000, 0.00000000, 443275588, 7, 3, 2, 0, 0 );
    sub_2351( ref l_U273[1], 0.00000000, 0.00000000, 0.00000000, 0.00000000, 2143350548, 7, 3, 2, 0, 0 );
    sub_2351( ref l_U273[2], 0.00000000, 0.00000000, 0.00000000, 0.00000000, 2143350548, 7, 3, 2, 0, 0 );
    sub_2351( ref l_U273[3], 0.00000000, 0.00000000, 0.00000000, 0.00000000, -763623256, 7, 3, 2, 0, 0 );
    sub_2351( ref l_U273[4], 0.00000000, 0.00000000, 0.00000000, 0.00000000, -920950695, 7, 3, 2, 0, 0 );
    l_U202 = sub_2462( ref l_U189 );
    if (sub_3283( l_U202 ))
    {
        sub_24125( l_U202 );
        sub_24180( l_U202 );
    }
    l_U216 = sub_2462( ref l_U203 );
    if (sub_3283( l_U216 ))
    {
        sub_24125( l_U216 );
        sub_9086( l_U216, 68019059, 25000, 0, 0 );
        sub_24180( l_U216 );
    }
    l_U230 = sub_2462( ref l_U217 );
    if (sub_3283( l_U230 ))
    {
        sub_24125( l_U230 );
        sub_9086( l_U230, 68019059, 25000, 0, 0 );
        sub_24180( l_U230 );
    }
    l_U244 = sub_2462( ref l_U231 );
    sub_24125( l_U244 );
    if (sub_3283( l_U244 ))
    {
        sub_24125( l_U244 );
        sub_9086( l_U244, 1308526797, 25000, 0, 0 );
        sub_24180( l_U244 );
    }
    l_U258 = sub_2462( ref l_U245 );
    if (sub_3283( l_U258 ))
    {
        sub_24125( l_U258 );
        sub_9086( l_U258, 1308526797, 25000, 0, 0 );
        sub_24180( l_U258 );
    }
    l_U272 = sub_2462( ref l_U259 );
    if (sub_3283( l_U272 ))
    {
        sub_24125( l_U272 );
        sub_9086( l_U272, 1194438308, 25000, 0, 0 );
        sub_24180( l_U272 );
    }
    sub_24680( ref l_U273, ref l_U339, ref uVar2, 1194438308, 1.00000000, "AIT_NORMAL", 0, 0, 25000, 2, 0, 25000, 0 );
    return;
}

void sub_24125(unknown uParam0)
{
    if (sub_3283( uParam0 ))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( uParam0, 1 );
        SET_PED_CAN_RAGDOLL_FROM_PLAYER_IMPACT( uParam0, 0 );
    }
    return;
}

void sub_24180(unknown uParam0)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_FREEZE_PROCESSING( uParam0, 1 );
        SET_PED_VISIBLE( uParam0, 0 );
        SET_PED_VISIBLE_DURING_SEQUENCE( uParam0, 0 );
        FREEZE_PED_POSITION( uParam0, 1 );
        SET_PED_COLLISION( uParam0, 0 );
        SET_PED_PROOFS( uParam0, 1, 1, 1, 1, 1 );
    }
    return;
}

void sub_24680(unknown uParam0, unknown uParam1, unknown uParam2, int iParam3, unknown uParam4, unknown uParam5, boolean bParam6, unknown uParam7, unknown uParam8, unknown uParam9, int iParam10, unknown uParam11, unknown uParam12)
{
    int I;
    unknown uVar16;
    int iVar17;

    if ((uParam0^) != (uParam1^))
    {
        SCRIPT_ASSERT( "PED_ARRAY_INITIALIZE - Array sizes don't match!!", 0 );
        return;
    }
    sub_13269( uParam2, uParam4, 0 );
    if (IS_STRING_NULL( uParam12 ))
    {
        uParam12 = l_U44;
    }
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        sub_5280( (uParam1^)[I] );
        (uParam1^)[I] = sub_2462( ref (uParam0^)[I] );
        if (sub_3283( (uParam1^)[I] ))
        {
            sub_24180( (uParam1^)[I] );
            SET_PED_AI_TEMPLATE( (uParam1^)[I], uParam5 );
            SET_PED_ALERTNESS( (uParam1^)[I], uParam9 );
            SET_PED_ALLOWED_TO_SURRENDER( (uParam1^)[I], 0 );
            sub_13528( (uParam1^)[I], uParam2 );
            if (iParam3 != 0)
            {
                if (iParam3 != -1569615261)
                {
                    uVar16 = sub_9086( (uParam1^)[I], iParam3, uParam8, 0, 0 );
                }
                if (iParam10 != 0)
                {
                    sub_25016( (uParam1^)[I], iParam10, 0, uParam11, 0 );
                }
            }
            else if (I < 10)
            {
                iVar17 = l_U45[I]._fU0;
                if ((iVar17 != -1569615261) AND (iVar17 != 0))
                {
                    sub_9086( (uParam1^)[I], iVar17, l_U45[I]._fU4, 0, 0 );
                }
                if (l_U45[I]._fU8 != 0)
                {
                    sub_25016( (uParam1^)[I], l_U45[I]._fU8, 0, l_U45[I]._fU12, 0 );
                }
            }
            if (bParam6)
            {
                sub_25505( (uParam1^)[I], iParam3 );
            }
            switch (uParam7)
            {
                case 0: break;
                case 1:
                ENABLE_WEAPON_ATTACHMENT( uVar16, 13, 1 );
                TOGGLE_WEAPON_ATTACHMENT( uVar16, 13, 1 );
                break;
                case 2:
                ENABLE_WEAPON_ATTACHMENT( uVar16, 14, 1 );
                TOGGLE_WEAPON_ATTACHMENT( uVar16, 14, 1 );
                break;
                case 3:
                ENABLE_WEAPON_ATTACHMENT( uVar16, 12, 1 );
                TOGGLE_WEAPON_ATTACHMENT( uVar16, 12, 1 );
                break;
            }
        }
        WAIT( 1 );
    }
    sub_26101( uParam1, uParam12 );
    return;
}

void sub_25016(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's holster MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HOLSTER( uParam0, uParam1, uParam3, uParam2 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
                }
            }
        }
    }
    else
    {
        sub_2108( "[SP]### (F_GivePedWeaponToHolster) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

void sub_25505(unknown uParam0, unknown uParam1)
{
    switch (uParam1)
    {
        case -1569615261:
        case 406496141:
        case -862236369:
        case 456708483:
        case -1464892298:
        case 68019059:
        case -612753081:
        case -820634585:
        SET_PED_COMBAT_RANGE_MAX( uParam0, 10.00000000 );
        SET_PED_COMBAT_RANGE_MIN( uParam0, 1.00000000 );
        break;
        case 434544317:
        case 1845102363:
        case -168327769:
        case -184942895:
        case 514118749:
        case 1964270085:
        case -691403429:
        case 1478009203:
        case -1404433099:
        case 1194438308:
        SET_PED_COMBAT_RANGE( uParam0, 1 );
        SET_PED_COMBAT_RANGE_MAX( uParam0, 20.00000000 );
        SET_PED_COMBAT_RANGE_MIN( uParam0, 1.00000000 );
        break;
        case -1013714740:
        case -1074756423:
        case 1308526797:
        case 840671040:
        case 57534114:
        case 724901397:
        case 1992962408:
        SET_PED_COMBAT_RANGE( uParam0, 2 );
        SET_PED_COMBAT_RANGE_MAX( uParam0, 30.00000000 );
        SET_PED_COMBAT_RANGE_MIN( uParam0, 1.00000000 );
        break;
        case 1224272620:
        case 10648147:
        case 377623895:
        case 319712764:
        case -110877124:
        case -1659006841:
        SET_PED_COMBAT_RANGE( uParam0, 3 );
        SET_PED_COMBAT_RANGE_MAX( uParam0, 50.00000000 );
        SET_PED_COMBAT_RANGE_MIN( uParam0, 5.00000000 );
        break;
    }
    return;
}

void sub_26101(unknown uParam0, unknown uParam1)
{
    int I;
    char[32] cVar5;

    for ( I = 0; I < (uParam0^); I++ )
    {
        if (DOES_PED_EXIST( (uParam0^)[I] ))
        {
            StrCopy( ref cVar5, uParam1, 32 );
            ConcatString(ref cVar5, " ", 32);
            ConcatString(ref cVar5, I, 32);
            SET_PED_NAME_DEBUG( (uParam0^)[I], ref cVar5 );
        }
    }
    return;
}

void sub_26241(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_COORDS( uParam0, uParam1, 1 );
        SET_PED_HEADING( uParam0, uParam4 );
    }
    return;
}

void sub_26888()
{
    if (sub_3283( sub_1433() ))
    {
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( sub_1433(), 0, 0 ), "W_PI_PT92_Aa_H", 0 );
    }
    if (sub_3283( l_U202 ))
    {
        sub_26972( l_U202 );
        sub_401( "RJM", "Registering pi_05_03_Fabiana with 05_03_DOCKS_concat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U202, "Fabi_Docks", 0 );
    }
    if (sub_3283( l_U216 ))
    {
        sub_26972( l_U216 );
        sub_401( "RJM", "Registering pi_05_03_Sero with 05_03_DOCKS_concat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U216, "Sero_Unif_1", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U216, 0, 0 ), "W_PI_PT92_Aa_H^1", 0 );
    }
    if (sub_3283( l_U230 ))
    {
        sub_26972( l_U230 );
        sub_401( "RJM", "Registering pi_05_03_DockE_0 with 05_03_DOCKS_concat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U230, "G_CS_DOCK_E", 0 );
    }
    if (sub_3283( l_U244 ))
    {
        sub_26972( l_U244 );
        sub_401( "RJM", "Registering pi_05_03_DockE_1 with 05_03_DOCKS_concat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U244, "G_CS_DOCK_E^1", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U244, 0, 0 ), "W_AR_AK47_Aa_H", 0 );
    }
    if (sub_3283( l_U258 ))
    {
        sub_26972( l_U258 );
        sub_401( "RJM", "Registering pi_05_03_DockE_2 with 05_03_DOCKS_concat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U258, "G_CS_DOCK_E^2", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U258, 0, 0 ), "W_AR_AK47_Aa_H^1", 0 );
    }
    if (sub_3283( l_U272 ))
    {
        sub_26972( l_U272 );
        sub_401( "RJM", "Registering pi_05_03_DockE_3 with 05_03_DOCKS_concat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U272, "G_CS_DOCK_E^3", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U272, 0, 0 ), "W_SB_Uzi_Aa_H", 0 );
    }
    if (sub_3283( l_U339[0] ))
    {
        sub_26972( l_U339[0] );
        sub_401( "RJM", "Registering pi_05_03_SecondBoatCrew[0] with 05_03_DOCKS_concat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U339[0], "G_CS_DOCK_E^4", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U339[0], 0, 0 ), "W_PI_PT92_Aa_H^2", 0 );
    }
    if (sub_3283( l_U339[1] ))
    {
        sub_26972( l_U339[1] );
        sub_401( "RJM", "Registering pi_05_03_SecondBoatCrew[1] with 05_03_DOCKS_concat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U339[1], "G_CS_DOCK_E^5", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U339[1], 0, 0 ), "W_PI_PT92_Aa_H", 0 );
    }
    if (sub_3283( l_U339[2] ))
    {
        sub_26972( l_U339[2] );
        sub_401( "RJM", "Registering pi_05_03_SecondBoatCrew[2] with 05_03_DOCKS_concat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U339[2], "G_CS_DOCK_E^6", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U339[2], 0, 0 ), "W_SB_Uzi_Aa_H^1", 0 );
    }
    if (sub_3283( l_U339[3] ))
    {
        sub_26972( l_U339[3] );
        sub_401( "RJM", "Registering pi_05_03_SecondBoatCrew[3] with 05_03_DOCKS_concat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U339[3], "G_CS_DOCK_E^7", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U339[3], 0, 0 ), "W_AR_AK47_Aa_H^3", 0 );
    }
    if (sub_3283( l_U339[4] ))
    {
        sub_26972( l_U339[4] );
        sub_401( "RJM", "Registering pi_05_03_SecondBoatCrew[4] with 05_03_DOCKS_concat", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U339[4], "G_CS_DOCK_E^8", 0 );
        REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( l_U339[4], 0, 0 ), "W_AR_AK47_Aa_H^2", 0 );
    }
    return;
}

void sub_26972(unknown uParam0)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_FREEZE_PROCESSING( uParam0, 0 );
        SET_PED_VISIBLE( uParam0, 1 );
        SET_PED_VISIBLE_DURING_SEQUENCE( uParam0, 1 );
        FREEZE_PED_POSITION( uParam0, 0 );
        SET_PED_COLLISION( uParam0, 1 );
        SET_PED_PROOFS( uParam0, 0, 0, 0, 0, 0 );
    }
    return;
}

int sub_29349(int iParam0)
{
    int iVar3;

    iVar3 = DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS( iParam0->_fU4, 1.00000000, iParam0->_fU0 );
    if (iVar3 == 1)
    {
        return 1;
    }
    return 0;
}

void sub_30106()
{
    if (NOT l_U361)
    {
        l_U163[0] = START_PARTICLE_FX_LOOPED_AT_COORD( "Fire_engineroom_burst_S", 4.77052700, 342.66490000, 2.03295200, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
        l_U361 = 1;
    }
    if ((GET_CUTSCENE_TIME_MS() > 1200) AND (NOT l_U362))
    {
        l_U163[1] = START_PARTICLE_FX_LOOPED_AT_COORD( "Docks_Fire_light_S", 5.11612400, 341.94450000, 6.00000000, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
        l_U163[2] = START_PARTICLE_FX_LOOPED_AT_COORD( "Docks_Gas_Pump_Burn_S", 5.34216300, 342.66610000, 1.00000000, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
        l_U163[3] = START_PARTICLE_FX_LOOPED_AT_COORD( "Docks_Gas_Ground_Burn_S", 4.97708200, 343.42570000, 0.60000000, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
        l_U163[4] = START_PARTICLE_FX_LOOPED_AT_COORD( "Docks_Gas_Ground_Burn_S", 5.18373300, 345.86980000, 0.60000000, 0.00000000, 0.00000000, 0.00000000, 1065353216 );
        l_U362 = 1;
    }
    return;
}

void sub_30608(unknown uParam0)
{
    char[36] cVar3;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;
    unknown uVar36;
    unknown uVar37;
    unknown uVar38;
    unknown uVar39;
    unknown uVar40;
    unknown uVar41;
    unknown uVar42;
    unknown uVar43;
    unknown uVar44;
    unknown uVar45;
    unknown uVar46;
    unknown uVar47;
    unknown uVar48;
    unknown uVar49;
    unknown uVar50;
    unknown uVar51;
    unknown uVar52;
    unknown uVar53;
    unknown uVar54;
    unknown uVar55;
    unknown uVar56;
    unknown uVar57;
    unknown uVar58;
    unknown uVar59;
    unknown uVar60;
    unknown uVar61;
    unknown uVar62;
    unknown uVar63;
    unknown uVar64;
    unknown uVar65;
    unknown uVar66;
    unknown uVar67;
    int I;

    sub_401( "RJM", "P_START_EXPLOSION_RAYFIRE_ANIMS - Start", 0 );
    array(ref cVar3, 8);
    StrCopy( ref cVar3[0], "p_ma_exppmp_aa_h", 32 );
    StrCopy( ref cVar3[1], "p_ma_exppmp_ra_h", 32 );
    StrCopy( ref cVar3[2], "p_ma_exppmp_ca_h", 32 );
    StrCopy( ref cVar3[3], "p_ma_exppmp_ba_h", 32 );
    StrCopy( ref cVar3[4], "p_ma_exppmp_da_h", 32 );
    StrCopy( ref cVar3[5], "p_ma_exppmp_ea_h", 32 );
    StrCopy( ref cVar3[6], "p_ma_exppmp_fa_h", 32 );
    StrCopy( ref cVar3[7], "p_ma_fenexp_aa_h", 32 );
    for ( I = 0; I < cVar3; I++ )
    {
        if (DOES_OBJECT_EXIST( l_U351[I] ))
        {
            PLAY_OBJECT_ANIM( l_U351[I], ref cVar3[I], "ma_int", 0.00000000, 0, 1 );
            SET_OBJECT_ANIM_SPEED( l_U351[I], ref cVar3[I], "ma_int", 0.50000000 );
        }
    }
    sub_31028( uParam0, 1065353216 );
    sub_401( "RJM", "P_START_EXPLOSION_RAYFIRE_ANIMS - End", 0 );
    return;
}

void sub_31028(unknown uParam0, unknown uParam1)
{
    sub_401( "BSW", "P_START_EXPLOSION_FIREBALL start", 0 );
    if (ARE_STRINGS_EQUAL( uParam0, "05_03_docks_sh9b" ))
    {
        START_PARTICLE_FX_LOOPED_AT_COORD( "CS_Docks_Explo_S", 4.00000000, 348.00000000, 2.40000000, 0, 0, 0, uParam1 );
    }
    else
    {
        sub_401( "BSW", "P_START_EXPLOSION_FIREBALL using slow", 0 );
        START_PARTICLE_FX_LOOPED_AT_COORD( "CS_DockPMP_Explo_Slow", 4.00000000, 344.00000000, 1.50000000, 0, 0, 0, uParam1 );
    }
    return;
}

void sub_31583()
{
    sub_5280( l_U202 );
    sub_5280( l_U216 );
    sub_5280( l_U230 );
    sub_5280( l_U244 );
    sub_5280( l_U258 );
    sub_5280( l_U272 );
    sub_13201( ref l_U339 );
    return;
}

void sub_31743()
{
    sub_20400();
    sub_19558( ref l_U351 );
    sub_8131( l_U360 );
    sub_5119( g_U1114 );
    sub_5119( g_U1115 );
    sub_5119( g_U1116 );
    sub_5119( g_U1117 );
    sub_5119( g_U1118 );
    sub_5119( g_U1119 );
    sub_5119( g_U1120 );
    sub_5119( g_U1121 );
    sub_5119( -592858361 );
    return;
}

int sub_32157(unknown uParam0, boolean bParam1)
{
    switch (l_U488)
    {
        case 0:
        if (HAS_CUTSCENE_UNLOADED())
        {
            sub_401( "SBA", "PLAY_MIDSCENE_01A: state = eM01a_Setup", 0 );
            sub_1371( 1, 0, 0, 1 );
            sub_3896( ref l_U480, 1 );
            sub_15552( 2091847006, 1 );
            l_U488 = 1;
        }
        break;
        case 1:
        sub_401( "SBA", "PLAY_MIDSCENE_01A: state =  eM01a_PlayMidscene", 0 );
        if (sub_7230())
        {
            CUTSCENE_REGISTER_ISEQ( 2091847006 );
            ISEQ_REGISTER_ENTITY( 2091847006, "max", sub_1433(), 0 );
            CUTSCENE_REGISTER_PED_TELEPORT( sub_1433(), 50.58000000, -160.46000000, 3.62636400, 350.56370000 );
            REGISTER_WEAPON_PRE_SEAMLESS_CUTSCENE( GET_WEAPON_FROM_HAND( sub_1433(), 0, 0 ), "W_PI_PT92_Aa_H", 0 );
        }
        if (bParam1)
        {
            START_CUTSCENE_CAPTURE( ref l_U480 );
        }
        START_SEAMLESS_CUTSCENE();
        while (NOT HAS_CUTSCENE_FINISHED())
        {
            WAIT( 0 );
        }
        if (bParam1)
        {
            STOP_CUTSCENE_CAPTURE();
        }
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( 20.62314000, 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( -6.14244600, 1065353216, 0 );
        sub_401( "SBA", "PLAY_MIDSCENE_01A: Going to eM01a_PlayBlendout", 0 );
        l_U488 = 2;
        break;
        case 2:
        if (ISEQ_QUERY_STATE( 2091847006, 6 ))
        {
            sub_401( "SBA", "PLAY_MIDSCENE_01A: Blend out done", 0 );
            sub_7438( 1, 1 );
            (uParam0^) = 0;
            l_U467 = 8;
            sub_401( "RJM", "PLAY_MIDSCENE_01A end", 0 );
            return 1;
        }
        break;
    }
    return 0;
}

