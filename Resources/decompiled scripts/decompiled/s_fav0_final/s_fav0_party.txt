void main()
{
    l_U0 = 1;
    l_U1 = 144;
    StrCopy( ref l_U2, "DEFAULT_SCRIPTED_CAMERA", 32 );
    StrCopy( ref l_U10, "DEFAULT_SPLINE_CAMERA", 32 );
    l_U18 = 0;
    l_U55 = 0;
    l_U56 = 0;
    l_U57 = 0;
    l_U373 = 0;
    l_U374 = 0;
    l_U375 = 0;
    l_U379 = 0;
    l_U489 = 0;
    StrCopy( ref l_U1037, "LEVEL_S_FAV1_CP_01b", 32 );
    l_U1729 = {165.80000000, -284.56000000, -2.26000000};
    l_U1732 = -90.00000000;
    l_U1733 = {165.19000000, -285.33000000, -2.26000000};
    l_U1736 = -90.00000000;
    l_U1767 = {161.51900000, -282.21100000, -4.02900000};
    l_U1770 = {0.00000000, 0.00000000, 48.43600000};
    l_U1787 = {175.05100000, -312.12300000, -1.34400000};
    l_U1790 = 65501;
    l_U1792 = {175.11200000, -311.25300000, -1.21900000};
    l_U1795 = {0.00000000, 0.00000000, -215.00000000};
    l_U1799 = {175.87900000, -311.88400000, -1.21900000};
    l_U1802 = {0.00000000, 0.00000000, -220.00000000};
    l_U2105 = 0;
    l_U2118 = 0;
    l_U2119 = 0;
    l_U2120 = 0;
    l_U2121 = 0;
    l_U2122 = 0;
    l_U2123 = 0;
    l_U2124 = 0;
    l_U2125 = 0;
    l_U2126 = 1;
    l_U2127 = {155.39000000, -275.72000000, -4.15000000};
    l_U2130 = 65446;
    l_U2131 = {155.94000000, -273.08000000, -4.15000000};
    l_U2134 = -90.00000000;
    l_U2135 = {156.68000000, -272.45000000, -4.15000000};
    l_U2138 = -90.00000000;
    l_U2139 = {156.71000000, -274.34000000, -4.15000000};
    l_U2142 = -90.00000000;
    l_U2143 = {156.84000000, -278.86000000, -4.15000000};
    l_U2146 = -90.00000000;
    l_U2147 = {156.82000000, -277.40000000, -4.15000000};
    l_U2150 = -90.00000000;
    l_U2151 = 0;
    l_U2191 = {188.94100000, -312.30000000, -3.90000000};
    l_U2194 = 51.64500000;
    l_U2195 = {188.68600000, -310.34600000, -4.06000000};
    l_U2198 = 94.04500000;
    l_U2199 = 0;
    l_U2200 = 0;
    l_U2201 = 0;
    l_U2371 = {165.11000000, -293.64000000, -4.31000000};
    l_U2374 = {0.00000000, -1.00000000, 180.00000000};
    l_U2377 = 0;
    l_U2378 = 0;
    sub_845( "SP", "Script fav1_party.sc is starting...", 0 );
    l_U18 = 1;
    while (IS_EXITFLAG_SET() == 0)
    {
        sub_912();
        sub_6970();
        sub_42234();
        WAIT( 0 );
    }
    SET_SCRIPT_AS_NO_LONGER_NEEDED( "s_fav0_party" );
    SET_EXITFLAG_RESPONSE();
    sub_845( "SP", "Script fav1_party.sc is terminating...", 0 );
    return;
}

void sub_845(unknown uParam0, unknown uParam1, string sParam2)
{
    unknown uVar5;

    if (IS_STRING_NULL( sParam2 ))
    {
        sParam2 = "###";
    }
    uVar5 = GET_REAL_GAME_TIMER();
    return;
}

void sub_912()
{
    if (sub_922())
    {
        if (g_U748 == 1)
        {
            if ((IS_PLAYER_DEAD( sub_1216() )) == 0)
            {
                SET_PLAYER_CONTROL( sub_1216(), 0, 0 );
            }
            sub_1460();
            ISEQ_UNREGISTER_ENTITY( 423329042, "player" );
            ISEQ_TERMINATE( 423329042 );
            if (l_U19._fU0)
            {
                sub_2828( ref l_U19, sub_1194() );
            }
            sub_6882( sub_1194(), g_U749[1], g_U849[1] );
            l_U18 = 1;
        }
        else
        {
            SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
        }
    }
    return;
}

int sub_922()
{
    if (HAS_SELECTED_RETRY_CHECKPOINT())
    {
        if (IS_IN_NYMINUTE_MODE())
        {
            SWITCH_TO_LEVEL( GET_INDEX_OF_CURRENT_LEVEL() );
        }
        if (HAS_CUTSCENE_FINISHED() == 0)
        {
            return 0;
        }
        l_U0 = 0;
        g_U648 = 1;
        DO_SCREEN_FADE_OUT( 0 );
        ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 1 );
        TERMINATE_GAME_BULLET_CAMERA();
        if (IS_ANIMATED_CAMERA_PLAYING())
        {
            CAMERA_ANIMATED_STOP( 0, 0 );
        }
        STOP_ALL_SCRIPTED_CONVERSATIONS( 0 );
        DEACTIVATE_BULLET_TIME( 1, 0 );
        END_POSTFX_BLENDER( 0, 0 );
        END_POSTFX_BLENDER( 2, 0 );
        END_POSTFX_BLENDER( 3, 0 );
        END_POSTFX_BLENDER( 4, 0 );
        END_POSTFX_BLENDER( 5, 0 );
        END_POSTFX_BLENDER( 7, 0 );
        END_POSTFX_BLENDER( 9, 0 );
        END_POSTFX_BLENDER( 10, 0 );
        END_POSTFX_BLENDER( 11, 0 );
        END_POSTFX_BLENDER( 12, 0 );
        END_POSTFX_BLENDER( 13, 0 );
        END_POSTFX_BLENDER( 14, 0 );
        END_POSTFX_BLENDER( 15, 0 );
        END_POSTFX_BLENDER( 16, 0 );
        STOP_ALL_IMAGEFX( 0 );
        if (NOT (IS_PED_DEAD( sub_1194() )))
        {
            SET_PED_FORCED_TO_WALK( sub_1194(), 0 );
            SET_PLAYER_FORCED_AIM( sub_1216(), 0, 0 );
            SET_PLAYER_CAN_USE_SHOOTDODGE( sub_1216(), 1 );
            if ((IS_PED_VISIBLE( sub_1194() )) == 0)
            {
                SET_PED_VISIBLE( sub_1194(), 1 );
            }
        }
        CLEAR_PRINTS();
        CLEAR_HELP();
        SET_INTERACTIONTEXT_VISIBLE( 0 );
        RENDER_SCRIPT_CAMS( 0, 0, 3000, 0 );
        DESTROY_ALL_CAMS();
        AUDIO_MUSIC_SUSPEND( 500 );
        return 1;
    }
    return 0;
}

int sub_1194()
{
    if (DOES_MAIN_PLAYER_EXIST())
    {
        return GET_PLAYER_PED( sub_1216() );
    }
    return 0;
}

void sub_1216()
{
    return GET_PLAYER_ID();
}

void sub_1460()
{
    sub_845( "SP", "P_CLEANUP_ALL", 0 );
    sub_1501( ref l_U398 );
    sub_1501( ref l_U407 );
    sub_1501( ref l_U416 );
    sub_1501( ref l_U1805 );
    sub_1501( ref l_U2152 );
    sub_1652( ref l_U490 );
    ISEQ_UNREGISTER_ENTITY( -1086426398, "CIV" );
    ISEQ_UNREGISTER_ENTITY( -1086426398, "SHUTTERA" );
    ISEQ_UNREGISTER_ENTITY( -1086426398, "SHUTTERB" );
    ISEQ_TERMINATE( -1086426398 );
    sub_1830( l_U1773 );
    sub_1909( l_U1791 );
    sub_1909( l_U1798 );
    ISEQ_UNREGISTER_ENTITY( -125286029, "KID" );
    sub_1983( -125286029, 1 );
    ISEQ_UNREGISTER_ENTITY( 1984731643, "door_npc1" );
    ISEQ_UNREGISTER_ENTITY( 1984731643, "door_npc2" );
    ISEQ_UNREGISTER_ENTITY( 1984731643, "door" );
    sub_1983( 1984731643, 1 );
    ISEQ_UNREGISTER_ENTITY( -1281802346, "WOMAN" );
    sub_1983( -1281802346, 1 );
    ISEQ_UNREGISTER_ENTITY( -147405084, "DJ" );
    ISEQ_UNREGISTER_ENTITY( -147405084, "bro" );
    ISEQ_UNREGISTER_ENTITY( -147405084, "dance1" );
    ISEQ_UNREGISTER_ENTITY( -147405084, "dance2" );
    ISEQ_UNREGISTER_ENTITY( -147405084, "dance3" );
    ISEQ_UNREGISTER_ENTITY( -147405084, "dance4" );
    sub_1983( -147405084, 1 );
    ISEQ_UNREGISTER_ENTITY( 774659676, "smoker" );
    sub_1983( 774659676, 1 );
    ISEQ_UNREGISTER_ENTITY( 26188514, "bouncer" );
    sub_1983( 26188514, 1 );
    sub_1830( l_U1271 );
    sub_2500( ref l_U2188 );
    sub_2500( ref l_U2330 );
    sub_1909( l_U2370 );
    sub_1830( l_U1285 );
    sub_1909( l_U1299 );
    sub_1909( l_U1514 );
    sub_2500( ref l_U1316 );
    sub_1830( l_U1500 );
    sub_1830( l_U1815 );
    sub_1830( l_U1829 );
    sub_1830( l_U1843 );
    sub_1830( l_U1857 );
    sub_1830( l_U1871 );
    sub_1830( l_U1885 );
    sub_2500( ref l_U1915 );
    sub_1830( l_U1302 );
    sub_2500( ref l_U1899 );
    sub_2500( ref l_U1945 );
    sub_2500( ref l_U1975 );
    sub_2500( ref l_U2033 );
    sub_2500( ref l_U1737 );
    sub_1909( l_U1300 );
    sub_1909( l_U1301 );
    return;
}

void sub_1501(int iParam0)
{
    if (iParam0->_fU28)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    return;
}

void sub_1652(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_1682( ref (uParam0^)[I] );
    }
    return;
}

void sub_1682(int iParam0)
{
    if ((DOES_OBJECT_EXIST( iParam0->_fU24 )) == 1)
    {
        DELETE_SIMPLE_PED( iParam0 + 24 );
    }
    return;
}

void sub_1830(unknown uParam0)
{
    if (DOES_PED_EXIST( uParam0 ))
    {
        if ((NOT (IS_PED_DEAD( uParam0 ))) || (IS_PED_DEAD( uParam0 )))
        {
            REMOVE_ALL_PED_WEAPONS( uParam0 );
            DELETE_PED( ref uParam0 );
        }
    }
    return;
}

void sub_1909(unknown uParam0)
{
    if (DOES_OBJECT_EXIST( uParam0 ))
    {
        DELETE_OBJECT( ref uParam0 );
    }
    return;
}

void sub_1983(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to terminate does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 1)
    {
        ISEQ_TERMINATE( uParam0 );
    }
    ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
    if (iParam1 == 1)
    {
        while ((ISEQ_IS_LOADED( uParam0 )) == 1)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_2500(unknown uParam0)
{
    int I;

    I = 0;
    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_1830( (uParam0^)[I] );
    }
    return;
}

void sub_2828(int iParam0, unknown uParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    int iVar9;
    int iVar10;
    int iVar11;
    unknown uVar12;
    unknown uVar13;

    sub_845( "GA", "Restoring the player to the checkpoint - Start", 0 );
    if (l_U0)
    {
        INCREMENT_CHECKPOINT_ATTEMPT();
    }
    g_U648 = 0;
    if (iParam0->_fU0 == 0)
    {
        SCRIPT_ASSERT( "ERROR: Trying to restore a checkpoint that hasn't been saved!!!", 0 );
    }
    sub_3012( iParam0->_fU52 );
    if (SCRIPT_VAR_EXISTS( "SV_LOAD_CNT" ))
    {
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", (SCRIPT_VAR_GET_INT( "SV_LOAD_CNT" )) + 1 );
    }
    else
    {
        SCRIPT_VAR_ADD_INT( "SV_LOAD_CNT" );
        SCRIPT_VAR_SET_INT( "SV_LOAD_CNT", 1 );
    }
    CLEAR_KILL_STREAK_RECORDS();
    AUDIO_MUSIC_SUSPEND( 0 );
    DEACTIVATE_BULLET_TIME( 1, 0 );
    ALLOW_BULLET_CAMERA_TO_GAMEPLAY( 1, 0 );
    REMOVE_ALL_ENVIRONMENT_BLOOD();
    RESET_BLOOD_EFFECTS();
    REMOVE_ALL_GLINTS();
    RESET_DESTROYED_COVER();
    RESET_ALL_PTFX();
    uVar4 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam1 )};
    CLEAR_AREA( iParam0->_fU4, 10000.00000000, 1 );
    if (NOT (IS_PED_DEAD( uParam1 )))
    {
        SET_PED_COORDS( uParam1, iParam0->_fU4, 1 );
        sub_4089( uParam1 );
        SET_PED_HEADING( uParam1, iParam0->_fU16 );
    }
    CLEAR_AREA( uVar4, 3.00000000, 1 );
    LOAD_SCENE( iParam0->_fU4 );
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0.00000000, 1065353216, 0 );
    iParam0->_fU28 = GET_PED_MAX_HEALTH( uParam1 );
    SET_PED_HEALTH( uParam1, iParam0->_fU28, 0 );
    RESET_PED_GORE( uParam1 );
    RESET_PED_VISIBLE_DAMAGE( uParam1 );
    REMOVE_ALL_PED_WEAPONS( uParam1 );
    if (NOT (iParam0->_fU56 == -1569615261))
    {
        uVar7 = sub_4381( uParam1, iParam0->_fU56, 0, iParam0->_fU76, 1 );
        sub_4741( uVar7, iParam0 + 96, iParam0 + 100 );
    }
    if (NOT (iParam0->_fU60 == -1569615261))
    {
        uVar7 = sub_4381( uParam1, iParam0->_fU60, 1, iParam0->_fU80, 1 );
        sub_4741( uVar7, iParam0 + 104, iParam0 + 108 );
    }
    if (NOT (iParam0->_fU64 == -1569615261))
    {
        uVar7 = sub_4381( uParam1, iParam0->_fU64, 2, iParam0->_fU84, 1 );
        sub_4741( uVar7, iParam0 + 112, iParam0 + 116 );
    }
    if (NOT (iParam0->_fU68 == -1569615261))
    {
        uVar7 = sub_5026( uParam1, iParam0->_fU68, iParam0->_fU88, 0, 1 );
        sub_4741( uVar7, iParam0 + 120, iParam0 + 124 );
    }
    if (NOT (iParam0->_fU72 == -1569615261))
    {
        uVar7 = sub_5026( uParam1, iParam0->_fU72, iParam0->_fU92, 1, 1 );
        sub_4741( uVar7, iParam0 + 128, iParam0 + 132 );
    }
    if (l_U0 == 1)
    {
        if ((IS_PED_DEAD( uParam1 )) == 0)
        {
            if (iParam0->_fU68 != -1569615261)
            {
                uVar7 = GET_WEAPON_FROM_HAND( uParam1, 0, 0 );
                if ((GET_DOES_WEAPON_EXIST( uVar7 )) == 1)
                {
                    uVar8 = GET_WEAPON_TYPE( uVar7 );
                    if ((sub_5519( uVar8 )) == 1)
                    {
                        iVar9 = GET_MAX_AMMO_IN_HAND_CLIP_MP( uParam1, 0 );
                        iVar10 = iParam0->_fU88;
                        if (iVar10 < iVar9)
                        {
                            iVar11 = iVar9 - iVar10;
                            ADD_AMMO_TO_PED( uParam1, uVar8, iVar11, 0 );
                            SET_WEAPON_AMMO_IN_CLIP( uVar7, iVar9 );
                        }
                    }
                }
            }
        }
    }
    sub_5680( iParam0->_fU52 );
    SET_ADRENALINE_AMT( iParam0->_fU32 );
    if (GET_ADRENALINE_AMT() < 0.20000000)
    {
        SET_ADRENALINE_AMT( 0.20000000 );
    }
    SET_PAYNEKILLER_AMT( iParam0->_fU36 );
    SET_PED_DUCKING( sub_1194(), 0 );
    GET_TIME_OF_DAY( ref uVar12, ref uVar13 );
    if (iParam0->_fU140 == 1)
    {
        FREEZE_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    else
    {
        RELEASE_TIME_OF_DAY();
        SET_TIME_OF_DAY( iParam0->_fU40, iParam0->_fU44 );
    }
    SET_PED_SWEAT( uParam1, iParam0->_fU136, -1.00000000 );
    RESTORE_PICKUPS();
    SET_GAMEPLAY_CAM_RELATIVE_HEADING( iParam0->_fU20, 1065353216, 0 );
    SET_GAMEPLAY_CAM_RELATIVE_PITCH( iParam0->_fU24, 1065353216, 0 );
    HANDLE_CHECKPOINT_RESTART();
    if (l_U0)
    {
        ADJUST_AMMO_ATTEMPTS();
        ADJUST_PAIN_KILLERS_ATTEMPTS();
    }
    l_U0 = 1;
    DISPLAY_HUD( 1 );
    if (IS_DEATH_PANEL_WIPE_ALLOWED())
    {
        if (IS_BULLET_CAMERA_WIPE_STOPPED())
        {
            RESUME_BULLET_CAMERA_WIPE_ON_FADEIN();
        }
    }
    sub_845( "GA", "Restoring the player to the checkpoint - End", 0 );
    return;
}

void sub_3012(unknown uParam0)
{
    int iVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    iVar3 = 0;
    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        iVar3 = sub_3044( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, iVar3, 513, uParam0 );
    END_CONTEXT( ref uVar4 );
    return;
}

int sub_3044(unknown uParam0)
{
    if (ARE_STRINGS_EQUAL( uParam0, "s_air" ))
    {
        return 21;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_beach" ))
    {
        return 22;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_boat" ))
    {
        return 10;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_booze" ))
    {
        return 0;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_busdep" ))
    {
        return 17;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_cemet" ))
    {
        return 15;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_club" ))
    {
        return 5;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_clubride" ))
    {
        return 4;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fashion" ))
    {
        return 3;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav0" ))
    {
        return 13;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav1" ))
    {
        return 14;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fav2" ))
    {
        return 16;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_fire" ))
    {
        return 12;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_hotel" ))
    {
        return 19;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_intro" ))
    {
        return 1;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_marina" ))
    {
        return 9;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc" ))
    {
        return 7;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_nyc2" ))
    {
        return 8;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_office" ))
    {
        return 11;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_pana" ))
    {
        return 18;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_police" ))
    {
        return 20;
    }
    else if (ARE_STRINGS_EQUAL( uParam0, "s_stad" ))
    {
        return 6;
    };;;;;;;;;;;;;;;;;;;;;;
    return 99;
}

void sub_4089(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        uVar3 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
        SET_LOAD_COLLISION_FOR_PED_FLAG( uParam0, 1 );
        SET_PED_COORDS_NO_OFFSET( uParam0, uVar3 );
        FREEZE_PED_POSITION( uParam0, 1 );
        REQUEST_COLLISION_AT_COORD( uVar3 );
        if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
        {
            FREEZE_PED_POSITION( uParam0, 0 );
        }
    }
    return;
}

void sub_4381(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's holster MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HOLSTER( uParam0, uParam1, uParam3, uParam2 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HOLSTER( uParam0, uParam2 );
                }
            }
        }
    }
    else
    {
        sub_4697( "[SP]### (F_GivePedWeaponToHolster) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

void sub_4697(unknown uParam0)
{
    return;
}

void sub_4741(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        if (IS_BIT_SET( (uParam1^), I ))
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 1 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, IS_BIT_SET( (uParam2^), I ) );
        }
        else
        {
            ENABLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
            TOGGLE_WEAPON_ATTACHMENT( uParam0, I, 0 );
        }
    }
    return;
}

void sub_5026(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, int iParam4)
{
    unknown Result;

    if ((HAS_WEAPON_LOADED( uParam1 )) == 0)
    {
        SCRIPT_ASSERT( "The weapon model you are giving to the ped's hand MUST BE PRELOADED!!!!", 0 );
    }
    Result = nil;
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        Result = GIVE_WEAPON_TO_PED_HAND( uParam0, uParam1, uParam2, uParam3 );
        if (iParam4 == 1)
        {
            Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
            while (NOT (GET_DOES_WEAPON_EXIST( Result )))
            {
                WAIT( 0 );
                if ((IS_PED_DEAD( uParam0 )) == 0)
                {
                    Result = GET_WEAPON_FROM_HAND( uParam0, uParam3, 0 );
                }
            }
        }
    }
    else
    {
        sub_4697( "[SP]### (F_GivePedWeapon) Error: Trying to give a dead ped a weapon. ###" );
    }
    return Result;
}

int sub_5519(unknown uParam0)
{
    int iVar3;

    iVar3 = GET_WEAPONTYPE_AMMO( uParam0 );
    if ((iVar3 == -1383321053) || ((iVar3 == -1295933220) || ((iVar3 == 1138793073) || (iVar3 == -1088031219))))
    {
        return 1;
    }
    return 0;
}

void sub_5680(unknown uParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
    {
        uVar3 = sub_3044( ref uVar20 );
    }
    STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, uParam0 );
    sub_5752( uVar3 );
    START_CONTEXT( ref uVar4 );
    return;
}

void sub_5752(int iParam0)
{
    if (iParam0 != 3)
    {
        END_CONTEXT( "S_FAS_GG_PT" );
    }
    if (iParam0 != 5)
    {
        END_CONTEXT( "S_CLB_GG_M3" );
        END_CONTEXT( "S_CLB_MS" );
    }
    if (iParam0 != 6)
    {
        END_CONTEXT( "S_STA_GG_M1" );
        END_CONTEXT( "S_STA_GG_M81" );
    }
    if (iParam0 != 7)
    {
        END_CONTEXT( "S_NY1_GG_19" );
    }
    if (iParam0 != 8)
    {
        END_CONTEXT( "S_NY2_GG_40" );
        END_CONTEXT( "S_NY2_GG_M5" );
    }
    if (iParam0 != 9)
    {
        END_CONTEXT( "S_MAR_GG_LM" );
        END_CONTEXT( "S_MAR_GG_9M" );
    }
    if (iParam0 != 11)
    {
        END_CONTEXT( "S_OFF_GG_MD" );
    }
    if (iParam0 != 14)
    {
        END_CONTEXT( "S_FV1_GG_SP" );
        END_CONTEXT( "S_FV1_GG_SA" );
    }
    if (iParam0 != 15)
    {
        END_CONTEXT( "S_NYC_GG_6M" );
        END_CONTEXT( "S_NYC_GG_A9" );
    }
    if (iParam0 != 16)
    {
        END_CONTEXT( "S_FV2_GG_D5" );
        END_CONTEXT( "S_FV2_GG_97" );
    }
    if (iParam0 != 17)
    {
        END_CONTEXT( "S_BUS_GG_M4" );
        END_CONTEXT( "S_BUS_GG_FN" );
    }
    if (iParam0 != 18)
    {
        END_CONTEXT( "S_PAN_GG_AK" );
        END_CONTEXT( "S_PAN_GG_SS" );
    }
    if (iParam0 != 19)
    {
        END_CONTEXT( "S_HOT_GG_G3" );
        END_CONTEXT( "S_HOT_GG_LA" );
    }
    if (iParam0 != 20)
    {
        END_CONTEXT( "S_POL_GG_G6" );
        END_CONTEXT( "S_POL_GG_RP" );
        END_CONTEXT( "S_POL_GG_MP" );
    }
    if (iParam0 != 21)
    {
        END_CONTEXT( "S_AIR_GG_RG" );
        END_CONTEXT( "S_AIR_GG_PD" );
    }
    return;
}

void sub_6882(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        SET_PED_COORDS( uParam0, uParam1, 1 );
        SET_PED_HEADING( uParam0, uParam4 );
    }
    return;
}

void sub_6970()
{
    int I;

    switch (l_U18)
    {
        case 0: break;
        case 1:
        sub_845( "SP", "eCheckpointState = CHECKPOINT_INIT_SCRIPT_DATA", 0 );
        sub_7135();
        sub_9543();
        CUTSCENE_SET_WAIT_FOR_MOVIE( 9 );
        sub_15116( "SFV1AUD" );
        l_U18 = 2;
        sub_845( "SP", "eCheckpointState = CHECKPOINT_INIT_LOAD_ASSETS", 0 );
        break;
        case 2:
        sub_845( "SP", "eCheckpointState = CHECKPOINT_INIT_LOAD_ASSETS", 0 );
        sub_15357();
        l_U18 = 4;
        sub_845( "SP", "eCheckpointState = CHECKPOINT_SETUP_STARTPOINT", 0 );
        break;
        case 4:
        if (sub_16713())
        {
            l_U18 = 3;
        }
        break;
        case 3:
        sub_845( "SP", "eCheckpointState = CHECKPOINT_SETUP_STARTPOINT", 0 );
        if ((IS_PED_DEAD( sub_1194() )) == 0)
        {
            REMOVE_ALL_PED_WEAPONS( sub_1194() );
            sub_4381( sub_1194(), -862236369, 1, 25000, 0 );
            PRELOAD_PLAYER_VARIATION( sub_1194(), 0, 0, 13, 0 );
            SET_PED_PROP_INDEX( sub_1194(), 2, 1, 0, 255 );
            SET_PED_PROP_INDEX( sub_1194(), 8, 0, 0, 255 );
            if (g_U748 == 1)
            {
                sub_6882( sub_1194(), g_U749[1], g_U849[1] );
            }
            SET_PLAYER_CONTROL( sub_1216(), 0, 0 );
            SET_PLAYER_SPRINT( sub_1216(), 0 );
            SET_PLAYER_CAN_USE_SHOOTDODGE( sub_1216(), 0 );
            SET_CAN_ROLL_DODGE( sub_1194(), 0 );
            SET_PED_FORCED_TO_WALK( sub_1194(), 1 );
        }
        SET_CAM_VIEW_MODE( 0 );
        SET_ADRENALINE_NOT_ALLOW( 1 );
        SET_GAMEPLAY_CAM_RELATIVE_HEADING( g_U883[1], 1065353216, 0 );
        SET_GAMEPLAY_CAM_RELATIVE_PITCH( g_U917[1], 1065353216, 0 );
        if (g_U748 == 1)
        {
            sub_17594();
        }
        sub_19857( ref g_U958, 1, 1, 1065353216 );
        l_U2118 = 1;
        if ((l_U55 == 0) AND (g_U747 == 0))
        {
            l_U55 = 1;
            l_U18 = 5;
            sub_845( "SP", "eCheckpointState = CHECKPOINT_WAITING_FOR_MOVIE", 0 );
        }
        else
        {
            l_U18 = 7;
        }
        sub_845( "SP", "eCheckpointState = CHECKPOINT_HANDLE_FOLLOW_KID", 0 );
        break;
        case 5:
        sub_845( "SP", "eCheckpointState = CHECKPOINT_WAITING_FOR_MOVIE", 0 );
        if (CUTSCENE_IS_WAITING_FOR_MOVIE() == 0)
        {
            l_U57 = 1;
            l_U18 = 6;
            sub_845( "SP", "eCheckpointState = CHECKPOINT_HANDLE_0701_CUTSCENE", 0 );
            break;
        }
        return;
        case 6:
        if (sub_20405() == 1)
        {
            sub_7242( ref l_U425, 2500, 1, 0 );
            sub_18645( ref l_U425 );
            l_U18 = 7;
            sub_845( "SP", "eCheckpointState = CHECKPOINT_HANDLE_FOLLOW_KID", 0 );
            sub_23220();
            break;
        }
        return;
        case 7:
        sub_23220();
        sub_22540();
        if ((sub_22804( ref l_U398 )) == 1)
        {
            sub_27829();
            if ((IS_PED_DEAD( sub_1194() )) == 0)
            {
                sub_28576();
            }
            if (g_U748 == 1)
            {
                DO_SCREEN_FADE_IN( 0 );
                sub_6882( sub_1194(), g_U749[1], g_U849[1] );
                ISEQ_REGISTER_ENTITY( 423329042, "player", sub_1194(), 0 );
                SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0, 1065353216, 0 );
                SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0, 1065353216, 0 );
                ENABLE_STATIC_EMITTER( "S_FAV0_SE_INTRO_PARTY_MUSIC_CENTRE", 1 );
                CAMERA_PLAY_ANIMATED( "LEVEL_S_FAV1_CP_01", "B_OUT_07_01_FAV1_CAM", 1, 213.05000000, -315.47000000, 2.16000000, -5.76000000, 0, 0 );
                sub_19857( ref g_U951, 1, 1, 1065353216 );
                sub_7242( ref l_U434, 5500, 1, 0 );
                sub_18645( ref l_U434 );
                DISPLAY_HUD( 0 );
                ISEQ_START( 423329042 );
            }
            if (g_U748 < 1)
            {
                sub_29108( ref l_U19, 1, sub_1194(), g_U749[1], g_U849[1], g_U883[1], g_U917[1], 0 );
            }
            g_U748 = 1;
            l_U373 = 1;
        }
        if (l_U373 == 1)
        {
            if (sub_22804( ref l_U434 ))
            {
                sub_7242( ref l_U425, 2500, 1, 0 );
                sub_18645( ref l_U425 );
                if (((IS_PED_DEAD( l_U1271 )) == 0) AND ((DOES_PED_EXIST( l_U1271 )) == 1))
                {
                    PED_SET_ACTION_INTENTION( l_U1271, 47, 3000, 0.00000000, 0.00000000, 0.00000000 );
                }
                l_U2378 = 1;
            }
            sub_32856();
            sub_33864();
            sub_33999();
            sub_34449();
            sub_34783();
            sub_35448();
            sub_36456();
            sub_36818();
            if ((sub_26813( ref l_U79, 0 )) == 1)
            {
                sub_845( "SA", "Starting Knockers Timer", 0 );
                sub_18645( ref l_U416 );
                l_U2377 = 1;
            }
            if ((sub_22804( ref l_U416 )) == 1)
            {
                sub_845( "SA", "Sending Knockers away", 0 );
                for ( I = 0; I < 1; I++ )
                {
                    if (((IS_PED_DEAD( l_U1899[I] )) == 0) AND ((DOES_PED_EXIST( l_U1899[I] )) == 1))
                    {
                        CLEAR_PED_TASKS( l_U1899[I] );
                        TASK_GO_STRAIGHT_TO_COORD( l_U1899[I], l_U2115, 2, 20000 );
                    }
                }
            }
            if ((sub_37461() == 1) || ((sub_26813( ref l_U100, 0 )) == 1))
            {
                l_U57 = 1;
                l_U18 = 8;
                sub_845( "SP", "eCheckpointState = CHECKPOINT_HANDLE_0702_CUTSCENE", 0 );
            }
        }
        break;
        case 8:
        sub_845( "SP", "eCheckpointState = CHECKPOINT_HANDLE_0702_CUTSCENE", 0 );
        if (sub_37782() == 1)
        {
            l_U18 = 9;
            sub_845( "SP", "eCheckpointState = CHECKPOINT_FINISHED", 0 );
        }
        break;
        case 9:
        sub_845( "SP", "eCheckpointState = CHECKPOINT_FINISHED", 0 );
        l_U18 = 0;
        sub_1460();
        sub_41939();
        g_U653 = 1;
        sub_21848( 1, 1 );
        SET_EXITFLAG_FOR_SCRIPT( GET_ID_OF_THIS_THREAD() );
        sub_845( "SP", "eCheckpointState = CHECKPOINT_IDLE", 0 );
        break;
    }
    return;
}

void sub_7135()
{
    sub_845( "SP", "P_INIT_SCRIPT_VARIABLES", 0 );
    l_U1814 = 0;
    l_U1727 = 1;
    l_U379 = 0;
    l_U2105 = 0;
    l_U373 = 0;
    l_U2151 = 0;
    l_U2202 = 1;
    sub_1501( ref l_U398 );
    sub_7242( ref l_U407, 5000, 1, 0 );
    sub_7242( ref l_U416, 5000, 1, 0 );
    sub_7242( ref l_U470, 5000, 1, 0 );
    l_U2106 = {178.09000000, -286.42000000, -4.51000000};
    l_U2109 = {164.22000000, -262.92000000, -5.67000000};
    l_U2112 = {153.95000000, -287.32000000, -5.29000000};
    l_U2115 = {165.99000000, -298.99000000, -5.35000000};
    ENABLE_STATIC_EMITTER( "S_FAV0_SE_INTRO_PARTY_MUSIC_CENTRE", 0 );
    l_U374 = 0;
    l_U375 = 0;
    l_U376 = 0;
    l_U377 = 0;
    l_U378 = 0;
    l_U56 = 1;
    l_U57 = 0;
    sub_7581();
    l_U489 = 1;
    l_U907[0] = {163.10000000, -271.22000000, -4.60000000};
    l_U907[1] = {160.04000000, -278.65000000, -4.60000000};
    l_U907[2] = {161.24000000, -269.44000000, -4.60000000};
    l_U907[3] = {161.79000000, -271.96000000, -4.60000000};
    l_U907[4] = {159.83000000, -272.19000000, -4.60000000};
    l_U907[5] = {161.16000000, -274.98000000, -4.60000000};
    l_U907[6] = {162.06000000, -276.85000000, -4.60000000};
    l_U907[7] = {159.73000000, -275.39000000, -4.60000000};
    l_U907[8] = {158.74000000, -269.87000000, -4.60000000};
    l_U907[9] = {162.53000000, -270.47000000, -4.60000000};
    l_U907[10] = {160.18000000, -273.57000000, -4.60000000};
    l_U907[11] = {162.97000000, -279.20000000, -4.60000000};
    l_U907[12] = {166.39000000, -277.75000000, -3.35000000};
    l_U907[13] = {165.45000000, -270.74000000, -3.35000000};
    l_U907[14] = {160.28000000, -270.61000000, -4.60000000};
    l_U907[15] = {166.22000000, -275.53000000, -3.35000000};
    l_U907[16] = {158.86000000, -278.45000000, -4.60000000};
    l_U907[17] = {166.21000000, -266.94000000, -3.35000000};
    l_U907[18] = {162.58000000, -273.61000000, -4.60000000};
    l_U907[19] = {161.25000000, -270.66000000, -4.60000000};
    l_U907[20] = {160.93000000, -277.25000000, -4.60000000};
    l_U907[21] = {161.46000000, -273.24000000, -4.60000000};
    l_U907[22] = {162.40000000, -275.24000000, -4.60000000};
    l_U907[23] = {158.88000000, -274.30000000, -4.60000000};
    l_U907[24] = {158.74000000, -272.52000000, -4.60000000};
    l_U907[25] = {160.37000000, -276.02000000, -4.60000000};
    l_U907[26] = {158.82000000, -276.30000000, -4.60000000};
    l_U907[27] = {158.86000000, -278.45000000, -4.60000000};
    l_U907[28] = {159.60000000, -277.34000000, -4.60000000};
    l_U907[29] = {161.18000000, -278.96000000, -4.60000000};
    l_U907[30] = {162.68000000, -277.84000000, -4.60000000};
    l_U907[31] = {161.65000000, -278.29000000, -4.60000000};
    l_U1004[0] = 85.00000000;
    l_U1004[1] = -137.00000000;
    l_U1004[2] = 84.06000000;
    l_U1004[3] = -158.00000000;
    l_U1004[4] = 85.00000000;
    l_U1004[5] = -137.00000000;
    l_U1004[6] = 84.06000000;
    l_U1004[7] = -158.00000000;
    l_U1004[8] = -137.00000000;
    l_U1004[9] = 85.00000000;
    l_U1004[10] = -16.67000000;
    l_U1004[11] = 34.45000000;
    l_U1004[12] = 85.73000000;
    l_U1004[13] = 85.38000000;
    l_U1004[14] = -36.00000000;
    l_U1004[15] = -87.82000000;
    l_U1004[16] = -142.00000000;
    l_U1004[17] = -80.77000000;
    l_U1004[18] = 53.00000000;
    l_U1004[19] = -142.00000000;
    l_U1004[20] = -137.00000000;
    l_U1004[21] = -158.00000000;
    l_U1004[22] = -137.00000000;
    l_U1004[23] = -137.00000000;
    l_U1004[24] = 85.00000000;
    l_U1004[25] = -158.00000000;
    l_U1004[26] = -158.00000000;
    l_U1004[27] = -142.00000000;
    l_U1004[28] = -142.00000000;
    l_U1004[29] = -137.00000000;
    l_U1004[30] = -158.00000000;
    l_U1004[31] = -137.00000000;
    StrCopy( ref l_U1045[0], "VIG_06_F1_YOUTHS_DANCE_A_PAIR_GMED", 64 );
    StrCopy( ref l_U1045[1], "VIG_06_F1_YOUTHS_DANCE_A_PAIR2_GMED1", 64 );
    StrCopy( ref l_U1045[2], "VIG_06_F1_YOUTHS_DANCE_A_PAIR3_GMED2", 64 );
    StrCopy( ref l_U1045[3], "VIG_06_F1_YOUTHS_DANCING_B_PAIR_GMED", 64 );
    StrCopy( ref l_U1045[4], "VIG_06_F1_YOUTHS_DANCING_B_PAIR2", 64 );
    StrCopy( ref l_U1045[5], "VIG_06_F1_YOUTHS_DANCING_B_PAIR2_GMED1", 64 );
    StrCopy( ref l_U1142[0], "VIG_06_F1_YOUTHS_DANCE_A_FLGE", 64 );
    StrCopy( ref l_U1142[1], "VIG_06_F1_YOUTHS_DANCE_A_PAIR_FLGE3", 64 );
    StrCopy( ref l_U1142[2], "VIG_06_F1_YOUTHS_DANCE_A_PAIR2_FLGE1", 64 );
    StrCopy( ref l_U1142[3], "VIG_06_F1_YOUTHS_DANCE_A_PAIR3_FLGE2", 64 );
    StrCopy( ref l_U1142[4], "VIG_06_F1_YOUTHS_DANCING_B_FLGE", 64 );
    StrCopy( ref l_U1142[5], "VIG_06_F1_YOUTHS_DANCING_B_PAIR_FLGE1", 64 );
    StrCopy( ref l_U1142[6], "VIG_06_F1_YOUTHS_DANCING_B_PAIR2_FLGE2", 64 );
    StrCopy( ref l_U1142[7], "VIG_06_F1_YOUTHS_DANCING_B_PAIR3_FLGE3", 64 );
    return;
}

void sub_7242(int iParam0, unknown uParam1, boolean bParam2, int iParam3)
{
    if (bParam2)
    {
        iParam0->_fU0 = TIMERA();
    }
    else
    {
        iParam0->_fU0 = TIMERB();
    }
    if (iParam3 == 1)
    {
        iParam0->_fU0 = TIMERSYSTEM();
    }
    iParam0->_fU4 = iParam0->_fU0;
    iParam0->_fU12 = uParam1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = bParam2;
    iParam0->_fU32 = iParam3;
    iParam0->_fU8 = 0;
    return;
}

void sub_7581()
{
    return;
}

void sub_9543()
{
    sub_845( "SP", "P_INIT_GAMEPLAY_STRUCTS", 0 );
    sub_9634( ref l_U490[0], -437995602, l_U907[0], l_U1004[0], ref l_U1037, ref l_U1045[0], 0, 1, 0 );
    sub_9634( ref l_U490[1], 1491724695, l_U907[1], l_U1004[1], ref l_U1037, ref l_U1045[1], 0, 1, 0 );
    sub_9634( ref l_U490[2], 94103835, l_U907[2], l_U1004[2], ref l_U1037, ref l_U1045[2], 0, 1, 0 );
    sub_9634( ref l_U490[3], -1648862227, l_U907[3], l_U1004[3], ref l_U1037, ref l_U1045[3], 0, 1, 0 );
    sub_9634( ref l_U490[4], -1727457577, l_U907[4], l_U1004[4], ref l_U1037, ref l_U1045[4], 0, 1, 0 );
    sub_9634( ref l_U490[5], 1866427702, l_U907[5], l_U1004[5], ref l_U1037, ref l_U1045[5], 0, 1, 0 );
    sub_9634( ref l_U490[6], -786382824, l_U907[6], l_U1004[6], ref l_U1037, ref l_U1045[0], 0, 1, 0 );
    sub_9634( ref l_U490[7], 2130737148, l_U907[7], l_U1004[7], ref l_U1037, ref l_U1045[1], 0, 1, 0 );
    sub_9634( ref l_U490[8], 43652159, l_U907[8], l_U1004[8], ref l_U1037, ref l_U1045[2], 0, 1, 0 );
    sub_9634( ref l_U490[9], -1822119527, l_U907[9], l_U1004[9], ref l_U1037, ref l_U1045[3], 0, 1, 0 );
    sub_9634( ref l_U490[10], 429432776, l_U907[10], l_U1004[10], ref l_U1037, ref l_U1045[4], 0, 1, 0 );
    sub_9634( ref l_U490[11], 423366879, l_U907[11], l_U1004[11], ref l_U1037, ref l_U1045[5], 0, 1, 0 );
    sub_9634( ref l_U490[12], 488356631, l_U907[12], l_U1004[12], ref l_U1037, ref l_U1142[0], 0, 1, 0 );
    sub_9634( ref l_U490[13], -1925999946, l_U907[13], l_U1004[13], ref l_U1037, ref l_U1045[1], 0, 1, 0 );
    sub_9634( ref l_U490[14], 1534000798, l_U907[14], l_U1004[14], ref l_U1037, ref l_U1045[2], 0, 1, 0 );
    sub_9634( ref l_U490[15], 1727290733, l_U907[15], l_U1004[15], ref l_U1037, ref l_U1142[0], 0, 1, 0 );
    sub_9634( ref l_U490[16], -1574658047, l_U907[16], l_U1004[16], ref l_U1037, ref l_U1142[1], 0, 1, 0 );
    sub_9634( ref l_U490[17], 1730296322, l_U907[17], l_U1004[17], ref l_U1037, ref l_U1142[2], 0, 1, 0 );
    sub_9634( ref l_U490[18], -535375258, l_U907[18], l_U1004[18], ref l_U1037, ref l_U1142[3], 0, 1, 0 );
    sub_9634( ref l_U490[19], -2000358374, l_U907[19], l_U1004[19], ref l_U1037, ref l_U1142[4], 0, 1, 0 );
    sub_9634( ref l_U490[20], 1414310304, l_U907[20], l_U1004[20], ref l_U1037, ref l_U1142[5], 0, 1, 0 );
    sub_9634( ref l_U490[21], -698520675, l_U907[21], l_U1004[21], ref l_U1037, ref l_U1142[6], 0, 1, 0 );
    sub_9634( ref l_U490[22], 726823611, l_U907[22], l_U1004[22], ref l_U1037, ref l_U1142[7], 0, 1, 0 );
    sub_9634( ref l_U490[23], 700289018, l_U907[23], l_U1004[23], ref l_U1037, ref l_U1142[1], 0, 1, 0 );
    sub_9634( ref l_U490[24], 1758094711, l_U907[24], l_U1004[24], ref l_U1037, ref l_U1142[2], 0, 1, 0 );
    sub_9634( ref l_U490[25], -117152098, l_U907[25], l_U1004[25], ref l_U1037, ref l_U1142[3], 0, 1, 0 );
    sub_9634( ref l_U490[26], -1987255920, l_U907[26], l_U1004[26], ref l_U1037, ref l_U1142[4], 0, 1, 0 );
    sub_9634( ref l_U490[27], -434117360, l_U907[27], l_U1004[27], ref l_U1037, ref l_U1142[5], 0, 1, 0 );
    sub_9634( ref l_U490[28], 488356631, l_U907[28], l_U1004[28], ref l_U1037, ref l_U1142[6], 0, 1, 0 );
    sub_9634( ref l_U490[29], -1825935213, l_U907[29], l_U1004[29], ref l_U1037, ref l_U1142[7], 0, 1, 0 );
    sub_9634( ref l_U490[30], -669615669, l_U907[30], l_U1004[30], ref l_U1037, ref l_U1142[0], 0, 1, 0 );
    sub_9634( ref l_U490[31], 485891221, l_U907[31], l_U1004[31], ref l_U1037, ref l_U1142[1], 0, 1, 0 );
    sub_11297( ref l_U1272, 199.63000000, -313.45000000, 0.71000000, 0.00000000, -48688530, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1286, 173.46000000, -288.99700000, -5.72000000, -180.00000000, 1290977924, 5, 2, 1, 0, 0 );
    sub_11297( ref l_U1918[0], 182.86000000, -307.60000000, -3.23000000, 61.02000000, 1457465214, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1918[1], 182.28000000, -308.65000000, -3.23000000, 61.02000000, -1873598499, 5, 2, 1, 0, 0 );
    sub_11297( ref l_U1901[0], 165.68000000, -295.24000000, -5.02000000, -164.74000000, -1741633665, 4, 1, 1, 0, 0 );
    sub_11619( ref l_U1948[0], 167.37000000, -270.55000000, -4.86000000, -156.13000000, 1735415311, 5, 1, 1, 0, 0 );
    sub_11619( ref l_U1948[1], 167.80000000, -271.42000000, -4.86000000, 32.92000000, 1735415311, 5, 1, 1, 0, 0 );
    sub_11297( ref l_U1531[0], 160.76000000, -281.18000000, -5.54000000, -117.15000000, 1982525545, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1531[1], 160.76000000, -281.18000000, -5.54000000, -117.15000000, 417748645, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1531[2], 160.76000000, -281.18000000, -5.54000000, -117.15000000, 640901490, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1531[3], 160.76000000, -281.18000000, -5.54000000, -117.15000000, -654741543, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1531[4], 160.76000000, -281.18000000, -5.54000000, -117.15000000, 1052296572, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1531[5], 160.76000000, -281.18000000, -5.54000000, -117.15000000, 661423953, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1531[6], 160.76000000, -281.18000000, -5.54000000, -117.15000000, 700289018, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1531[7], 160.76000000, -281.18000000, -5.54000000, -117.15000000, -117152098, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1531[8], 160.76000000, -281.18000000, -5.54000000, -117.15000000, -434117360, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1531[9], 160.76000000, -281.18000000, -5.54000000, -117.15000000, 2130737148, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1531[10], 160.76000000, -281.18000000, -5.54000000, -117.15000000, 43652159, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1531[11], 160.76000000, -281.18000000, -5.54000000, -117.15000000, 429432776, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1531[12], 160.76000000, -281.18000000, -5.54000000, -117.15000000, -1648862227, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1531[13], 160.76000000, -281.18000000, -5.54000000, -117.15000000, 1534000798, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1531[14], 160.76000000, -281.18000000, -5.54000000, -117.15000000, 726823611, 4, 1, 1, 0, 0 );
    sub_11619( ref l_U1980[0], 167.40000000, -268.15000000, -4.86000000, -141.22000000, 482975116, 4, 1, 1, 0, 0 );
    sub_11619( ref l_U1980[1], 170.82000000, -275.85000000, -4.86000000, 120.72000000, 1735415311, 4, 1, 1, 0, 0 );
    sub_11619( ref l_U1980[2], 169.64000000, -263.83000000, -4.86000000, 136.02000000, 482975116, 4, 1, 1, 0, 0 );
    sub_11619( ref l_U1980[3], 168.10000000, -261.09000000, -4.86000000, -168.33000000, 1735415311, 5, 2, 1, 0, 0 );
    sub_11297( ref l_U1501, 167.79000000, -279.41000000, -5.60000000, -130.00000000, -1700505874, 4, 1, 1, 0, 0 );
    sub_11619( ref l_U2039[0], 155.23000000, -274.29000000, -4.09000000, -90.00000000, 1735415311, 5, 2, 1, 0, 0 );
    sub_11619( ref l_U2039[1], 155.02000000, -277.66000000, -4.09000000, -17.94000000, 482975116, 4, 1, 1, 0, 0 );
    sub_11619( ref l_U2039[2], 155.20000000, -275.83000000, -4.09000000, -90.00000000, 1735415311, 5, 2, 1, 0, 0 );
    sub_11619( ref l_U2039[3], 156.00000000, -278.04000000, -4.09000000, 11.35000000, 482975116, 4, 1, 1, 0, 0 );
    sub_11619( ref l_U2039[4], 156.03000000, -272.40000000, -4.09000000, -90.00000000, 482975116, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1816, l_U2127, l_U2130, 85352649, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1830, l_U2131, l_U2134, 2130737148, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1844, l_U2135, l_U2138, -535375258, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1858, l_U2139, l_U2142, 1758094711, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1872, l_U2143, l_U2146, -1986655527, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1886, l_U2147, l_U2150, -669615669, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1303, 168.68000000, -271.86000000, -5.53000000, 207.00000000, 1866427702, 4, 1, 1, 0, 0 );
    sub_13178( ref l_U58, "FAV1_TRIGGER_CHATTERS_TIMER", 169.14000000, -284.15000000, -5.76000000, 5.50000000, 4.00000000, 5.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_13178( ref l_U79, "FAV1_TRIGGER_KNOCKER_TIMER", 186.56000000, -309.98000000, -4.26000000, 2.00000000, 5.00000000, 10.00000000, 0.79013700, -0.19356800, -17.79000000, 1 );
    sub_13178( ref l_U100, "FAV1_KILL_PARTY", 169.60000000, -282.78000000, -6.56000000, 11.00000000, 2.00000000, 5.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_13178( ref l_U121, "FAV1_KILL_PARTY_LINGER", 169.60000000, -285.19000000, -6.56000000, 9.00000000, 3.00000000, 5.00000000, 0.00000000, 0.00000000, 0.00000000, 1 );
    sub_13178( ref l_U142, "tbKidGoToC", 196.05000000, -309.98000000, -4.60000000, 9.50000000, 12.00000000, 9.00000000, 0.00000000, 0.00000000, 72.31000000, 1 );
    sub_13178( ref l_U163, "tbKidGoToD", 187.47000000, -308.08000000, -4.52000000, 9.50000000, 4.00000000, 7.00000000, 0.00000000, 0.00000000, 72.31000000, 1 );
    sub_13178( ref l_U184, "tbKidGoToE", 180.89000000, -302.27000000, -6.35000000, 9.50000000, 8.00000000, 7.00000000, 0.00000000, 0.00000000, 42.39000000, 1 );
    sub_13178( ref l_U205, "tbKidGoToF", 175.88000000, -296.26000000, -6.88000000, 9.50000000, 8.00000000, 7.00000000, 0.00000000, 0.00000000, 39.90000000, 1 );
    sub_13178( ref l_U226, "tbVig04WomanShout", 167.60000000, -289.93000000, -6.88000000, 9.50000000, 8.00000000, 7.00000000, 0.00000000, 0.00000000, 27.25000000, 1 );
    sub_13178( ref l_U247, "TRIG_KID_TALK_01", 196.41000000, -311.35000000, -4.00000000, 2.00000000, 5.00000000, 10.00000000, 0.79013700, -0.19356800, -17.79000000, 1 );
    sub_13178( ref l_U268, "TRIG_KID_TALK_02", 191.58000000, -309.66000000, -6.80000000, 2.00000000, 5.00000000, 10.00000000, 0.79013700, -0.19356800, -17.79000000, 1 );
    sub_13178( ref l_U289, "TRIG_KID_TALK_03", 180.98000000, -307.04000000, -8.53000000, 2.00000000, 5.00000000, 10.00000000, 0.79013700, -0.19356800, -37.29000000, 1 );
    sub_13178( ref l_U310, "TRIG_KID_TALK_04", 171.85000000, -295.25000000, -9.58000000, 2.00000000, 5.00000000, 10.00000000, 0.79013700, -0.19356800, -63.01000000, 1 );
    sub_13178( ref l_U331, "TRIG_KID_TALK_05", 169.30000000, -278.69000000, -8.86000000, 2.00000000, 5.00000000, 10.00000000, 0.79013700, -0.19356800, -89.08000000, 1 );
    sub_13178( ref l_U352, "TRIG_IMAGE_FX", 171.85000000, -295.25000000, -9.58000000, 2.00000000, 5.00000000, 10.00000000, 0.79013700, -0.19356800, -63.01000000, 1 );
    sub_11297( ref l_U1330[0], 141.78000000, -266.43000000, -5.68000000, 0, -1612788365, 5, 2, 1, 0, 0 );
    sub_11297( ref l_U1330[1], 141.78000000, -266.43000000, -5.68000000, 0, -749213788, 5, 2, 1, 0, 0 );
    sub_11297( ref l_U1330[2], 141.78000000, -266.43000000, -5.68000000, 0, -165517242, 5, 2, 1, 0, 0 );
    sub_11297( ref l_U1330[3], 141.78000000, -266.43000000, -5.68000000, 0, -1986655527, 5, 2, 1, 0, 0 );
    sub_11297( ref l_U1330[4], 141.78000000, -266.43000000, -5.68000000, 0, 817197543, 5, 2, 1, 0, 0 );
    sub_11297( ref l_U1330[5], 141.78000000, -266.43000000, -5.68000000, 0, 485891221, 5, 2, 1, 0, 0 );
    sub_11297( ref l_U1330[6], 141.78000000, -266.43000000, -5.68000000, 0, -669615669, 5, 2, 1, 0, 0 );
    sub_11297( ref l_U1330[7], 141.78000000, -266.43000000, -5.68000000, 0, -1825935213, 5, 2, 1, 0, 0 );
    sub_11297( ref l_U1330[8], 141.78000000, -266.43000000, -5.68000000, 0, -1586497969, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1330[9], 141.78000000, -266.43000000, -5.68000000, 0, -398167434, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1330[10], 141.78000000, -266.43000000, -5.68000000, 0, 1534000798, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1330[11], 141.78000000, -266.43000000, -5.68000000, 0, -1925999946, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1330[12], 141.78000000, -266.43000000, -5.68000000, 0, -1648862227, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1740[0], l_U1729, l_U1732, 423366879, 4, 1, 1, 0, 0 );
    sub_11297( ref l_U1740[1], l_U1733, l_U1736, -31457820, 4, 1, 1, 0, 0 );
    sub_14957( ref l_U2203, -780153053, 166.97900000, -272.54480000, -4.33320000, 0, 0, 0 );
    ENABLE_WALLA_ZONE( "S_FAV0_WZ_FAVELA", 0 );
    ENABLE_WALLA_ZONE( "S_FAV0_WZ_PARTY", 0 );
    SET_VISIBILITY_OF_CLOSEST_OBJECT_OF_TYPE( 166.91900000, -272.54480000, -4.33320000, 2.00000000, l_U2203._fU0, 0 );
    return;
}

void sub_9634(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = GET_SCENE_PED_MODEL( uParam1 );
    iParam0->_fU4 = uParam1;
    iParam0->_fU8 = {uParam2};
    iParam0->_fU20 = uParam5;
    iParam0->_fU28 = uParam6;
    iParam0->_fU32 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU40 = uParam9;
    iParam0->_fU44 = uParam10;
    iParam0->_fU48 = 1;
    return;
}

void sub_11297(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU20 = uParam5;
    iParam0->_fU12 = uParam4;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU16 = GET_SCENE_PED_MODEL( uParam5 );
    iParam0->_fU48 = uParam10;
    return;
}

void sub_11619(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10)
{
    iParam0->_fU0 = {uParam1};
    iParam0->_fU12 = uParam4;
    iParam0->_fU16 = uParam5;
    iParam0->_fU24 = uParam6;
    iParam0->_fU28 = uParam7;
    iParam0->_fU36 = uParam8;
    iParam0->_fU32 = uParam9;
    iParam0->_fU44 = 0;
    iParam0->_fU48 = uParam10;
    return;
}

void sub_13178(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11)
{
    StrCopy( ref iParam0->_fU0, uParam1, 64 );
    iParam0->_fU64 = 0;
    iParam0->_fU68 = 0;
    iParam0->_fU72 = {uParam2};
    GAMEPLAY_HELPER_BOX_ANGLED_CREATE( 1, iParam0 + 0, uParam2, uParam5, uParam6, uParam7, uParam8, uParam11 );
    return;
}

void sub_14957(int iParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7)
{
    iParam0->_fU0 = uParam1;
    iParam0->_fU4 = {uParam2};
    iParam0->_fU16 = {uParam5};
    return;
}

void sub_15116(unknown uParam0)
{
    StrCopy( ref g_U157._fU0, uParam0, 16 );
    sub_15136();
    return;
}

void sub_15136()
{
    int I;

    for ( I = 0; I <= 8; I++ )
    {
        g_U157._fU16[I]._fU0 = nil;
        g_U157._fU16[I]._fU4 = 0;
        g_U157._fU92[I] = 0;
    }
    return;
}

void sub_15357()
{
    sub_15373( -862236369, 0 );
    sub_15442( g_U1299, 0 );
    sub_15442( 1954287605, 0 );
    sub_15442( 482975116, 0 );
    sub_15442( 1735415311, 0 );
    sub_15442( -920786303, 0 );
    sub_15442( 1131142060, 0 );
    sub_15442( -812709388, 0 );
    sub_15442( 1899377337, 0 );
    sub_15442( -1193489045, 0 );
    sub_15442( 723970757, 0 );
    sub_15442( 2051896956, 0 );
    sub_15442( 1826773926, 0 );
    sub_15734( ref g_U1279, 0, 1 );
    sub_15734( ref l_U1037, 0, 1 );
    sub_15855( "SCRIPT_MISSION\S_FAV0_SWEEPING_LADY", 0 );
    sub_15928( 423329042, 0 );
    sub_15928( -125286029, 0 );
    sub_15928( -1475510916, 0 );
    sub_15928( 1984731643, 0 );
    sub_15928( -1281802346, 0 );
    sub_15928( -147405084, 0 );
    sub_15928( 1016527665, 0 );
    sub_15928( -1086426398, 0 );
    if (g_U748 == 0)
    {
        sub_15442( -8479567, 0 );
        if (l_U55 == 0)
        {
            sub_16256( "07_01_FAV1_concat", 0 );
        }
    }
    sub_15734( ref g_U1279, 0, 1 );
    sub_15928( 774659676, 0 );
    sub_15928( 26188514, 0 );
    sub_16561( "S_FAV1_VIG_02B_DOOR", 0, 0 );
    return;
}

void sub_15373(unknown uParam0, boolean bParam1)
{
    REQUEST_WEAPON( uParam0 );
    if (bParam1)
    {
        while ((HAS_WEAPON_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_15442(unknown uParam0, boolean bParam1)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 0)
    {
        sub_4697( "[SP]### ERROR! (LoadModel) Trying to load a model that isn't in the img! ###" );
    }
    REQUEST_MODEL( uParam0 );
    "[doubled result, dropped if not asigned]";
    if (bParam1)
    {
        while ((HAS_MODEL_LOADED( uParam0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_15734(unknown uParam0, unknown uParam1, int iParam2)
{
    REQUEST_ANIM_DICT( uParam0, uParam1 );
    "[doubled result, dropped if not asigned]";
    if (iParam2 == 1)
    {
        while ((HAS_ANIM_DICT_LOADED( uParam0, uParam1 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_15855(unknown uParam0, int iParam1)
{
    LOAD_SCRIPT_AUDIO_BANK( uParam0 );
    if (iParam1 == 1)
    {
        while ((IS_SCRIPT_AUDIO_BANK_LOADED( uParam0, 0 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

void sub_15928(unknown uParam0, int iParam1)
{
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;

    if ((ISEQ_DOES_EXIST( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The interactive sequence you are trying to load does not exist!!!!", 0 );
    }
    if ((ISEQ_IS_LOADED( uParam0 )) == 0)
    {
        ISEQ_REQUEST( uParam0 );
        ISEQ_GET_NAME( 32, ref uVar4, uParam0 );
        if (iParam1 == 1)
        {
            while ((ISEQ_QUERY_STATE( uParam0, 1 )) == 1)
            {
                WAIT( 0 );
            }
        }
    }
    return;
}

void sub_16256(unknown uParam0, int iParam1)
{
    if (HAS_CUTSCENE_LOADED())
    {
        if (NOT (CUTSCENE_IS_LOADED( uParam0 )))
        {
            SCRIPT_ASSERT( "Another cutscene is already loaded.  You can only load one cutscene into memory.  Your current cutscene will not load into memory.", 0 );
        }
    }
    if (NOT (CUTSCENE_IS_LOADED( uParam0 )))
    {
        PRE_STREAM_SEAMLESS_CUTSCENE( uParam0 );
        if (iParam1 == 1)
        {
            while ((CUTSCENE_IS_LOADED( uParam0 )) == 0)
            {
                WAIT( 0 );
            }
        }
    }
    return;
}

void sub_16561(unknown uParam0, unknown uParam1, int iParam2)
{
    if (iParam2 == 0)
    {
        REQUEST_SCRIPT_STREAM( uParam0, uParam1 );
    }
    else
    {
        while ((LOAD_SCRIPT_STREAM( uParam0, uParam1 )) == 0)
        {
            WAIT( 0 );
        }
    }
    return;
}

int sub_16713()
{
    if ((LOAD_SCRIPT_STREAM( "S_FAV1_VIG_02B_DOOR", 0 )) AND ((IS_SCRIPT_AUDIO_BANK_LOADED( "SCRIPT_MISSION\S_FAV0_SWEEPING_LADY", 0 )) AND ((HAS_ANIM_DICT_LOADED( ref l_U1037, 0 )) AND ((HAS_ANIM_DICT_LOADED( ref g_U1279, 0 )) AND ((ISEQ_IS_LOADED( -1281802346 )) AND ((ISEQ_IS_LOADED( 423329042 )) AND ((ISEQ_IS_LOADED( -125286029 )) AND ((ISEQ_IS_LOADED( 26188514 )) AND ((ISEQ_IS_LOADED( 774659676 )) AND ((ISEQ_IS_LOADED( -1086426398 )) AND ((ISEQ_IS_LOADED( 1016527665 )) AND ((ISEQ_IS_LOADED( -147405084 )) AND ((ISEQ_IS_LOADED( -1281802346 )) AND ((ISEQ_IS_LOADED( 1984731643 )) AND ((ISEQ_IS_LOADED( -1475510916 )) AND ((ISEQ_IS_LOADED( -125286029 )) AND ((ISEQ_IS_LOADED( 423329042 )) AND ((HAS_MODEL_LOADED( 1899377337 )) AND ((HAS_MODEL_LOADED( 1826773926 )) AND ((HAS_MODEL_LOADED( 2051896956 )) AND ((HAS_MODEL_LOADED( -812709388 )) AND ((HAS_MODEL_LOADED( 723970757 )) AND ((HAS_MODEL_LOADED( -1193489045 )) AND ((HAS_MODEL_LOADED( 1899377337 )) AND ((HAS_MODEL_LOADED( 1131142060 )) AND ((HAS_MODEL_LOADED( -920786303 )) AND ((HAS_MODEL_LOADED( 1735415311 )) AND ((HAS_MODEL_LOADED( 482975116 )) AND ((HAS_MODEL_LOADED( 1954287605 )) AND ((HAS_MODEL_LOADED( g_U1299 )) AND (HAS_WEAPON_LOADED( -862236369 ))))))))))))))))))))))))))))))))
    {
        if (g_U748 == 0)
        {
            if ((HAS_CUTSCENE_LOADED()) AND (HAS_MODEL_LOADED( -8479567 )))
            {
                return 1;
            }
        }
        else
        {
            return 1;
        }
    }
    return 0;
}

void sub_17594()
{
    sub_845( "SP", "P_SETUP_PARTY_CIVS", 0 );
    sub_17636();
    sub_18830();
    sub_19044();
    sub_19232();
    return;
}

void sub_17636()
{
    sub_845( "SP", "P_SETUP_KID", 0 );
    sub_1830( l_U1271 );
    l_U1271 = sub_17685( ref l_U1272 );
    if (((IS_PED_DEAD( l_U1271 )) == 0) AND ((DOES_PED_EXIST( l_U1271 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U1271, "Kid" );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1271, 1 );
        SET_PED_CAN_RAGDOLL_FROM_PLAYER_IMPACT( l_U1271, 0 );
        if ((IS_PED_DEAD( sub_1194() )) == 0)
        {
            SET_PED_DEFAULT_AIM_AT_PED( l_U1271, sub_1194() );
        }
    }
    ISEQ_REGISTER_ENTITY( -125286029, "KID", l_U1271, 0 );
    ISEQ_START( -125286029 );
    sub_18496( ref l_U1271 );
    return;
}

void sub_17685(int iParam0)
{
    int iVar3;

    iVar3 = 0;
    if (iParam0->_fU16 == 0)
    {
        if (iParam0->_fU20 != 0)
        {
            iVar3 = GET_SCENE_PED_MODEL( iParam0->_fU20 );
        }
    }
    else
    {
        iVar3 = iParam0->_fU16;
    }
    if ((HAS_MODEL_LOADED( iVar3 )) == 0)
    {
        SCRIPT_ASSERT( "Error: The model you are trying to create a ped with MUST BE PRELOADED!!!!", 0 );
        sub_15442( iParam0->_fU16, 1 );
    }
    iParam0->_fU40 = CREATE_PED( iParam0->_fU24, iParam0->_fU16, iParam0->_fU0, iParam0->_fU12, 1, iParam0->_fU48 );
    if (((IS_PED_DEAD( iParam0->_fU40 )) == 0) AND ((DOES_PED_EXIST( iParam0->_fU40 )) == 1))
    {
        if (iParam0->_fU20 != 0)
        {
            SET_PERSISTENT_PED_VARIATION_ENUM( iParam0->_fU40, iParam0->_fU20 );
        }
        SET_PED_RELATIONSHIP_GROUP( iParam0->_fU40, iParam0->_fU28 );
        SET_PED_RELATIONSHIP( iParam0->_fU40, iParam0->_fU36, iParam0->_fU32 );
        SET_LOAD_COLLISION_FOR_PED_FLAG( iParam0->_fU40, 1 );
        SET_PED_COORDS_NO_OFFSET( iParam0->_fU40, "[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( iParam0->_fU40 ) );
        SET_PED_HEADING( iParam0->_fU40, iParam0->_fU12 );
        iParam0->_fU44 = 1;
    }
    else
    {
        SCRIPT_ASSERT( "Error: The ped you created doesn't exist or is dead!", 0 );
    }
    sub_18164( iParam0->_fU40 );
    sub_18244( iParam0->_fU40 );
    return iParam0->_fU40;
}

void sub_18164(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_HEALTH( uParam0, 200, 0 );
        SET_PED_ACCURACY( uParam0, -729479261 );
    }
    return;
}

void sub_18244(unknown uParam0)
{
    if (((IS_PED_DEAD( uParam0 )) == 0) AND ((DOES_PED_EXIST( uParam0 )) == 1))
    {
        SET_PED_AI_TEMPLATE( uParam0, "AIT_DEFAULT_GENERIC" );
    }
    return;
}

void sub_18496(unknown uParam0)
{
    sub_845( "rw", "P_PLAYER_LOOK_AT_PED", 0 );
    if (NOT (IS_PED_DEAD( sub_1194() )))
    {
        CLEAR_PED_PRIMARY_LOOKAT( sub_1194() );
    }
    sub_18570();
    if ((NOT (IS_PED_DEAD( (uParam0^) ))) AND (NOT (IS_PED_DEAD( sub_1194() ))))
    {
        SET_PED_PRIMARY_LOOKAT( sub_1194(), (uParam0^) );
    }
    return;
}

void sub_18570()
{
    sub_845( "RW", "P_START_LOOK_TIME()", "###" );
    sub_1501( ref g_U738 );
    sub_7242( ref g_U738, 5500, 1, 0 );
    sub_18645( ref g_U738 );
    return;
}

void sub_18645(int iParam0)
{
    if (NOT iParam0->_fU20)
    {
        iParam0->_fU20 = 1;
        iParam0->_fU16 = 0;
        if (iParam0->_fU28)
        {
            iParam0->_fU0 = TIMERA();
        }
        else
        {
            iParam0->_fU0 = TIMERB();
        }
        if (iParam0->_fU32 == 1)
        {
            iParam0->_fU0 = TIMERSYSTEM();
        }
        iParam0->_fU4 = iParam0->_fU0;
    }
    return;
}

void sub_18830()
{
    sub_845( "SP", "P_SETUP_OLD_WOMAN", 0 );
    sub_1830( l_U1285 );
    l_U1285 = sub_17685( ref l_U1286 );
    if (((IS_PED_DEAD( l_U1285 )) == 0) AND ((DOES_PED_EXIST( l_U1285 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U1285, "piOldWoman" );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1285, 1 );
        CLEAR_ALL_PED_PROPS( l_U1285 );
        SET_PED_PROP_INDEX( l_U1285, 13, 0, 0, 255 );
    }
    ISEQ_REGISTER_ENTITY( -1281802346, "WOMAN", l_U1285, 0 );
    ISEQ_START( -1281802346 );
    return;
}

void sub_19044()
{
    sub_845( "SP", "P_SETUP_BOUNCER", 0 );
    sub_1830( l_U1302 );
    l_U1302 = sub_17685( ref l_U1303 );
    if (((IS_PED_DEAD( l_U1302 )) == 0) AND ((DOES_PED_EXIST( l_U1302 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U1302, "piPartyBouncer" );
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1302, 1 );
        ISEQ_REGISTER_ENTITY( 26188514, "bouncer", l_U1302, 0 );
        ISEQ_START( 26188514 );
    }
    return;
}

void sub_19232()
{
    sub_845( "SP", "P_CREATE_VIG_00A_F1_FIRST_WINDOW_HANGOUT", 0 );
    sub_1830( l_U1773 );
    sub_11297( ref l_U1774, l_U1787, l_U1790, -1741633665, 7, 3, 2, 0, 0 );
    l_U1773 = sub_17685( ref l_U1774 );
    sub_1909( l_U1791 );
    l_U1791 = sub_19380( 2051896956, l_U1792, l_U1795, 0, 1, 0 );
    if (DOES_OBJECT_EXIST( l_U1791 ))
    {
        FREEZE_OBJECT_POSITION( l_U1791, 1 );
    }
    sub_1909( l_U1798 );
    l_U1798 = sub_19380( 1826773926, l_U1799, l_U1802, 0, 1, 0 );
    if (DOES_OBJECT_EXIST( l_U1798 ))
    {
        FREEZE_OBJECT_POSITION( l_U1798, 1 );
    }
    if (NOT (IS_PED_DEAD( l_U1773 )))
    {
        SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U1773, 1 );
        ISEQ_REGISTER_ENTITY( -1086426398, "CIV", l_U1773, 0 );
        ISEQ_REGISTER_ENTITY( -1086426398, "SHUTTERA", l_U1791, 1 );
        ISEQ_REGISTER_ENTITY( -1086426398, "SHUTTERB", l_U1798, 1 );
        ISEQ_START( -1086426398 );
    }
    return;
}

void sub_19380(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
        sub_15442( uParam0, 1 );
    }
    Result = CREATE_OBJECT( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

void sub_19857(int iParam0, int iParam1, int iParam2, unknown uParam3)
{
    float fVar6;

    if ((sub_19869( iParam0 )) == 0)
    {
        sub_19935( iParam0 );
    }
    fVar6 = 0.00000000;
    if (iParam1 == 1)
    {
        fVar6 = uParam3;
    }
    else
    {
        fVar6 = -uParam3;
    }
    if (iParam2 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, fVar6 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar6 );
    }
    else
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar6 );
    }
    return;
}

int sub_19869(int iParam0)
{
    int iVar3;

    iVar3 = DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS( iParam0->_fU4, 1.00000000, iParam0->_fU0 );
    if (iVar3 == 1)
    {
        return 1;
    }
    return 0;
}

void sub_19935(unknown uParam0)
{
    (uParam0^) = {(uParam0^)};
    return;
}

int sub_20405()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;

    switch (l_U56)
    {
        case 0: break;
        case 1:
        sub_845( "SP", "e0701CutsceneState = CUTSCENE_SETUP", 0 );
        if ((IS_PED_DEAD( sub_1194() )) == 0)
        {
            CUTSCENE_REGISTER_PED_TELEPORT( sub_1194(), g_U749[1], g_U849[1] );
            ISEQ_REGISTER_ENTITY( 423329042, "player", sub_1194(), 0 );
            CUTSCENE_REGISTER_ISEQ( 423329042 );
            CUTSCENE_REGISTER_ACTION_TREE_PLAY_NODE( sub_1194(), "/Global/S_FAV1_WALK/S_FAV1_WALK/S_FAV1_WALK" );
        }
        sub_20667();
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1515[0], "M_F1_MIS_A", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1515[1], "M_F1_MIS_A^1", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1515[2], "M_F1_MIS_A^2", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1515[3], "K_F1_MISC_A", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1515[4], "K_F1_MISC_A^1", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1515[5], "K_F1_MISC_A^2", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1515[6], "F_F1_MISC_A", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1515[7], "F_F1_MISC_A^1", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1515[8], "F_F1_MISC_A^2", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1515[9], "M_F1_MISC_A", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1515[10], "M_F1_MISC_A^5", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1515[11], "M_F1_MISC_A^1", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1515[12], "M_F1_MISC_A^2", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1515[13], "M_F1_MISC_A^3", 0 );
        REGISTER_PED_PRE_SEAMLESS_CUTSCENE( l_U1515[14], "M_F1_MISC_A^4", 0 );
        CUTSCENE_ENABLE_SKIP( 0 );
        SET_WEATHER_TYPE_NOW_PERSIST( "EXTRASUNNY" );
        FREEZE_TIME_OF_DAY( 9, 0 );
        START_SEAMLESS_CUTSCENE();
        l_U56 = 3;
        sub_845( "SP", "e0701CutsceneState = CUTSCENE_FIRST_FRAME", 0 );
        break;
        case 3:
        sub_845( "SP", "e0701CutsceneState = CUTSCENE_FIRST_FRAME", 0 );
        l_U56 = 4;
        sub_845( "SP", "e0701CutsceneState = CUTSCENE_PLAYING", 0 );
        break;
        case 4:
        if (HAS_CUTSCENE_FINISHED() == 1)
        {
            sub_2500( ref l_U1515 );
            sub_21602( -8479567 );
            SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0, 1065353216, 0 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0, 1065353216, 0 );
            CLEAR_NAMED_CUTSCENE( "07_01_FAV1_concat" );
            if ((IS_SCREEN_FADING_OUT()) || (IS_SCREEN_FADED_OUT()))
            {
                DO_SCREEN_FADE_OUT( 0 );
                LOAD_SCENE( 213.26000000, -321.64000000, 2.16000000 );
            }
            sub_21848( 1, 1 );
            sub_17594();
            sub_19857( ref g_U951, 1, 1, 1065353216 );
            sub_7242( ref l_U434, 2500, 1, 0 );
            sub_18645( ref l_U434 );
            ENABLE_STATIC_EMITTER( "S_FAV0_SE_INTRO_PARTY_MUSIC_CENTRE", 1 );
            DISPLAY_HUD( 0 );
            CAMERA_PLAY_ANIMATED( "LEVEL_S_FAV1_CP_01", "B_OUT_07_01_FAV1_CAM", 1, 213.05000000, -315.47000000, 2.16000000, -5.76000000, 0, 0 );
            if (l_U377 == 0)
            {
                SET_WEATHER_TYPE_NOW_PERSIST( "EXTRASUNNY" );
                FREEZE_TIME_OF_DAY( 12, 0 );
            }
            l_U56 = 5;
        }
        else
        {
            uVar2 = GET_CUTSCENE_SECTION_PLAYING();
            uVar3 = GET_CUTSCENE_TIME();
            uVar4 = GET_CUTSCENE_TIME_MS();
            if ((l_U376 == 0) AND (GET_CUTSCENE_TIME_MS() > 6996))
            {
                SET_WEATHER_TYPE_NOW_PERSIST( "CLOUDY" );
                FREEZE_TIME_OF_DAY( 12, 0 );
                l_U376 = 1;
            }
            if ((l_U377 == 0) AND (GET_CUTSCENE_TIME_MS() > 15519))
            {
                SET_WEATHER_TYPE_NOW_PERSIST( "EXTRASUNNY" );
                l_U377 = 1;
            }
            if ((GET_CUTSCENE_TIME_MS() > 117000) AND (l_U378 == 0))
            {
                l_U378 = 1;
                sub_19857( ref g_U951, 0, 1, 1065353216 );
            }
        }
        break;
        case 5:
        if (IS_ANIMATED_CAMERA_PLAYING() == 0)
        {
            return 1;
        }
        sub_22540();
        break;
    }
    return 0;
}

void sub_20667()
{
    int I;

    sub_845( "rw", "P_CREATE_07_01_ACTORS", 0 );
    for ( I = 0; I < 15; I++ )
    {
        l_U1515[I] = sub_17685( ref l_U1531[I] );
    }
    sub_20776( ref l_U1515, "pi0701Actor_" );
    return;
}

void sub_20776(unknown uParam0, unknown uParam1)
{
    int I;
    char[32] cVar5;

    for ( I = 0; I < (uParam0^); I++ )
    {
        if (DOES_PED_EXIST( (uParam0^)[I] ))
        {
            StrCopy( ref cVar5, uParam1, 32 );
            ConcatString(ref cVar5, " ", 32);
            ConcatString(ref cVar5, I, 32);
            SET_PED_NAME_DEBUG( (uParam0^)[I], ref cVar5 );
        }
    }
    return;
}

void sub_21602(unknown uParam0)
{
    if ((IS_MODEL_IN_CDIMAGE( uParam0 )) == 1)
    {
        SET_MODEL_AS_NO_LONGER_NEEDED( uParam0 );
    }
    else
    {
        sub_4697( "[SP]### ERROR! (UnloadModel) Trying to unload a model that isn't in the img! ###" );
    }
    return;
}

void sub_21848(boolean bParam0, boolean bParam1)
{
    SET_WIDESCREEN_BORDERS( 0, 500 );
    DISPLAY_HUD( 1 );
    if (NOT (IS_PED_DEAD( sub_1194() )))
    {
        SET_PLAYER_CONTROL( sub_1216(), 1, 0 );
        SET_PED_INVINCIBLE( sub_1194(), 0 );
        if (bParam0)
        {
            sub_21929();
        }
    }
    PULSE_CROSSHAIR( 1 );
    if (bParam1)
    {
        DESTROY_ALL_CAMS();
    }
    return;
}

void sub_21929()
{
    unknown uVar2;
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;

    if ((IS_PED_DEAD( sub_1194() )) == 0)
    {
        uVar2 = GET_WEAPON_FROM_HAND( sub_1194(), 0, 0 );
        uVar3 = GET_WEAPON_FROM_HAND( sub_1194(), 1, 0 );
        if ((GET_DOES_WEAPON_EXIST( uVar2 )) == 1)
        {
            uVar4 = GET_MAX_AMMO_IN_HAND_CLIP_MP( sub_1194(), 0 );
            SET_WEAPON_AMMO_IN_CLIP( uVar2, uVar4 );
        }
        if ((GET_DOES_WEAPON_EXIST( uVar3 )) == 1)
        {
            uVar5 = GET_MAX_AMMO_IN_HAND_CLIP_MP( sub_1194(), 1 );
            SET_WEAPON_AMMO_IN_CLIP( uVar3, uVar5 );
        }
    }
    return;
}

void sub_22540()
{
    if ((NOT l_U379) AND (IS_ANIMATED_CAMERA_PLAYING() == 1))
    {
        if (CAMERA_ANIMATED_CURRENT_TIME() >= 3500)
        {
            sub_845( "rw", "Cam finished", 0 );
            SET_GAMEPLAY_CAM_RELATIVE_HEADING( 0, 1065353216, 0 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( 0, 1065353216, 0 );
            CAMERA_FREEZE_FRAME( 1, 1500, 500, 0 );
            CAMERA_ANIMATED_STOP( 3500, 1 );
            sub_7242( ref l_U380, 1600, 1, 0 );
            sub_18645( ref l_U380 );
            l_U379 = 1;
        }
    }
    if (NOT (IS_PED_DEAD( sub_1194() )))
    {
        if ((PED_GET_ACTION_INTENTION_STATUS( sub_1194(), 48 )) == 3)
        {
            ENABLE_PLAYERHEALTH( 1 );
            ENABLE_BULLETTIMEMETER( 1 );
            SET_PLAYER_CONTROL( sub_1216(), 1, 0 );
            PED_FINISH_ACTION_INTENTION( sub_1194(), 48 );
            SIMULATE_PLAYER_INPUT_GAIT( sub_1216(), 2, 3000, 0 );
        }
    }
    if (sub_22804( ref l_U380 ))
    {
        sub_22975( ref g_U951, 1 );
    }
    return;
}

int sub_22804(int iParam0)
{
    if (iParam0->_fU16)
    {
        return 0;
    }
    else if (NOT iParam0->_fU20)
    {
        return 0;
    }
    if (iParam0->_fU28)
    {
        iParam0->_fU4 = TIMERA();
    }
    else
    {
        iParam0->_fU4 = TIMERB();
    }
    if (iParam0->_fU32 == 1)
    {
        iParam0->_fU4 = TIMERSYSTEM();
    }
    if ((iParam0->_fU4 - iParam0->_fU0) >= iParam0->_fU12)
    {
        iParam0->_fU16 = 1;
        iParam0->_fU20 = 0;
        return 1;
        break;
    }
    return 0;
}

void sub_22975(int iParam0, int iParam1)
{
    int iVar4;
    float fVar5;

    if ((sub_19869( iParam0 )) == 0)
    {
        sub_19935( iParam0 );
    }
    if (iParam1 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, 0.00000000 );
    }
    else
    {
        iVar4 = 0;
        fVar5 = 0.00000000;
        GET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, ref iVar4, ref fVar5 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, fVar5 );
    }
    return;
}

void sub_23220()
{
    if (((IS_PED_DEAD( l_U1271 )) == 0) AND (((DOES_PED_EXIST( l_U1271 )) == 1) AND ((IS_PED_DEAD( sub_1194() )) == 0)))
    {
        switch (l_U2105)
        {
            case 0:
            sub_7242( ref l_U398, 1200, 1, 0 );
            sub_18645( ref l_U398 );
            l_U2105 = 1;
            break;
            case 1:
            if ((sub_22804( ref l_U425 )) == 1)
            {
                sub_845( "SP", "Kid Beckons", 0 );
                if (((IS_PED_DEAD( l_U1271 )) == 0) AND ((DOES_PED_EXIST( l_U1271 )) == 1))
                {
                    PED_SET_ACTION_INTENTION( l_U1271, 38, 10000, 0.00000000, 0.00000000, 0.00000000 );
                }
                sub_23481();
                sub_24823();
            }
            if (sub_24915( l_U142 ))
            {
                sub_24996();
                if (((IS_PED_DEAD( l_U1271 )) == 0) AND ((DOES_PED_EXIST( l_U1271 )) == 1))
                {
                    PED_SET_ACTION_INTENTION( l_U1271, 48, 10000, 0.00000000, 0.00000000, 0.00000000 );
                }
                sub_24823();
                l_U2105 = 2;
            }
            break;
            case 2:
            sub_845( "SP", "eKidState = KID_AT_POSITION_C", 0 );
            if ((sub_22804( ref l_U425 )) == 1)
            {
                sub_845( "SP", "Kid Beckons", 0 );
                if (((IS_PED_DEAD( l_U1271 )) == 0) AND ((DOES_PED_EXIST( l_U1271 )) == 1))
                {
                    PED_SET_ACTION_INTENTION( l_U1271, 39, 10000, 0.00000000, 0.00000000, 0.00000000 );
                }
                sub_25343();
                sub_24823();
            }
            if ((sub_24915( l_U163 )) == 1)
            {
                sub_16256( "07_02_FAV1_concat", 0 );
                if (((IS_PED_DEAD( l_U1271 )) == 0) AND ((DOES_PED_EXIST( l_U1271 )) == 1))
                {
                    PED_SET_ACTION_INTENTION( l_U1271, 49, 10000, 0.00000000, 0.00000000, 0.00000000 );
                }
                sub_24823();
                l_U2105 = 3;
            }
            break;
            case 3:
            sub_845( "SP", "eKidState = KID_AT_POSITION_D", 0 );
            if ((sub_22804( ref l_U425 )) == 1)
            {
                sub_845( "SP", "Kid Beckons", 0 );
                if (((IS_PED_DEAD( l_U1271 )) == 0) AND ((DOES_PED_EXIST( l_U1271 )) == 1))
                {
                    PED_SET_ACTION_INTENTION( l_U1271, 40, 10000, 0.00000000, 0.00000000, 0.00000000 );
                }
                sub_25756();
                sub_24823();
            }
            if ((sub_24915( l_U184 )) == 1)
            {
                if (((IS_PED_DEAD( l_U1271 )) == 0) AND ((DOES_PED_EXIST( l_U1271 )) == 1))
                {
                    PED_SET_ACTION_INTENTION( l_U1271, 50, 10000, 0.00000000, 0.00000000, 0.00000000 );
                }
                if (((IS_PED_DEAD( l_U1285 )) == 0) AND ((DOES_PED_EXIST( l_U1285 )) == 1))
                {
                    PED_SET_ACTION_INTENTION( l_U1285, 50, 1000, 0.00000000, 0.00000000, 0.00000000 );
                }
                sub_24823();
                l_U2105 = 4;
            }
            break;
            case 4:
            sub_845( "SP", "eKidState = KID_AT_POSITION_E", 0 );
            if ((sub_22804( ref l_U425 )) == 1)
            {
                sub_845( "SP", "Kid Beckons", 0 );
                if (((IS_PED_DEAD( l_U1271 )) == 0) AND ((DOES_PED_EXIST( l_U1271 )) == 1))
                {
                    PED_SET_ACTION_INTENTION( l_U1271, 41, 10000, 0.00000000, 0.00000000, 0.00000000 );
                }
                sub_26210();
                sub_24823();
            }
            if ((sub_24915( l_U205 )) == 1)
            {
                sub_845( "SP", "Kid Beckons", 0 );
                if (((IS_PED_DEAD( l_U1271 )) == 0) AND ((DOES_PED_EXIST( l_U1271 )) == 1))
                {
                    PED_SET_ACTION_INTENTION( l_U1271, 51, 10000, 0.00000000, 0.00000000, 0.00000000 );
                }
                if (((IS_PED_DEAD( l_U1285 )) == 0) AND ((DOES_PED_EXIST( l_U1285 )) == 1))
                {
                    PLAY_AUDIO_EVENT_FROM_PED( "S_FAV0_SWEEPING_LADY", l_U1285 );
                    PED_SET_ACTION_INTENTION( l_U1285, 51, 10000, 0.00000000, 0.00000000, 0.00000000 );
                }
                sub_26557();
                sub_24823();
                sub_7242( ref l_U452, 7500, 1, 0 );
                sub_18645( ref l_U452 );
                sub_7242( ref l_U461, 10600, 1, 0 );
                sub_18645( ref l_U461 );
                l_U2105 = 5;
            }
            break;
            case 5:
            sub_845( "SP", "eKidState = KID_AT_POSITION_E", 0 );
            if ((sub_26813( ref l_U226, 0 )) == 1)
            {
                sub_26916();
            }
            if ((sub_22804( ref l_U425 )) == 1)
            {
                sub_845( "SP", "Kid Beckons", 0 );
                if (((IS_PED_DEAD( l_U1271 )) == 0) AND ((DOES_PED_EXIST( l_U1271 )) == 1))
                {
                    PED_SET_ACTION_INTENTION( l_U1271, 42, 10000, 0.00000000, 0.00000000, 0.00000000 );
                }
                sub_27154();
                sub_24823();
            }
            break;
        }
        if ((sub_27304( ref l_U247, l_U1271, 0 )) == 1)
        {
            sub_23481();
        }
        if ((sub_27304( ref l_U268, l_U1271, 0 )) == 1)
        {
            sub_23481();
        }
        if ((sub_27304( ref l_U289, l_U1271, 0 )) == 1)
        {
            sub_27475( 182.68000000, -306.45000000, -2.47000000 );
            sub_25343();
        }
        if ((sub_27304( ref l_U310, l_U1271, 0 )) == 1)
        {
            sub_25756();
        }
        if ((sub_27304( ref l_U352, sub_1194(), 0 )) == 1)
        {
            sub_27673( "DOUBLE_FLASH_FAST", 4, 0 );
        }
        if ((sub_27304( ref l_U331, l_U1271, 0 )) == 1)
        {
            sub_27154();
        }
    }
    return;
}

void sub_23481()
{
    sub_845( "NS", "P_AUD_KID_BECKON_B", 0 );
    sub_23527( ref l_U2220 );
    sub_23609( 0, sub_1194(), "MAX", ref l_U2220, 2, 0 );
    sub_23824( 1, l_U1271, -48688530, ref l_U2220, 2, 0 );
    sub_24035( "SFV1_VIG01S", ref l_U2220, 4, 1 );
    return;
}

void sub_23527(int iParam0)
{
    iParam0->_fU4 = -1;
    iParam0->_fU16 = 0;
    iParam0->_fU20 = 0;
    iParam0->_fU24 = 0;
    iParam0->_fU28 = 0;
    iParam0->_fU32 = 0;
    iParam0->_fU36 = 0;
    return;
}

void sub_23609(int iParam0, unknown uParam1, unknown uParam2, int iParam3, unknown uParam4, unknown uParam5)
{
    if (iParam3->_fU32)
    {
        ;
    }
    else if (iParam3->_fU36 == 0)
    {
        iParam3->_fU36 = 1;
        iParam3->_fU4 = CREATE_NEW_SCRIPTED_CONVERSATION( uParam4 );
        if (iParam3->_fU4 == -1)
        {
            iParam3->_fU32 = 1;
        }
    }
    if ((iParam0 < 9) AND ((iParam0 >= 0) AND ((iParam3->_fU4 < 4) AND (iParam3->_fU4 >= 0))))
    {
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU0 = uParam1;
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU4 = GET_HASH_KEY( uParam2 );
        if (NOT (IS_PED_INJURED( uParam1 )))
        {
            SET_PED_CAN_PLAY_AMBIENT_ANIMS( uParam1, uParam5 );
        }
    }
    return;
}

void sub_23824(int iParam0, unknown uParam1, unknown uParam2, int iParam3, unknown uParam4, unknown uParam5)
{
    if (iParam3->_fU32)
    {
        ;
    }
    else if (iParam3->_fU36 == 0)
    {
        iParam3->_fU36 = 1;
        iParam3->_fU4 = CREATE_NEW_SCRIPTED_CONVERSATION( uParam4 );
        if (iParam3->_fU4 == -1)
        {
            iParam3->_fU32 = 1;
        }
    }
    if ((iParam0 < 9) AND ((iParam0 >= 0) AND ((iParam3->_fU4 < 4) AND (iParam3->_fU4 >= 0))))
    {
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU0 = uParam1;
        g_U16[iParam3->_fU4]._fU16[iParam0]._fU4 = uParam2;
        if (NOT (IS_PED_INJURED( uParam1 )))
        {
            SET_PED_CAN_PLAY_AMBIENT_ANIMS( uParam1, uParam5 );
        }
    }
    return;
}

void sub_24035(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    return sub_24059( uParam0, ref g_U157._fU0, uParam1, uParam2, uParam3 );
}

void sub_24059(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4)
{
    char[16] cVar7;
    char[12] cVar11;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;

    StrCopy( ref cVar7, uParam1, 16 );
    array(ref cVar11, 2);
    StrCopy( ref cVar11[0], uParam0, 16 );
    StrCopy( ref cVar11[1], "END", 16 );
    return sub_24114( ref cVar11, uParam2, uParam3, 0, 0, 0, 0, ref cVar7, uParam4 );
}

int sub_24114(unknown uParam0, int iParam1, unknown uParam2, boolean bParam3, boolean bParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8)
{
    int I;
    unknown uVar12;
    unknown uVar13;

    if (iParam1->_fU4 == -1)
    {
        return 0;
    }
    iParam1->_fU0 = uParam2;
    if (NOT (sub_24149( iParam1 )))
    {
        return 0;
    }
    uVar12 = iParam1->_fU4;
    uVar13 = GET_HASH_KEY( ref (uParam0^)[0] );
    iParam1->_fU16 = uVar13;
    SET_CONVERSATION_CHECK_HASH( uVar12, uVar13 );
    g_U157._fU132 = 0;
    iParam1->_fU24 = 0;
    iParam1->_fU28 = uParam5;
    if (bParam3)
    {
        if (iParam1->_fU20)
        {
            iParam1->_fU20 = 0;
        }
    }
    else
    {
        iParam1->_fU20 = 0;
        if (bParam4)
        {
            iParam1->_fU12 = uParam6;
            iParam1->_fU20 = 0;
        }
        else
        {
            iParam1->_fU12 = 0;
            iParam1->_fU20 = 0;
        }
    }
    iParam1->_fU24 = bParam4;
    for ( I = 0; I <= 24; I++ )
    {
        StrCopy( ref g_U233[uVar12][I], "END", 16 );
    }
    for ( I = 0; I <= ((uParam0^) - 1); I++ )
    {
        g_U233[uVar12][I] = {(uParam0^)[I]};
    }
    g_U192[uVar12] = {(iParam1^)};
    sub_24643( ref g_U16[uVar12], ref g_U157 );
    StrCopy( ref g_U16[uVar12]._fU0, uParam7, 16 );
    g_U16[uVar12]._fU136 = uParam8;
    g_U11[iParam1->_fU4] = 1;
    return 1;
}

int sub_24149(int iParam0)
{
    switch (g_U11[iParam0->_fU4])
    {
        case 1:
        case 2:
        return 0;
        break;
    }
    if (IS_SCRIPTED_CONVERSATION_ONGOING( iParam0->_fU4 ))
    {
        if (g_U1[iParam0->_fU4] > iParam0->_fU0)
        {
            return 0;
        }
        STOP_SCRIPTED_CONVERSATION( iParam0->_fU4, 0, 0 );
    }
    g_U1[iParam0->_fU4] = iParam0->_fU0;
    g_U6[iParam0->_fU4]++;
    if (g_U6[iParam0->_fU4] > 100000)
    {
        g_U6[iParam0->_fU4] = 1;
    }
    iParam0->_fU8 = g_U6[iParam0->_fU4];
    return 1;
}

void sub_24643(int iParam0, int iParam1)
{
    int I;

    iParam0->_fU0 = {iParam1->_fU0};
    for ( I = 0; I <= 8; I++ )
    {
        iParam0->_fU92[I] = iParam1->_fU92[I];
    }
    iParam0->_fU132 = iParam1->_fU132;
    iParam0->_fU136 = iParam1->_fU136;
    return;
}

void sub_24823()
{
    sub_845( "SP", "P_SETUP_RANDOM_BECKON", 0 );
    sub_7242( ref l_U425, GET_RANDOM_INT_IN_RANGE( 8000, 20000 ), 1, 0 );
    sub_18645( ref l_U425 );
    return;
}

void sub_24915(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20)
{
    return sub_24933( sub_1194(), uParam0 );
}

int sub_24933(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, unknown uParam9, unknown uParam10, unknown uParam11, unknown uParam12, unknown uParam13, unknown uParam14, unknown uParam15, unknown uParam16, unknown uParam17, unknown uParam18, unknown uParam19, unknown uParam20, unknown uParam21)
{
    if ((IS_PED_DEAD( uParam0 )) == 0)
    {
        return IS_PED_IN_GAMEPLAY_HELPER_BOX( uParam0, ref uParam1._fU0 );
    }
    return 0;
}

void sub_24996()
{
    sub_845( "SA", "P_PLAY_MAX_PARTY_SPEECH", 0 );
    sub_23527( ref l_U479 );
    sub_23609( 0, sub_1194(), "MAX", ref l_U479, 2, 0 );
    sub_24035( "SFV1_VOFVKD", ref l_U479, 8, 1 );
    return;
}

void sub_25343()
{
    sub_845( "NS", "P_AUD_KID_BECKON_C", 0 );
    sub_23527( ref l_U2230 );
    sub_23609( 0, sub_1194(), "MAX", ref l_U2230, 2, 0 );
    sub_23824( 1, l_U1271, -48688530, ref l_U2230, 2, 0 );
    sub_24035( "SFV1_VIG01T", ref l_U2230, 4, 1 );
    return;
}

void sub_25756()
{
    sub_845( "NS", "P_AUD_KID_BECKON_D", 0 );
    sub_23527( ref l_U2240 );
    sub_23609( 0, sub_1194(), "MAX", ref l_U2240, 2, 0 );
    sub_23824( 1, l_U1271, -48688530, ref l_U2240, 2, 0 );
    sub_24035( "SFV1_VIG01F", ref l_U2240, 4, 1 );
    return;
}

void sub_26210()
{
    sub_845( "NS", "P_AUD_KID_BECKON_E", 0 );
    sub_23527( ref l_U2250 );
    sub_23609( 0, sub_1194(), "MAX", ref l_U2250, 2, 0 );
    sub_23824( 1, l_U1271, -48688530, ref l_U2250, 2, 0 );
    sub_24035( "SFV1_VIG01W", ref l_U2250, 4, 1 );
    return;
}

void sub_26557()
{
    sub_845( "NS", "P_AUD_VIG_04", 0 );
    sub_23527( ref l_U2300 );
    sub_23824( 2, l_U1285, 1290977924, ref l_U2300, 2, 0 );
    sub_23824( 1, l_U1271, -48688530, ref l_U2300, 2, 0 );
    sub_23609( 0, sub_1194(), "MAX", ref l_U2300, 2, 0 );
    sub_24035( "SFV1_VIG04A", ref l_U2300, 4, 1 );
    return;
}

void sub_26813(int iParam0, unknown uParam1)
{
    if (iParam0->_fU64 == 1)
    {
        return 0;
    }
    else
    {
        iParam0->_fU64 = sub_24933( sub_1194(), (iParam0^) );
        if ((iParam0->_fU64) AND (uParam1))
        {
            GAMEPLAY_HELPER_BOX_SET_ENABLED( iParam0 + 0, 0 );
        }
    }
    return iParam0->_fU64;
}

void sub_26916()
{
    sub_845( "NS", "P_AUD_VIG_04_WOMAN", 0 );
    sub_23527( ref l_U2310 );
    sub_23824( 1, l_U1285, 1290977924, ref l_U2310, 2, 0 );
    sub_23609( 0, sub_1194(), "MAX", ref l_U2310, 2, 0 );
    sub_24035( "SFV1_VIG04B", ref l_U2310, 4, 1 );
    return;
}

void sub_27154()
{
    sub_845( "NS", "P_AUD_KID_BECKON_L", 0 );
    sub_23527( ref l_U2210 );
    sub_23609( 0, sub_1194(), "MAX", ref l_U2210, 2, 0 );
    sub_23824( 1, l_U1271, -48688530, ref l_U2210, 2, 0 );
    sub_24035( "SFV1_VIG01L", ref l_U2210, 4, 1 );
    return;
}

void sub_27304(int iParam0, unknown uParam1, unknown uParam2)
{
    if (iParam0->_fU68 == 1)
    {
        return 0;
    }
    else
    {
        iParam0->_fU68 = sub_24933( uParam1, (iParam0^) );
        if ((iParam0->_fU68) AND (uParam2))
        {
            GAMEPLAY_HELPER_BOX_SET_ENABLED( iParam0 + 0, 0 );
        }
    }
    return iParam0->_fU68;
}

void sub_27475(unknown uParam0, unknown uParam1, unknown uParam2)
{
    sub_845( "rw", "P_PLAYER_LOOK_AT_Coord", 0 );
    if (NOT (IS_PED_DEAD( sub_1194() )))
    {
        CLEAR_PED_PRIMARY_LOOKAT( sub_1194() );
    }
    sub_18570();
    if (NOT (IS_PED_DEAD( sub_1194() )))
    {
        SET_COORD_PRIMARY_LOOKAT( sub_1194(), uParam0 );
    }
    return;
}

void sub_27673(unknown uParam0, unknown uParam1, unknown uParam2)
{
    sub_845( "rw", "P_RUN_SPECIFIC_INTERLACE_FX", 0 );
    if (IS_SCRIPTEDFX_ENABLED() == 1)
    {
        PLAY_IMAGEFX( uParam0, uParam1, uParam2 );
    }
    return;
}

void sub_27829()
{
    sub_845( "SP", "P_SETUP_VIG_07", 0 );
    sub_1830( l_U1815 );
    l_U1815 = sub_17685( ref l_U1816 );
    if (((IS_PED_DEAD( l_U1815 )) == 0) AND ((DOES_PED_EXIST( l_U1815 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U1815, "piDJVig07" );
    }
    sub_1830( l_U1829 );
    l_U1829 = sub_17685( ref l_U1830 );
    if (((IS_PED_DEAD( l_U1829 )) == 0) AND ((DOES_PED_EXIST( l_U1829 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U1829, "piBroVig07" );
    }
    sub_1830( l_U1843 );
    l_U1843 = sub_17685( ref l_U1844 );
    if (((IS_PED_DEAD( l_U1843 )) == 0) AND ((DOES_PED_EXIST( l_U1843 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U1843, "piDance1Vig07" );
    }
    sub_1830( l_U1857 );
    l_U1857 = sub_17685( ref l_U1858 );
    if (((IS_PED_DEAD( l_U1857 )) == 0) AND ((DOES_PED_EXIST( l_U1857 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U1857, "piDance2Vig07" );
    }
    sub_1830( l_U1871 );
    l_U1871 = sub_17685( ref l_U1872 );
    if (((IS_PED_DEAD( l_U1871 )) == 0) AND ((DOES_PED_EXIST( l_U1871 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U1871, "piDance3Vig07" );
    }
    sub_1830( l_U1885 );
    l_U1885 = sub_17685( ref l_U1886 );
    if (((IS_PED_DEAD( l_U1885 )) == 0) AND ((DOES_PED_EXIST( l_U1885 )) == 1))
    {
        SET_PED_NAME_DEBUG( l_U1885, "piDance4Vig07" );
    }
    ISEQ_REGISTER_ENTITY( -147405084, "DJ", l_U1815, 0 );
    ISEQ_REGISTER_ENTITY( -147405084, "bro", l_U1829, 0 );
    ISEQ_REGISTER_ENTITY( -147405084, "dance1", l_U1843, 0 );
    ISEQ_REGISTER_ENTITY( -147405084, "dance2", l_U1857, 0 );
    ISEQ_REGISTER_ENTITY( -147405084, "dance3", l_U1871, 0 );
    ISEQ_REGISTER_ENTITY( -147405084, "dance4", l_U1885, 0 );
    ISEQ_START( -147405084 );
    return;
}

void sub_28576()
{
    sub_845( "SA", "P_LIMIT_PLAYER_ACTIONS", "###" );
    if (((IS_PED_DEAD( sub_1194() )) == 0) AND ((IS_PLAYER_DEAD( sub_1216() )) == 0))
    {
        SET_PLAYER_CONTROL( sub_1216(), 0, 0 );
        REENABLE_PLAYER_INPUT( 7 );
        REENABLE_PLAYER_INPUT( 10 );
        REENABLE_PLAYER_INPUT( 11 );
        REENABLE_PLAYER_INPUT( 12 );
        REENABLE_PLAYER_INPUT( 13 );
        REENABLE_PLAYER_INPUT( 14 );
        REENABLE_PLAYER_INPUT( 15 );
        REENABLE_PLAYER_INPUT( 16 );
        REENABLE_PLAYER_INPUT( 17 );
        REENABLE_PLAYER_INPUT( 19 );
        REENABLE_PLAYER_INPUT( 22 );
    }
    return;
}

void sub_29108(int iParam0, int iParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, unknown uParam7, unknown uParam8, int iParam9)
{
    int iVar12;
    int iVar13;
    int iVar14;
    int iVar15;
    int iVar16;

    sub_845( "GA", "Saving the player data for checkpoint - Start", 0 );
    if ((IS_PED_DEAD( uParam2 )) == 0)
    {
        sub_845( "SP", "Saving to scripted data...", 0 );
        RESET_CHECKPOINT_ATTEMPTS();
        if (SCRIPT_VAR_EXISTS( "SV_SAVE_CNT" ))
        {
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", (SCRIPT_VAR_GET_INT( "SV_SAVE_CNT" )) + 1 );
        }
        else
        {
            SCRIPT_VAR_ADD_INT( "SV_SAVE_CNT" );
            SCRIPT_VAR_SET_INT( "SV_SAVE_CNT", 1 );
        }
        sub_5680( iParam1 );
        sub_29367( iParam1 );
        iParam0->_fU52 = iParam1;
        iParam0->_fU4 = {uParam3};
        iParam0->_fU16 = uParam6;
        iParam0->_fU20 = uParam7;
        iParam0->_fU24 = uParam8;
        iParam0->_fU28 = GET_PED_HEALTH( uParam2 );
        iParam0->_fU56 = -1569615261;
        iParam0->_fU60 = -1569615261;
        iParam0->_fU64 = -1569615261;
        iParam0->_fU68 = -1569615261;
        iParam0->_fU72 = -1569615261;
        iParam0->_fU76 = 0;
        iParam0->_fU80 = 0;
        iParam0->_fU84 = 0;
        iParam0->_fU88 = 0;
        iParam0->_fU92 = 0;
        iVar12 = GET_WEAPON_FROM_HAND( uParam2, 0, 0 );
        iVar13 = GET_WEAPON_FROM_HAND( uParam2, 1, 0 );
        iVar14 = GET_WEAPON_FROM_HOLSTER( uParam2, 0 );
        iVar15 = GET_WEAPON_FROM_HOLSTER( uParam2, 1 );
        iVar16 = GET_WEAPON_FROM_HOLSTER( uParam2, 2 );
        if (GET_DOES_WEAPON_EXIST( iVar12 ))
        {
            iParam0->_fU68 = GET_WEAPON_TYPE( iVar12 );
            iParam0->_fU88 = (GET_WEAPON_AMMO( iVar12 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar12 ));
            sub_29818( iVar12, iParam0 + 120, iParam0 + 124 );
        }
        if (GET_DOES_WEAPON_EXIST( iVar13 ))
        {
            iParam0->_fU72 = GET_WEAPON_TYPE( iVar13 );
            iParam0->_fU92 = (GET_WEAPON_AMMO( iVar13 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar13 ));
            sub_29818( iVar13, iParam0 + 128, iParam0 + 132 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_30050( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar13 ) ))
                {
                    iParam0->_fU92 = GET_WEAPON_AMMO_IN_CLIP( iVar12 );
                }
            }
        }
        if ((iVar14 != iVar13) AND ((iVar14 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar14 ))))
        {
            iParam0->_fU56 = GET_WEAPON_TYPE( iVar14 );
            iParam0->_fU76 = (GET_WEAPON_AMMO( iVar14 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar14 ));
            sub_29818( iVar14, iParam0 + 96, iParam0 + 100 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_30050( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if (sub_30050( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar14 ) ))
                {
                    iParam0->_fU76 = GET_WEAPON_AMMO_IN_CLIP( iVar14 );
                }
            }
        }
        if ((iVar15 != iVar13) AND ((iVar15 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar15 ))))
        {
            iParam0->_fU60 = GET_WEAPON_TYPE( iVar15 );
            iParam0->_fU80 = (GET_WEAPON_AMMO( iVar15 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar15 ));
            sub_29818( iVar15, iParam0 + 104, iParam0 + 108 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_30050( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if (sub_30050( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if (sub_30050( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar15 ) ))
                {
                    iParam0->_fU80 = GET_WEAPON_AMMO_IN_CLIP( iVar15 );
                }
            }
        }
        if ((iVar16 != iVar13) AND ((iVar16 != iVar12) AND (GET_DOES_WEAPON_EXIST( iVar16 ))))
        {
            iParam0->_fU64 = GET_WEAPON_TYPE( iVar16 );
            iParam0->_fU84 = (GET_WEAPON_AMMO( iVar16 )) + (GET_WEAPON_AMMO_IN_CLIP( iVar16 ));
            sub_29818( iVar16, iParam0 + 112, iParam0 + 116 );
            if (GET_DOES_WEAPON_EXIST( iVar12 ))
            {
                if (sub_30050( GET_WEAPON_TYPE( iVar12 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar13 ))
            {
                if (sub_30050( GET_WEAPON_TYPE( iVar13 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar14 ))
            {
                if (sub_30050( GET_WEAPON_TYPE( iVar14 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
            if (GET_DOES_WEAPON_EXIST( iVar15 ))
            {
                if (sub_30050( GET_WEAPON_TYPE( iVar15 ), GET_WEAPON_TYPE( iVar16 ) ))
                {
                    iParam0->_fU84 = GET_WEAPON_AMMO_IN_CLIP( iVar16 );
                }
            }
        }
        SAVE_PICKUPS();
        iParam0->_fU32 = GET_ADRENALINE_AMT();
        iParam0->_fU36 = GET_PAYNEKILLER_AMT();
        GET_TIME_OF_DAY( iParam0 + 40, iParam0 + 44 );
        iParam0->_fU140 = IS_TIME_OF_DAY_FROZEN();
        iParam0->_fU136 = GET_PED_SWEAT( uParam2 );
        if (iParam9 == 1)
        {
            if (IS_MAGDEMO() == 0)
            {
                ENABLE_CHECKPOINT_ICON();
            }
        }
        if (iParam1 >= 0)
        {
            sub_31608( iParam0 );
            iParam0->_fU0 = 1;
            if (IS_ARCADE_MODE_ACTIVE() == 0)
            {
                CHECKPOINT_STORAGE_SAVE( iParam0, l_U1, iParam0->_fU52 );
                REQUEST_SAVE();
            }
        }
        if (IS_ARCADE_MODE_ACTIVE())
        {
            UPDATE_ARCADE_CHECK_POINT( iParam0->_fU52 );
        }
    }
    else
    {
        SCRIPT_ASSERT( "Error: Player is dead while saving a checkpoint!!!", 0 );
    }
    sub_845( "GA", "Saving the player data for checkpoint - End", 0 );
    return;
}

void sub_29367(int iParam0)
{
    unknown uVar3;
    unknown uVar4;
    unknown uVar5;
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;
    unknown uVar9;
    unknown uVar10;
    unknown uVar11;
    unknown uVar12;
    unknown uVar13;
    unknown uVar14;
    unknown uVar15;
    unknown uVar16;
    unknown uVar17;
    unknown uVar18;
    unknown uVar19;
    unknown uVar20;
    unknown uVar21;
    unknown uVar22;
    unknown uVar23;
    unknown uVar24;
    unknown uVar25;
    unknown uVar26;
    unknown uVar27;
    unknown uVar28;
    unknown uVar29;
    unknown uVar30;
    unknown uVar31;
    unknown uVar32;
    unknown uVar33;
    unknown uVar34;
    unknown uVar35;

    if (iParam0 >= 0)
    {
        if (GET_NAME_OF_CURRENT_LEVEL( 64, ref uVar20 ))
        {
            uVar3 = sub_3044( ref uVar20 );
        }
        STRING_FORMAT( 64, ref uVar4, "M_{}_L_{}", 2, 513, uVar3, 513, iParam0 - 1 );
        sub_845( "TEH", "Ending context", 0 );
        sub_845( "TEH", "Ending context", 0 );
        END_CONTEXT( ref uVar4 );
    }
    return;
}

void sub_29818(unknown uParam0, unknown uParam1, unknown uParam2)
{
    int I;

    for ( I = 0; I < 26; I++ )
    {
        CLEAR_BIT( uParam1, I );
        CLEAR_BIT( uParam2, I );
        if (IS_WEAPON_ATTACHMENT_ENABLED( uParam0, I ))
        {
            SET_BIT( uParam1, I );
            if (IS_WEAPON_ATTACHMENT_TOGGLED( uParam0, I ))
            {
                SET_BIT( uParam2, I );
            }
        }
    }
    return;
}

void sub_30050(int iParam0, int iParam1)
{
    int Result;

    Result = 0;
    if ((iParam0 == -612753081) || ((iParam0 == 68019059) || ((iParam0 == 456708483) || ((iParam0 == -862236369) || (iParam0 == 406496141)))))
    {
        if ((iParam1 == -612753081) || ((iParam1 == 68019059) || ((iParam1 == 456708483) || ((iParam1 == -862236369) || (iParam1 == 406496141)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 724901397) || ((iParam0 == 57534114) || ((iParam0 == 1308526797) || ((iParam0 == -1074756423) || (iParam0 == -1013714740)))))
    {
        if ((iParam1 == 724901397) || ((iParam1 == 57534114) || ((iParam1 == 1308526797) || ((iParam1 == -1074756423) || (iParam1 == -1013714740)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 514118749) || ((iParam0 == -184942895) || ((iParam0 == -168327769) || ((iParam0 == 1845102363) || (iParam0 == 434544317)))))
    {
        if ((iParam1 == 514118749) || ((iParam1 == -184942895) || ((iParam1 == -168327769) || ((iParam1 == 1845102363) || (iParam1 == 434544317)))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -110877124) || (iParam0 == 319712764))
    {
        if ((iParam1 == -110877124) || (iParam1 == 319712764))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == -1464892298) || ((iParam0 == 1194438308) || ((iParam0 == -1404433099) || ((iParam0 == 1478009203) || ((iParam0 == -691403429) || (iParam0 == 1964270085))))))
    {
        if ((iParam1 == -1464892298) || ((iParam1 == 1194438308) || ((iParam1 == -1404433099) || ((iParam1 == 1478009203) || ((iParam1 == -691403429) || (iParam1 == 1964270085))))))
        {
            Result = 1;
        }
    }
    else if ((iParam0 == 10648147) || (iParam0 == 1224272620))
    {
        if ((iParam1 == 10648147) || (iParam1 == 1224272620))
        {
            Result = 1;
        }
    };;;;;;
    return Result;
}

void sub_31608(int iParam0)
{
    sub_4697( "CHECKPOINT DATA" );
    sub_31647( iParam0->_fU4 );
    sub_31670( iParam0->_fU16 );
    sub_31670( iParam0->_fU20 );
    sub_31670( iParam0->_fU24 );
    sub_31713( iParam0->_fU28 );
    sub_31713( iParam0->_fU56 );
    sub_31713( iParam0->_fU60 );
    sub_31713( iParam0->_fU64 );
    sub_31713( iParam0->_fU68 );
    sub_31713( iParam0->_fU72 );
    sub_31713( iParam0->_fU76 );
    sub_31713( iParam0->_fU80 );
    sub_31713( iParam0->_fU84 );
    sub_31713( iParam0->_fU88 );
    sub_31713( iParam0->_fU92 );
    sub_31670( iParam0->_fU32 );
    sub_31713( iParam0->_fU36 );
    sub_31713( iParam0->_fU40 );
    sub_31713( iParam0->_fU44 );
    sub_31670( iParam0->_fU136 );
    sub_31918( iParam0->_fU140 );
    sub_31713( iParam0->_fU52 );
    sub_4697( "---nRightHolsterAttachmentEnabled: " );
    sub_31713( iParam0->_fU96 );
    sub_4697( "---nRightHolsterAttachmentToggled: " );
    sub_31713( iParam0->_fU100 );
    sub_4697( "---nLeftHolsterAttachmentEnabled: " );
    sub_31713( iParam0->_fU104 );
    sub_4697( "---nLeftHolsterAttachmentToggled: " );
    sub_31713( iParam0->_fU108 );
    sub_4697( "---nRifleHolsterAttachmentEnabled: " );
    sub_31713( iParam0->_fU112 );
    sub_4697( "---nRifleHolsterAttachmentToggled: " );
    sub_31713( iParam0->_fU116 );
    sub_4697( "---nRightHandAttachmentEnabled: " );
    sub_31713( iParam0->_fU120 );
    sub_4697( "---nRightHandAttachmentToggled: " );
    sub_31713( iParam0->_fU124 );
    sub_4697( "---nLeftHandAttachmentEnabled: " );
    sub_31713( iParam0->_fU128 );
    sub_4697( "---nLeftHandAttachmentToggled: " );
    sub_31713( iParam0->_fU132 );
    sub_31713( l_U1 );
    sub_31713( 144 );
    return;
}

void sub_31647(unknown uParam0, unknown uParam1, unknown uParam2)
{
    return;
}

void sub_31670(unknown uParam0)
{
    return;
}

void sub_31713(unknown uParam0)
{
    return;
}

void sub_31918(boolean bParam0)
{
    if (bParam0)
    {
        ;
    }
    return;
}

void sub_32856()
{
    switch (l_U489)
    {
        case 1:
        sub_845( "SA", "eSppsState = SPPS_LOADING", 0 );
        if (sub_32937( ref l_U490 ))
        {
            sub_33375( ref l_U490 );
            sub_845( "SA", "eSppsState = SPPS_PLAYING", 0 );
            l_U489 = 2;
        }
        break;
        case 2: break;
    }
    return;
}

int sub_32937(unknown uParam0)
{
    int iVar3;

    iVar3 = sub_32949( uParam0 );
    if (iVar3 != -1)
    {
        if (iVar3 < (uParam0^))
        {
            sub_33062( ref (uParam0^)[iVar3] );
        }
    }
    if (iVar3 == -1)
    {
        return 1;
    }
    return 0;
}

int sub_32949(unknown uParam0)
{
    int Result;

    for ( Result = 0; Result < (uParam0^); Result++ )
    {
        if (((NOT (DOES_OBJECT_EXIST( (uParam0^)[Result]._fU24 ))) == 1) AND ((uParam0^)[Result]._fU48))
        {
            return Result;
        }
    }
    return -1;
}

int sub_33062(int iParam0)
{
    if (iParam0->_fU48 == 1)
    {
        iParam0->_fU24 = CREATE_SIMPLE_PED( iParam0->_fU0, iParam0->_fU8, iParam0->_fU20, iParam0->_fU4 );
        return 1;
        break;
    }
    SCRIPT_ASSERT( "SIMPLE PED STRUCT NOT INITIALIZED! Can Not Create Simple Ped From Unititialized Struct.", 0 );
    sub_845( "MF", "ERROR: SIMPLE PED STRUCT NOT INITIALIZED! Can Not Create Simple Ped From Unititialized Struct.", 0 );
    return 0;
}

int sub_33375(unknown uParam0)
{
    int I;

    for ( I = 0; I < (uParam0^); I++ )
    {
        sub_33412( ref (uParam0^)[I], "", "", 0 );
    }
    return 1;
}

int sub_33412(int iParam0, unknown uParam1, unknown uParam2, int iParam3)
{
    unknown uVar6;
    unknown uVar7;

    if (NOT (IS_STRING_NULL( uParam1 )))
    {
        uVar6 = uParam1;
    }
    else
    {
        uVar6 = iParam0->_fU28;
    }
    if (NOT (IS_STRING_NULL( uParam2 )))
    {
        uVar7 = uParam2;
    }
    else
    {
        uVar7 = iParam0->_fU32;
    }
    if (iParam0->_fU48 == 1)
    {
        PLAY_SIMPLE_PED_ANIM( iParam0->_fU24, uVar7, uVar6, iParam0->_fU36, iParam0->_fU40, iParam0->_fU44 );
        SET_OBJECT_ANIM_CURRENT_TIME( iParam0->_fU24, iParam0->_fU32, iParam0->_fU28, iParam0->_fU36 );
        return 1;
        break;
    }
    if (iParam3 == 1)
    {
        SCRIPT_ASSERT( "SIMPLE PED STRUCT NOT INITIALIZED! Can Not Play Anim From Unititialized Struct.", 0 );
    }
    sub_845( "MF", "SIMPLE PED STRUCT NOT INITIALIZED! Can Not Play Anim From Unititialized Struct.", 0 );
    return 0;
}

void sub_33864()
{
    if ((l_U1805._fU16) || ((NOT l_U1805._fU20) AND (l_U2105 > 1)))
    {
        sub_7242( ref l_U1805, 5500, 1, 0 );
        sub_18645( ref l_U1805 );
    }
    if (sub_22804( ref l_U1805 ))
    {
        if (NOT (IS_PED_DEAD( l_U1773 )))
        {
            PED_SET_ACTION_INTENTION( l_U1773, 47, 1000, 0.00000000, 0.00000000, 0.00000000 );
        }
    }
    return;
}

void sub_33999()
{
    if (l_U2202)
    {
        l_U1500 = sub_17685( ref l_U1501 );
        ISEQ_REGISTER_ENTITY( 774659676, "smoker", l_U1500, 0 );
        ISEQ_START( 774659676 );
        l_U1514 = sub_34093( -812709388, l_U1767, l_U1770, 0, 0, 0 );
        if (NOT (IS_PED_DEAD( l_U1500 )))
        {
            ATTACH_OBJECT_TO_PED( l_U1514, l_U1500, 55060, 0.11000000, 0.00000000, -0.01000000, -1.27000000, 0.00000000, 0.00000000, 0 );
        }
        if (NOT (IS_PED_DEAD( l_U1500 )))
        {
            CLEAR_PED_PRIMARY_LOOKAT( l_U1500 );
            SET_PED_PRIMARY_LOOKAT( l_U1500, sub_1194() );
        }
        l_U2202 = 0;
    }
    return;
}

void sub_34093(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3, unknown uParam4, unknown uParam5, unknown uParam6, boolean bParam7, int iParam8, unknown uParam9)
{
    unknown Result;

    if ((HAS_MODEL_LOADED( uParam0 )) == 0)
    {
        SCRIPT_ASSERT( "The model you are trying to create a object with MUST BE PRELOADED!!!!", 0 );
        sub_15442( uParam0, 1 );
    }
    Result = CREATE_OBJECT_NO_OFFSET( uParam0, uParam1, NOT bParam7, uParam9 );
    if (iParam8 == 1)
    {
        while ((DOES_OBJECT_EXIST( Result )) == 0)
        {
            WAIT( 0 );
        }
    }
    if ((DOES_OBJECT_EXIST( Result )) == 1)
    {
        SET_OBJECT_ROTATION( Result, uParam4 );
    }
    return Result;
}

void sub_34449()
{
    if (l_U2118 == 1)
    {
        if ((ISEQ_QUERY_STATE( -1281802346, 3 )) == 0)
        {
            if (((IS_PED_DEAD( l_U1285 )) == 0) AND ((DOES_PED_EXIST( l_U1285 )) == 1))
            {
                ISEQ_UNREGISTER_ENTITY( -1281802346, "BROOM" );
                ISEQ_UNREGISTER_ENTITY( -1281802346, "WOMAN" );
                RELEASE_SCRIPT_AUDIO_BANK();
                sub_1983( -1281802346, 1 );
                sub_1830( l_U1285 );
                sub_1909( l_U1299 );
            }
        }
    }
    if ((sub_22804( ref l_U461 )) == 1)
    {
        sub_22975( ref g_U958, 1 );
    }
    if ((sub_22804( ref l_U452 )) == 1)
    {
        sub_34650( ref g_U958, 0 );
    }
    return;
}

void sub_34650(int iParam0, int iParam1)
{
    if ((sub_19869( iParam0 )) == 0)
    {
        sub_19935( iParam0 );
    }
    if (iParam1 == 1)
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 1, 0.00000000 );
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, 0.00000000 );
    }
    else
    {
        SET_STATE_OF_CLOSEST_DOOR_OF_TYPE( iParam0->_fU0, iParam0->_fU4, 0, 0.00000000 );
    }
    return;
}

void sub_34783()
{
    int I;

    switch (l_U2378)
    {
        case 0: break;
        case 1:
        sub_11297( ref l_U2161[0], l_U2191, l_U2194, 1457465214, 4, 1, 1, 0, 0 );
        sub_11297( ref l_U2161[1], l_U2195, l_U2198, -1873598499, 4, 1, 1, 0, 0 );
        for ( I = 0; I < l_U2188; I++ )
        {
            sub_1830( l_U2188[I] );
            l_U2188[I] = sub_17685( ref l_U2161[I] );
            if (NOT (IS_PED_DEAD( l_U2188[I] )))
            {
                SET_BLOCKING_OF_NON_TEMPORARY_EVENTS( l_U2188[I], 1 );
                SET_PED_AIM_LOCKONABLE( l_U2188[I], 0 );
                SET_COLLISION_BETWEEN_PEDS( l_U2188[I], 0 );
                SET_PED_CAN_RAGDOLL_FROM_PLAYER_IMPACT( l_U2188[I], 0 );
                SET_PED_STAND_GROUND_ON_PLAYER_IMPACT( l_U2188[I], 1 );
            }
        }
        sub_20776( ref l_U2188, "piVig02ACivilians" );
        sub_6882( l_U2188[0], l_U2191, l_U2194 );
        sub_6882( l_U2188[1], l_U2195, l_U2198 );
        ISEQ_REGISTER_ENTITY( -1475510916, "PED1", l_U2188[0], 0 );
        ISEQ_REGISTER_ENTITY( -1475510916, "PED2", l_U2188[1], 0 );
        ISEQ_START( -1475510916 );
        sub_23527( ref l_U2260 );
        sub_23824( 0, l_U2188[0], -1873598499, ref l_U2260, 2, 0 );
        sub_23824( 2, l_U2188[1], -1873598499, ref l_U2260, 2, 0 );
        sub_24035( "SFV1_VIG02AB", ref l_U2260, 4, 1 );
        sub_7242( ref l_U2152, 8000, 1, 0 );
        sub_18645( ref l_U2152 );
        l_U2378 = 2;
        break;
        case 2:
        if (sub_22804( ref l_U2152 ))
        {
            l_U2378 = 3;
        }
        break;
        case 3:
        sub_2500( ref l_U2188 );
        ISEQ_UNREGISTER_ENTITY( -1475510916, "PED1" );
        ISEQ_UNREGISTER_ENTITY( -1475510916, "PED2" );
        sub_1983( -1475510916, 1 );
        l_U2378 = 0;
        break;
    }
    return;
}

void sub_35448()
{
    switch (l_U2377)
    {
        case 0: break;
        case 1:
        l_U2360[0] = {163.47000000, -296.00000000, -5.67000000};
        l_U2360[1] = {164.68000000, -292.12000000, -5.43000000};
        l_U2367[0] = 305.00000000;
        l_U2367[1] = 0;
        sub_2500( ref l_U2330 );
        sub_1909( l_U2370 );
        sub_11297( ref l_U2333[0], l_U2360[0], l_U2367[0], -1741633665, 7, 3, 2, 0, 0 );
        sub_11297( ref l_U2333[1], l_U2360[1], l_U2367[1], -1741633665, 7, 3, 2, 0, 0 );
        l_U2330[0] = sub_17685( ref l_U2333[0] );
        l_U2330[1] = sub_17685( ref l_U2333[1] );
        sub_35734( ref g_U965, -90.00000000, 90.00000000 );
        sub_19857( ref g_U965, 0, 1, 1065353216 );
        l_U2370 = sub_34093( -1193489045, l_U2371, l_U2374, 0, 0, 0 );
        if (DOES_OBJECT_EXIST( l_U2370 ))
        {
            FREEZE_OBJECT_POSITION( l_U2370, 1 );
        }
        sub_20776( ref l_U2330, "piVig02BNPC__" );
        if (DOES_PED_EXIST( l_U2330[1] ))
        {
            ;
        }
        if (DOES_PED_EXIST( l_U2330[0] ))
        {
            ISEQ_REGISTER_ENTITY( 1984731643, "door_npc2", l_U2330[0], 0 );
        }
        if (DOES_OBJECT_EXIST( l_U2370 ))
        {
            ISEQ_REGISTER_ENTITY( 1984731643, "door", l_U2370, 1 );
        }
        if (DOES_PED_EXIST( l_U2330[0] ))
        {
            sub_6882( l_U2330[0], l_U2360[0], l_U2367[0] );
        }
        if (DOES_PED_EXIST( l_U2330[1] ))
        {
            sub_6882( l_U2330[1], l_U2360[1], l_U2367[1] );
        }
        ISEQ_START( 1984731643 );
        sub_18496( ref l_U2330[0] );
        PLAY_SCRIPT_STREAM_FROM_COORD( 166.15000000, -296.44000000, -3.03000000, 0 );
        l_U2377 = 2;
        break;
        case 2:
        if (((ISEQ_QUERY_STATE( 1984731643, 3 )) == 0) || ((ISEQ_IS_LOADED( 1984731643 )) == 0))
        {
            l_U2377 = 3;
        }
        break;
        case 3:
        sub_2500( ref l_U2330 );
        l_U2377 = 0;
        break;
    }
    if (sub_22804( ref l_U389 ))
    {
        sub_36286();
    }
    return;
}

void sub_35734(int iParam0, float fParam1, float fParam2)
{
    if ((sub_19869( iParam0 )) == 0)
    {
        sub_19935( iParam0 );
    }
    if (fParam1 > fParam2)
    {
        ;
    }
    else
    {
        DOOR_FIND_CLOSEST_SET_LIMIT_MIN( iParam0->_fU0, iParam0->_fU4, fParam1 );
        DOOR_FIND_CLOSEST_SET_LIMIT_MAX( iParam0->_fU0, iParam0->_fU4, fParam2 );
    }
    return;
}

void sub_36286()
{
    sub_845( "rw", "P_START_VIG_02B_DIAGLOGUE_INSIDE", 0 );
    sub_23527( ref l_U2270 );
    sub_23824( 1, l_U2330[0], -1741633665, ref l_U2270, 2, 0 );
    sub_23609( 0, l_U2330[1], "M7_VOICE_INSIDE", ref l_U2270, 2, 0 );
    sub_24035( "SFV1_INConA", ref l_U2270, 4, 1 );
    return;
}

void sub_36456()
{
    if (NOT (IS_PED_DEAD( l_U1285 )))
    {
        if ((sub_36495( l_U1285, l_U2106 )) < 2)
        {
            sub_845( "SA", "Deleting OldWomen", 0 );
            sub_1830( l_U1285 );
            sub_35734( ref g_U958, 0.00000000, 110.00000000 );
        }
    }
    if (NOT (IS_PED_DEAD( l_U1915[0] )))
    {
        if ((sub_36495( l_U1915[0], l_U2109 )) < 2)
        {
            sub_845( "SA", "Deleting Walkers", 0 );
            sub_2500( ref l_U1915 );
        }
    }
    if (NOT (IS_PED_DEAD( l_U1899[0] )))
    {
        if ((sub_36495( l_U1899[0], l_U2115 )) < 2)
        {
            sub_845( "SA", "Deleting Knockers", 0 );
            sub_2500( ref l_U1899 );
        }
    }
    return;
}

void sub_36495(unknown uParam0, unknown uParam1, unknown uParam2, unknown uParam3)
{
    unknown uVar6;
    unknown uVar7;
    unknown uVar8;

    if (NOT (IS_PED_DEAD( uParam0 )))
    {
        uVar6 = {"[doubled result, dropped if not asigned]", "[doubled result, dropped if not asigned]", GET_PED_COORDS( uParam0 )};
    }
    else
    {
        return -1.00000000;
    }
    return VDIST( uVar6, uParam1 );
}

void sub_36818()
{
    if (l_U1727)
    {
        l_U1737[0] = sub_17685( ref l_U1740[0] );
        l_U1737[1] = sub_17685( ref l_U1740[1] );
        ISEQ_REGISTER_ENTITY( 1016527665, "balcony4", l_U1737[0], 0 );
        ISEQ_REGISTER_ENTITY( 1016527665, "balcony5", l_U1737[1], 0 );
        l_U1300 = sub_34093( 723970757, 1.00000000, 1.00000000, 1.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        l_U1301 = sub_34093( 723970757, 1.00000000, 2.00000000, 1.00000000, 0.00000000, 0.00000000, 0.00000000, 0, 0, 0 );
        if (NOT (IS_PED_DEAD( l_U1737[0] )))
        {
            ATTACH_OBJECT_TO_PED( l_U1300, l_U1737[0], 55060, 0.07000000, 0.14000000, 0.09000000, 0.60000000, 0.00000000, 0.00000000, 0 );
        }
        if (NOT (IS_PED_DEAD( l_U1737[1] )))
        {
            ATTACH_OBJECT_TO_PED( l_U1301, l_U1737[1], 54548, 0.04500000, 0.08500000, -0.05000000, -0.80000000, 0.20000000, 0.00000000, 0 );
        }
        ISEQ_START( 1016527665 );
        l_U1727 = 0;
    }
    return;
}

int sub_37461()
{
    if (sub_24915( l_U121 ))
    {
        if (NOT (sub_37491( ref l_U470 )))
        {
            sub_18645( ref l_U470 );
        }
        if (sub_22804( ref l_U470 ))
        {
            l_U2151 = 1;
        }
        if ((IS_SPHERE_VISIBLE( 162.06000000, -275.79000000, -5.68000000, 0.25000000, 0 )) AND (l_U2151))
        {
            return 1;
        }
    }
    return 0;
}

int sub_37491(int iParam0)
{
    if (iParam0->_fU20 == 1)
    {
        return 1;
    }
    if (iParam0->_fU16 == 1)
    {
        return 1;
    }
    return 0;
}

int sub_37782()
{
    unknown uVar2;
    int iVar3;
    int iVar4;

    switch (l_U57)
    {
        case 0: break;
        case 1:
        sub_1501( ref l_U425 );
        STOP_ALL_SCRIPTED_CONVERSATIONS( 0 );
        l_U57 = 2;
        break;
        case 2:
        sub_845( "SP", "e0702CutsceneState = CUTSCENE_SETUP", 0 );
        if ((IS_PED_DEAD( sub_1194() )) == 0)
        {
            CUTSCENE_REGISTER_PED_TELEPORT( sub_1194(), g_U749[2], g_U849[2] );
            CUTSCENE_SET_COVER_CAMERA_DIRECTION( g_U883[2], g_U917[2] );
        }
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A", 1727290733 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^0", -1574658047 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^1", 1730296322 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^2", -535375258 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^4", -2000358374 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^5", 1414310304 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^6", -698520675 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^7", 726823611 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^8", 700289018 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^9", 1758094711 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^10", -117152098 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^11", -1987255920 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^12", -434117360 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^13", 488356631 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^14", -1825935213 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^15", -669615669 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^16", 485891221 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^17", 817197543 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^18", -1986655527 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^19", -165517242 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^25", -749213788 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^40", -1612788365 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^41", 1727290733 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^42", -1574658047 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^43", 1730296322 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^44", -535375258 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^45", -2000358374 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^46", 1414310304 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^47", -698520675 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^48", 726823611 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^49", 700289018 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^50", 1758094711 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "F_F1_MISC_A^51", -117152098 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "Fav_DJ_Fat", 85352649 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "Fav_Max_Kid", -48688530 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "Fav_MC_Avg", 1737208026 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "G_FAV_Mug_Avg", -31457820 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A", -437995602 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^0", 1491724695 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^1", 653940759 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^2", -1700505874 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^3", -1727457577 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^4", 1866427702 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^5", -786382824 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^6", 2130737148 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^7", 43652159 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^10", -1822119527 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^11", 429432776 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^12", 423366879 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^13", -1648862227 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^14", -1925999946 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^15", 1534000798 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^25", -398167434 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^40", -1586497969 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^41", -437995602 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^42", 1491724695 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^43", 94103835 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^44", -1648862227 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^45", -1727457577 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^46", 1866427702 );
        REGISTER_SCENE_PED_SEAMLESS_CUTSCENE( "M_F1_MISC_A^47", -786382824 );
        sub_1909( l_U1300 );
        sub_1909( l_U1301 );
        sub_1909( l_U1514 );
        ENABLE_STATIC_EMITTER( "S_FAV0_SE_INTRO_PARTY_MUSIC_CENTRE", 0 );
        CUTSCENE_DISABLE_FADE_IN_GAME_AT_END( 1 );
        CUTSCENE_ENABLE_SKIP( 0 );
        START_SEAMLESS_CUTSCENE();
        l_U57 = 3;
        sub_845( "SP", "e0702CutsceneState = CUTSCENE_FIRST_FRAME", 0 );
        break;
        case 3:
        sub_845( "SP", "e0702CutsceneState = CUTSCENE_FIRST_FRAME", 0 );
        sub_39958();
        SET_WEATHER_TYPE_NOW_PERSIST( "SUNNY_WINDY" );
        DO_SCREEN_FADE_IN( 0 );
        l_U57 = 4;
        sub_845( "SP", "e0702CutsceneState = CUTSCENE_PLAYING", 0 );
        break;
        case 4:
        sub_845( "SP", "e0702CutsceneState = CUTSCENE_PLAYING", 0 );
        if (HAS_CUTSCENE_FINISHED() == 1)
        {
            FREEZE_TIME_OF_DAY( 12, 0 );
            CLEAR_NAMED_CUTSCENE( "07_02_FAV1_concat" );
            if ((IS_SCREEN_FADING_OUT()) || (IS_SCREEN_FADED_OUT()))
            {
                g_U653 = 1;
                DO_SCREEN_FADE_OUT( 0 );
                LOAD_SCENE( 139.82000000, -260.95000000, -7.50000000 );
            }
            CAMERA_PLAY_ANIMATED( "LEVEL_S_FAV1_CP_02", "B_OUT_07_02_FAV1_FWD_CAM", 1, 139.43000000, -260.54000000, -7.34000000, 0.96000000, 0, 0 );
            ISEQ_REGISTER_ENTITY( 1836508187, "player", sub_1194(), 0 );
            ISEQ_START( 1836508187 );
            SET_GAMEPLAY_CAM_RELATIVE_HEADING( g_U883[2], 1065353216, 0 );
            SET_GAMEPLAY_CAM_RELATIVE_PITCH( g_U917[2], 1065353216, 0 );
            if (l_U374 == 0)
            {
                l_U374 = 1;
                REMOVE_ALL_PED_WEAPONS( sub_1194() );
                APPLY_PLAYER_PRELOAD_VARIATION( sub_1194(), 0 );
                CLEAR_PED_PROP( sub_1194(), 8 );
                CLEAR_PED_PROP( sub_1194(), 2 );
            }
            ENABLE_WALLA_ZONE( "S_FAV0_WZ_FAVELA", 1 );
            ENABLE_WALLA_ZONE( "S_FAV0_WZ_PARTY", 1 );
            l_U57 = 5;
        }
        else
        {
            uVar2 = GET_CUTSCENE_SECTION_PLAYING();
            iVar3 = GET_CUTSCENE_TIME();
            iVar4 = GET_CUTSCENE_TIME_MS();
            if ((GET_CUTSCENE_TIME_MS() > 111000) AND (g_U653 == 0))
            {
                g_U653 = 1;
            }
        }
        if (NOT l_U375)
        {
            if (iVar3 > 56)
            {
                CUTSCENE_MODEL_NO_LONGER_NEEDED( 1131142060 );
                CUTSCENE_MODEL_NO_LONGER_NEEDED( 104555044 );
                CUTSCENE_MODEL_NO_LONGER_NEEDED( -920786303 );
                SET_MODEL_AS_NO_LONGER_NEEDED( 1131142060 );
                SET_MODEL_AS_NO_LONGER_NEEDED( 104555044 );
                SET_MODEL_AS_NO_LONGER_NEEDED( -920786303 );
                l_U375 = 1;
            }
        }
        if (iVar4 > 56000)
        {
            if (HAS_MODEL_LOADED( 482975116 ))
            {
                sub_21602( 482975116 );
            }
            if (HAS_MODEL_LOADED( 1735415311 ))
            {
                sub_21602( 1735415311 );
            }
            if (HAS_MODEL_LOADED( 104555044 ))
            {
                sub_21602( 104555044 );
            }
            if (HAS_MODEL_LOADED( -920786303 ))
            {
                sub_21602( -920786303 );
            }
        }
        if ((g_U654 == 0) AND (iVar4 > 70000))
        {
            g_U654 = 1;
        }
        if ((NOT l_U374) AND (iVar4 > 53956))
        {
            l_U374 = 1;
            REMOVE_ALL_PED_WEAPONS( sub_1194() );
            CLEAR_PED_PROP( sub_1194(), 8 );
            CLEAR_PED_PROP( sub_1194(), 2 );
        }
        if ((NOT l_U1728) AND (iVar4 > 103365))
        {
            l_U1728 = 1;
            APPLY_PLAYER_PRELOAD_VARIATION( sub_1194(), 0 );
        }
        if ((g_U653 == 0) AND ((NOT ((IS_SCREEN_FADED_OUT()) || (IS_SCREEN_FADING_OUT()))) AND (iVar4 > 110000)))
        {
            ;
        }
        break;
        case 5:
        if (l_U2126)
        {
            if (IS_ANIMATED_CAMERA_PLAYING() == 1)
            {
                if (CAMERA_ANIMATED_CURRENT_TIME() >= ((CAMERA_ANIMATED_LENGTH( "LEVEL_S_FAV1_CP_02", "B_OUT_07_02_FAV1_FWD_CAM" )) - 1500))
                {
                    l_U2126 = 0;
                    CAMERA_ANIMATED_STOP( 1500, 1 );
                    return 1;
                }
            }
        }
        break;
    }
    return 0;
}

void sub_39958()
{
    sub_845( "SP", "P_CLEANUP_FOR_CUTSCENE", 0 );
    ISEQ_UNREGISTER_ENTITY( -125286029, "KID" );
    ISEQ_TERMINATE( -125286029 );
    ISEQ_UNREGISTER_ENTITY( 1984731643, "door_npc1" );
    ISEQ_UNREGISTER_ENTITY( 1984731643, "door_npc2" );
    ISEQ_UNREGISTER_ENTITY( 1984731643, "door" );
    ISEQ_TERMINATE( 1984731643 );
    ISEQ_UNREGISTER_ENTITY( -1281802346, "WOMAN" );
    ISEQ_TERMINATE( -1281802346 );
    ISEQ_UNREGISTER_ENTITY( -147405084, "DJ" );
    ISEQ_UNREGISTER_ENTITY( -147405084, "bro" );
    ISEQ_UNREGISTER_ENTITY( -147405084, "dance1" );
    ISEQ_UNREGISTER_ENTITY( -147405084, "dance2" );
    ISEQ_UNREGISTER_ENTITY( -147405084, "dance3" );
    ISEQ_UNREGISTER_ENTITY( -147405084, "dance4" );
    ISEQ_TERMINATE( -147405084 );
    ISEQ_UNREGISTER_ENTITY( 1016527665, "balcony4" );
    ISEQ_UNREGISTER_ENTITY( 1016527665, "balcony5" );
    ISEQ_TERMINATE( 1016527665 );
    ISEQ_UNREGISTER_ENTITY( -1086426398, "CIV" );
    ISEQ_UNREGISTER_ENTITY( -1086426398, "SHUTTERA" );
    ISEQ_UNREGISTER_ENTITY( -1086426398, "SHUTTERB" );
    ISEQ_TERMINATE( -1086426398 );
    sub_1652( ref l_U490 );
    sub_1830( l_U1773 );
    sub_1909( l_U1791 );
    sub_1909( l_U1798 );
    sub_40453( ref g_U1279 );
    sub_1830( l_U1271 );
    sub_2500( ref l_U2188 );
    sub_2500( ref l_U2330 );
    sub_1909( l_U2370 );
    sub_1830( l_U1285 );
    sub_1909( l_U1299 );
    sub_2500( ref l_U1915 );
    sub_2500( ref l_U1899 );
    sub_2500( ref l_U1945 );
    sub_2500( ref l_U1975 );
    sub_2500( ref l_U2033 );
    sub_1830( l_U1885 );
    sub_1830( l_U1843 );
    sub_1830( l_U1871 );
    sub_1830( l_U1857 );
    sub_1830( l_U1302 );
    sub_1830( l_U1815 );
    sub_1830( l_U1829 );
    sub_2500( ref l_U1737 );
    sub_1830( l_U1500 );
    return;
}

void sub_40453(unknown uParam0)
{
    REMOVE_ANIM_DICT( uParam0, 0 );
    return;
}

void sub_41939()
{
    sub_845( "SP", "P_UNLOAD_ASSETS", 0 );
    sub_21602( 1954287605 );
    sub_21602( g_U1299 );
    sub_21602( 482975116 );
    sub_21602( 1735415311 );
    sub_21602( -920786303 );
    sub_21602( 1131142060 );
    sub_21602( 1899377337 );
    sub_21602( -1193489045 );
    sub_21602( 723970757 );
    sub_21602( 2051896956 );
    sub_21602( 1826773926 );
    sub_42093( -862236369 );
    sub_40453( ref g_U1279 );
    sub_40453( ref l_U1037 );
    return;
}

void sub_42093(unknown uParam0)
{
    SET_WEAPON_AS_NO_LONGER_NEEDED( uParam0 );
    return;
}

void sub_42234()
{
    if (sub_22804( ref g_U738 ))
    {
        if (NOT (IS_PED_DEAD( sub_1194() )))
        {
            CLEAR_PED_PRIMARY_LOOKAT( sub_1194() );
        }
    }
    return;
}

